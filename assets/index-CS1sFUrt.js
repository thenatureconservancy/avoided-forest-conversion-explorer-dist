(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const y of c.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&a(y)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Hx(e){const t=Object.create(null);for(const i of e.split(","))t[i]=1;return i=>i in t}const Do={},Fp=[],zc=()=>{},kA=()=>!1,y2=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),qx=e=>e.startsWith("onUpdate:"),xr=Object.assign,Wx=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},MA=Object.prototype.hasOwnProperty,yo=(e,t)=>MA.call(e,t),un=Array.isArray,Cp=e=>Dg(e)==="[object Map]",qE=e=>Dg(e)==="[object Set]",AA=e=>Dg(e)==="[object RegExp]",Sn=e=>typeof e=="function",Xo=e=>typeof e=="string",Sl=e=>typeof e=="symbol",Jo=e=>e!==null&&typeof e=="object",WE=e=>(Jo(e)||Sn(e))&&Sn(e.then)&&Sn(e.catch),KE=Object.prototype.toString,Dg=e=>KE.call(e),OA=e=>Dg(e).slice(8,-1),ZE=e=>Dg(e)==="[object Object]",Kx=e=>Xo(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,C1=Hx(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),b2=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},LA=/-(\w)/g,Ls=b2(e=>e.replace(LA,(t,i)=>i?i.toUpperCase():"")),DA=/\B([A-Z])/g,uu=b2(e=>e.replace(DA,"-$1").toLowerCase()),v2=b2(e=>e.charAt(0).toUpperCase()+e.slice(1)),pb=b2(e=>e?`on${v2(e)}`:""),Zd=(e,t)=>!Object.is(e,t),E1=(e,...t)=>{for(let i=0;i<e.length;i++)e[i](...t)},QE=(e,t,i,a=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:a,value:i})},BA=e=>{const t=parseFloat(e);return isNaN(t)?e:t},jA=e=>{const t=Xo(e)?Number(e):NaN;return isNaN(t)?e:t};let U8;const x2=()=>U8||(U8=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Mr(e){if(un(e)){const t={};for(let i=0;i<e.length;i++){const a=e[i],l=Xo(a)?$A(a):Mr(a);if(l)for(const c in l)t[c]=l[c]}return t}else if(Xo(e)||Jo(e))return e}const zA=/;(?![^(]*\))/g,VA=/:([^]+)/,NA=/\/\*[^]*?\*\//g;function $A(e){const t={};return e.replace(NA,"").split(zA).forEach(i=>{if(i){const a=i.split(VA);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function Ii(e){let t="";if(Xo(e))t=e;else if(un(e))for(let i=0;i<e.length;i++){const a=Ii(e[i]);a&&(t+=a+" ")}else if(Jo(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}function Bg(e){if(!e)return null;let{class:t,style:i}=e;return t&&!Xo(t)&&(e.class=Ii(t)),i&&(e.style=Mr(i)),e}const UA="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",GA=Hx(UA);function XE(e){return!!e||e===""}const JE=e=>!!(e&&e.__v_isRef===!0),li=e=>Xo(e)?e:e==null?"":un(e)||Jo(e)&&(e.toString===KE||!Sn(e.toString))?JE(e)?li(e.value):JSON.stringify(e,YE,2):String(e),YE=(e,t)=>JE(t)?YE(e,t.value):Cp(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((i,[a,l],c)=>(i[U4(a,c)+" =>"]=l,i),{})}:qE(t)?{[`Set(${t.size})`]:[...t.values()].map(i=>U4(i))}:Sl(t)?U4(t):Jo(t)&&!un(t)&&!ZE(t)?String(t):t,U4=(e,t="")=>{var i;return Sl(e)?`Symbol(${(i=e.description)!=null?i:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Sa;class eS{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Sa,!t&&Sa&&(this.index=(Sa.scopes||(Sa.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,i;if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].pause();for(t=0,i=this.effects.length;t<i;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,i;if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].resume();for(t=0,i=this.effects.length;t<i;t++)this.effects[t].resume()}}run(t){if(this._active){const i=Sa;try{return Sa=this,t()}finally{Sa=i}}}on(){Sa=this}off(){Sa=this.parent}stop(t){if(this._active){this._active=!1;let i,a;for(i=0,a=this.effects.length;i<a;i++)this.effects[i].stop();for(this.effects.length=0,i=0,a=this.cleanups.length;i<a;i++)this.cleanups[i]();if(this.cleanups.length=0,this.scopes){for(i=0,a=this.scopes.length;i<a;i++)this.scopes[i].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0}}}function tS(e){return new eS(e)}function iS(){return Sa}function HA(e,t=!1){Sa&&Sa.cleanups.push(e)}let $o;const G4=new WeakSet;class nS{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Sa&&Sa.active&&Sa.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,G4.has(this)&&(G4.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||rS(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,G8(this),aS(this);const t=$o,i=cc;$o=this,cc=!0;try{return this.fn()}finally{sS(this),$o=t,cc=i,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Xx(t);this.deps=this.depsTail=void 0,G8(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?G4.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){L3(this)&&this.run()}get dirty(){return L3(this)}}let oS=0,S1,T1;function rS(e,t=!1){if(e.flags|=8,t){e.next=T1,T1=e;return}e.next=S1,S1=e}function Zx(){oS++}function Qx(){if(--oS>0)return;if(T1){let t=T1;for(T1=void 0;t;){const i=t.next;t.next=void 0,t.flags&=-9,t=i}}let e;for(;S1;){let t=S1;for(S1=void 0;t;){const i=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(a){e||(e=a)}t=i}}if(e)throw e}function aS(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function sS(e){let t,i=e.depsTail,a=i;for(;a;){const l=a.prevDep;a.version===-1?(a===i&&(i=l),Xx(a),qA(a)):t=a,a.dep.activeLink=a.prevActiveLink,a.prevActiveLink=void 0,a=l}e.deps=t,e.depsTail=i}function L3(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(cS(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function cS(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===$1))return;e.globalVersion=$1;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!L3(e)){e.flags&=-3;return}const i=$o,a=cc;$o=e,cc=!0;try{aS(e);const l=e.fn(e._value);(t.version===0||Zd(l,e._value))&&(e._value=l,t.version++)}catch(l){throw t.version++,l}finally{$o=i,cc=a,sS(e),e.flags&=-3}}function Xx(e,t=!1){const{dep:i,prevSub:a,nextSub:l}=e;if(a&&(a.nextSub=l,e.prevSub=void 0),l&&(l.prevSub=a,e.nextSub=void 0),i.subs===e&&(i.subs=a,!a&&i.computed)){i.computed.flags&=-5;for(let c=i.computed.deps;c;c=c.nextDep)Xx(c,!0)}!t&&!--i.sc&&i.map&&i.map.delete(i.key)}function qA(e){const{prevDep:t,nextDep:i}=e;t&&(t.nextDep=i,e.prevDep=void 0),i&&(i.prevDep=t,e.nextDep=void 0)}let cc=!0;const lS=[];function hu(){lS.push(cc),cc=!1}function fu(){const e=lS.pop();cc=e===void 0?!0:e}function G8(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const i=$o;$o=void 0;try{t()}finally{$o=i}}}let $1=0;class WA{constructor(t,i){this.sub=t,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Jx{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!$o||!cc||$o===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==$o)i=this.activeLink=new WA($o,this),$o.deps?(i.prevDep=$o.depsTail,$o.depsTail.nextDep=i,$o.depsTail=i):$o.deps=$o.depsTail=i,dS(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const a=i.nextDep;a.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=a),i.prevDep=$o.depsTail,i.nextDep=void 0,$o.depsTail.nextDep=i,$o.depsTail=i,$o.deps===i&&($o.deps=a)}return i}trigger(t){this.version++,$1++,this.notify(t)}notify(t){Zx();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{Qx()}}}function dS(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let a=t.deps;a;a=a.nextDep)dS(a)}const i=e.dep.subs;i!==e&&(e.prevSub=i,i&&(i.nextSub=e)),e.dep.subs=e}}const Ib=new WeakMap,Fh=Symbol(""),D3=Symbol(""),U1=Symbol("");function sa(e,t,i){if(cc&&$o){let a=Ib.get(e);a||Ib.set(e,a=new Map);let l=a.get(i);l||(a.set(i,l=new Jx),l.map=a,l.key=i),l.track()}}function _l(e,t,i,a,l,c){const y=Ib.get(e);if(!y){$1++;return}const n=x=>{x&&x.trigger()};if(Zx(),t==="clear")y.forEach(n);else{const x=un(e),C=x&&Kx(i);if(x&&i==="length"){const k=Number(a);y.forEach((O,B)=>{(B==="length"||B===U1||!Sl(B)&&B>=k)&&n(O)})}else switch((i!==void 0||y.has(void 0))&&n(y.get(i)),C&&n(y.get(U1)),t){case"add":x?C&&n(y.get("length")):(n(y.get(Fh)),Cp(e)&&n(y.get(D3)));break;case"delete":x||(n(y.get(Fh)),Cp(e)&&n(y.get(D3)));break;case"set":Cp(e)&&n(y.get(Fh));break}}Qx()}function KA(e,t){const i=Ib.get(e);return i&&i.get(t)}function ep(e){const t=ho(e);return t===e?t:(sa(t,"iterate",U1),As(e)?t:t.map(ca))}function w2(e){return sa(e=ho(e),"iterate",U1),e}const ZA={__proto__:null,[Symbol.iterator](){return H4(this,Symbol.iterator,ca)},concat(...e){return ep(this).concat(...e.map(t=>un(t)?ep(t):t))},entries(){return H4(this,"entries",e=>(e[1]=ca(e[1]),e))},every(e,t){return hl(this,"every",e,t,void 0,arguments)},filter(e,t){return hl(this,"filter",e,t,i=>i.map(ca),arguments)},find(e,t){return hl(this,"find",e,t,ca,arguments)},findIndex(e,t){return hl(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return hl(this,"findLast",e,t,ca,arguments)},findLastIndex(e,t){return hl(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return hl(this,"forEach",e,t,void 0,arguments)},includes(...e){return q4(this,"includes",e)},indexOf(...e){return q4(this,"indexOf",e)},join(e){return ep(this).join(e)},lastIndexOf(...e){return q4(this,"lastIndexOf",e)},map(e,t){return hl(this,"map",e,t,void 0,arguments)},pop(){return i1(this,"pop")},push(...e){return i1(this,"push",e)},reduce(e,...t){return H8(this,"reduce",e,t)},reduceRight(e,...t){return H8(this,"reduceRight",e,t)},shift(){return i1(this,"shift")},some(e,t){return hl(this,"some",e,t,void 0,arguments)},splice(...e){return i1(this,"splice",e)},toReversed(){return ep(this).toReversed()},toSorted(e){return ep(this).toSorted(e)},toSpliced(...e){return ep(this).toSpliced(...e)},unshift(...e){return i1(this,"unshift",e)},values(){return H4(this,"values",ca)}};function H4(e,t,i){const a=w2(e),l=a[t]();return a!==e&&!As(e)&&(l._next=l.next,l.next=()=>{const c=l._next();return c.value&&(c.value=i(c.value)),c}),l}const QA=Array.prototype;function hl(e,t,i,a,l,c){const y=w2(e),n=y!==e&&!As(e),x=y[t];if(x!==QA[t]){const O=x.apply(e,c);return n?ca(O):O}let C=i;y!==e&&(n?C=function(O,B){return i.call(this,ca(O),B,e)}:i.length>2&&(C=function(O,B){return i.call(this,O,B,e)}));const k=x.call(y,C,a);return n&&l?l(k):k}function H8(e,t,i,a){const l=w2(e);let c=i;return l!==e&&(As(e)?i.length>3&&(c=function(y,n,x){return i.call(this,y,n,x,e)}):c=function(y,n,x){return i.call(this,y,ca(n),x,e)}),l[t](c,...a)}function q4(e,t,i){const a=ho(e);sa(a,"iterate",U1);const l=a[t](...i);return(l===-1||l===!1)&&i6(i[0])?(i[0]=ho(i[0]),a[t](...i)):l}function i1(e,t,i=[]){hu(),Zx();const a=ho(e)[t].apply(e,i);return Qx(),fu(),a}const XA=Hx("__proto__,__v_isRef,__isVue"),uS=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Sl));function JA(e){Sl(e)||(e=String(e));const t=ho(this);return sa(t,"has",e),t.hasOwnProperty(e)}class hS{constructor(t=!1,i=!1){this._isReadonly=t,this._isShallow=i}get(t,i,a){if(i==="__v_skip")return t.__v_skip;const l=this._isReadonly,c=this._isShallow;if(i==="__v_isReactive")return!l;if(i==="__v_isReadonly")return l;if(i==="__v_isShallow")return c;if(i==="__v_raw")return a===(l?c?cO:gS:c?mS:pS).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(a)?t:void 0;const y=un(t);if(!l){let x;if(y&&(x=ZA[i]))return x;if(i==="hasOwnProperty")return JA}const n=Reflect.get(t,i,xo(t)?t:a);return(Sl(i)?uS.has(i):XA(i))||(l||sa(t,"get",i),c)?n:xo(n)?y&&Kx(i)?n:n.value:Jo(n)?l?e6(n):Yp(n):n}}class fS extends hS{constructor(t=!1){super(!1,t)}set(t,i,a,l){let c=t[i];if(!this._isShallow){const x=Ph(c);if(!As(a)&&!Ph(a)&&(c=ho(c),a=ho(a)),!un(t)&&xo(c)&&!xo(a))return x?!1:(c.value=a,!0)}const y=un(t)&&Kx(i)?Number(i)<t.length:yo(t,i),n=Reflect.set(t,i,a,xo(t)?t:l);return t===ho(l)&&(y?Zd(a,c)&&_l(t,"set",i,a):_l(t,"add",i,a)),n}deleteProperty(t,i){const a=yo(t,i);t[i];const l=Reflect.deleteProperty(t,i);return l&&a&&_l(t,"delete",i,void 0),l}has(t,i){const a=Reflect.has(t,i);return(!Sl(i)||!uS.has(i))&&sa(t,"has",i),a}ownKeys(t){return sa(t,"iterate",un(t)?"length":Fh),Reflect.ownKeys(t)}}class YA extends hS{constructor(t=!1){super(!0,t)}set(t,i){return!0}deleteProperty(t,i){return!0}}const eO=new fS,tO=new YA,iO=new fS(!0);const B3=e=>e,Zy=e=>Reflect.getPrototypeOf(e);function nO(e,t,i){return function(...a){const l=this.__v_raw,c=ho(l),y=Cp(c),n=e==="entries"||e===Symbol.iterator&&y,x=e==="keys"&&y,C=l[e](...a),k=i?B3:t?j3:ca;return!t&&sa(c,"iterate",x?D3:Fh),{next(){const{value:O,done:B}=C.next();return B?{value:O,done:B}:{value:n?[k(O[0]),k(O[1])]:k(O),done:B}},[Symbol.iterator](){return this}}}}function Qy(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function oO(e,t){const i={get(l){const c=this.__v_raw,y=ho(c),n=ho(l);e||(Zd(l,n)&&sa(y,"get",l),sa(y,"get",n));const{has:x}=Zy(y),C=t?B3:e?j3:ca;if(x.call(y,l))return C(c.get(l));if(x.call(y,n))return C(c.get(n));c!==y&&c.get(l)},get size(){const l=this.__v_raw;return!e&&sa(ho(l),"iterate",Fh),Reflect.get(l,"size",l)},has(l){const c=this.__v_raw,y=ho(c),n=ho(l);return e||(Zd(l,n)&&sa(y,"has",l),sa(y,"has",n)),l===n?c.has(l):c.has(l)||c.has(n)},forEach(l,c){const y=this,n=y.__v_raw,x=ho(n),C=t?B3:e?j3:ca;return!e&&sa(x,"iterate",Fh),n.forEach((k,O)=>l.call(c,C(k),C(O),y))}};return xr(i,e?{add:Qy("add"),set:Qy("set"),delete:Qy("delete"),clear:Qy("clear")}:{add(l){!t&&!As(l)&&!Ph(l)&&(l=ho(l));const c=ho(this);return Zy(c).has.call(c,l)||(c.add(l),_l(c,"add",l,l)),this},set(l,c){!t&&!As(c)&&!Ph(c)&&(c=ho(c));const y=ho(this),{has:n,get:x}=Zy(y);let C=n.call(y,l);C||(l=ho(l),C=n.call(y,l));const k=x.call(y,l);return y.set(l,c),C?Zd(c,k)&&_l(y,"set",l,c):_l(y,"add",l,c),this},delete(l){const c=ho(this),{has:y,get:n}=Zy(c);let x=y.call(c,l);x||(l=ho(l),x=y.call(c,l)),n&&n.call(c,l);const C=c.delete(l);return x&&_l(c,"delete",l,void 0),C},clear(){const l=ho(this),c=l.size!==0,y=l.clear();return c&&_l(l,"clear",void 0,void 0),y}}),["keys","values","entries",Symbol.iterator].forEach(l=>{i[l]=nO(l,e,t)}),i}function Yx(e,t){const i=oO(e,t);return(a,l,c)=>l==="__v_isReactive"?!e:l==="__v_isReadonly"?e:l==="__v_raw"?a:Reflect.get(yo(i,l)&&l in a?i:a,l,c)}const rO={get:Yx(!1,!1)},aO={get:Yx(!1,!0)},sO={get:Yx(!0,!1)};const pS=new WeakMap,mS=new WeakMap,gS=new WeakMap,cO=new WeakMap;function lO(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function dO(e){return e.__v_skip||!Object.isExtensible(e)?0:lO(OA(e))}function Yp(e){return Ph(e)?e:t6(e,!1,eO,rO,pS)}function _S(e){return t6(e,!1,iO,aO,mS)}function e6(e){return t6(e,!0,tO,sO,gS)}function t6(e,t,i,a,l){if(!Jo(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const c=l.get(e);if(c)return c;const y=dO(e);if(y===0)return e;const n=new Proxy(e,y===2?a:i);return l.set(e,n),n}function Qd(e){return Ph(e)?Qd(e.__v_raw):!!(e&&e.__v_isReactive)}function Ph(e){return!!(e&&e.__v_isReadonly)}function As(e){return!!(e&&e.__v_isShallow)}function i6(e){return e?!!e.__v_raw:!1}function ho(e){const t=e&&e.__v_raw;return t?ho(t):e}function F2(e){return!yo(e,"__v_skip")&&Object.isExtensible(e)&&QE(e,"__v_skip",!0),e}const ca=e=>Jo(e)?Yp(e):e,j3=e=>Jo(e)?e6(e):e;function xo(e){return e?e.__v_isRef===!0:!1}function ai(e){return yS(e,!1)}function uO(e){return yS(e,!0)}function yS(e,t){return xo(e)?e:new hO(e,t)}class hO{constructor(t,i){this.dep=new Jx,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?t:ho(t),this._value=i?t:ca(t),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(t){const i=this._rawValue,a=this.__v_isShallow||As(t)||Ph(t);t=a?t:ho(t),Zd(t,i)&&(this._rawValue=t,this._value=a?t:ca(t),this.dep.trigger())}}function dt(e){return xo(e)?e.value:e}const fO={get:(e,t,i)=>t==="__v_raw"?e:dt(Reflect.get(e,t,i)),set:(e,t,i,a)=>{const l=e[t];return xo(l)&&!xo(i)?(l.value=i,!0):Reflect.set(e,t,i,a)}};function bS(e){return Qd(e)?e:new Proxy(e,fO)}function pO(e){const t=un(e)?new Array(e.length):{};for(const i in e)t[i]=gO(e,i);return t}class mO{constructor(t,i,a){this._object=t,this._key=i,this._defaultValue=a,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return KA(ho(this._object),this._key)}}function gO(e,t,i){const a=e[t];return xo(a)?a:new mO(e,t,i)}class _O{constructor(t,i,a){this.fn=t,this.setter=i,this._value=void 0,this.dep=new Jx(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=$1-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=a}notify(){if(this.flags|=16,!(this.flags&8)&&$o!==this)return rS(this,!0),!0}get value(){const t=this.dep.track();return cS(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function yO(e,t,i=!1){let a,l;return Sn(e)?a=e:(a=e.get,l=e.set),new _O(a,l,i)}const Xy={},kb=new WeakMap;let gh;function bO(e,t=!1,i=gh){if(i){let a=kb.get(i);a||kb.set(i,a=[]),a.push(e)}}function vO(e,t,i=Do){const{immediate:a,deep:l,once:c,scheduler:y,augmentJob:n,call:x}=i,C=ce=>l?ce:As(ce)||l===!1||l===0?yl(ce,1):yl(ce);let k,O,B,L,V=!1,G=!1;if(xo(e)?(O=()=>e.value,V=As(e)):Qd(e)?(O=()=>C(e),V=!0):un(e)?(G=!0,V=e.some(ce=>Qd(ce)||As(ce)),O=()=>e.map(ce=>{if(xo(ce))return ce.value;if(Qd(ce))return C(ce);if(Sn(ce))return x?x(ce,2):ce()})):Sn(e)?t?O=x?()=>x(e,2):e:O=()=>{if(B){hu();try{B()}finally{fu()}}const ce=gh;gh=k;try{return x?x(e,3,[L]):e(L)}finally{gh=ce}}:O=zc,t&&l){const ce=O,he=l===!0?1/0:l;O=()=>yl(ce(),he)}const Q=iS(),Y=()=>{k.stop(),Q&&Q.active&&Wx(Q.effects,k)};if(c&&t){const ce=t;t=(...he)=>{ce(...he),Y()}}let J=G?new Array(e.length).fill(Xy):Xy;const re=ce=>{if(!(!(k.flags&1)||!k.dirty&&!ce))if(t){const he=k.run();if(l||V||(G?he.some((we,pe)=>Zd(we,J[pe])):Zd(he,J))){B&&B();const we=gh;gh=k;try{const pe=[he,J===Xy?void 0:G&&J[0]===Xy?[]:J,L];x?x(t,3,pe):t(...pe),J=he}finally{gh=we}}}else k.run()};return n&&n(re),k=new nS(O),k.scheduler=y?()=>y(re,!1):re,L=ce=>bO(ce,!1,k),B=k.onStop=()=>{const ce=kb.get(k);if(ce){if(x)x(ce,4);else for(const he of ce)he();kb.delete(k)}},t?a?re(!0):J=k.run():y?y(re.bind(null,!0),!0):k.run(),Y.pause=k.pause.bind(k),Y.resume=k.resume.bind(k),Y.stop=Y,Y}function yl(e,t=1/0,i){if(t<=0||!Jo(e)||e.__v_skip||(i=i||new Set,i.has(e)))return e;if(i.add(e),t--,xo(e))yl(e.value,t,i);else if(un(e))for(let a=0;a<e.length;a++)yl(e[a],t,i);else if(qE(e)||Cp(e))e.forEach(a=>{yl(a,t,i)});else if(ZE(e)){for(const a in e)yl(e[a],t,i);for(const a of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,a)&&yl(e[a],t,i)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function jg(e,t,i,a){try{return a?e(...a):e()}catch(l){C2(l,t,i)}}function uc(e,t,i,a){if(Sn(e)){const l=jg(e,t,i,a);return l&&WE(l)&&l.catch(c=>{C2(c,t,i)}),l}if(un(e)){const l=[];for(let c=0;c<e.length;c++)l.push(uc(e[c],t,i,a));return l}}function C2(e,t,i,a=!0){const l=t?t.vnode:null,{errorHandler:c,throwUnhandledErrorInProduction:y}=t&&t.appContext.config||Do;if(t){let n=t.parent;const x=t.proxy,C=`https://vuejs.org/error-reference/#runtime-${i}`;for(;n;){const k=n.ec;if(k){for(let O=0;O<k.length;O++)if(k[O](e,x,C)===!1)return}n=n.parent}if(c){hu(),jg(c,null,10,[e,x,C]),fu();return}}xO(e,i,l,a,y)}function xO(e,t,i,a=!0,l=!1){if(l)throw e;console.error(e)}const Ta=[];let Oc=-1;const Ep=[];let Dd=null,cp=0;const vS=Promise.resolve();let Mb=null;function Fl(e){const t=Mb||vS;return e?t.then(this?e.bind(this):e):t}function wO(e){let t=Oc+1,i=Ta.length;for(;t<i;){const a=t+i>>>1,l=Ta[a],c=G1(l);c<e||c===e&&l.flags&2?t=a+1:i=a}return t}function n6(e){if(!(e.flags&1)){const t=G1(e),i=Ta[Ta.length-1];!i||!(e.flags&2)&&t>=G1(i)?Ta.push(e):Ta.splice(wO(t),0,e),e.flags|=1,xS()}}function xS(){Mb||(Mb=vS.then(FS))}function FO(e){un(e)?Ep.push(...e):Dd&&e.id===-1?Dd.splice(cp+1,0,e):e.flags&1||(Ep.push(e),e.flags|=1),xS()}function q8(e,t,i=Oc+1){for(;i<Ta.length;i++){const a=Ta[i];if(a&&a.flags&2){if(e&&a.id!==e.uid)continue;Ta.splice(i,1),i--,a.flags&4&&(a.flags&=-2),a(),a.flags&4||(a.flags&=-2)}}}function wS(e){if(Ep.length){const t=[...new Set(Ep)].sort((i,a)=>G1(i)-G1(a));if(Ep.length=0,Dd){Dd.push(...t);return}for(Dd=t,cp=0;cp<Dd.length;cp++){const i=Dd[cp];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}Dd=null,cp=0}}const G1=e=>e.id==null?e.flags&2?-1:1/0:e.id;function FS(e){try{for(Oc=0;Oc<Ta.length;Oc++){const t=Ta[Oc];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),jg(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Oc<Ta.length;Oc++){const t=Ta[Oc];t&&(t.flags&=-2)}Oc=-1,Ta.length=0,wS(),Mb=null,(Ta.length||Ep.length)&&FS()}}let kr=null,CS=null;function Ab(e){const t=kr;return kr=e,CS=e&&e.type.__scopeId||null,t}function ti(e,t=kr,i){if(!t||e._n)return e;const a=(...l)=>{a._d&&o9(-1);const c=Ab(t);let y;try{y=e(...l)}finally{Ab(c),a._d&&o9(1)}return y};return a._n=!0,a._c=!0,a._d=!0,a}function Qo(e,t){if(kr===null)return e;const i=P2(kr),a=e.dirs||(e.dirs=[]);for(let l=0;l<t.length;l++){let[c,y,n,x=Do]=t[l];c&&(Sn(c)&&(c={mounted:c,updated:c}),c.deep&&yl(y),a.push({dir:c,instance:i,value:y,oldValue:void 0,arg:n,modifiers:x}))}return e}function dh(e,t,i,a){const l=e.dirs,c=t&&t.dirs;for(let y=0;y<l.length;y++){const n=l[y];c&&(n.oldValue=c[y].value);let x=n.dir[a];x&&(hu(),uc(x,i,8,[e.el,n,e,t]),fu())}}const ES=Symbol("_vte"),SS=e=>e.__isTeleport,R1=e=>e&&(e.disabled||e.disabled===""),W8=e=>e&&(e.defer||e.defer===""),K8=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Z8=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,z3=(e,t)=>{const i=e&&e.to;return Xo(i)?t?t(i):null:i},TS={name:"Teleport",__isTeleport:!0,process(e,t,i,a,l,c,y,n,x,C){const{mc:k,pc:O,pbc:B,o:{insert:L,querySelector:V,createText:G,createComment:Q}}=C,Y=R1(t.props);let{shapeFlag:J,children:re,dynamicChildren:ce}=t;if(e==null){const he=t.el=G(""),we=t.anchor=G("");L(he,i,a),L(we,i,a);const pe=(Ae,Ne)=>{J&16&&(l&&l.isCE&&(l.ce._teleportTarget=Ae),k(re,Ae,Ne,l,c,y,n,x))},De=()=>{const Ae=t.target=z3(t.props,V),Ne=RS(Ae,t,G,L);Ae&&(y!=="svg"&&K8(Ae)?y="svg":y!=="mathml"&&Z8(Ae)&&(y="mathml"),Y||(pe(Ae,Ne),mb(t,!1)))};Y&&(pe(i,we),mb(t,!0)),W8(t.props)?Pr(()=>{De(),t.el.__isMounted=!0},c):De()}else{if(W8(t.props)&&!e.el.__isMounted){Pr(()=>{TS.process(e,t,i,a,l,c,y,n,x,C),delete e.el.__isMounted},c);return}t.el=e.el,t.targetStart=e.targetStart;const he=t.anchor=e.anchor,we=t.target=e.target,pe=t.targetAnchor=e.targetAnchor,De=R1(e.props),Ae=De?i:we,Ne=De?he:pe;if(y==="svg"||K8(we)?y="svg":(y==="mathml"||Z8(we))&&(y="mathml"),ce?(B(e.dynamicChildren,ce,Ae,l,c,y,n),d6(e,t,!0)):x||O(e,t,Ae,Ne,l,c,y,n,!1),Y)De?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Jy(t,i,he,C,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const it=t.target=z3(t.props,V);it&&Jy(t,it,null,C,0)}else De&&Jy(t,we,pe,C,1);mb(t,Y)}},remove(e,t,i,{um:a,o:{remove:l}},c){const{shapeFlag:y,children:n,anchor:x,targetStart:C,targetAnchor:k,target:O,props:B}=e;if(O&&(l(C),l(k)),c&&l(x),y&16){const L=c||!R1(B);for(let V=0;V<n.length;V++){const G=n[V];a(G,t,i,L,!!G.dynamicChildren)}}},move:Jy,hydrate:CO};function Jy(e,t,i,{o:{insert:a},m:l},c=2){c===0&&a(e.targetAnchor,t,i);const{el:y,anchor:n,shapeFlag:x,children:C,props:k}=e,O=c===2;if(O&&a(y,t,i),(!O||R1(k))&&x&16)for(let B=0;B<C.length;B++)l(C[B],t,i,2);O&&a(n,t,i)}function CO(e,t,i,a,l,c,{o:{nextSibling:y,parentNode:n,querySelector:x,insert:C,createText:k}},O){const B=t.target=z3(t.props,x);if(B){const L=R1(t.props),V=B._lpa||B.firstChild;if(t.shapeFlag&16)if(L)t.anchor=O(y(e),t,n(e),i,a,l,c),t.targetStart=V,t.targetAnchor=V&&y(V);else{t.anchor=y(e);let G=V;for(;G;){if(G&&G.nodeType===8){if(G.data==="teleport start anchor")t.targetStart=G;else if(G.data==="teleport anchor"){t.targetAnchor=G,B._lpa=t.targetAnchor&&y(t.targetAnchor);break}}G=y(G)}t.targetAnchor||RS(B,t,k,C),O(V&&y(V),t,B,i,a,l,c)}mb(t,L)}return t.anchor&&y(t.anchor)}const EO=TS;function mb(e,t){const i=e.ctx;if(i&&i.ut){let a,l;for(t?(a=e.el,l=e.anchor):(a=e.targetStart,l=e.targetAnchor);a&&a!==l;)a.nodeType===1&&a.setAttribute("data-v-owner",i.uid),a=a.nextSibling;i.ut()}}function RS(e,t,i,a){const l=t.targetStart=i(""),c=t.targetAnchor=i("");return l[ES]=c,e&&(a(l,e),a(c,e)),c}const Bd=Symbol("_leaveCb"),Yy=Symbol("_enterCb");function SO(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Bh(()=>{e.isMounted=!0}),r6(()=>{e.isUnmounting=!0}),e}const Cs=[Function,Array],PS={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Cs,onEnter:Cs,onAfterEnter:Cs,onEnterCancelled:Cs,onBeforeLeave:Cs,onLeave:Cs,onAfterLeave:Cs,onLeaveCancelled:Cs,onBeforeAppear:Cs,onAppear:Cs,onAfterAppear:Cs,onAppearCancelled:Cs},IS=e=>{const t=e.subTree;return t.component?IS(t.component):t},TO={name:"BaseTransition",props:PS,setup(e,{slots:t}){const i=h6(),a=SO();return()=>{const l=t.default&&AS(t.default(),!0);if(!l||!l.length)return;const c=kS(l),y=ho(e),{mode:n}=y;if(a.isLeaving)return W4(c);const x=Q8(c);if(!x)return W4(c);let C=V3(x,y,a,i,O=>C=O);x.type!==da&&Ap(x,C);let k=i.subTree&&Q8(i.subTree);if(k&&k.type!==da&&!Vd(x,k)&&IS(i).type!==da){let O=V3(k,y,a,i);if(Ap(k,O),n==="out-in"&&x.type!==da)return a.isLeaving=!0,O.afterLeave=()=>{a.isLeaving=!1,i.job.flags&8||i.update(),delete O.afterLeave,k=void 0},W4(c);n==="in-out"&&x.type!==da?O.delayLeave=(B,L,V)=>{const G=MS(a,k);G[String(k.key)]=k,B[Bd]=()=>{L(),B[Bd]=void 0,delete C.delayedLeave,k=void 0},C.delayedLeave=()=>{V(),delete C.delayedLeave,k=void 0}}:k=void 0}else k&&(k=void 0);return c}}};function kS(e){let t=e[0];if(e.length>1){for(const i of e)if(i.type!==da){t=i;break}}return t}const RO=TO;function MS(e,t){const{leavingVNodes:i}=e;let a=i.get(t.type);return a||(a=Object.create(null),i.set(t.type,a)),a}function V3(e,t,i,a,l){const{appear:c,mode:y,persisted:n=!1,onBeforeEnter:x,onEnter:C,onAfterEnter:k,onEnterCancelled:O,onBeforeLeave:B,onLeave:L,onAfterLeave:V,onLeaveCancelled:G,onBeforeAppear:Q,onAppear:Y,onAfterAppear:J,onAppearCancelled:re}=t,ce=String(e.key),he=MS(i,e),we=(Ae,Ne)=>{Ae&&uc(Ae,a,9,Ne)},pe=(Ae,Ne)=>{const it=Ne[1];we(Ae,Ne),un(Ae)?Ae.every(ye=>ye.length<=1)&&it():Ae.length<=1&&it()},De={mode:y,persisted:n,beforeEnter(Ae){let Ne=x;if(!i.isMounted)if(c)Ne=Q||x;else return;Ae[Bd]&&Ae[Bd](!0);const it=he[ce];it&&Vd(e,it)&&it.el[Bd]&&it.el[Bd](),we(Ne,[Ae])},enter(Ae){let Ne=C,it=k,ye=O;if(!i.isMounted)if(c)Ne=Y||C,it=J||k,ye=re||O;else return;let Oe=!1;const ue=Ae[Yy]=ct=>{Oe||(Oe=!0,ct?we(ye,[Ae]):we(it,[Ae]),De.delayedLeave&&De.delayedLeave(),Ae[Yy]=void 0)};Ne?pe(Ne,[Ae,ue]):ue()},leave(Ae,Ne){const it=String(e.key);if(Ae[Yy]&&Ae[Yy](!0),i.isUnmounting)return Ne();we(B,[Ae]);let ye=!1;const Oe=Ae[Bd]=ue=>{ye||(ye=!0,Ne(),ue?we(G,[Ae]):we(V,[Ae]),Ae[Bd]=void 0,he[it]===e&&delete he[it])};he[it]=e,L?pe(L,[Ae,Oe]):Oe()},clone(Ae){const Ne=V3(Ae,t,i,a,l);return l&&l(Ne),Ne}};return De}function W4(e){if(E2(e))return e=Cl(e),e.children=null,e}function Q8(e){if(!E2(e))return SS(e.type)&&e.children?kS(e.children):e;const{shapeFlag:t,children:i}=e;if(i){if(t&16)return i[0];if(t&32&&Sn(i.default))return i.default()}}function Ap(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ap(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function AS(e,t=!1,i){let a=[],l=0;for(let c=0;c<e.length;c++){let y=e[c];const n=i==null?y.key:String(i)+String(y.key!=null?y.key:c);y.type===Ri?(y.patchFlag&128&&l++,a=a.concat(AS(y.children,t,n))):(t||y.type!==da)&&a.push(n!=null?Cl(y,{key:n}):y)}if(l>1)for(let c=0;c<a.length;c++)a[c].patchFlag=-2;return a}/*! #__NO_SIDE_EFFECTS__ */function to(e,t){return Sn(e)?xr({name:e.name},t,{setup:e}):e}function OS(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Ob(e,t,i,a,l=!1){if(un(e)){e.forEach((V,G)=>Ob(V,t&&(un(t)?t[G]:t),i,a,l));return}if(Ch(a)&&!l){a.shapeFlag&512&&a.type.__asyncResolved&&a.component.subTree.component&&Ob(e,t,i,a.component.subTree);return}const c=a.shapeFlag&4?P2(a.component):a.el,y=l?null:c,{i:n,r:x}=e,C=t&&t.r,k=n.refs===Do?n.refs={}:n.refs,O=n.setupState,B=ho(O),L=O===Do?()=>!1:V=>yo(B,V);if(C!=null&&C!==x&&(Xo(C)?(k[C]=null,L(C)&&(O[C]=null)):xo(C)&&(C.value=null)),Sn(x))jg(x,n,12,[y,k]);else{const V=Xo(x),G=xo(x);if(V||G){const Q=()=>{if(e.f){const Y=V?L(x)?O[x]:k[x]:x.value;l?un(Y)&&Wx(Y,c):un(Y)?Y.includes(c)||Y.push(c):V?(k[x]=[c],L(x)&&(O[x]=k[x])):(x.value=[c],e.k&&(k[e.k]=x.value))}else V?(k[x]=y,L(x)&&(O[x]=y)):G&&(x.value=y,e.k&&(k[e.k]=y))};y?(Q.id=-1,Pr(Q,i)):Q()}}}x2().requestIdleCallback;x2().cancelIdleCallback;const Ch=e=>!!e.type.__asyncLoader,E2=e=>e.type.__isKeepAlive,PO={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const i=h6(),a=i.ctx;if(!a.renderer)return()=>{const J=t.default&&t.default();return J&&J.length===1?J[0]:J};const l=new Map,c=new Set;let y=null;const n=i.suspense,{renderer:{p:x,m:C,um:k,o:{createElement:O}}}=a,B=O("div");a.activate=(J,re,ce,he,we)=>{const pe=J.component;C(J,re,ce,0,n),x(pe.vnode,J,re,ce,pe,n,he,J.slotScopeIds,we),Pr(()=>{pe.isDeactivated=!1,pe.a&&E1(pe.a);const De=J.props&&J.props.onVnodeMounted;De&&Ss(De,pe.parent,J)},n)},a.deactivate=J=>{const re=J.component;Db(re.m),Db(re.a),C(J,B,null,1,n),Pr(()=>{re.da&&E1(re.da);const ce=J.props&&J.props.onVnodeUnmounted;ce&&Ss(ce,re.parent,J),re.isDeactivated=!0},n)};function L(J){K4(J),k(J,i,n,!0)}function V(J){l.forEach((re,ce)=>{const he=q3(re.type);he&&!J(he)&&G(ce)})}function G(J){const re=l.get(J);re&&(!y||!Vd(re,y))?L(re):y&&K4(y),l.delete(J),c.delete(J)}Ir(()=>[e.include,e.exclude],([J,re])=>{J&&V(ce=>p1(J,ce)),re&&V(ce=>!p1(re,ce))},{flush:"post",deep:!0});let Q=null;const Y=()=>{Q!=null&&(Bb(i.subTree.type)?Pr(()=>{l.set(Q,eb(i.subTree))},i.subTree.suspense):l.set(Q,eb(i.subTree)))};return Bh(Y),DS(Y),r6(()=>{l.forEach(J=>{const{subTree:re,suspense:ce}=i,he=eb(re);if(J.type===he.type&&J.key===he.key){K4(he);const we=he.component.da;we&&Pr(we,ce);return}L(J)})}),()=>{if(Q=null,!t.default)return y=null;const J=t.default(),re=J[0];if(J.length>1)return y=null,J;if(!Op(re)||!(re.shapeFlag&4)&&!(re.shapeFlag&128))return y=null,re;let ce=eb(re);if(ce.type===da)return y=null,ce;const he=ce.type,we=q3(Ch(ce)?ce.type.__asyncResolved||{}:he),{include:pe,exclude:De,max:Ae}=e;if(pe&&(!we||!p1(pe,we))||De&&we&&p1(De,we))return ce.shapeFlag&=-257,y=ce,re;const Ne=ce.key==null?he:ce.key,it=l.get(Ne);return ce.el&&(ce=Cl(ce),re.shapeFlag&128&&(re.ssContent=ce)),Q=Ne,it?(ce.el=it.el,ce.component=it.component,ce.transition&&Ap(ce,ce.transition),ce.shapeFlag|=512,c.delete(Ne),c.add(Ne)):(c.add(Ne),Ae&&c.size>parseInt(Ae,10)&&G(c.values().next().value)),ce.shapeFlag|=256,y=ce,Bb(re.type)?re:ce}}},o6=PO;function p1(e,t){return un(e)?e.some(i=>p1(i,t)):Xo(e)?e.split(",").includes(t):AA(e)?(e.lastIndex=0,e.test(t)):!1}function IO(e,t){LS(e,"a",t)}function kO(e,t){LS(e,"da",t)}function LS(e,t,i=zr){const a=e.__wdc||(e.__wdc=()=>{let l=i;for(;l;){if(l.isDeactivated)return;l=l.parent}return e()});if(S2(t,a,i),i){let l=i.parent;for(;l&&l.parent;)E2(l.parent.vnode)&&MO(a,t,i,l),l=l.parent}}function MO(e,t,i,a){const l=S2(t,e,a,!0);BS(()=>{Wx(a[t],l)},i)}function K4(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function eb(e){return e.shapeFlag&128?e.ssContent:e}function S2(e,t,i=zr,a=!1){if(i){const l=i[e]||(i[e]=[]),c=t.__weh||(t.__weh=(...y)=>{hu();const n=zg(i),x=uc(t,i,e,y);return n(),fu(),x});return a?l.unshift(c):l.push(c),c}}const Tl=e=>(t,i=zr)=>{(!q1||e==="sp")&&S2(e,(...a)=>t(...a),i)},AO=Tl("bm"),Bh=Tl("m"),OO=Tl("bu"),DS=Tl("u"),r6=Tl("bum"),BS=Tl("um"),LO=Tl("sp"),DO=Tl("rtg"),BO=Tl("rtc");function jO(e,t=zr){S2("ec",e,t)}const a6="components",zO="directives";function Mi(e,t){return s6(a6,e,!0,t)||e}const jS=Symbol.for("v-ndc");function Wi(e){return Xo(e)?s6(a6,e,!1)||e:e||jS}function Nr(e){return s6(zO,e)}function s6(e,t,i=!0,a=!1){const l=kr||zr;if(l){const c=l.type;if(e===a6){const n=q3(c,!1);if(n&&(n===t||n===Ls(t)||n===v2(Ls(t))))return c}const y=X8(l[e]||c[e],t)||X8(l.appContext[e],t);return!y&&a?c:y}}function X8(e,t){return e&&(e[t]||e[Ls(t)]||e[v2(Ls(t))])}function wo(e,t,i,a){let l;const c=i,y=un(e);if(y||Xo(e)){const n=y&&Qd(e);let x=!1;n&&(x=!As(e),e=w2(e)),l=new Array(e.length);for(let C=0,k=e.length;C<k;C++)l[C]=t(x?ca(e[C]):e[C],C,void 0,c)}else if(typeof e=="number"){l=new Array(e);for(let n=0;n<e;n++)l[n]=t(n+1,n,void 0,c)}else if(Jo(e))if(e[Symbol.iterator])l=Array.from(e,(n,x)=>t(n,x,void 0,c));else{const n=Object.keys(e);l=new Array(n.length);for(let x=0,C=n.length;x<C;x++){const k=n[x];l[x]=t(e[k],k,x,c)}}else l=[];return l}function Ih(e,t){for(let i=0;i<t.length;i++){const a=t[i];if(un(a))for(let l=0;l<a.length;l++)e[a[l].name]=a[l].fn;else a&&(e[a.name]=a.key?(...l)=>{const c=a.fn(...l);return c&&(c.key=a.key),c}:a.fn)}return e}function mi(e,t,i={},a,l){if(kr.ce||kr.parent&&Ch(kr.parent)&&kr.parent.ce)return t!=="default"&&(i.name=t),ge(),Vt(Ri,null,[kt("slot",i,a&&a())],64);let c=e[t];c&&c._c&&(c._d=!1),ge();const y=c&&zS(c(i)),n=i.key||y&&y.key,x=Vt(Ri,{key:(n&&!Sl(n)?n:`_${t}`)+(!y&&a?"_fb":"")},y||(a?a():[]),y&&e._===1?64:-2);return!l&&x.scopeId&&(x.slotScopeIds=[x.scopeId+"-s"]),c&&c._c&&(c._d=!0),x}function zS(e){return e.some(t=>Op(t)?!(t.type===da||t.type===Ri&&!zS(t.children)):!0)?e:null}function tb(e,t){const i={};for(const a in e)i[/[A-Z]/.test(a)?`on:${a}`:pb(a)]=e[a];return i}const N3=e=>e?nT(e)?P2(e):N3(e.parent):null,P1=xr(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>N3(e.parent),$root:e=>N3(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>c6(e),$forceUpdate:e=>e.f||(e.f=()=>{n6(e.update)}),$nextTick:e=>e.n||(e.n=Fl.bind(e.proxy)),$watch:e=>sL.bind(e)}),Z4=(e,t)=>e!==Do&&!e.__isScriptSetup&&yo(e,t),VO={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:i,setupState:a,data:l,props:c,accessCache:y,type:n,appContext:x}=e;let C;if(t[0]!=="$"){const L=y[t];if(L!==void 0)switch(L){case 1:return a[t];case 2:return l[t];case 4:return i[t];case 3:return c[t]}else{if(Z4(a,t))return y[t]=1,a[t];if(l!==Do&&yo(l,t))return y[t]=2,l[t];if((C=e.propsOptions[0])&&yo(C,t))return y[t]=3,c[t];if(i!==Do&&yo(i,t))return y[t]=4,i[t];$3&&(y[t]=0)}}const k=P1[t];let O,B;if(k)return t==="$attrs"&&sa(e.attrs,"get",""),k(e);if((O=n.__cssModules)&&(O=O[t]))return O;if(i!==Do&&yo(i,t))return y[t]=4,i[t];if(B=x.config.globalProperties,yo(B,t))return B[t]},set({_:e},t,i){const{data:a,setupState:l,ctx:c}=e;return Z4(l,t)?(l[t]=i,!0):a!==Do&&yo(a,t)?(a[t]=i,!0):yo(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(c[t]=i,!0)},has({_:{data:e,setupState:t,accessCache:i,ctx:a,appContext:l,propsOptions:c}},y){let n;return!!i[y]||e!==Do&&yo(e,y)||Z4(t,y)||(n=c[0])&&yo(n,y)||yo(a,y)||yo(P1,y)||yo(l.config.globalProperties,y)},defineProperty(e,t,i){return i.get!=null?e._.accessCache[t]=0:yo(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}};function J8(e){return un(e)?e.reduce((t,i)=>(t[i]=null,t),{}):e}let $3=!0;function NO(e){const t=c6(e),i=e.proxy,a=e.ctx;$3=!1,t.beforeCreate&&Y8(t.beforeCreate,e,"bc");const{data:l,computed:c,methods:y,watch:n,provide:x,inject:C,created:k,beforeMount:O,mounted:B,beforeUpdate:L,updated:V,activated:G,deactivated:Q,beforeDestroy:Y,beforeUnmount:J,destroyed:re,unmounted:ce,render:he,renderTracked:we,renderTriggered:pe,errorCaptured:De,serverPrefetch:Ae,expose:Ne,inheritAttrs:it,components:ye,directives:Oe,filters:ue}=t;if(C&&$O(C,a,null),y)for(const pt in y){const Ut=y[pt];Sn(Ut)&&(a[pt]=Ut.bind(i))}if(l){const pt=l.call(i,i);Jo(pt)&&(e.data=Yp(pt))}if($3=!0,c)for(const pt in c){const Ut=c[pt],vt=Sn(Ut)?Ut.bind(i,i):Sn(Ut.get)?Ut.get.bind(i,i):zc,Bt=!Sn(Ut)&&Sn(Ut.set)?Ut.set.bind(i):zc,It=Li({get:vt,set:Bt});Object.defineProperty(a,pt,{enumerable:!0,configurable:!0,get:()=>It.value,set:St=>It.value=St})}if(n)for(const pt in n)VS(n[pt],a,i,pt);if(x){const pt=Sn(x)?x.call(i):x;Reflect.ownKeys(pt).forEach(Ut=>{gb(Ut,pt[Ut])})}k&&Y8(k,e,"c");function Ct(pt,Ut){un(Ut)?Ut.forEach(vt=>pt(vt.bind(i))):Ut&&pt(Ut.bind(i))}if(Ct(AO,O),Ct(Bh,B),Ct(OO,L),Ct(DS,V),Ct(IO,G),Ct(kO,Q),Ct(jO,De),Ct(BO,we),Ct(DO,pe),Ct(r6,J),Ct(BS,ce),Ct(LO,Ae),un(Ne))if(Ne.length){const pt=e.exposed||(e.exposed={});Ne.forEach(Ut=>{Object.defineProperty(pt,Ut,{get:()=>i[Ut],set:vt=>i[Ut]=vt})})}else e.exposed||(e.exposed={});he&&e.render===zc&&(e.render=he),it!=null&&(e.inheritAttrs=it),ye&&(e.components=ye),Oe&&(e.directives=Oe),Ae&&OS(e)}function $O(e,t,i=zc){un(e)&&(e=U3(e));for(const a in e){const l=e[a];let c;Jo(l)?"default"in l?c=lc(l.from||a,l.default,!0):c=lc(l.from||a):c=lc(l),xo(c)?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>c.value,set:y=>c.value=y}):t[a]=c}}function Y8(e,t,i){uc(un(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,i)}function VS(e,t,i,a){let l=a.includes(".")?YS(i,a):()=>i[a];if(Xo(e)){const c=t[e];Sn(c)&&Ir(l,c)}else if(Sn(e))Ir(l,e.bind(i));else if(Jo(e))if(un(e))e.forEach(c=>VS(c,t,i,a));else{const c=Sn(e.handler)?e.handler.bind(i):t[e.handler];Sn(c)&&Ir(l,c,e)}}function c6(e){const t=e.type,{mixins:i,extends:a}=t,{mixins:l,optionsCache:c,config:{optionMergeStrategies:y}}=e.appContext,n=c.get(t);let x;return n?x=n:!l.length&&!i&&!a?x=t:(x={},l.length&&l.forEach(C=>Lb(x,C,y,!0)),Lb(x,t,y)),Jo(t)&&c.set(t,x),x}function Lb(e,t,i,a=!1){const{mixins:l,extends:c}=t;c&&Lb(e,c,i,!0),l&&l.forEach(y=>Lb(e,y,i,!0));for(const y in t)if(!(a&&y==="expose")){const n=UO[y]||i&&i[y];e[y]=n?n(e[y],t[y]):t[y]}return e}const UO={data:e9,props:t9,emits:t9,methods:m1,computed:m1,beforeCreate:Ca,created:Ca,beforeMount:Ca,mounted:Ca,beforeUpdate:Ca,updated:Ca,beforeDestroy:Ca,beforeUnmount:Ca,destroyed:Ca,unmounted:Ca,activated:Ca,deactivated:Ca,errorCaptured:Ca,serverPrefetch:Ca,components:m1,directives:m1,watch:HO,provide:e9,inject:GO};function e9(e,t){return t?e?function(){return xr(Sn(e)?e.call(this,this):e,Sn(t)?t.call(this,this):t)}:t:e}function GO(e,t){return m1(U3(e),U3(t))}function U3(e){if(un(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=e[i];return t}return e}function Ca(e,t){return e?[...new Set([].concat(e,t))]:t}function m1(e,t){return e?xr(Object.create(null),e,t):t}function t9(e,t){return e?un(e)&&un(t)?[...new Set([...e,...t])]:xr(Object.create(null),J8(e),J8(t??{})):t}function HO(e,t){if(!e)return t;if(!t)return e;const i=xr(Object.create(null),e);for(const a in t)i[a]=Ca(e[a],t[a]);return i}function NS(){return{app:null,config:{isNativeTag:kA,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let qO=0;function WO(e,t){return function(a,l=null){Sn(a)||(a=xr({},a)),l!=null&&!Jo(l)&&(l=null);const c=NS(),y=new WeakSet,n=[];let x=!1;const C=c.app={_uid:qO++,_component:a,_props:l,_container:null,_context:c,_instance:null,version:TL,get config(){return c.config},set config(k){},use(k,...O){return y.has(k)||(k&&Sn(k.install)?(y.add(k),k.install(C,...O)):Sn(k)&&(y.add(k),k(C,...O))),C},mixin(k){return c.mixins.includes(k)||c.mixins.push(k),C},component(k,O){return O?(c.components[k]=O,C):c.components[k]},directive(k,O){return O?(c.directives[k]=O,C):c.directives[k]},mount(k,O,B){if(!x){const L=C._ceVNode||kt(a,l);return L.appContext=c,B===!0?B="svg":B===!1&&(B=void 0),O&&t?t(L,k):e(L,k,B),x=!0,C._container=k,k.__vue_app__=C,P2(L.component)}},onUnmount(k){n.push(k)},unmount(){x&&(uc(n,C._instance,16),e(null,C._container),delete C._container.__vue_app__)},provide(k,O){return c.provides[k]=O,C},runWithContext(k){const O=Eh;Eh=C;try{return k()}finally{Eh=O}}};return C}}let Eh=null;function gb(e,t){if(zr){let i=zr.provides;const a=zr.parent&&zr.parent.provides;a===i&&(i=zr.provides=Object.create(a)),i[e]=t}}function lc(e,t,i=!1){const a=zr||kr;if(a||Eh){const l=Eh?Eh._context.provides:a?a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:void 0;if(l&&e in l)return l[e];if(arguments.length>1)return i&&Sn(t)?t.call(a&&a.proxy):t}}function KO(){return!!(zr||kr||Eh)}const $S={},US=()=>Object.create($S),GS=e=>Object.getPrototypeOf(e)===$S;function ZO(e,t,i,a=!1){const l={},c=US();e.propsDefaults=Object.create(null),HS(e,t,l,c);for(const y in e.propsOptions[0])y in l||(l[y]=void 0);i?e.props=a?l:_S(l):e.type.props?e.props=l:e.props=c,e.attrs=c}function QO(e,t,i,a){const{props:l,attrs:c,vnode:{patchFlag:y}}=e,n=ho(l),[x]=e.propsOptions;let C=!1;if((a||y>0)&&!(y&16)){if(y&8){const k=e.vnode.dynamicProps;for(let O=0;O<k.length;O++){let B=k[O];if(T2(e.emitsOptions,B))continue;const L=t[B];if(x)if(yo(c,B))L!==c[B]&&(c[B]=L,C=!0);else{const V=Ls(B);l[V]=G3(x,n,V,L,e,!1)}else L!==c[B]&&(c[B]=L,C=!0)}}}else{HS(e,t,l,c)&&(C=!0);let k;for(const O in n)(!t||!yo(t,O)&&((k=uu(O))===O||!yo(t,k)))&&(x?i&&(i[O]!==void 0||i[k]!==void 0)&&(l[O]=G3(x,n,O,void 0,e,!0)):delete l[O]);if(c!==n)for(const O in c)(!t||!yo(t,O))&&(delete c[O],C=!0)}C&&_l(e.attrs,"set","")}function HS(e,t,i,a){const[l,c]=e.propsOptions;let y=!1,n;if(t)for(let x in t){if(C1(x))continue;const C=t[x];let k;l&&yo(l,k=Ls(x))?!c||!c.includes(k)?i[k]=C:(n||(n={}))[k]=C:T2(e.emitsOptions,x)||(!(x in a)||C!==a[x])&&(a[x]=C,y=!0)}if(c){const x=ho(i),C=n||Do;for(let k=0;k<c.length;k++){const O=c[k];i[O]=G3(l,x,O,C[O],e,!yo(C,O))}}return y}function G3(e,t,i,a,l,c){const y=e[i];if(y!=null){const n=yo(y,"default");if(n&&a===void 0){const x=y.default;if(y.type!==Function&&!y.skipFactory&&Sn(x)){const{propsDefaults:C}=l;if(i in C)a=C[i];else{const k=zg(l);a=C[i]=x.call(null,t),k()}}else a=x;l.ce&&l.ce._setProp(i,a)}y[0]&&(c&&!n?a=!1:y[1]&&(a===""||a===uu(i))&&(a=!0))}return a}const XO=new WeakMap;function qS(e,t,i=!1){const a=i?XO:t.propsCache,l=a.get(e);if(l)return l;const c=e.props,y={},n=[];let x=!1;if(!Sn(e)){const k=O=>{x=!0;const[B,L]=qS(O,t,!0);xr(y,B),L&&n.push(...L)};!i&&t.mixins.length&&t.mixins.forEach(k),e.extends&&k(e.extends),e.mixins&&e.mixins.forEach(k)}if(!c&&!x)return Jo(e)&&a.set(e,Fp),Fp;if(un(c))for(let k=0;k<c.length;k++){const O=Ls(c[k]);i9(O)&&(y[O]=Do)}else if(c)for(const k in c){const O=Ls(k);if(i9(O)){const B=c[k],L=y[O]=un(B)||Sn(B)?{type:B}:xr({},B),V=L.type;let G=!1,Q=!0;if(un(V))for(let Y=0;Y<V.length;++Y){const J=V[Y],re=Sn(J)&&J.name;if(re==="Boolean"){G=!0;break}else re==="String"&&(Q=!1)}else G=Sn(V)&&V.name==="Boolean";L[0]=G,L[1]=Q,(G||yo(L,"default"))&&n.push(O)}}const C=[y,n];return Jo(e)&&a.set(e,C),C}function i9(e){return e[0]!=="$"&&!C1(e)}const WS=e=>e[0]==="_"||e==="$stable",l6=e=>un(e)?e.map(Lc):[Lc(e)],JO=(e,t,i)=>{if(t._n)return t;const a=ti((...l)=>l6(t(...l)),i);return a._c=!1,a},KS=(e,t,i)=>{const a=e._ctx;for(const l in e){if(WS(l))continue;const c=e[l];if(Sn(c))t[l]=JO(l,c,a);else if(c!=null){const y=l6(c);t[l]=()=>y}}},ZS=(e,t)=>{const i=l6(t);e.slots.default=()=>i},QS=(e,t,i)=>{for(const a in t)(i||a!=="_")&&(e[a]=t[a])},YO=(e,t,i)=>{const a=e.slots=US();if(e.vnode.shapeFlag&32){const l=t._;l?(QS(a,t,i),i&&QE(a,"_",l,!0)):KS(t,a)}else t&&ZS(e,t)},eL=(e,t,i)=>{const{vnode:a,slots:l}=e;let c=!0,y=Do;if(a.shapeFlag&32){const n=t._;n?i&&n===1?c=!1:QS(l,t,i):(c=!t.$stable,KS(t,l)),y=t}else t&&(ZS(e,t),y={default:1});if(c)for(const n in l)!WS(n)&&y[n]==null&&delete l[n]},Pr=pL;function tL(e){return iL(e)}function iL(e,t){const i=x2();i.__VUE__=!0;const{insert:a,remove:l,patchProp:c,createElement:y,createText:n,createComment:x,setText:C,setElementText:k,parentNode:O,nextSibling:B,setScopeId:L=zc,insertStaticContent:V}=e,G=(ze,K,et,ot=null,Te=null,_e=null,Ye=void 0,qe=null,rt=!!K.dynamicChildren)=>{if(ze===K)return;ze&&!Vd(ze,K)&&(ot=$t(ze),St(ze,Te,_e,!0),ze=null),K.patchFlag===-2&&(rt=!1,K.dynamicChildren=null);const{type:Ge,ref:Mt,shapeFlag:nt}=K;switch(Ge){case R2:Q(ze,K,et,ot);break;case da:Y(ze,K,et,ot);break;case _b:ze==null&&J(K,et,ot,Ye);break;case Ri:ye(ze,K,et,ot,Te,_e,Ye,qe,rt);break;default:nt&1?he(ze,K,et,ot,Te,_e,Ye,qe,rt):nt&6?Oe(ze,K,et,ot,Te,_e,Ye,qe,rt):(nt&64||nt&128)&&Ge.process(ze,K,et,ot,Te,_e,Ye,qe,rt,Re)}Mt!=null&&Te&&Ob(Mt,ze&&ze.ref,_e,K||ze,!K)},Q=(ze,K,et,ot)=>{if(ze==null)a(K.el=n(K.children),et,ot);else{const Te=K.el=ze.el;K.children!==ze.children&&C(Te,K.children)}},Y=(ze,K,et,ot)=>{ze==null?a(K.el=x(K.children||""),et,ot):K.el=ze.el},J=(ze,K,et,ot)=>{[ze.el,ze.anchor]=V(ze.children,K,et,ot,ze.el,ze.anchor)},re=({el:ze,anchor:K},et,ot)=>{let Te;for(;ze&&ze!==K;)Te=B(ze),a(ze,et,ot),ze=Te;a(K,et,ot)},ce=({el:ze,anchor:K})=>{let et;for(;ze&&ze!==K;)et=B(ze),l(ze),ze=et;l(K)},he=(ze,K,et,ot,Te,_e,Ye,qe,rt)=>{K.type==="svg"?Ye="svg":K.type==="math"&&(Ye="mathml"),ze==null?we(K,et,ot,Te,_e,Ye,qe,rt):Ae(ze,K,Te,_e,Ye,qe,rt)},we=(ze,K,et,ot,Te,_e,Ye,qe)=>{let rt,Ge;const{props:Mt,shapeFlag:nt,transition:Et,dirs:Xt}=ze;if(rt=ze.el=y(ze.type,_e,Mt&&Mt.is,Mt),nt&8?k(rt,ze.children):nt&16&&De(ze.children,rt,null,ot,Te,Q4(ze,_e),Ye,qe),Xt&&dh(ze,null,ot,"created"),pe(rt,ze,ze.scopeId,Ye,ot),Mt){for(const wi in Mt)wi!=="value"&&!C1(wi)&&c(rt,wi,null,Mt[wi],_e,ot);"value"in Mt&&c(rt,"value",null,Mt.value,_e),(Ge=Mt.onVnodeBeforeMount)&&Ss(Ge,ot,ze)}Xt&&dh(ze,null,ot,"beforeMount");const Ti=nL(Te,Et);Ti&&Et.beforeEnter(rt),a(rt,K,et),((Ge=Mt&&Mt.onVnodeMounted)||Ti||Xt)&&Pr(()=>{Ge&&Ss(Ge,ot,ze),Ti&&Et.enter(rt),Xt&&dh(ze,null,ot,"mounted")},Te)},pe=(ze,K,et,ot,Te)=>{if(et&&L(ze,et),ot)for(let _e=0;_e<ot.length;_e++)L(ze,ot[_e]);if(Te){let _e=Te.subTree;if(K===_e||Bb(_e.type)&&(_e.ssContent===K||_e.ssFallback===K)){const Ye=Te.vnode;pe(ze,Ye,Ye.scopeId,Ye.slotScopeIds,Te.parent)}}},De=(ze,K,et,ot,Te,_e,Ye,qe,rt=0)=>{for(let Ge=rt;Ge<ze.length;Ge++){const Mt=ze[Ge]=qe?jd(ze[Ge]):Lc(ze[Ge]);G(null,Mt,K,et,ot,Te,_e,Ye,qe)}},Ae=(ze,K,et,ot,Te,_e,Ye)=>{const qe=K.el=ze.el;let{patchFlag:rt,dynamicChildren:Ge,dirs:Mt}=K;rt|=ze.patchFlag&16;const nt=ze.props||Do,Et=K.props||Do;let Xt;if(et&&uh(et,!1),(Xt=Et.onVnodeBeforeUpdate)&&Ss(Xt,et,K,ze),Mt&&dh(K,ze,et,"beforeUpdate"),et&&uh(et,!0),(nt.innerHTML&&Et.innerHTML==null||nt.textContent&&Et.textContent==null)&&k(qe,""),Ge?Ne(ze.dynamicChildren,Ge,qe,et,ot,Q4(K,Te),_e):Ye||Ut(ze,K,qe,null,et,ot,Q4(K,Te),_e,!1),rt>0){if(rt&16)it(qe,nt,Et,et,Te);else if(rt&2&&nt.class!==Et.class&&c(qe,"class",null,Et.class,Te),rt&4&&c(qe,"style",nt.style,Et.style,Te),rt&8){const Ti=K.dynamicProps;for(let wi=0;wi<Ti.length;wi++){const Ui=Ti[wi],uo=nt[Ui],jn=Et[Ui];(jn!==uo||Ui==="value")&&c(qe,Ui,uo,jn,Te,et)}}rt&1&&ze.children!==K.children&&k(qe,K.children)}else!Ye&&Ge==null&&it(qe,nt,Et,et,Te);((Xt=Et.onVnodeUpdated)||Mt)&&Pr(()=>{Xt&&Ss(Xt,et,K,ze),Mt&&dh(K,ze,et,"updated")},ot)},Ne=(ze,K,et,ot,Te,_e,Ye)=>{for(let qe=0;qe<K.length;qe++){const rt=ze[qe],Ge=K[qe],Mt=rt.el&&(rt.type===Ri||!Vd(rt,Ge)||rt.shapeFlag&70)?O(rt.el):et;G(rt,Ge,Mt,null,ot,Te,_e,Ye,!0)}},it=(ze,K,et,ot,Te)=>{if(K!==et){if(K!==Do)for(const _e in K)!C1(_e)&&!(_e in et)&&c(ze,_e,K[_e],null,Te,ot);for(const _e in et){if(C1(_e))continue;const Ye=et[_e],qe=K[_e];Ye!==qe&&_e!=="value"&&c(ze,_e,qe,Ye,Te,ot)}"value"in et&&c(ze,"value",K.value,et.value,Te)}},ye=(ze,K,et,ot,Te,_e,Ye,qe,rt)=>{const Ge=K.el=ze?ze.el:n(""),Mt=K.anchor=ze?ze.anchor:n("");let{patchFlag:nt,dynamicChildren:Et,slotScopeIds:Xt}=K;Xt&&(qe=qe?qe.concat(Xt):Xt),ze==null?(a(Ge,et,ot),a(Mt,et,ot),De(K.children||[],et,Mt,Te,_e,Ye,qe,rt)):nt>0&&nt&64&&Et&&ze.dynamicChildren?(Ne(ze.dynamicChildren,Et,et,Te,_e,Ye,qe),(K.key!=null||Te&&K===Te.subTree)&&d6(ze,K,!0)):Ut(ze,K,et,Mt,Te,_e,Ye,qe,rt)},Oe=(ze,K,et,ot,Te,_e,Ye,qe,rt)=>{K.slotScopeIds=qe,ze==null?K.shapeFlag&512?Te.ctx.activate(K,et,ot,Ye,rt):ue(K,et,ot,Te,_e,Ye,rt):ct(ze,K,rt)},ue=(ze,K,et,ot,Te,_e,Ye)=>{const qe=ze.component=xL(ze,ot,Te);if(E2(ze)&&(qe.ctx.renderer=Re),wL(qe,!1,Ye),qe.asyncDep){if(Te&&Te.registerDep(qe,Ct,Ye),!ze.el){const rt=qe.subTree=kt(da);Y(null,rt,K,et)}}else Ct(qe,ze,K,et,Te,_e,Ye)},ct=(ze,K,et)=>{const ot=K.component=ze.component;if(hL(ze,K,et))if(ot.asyncDep&&!ot.asyncResolved){pt(ot,K,et);return}else ot.next=K,ot.update();else K.el=ze.el,ot.vnode=K},Ct=(ze,K,et,ot,Te,_e,Ye)=>{const qe=()=>{if(ze.isMounted){let{next:nt,bu:Et,u:Xt,parent:Ti,vnode:wi}=ze;{const sn=XS(ze);if(sn){nt&&(nt.el=wi.el,pt(ze,nt,Ye)),sn.asyncDep.then(()=>{ze.isUnmounted||qe()});return}}let Ui=nt,uo;uh(ze,!1),nt?(nt.el=wi.el,pt(ze,nt,Ye)):nt=wi,Et&&E1(Et),(uo=nt.props&&nt.props.onVnodeBeforeUpdate)&&Ss(uo,Ti,nt,wi),uh(ze,!0);const jn=X4(ze),go=ze.subTree;ze.subTree=jn,G(go,jn,O(go.el),$t(go),ze,Te,_e),nt.el=jn.el,Ui===null&&fL(ze,jn.el),Xt&&Pr(Xt,Te),(uo=nt.props&&nt.props.onVnodeUpdated)&&Pr(()=>Ss(uo,Ti,nt,wi),Te)}else{let nt;const{el:Et,props:Xt}=K,{bm:Ti,m:wi,parent:Ui,root:uo,type:jn}=ze,go=Ch(K);if(uh(ze,!1),Ti&&E1(Ti),!go&&(nt=Xt&&Xt.onVnodeBeforeMount)&&Ss(nt,Ui,K),uh(ze,!0),Et&&hn){const sn=()=>{ze.subTree=X4(ze),hn(Et,ze.subTree,ze,Te,null)};go&&jn.__asyncHydrate?jn.__asyncHydrate(Et,ze,sn):sn()}else{uo.ce&&uo.ce._injectChildStyle(jn);const sn=ze.subTree=X4(ze);G(null,sn,et,ot,ze,Te,_e),K.el=sn.el}if(wi&&Pr(wi,Te),!go&&(nt=Xt&&Xt.onVnodeMounted)){const sn=K;Pr(()=>Ss(nt,Ui,sn),Te)}(K.shapeFlag&256||Ui&&Ch(Ui.vnode)&&Ui.vnode.shapeFlag&256)&&ze.a&&Pr(ze.a,Te),ze.isMounted=!0,K=et=ot=null}};ze.scope.on();const rt=ze.effect=new nS(qe);ze.scope.off();const Ge=ze.update=rt.run.bind(rt),Mt=ze.job=rt.runIfDirty.bind(rt);Mt.i=ze,Mt.id=ze.uid,rt.scheduler=()=>n6(Mt),uh(ze,!0),Ge()},pt=(ze,K,et)=>{K.component=ze;const ot=ze.vnode.props;ze.vnode=K,ze.next=null,QO(ze,K.props,ot,et),eL(ze,K.children,et),hu(),q8(ze),fu()},Ut=(ze,K,et,ot,Te,_e,Ye,qe,rt=!1)=>{const Ge=ze&&ze.children,Mt=ze?ze.shapeFlag:0,nt=K.children,{patchFlag:Et,shapeFlag:Xt}=K;if(Et>0){if(Et&128){Bt(Ge,nt,et,ot,Te,_e,Ye,qe,rt);return}else if(Et&256){vt(Ge,nt,et,ot,Te,_e,Ye,qe,rt);return}}Xt&8?(Mt&16&&Ji(Ge,Te,_e),nt!==Ge&&k(et,nt)):Mt&16?Xt&16?Bt(Ge,nt,et,ot,Te,_e,Ye,qe,rt):Ji(Ge,Te,_e,!0):(Mt&8&&k(et,""),Xt&16&&De(nt,et,ot,Te,_e,Ye,qe,rt))},vt=(ze,K,et,ot,Te,_e,Ye,qe,rt)=>{ze=ze||Fp,K=K||Fp;const Ge=ze.length,Mt=K.length,nt=Math.min(Ge,Mt);let Et;for(Et=0;Et<nt;Et++){const Xt=K[Et]=rt?jd(K[Et]):Lc(K[Et]);G(ze[Et],Xt,et,null,Te,_e,Ye,qe,rt)}Ge>Mt?Ji(ze,Te,_e,!0,!1,nt):De(K,et,ot,Te,_e,Ye,qe,rt,nt)},Bt=(ze,K,et,ot,Te,_e,Ye,qe,rt)=>{let Ge=0;const Mt=K.length;let nt=ze.length-1,Et=Mt-1;for(;Ge<=nt&&Ge<=Et;){const Xt=ze[Ge],Ti=K[Ge]=rt?jd(K[Ge]):Lc(K[Ge]);if(Vd(Xt,Ti))G(Xt,Ti,et,null,Te,_e,Ye,qe,rt);else break;Ge++}for(;Ge<=nt&&Ge<=Et;){const Xt=ze[nt],Ti=K[Et]=rt?jd(K[Et]):Lc(K[Et]);if(Vd(Xt,Ti))G(Xt,Ti,et,null,Te,_e,Ye,qe,rt);else break;nt--,Et--}if(Ge>nt){if(Ge<=Et){const Xt=Et+1,Ti=Xt<Mt?K[Xt].el:ot;for(;Ge<=Et;)G(null,K[Ge]=rt?jd(K[Ge]):Lc(K[Ge]),et,Ti,Te,_e,Ye,qe,rt),Ge++}}else if(Ge>Et)for(;Ge<=nt;)St(ze[Ge],Te,_e,!0),Ge++;else{const Xt=Ge,Ti=Ge,wi=new Map;for(Ge=Ti;Ge<=Et;Ge++){const Ln=K[Ge]=rt?jd(K[Ge]):Lc(K[Ge]);Ln.key!=null&&wi.set(Ln.key,Ge)}let Ui,uo=0;const jn=Et-Ti+1;let go=!1,sn=0;const or=new Array(jn);for(Ge=0;Ge<jn;Ge++)or[Ge]=0;for(Ge=Xt;Ge<=nt;Ge++){const Ln=ze[Ge];if(uo>=jn){St(Ln,Te,_e,!0);continue}let Mo;if(Ln.key!=null)Mo=wi.get(Ln.key);else for(Ui=Ti;Ui<=Et;Ui++)if(or[Ui-Ti]===0&&Vd(Ln,K[Ui])){Mo=Ui;break}Mo===void 0?St(Ln,Te,_e,!0):(or[Mo-Ti]=Ge+1,Mo>=sn?sn=Mo:go=!0,G(Ln,K[Mo],et,null,Te,_e,Ye,qe,rt),uo++)}const Or=go?oL(or):Fp;for(Ui=Or.length-1,Ge=jn-1;Ge>=0;Ge--){const Ln=Ti+Ge,Mo=K[Ln],an=Ln+1<Mt?K[Ln+1].el:ot;or[Ge]===0?G(null,Mo,et,an,Te,_e,Ye,qe,rt):go&&(Ui<0||Ge!==Or[Ui]?It(Mo,et,an,2):Ui--)}}},It=(ze,K,et,ot,Te=null)=>{const{el:_e,type:Ye,transition:qe,children:rt,shapeFlag:Ge}=ze;if(Ge&6){It(ze.component.subTree,K,et,ot);return}if(Ge&128){ze.suspense.move(K,et,ot);return}if(Ge&64){Ye.move(ze,K,et,Re);return}if(Ye===Ri){a(_e,K,et);for(let nt=0;nt<rt.length;nt++)It(rt[nt],K,et,ot);a(ze.anchor,K,et);return}if(Ye===_b){re(ze,K,et);return}if(ot!==2&&Ge&1&&qe)if(ot===0)qe.beforeEnter(_e),a(_e,K,et),Pr(()=>qe.enter(_e),Te);else{const{leave:nt,delayLeave:Et,afterLeave:Xt}=qe,Ti=()=>a(_e,K,et),wi=()=>{nt(_e,()=>{Ti(),Xt&&Xt()})};Et?Et(_e,Ti,wi):wi()}else a(_e,K,et)},St=(ze,K,et,ot=!1,Te=!1)=>{const{type:_e,props:Ye,ref:qe,children:rt,dynamicChildren:Ge,shapeFlag:Mt,patchFlag:nt,dirs:Et,cacheIndex:Xt}=ze;if(nt===-2&&(Te=!1),qe!=null&&Ob(qe,null,et,ze,!0),Xt!=null&&(K.renderCache[Xt]=void 0),Mt&256){K.ctx.deactivate(ze);return}const Ti=Mt&1&&Et,wi=!Ch(ze);let Ui;if(wi&&(Ui=Ye&&Ye.onVnodeBeforeUnmount)&&Ss(Ui,K,ze),Mt&6)di(ze.component,et,ot);else{if(Mt&128){ze.suspense.unmount(et,ot);return}Ti&&dh(ze,null,K,"beforeUnmount"),Mt&64?ze.type.remove(ze,K,et,Re,ot):Ge&&!Ge.hasOnce&&(_e!==Ri||nt>0&&nt&64)?Ji(Ge,K,et,!1,!0):(_e===Ri&&nt&384||!Te&&Mt&16)&&Ji(rt,K,et),ot&&Wt(ze)}(wi&&(Ui=Ye&&Ye.onVnodeUnmounted)||Ti)&&Pr(()=>{Ui&&Ss(Ui,K,ze),Ti&&dh(ze,null,K,"unmounted")},et)},Wt=ze=>{const{type:K,el:et,anchor:ot,transition:Te}=ze;if(K===Ri){ui(et,ot);return}if(K===_b){ce(ze);return}const _e=()=>{l(et),Te&&!Te.persisted&&Te.afterLeave&&Te.afterLeave()};if(ze.shapeFlag&1&&Te&&!Te.persisted){const{leave:Ye,delayLeave:qe}=Te,rt=()=>Ye(et,_e);qe?qe(ze.el,_e,rt):rt()}else _e()},ui=(ze,K)=>{let et;for(;ze!==K;)et=B(ze),l(ze),ze=et;l(K)},di=(ze,K,et)=>{const{bum:ot,scope:Te,job:_e,subTree:Ye,um:qe,m:rt,a:Ge}=ze;Db(rt),Db(Ge),ot&&E1(ot),Te.stop(),_e&&(_e.flags|=8,St(Ye,ze,K,et)),qe&&Pr(qe,K),Pr(()=>{ze.isUnmounted=!0},K),K&&K.pendingBranch&&!K.isUnmounted&&ze.asyncDep&&!ze.asyncResolved&&ze.suspenseId===K.pendingId&&(K.deps--,K.deps===0&&K.resolve())},Ji=(ze,K,et,ot=!1,Te=!1,_e=0)=>{for(let Ye=_e;Ye<ze.length;Ye++)St(ze[Ye],K,et,ot,Te)},$t=ze=>{if(ze.shapeFlag&6)return $t(ze.component.subTree);if(ze.shapeFlag&128)return ze.suspense.next();const K=B(ze.anchor||ze.el),et=K&&K[ES];return et?B(et):K};let ii=!1;const ni=(ze,K,et)=>{ze==null?K._vnode&&St(K._vnode,null,null,!0):G(K._vnode||null,ze,K,null,null,null,et),K._vnode=ze,ii||(ii=!0,q8(),wS(),ii=!1)},Re={p:G,um:St,m:It,r:Wt,mt:ue,mc:De,pc:Ut,pbc:Ne,n:$t,o:e};let zi,hn;return{render:ni,hydrate:zi,createApp:WO(ni,zi)}}function Q4({type:e,props:t},i){return i==="svg"&&e==="foreignObject"||i==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:i}function uh({effect:e,job:t},i){i?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function nL(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function d6(e,t,i=!1){const a=e.children,l=t.children;if(un(a)&&un(l))for(let c=0;c<a.length;c++){const y=a[c];let n=l[c];n.shapeFlag&1&&!n.dynamicChildren&&((n.patchFlag<=0||n.patchFlag===32)&&(n=l[c]=jd(l[c]),n.el=y.el),!i&&n.patchFlag!==-2&&d6(y,n)),n.type===R2&&(n.el=y.el)}}function oL(e){const t=e.slice(),i=[0];let a,l,c,y,n;const x=e.length;for(a=0;a<x;a++){const C=e[a];if(C!==0){if(l=i[i.length-1],e[l]<C){t[a]=l,i.push(a);continue}for(c=0,y=i.length-1;c<y;)n=c+y>>1,e[i[n]]<C?c=n+1:y=n;C<e[i[c]]&&(c>0&&(t[a]=i[c-1]),i[c]=a)}}for(c=i.length,y=i[c-1];c-- >0;)i[c]=y,y=t[y];return i}function XS(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:XS(t)}function Db(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const rL=Symbol.for("v-scx"),aL=()=>lc(rL);function Ir(e,t,i){return JS(e,t,i)}function JS(e,t,i=Do){const{immediate:a,deep:l,flush:c,once:y}=i,n=xr({},i),x=t&&a||!t&&c!=="post";let C;if(q1){if(c==="sync"){const L=aL();C=L.__watcherHandles||(L.__watcherHandles=[])}else if(!x){const L=()=>{};return L.stop=zc,L.resume=zc,L.pause=zc,L}}const k=zr;n.call=(L,V,G)=>uc(L,k,V,G);let O=!1;c==="post"?n.scheduler=L=>{Pr(L,k&&k.suspense)}:c!=="sync"&&(O=!0,n.scheduler=(L,V)=>{V?L():n6(L)}),n.augmentJob=L=>{t&&(L.flags|=4),O&&(L.flags|=2,k&&(L.id=k.uid,L.i=k))};const B=vO(e,t,n);return q1&&(C?C.push(B):x&&B()),B}function sL(e,t,i){const a=this.proxy,l=Xo(e)?e.includes(".")?YS(a,e):()=>a[e]:e.bind(a,a);let c;Sn(t)?c=t:(c=t.handler,i=t);const y=zg(this),n=JS(l,c.bind(a),i);return y(),n}function YS(e,t){const i=t.split(".");return()=>{let a=e;for(let l=0;l<i.length&&a;l++)a=a[i[l]];return a}}const cL=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ls(t)}Modifiers`]||e[`${uu(t)}Modifiers`];function lL(e,t,...i){if(e.isUnmounted)return;const a=e.vnode.props||Do;let l=i;const c=t.startsWith("update:"),y=c&&cL(a,t.slice(7));y&&(y.trim&&(l=i.map(k=>Xo(k)?k.trim():k)),y.number&&(l=i.map(BA)));let n,x=a[n=pb(t)]||a[n=pb(Ls(t))];!x&&c&&(x=a[n=pb(uu(t))]),x&&uc(x,e,6,l);const C=a[n+"Once"];if(C){if(!e.emitted)e.emitted={};else if(e.emitted[n])return;e.emitted[n]=!0,uc(C,e,6,l)}}function eT(e,t,i=!1){const a=t.emitsCache,l=a.get(e);if(l!==void 0)return l;const c=e.emits;let y={},n=!1;if(!Sn(e)){const x=C=>{const k=eT(C,t,!0);k&&(n=!0,xr(y,k))};!i&&t.mixins.length&&t.mixins.forEach(x),e.extends&&x(e.extends),e.mixins&&e.mixins.forEach(x)}return!c&&!n?(Jo(e)&&a.set(e,null),null):(un(c)?c.forEach(x=>y[x]=null):xr(y,c),Jo(e)&&a.set(e,y),y)}function T2(e,t){return!e||!y2(t)?!1:(t=t.slice(2).replace(/Once$/,""),yo(e,t[0].toLowerCase()+t.slice(1))||yo(e,uu(t))||yo(e,t))}function X4(e){const{type:t,vnode:i,proxy:a,withProxy:l,propsOptions:[c],slots:y,attrs:n,emit:x,render:C,renderCache:k,props:O,data:B,setupState:L,ctx:V,inheritAttrs:G}=e,Q=Ab(e);let Y,J;try{if(i.shapeFlag&4){const ce=l||a,he=ce;Y=Lc(C.call(he,ce,k,O,L,B,V)),J=n}else{const ce=t;Y=Lc(ce.length>1?ce(O,{attrs:n,slots:y,emit:x}):ce(O,null)),J=t.props?n:dL(n)}}catch(ce){I1.length=0,C2(ce,e,1),Y=kt(da)}let re=Y;if(J&&G!==!1){const ce=Object.keys(J),{shapeFlag:he}=re;ce.length&&he&7&&(c&&ce.some(qx)&&(J=uL(J,c)),re=Cl(re,J,!1,!0))}return i.dirs&&(re=Cl(re,null,!1,!0),re.dirs=re.dirs?re.dirs.concat(i.dirs):i.dirs),i.transition&&Ap(re,i.transition),Y=re,Ab(Q),Y}const dL=e=>{let t;for(const i in e)(i==="class"||i==="style"||y2(i))&&((t||(t={}))[i]=e[i]);return t},uL=(e,t)=>{const i={};for(const a in e)(!qx(a)||!(a.slice(9)in t))&&(i[a]=e[a]);return i};function hL(e,t,i){const{props:a,children:l,component:c}=e,{props:y,children:n,patchFlag:x}=t,C=c.emitsOptions;if(t.dirs||t.transition)return!0;if(i&&x>=0){if(x&1024)return!0;if(x&16)return a?n9(a,y,C):!!y;if(x&8){const k=t.dynamicProps;for(let O=0;O<k.length;O++){const B=k[O];if(y[B]!==a[B]&&!T2(C,B))return!0}}}else return(l||n)&&(!n||!n.$stable)?!0:a===y?!1:a?y?n9(a,y,C):!0:!!y;return!1}function n9(e,t,i){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let l=0;l<a.length;l++){const c=a[l];if(t[c]!==e[c]&&!T2(i,c))return!0}return!1}function fL({vnode:e,parent:t},i){for(;t;){const a=t.subTree;if(a.suspense&&a.suspense.activeBranch===e&&(a.el=e.el),a===e)(e=t.vnode).el=i,t=t.parent;else break}}const Bb=e=>e.__isSuspense;function pL(e,t){t&&t.pendingBranch?un(e)?t.effects.push(...e):t.effects.push(e):FO(e)}const Ri=Symbol.for("v-fgt"),R2=Symbol.for("v-txt"),da=Symbol.for("v-cmt"),_b=Symbol.for("v-stc"),I1=[];let as=null;function ge(e=!1){I1.push(as=e?null:[])}function mL(){I1.pop(),as=I1[I1.length-1]||null}let H1=1;function o9(e,t=!1){H1+=e,e<0&&as&&t&&(as.hasOnce=!0)}function tT(e){return e.dynamicChildren=H1>0?as||Fp:null,mL(),H1>0&&as&&as.push(e),e}function Je(e,t,i,a,l,c){return tT(Se(e,t,i,a,l,c,!0))}function Vt(e,t,i,a,l){return tT(kt(e,t,i,a,l,!0))}function Op(e){return e?e.__v_isVNode===!0:!1}function Vd(e,t){return e.type===t.type&&e.key===t.key}const iT=({key:e})=>e??null,yb=({ref:e,ref_key:t,ref_for:i})=>(typeof e=="number"&&(e=""+e),e!=null?Xo(e)||xo(e)||Sn(e)?{i:kr,r:e,k:t,f:!!i}:e:null);function Se(e,t=null,i=null,a=0,l=null,c=e===Ri?0:1,y=!1,n=!1){const x={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&iT(t),ref:t&&yb(t),scopeId:CS,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:c,patchFlag:a,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:kr};return n?(u6(x,i),c&128&&e.normalize(x)):i&&(x.shapeFlag|=Xo(i)?8:16),H1>0&&!y&&as&&(x.patchFlag>0||c&6)&&x.patchFlag!==32&&as.push(x),x}const kt=gL;function gL(e,t=null,i=null,a=0,l=null,c=!1){if((!e||e===jS)&&(e=da),Op(e)){const n=Cl(e,t,!0);return i&&u6(n,i),H1>0&&!c&&as&&(n.shapeFlag&6?as[as.indexOf(e)]=n:as.push(n)),n.patchFlag=-2,n}if(SL(e)&&(e=e.__vccOpts),t){t=_L(t);let{class:n,style:x}=t;n&&!Xo(n)&&(t.class=Ii(n)),Jo(x)&&(i6(x)&&!un(x)&&(x=xr({},x)),t.style=Mr(x))}const y=Xo(e)?1:Bb(e)?128:SS(e)?64:Jo(e)?4:Sn(e)?2:0;return Se(e,t,i,a,l,y,c,!0)}function _L(e){return e?i6(e)||GS(e)?xr({},e):e:null}function Cl(e,t,i=!1,a=!1){const{props:l,ref:c,patchFlag:y,children:n,transition:x}=e,C=t?Ze(l||{},t):l,k={__v_isVNode:!0,__v_skip:!0,type:e.type,props:C,key:C&&iT(C),ref:t&&t.ref?i&&c?un(c)?c.concat(yb(t)):[c,yb(t)]:yb(t):c,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:n,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ri?y===-1?16:y|16:y,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:x,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Cl(e.ssContent),ssFallback:e.ssFallback&&Cl(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return x&&a&&Ap(k,x.clone(k)),k}function Ei(e=" ",t=0){return kt(R2,null,e,t)}function yL(e,t){const i=kt(_b,null,e);return i.staticCount=t,i}function Zt(e="",t=!1){return t?(ge(),Vt(da,null,e)):kt(da,null,e)}function Lc(e){return e==null||typeof e=="boolean"?kt(da):un(e)?kt(Ri,null,e.slice()):Op(e)?jd(e):kt(R2,null,String(e))}function jd(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Cl(e)}function u6(e,t){let i=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(un(t))i=16;else if(typeof t=="object")if(a&65){const l=t.default;l&&(l._c&&(l._d=!1),u6(e,l()),l._c&&(l._d=!0));return}else{i=32;const l=t._;!l&&!GS(t)?t._ctx=kr:l===3&&kr&&(kr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Sn(t)?(t={default:t,_ctx:kr},i=32):(t=String(t),a&64?(i=16,t=[Ei(t)]):i=8);e.children=t,e.shapeFlag|=i}function Ze(...e){const t={};for(let i=0;i<e.length;i++){const a=e[i];for(const l in a)if(l==="class")t.class!==a.class&&(t.class=Ii([t.class,a.class]));else if(l==="style")t.style=Mr([t.style,a.style]);else if(y2(l)){const c=t[l],y=a[l];y&&c!==y&&!(un(c)&&c.includes(y))&&(t[l]=c?[].concat(c,y):y)}else l!==""&&(t[l]=a[l])}return t}function Ss(e,t,i,a=null){uc(e,t,7,[i,a])}const bL=NS();let vL=0;function xL(e,t,i){const a=e.type,l=(t?t.appContext:e.appContext)||bL,c={uid:vL++,vnode:e,type:a,parent:t,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new eS(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(l.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:qS(a,l),emitsOptions:eT(a,l),emit:null,emitted:null,propsDefaults:Do,inheritAttrs:a.inheritAttrs,ctx:Do,data:Do,props:Do,attrs:Do,slots:Do,refs:Do,setupState:Do,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return c.ctx={_:c},c.root=t?t.root:c,c.emit=lL.bind(null,c),e.ce&&e.ce(c),c}let zr=null;const h6=()=>zr||kr;let jb,H3;{const e=x2(),t=(i,a)=>{let l;return(l=e[i])||(l=e[i]=[]),l.push(a),c=>{l.length>1?l.forEach(y=>y(c)):l[0](c)}};jb=t("__VUE_INSTANCE_SETTERS__",i=>zr=i),H3=t("__VUE_SSR_SETTERS__",i=>q1=i)}const zg=e=>{const t=zr;return jb(e),e.scope.on(),()=>{e.scope.off(),jb(t)}},r9=()=>{zr&&zr.scope.off(),jb(null)};function nT(e){return e.vnode.shapeFlag&4}let q1=!1;function wL(e,t=!1,i=!1){t&&H3(t);const{props:a,children:l}=e.vnode,c=nT(e);ZO(e,a,c,t),YO(e,l,i);const y=c?FL(e,t):void 0;return t&&H3(!1),y}function FL(e,t){const i=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,VO);const{setup:a}=i;if(a){hu();const l=e.setupContext=a.length>1?EL(e):null,c=zg(e),y=jg(a,e,0,[e.props,l]),n=WE(y);if(fu(),c(),(n||e.sp)&&!Ch(e)&&OS(e),n){if(y.then(r9,r9),t)return y.then(x=>{a9(e,x,t)}).catch(x=>{C2(x,e,0)});e.asyncDep=y}else a9(e,y,t)}else oT(e,t)}function a9(e,t,i){Sn(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Jo(t)&&(e.setupState=bS(t)),oT(e,i)}let s9;function oT(e,t,i){const a=e.type;if(!e.render){if(!t&&s9&&!a.render){const l=a.template||c6(e).template;if(l){const{isCustomElement:c,compilerOptions:y}=e.appContext.config,{delimiters:n,compilerOptions:x}=a,C=xr(xr({isCustomElement:c,delimiters:n},y),x);a.render=s9(l,C)}}e.render=a.render||zc}{const l=zg(e);hu();try{NO(e)}finally{fu(),l()}}}const CL={get(e,t){return sa(e,"get",""),e[t]}};function EL(e){const t=i=>{e.exposed=i||{}};return{attrs:new Proxy(e.attrs,CL),slots:e.slots,emit:e.emit,expose:t}}function P2(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(bS(F2(e.exposed)),{get(t,i){if(i in t)return t[i];if(i in P1)return P1[i](e)},has(t,i){return i in t||i in P1}})):e.proxy}function q3(e,t=!0){return Sn(e)?e.displayName||e.name:e.name||t&&e.__name}function SL(e){return Sn(e)&&"__vccOpts"in e}const Li=(e,t)=>yO(e,t,q1);function f6(e,t,i){const a=arguments.length;return a===2?Jo(t)&&!un(t)?Op(t)?kt(e,null,[t]):kt(e,t):kt(e,null,t):(a>3?i=Array.prototype.slice.call(arguments,2):a===3&&Op(i)&&(i=[i]),kt(e,t,i))}const TL="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let W3;const c9=typeof window<"u"&&window.trustedTypes;if(c9)try{W3=c9.createPolicy("vue",{createHTML:e=>e})}catch{}const rT=W3?e=>W3.createHTML(e):e=>e,RL="http://www.w3.org/2000/svg",PL="http://www.w3.org/1998/Math/MathML",gl=typeof document<"u"?document:null,l9=gl&&gl.createElement("template"),IL={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,a)=>{const l=t==="svg"?gl.createElementNS(RL,e):t==="mathml"?gl.createElementNS(PL,e):i?gl.createElement(e,{is:i}):gl.createElement(e);return e==="select"&&a&&a.multiple!=null&&l.setAttribute("multiple",a.multiple),l},createText:e=>gl.createTextNode(e),createComment:e=>gl.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>gl.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,i,a,l,c){const y=i?i.previousSibling:t.lastChild;if(l&&(l===c||l.nextSibling))for(;t.insertBefore(l.cloneNode(!0),i),!(l===c||!(l=l.nextSibling)););else{l9.innerHTML=rT(a==="svg"?`<svg>${e}</svg>`:a==="mathml"?`<math>${e}</math>`:e);const n=l9.content;if(a==="svg"||a==="mathml"){const x=n.firstChild;for(;x.firstChild;)n.appendChild(x.firstChild);n.removeChild(x)}t.insertBefore(n,i)}return[y?y.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}},Pd="transition",n1="animation",W1=Symbol("_vtc"),aT={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},kL=xr({},PS,aT),ML=e=>(e.displayName="Transition",e.props=kL,e),e0=ML((e,{slots:t})=>f6(RO,AL(e),t)),hh=(e,t=[])=>{un(e)?e.forEach(i=>i(...t)):e&&e(...t)},d9=e=>e?un(e)?e.some(t=>t.length>1):e.length>1:!1;function AL(e){const t={};for(const ye in e)ye in aT||(t[ye]=e[ye]);if(e.css===!1)return t;const{name:i="v",type:a,duration:l,enterFromClass:c=`${i}-enter-from`,enterActiveClass:y=`${i}-enter-active`,enterToClass:n=`${i}-enter-to`,appearFromClass:x=c,appearActiveClass:C=y,appearToClass:k=n,leaveFromClass:O=`${i}-leave-from`,leaveActiveClass:B=`${i}-leave-active`,leaveToClass:L=`${i}-leave-to`}=e,V=OL(l),G=V&&V[0],Q=V&&V[1],{onBeforeEnter:Y,onEnter:J,onEnterCancelled:re,onLeave:ce,onLeaveCancelled:he,onBeforeAppear:we=Y,onAppear:pe=J,onAppearCancelled:De=re}=t,Ae=(ye,Oe,ue,ct)=>{ye._enterCancelled=ct,fh(ye,Oe?k:n),fh(ye,Oe?C:y),ue&&ue()},Ne=(ye,Oe)=>{ye._isLeaving=!1,fh(ye,O),fh(ye,L),fh(ye,B),Oe&&Oe()},it=ye=>(Oe,ue)=>{const ct=ye?pe:J,Ct=()=>Ae(Oe,ye,ue);hh(ct,[Oe,Ct]),u9(()=>{fh(Oe,ye?x:c),fl(Oe,ye?k:n),d9(ct)||h9(Oe,a,G,Ct)})};return xr(t,{onBeforeEnter(ye){hh(Y,[ye]),fl(ye,c),fl(ye,y)},onBeforeAppear(ye){hh(we,[ye]),fl(ye,x),fl(ye,C)},onEnter:it(!1),onAppear:it(!0),onLeave(ye,Oe){ye._isLeaving=!0;const ue=()=>Ne(ye,Oe);fl(ye,O),ye._enterCancelled?(fl(ye,B),m9()):(m9(),fl(ye,B)),u9(()=>{ye._isLeaving&&(fh(ye,O),fl(ye,L),d9(ce)||h9(ye,a,Q,ue))}),hh(ce,[ye,ue])},onEnterCancelled(ye){Ae(ye,!1,void 0,!0),hh(re,[ye])},onAppearCancelled(ye){Ae(ye,!0,void 0,!0),hh(De,[ye])},onLeaveCancelled(ye){Ne(ye),hh(he,[ye])}})}function OL(e){if(e==null)return null;if(Jo(e))return[J4(e.enter),J4(e.leave)];{const t=J4(e);return[t,t]}}function J4(e){return jA(e)}function fl(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.add(i)),(e[W1]||(e[W1]=new Set)).add(t)}function fh(e,t){t.split(/\s+/).forEach(a=>a&&e.classList.remove(a));const i=e[W1];i&&(i.delete(t),i.size||(e[W1]=void 0))}function u9(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let LL=0;function h9(e,t,i,a){const l=e._endId=++LL,c=()=>{l===e._endId&&a()};if(i!=null)return setTimeout(c,i);const{type:y,timeout:n,propCount:x}=DL(e,t);if(!y)return a();const C=y+"end";let k=0;const O=()=>{e.removeEventListener(C,B),c()},B=L=>{L.target===e&&++k>=x&&O()};setTimeout(()=>{k<x&&O()},n+1),e.addEventListener(C,B)}function DL(e,t){const i=window.getComputedStyle(e),a=V=>(i[V]||"").split(", "),l=a(`${Pd}Delay`),c=a(`${Pd}Duration`),y=f9(l,c),n=a(`${n1}Delay`),x=a(`${n1}Duration`),C=f9(n,x);let k=null,O=0,B=0;t===Pd?y>0&&(k=Pd,O=y,B=c.length):t===n1?C>0&&(k=n1,O=C,B=x.length):(O=Math.max(y,C),k=O>0?y>C?Pd:n1:null,B=k?k===Pd?c.length:x.length:0);const L=k===Pd&&/\b(transform|all)(,|$)/.test(a(`${Pd}Property`).toString());return{type:k,timeout:O,propCount:B,hasTransform:L}}function f9(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((i,a)=>p9(i)+p9(e[a])))}function p9(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function m9(){return document.body.offsetHeight}function BL(e,t,i){const a=e[W1];a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}const zb=Symbol("_vod"),sT=Symbol("_vsh"),jL={beforeMount(e,{value:t},{transition:i}){e[zb]=e.style.display==="none"?"":e.style.display,i&&t?i.beforeEnter(e):o1(e,t)},mounted(e,{value:t},{transition:i}){i&&t&&i.enter(e)},updated(e,{value:t,oldValue:i},{transition:a}){!t!=!i&&(a?t?(a.beforeEnter(e),o1(e,!0),a.enter(e)):a.leave(e,()=>{o1(e,!1)}):o1(e,t))},beforeUnmount(e,{value:t}){o1(e,t)}};function o1(e,t){e.style.display=t?e[zb]:"none",e[sT]=!t}const zL=Symbol(""),VL=/(^|;)\s*display\s*:/;function NL(e,t,i){const a=e.style,l=Xo(i);let c=!1;if(i&&!l){if(t)if(Xo(t))for(const y of t.split(";")){const n=y.slice(0,y.indexOf(":")).trim();i[n]==null&&bb(a,n,"")}else for(const y in t)i[y]==null&&bb(a,y,"");for(const y in i)y==="display"&&(c=!0),bb(a,y,i[y])}else if(l){if(t!==i){const y=a[zL];y&&(i+=";"+y),a.cssText=i,c=VL.test(i)}}else t&&e.removeAttribute("style");zb in e&&(e[zb]=c?a.display:"",e[sT]&&(a.display="none"))}const g9=/\s*!important$/;function bb(e,t,i){if(un(i))i.forEach(a=>bb(e,t,a));else if(i==null&&(i=""),t.startsWith("--"))e.setProperty(t,i);else{const a=$L(e,t);g9.test(i)?e.setProperty(uu(a),i.replace(g9,""),"important"):e[a]=i}}const _9=["Webkit","Moz","ms"],Y4={};function $L(e,t){const i=Y4[t];if(i)return i;let a=Ls(t);if(a!=="filter"&&a in e)return Y4[t]=a;a=v2(a);for(let l=0;l<_9.length;l++){const c=_9[l]+a;if(c in e)return Y4[t]=c}return t}const y9="http://www.w3.org/1999/xlink";function b9(e,t,i,a,l,c=GA(t)){a&&t.startsWith("xlink:")?i==null?e.removeAttributeNS(y9,t.slice(6,t.length)):e.setAttributeNS(y9,t,i):i==null||c&&!XE(i)?e.removeAttribute(t):e.setAttribute(t,c?"":Sl(i)?String(i):i)}function v9(e,t,i,a,l){if(t==="innerHTML"||t==="textContent"){i!=null&&(e[t]=t==="innerHTML"?rT(i):i);return}const c=e.tagName;if(t==="value"&&c!=="PROGRESS"&&!c.includes("-")){const n=c==="OPTION"?e.getAttribute("value")||"":e.value,x=i==null?e.type==="checkbox"?"on":"":String(i);(n!==x||!("_value"in e))&&(e.value=x),i==null&&e.removeAttribute(t),e._value=i;return}let y=!1;if(i===""||i==null){const n=typeof e[t];n==="boolean"?i=XE(i):i==null&&n==="string"?(i="",y=!0):n==="number"&&(i=0,y=!0)}try{e[t]=i}catch{}y&&e.removeAttribute(l||t)}function UL(e,t,i,a){e.addEventListener(t,i,a)}function GL(e,t,i,a){e.removeEventListener(t,i,a)}const x9=Symbol("_vei");function HL(e,t,i,a,l=null){const c=e[x9]||(e[x9]={}),y=c[t];if(a&&y)y.value=a;else{const[n,x]=qL(t);if(a){const C=c[t]=ZL(a,l);UL(e,n,C,x)}else y&&(GL(e,n,y,x),c[t]=void 0)}}const w9=/(?:Once|Passive|Capture)$/;function qL(e){let t;if(w9.test(e)){t={};let a;for(;a=e.match(w9);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):uu(e.slice(2)),t]}let e3=0;const WL=Promise.resolve(),KL=()=>e3||(WL.then(()=>e3=0),e3=Date.now());function ZL(e,t){const i=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=i.attached)return;uc(QL(a,i.value),t,5,[a])};return i.value=e,i.attached=KL(),i}function QL(e,t){if(un(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map(a=>l=>!l._stopped&&a&&a(l))}else return t}const F9=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,XL=(e,t,i,a,l,c)=>{const y=l==="svg";t==="class"?BL(e,a,y):t==="style"?NL(e,i,a):y2(t)?qx(t)||HL(e,t,i,a,c):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):JL(e,t,a,y))?(v9(e,t,a),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&b9(e,t,a,y,c,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Xo(a))?v9(e,Ls(t),a,c,t):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),b9(e,t,a,y))};function JL(e,t,i,a){if(a)return!!(t==="innerHTML"||t==="textContent"||t in e&&F9(t)&&Sn(i));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const l=e.tagName;if(l==="IMG"||l==="VIDEO"||l==="CANVAS"||l==="SOURCE")return!1}return F9(t)&&Xo(i)?!1:t in e}const YL=["ctrl","shift","alt","meta"],eD={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>YL.some(i=>e[`${i}Key`]&&!t.includes(i))},I2=(e,t)=>{const i=e._withMods||(e._withMods={}),a=t.join(".");return i[a]||(i[a]=(l,...c)=>{for(let y=0;y<t.length;y++){const n=eD[t[y]];if(n&&n(l,t))return}return e(l,...c)})},tD={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},t3=(e,t)=>{const i=e._withKeys||(e._withKeys={}),a=t.join(".");return i[a]||(i[a]=l=>{if(!("key"in l))return;const c=uu(l.key);if(t.some(y=>y===c||tD[y]===c))return e(l)})},iD=xr({patchProp:XL},IL);let C9;function nD(){return C9||(C9=tL(iD))}const oD=(...e)=>{const t=nD().createApp(...e),{mount:i}=t;return t.mount=a=>{const l=aD(a);if(!l)return;const c=t._component;!Sn(c)&&!c.render&&!c.template&&(c.template=l.innerHTML),l.nodeType===1&&(l.textContent="");const y=i(l,!1,rD(l));return l instanceof Element&&(l.removeAttribute("v-cloak"),l.setAttribute("data-v-app","")),y},t};function rD(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function aD(e){return Xo(e)?document.querySelector(e):e}var sD=!1;/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let cT;const k2=e=>cT=e,lT=Symbol();function K3(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var k1;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(k1||(k1={}));function cD(){const e=tS(!0),t=e.run(()=>ai({}));let i=[],a=[];const l=F2({install(c){k2(l),l._a=c,c.provide(lT,l),c.config.globalProperties.$pinia=l,a.forEach(y=>i.push(y)),a=[]},use(c){return!this._a&&!sD?a.push(c):i.push(c),this},_p:i,_a:null,_e:e,_s:new Map,state:t});return l}const dT=()=>{};function E9(e,t,i,a=dT){e.push(t);const l=()=>{const c=e.indexOf(t);c>-1&&(e.splice(c,1),a())};return!i&&iS()&&HA(l),l}function tp(e,...t){e.slice().forEach(i=>{i(...t)})}const lD=e=>e(),S9=Symbol(),i3=Symbol();function Z3(e,t){e instanceof Map&&t instanceof Map?t.forEach((i,a)=>e.set(a,i)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const i in t){if(!t.hasOwnProperty(i))continue;const a=t[i],l=e[i];K3(l)&&K3(a)&&e.hasOwnProperty(i)&&!xo(a)&&!Qd(a)?e[i]=Z3(l,a):e[i]=a}return e}const dD=Symbol();function uD(e){return!K3(e)||!e.hasOwnProperty(dD)}const{assign:Ld}=Object;function hD(e){return!!(xo(e)&&e.effect)}function fD(e,t,i,a){const{state:l,actions:c,getters:y}=t,n=i.state.value[e];let x;function C(){n||(i.state.value[e]=l?l():{});const k=pO(i.state.value[e]);return Ld(k,c,Object.keys(y||{}).reduce((O,B)=>(O[B]=F2(Li(()=>{k2(i);const L=i._s.get(e);return y[B].call(L,L)})),O),{}))}return x=uT(e,C,t,i,a,!0),x}function uT(e,t,i={},a,l,c){let y;const n=Ld({actions:{}},i),x={deep:!0};let C,k,O=[],B=[],L;const V=a.state.value[e];!c&&!V&&(a.state.value[e]={}),ai({});let G;function Q(De){let Ae;C=k=!1,typeof De=="function"?(De(a.state.value[e]),Ae={type:k1.patchFunction,storeId:e,events:L}):(Z3(a.state.value[e],De),Ae={type:k1.patchObject,payload:De,storeId:e,events:L});const Ne=G=Symbol();Fl().then(()=>{G===Ne&&(C=!0)}),k=!0,tp(O,Ae,a.state.value[e])}const Y=c?function(){const{state:Ae}=i,Ne=Ae?Ae():{};this.$patch(it=>{Ld(it,Ne)})}:dT;function J(){y.stop(),O=[],B=[],a._s.delete(e)}const re=(De,Ae="")=>{if(S9 in De)return De[i3]=Ae,De;const Ne=function(){k2(a);const it=Array.from(arguments),ye=[],Oe=[];function ue(pt){ye.push(pt)}function ct(pt){Oe.push(pt)}tp(B,{args:it,name:Ne[i3],store:he,after:ue,onError:ct});let Ct;try{Ct=De.apply(this&&this.$id===e?this:he,it)}catch(pt){throw tp(Oe,pt),pt}return Ct instanceof Promise?Ct.then(pt=>(tp(ye,pt),pt)).catch(pt=>(tp(Oe,pt),Promise.reject(pt))):(tp(ye,Ct),Ct)};return Ne[S9]=!0,Ne[i3]=Ae,Ne},ce={_p:a,$id:e,$onAction:E9.bind(null,B),$patch:Q,$reset:Y,$subscribe(De,Ae={}){const Ne=E9(O,De,Ae.detached,()=>it()),it=y.run(()=>Ir(()=>a.state.value[e],ye=>{(Ae.flush==="sync"?k:C)&&De({storeId:e,type:k1.direct,events:L},ye)},Ld({},x,Ae)));return Ne},$dispose:J},he=Yp(ce);a._s.set(e,he);const pe=(a._a&&a._a.runWithContext||lD)(()=>a._e.run(()=>(y=tS()).run(()=>t({action:re}))));for(const De in pe){const Ae=pe[De];if(xo(Ae)&&!hD(Ae)||Qd(Ae))c||(V&&uD(Ae)&&(xo(Ae)?Ae.value=V[De]:Z3(Ae,V[De])),a.state.value[e][De]=Ae);else if(typeof Ae=="function"){const Ne=re(Ae,De);pe[De]=Ne,n.actions[De]=Ae}}return Ld(he,pe),Ld(ho(he),pe),Object.defineProperty(he,"$state",{get:()=>a.state.value[e],set:De=>{Q(Ae=>{Ld(Ae,De)})}}),a._p.forEach(De=>{Ld(he,y.run(()=>De({store:he,app:a._a,pinia:a,options:n})))}),V&&c&&i.hydrate&&i.hydrate(he.$state,V),C=!0,k=!0,he}/*! #__NO_SIDE_EFFECTS__ */function pu(e,t,i){let a,l;const c=typeof t=="function";typeof e=="string"?(a=e,l=c?i:t):(l=e,a=e.id);function y(n,x){const C=KO();return n=n||(C?lc(lT,null):null),n&&k2(n),n=cT,n._s.has(a)||(c?uT(a,t,l,n):fD(a,l,n)),n._s.get(a)}return y.$id=a,y}var pD=Object.defineProperty,T9=Object.getOwnPropertySymbols,mD=Object.prototype.hasOwnProperty,gD=Object.prototype.propertyIsEnumerable,R9=(e,t,i)=>t in e?pD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,_D=(e,t)=>{for(var i in t||(t={}))mD.call(t,i)&&R9(e,i,t[i]);if(T9)for(var i of T9(t))gD.call(t,i)&&R9(e,i,t[i]);return e};function Qr(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!(e instanceof Date)&&typeof e=="object"&&Object.keys(e).length===0}function yD(e,t,i,a=1){let l=-1;const c=Qr(e),y=Qr(t);return c&&y?l=0:c?l=a:y?l=-a:typeof e=="string"&&typeof t=="string"?l=i(e,t):l=e<t?-1:e>t?1:0,l}function Q3(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var i=Array.isArray(e),a=Array.isArray(t),l,c,y;if(i&&a){if(c=e.length,c!=t.length)return!1;for(l=c;l--!==0;)if(!Q3(e[l],t[l]))return!1;return!0}if(i!=a)return!1;var n=e instanceof Date,x=t instanceof Date;if(n!=x)return!1;if(n&&x)return e.getTime()==t.getTime();var C=e instanceof RegExp,k=t instanceof RegExp;if(C!=k)return!1;if(C&&k)return e.toString()==t.toString();var O=Object.keys(e);if(c=O.length,c!==Object.keys(t).length)return!1;for(l=c;l--!==0;)if(!Object.prototype.hasOwnProperty.call(t,O[l]))return!1;for(l=c;l--!==0;)if(y=O[l],!Q3(e[y],t[y]))return!1;return!0}return e!==e&&t!==t}function M2(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Bn(e){return!Qr(e)}function On(e,t){if(!e||!t)return null;try{const i=e[t];if(Bn(i))return i}catch{}if(Object.keys(e).length){if(M2(t))return t(e);if(t.indexOf(".")===-1)return e[t];{let i=t.split("."),a=e;for(let l=0,c=i.length;l<c;++l){if(a==null)return null;a=a[i[l]]}return a}}return null}function ac(e,t,i){return i?On(e,i)===On(t,i):Q3(e,t)}function bD(e,t){if(e!=null&&t&&t.length){for(let i of t)if(ac(e,i))return!0}return!1}function n3(e,t){let i=-1;if(t){for(let a=0;a<t.length;a++)if(t[a]===e){i=a;break}}return i}function fp(e,t){let i=-1;if(Bn(e))try{i=e.findLastIndex(t)}catch{i=e.lastIndexOf([...e].reverse().find(t))}return i}function Uc(e,t=!0){return e instanceof Object&&e.constructor===Object&&(t||Object.keys(e).length!==0)}function Vc(e,...t){return M2(e)?e(...t):e}function Ga(e,t=!0){return typeof e=="string"&&(t||e!=="")}function oc(e){return Ga(e)?e.replace(/(-|_)/g,"").toLowerCase():e}function p6(e,t="",i={}){const a=oc(t).split("."),l=a.shift();return l?Uc(e)?p6(Vc(e[Object.keys(e).find(c=>oc(c)===l)||""],i),a.join("."),i):void 0:Vc(e,i)}function m6(e,t=!0){return Array.isArray(e)&&(t||e.length!==0)}function hT(e){return Bn(e)&&!isNaN(e)}function fT(e=""){return Bn(e)&&e.length===1&&!!e.match(/\S| /)}function P9(){return new Intl.Collator(void 0,{numeric:!0}).compare}function bl(e,t){if(t){const i=t.test(e);return t.lastIndex=0,i}return!1}function vD(...e){const t=(i={},a={})=>{const l=_D({},i);return Object.keys(a).forEach(c=>{Uc(a[c])&&c in i&&Uc(i[c])?l[c]=t(i[c],a[c]):l[c]=a[c]}),l};return e.reduce((i,a,l)=>l===0?a:t(i,a),{})}function M1(e){return e&&e.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":")}function Es(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}function I9(e,t,i){e&&t!==i&&(i>=e.length&&(i%=e.length,t%=e.length),e.splice(i,0,e.splice(t,1)[0]))}function k9(e,t,i=1,a,l=1){const c=yD(e,t,a,i);let y=i;return(Qr(e)||Qr(t))&&(y=l===1?i:l),y*c}function xD(e){return Ga(e,!1)?e[0].toUpperCase()+e.slice(1):e}function pT(e){return Ga(e)?e.replace(/(_)/g,"-").replace(/[A-Z]/g,(t,i)=>i===0?t:"-"+t.toLowerCase()).toLowerCase():e}function M9(e){return Ga(e)?e.replace(/[A-Z]/g,(t,i)=>i===0?t:"."+t.toLowerCase()).toLowerCase():e}function g6(){const e=new Map;return{on(t,i){let a=e.get(t);return a?a.push(i):a=[i],e.set(t,a),this},off(t,i){let a=e.get(t);return a&&a.splice(a.indexOf(i)>>>0,1),this},emit(t,i){let a=e.get(t);a&&a.slice().map(l=>{l(i)})},clear(){e.clear()}}}var wD=Object.defineProperty,FD=Object.defineProperties,CD=Object.getOwnPropertyDescriptors,Vb=Object.getOwnPropertySymbols,mT=Object.prototype.hasOwnProperty,gT=Object.prototype.propertyIsEnumerable,A9=(e,t,i)=>t in e?wD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,r1=(e,t)=>{for(var i in t||(t={}))mT.call(t,i)&&A9(e,i,t[i]);if(Vb)for(var i of Vb(t))gT.call(t,i)&&A9(e,i,t[i]);return e},o3=(e,t)=>FD(e,CD(t)),a1=(e,t)=>{var i={};for(var a in e)mT.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&Vb)for(var a of Vb(e))t.indexOf(a)<0&&gT.call(e,a)&&(i[a]=e[a]);return i},ED=g6(),nc=ED;function O9(e,t){m6(e)?e.push(...t||[]):Uc(e)&&Object.assign(e,t)}function SD(e){return Uc(e)&&e.hasOwnProperty("value")&&e.hasOwnProperty("type")?e.value:e}function L9(e,t=""){return["opacity","z-index","line-height","font-weight","flex","flex-grow","flex-shrink","order"].some(a=>t.endsWith(a))?e:`${e}`.trim().split(" ").map(c=>hT(c)?`${c}px`:c).join(" ")}function TD(e){return e.replaceAll(/ /g,"").replace(/[^\w]/g,"-")}function X3(e="",t=""){return TD(`${Ga(e,!1)&&Ga(t,!1)?`${e}-`:e}${t}`)}function _T(e="",t=""){return`--${X3(e,t)}`}function yT(e,t="",i="",a=[],l){if(Ga(e)){const c=/{([^}]*)}/g,y=e.trim();if(bl(y,c)){const n=y.replaceAll(c,k=>{const B=k.replace(/{|}/g,"").split(".").filter(L=>!a.some(V=>bl(L,V)));return`var(${_T(i,pT(B.join("-")))}${Bn(l)?`, ${l}`:""})`}),x=/(\d+\s+[\+\-\*\/]\s+\d+)/g,C=/var\([^)]+\)/g;return bl(n.replace(C,"0"),x)?`calc(${n})`:n}return L9(y,t)}else if(hT(e))return L9(e,t)}function RD(e,t,i){Ga(t,!1)&&e.push(`${t}:${i};`)}function g1(e,t){return e?`${e}{${t}}`:""}var PD=e=>{var t;const i=So.getTheme(),a=J3(i,e,void 0,"variable"),l=(t=a.match(/--[\w-]+/g))==null?void 0:t[0],c=J3(i,e,void 0,"value");return{name:l,variable:a,value:c}},r3=(...e)=>J3(So.getTheme(),...e),J3=(e={},t,i,a="variable")=>{if(t){const{variable:l,options:c}=So.defaults||{},{prefix:y,transform:n}=(e==null?void 0:e.options)||c||{},C=bl(t,/{([^}]*)}/g)?t:`{${t}}`;return a==="value"||n==="strict"?So.getTokenValue(t):yT(C,void 0,y,[l.excludedKeyRegex],i)}return""};function ID(e,t={}){const i=So.defaults.variable,{prefix:a=i.prefix,selector:l=i.selector,excludedKeyRegex:c=i.excludedKeyRegex}=t,y=(C,k="")=>Object.entries(C).reduce((O,[B,L])=>{const V=bl(B,c)?X3(k):X3(k,pT(B)),G=SD(L);if(Uc(G)){const{variables:Q,tokens:Y}=y(G,V);O9(O.tokens,Y),O9(O.variables,Q)}else O.tokens.push((a?V.replace(`${a}-`,""):V).replaceAll("-",".")),RD(O.variables,_T(V),yT(G,V,a,[c]));return O},{variables:[],tokens:[]}),{variables:n,tokens:x}=y(e,a);return{value:n,tokens:x,declarations:n.join(""),css:g1(l,n.join(""))}}var ic={regex:{rules:{class:{pattern:/^\.([a-zA-Z][\w-]*)$/,resolve(e){return{type:"class",selector:e,matched:this.pattern.test(e.trim())}}},attr:{pattern:/^\[(.*)\]$/,resolve(e){return{type:"attr",selector:`:root${e}`,matched:this.pattern.test(e.trim())}}},media:{pattern:/^@media (.*)$/,resolve(e){return{type:"media",selector:`${e}{:root{[CSS]}}`,matched:this.pattern.test(e.trim())}}},system:{pattern:/^system$/,resolve(e){return{type:"system",selector:"@media (prefers-color-scheme: dark){:root{[CSS]}}",matched:this.pattern.test(e.trim())}}},custom:{resolve(e){return{type:"custom",selector:e,matched:!0}}}},resolve(e){const t=Object.keys(this.rules).filter(i=>i!=="custom").map(i=>this.rules[i]);return[e].flat().map(i=>{var a;return(a=t.map(l=>l.resolve(i)).find(l=>l.matched))!=null?a:this.rules.custom.resolve(i)})}},_toVariables(e,t){return ID(e,{prefix:t==null?void 0:t.prefix})},getCommon({name:e="",theme:t={},params:i,set:a,defaults:l}){var c,y,n,x;const{preset:C,options:k}=t;let O,B,L,V;if(Bn(C)){const{primitive:G,semantic:Q}=C,Y=Q||{},{colorScheme:J}=Y,re=a1(Y,["colorScheme"]),ce=J||{},{dark:he}=ce,we=a1(ce,["dark"]),pe=Bn(G)?this._toVariables({primitive:G},k):{},De=Bn(re)?this._toVariables({semantic:re},k):{},Ae=Bn(we)?this._toVariables({light:we},k):{},Ne=Bn(he)?this._toVariables({dark:he},k):{},[it,ye]=[(c=pe.declarations)!=null?c:"",pe.tokens],[Oe,ue]=[(y=De.declarations)!=null?y:"",De.tokens||[]],[ct,Ct]=[(n=Ae.declarations)!=null?n:"",Ae.tokens||[]],[pt,Ut]=[(x=Ne.declarations)!=null?x:"",Ne.tokens||[]];O=this.transformCSS(e,it,"light","variable",k,a,l),B=ye;const vt=this.transformCSS(e,`${Oe}${ct}color-scheme:light`,"light","variable",k,a,l),Bt=this.transformCSS(e,`${pt}color-scheme:dark`,"dark","variable",k,a,l);L=`${vt}${Bt}`,V=[...new Set([...ue,...Ct,...Ut])]}return{primitive:{css:O,tokens:B},semantic:{css:L,tokens:V}}},getPreset({name:e="",preset:t={},options:i,params:a,set:l,defaults:c,selector:y}){var n,x,C;const k=e.replace("-directive",""),O=t,{colorScheme:B}=O,L=a1(O,["colorScheme"]),V=B||{},{dark:G}=V,Q=a1(V,["dark"]),Y=Bn(L)?this._toVariables({[k]:L},i):{},J=Bn(Q)?this._toVariables({[k]:Q},i):{},re=Bn(G)?this._toVariables({[k]:G},i):{},[ce,he]=[(n=Y.declarations)!=null?n:"",Y.tokens||[]],[we,pe]=[(x=J.declarations)!=null?x:"",J.tokens||[]],[De,Ae]=[(C=re.declarations)!=null?C:"",re.tokens||[]],Ne=[...new Set([...he,...pe,...Ae])],it=this.transformCSS(k,`${ce}${we}`,"light","variable",i,l,c,y),ye=this.transformCSS(k,De,"dark","variable",i,l,c,y);return{css:`${it}${ye}`,tokens:Ne}},getPresetC({name:e="",theme:t={},params:i,set:a,defaults:l}){var c;const{preset:y,options:n}=t,x=(c=y==null?void 0:y.components)==null?void 0:c[e];return this.getPreset({name:e,preset:x,options:n,params:i,set:a,defaults:l})},getPresetD({name:e="",theme:t={},params:i,set:a,defaults:l}){var c;const y=e.replace("-directive",""),{preset:n,options:x}=t,C=(c=n==null?void 0:n.directives)==null?void 0:c[y];return this.getPreset({name:y,preset:C,options:x,params:i,set:a,defaults:l})},getColorSchemeOption(e,t){var i;return this.regex.resolve((i=e.darkModeSelector)!=null?i:t.options.darkModeSelector)},getLayerOrder(e,t={},i,a){const{cssLayer:l}=t;return l?`@layer ${Vc(l.order||"primeui",i)}`:""},getCommonStyleSheet({name:e="",theme:t={},params:i,props:a={},set:l,defaults:c}){const y=this.getCommon({name:e,theme:t,params:i,set:l,defaults:c}),n=Object.entries(a).reduce((x,[C,k])=>x.push(`${C}="${k}"`)&&x,[]).join(" ");return Object.entries(y||{}).reduce((x,[C,k])=>{if(k!=null&&k.css){const O=M1(k==null?void 0:k.css),B=`${C}-variables`;x.push(`<style type="text/css" data-primevue-style-id="${B}" ${n}>${O}</style>`)}return x},[]).join("")},getStyleSheet({name:e="",theme:t={},params:i,props:a={},set:l,defaults:c}){var y;const n={name:e,theme:t,params:i,set:l,defaults:c},x=(y=e.includes("-directive")?this.getPresetD(n):this.getPresetC(n))==null?void 0:y.css,C=Object.entries(a).reduce((k,[O,B])=>k.push(`${O}="${B}"`)&&k,[]).join(" ");return x?`<style type="text/css" data-primevue-style-id="${e}-variables" ${C}>${M1(x)}</style>`:""},createTokens(e={},t,i="",a="",l={}){return Object.entries(e).forEach(([c,y])=>{const n=bl(c,t.variable.excludedKeyRegex)?i:i?`${i}.${M9(c)}`:M9(c),x=a?`${a}.${c}`:c;Uc(y)?this.createTokens(y,t,n,x,l):(l[n]||(l[n]={paths:[],computed(C,k={}){if(C){const O=this.paths.find(B=>B.scheme===C)||this.paths.find(B=>B.scheme==="none");return O==null?void 0:O.computed(C,k.binding)}return this.paths.map(O=>O.computed(O.scheme,k[O.scheme]))}}),l[n].paths.push({path:x,value:y,scheme:x.includes("colorScheme.light")?"light":x.includes("colorScheme.dark")?"dark":"none",computed(C,k={}){const O=/{([^}]*)}/g;let B=y;if(k.name=this.path,k.binding||(k.binding={}),bl(y,O)){const V=y.trim().replaceAll(O,Y=>{var J,re;const ce=Y.replace(/{|}/g,"");return(re=(J=l[ce])==null?void 0:J.computed(C,k))==null?void 0:re.value}),G=/(\d+\w*\s+[\+\-\*\/]\s+\d+\w*)/g,Q=/var\([^)]+\)/g;B=bl(V.replace(Q,"0"),G)?`calc(${V})`:V}return Qr(k.binding)&&delete k.binding,{colorScheme:C,path:this.path,paths:k,value:B.includes("undefined")?void 0:B}}}))}),l},getTokenValue(e,t,i){var a;const c=(x=>x.split(".").filter(k=>!bl(k.toLowerCase(),i.variable.excludedKeyRegex)).join("."))(t),y=t.includes("colorScheme.light")?"light":t.includes("colorScheme.dark")?"dark":void 0,n=[(a=e[c])==null?void 0:a.computed(y)].flat().filter(x=>x);return n.length===1?n[0].value:n.reduce((x={},C)=>{const k=C,{colorScheme:O}=k,B=a1(k,["colorScheme"]);return x[O]=B,x},void 0)},transformCSS(e,t,i,a,l={},c,y,n){if(Bn(t)){const{cssLayer:x}=l;if(a!=="style"){const C=this.getColorSchemeOption(l,y),k=n?g1(n,t):t;t=i==="dark"?C.reduce((O,{selector:B})=>(Bn(B)&&(O+=B.includes("[CSS]")?B.replace("[CSS]",k):g1(B,k)),O),""):g1(n??":root",t)}if(x){const C={name:"primeui",order:"primeui"};Uc(x)&&(C.name=Vc(x.name,{name:e,type:a})),Bn(C.name)&&(t=g1(`@layer ${C.name}`,t),c==null||c.layerNames(C.name))}return t}return""}},So={defaults:{variable:{prefix:"p",selector:":root",excludedKeyRegex:/^(primitive|semantic|components|directives|variables|colorscheme|light|dark|common|root|states)$/gi},options:{prefix:"p",darkModeSelector:"system",cssLayer:!1}},_theme:void 0,_layerNames:new Set,_loadedStyleNames:new Set,_loadingStyles:new Set,_tokens:{},update(e={}){const{theme:t}=e;t&&(this._theme=o3(r1({},t),{options:r1(r1({},this.defaults.options),t.options)}),this._tokens=ic.createTokens(this.preset,this.defaults),this.clearLoadedStyleNames())},get theme(){return this._theme},get preset(){var e;return((e=this.theme)==null?void 0:e.preset)||{}},get options(){var e;return((e=this.theme)==null?void 0:e.options)||{}},get tokens(){return this._tokens},getTheme(){return this.theme},setTheme(e){this.update({theme:e}),nc.emit("theme:change",e)},getPreset(){return this.preset},setPreset(e){this._theme=o3(r1({},this.theme),{preset:e}),this._tokens=ic.createTokens(e,this.defaults),this.clearLoadedStyleNames(),nc.emit("preset:change",e),nc.emit("theme:change",this.theme)},getOptions(){return this.options},setOptions(e){this._theme=o3(r1({},this.theme),{options:e}),this.clearLoadedStyleNames(),nc.emit("options:change",e),nc.emit("theme:change",this.theme)},getLayerNames(){return[...this._layerNames]},setLayerNames(e){this._layerNames.add(e)},getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(e){return this._loadedStyleNames.has(e)},setLoadedStyleName(e){this._loadedStyleNames.add(e)},deleteLoadedStyleName(e){this._loadedStyleNames.delete(e)},clearLoadedStyleNames(){this._loadedStyleNames.clear()},getTokenValue(e){return ic.getTokenValue(this.tokens,e,this.defaults)},getCommon(e="",t){return ic.getCommon({name:e,theme:this.theme,params:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getComponent(e="",t){const i={name:e,theme:this.theme,params:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return ic.getPresetC(i)},getDirective(e="",t){const i={name:e,theme:this.theme,params:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return ic.getPresetD(i)},getCustomPreset(e="",t,i,a){const l={name:e,preset:t,options:this.options,selector:i,params:a,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return ic.getPreset(l)},getLayerOrderCSS(e=""){return ic.getLayerOrder(e,this.options,{names:this.getLayerNames()},this.defaults)},transformCSS(e="",t,i="style",a){return ic.transformCSS(e,t,a,i,this.options,{layerNames:this.setLayerNames.bind(this)},this.defaults)},getCommonStyleSheet(e="",t,i={}){return ic.getCommonStyleSheet({name:e,theme:this.theme,params:t,props:i,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getStyleSheet(e,t,i={}){return ic.getStyleSheet({name:e,theme:this.theme,params:t,props:i,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},onStyleMounted(e){this._loadingStyles.add(e)},onStyleUpdated(e){this._loadingStyles.add(e)},onStyleLoaded(e,{name:t}){this._loadingStyles.size&&(this._loadingStyles.delete(t),nc.emit(`theme:${t}:load`,e),!this._loadingStyles.size&&nc.emit("theme:load"))}},jr={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"},Nb={AND:"and",OR:"or"};function D9(e,t){var i=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=kD(e))||t){i&&(e=i);var a=0,l=function(){};return{s:l,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(C){throw C},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,y=!0,n=!1;return{s:function(){i=i.call(e)},n:function(){var C=i.next();return y=C.done,C},e:function(C){n=!0,c=C},f:function(){try{y||i.return==null||i.return()}finally{if(n)throw c}}}}function kD(e,t){if(e){if(typeof e=="string")return B9(e,t);var i={}.toString.call(e).slice(8,-1);return i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set"?Array.from(e):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?B9(e,t):void 0}}function B9(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,a=Array(t);i<t;i++)a[i]=e[i];return a}var $b={filter:function(t,i,a,l,c){var y=[];if(!t)return y;var n=D9(t),x;try{for(n.s();!(x=n.n()).done;){var C=x.value;if(typeof C=="string"){if(this.filters[l](C,a,c)){y.push(C);continue}}else{var k=D9(i),O;try{for(k.s();!(O=k.n()).done;){var B=O.value,L=On(C,B);if(this.filters[l](L,a,c)){y.push(C);break}}}catch(V){k.e(V)}finally{k.f()}}}}catch(V){n.e(V)}finally{n.f()}return y},filters:{startsWith:function(t,i,a){if(i==null||i==="")return!0;if(t==null)return!1;var l=Es(i.toString()).toLocaleLowerCase(a),c=Es(t.toString()).toLocaleLowerCase(a);return c.slice(0,l.length)===l},contains:function(t,i,a){if(i==null||i==="")return!0;if(t==null)return!1;var l=Es(i.toString()).toLocaleLowerCase(a),c=Es(t.toString()).toLocaleLowerCase(a);return c.indexOf(l)!==-1},notContains:function(t,i,a){if(i==null||i==="")return!0;if(t==null)return!1;var l=Es(i.toString()).toLocaleLowerCase(a),c=Es(t.toString()).toLocaleLowerCase(a);return c.indexOf(l)===-1},endsWith:function(t,i,a){if(i==null||i==="")return!0;if(t==null)return!1;var l=Es(i.toString()).toLocaleLowerCase(a),c=Es(t.toString()).toLocaleLowerCase(a);return c.indexOf(l,c.length-l.length)!==-1},equals:function(t,i,a){return i==null||i===""?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()===i.getTime():Es(t.toString()).toLocaleLowerCase(a)==Es(i.toString()).toLocaleLowerCase(a)},notEquals:function(t,i,a){return i==null||i===""?!1:t==null?!0:t.getTime&&i.getTime?t.getTime()!==i.getTime():Es(t.toString()).toLocaleLowerCase(a)!=Es(i.toString()).toLocaleLowerCase(a)},in:function(t,i){if(i==null||i.length===0)return!0;for(var a=0;a<i.length;a++)if(ac(t,i[a]))return!0;return!1},between:function(t,i){return i==null||i[0]==null||i[1]==null?!0:t==null?!1:t.getTime?i[0].getTime()<=t.getTime()&&t.getTime()<=i[1].getTime():i[0]<=t&&t<=i[1]},lt:function(t,i){return i==null?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()<i.getTime():t<i},lte:function(t,i){return i==null?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()<=i.getTime():t<=i},gt:function(t,i){return i==null?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()>i.getTime():t>i},gte:function(t,i){return i==null?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()>=i.getTime():t>=i},dateIs:function(t,i){return i==null?!0:t==null?!1:t.toDateString()===i.toDateString()},dateIsNot:function(t,i){return i==null?!0:t==null?!1:t.toDateString()!==i.toDateString()},dateBefore:function(t,i){return i==null?!0:t==null?!1:t.getTime()<i.getTime()},dateAfter:function(t,i){return i==null?!0:t==null?!1:t.getTime()>i.getTime()}},register:function(t,i){this.filters[t]=i}};function bT(e,t){return e?e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className):!1}function vl(e,t){if(e&&t){const i=a=>{bT(e,a)||(e.classList?e.classList.add(a):e.className+=" "+a)};[t].flat().filter(Boolean).forEach(a=>a.split(" ").forEach(i))}}function MD(){return window.innerWidth-document.documentElement.offsetWidth}function Lp(e){for(const t of document==null?void 0:document.styleSheets)try{for(const i of t==null?void 0:t.cssRules)for(const a of i==null?void 0:i.style)if(e.test(a))return{name:a,value:i.style.getPropertyValue(a).trim()}}catch{}return null}function j9(e="p-overflow-hidden"){const t=Lp(/-scrollbar-width$/);t!=null&&t.name&&document.body.style.setProperty(t.name,MD()+"px"),vl(document.body,e)}function AD(e){if(e){let t=document.createElement("a");if(t.download!==void 0){const{name:i,src:a}=e;return t.setAttribute("href",a),t.setAttribute("download",i),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t),!0}}return!1}function OD(e,t){let i=new Blob([e],{type:"application/csv;charset=utf-8;"});window.navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(i,t+".csv"):AD({name:t+".csv",src:URL.createObjectURL(i)})||(e="data:text/csv;charset=utf-8,"+e,window.open(encodeURI(e)))}function Bc(e,t){if(e&&t){const i=a=>{e.classList?e.classList.remove(a):e.className=e.className.replace(new RegExp("(^|\\b)"+a.split(" ").join("|")+"(\\b|$)","gi")," ")};[t].flat().filter(Boolean).forEach(a=>a.split(" ").forEach(i))}}function z9(e="p-overflow-hidden"){const t=Lp(/-scrollbar-width$/);t!=null&&t.name&&document.body.style.removeProperty(t.name),Bc(document.body,e)}function vT(e){let t={width:0,height:0};return e&&(e.style.visibility="hidden",e.style.display="block",t.width=e.offsetWidth,t.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible"),t}function A2(){let e=window,t=document,i=t.documentElement,a=t.getElementsByTagName("body")[0],l=e.innerWidth||i.clientWidth||a.clientWidth,c=e.innerHeight||i.clientHeight||a.clientHeight;return{width:l,height:c}}function xT(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}function _6(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}function O2(e,t,i=!0){var a,l,c,y;if(e){const n=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:vT(e),x=n.height,C=n.width,k=t.offsetHeight,O=t.offsetWidth,B=t.getBoundingClientRect(),L=_6(),V=xT(),G=A2();let Q,Y,J="top";B.top+k+x>G.height?(Q=B.top+L-x,J="bottom",Q<0&&(Q=L)):Q=k+B.top+L,B.left+C>G.width?Y=Math.max(0,B.left+V+O-C):Y=B.left+V,e.style.top=Q+"px",e.style.left=Y+"px",e.style.transformOrigin=J,i&&(e.style.marginTop=J==="bottom"?`calc(${(l=(a=Lp(/-anchor-gutter$/))==null?void 0:a.value)!=null?l:"2px"} * -1)`:(y=(c=Lp(/-anchor-gutter$/))==null?void 0:c.value)!=null?y:"")}}function kh(e,t){e&&(typeof t=="string"?e.style.cssText=t:Object.entries(t||{}).forEach(([i,a])=>e.style[i]=a))}function mr(e,t){return e instanceof HTMLElement?e.offsetWidth:0}function wT(e,t,i=!0){var a,l,c,y;if(e){const n=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:vT(e),x=t.offsetHeight,C=t.getBoundingClientRect(),k=A2();let O,B,L="top";C.top+x+n.height>k.height?(O=-1*n.height,L="bottom",C.top+O<0&&(O=-1*C.top)):O=x,n.width>k.width?B=C.left*-1:C.left+n.width>k.width?B=(C.left+n.width-k.width)*-1:B=0,e.style.top=O+"px",e.style.left=B+"px",e.style.transformOrigin=L,i&&(e.style.marginTop=L==="bottom"?`calc(${(l=(a=Lp(/-anchor-gutter$/))==null?void 0:a.value)!=null?l:"2px"} * -1)`:(y=(c=Lp(/-anchor-gutter$/))==null?void 0:c.value)!=null?y:"")}}function t0(e){return typeof HTMLElement=="object"?e instanceof HTMLElement:e&&typeof e=="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"}function vb(){if(window.getSelection){const e=window.getSelection()||{};e.empty?e.empty():e.removeAllRanges&&e.rangeCount>0&&e.getRangeAt(0).getClientRects().length>0&&e.removeAllRanges()}}function Ub(e,t={}){if(t0(e)){const i=(a,l)=>{var c,y;const n=(c=e==null?void 0:e.$attrs)!=null&&c[a]?[(y=e==null?void 0:e.$attrs)==null?void 0:y[a]]:[];return[l].flat().reduce((x,C)=>{if(C!=null){const k=typeof C;if(k==="string"||k==="number")x.push(C);else if(k==="object"){const O=Array.isArray(C)?i(a,C):Object.entries(C).map(([B,L])=>a==="style"&&(L||L===0)?`${B.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${L}`:L?B:void 0);x=O.length?x.concat(O.filter(B=>!!B)):x}}return x},n)};Object.entries(t).forEach(([a,l])=>{if(l!=null){const c=a.match(/^on(.+)/);c?e.addEventListener(c[1].toLowerCase(),l):a==="p-bind"?Ub(e,l):(l=a==="class"?[...new Set(i("class",l))].join(" ").trim():a==="style"?i("style",l).join(";").trim():l,(e.$attrs=e.$attrs||{})&&(e.$attrs[a]=l),e.setAttribute(a,l))}})}}function A1(e,t={},...i){if(e){const a=document.createElement(e);return Ub(a,t),a.append(...i),a}}function LD(e,t){if(e){e.style.opacity="0";let i=+new Date,a="0",l=function(){a=`${+e.style.opacity+(new Date().getTime()-i)/t}`,e.style.opacity=a,i=+new Date,+a<1&&(window.requestAnimationFrame&&requestAnimationFrame(l)||setTimeout(l,16))};l()}}function lp(e,t){return t0(e)?Array.from(e.querySelectorAll(t)):[]}function ks(e,t){return t0(e)?e.matches(t)?e:e.querySelector(t):null}function Zo(e,t){e&&document.activeElement!==e&&e.focus(t)}function Uo(e,t){if(t0(e)){const i=e.getAttribute(t);return isNaN(i)?i==="true"||i==="false"?i==="true":i:+i}}function L2(e,t=""){let i=lp(e,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
            [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
            input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
            select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
            textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
            [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
            [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`),a=[];for(let l of i)getComputedStyle(l).display!="none"&&getComputedStyle(l).visibility!="hidden"&&a.push(l);return a}function Nd(e,t){const i=L2(e,t);return i.length>0?i[0]:null}function yh(e){if(e){let t=e.offsetHeight,i=getComputedStyle(e);return t-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),t}return 0}function DD(e){if(e){e.style.visibility="hidden",e.style.display="block";let t=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",t}return 0}function BD(e){if(e){e.style.visibility="hidden",e.style.display="block";let t=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",t}return 0}function y6(e){if(e){let t=e.parentNode;return t&&t instanceof ShadowRoot&&t.host&&(t=t.host),t}return null}function xb(e){var t;if(e){let i=(t=y6(e))==null?void 0:t.childNodes,a=0;if(i)for(let l=0;l<i.length;l++){if(i[l]===e)return a;i[l].nodeType===1&&a++}}return-1}function b6(e,t){const i=L2(e,t);return i.length>0?i[i.length-1]:null}function v6(e,t){let i=e.nextElementSibling;for(;i;){if(i.matches(t))return i;i=i.nextElementSibling}return null}function $d(e){if(e){let t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}function Rs(e,t){return e?e.offsetHeight:0}function FT(e,t=[]){const i=y6(e);return i===null?t:FT(i,t.concat([i]))}function x6(e,t){let i=e.previousElementSibling;for(;i;){if(i.matches(t))return i;i=i.previousElementSibling}return null}function jD(e){let t=[];if(e){let i=FT(e);const a=/(auto|scroll)/,l=c=>{try{let y=window.getComputedStyle(c,null);return a.test(y.getPropertyValue("overflow"))||a.test(y.getPropertyValue("overflowX"))||a.test(y.getPropertyValue("overflowY"))}catch{return!1}};for(let c of i){let y=c.nodeType===1&&c.dataset.scrollselectors;if(y){let n=y.split(",");for(let x of n){let C=ks(c,x);C&&l(C)&&t.push(C)}}c.nodeType!==9&&l(c)&&t.push(c)}}return t}function V9(){if(window.getSelection)return window.getSelection().toString();if(document.getSelection)return document.getSelection().toString()}function CT(e){return!!(e!==null&&typeof e<"u"&&e.nodeName&&y6(e))}function bh(e){if(e){let t=e.offsetWidth,i=getComputedStyle(e);return t-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth),t}return 0}function N9(e,t,i){e[t].apply(e,i)}function zD(){return/(android)/i.test(navigator.userAgent)}function a3(e){if(e){const t=e.nodeName,i=e.parentElement&&e.parentElement.nodeName;return t==="INPUT"||t==="TEXTAREA"||t==="BUTTON"||t==="A"||i==="INPUT"||i==="TEXTAREA"||i==="BUTTON"||i==="A"||!!e.closest(".p-button, .p-checkbox, .p-radiobutton")}return!1}function w6(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function $9(e,t=""){return t0(e)?e.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
            [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
            input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
            select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
            textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
            [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
            [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`):!1}function Gb(e){return!!(e&&e.offsetParent!=null)}function Vg(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}function Ng(e,t="",i){t0(e)&&i!==null&&i!==void 0&&e.setAttribute(t,i)}function K1(e){"@babel/helpers - typeof";return K1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K1(e)}function U9(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),i.push.apply(i,a)}return i}function G9(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?U9(Object(i),!0).forEach(function(a){VD(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):U9(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function VD(e,t,i){return(t=ND(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ND(e){var t=$D(e,"string");return K1(t)=="symbol"?t:t+""}function $D(e,t){if(K1(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t||"default");if(K1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UD(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;h6()?Bh(e):t?e():Fl(e)}var GD=0;function HD(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=ai(!1),a=ai(e),l=ai(null),c=w6()?window.document:void 0,y=t.document,n=y===void 0?c:y,x=t.immediate,C=x===void 0?!0:x,k=t.manual,O=k===void 0?!1:k,B=t.name,L=B===void 0?"style_".concat(++GD):B,V=t.id,G=V===void 0?void 0:V,Q=t.media,Y=Q===void 0?void 0:Q,J=t.nonce,re=J===void 0?void 0:J,ce=t.first,he=ce===void 0?!1:ce,we=t.onMounted,pe=we===void 0?void 0:we,De=t.onUpdated,Ae=De===void 0?void 0:De,Ne=t.onLoad,it=Ne===void 0?void 0:Ne,ye=t.props,Oe=ye===void 0?{}:ye,ue=function(){},ct=function(Ut){var vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n){var Bt=G9(G9({},Oe),vt),It=Bt.name||L,St=Bt.id||G,Wt=Bt.nonce||re;l.value=n.querySelector('style[data-primevue-style-id="'.concat(It,'"]'))||n.getElementById(St)||n.createElement("style"),l.value.isConnected||(a.value=Ut||e,Ub(l.value,{type:"text/css",id:St,media:Y,nonce:Wt}),he?n.head.prepend(l.value):n.head.appendChild(l.value),Ng(l.value,"data-primevue-style-id",It),Ub(l.value,Bt),l.value.onload=function(ui){return it==null?void 0:it(ui,{name:It})},pe==null||pe(It)),!i.value&&(ue=Ir(a,function(ui){l.value.textContent=ui,Ae==null||Ae(It)},{immediate:!0}),i.value=!0)}},Ct=function(){!n||!i.value||(ue(),CT(l.value)&&n.head.removeChild(l.value),i.value=!1)};return C&&!O&&UD(ct),{id:G,name:L,el:l,css:a,unload:Ct,load:ct,isLoaded:e6(i)}}function Z1(e){"@babel/helpers - typeof";return Z1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z1(e)}function H9(e,t){return ZD(e)||KD(e,t)||WD(e,t)||qD()}function qD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WD(e,t){if(e){if(typeof e=="string")return q9(e,t);var i={}.toString.call(e).slice(8,-1);return i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set"?Array.from(e):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?q9(e,t):void 0}}function q9(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,a=Array(t);i<t;i++)a[i]=e[i];return a}function KD(e,t){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var a,l,c,y,n=[],x=!0,C=!1;try{if(c=(i=i.call(e)).next,t!==0)for(;!(x=(a=c.call(i)).done)&&(n.push(a.value),n.length!==t);x=!0);}catch(k){C=!0,l=k}finally{try{if(!x&&i.return!=null&&(y=i.return(),Object(y)!==y))return}finally{if(C)throw l}}return n}}function ZD(e){if(Array.isArray(e))return e}function W9(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),i.push.apply(i,a)}return i}function s3(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?W9(Object(i),!0).forEach(function(a){QD(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):W9(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function QD(e,t,i){return(t=XD(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function XD(e){var t=JD(e,"string");return Z1(t)=="symbol"?t:t+""}function JD(e,t){if(Z1(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t||"default");if(Z1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YD=function(t){var i=t.dt;return`
* {
    box-sizing: border-box;
}

/* Non vue overlay animations */
.p-connected-overlay {
    opacity: 0;
    transform: scaleY(0.8);
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1),
        opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-visible {
    opacity: 1;
    transform: scaleY(1);
}

.p-connected-overlay-hidden {
    opacity: 0;
    transform: scaleY(1);
    transition: opacity 0.1s linear;
}

/* Vue based overlay animations */
.p-connected-overlay-enter-from {
    opacity: 0;
    transform: scaleY(0.8);
}

.p-connected-overlay-leave-to {
    opacity: 0;
}

.p-connected-overlay-enter-active {
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1),
        opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-leave-active {
    transition: opacity 0.1s linear;
}

/* Toggleable Content */
.p-toggleable-content-enter-from,
.p-toggleable-content-leave-to {
    max-height: 0;
}

.p-toggleable-content-enter-to,
.p-toggleable-content-leave-from {
    max-height: 1000px;
}

.p-toggleable-content-leave-active {
    overflow: hidden;
    transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
}

.p-toggleable-content-enter-active {
    overflow: hidden;
    transition: max-height 1s ease-in-out;
}

.p-disabled,
.p-disabled * {
    cursor: default;
    pointer-events: none;
    user-select: none;
}

.p-disabled,
.p-component:disabled {
    opacity: `.concat(i("disabled.opacity"),`;
}

.pi {
    font-size: `).concat(i("icon.size"),`;
}

.p-icon {
    width: `).concat(i("icon.size"),`;
    height: `).concat(i("icon.size"),`;
}

.p-overlay-mask {
    background: `).concat(i("mask.background"),`;
    color: `).concat(i("mask.color"),`;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-overlay-mask-enter {
    animation: p-overlay-mask-enter-animation `).concat(i("mask.transition.duration"),` forwards;
}

.p-overlay-mask-leave {
    animation: p-overlay-mask-leave-animation `).concat(i("mask.transition.duration"),` forwards;
}

@keyframes p-overlay-mask-enter-animation {
    from {
        background: transparent;
    }
    to {
        background: `).concat(i("mask.background"),`;
    }
}
@keyframes p-overlay-mask-leave-animation {
    from {
        background: `).concat(i("mask.background"),`;
    }
    to {
        background: transparent;
    }
}
`)},eB=function(t){var i=t.dt;return`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: `.concat(i("scrollbar.width"),`;
}
`)},tB={},iB={},In={name:"base",css:eB,theme:YD,classes:tB,inlineStyles:iB,load:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(c){return c},l=a(Vc(t,{dt:r3}));return l?HD(M1(l),s3({name:this.name},i)):{}},loadCSS:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.load(this.css,t)},loadTheme:function(){var t=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.load(this.theme,i,function(a){return So.transformCSS(i.name||t.name,a)})},getCommonTheme:function(t){return So.getCommon(this.name,t)},getComponentTheme:function(t){return So.getComponent(this.name,t)},getDirectiveTheme:function(t){return So.getDirective(this.name,t)},getPresetTheme:function(t,i,a){return So.getCustomPreset(this.name,t,i,a)},getLayerOrderThemeCSS:function(){return So.getLayerOrderCSS(this.name)},getStyleSheet:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var a=Vc(this.css,{dt:r3}),l=M1("".concat(a).concat(t)),c=Object.entries(i).reduce(function(y,n){var x=H9(n,2),C=x[0],k=x[1];return y.push("".concat(C,'="').concat(k,'"'))&&y},[]).join(" ");return'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(c,">").concat(l,"</style>")}return""},getCommonThemeStyleSheet:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return So.getCommonStyleSheet(this.name,t,i)},getThemeStyleSheet:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=[So.getStyleSheet(this.name,t,i)];if(this.theme){var l=this.name==="base"?"global-style":"".concat(this.name,"-style"),c=Vc(this.theme,{dt:r3}),y=M1(So.transformCSS(l,c)),n=Object.entries(i).reduce(function(x,C){var k=H9(C,2),O=k[0],B=k[1];return x.push("".concat(O,'="').concat(B,'"'))&&x},[]).join(" ");a.push('<style type="text/css" data-primevue-style-id="'.concat(l,'" ').concat(n,">").concat(y,"</style>"))}return a.join("")},extend:function(t){return s3(s3({},this),{},{css:void 0,theme:void 0},t)}},pp=g6(),ib={};function nB(e="pui_id_"){return ib.hasOwnProperty(e)||(ib[e]=0),ib[e]++,`${e}${ib[e]}`}function oB(){let e=[];const t=(y,n,x=999)=>{const C=l(y,n,x),k=C.value+(C.key===y?0:x)+1;return e.push({key:y,value:k}),k},i=y=>{e=e.filter(n=>n.value!==y)},a=(y,n)=>l(y).value,l=(y,n,x=0)=>[...e].reverse().find(C=>!0)||{key:y,value:x},c=y=>y&&parseInt(y.style.zIndex,10)||0;return{get:c,set:(y,n,x)=>{n&&(n.style.zIndex=String(t(y,!0,x)))},clear:y=>{y&&(i(c(y)),y.style.zIndex="")},getCurrent:y=>a(y)}}var Zr=oB();function Q1(e){"@babel/helpers - typeof";return Q1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q1(e)}function K9(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),i.push.apply(i,a)}return i}function c3(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?K9(Object(i),!0).forEach(function(a){rB(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):K9(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function rB(e,t,i){return(t=aB(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function aB(e){var t=sB(e,"string");return Q1(t)=="symbol"?t:t+""}function sB(e,t){if(Q1(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t||"default");if(Q1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cB={ripple:!1,inputStyle:null,inputVariant:null,locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",fileChosenMessage:"{0} files",noFileChosenMessage:"No file chosen",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List"}},filterMatchModeOptions:{text:[jr.STARTS_WITH,jr.CONTAINS,jr.NOT_CONTAINS,jr.ENDS_WITH,jr.EQUALS,jr.NOT_EQUALS],numeric:[jr.EQUALS,jr.NOT_EQUALS,jr.LESS_THAN,jr.LESS_THAN_OR_EQUAL_TO,jr.GREATER_THAN,jr.GREATER_THAN_OR_EQUAL_TO],date:[jr.DATE_IS,jr.DATE_IS_NOT,jr.DATE_BEFORE,jr.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},theme:void 0,unstyled:!1,pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},csp:{nonce:void 0}},lB=Symbol();function dB(e,t){var i={config:Yp(t)};return e.config.globalProperties.$primevue=i,e.provide(lB,i),uB(),hB(e,i),i}var mp=[];function uB(){nc.clear(),mp.forEach(function(e){return e==null?void 0:e()}),mp=[]}function hB(e,t){var i=ai(!1),a=function(){if(!So.isStyleNameLoaded("common")){var C,k,O=((C=In.getCommonTheme)===null||C===void 0?void 0:C.call(In))||{},B=O.primitive,L=O.semantic,V={nonce:(k=t.config)===null||k===void 0||(k=k.csp)===null||k===void 0?void 0:k.nonce};In.load(B==null?void 0:B.css,c3({name:"primitive-variables"},V)),In.load(L==null?void 0:L.css,c3({name:"semantic-variables"},V)),In.loadTheme(c3({name:"global-style"},V)),So.setLoadedStyleName("common")}};nc.on("theme:change",function(x){i.value||(e.config.globalProperties.$primevue.config.theme=x,i.value=!0)});var l=Ir(t.config,function(x,C){pp.emit("config:change",{newValue:x,oldValue:C})},{immediate:!0,deep:!0}),c=Ir(function(){return t.config.ripple},function(x,C){pp.emit("config:ripple:change",{newValue:x,oldValue:C})},{immediate:!0,deep:!0}),y=Ir(function(){return t.config.theme},function(x,C){i.value||So.setTheme(x),t.config.unstyled||a(),i.value=!1,pp.emit("config:theme:change",{newValue:x,oldValue:C})},{immediate:!0,deep:!0}),n=Ir(function(){return t.config.unstyled},function(x,C){!x&&t.config.theme&&a(),pp.emit("config:unstyled:change",{newValue:x,oldValue:C})},{immediate:!0,deep:!0});mp.push(l),mp.push(c),mp.push(y),mp.push(n)}var fB={install:function(t,i){var a=vD(cB,i);dB(t,a)}},pB={root:{transitionDuration:"{transition.duration}"},panel:{borderWidth:"0 0 1px 0",borderColor:"{content.border.color}"},header:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",padding:"1.125rem",fontWeight:"600",borderRadius:"0",borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",hoverBackground:"{content.background}",activeBackground:"{content.background}",activeHoverBackground:"{content.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",activeHoverColor:"{text.color}"},first:{topBorderRadius:"{content.border.radius}",borderWidth:"0"},last:{bottomBorderRadius:"{content.border.radius}",activeBottomBorderRadius:"0"}},content:{borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",color:"{text.color}",padding:"0 1.125rem 1.125rem 1.125rem"}},mB={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},dropdown:{width:"2.5rem",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},chip:{borderRadius:"{border.radius.sm}"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"}},dark:{dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"}}}},gB={root:{width:"2rem",height:"2rem",fontSize:"1rem",background:"{content.border.color}",borderRadius:"{content.border.radius}"},group:{borderColor:"{content.background}",offset:"-1rem"},lg:{width:"3rem",height:"3rem",fontSize:"1.5rem"},xl:{width:"4rem",height:"4rem",fontSize:"2rem"}},_B={root:{borderRadius:"{border.radius.md}",padding:"0 0.5rem",fontSize:"0.75rem",fontWeight:"700",minWidth:"1.5rem",height:"1.5rem"},dot:{size:"0.5rem"},sm:{fontSize:"0.625rem",minWidth:"1.25rem",height:"1.25rem"},lg:{fontSize:"0.875rem",minWidth:"1.75rem",height:"1.75rem"},xl:{fontSize:"1rem",minWidth:"2rem",height:"2rem"},colorScheme:{light:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.500}",color:"{surface.0}"},info:{background:"{sky.500}",color:"{surface.0}"},warn:{background:"{orange.500}",color:"{surface.0}"},danger:{background:"{red.500}",color:"{surface.0}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"{green.400}",color:"{green.950}"},info:{background:"{sky.400}",color:"{sky.950}"},warn:{background:"{orange.400}",color:"{orange.950}"},danger:{background:"{red.400}",color:"{red.950}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}},yB={root:{borderRadius:"{content.border.radius}"}},bB={root:{padding:"1rem",background:"{content.background}",gap:"0.5rem",transitionDuration:"{transition.duration}"},item:{color:"{text.muted.color}",hoverColor:"{text.color}",borderRadius:"{content.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",hoverColor:"{navigation.item.icon.focus.color}"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},separator:{color:"{navigation.item.icon.color}"}},vB={root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",gap:"0.5rem",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",iconOnlyWidth:"2.5rem",sm:{fontSize:"0.875rem",paddingX:"0.625rem",paddingY:"0.375rem"},lg:{fontSize:"1.125rem",paddingX:"0.875rem",paddingY:"0.625rem"},label:{fontWeight:"500"},raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"},badgeSize:"1rem",transitionDuration:"{form.field.transition.duration}"},colorScheme:{light:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",borderColor:"{surface.100}",hoverBorderColor:"{surface.200}",activeBorderColor:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}",focusRing:{color:"{surface.600}",shadow:"none"}},info:{background:"{sky.500}",hoverBackground:"{sky.600}",activeBackground:"{sky.700}",borderColor:"{sky.500}",hoverBorderColor:"{sky.600}",activeBorderColor:"{sky.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{sky.500}",shadow:"none"}},success:{background:"{green.500}",hoverBackground:"{green.600}",activeBackground:"{green.700}",borderColor:"{green.500}",hoverBorderColor:"{green.600}",activeBorderColor:"{green.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{green.500}",shadow:"none"}},warn:{background:"{orange.500}",hoverBackground:"{orange.600}",activeBackground:"{orange.700}",borderColor:"{orange.500}",hoverBorderColor:"{orange.600}",activeBorderColor:"{orange.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{orange.500}",shadow:"none"}},help:{background:"{purple.500}",hoverBackground:"{purple.600}",activeBackground:"{purple.700}",borderColor:"{purple.500}",hoverBorderColor:"{purple.600}",activeBorderColor:"{purple.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{purple.500}",shadow:"none"}},danger:{background:"{red.500}",hoverBackground:"{red.600}",activeBackground:"{red.700}",borderColor:"{red.500}",hoverBorderColor:"{red.600}",activeBorderColor:"{red.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{red.500}",shadow:"none"}},contrast:{background:"{surface.950}",hoverBackground:"{surface.900}",activeBackground:"{surface.800}",borderColor:"{surface.950}",hoverBorderColor:"{surface.900}",activeBorderColor:"{surface.800}",color:"{surface.0}",hoverColor:"{surface.0}",activeColor:"{surface.0}",focusRing:{color:"{surface.950}",shadow:"none"}}},outlined:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",borderColor:"{primary.200}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",borderColor:"{green.200}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",borderColor:"{sky.200}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",borderColor:"{orange.200}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",borderColor:"{purple.200}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",borderColor:"{red.200}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.700}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.700}"}},text:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",color:"{red.500}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.700}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},dark:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",borderColor:"{surface.800}",hoverBorderColor:"{surface.700}",activeBorderColor:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}",focusRing:{color:"{surface.300}",shadow:"none"}},info:{background:"{sky.400}",hoverBackground:"{sky.300}",activeBackground:"{sky.200}",borderColor:"{sky.400}",hoverBorderColor:"{sky.300}",activeBorderColor:"{sky.200}",color:"{sky.950}",hoverColor:"{sky.950}",activeColor:"{sky.950}",focusRing:{color:"{sky.400}",shadow:"none"}},success:{background:"{green.400}",hoverBackground:"{green.300}",activeBackground:"{green.200}",borderColor:"{green.400}",hoverBorderColor:"{green.300}",activeBorderColor:"{green.200}",color:"{green.950}",hoverColor:"{green.950}",activeColor:"{green.950}",focusRing:{color:"{green.400}",shadow:"none"}},warn:{background:"{orange.400}",hoverBackground:"{orange.300}",activeBackground:"{orange.200}",borderColor:"{orange.400}",hoverBorderColor:"{orange.300}",activeBorderColor:"{orange.200}",color:"{orange.950}",hoverColor:"{orange.950}",activeColor:"{orange.950}",focusRing:{color:"{orange.400}",shadow:"none"}},help:{background:"{purple.400}",hoverBackground:"{purple.300}",activeBackground:"{purple.200}",borderColor:"{purple.400}",hoverBorderColor:"{purple.300}",activeBorderColor:"{purple.200}",color:"{purple.950}",hoverColor:"{purple.950}",activeColor:"{purple.950}",focusRing:{color:"{purple.400}",shadow:"none"}},danger:{background:"{red.400}",hoverBackground:"{red.300}",activeBackground:"{red.200}",borderColor:"{red.400}",hoverBorderColor:"{red.300}",activeBorderColor:"{red.200}",color:"{red.950}",hoverColor:"{red.950}",activeColor:"{red.950}",focusRing:{color:"{red.400}",shadow:"none"}},contrast:{background:"{surface.0}",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{surface.0}",hoverBorderColor:"{surface.100}",activeBorderColor:"{surface.200}",color:"{surface.950}",hoverColor:"{surface.950}",activeColor:"{surface.950}",focusRing:{color:"{surface.0}",shadow:"none"}}},outlined:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",borderColor:"{primary.700}",color:"{primary.color}"},secondary:{hoverBackground:"rgba(255,255,255,0.04)",activeBackground:"rgba(255,255,255,0.16)",borderColor:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",borderColor:"{green.700}",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",borderColor:"{sky.700}",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",borderColor:"{orange.700}",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",borderColor:"{purple.700}",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",borderColor:"{red.700}",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.500}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.600}",color:"{surface.0}"}},text:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",color:"{primary.color}"},secondary:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",color:"{red.400}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}}}},xB={root:{background:"{content.background}",borderRadius:"{border.radius.xl}",color:"{content.color}",shadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)"},body:{padding:"1.25rem",gap:"0.5rem"},caption:{gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"500"},subtitle:{color:"{text.muted.color}"}},wB={root:{transitionDuration:"{transition.duration}"},content:{gap:"0.25rem"},indicatorList:{padding:"1rem",gap:"0.5rem"},indicator:{width:"2rem",height:"0.5rem",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{indicator:{background:"{surface.200}",hoverBackground:"{surface.300}",activeBackground:"{primary.color}"}},dark:{indicator:{background:"{surface.700}",hoverBackground:"{surface.600}",activeBackground:"{primary.color}"}}}},FB={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",icon:{color:"{list.option.icon.color}",focusColor:"{list.option.icon.focus.color}",size:"0.875rem"}}},CB={root:{borderRadius:"{border.radius.sm}",width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},icon:{size:"0.875rem",color:"{form.field.color}",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}"}},EB={root:{borderRadius:"16px",paddingX:"0.75rem",paddingY:"0.5rem",gap:"0.5rem",transitionDuration:"{transition.duration}"},image:{width:"2rem",height:"2rem"},icon:{size:"1rem"},removeIcon:{size:"1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"}},colorScheme:{light:{root:{background:"{surface.100}",color:"{surface.800}"},icon:{color:"{surface.800}"},removeIcon:{color:"{surface.800}"}},dark:{root:{background:"{surface.800}",color:"{surface.0}"},icon:{color:"{surface.0}"},removeIcon:{color:"{surface.0}"}}}},SB={root:{transitionDuration:"{transition.duration}"},preview:{width:"1.5rem",height:"1.5rem",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},panel:{shadow:"{overlay.popover.shadow}",borderRadius:"{overlay.popover.borderRadius}"},colorScheme:{light:{panel:{background:"{surface.800}",borderColor:"{surface.900}"},handle:{color:"{surface.0}"}},dark:{panel:{background:"{surface.900}",borderColor:"{surface.700}"},handle:{color:"{surface.0}"}}}},TB={icon:{size:"2rem",color:"{overlay.modal.color}"},content:{gap:"1rem"}},RB={root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}",gap:"1rem"},icon:{size:"1.5rem",color:"{overlay.popover.color}"},footer:{gap:"0.5rem",padding:"0 {overlay.popover.padding} {overlay.popover.padding} {overlay.popover.padding}"}},PB={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}},IB={root:{transitionDuration:"{transition.duration}"},header:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},headerCell:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{datatable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},columnTitle:{fontWeight:"600"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},bodyCell:{borderColor:"{datatable.border.color}",padding:"0.75rem 1rem"},footerCell:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},columnFooter:{fontWeight:"600"},footer:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},dropPointColor:"{primary.color}",columnResizerWidth:"0.5rem",resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}"},loadingIcon:{size:"2rem"},rowToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},filter:{inlineGap:"0.5rem",overlaySelect:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},overlayPopover:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}",gap:"0.5rem"},rule:{borderColor:"{content.border.color}"},constraintList:{padding:"{list.padding}",gap:"{list.gap}"},constraint:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",separator:{borderColor:"{content.border.color}"},padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"}},paginatorTop:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{content.border.color}"},row:{stripedBackground:"{surface.50}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},row:{stripedBackground:"{surface.950}"},bodyCell:{selectedBorderColor:"{primary.900}"}}}},kB={root:{borderColor:"transparent",borderWidth:"0",borderRadius:"0",padding:"0"},header:{background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",borderRadius:"0"},content:{background:"{content.background}",color:"{content.color}",borderColor:"transparent",borderWidth:"0",padding:"0",borderRadius:"0"},footer:{background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"1px 0 0 0",padding:"0.75rem 1rem",borderRadius:"0"},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"1px 0 0 0"}},MB={root:{transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}"},header:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",padding:"0 0 0.5rem 0",fontWeight:"500",gap:"0.5rem"},title:{gap:"0.5rem",fontWeight:"500"},dropdown:{width:"2.5rem",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},inputIcon:{color:"{form.field.icon.color}"},selectMonth:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},selectYear:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},group:{borderColor:"{content.border.color}",gap:"{overlay.popover.padding}"},dayView:{margin:"0.5rem 0 0 0"},weekDay:{padding:"0.25rem",fontWeight:"500",color:"{content.color}"},date:{hoverBackground:"{content.hover.background}",selectedBackground:"{primary.color}",rangeSelectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{primary.contrast.color}",rangeSelectedColor:"{highlight.color}",width:"2rem",height:"2rem",borderRadius:"50%",padding:"0.25rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},monthView:{margin:"0.5rem 0 0 0"},month:{borderRadius:"{content.border.radius}"},yearView:{margin:"0.5rem 0 0 0"},year:{borderRadius:"{content.border.radius}"},buttonbar:{padding:"0.5rem 0 0 0",borderColor:"{content.border.color}"},timePicker:{padding:"0.5rem 0 0 0",borderColor:"{content.border.color}",gap:"0.5rem",buttonGap:"0.25rem"},colorScheme:{light:{dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"},today:{background:"{surface.200}",color:"{surface.900}"}},dark:{dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"},today:{background:"{surface.700}",color:"{surface.0}"}}}},AB={root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",borderRadius:"{overlay.modal.border.radius}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}",gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"600"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},footer:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}",gap:"0.5rem"}},OB={root:{borderColor:"{content.border.color}"},content:{background:"{content.background}",color:"{text.color}"},horizontal:{margin:"1rem 0",padding:"0 1rem",content:{padding:"0 0.5rem"}},vertical:{margin:"0 1rem",padding:"0.5rem 0",content:{padding:"0.5rem 0"}}},LB={root:{background:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.2)",padding:"0.5rem",borderRadius:"{border.radius.xl}"},item:{borderRadius:"{content.border.radius}",padding:"0.5rem",size:"3rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},DB={root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",borderRadius:"{overlay.modal.border.radius}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}"},title:{fontSize:"1.5rem",fontWeight:"600"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"}},BB={toolbar:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}"},toolbarItem:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}",padding:"{list.padding}"},overlayOption:{focusBackground:"{list.option.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},content:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"}},jB={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",padding:"0 1.125rem 1.125rem 1.125rem",transitionDuration:"{transition.duration}"},legend:{background:"{content.background}",hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",borderRadius:"{content.border.radius}",borderWidth:"1px",borderColor:"transparent",padding:"0.5rem 0.75rem",gap:"0.5rem",fontWeight:"600",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}"},content:{padding:"0"}},zB={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},header:{background:"transparent",color:"{text.color}",padding:"1.125rem",borderWidth:"0",borderRadius:"0",gap:"0.5rem"},content:{highlightBorderColor:"{primary.color}",padding:"0 1.125rem 1.125rem 1.125rem"},file:{padding:"1rem",gap:"1rem",borderColor:"{content.border.color}",info:{gap:"0.5rem"}},progressbar:{height:"0.25rem"},basic:{gap:"0.5rem"}},VB={root:{color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s"}},NB={root:{borderWidth:"1px",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},navButton:{background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.100}",hoverColor:"{surface.0}",size:"3rem",gutter:"0.5rem",prev:{borderRadius:"50%"},next:{borderRadius:"50%"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},navIcon:{size:"1.5rem"},thumbnailsContent:{background:"{content.background}",padding:"1rem 0.25rem"},thumbnailNavButton:{size:"2rem",borderRadius:"{content.border.radius}",gutter:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},thumbnailNavButtonIcon:{size:"1rem"},caption:{background:"rgba(0, 0, 0, 0.5)",color:"{surface.100}",padding:"1rem"},indicatorList:{gap:"0.5rem",padding:"1rem"},indicatorButton:{width:"1rem",height:"1rem",activeBackground:"{primary.color}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},insetIndicatorList:{background:"rgba(0, 0, 0, 0.5)"},insetIndicatorButton:{background:"rgba(255, 255, 255, 0.4)",hoverBackground:"rgba(255, 255, 255, 0.6)",activeBackground:"rgba(255, 255, 255, 0.9)"},mask:{background:"{mask.background}",color:"{mask.color}"},closeButton:{size:"3rem",gutter:"0.5rem",background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.50}",hoverColor:"{surface.0}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},closeButtonIcon:{size:"1.5rem"},colorScheme:{light:{thumbnailNavButton:{hoverBackground:"{surface.100}",color:"{surface.600}",hoverColor:"{surface.700}"},indicatorButton:{background:"{surface.200}",hoverBackground:"{surface.300}"}},dark:{thumbnailNavButton:{hoverBackground:"{surface.700}",color:"{surface.400}",hoverColor:"{surface.0}"},indicatorButton:{background:"{surface.700}",hoverBackground:"{surface.600}"}}}},$B={icon:{color:"{form.field.icon.color}"}},UB={root:{transitionDuration:"{transition.duration}"},preview:{icon:{size:"1.5rem"},mask:{background:"{mask.background}",color:"{mask.color}"}},toolbar:{position:{left:"auto",right:"1rem",top:"1rem",bottom:"auto"},blur:"8px",background:"rgba(255,255,255,0.1)",borderColor:"rgba(255,255,255,0.2)",borderWidth:"1px",borderRadius:"30px",padding:".5rem",gap:"0.5rem"},action:{hoverBackground:"rgba(255,255,255,0.1)",color:"{surface.50}",hoverColor:"{surface.0}",size:"3rem",iconSize:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},GB={root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",gap:"0.5rem"},text:{fontWeight:"500"},icon:{size:"1rem"},colorScheme:{light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}}}},HB={root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{transition.duration}"},display:{hoverBackground:"{content.hover.background}",hoverColor:"{content.hover.color}"}},qB={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},chip:{borderRadius:"{border.radius.sm}"},colorScheme:{light:{chip:{focusBackground:"{surface.200}",color:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",color:"{surface.0}"}}}},WB={addon:{background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.icon.color}",borderRadius:"{form.field.border.radius}"}},KB={root:{transitionDuration:"{transition.duration}"},button:{width:"2.5rem",borderRadius:"{form.field.border.radius}",verticalPadding:"{form.field.padding.y}"},colorScheme:{light:{button:{background:"transparent",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.500}",activeColor:"{surface.600}"}},dark:{button:{background:"transparent",hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.300}",activeColor:"{surface.200}"}}}},ZB={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"0.875rem",paddingX:"0.625rem",paddingY:"0.375rem"},lg:{fontSize:"1.125rem",paddingX:"0.875rem",paddingY:"0.625rem"}}},QB={root:{transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},value:{background:"{primary.color}"},range:{background:"{content.border.color}"},text:{color:"{text.muted.color}"}},XB={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",shadow:"{form.field.shadow}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{option:{stripedBackground:"{surface.50}"}},dark:{option:{stripedBackground:"{surface.900}"}}}},JB={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",verticalOrientation:{padding:"{navigation.list.padding}",gap:"0"},horizontalOrientation:{padding:"0.5rem 0.75rem"},transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},overlay:{padding:"0",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",shadow:"{overlay.navigation.shadow}",gap:"0.5rem"},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background.}",color:"{navigation.submenu.label.color}"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.muted.hover.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},YB={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background}",color:"{navigation.submenu.label.color}"},separator:{borderColor:"{content.border.color}"}},ej={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.5rem 0.75rem",transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",mobileIndent:"1rem"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.muted.hover.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},tj={root:{borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},content:{padding:"0.5rem 0.75rem",gap:"0.5rem"},text:{fontSize:"1rem",fontWeight:"500"},icon:{size:"1.125rem"},closeButton:{width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem"},colorScheme:{light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}}}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}}}}}},ij={root:{borderRadius:"{content.border.radius}",gap:"1rem"},meters:{background:"{content.border.color}",size:"0.5rem"},label:{gap:"0.5rem"},labelMarker:{size:"0.5rem"},labelIcon:{size:"1rem"},labelList:{verticalGap:"0.5rem",horizontalGap:"1rem"}},nj={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",gap:"0.5rem"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},chip:{borderRadius:"{border.radius.sm}"},emptyMessage:{padding:"{list.option.padding}"}},oj={root:{gap:"1.125rem"},controls:{gap:"0.5rem"}},rj={root:{gutter:"0.75rem",transitionDuration:"{transition.duration}"},node:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{content.border.color}",color:"{content.color}",selectedColor:"{highlight.color}",hoverColor:"{content.hover.color}",padding:"0.75rem 1rem",toggleablePadding:"0.75rem 1rem 1.25rem 1rem",borderRadius:"{content.border.radius}"},nodeToggleButton:{background:"{content.background}",hoverBackground:"{content.hover.background}",borderColor:"{content.border.color}",color:"{text.muted.color}",hoverColor:"{text.color}",size:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},connector:{color:"{content.border.color}",borderRadius:"{content.border.radius}",height:"24px"}},aj={root:{outline:{width:"2px",color:"{content.background}"}}},sj={root:{padding:"0.5rem 1rem",gap:"0.25rem",borderRadius:"{content.border.radius}",background:"{content.background}",color:"{content.color}",transitionDuration:"{transition.duration}"},navButton:{background:"transparent",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}",width:"2.5rem",height:"2.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},currentPageReport:{color:"{text.muted.color}"},jumpToPageInput:{maxWidth:"2.5rem"}},cj={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},header:{background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"{content.border.color}",borderWidth:"0",borderRadius:"0"},toggleableHeader:{padding:"0.375rem 1.125rem"},title:{fontWeight:"600"},content:{padding:"0 1.125rem 1.125rem 1.125rem"},footer:{padding:"0 1.125rem 1.125rem 1.125rem"}},lj={root:{gap:"0.5rem",transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",borderWidth:"1px",color:"{content.color}",padding:"0.25rem 0.25rem",borderRadius:"{content.border.radius}",first:{borderWidth:"1px",topBorderRadius:"{content.border.radius}"},last:{borderWidth:"1px",bottomBorderRadius:"{content.border.radius}"}},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",gap:"0.5rem",padding:"{navigation.item.padding}",borderRadius:"{content.border.radius}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenu:{indent:"1rem"},submenuIcon:{color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}"}},dj={meter:{background:"{content.border.color}",borderRadius:"{content.border.radius}",height:".75rem"},icon:{color:"{form.field.icon.color}"},overlay:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",padding:"{overlay.popover.padding}",shadow:"{overlay.popover.shadow}"},content:{gap:"0.5rem"},colorScheme:{light:{strength:{weakBackground:"{red.500}",mediumBackground:"{amber.500}",strongBackground:"{green.500}"}},dark:{strength:{weakBackground:"{red.400}",mediumBackground:"{amber.400}",strongBackground:"{green.400}"}}}},uj={root:{gap:"1.125rem"},controls:{gap:"0.5rem"}},hj={root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}"}},fj={root:{background:"{content.border.color}",borderRadius:"{content.border.radius}",height:"1.25rem"},value:{background:"{primary.color}"},label:{color:"{primary.contrast.color}",fontSize:"0.75rem",fontWeight:"600"}},pj={colorScheme:{light:{root:{"color.1":"{red.500}","color.2":"{blue.500}","color.3":"{green.500}","color.4":"{yellow.500}"}},dark:{root:{"color.1":"{red.400}","color.2":"{blue.400}","color.3":"{green.400}","color.4":"{yellow.400}"}}}},mj={root:{width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},icon:{size:"0.75rem",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}"}},gj={root:{gap:"0.25rem",transitionDuration:"{transition.duration}"},icon:{size:"1rem",color:"{text.muted.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},_j={colorScheme:{light:{root:{background:"rgba(0,0,0,0.1)"}},dark:{root:{background:"rgba(255,255,255,0.3)"}}}},yj={root:{transitionDuration:"{transition.duration}"},bar:{size:"9px",borderRadius:"{border.radius.sm}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{bar:{background:"{surface.100}"}},dark:{bar:{background:"{surface.800}"}}}},bj={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},clearIcon:{color:"{form.field.icon.color}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},emptyMessage:{padding:"{list.option.padding}"}},vj={root:{borderRadius:"{form.field.border.radius}"},colorScheme:{light:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}},dark:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}}}},xj={root:{borderRadius:"{content.border.radius}"},colorScheme:{light:{root:{background:"{surface.200}",animationBackground:"rgba(255,255,255,0.4)"}},dark:{root:{background:"rgba(255, 255, 255, 0.06)",animationBackground:"rgba(255, 255, 255, 0.04)"}}}},wj={root:{transitionDuration:"{transition.duration}"},track:{background:"{content.border.color}",borderRadius:"{content.border.radius}",size:"3px"},range:{background:"{primary.color}"},handle:{width:"20px",height:"20px",borderRadius:"50%",background:"{content.border.color}",hoverBackground:"{content.border.color}",content:{borderRadius:"50%",hoverBackground:"{content.background}",width:"16px",height:"16px",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.08), 0px 1px 1px 0px rgba(0, 0, 0, 0.14)"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{handle:{contentBackground:"{surface.0}"}},dark:{handle:{contentBackground:"{surface.950}"}}}},Fj={root:{gap:"0.5rem",transitionDuration:"{transition.duration}"}},Cj={root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"}},Ej={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",transitionDuration:"{transition.duration}"},gutter:{background:"{content.border.color}"},handle:{size:"24px",background:"transparent",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},Sj={root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}",activeBackground:"{primary.color}",margin:"0 0 0 1.625rem",size:"2px"},step:{padding:"0.5rem",gap:"1rem"},stepHeader:{padding:"0",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},stepTitle:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},stepNumber:{background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"},steppanels:{padding:"0.875rem 0.5rem 1.125rem 0.5rem"},steppanel:{background:"{content.background}",color:"{content.color}",padding:"0 0 0 1rem"}},Tj={root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}"},itemLink:{borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},itemLabel:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},itemNumber:{background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}},Rj={root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},item:{background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},itemIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},activeBar:{height:"1px",bottom:"-1px",background:"{primary.color}"}},Pj={root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},tab:{background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},tabpanel:{background:"{content.background}",color:"{content.color}",padding:"0.875rem 1.125rem 1.125rem 1.125rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"}},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",width:"2.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},activeBar:{height:"1px",bottom:"-1px",background:"{primary.color}"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}}},Ij={root:{transitionDuration:"{transition.duration}"},tabList:{background:"{content.background}",borderColor:"{content.border.color}"},tab:{borderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},tabPanel:{background:"{content.background}",color:"{content.color}"},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}}},kj={root:{fontSize:"0.875rem",fontWeight:"700",padding:"0.25rem 0.5rem",gap:"0.25rem",borderRadius:"{content.border.radius}",roundedBorderRadius:"{border.radius.xl}"},icon:{size:"0.75rem"},colorScheme:{light:{primary:{background:"{primary.100}",color:"{primary.700}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.100}",color:"{green.700}"},info:{background:"{sky.100}",color:"{sky.700}"},warn:{background:"{orange.100}",color:"{orange.700}"},danger:{background:"{red.100}",color:"{red.700}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"color-mix(in srgb, {primary.500}, transparent 84%)",color:"{primary.300}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",color:"{green.300}"},info:{background:"color-mix(in srgb, {sky.500}, transparent 84%)",color:"{sky.300}"},warn:{background:"color-mix(in srgb, {orange.500}, transparent 84%)",color:"{orange.300}"},danger:{background:"color-mix(in srgb, {red.500}, transparent 84%)",color:"{red.300}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}},Mj={root:{background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.color}",height:"18rem",padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{form.field.border.radius}"},prompt:{gap:"0.25rem"},commandResponse:{margin:"2px 0"}},Aj={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"}},Oj={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background.}",color:"{navigation.submenu.label.color}"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}},Lj={event:{minHeight:"5rem"},horizontal:{eventContent:{padding:"1rem 0"}},vertical:{eventContent:{padding:"0 1rem"}},eventMarker:{size:"1.125rem",borderRadius:"50%",borderWidth:"2px",background:"{content.background}",borderColor:"{content.border.color}",content:{borderRadius:"50%",size:"0.375rem",background:"{primary.color}",insetShadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}},eventConnector:{color:"{content.border.color}",size:"2px"}},Dj={root:{width:"25rem",borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},icon:{size:"1.125rem"},content:{padding:"{overlay.popover.padding}",gap:"0.5rem"},text:{gap:"0.5rem"},summary:{fontWeight:"500",fontSize:"1rem"},detail:{fontWeight:"500",fontSize:"0.875rem"},closeButton:{width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem"},colorScheme:{light:{blur:"1.5px",info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}}}},dark:{blur:"10px",info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",detailColor:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}}}}}},Bj={root:{padding:"0.5rem 1rem",borderRadius:"{content.border.radius}",gap:"0.5rem",fontWeight:"500",disabledBackground:"{form.field.disabled.background}",disabledBorderColor:"{form.field.disabled.background}",disabledColor:"{form.field.disabled.color}",invalidBorderColor:"{form.field.invalid.border.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},icon:{disabledColor:"{form.field.disabled.color}"},content:{left:"0.25rem",top:"0.25rem",checkedShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.02), 0px 1px 2px 0px rgba(0, 0, 0, 0.04)"},colorScheme:{light:{root:{background:"{surface.100}",checkedBackground:"{surface.100}",hoverBackground:"{surface.100}",borderColor:"{surface.100}",color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}",checkedBorderColor:"{surface.100}"},content:{checkedBackground:"{surface.0}"},icon:{color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}"}},dark:{root:{background:"{surface.950}",checkedBackground:"{surface.950}",hoverBackground:"{surface.950}",borderColor:"{surface.950}",color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}",checkedBorderColor:"{surface.950}"},content:{checkedBackground:"{surface.800}"},icon:{color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}"}}}},jj={root:{width:"2.5rem",height:"1.5rem",borderRadius:"30px",gap:"0.25rem",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},borderWidth:"1px",borderColor:"transparent",hoverBorderColor:"transparent",checkedBorderColor:"transparent",checkedHoverBorderColor:"transparent",invalidBorderColor:"{form.field.invalid.border.color}",transitionDuration:"{form.field.transition.duration}",slideDuration:"0.2s",disabledBackground:"{form.field.disabled.background}"},handle:{borderRadius:"50%",size:"1rem",disabledBackground:"{form.field.disabled.color}"},colorScheme:{light:{root:{background:"{surface.300}",hoverBackground:"{surface.400}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.0}",hoverBackground:"{surface.0}",checkedBackground:"{surface.0}",checkedHoverBackground:"{surface.0}"}},dark:{root:{background:"{surface.700}",hoverBackground:"{surface.600}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.400}",hoverBackground:"{surface.300}",checkedBackground:"{surface.900}",checkedHoverBackground:"{surface.900}"}}}},zj={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.75rem"}},Vj={root:{maxWidth:"12.5rem",gutter:"0.25rem",shadow:"{overlay.popover.shadow}",padding:"0.5rem 0.75rem",borderRadius:"{overlay.popover.border.radius}"},colorScheme:{light:{root:{background:"{surface.700}",color:"{surface.0}"}},dark:{root:{background:"{surface.700}",color:"{surface.0}"}}}},Nj={root:{background:"{content.background}",color:"{content.color}",padding:"1rem",gap:"2px",indent:"1rem",transitionDuration:"{transition.duration}"},node:{padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.color}",hoverColor:"{text.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},gap:"0.25rem"},nodeIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}"},nodeToggleButton:{borderRadius:"50%",size:"1.75rem",hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedHoverColor:"{primary.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},loadingIcon:{size:"2rem"}},$j={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},tree:{padding:"{list.padding}"},emptyMessage:{padding:"{list.option.padding}"},chip:{borderRadius:"{border.radius.sm}"}},Uj={root:{transitionDuration:"{transition.duration}"},header:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},headerCell:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{treetable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},columnTitle:{fontWeight:"600"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},bodyCell:{borderColor:"{treetable.border.color}",padding:"0.75rem 1rem",gap:"0.5rem"},footerCell:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},columnFooter:{fontWeight:"600"},footer:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},columnResizerWidth:"0.5rem",resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}"},loadingIcon:{size:"2rem"},nodeToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{content.border.color}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},bodyCell:{selectedBorderColor:"{primary.900}"}}}},Gj={loader:{mask:{background:"{content.background}",color:"{text.muted.color}"},icon:{size:"2rem"}}},Hj={primitive:{borderRadius:{none:"0",xs:"2px",sm:"4px",md:"6px",lg:"8px",xl:"12px"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"}},semantic:{transitionDuration:"0.2s",focusRing:{width:"1px",style:"solid",color:"{primary.color}",offset:"2px",shadow:"none"},disabledOpacity:"0.6",iconSize:"1rem",anchorGutter:"2px",primary:{50:"{emerald.50}",100:"{emerald.100}",200:"{emerald.200}",300:"{emerald.300}",400:"{emerald.400}",500:"{emerald.500}",600:"{emerald.600}",700:"{emerald.700}",800:"{emerald.800}",900:"{emerald.900}",950:"{emerald.950}"},formField:{paddingX:"0.75rem",paddingY:"0.5rem",borderRadius:"{border.radius.md}",focusRing:{width:"0",style:"none",color:"transparent",offset:"0",shadow:"none"},transitionDuration:"{transition.duration}"},list:{padding:"0.25rem 0.25rem",gap:"2px",header:{padding:"0.5rem 1rem 0.25rem 1rem"},option:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}"},optionGroup:{padding:"0.5rem 0.75rem",fontWeight:"600"}},content:{borderRadius:"{border.radius.md}"},mask:{transitionDuration:"0.15s"},navigation:{list:{padding:"0.25rem 0.25rem",gap:"2px"},item:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}",gap:"0.5rem"},submenuLabel:{padding:"0.5rem 0.75rem",fontWeight:"600"},submenuIcon:{size:"0.875rem"}},overlay:{select:{borderRadius:"{border.radius.md}",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},popover:{borderRadius:"{border.radius.md}",padding:"0.75rem",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},modal:{borderRadius:"{border.radius.xl}",padding:"1.25rem",shadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)"},navigation:{shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"}},colorScheme:{light:{surface:{0:"#ffffff",50:"{slate.50}",100:"{slate.100}",200:"{slate.200}",300:"{slate.300}",400:"{slate.400}",500:"{slate.500}",600:"{slate.600}",700:"{slate.700}",800:"{slate.800}",900:"{slate.900}",950:"{slate.950}"},primary:{color:"{primary.500}",contrastColor:"#ffffff",hoverColor:"{primary.600}",activeColor:"{primary.700}"},highlight:{background:"{primary.50}",focusBackground:"{primary.100}",color:"{primary.700}",focusColor:"{primary.800}"},mask:{background:"rgba(0,0,0,0.4)",color:"{surface.200}"},formField:{background:"{surface.0}",disabledBackground:"{surface.200}",filledBackground:"{surface.50}",filledFocusBackground:"{surface.50}",borderColor:"{surface.300}",hoverBorderColor:"{surface.400}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.400}",color:"{surface.700}",disabledColor:"{surface.500}",placeholderColor:"{surface.500}",floatLabelColor:"{surface.500}",floatLabelFocusColor:"{surface.500}",floatLabelInvalidColor:"{red.400}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.700}",hoverColor:"{surface.800}",mutedColor:"{surface.500}",hoverMutedColor:"{surface.600}"},content:{background:"{surface.0}",hoverBackground:"{surface.100}",borderColor:"{surface.200}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},popover:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},modal:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.100}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.100}",activeBackground:"{surface.100}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}}},dark:{surface:{0:"#ffffff",50:"{zinc.50}",100:"{zinc.100}",200:"{zinc.200}",300:"{zinc.300}",400:"{zinc.400}",500:"{zinc.500}",600:"{zinc.600}",700:"{zinc.700}",800:"{zinc.800}",900:"{zinc.900}",950:"{zinc.950}"},primary:{color:"{primary.400}",contrastColor:"{surface.900}",hoverColor:"{primary.300}",activeColor:"{primary.200}"},highlight:{background:"color-mix(in srgb, {primary.400}, transparent 84%)",focusBackground:"color-mix(in srgb, {primary.400}, transparent 76%)",color:"rgba(255,255,255,.87)",focusColor:"rgba(255,255,255,.87)"},mask:{background:"rgba(0,0,0,0.6)",color:"{surface.200}"},formField:{background:"{surface.950}",disabledBackground:"{surface.700}",filledBackground:"{surface.800}",filledFocusBackground:"{surface.800}",borderColor:"{surface.700}",hoverBorderColor:"{surface.600}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.300}",color:"{surface.0}",disabledColor:"{surface.400}",placeholderColor:"{surface.400}",floatLabelColor:"{surface.400}",floatLabelFocusColor:"{surface.400}",floatLabelInvalidColor:"{red.300}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.0}",hoverColor:"{surface.0}",mutedColor:"{surface.400}",hoverMutedColor:"{surface.300}"},content:{background:"{surface.900}",hoverBackground:"{surface.800}",borderColor:"{surface.700}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},popover:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},modal:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.800}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.800}",activeBackground:"{surface.800}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}}}}},components:{accordion:pB,autocomplete:mB,avatar:gB,badge:_B,blockui:yB,breadcrumb:bB,button:vB,datepicker:MB,card:xB,carousel:wB,cascadeselect:FB,checkbox:CB,chip:EB,colorpicker:SB,confirmdialog:TB,confirmpopup:RB,contextmenu:PB,dataview:kB,datatable:IB,dialog:AB,divider:OB,dock:LB,drawer:DB,editor:BB,fieldset:jB,fileupload:zB,floatlabel:VB,galleria:NB,iconfield:$B,image:UB,inlinemessage:GB,inplace:HB,inputchips:qB,inputgroup:WB,inputnumber:KB,inputtext:ZB,knob:QB,listbox:XB,megamenu:JB,menu:YB,menubar:ej,message:tj,metergroup:ij,multiselect:nj,orderlist:oj,organizationchart:rj,overlaybadge:aj,popover:hj,paginator:sj,password:dj,panel:cj,panelmenu:lj,picklist:uj,progressbar:fj,progressspinner:pj,radiobutton:mj,rating:gj,scrollpanel:yj,select:bj,selectbutton:vj,skeleton:xj,slider:wj,speeddial:Fj,splitter:Ej,splitbutton:Cj,stepper:Sj,steps:Tj,tabmenu:Rj,tabs:Pj,tabview:Ij,textarea:Aj,tieredmenu:Oj,tag:kj,terminal:Mj,timeline:Lj,togglebutton:Bj,toggleswitch:jj,tree:Nj,treeselect:$j,treetable:Uj,toast:Dj,toolbar:zj,virtualscroller:Gj},directives:{tooltip:Vj,ripple:_j}};function X1(e){"@babel/helpers - typeof";return X1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X1(e)}function qj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wj(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Zj(a.key),a)}}function Kj(e,t,i){return t&&Wj(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zj(e){var t=Qj(e,"string");return X1(t)=="symbol"?t:t+""}function Qj(e,t){if(X1(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t);if(X1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $g=function(){function e(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};qj(this,e),this.element=t,this.listener=i}return Kj(e,[{key:"bindScrollListener",value:function(){this.scrollableParents=jD(this.element);for(var i=0;i<this.scrollableParents.length;i++)this.scrollableParents[i].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var i=0;i<this.scrollableParents.length;i++)this.scrollableParents[i].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}])}();function J1(e){"@babel/helpers - typeof";return J1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J1(e)}function Xj(e){return tz(e)||ez(e)||Yj(e)||Jj()}function Jj(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yj(e,t){if(e){if(typeof e=="string")return Y3(e,t);var i={}.toString.call(e).slice(8,-1);return i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set"?Array.from(e):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Y3(e,t):void 0}}function ez(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tz(e){if(Array.isArray(e))return Y3(e)}function Y3(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,a=Array(t);i<t;i++)a[i]=e[i];return a}function iz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nz(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,ET(a.key),a)}}function oz(e,t,i){return t&&nz(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z9(e,t,i){return(t=ET(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ET(e){var t=rz(e,"string");return J1(t)=="symbol"?t:t+""}function rz(e,t){if(J1(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t);if(J1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Dp=function(){function e(t){var i=t.init,a=t.type;iz(this,e),Z9(this,"helpers",void 0),Z9(this,"type",void 0),this.helpers=new Set(i),this.type=a}return oz(e,[{key:"add",value:function(i){this.helpers.add(i)}},{key:"update",value:function(){}},{key:"delete",value:function(i){this.helpers.delete(i)}},{key:"clear",value:function(){this.helpers.clear()}},{key:"get",value:function(i,a){var l=this._get(i,a),c=l?this._recursive(Xj(this.helpers),l):null;return Bn(c)?c:null}},{key:"_isMatched",value:function(i,a){var l,c=i==null?void 0:i.parent;return(c==null||(l=c.vnode)===null||l===void 0?void 0:l.key)===a||c&&this._isMatched(c,a)||!1}},{key:"_get",value:function(i,a){var l,c;return((l=a||(i==null?void 0:i.$slots))===null||l===void 0||(c=l.default)===null||c===void 0?void 0:c.call(l))||null}},{key:"_recursive",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],c=[];return l.forEach(function(y){y.children instanceof Array?c=c.concat(i._recursive(c,y.children)):y.type.name===i.type?c.push(y):Bn(y.key)&&(c=c.concat(a.filter(function(n){return i._isMatched(n,y.key)}).map(function(n){return n.vnode})))}),c}}])}();function hr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pv_id_";return nB(e)}function jh(e,t){if(e){var i=e.props;if(i){var a=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),l=Object.prototype.hasOwnProperty.call(i,a)?a:t;return e.type.extends.props[t].type===Boolean&&i[l]===""?!0:i[l]}}return null}var Ud={_loadedStyleNames:new Set,getLoadedStyleNames:function(){return this._loadedStyleNames},isStyleNameLoaded:function(t){return this._loadedStyleNames.has(t)},setLoadedStyleName:function(t){this._loadedStyleNames.add(t)},deleteLoadedStyleName:function(t){this._loadedStyleNames.delete(t)},clearLoadedStyleNames:function(){this._loadedStyleNames.clear()}};function Y1(e){"@babel/helpers - typeof";return Y1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y1(e)}function Q9(e,t){return lz(e)||cz(e,t)||sz(e,t)||az()}function az(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sz(e,t){if(e){if(typeof e=="string")return X9(e,t);var i={}.toString.call(e).slice(8,-1);return i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set"?Array.from(e):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?X9(e,t):void 0}}function X9(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,a=Array(t);i<t;i++)a[i]=e[i];return a}function cz(e,t){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var a,l,c,y,n=[],x=!0,C=!1;try{if(c=(i=i.call(e)).next,t!==0)for(;!(x=(a=c.call(i)).done)&&(n.push(a.value),n.length!==t);x=!0);}catch(k){C=!0,l=k}finally{try{if(!x&&i.return!=null&&(y=i.return(),Object(y)!==y))return}finally{if(C)throw l}}return n}}function lz(e){if(Array.isArray(e))return e}function J9(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),i.push.apply(i,a)}return i}function po(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?J9(Object(i),!0).forEach(function(a){ex(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):J9(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function ex(e,t,i){return(t=dz(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function dz(e){var t=uz(e,"string");return Y1(t)=="symbol"?t:t+""}function uz(e,t){if(Y1(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t||"default");if(Y1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vn={_getMeta:function(){return[Uc(arguments.length<=0?void 0:arguments[0])||arguments.length<=0?void 0:arguments[0],Vc(Uc(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:arguments.length<=1?void 0:arguments[1])]},_getConfig:function(t,i){var a,l,c;return(a=(t==null||(l=t.instance)===null||l===void 0?void 0:l.$primevue)||(i==null||(c=i.ctx)===null||c===void 0||(c=c.appContext)===null||c===void 0||(c=c.config)===null||c===void 0||(c=c.globalProperties)===null||c===void 0?void 0:c.$primevue))===null||a===void 0?void 0:a.config},_getOptionValue:p6,_getPTValue:function(){var t,i,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,x=function(){var J=Vn._getOptionValue.apply(Vn,arguments);return Ga(J)||m6(J)?{class:J}:J},C=((t=a.binding)===null||t===void 0||(t=t.value)===null||t===void 0?void 0:t.ptOptions)||((i=a.$primevueConfig)===null||i===void 0?void 0:i.ptOptions)||{},k=C.mergeSections,O=k===void 0?!0:k,B=C.mergeProps,L=B===void 0?!1:B,V=n?Vn._useDefaultPT(a,a.defaultPT(),x,c,y):void 0,G=Vn._usePT(a,Vn._getPT(l,a.$name),x,c,po(po({},y),{},{global:V||{}})),Q=Vn._getPTDatasets(a,c);return O||!O&&G?L?Vn._mergeProps(a,L,V,G,Q):po(po(po({},V),G),Q):po(po({},G),Q)},_getPTDatasets:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",a="data-pc-";return po(po({},i==="root"&&ex({},"".concat(a,"name"),oc(t.$name))),{},ex({},"".concat(a,"section"),oc(i)))},_getPT:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0,l=function(y){var n,x=a?a(y):y,C=oc(i);return(n=x==null?void 0:x[C])!==null&&n!==void 0?n:x};return t!=null&&t.hasOwnProperty("_usept")?{_usept:t._usept,originalValue:l(t.originalValue),value:l(t.value)}:l(t)},_usePT:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,y=function(Q){return a(Q,l,c)};if(i!=null&&i.hasOwnProperty("_usept")){var n,x=i._usept||((n=t.$primevueConfig)===null||n===void 0?void 0:n.ptOptions)||{},C=x.mergeSections,k=C===void 0?!0:C,O=x.mergeProps,B=O===void 0?!1:O,L=y(i.originalValue),V=y(i.value);return L===void 0&&V===void 0?void 0:Ga(V)?V:Ga(L)?L:k||!k&&V?B?Vn._mergeProps(t,B,L,V):po(po({},L),V):V}return y(i)},_useDefaultPT:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0;return Vn._usePT(t,i,a,l,c)},_loadStyles:function(t,i,a){var l,c=Vn._getConfig(i,a),y={nonce:c==null||(l=c.csp)===null||l===void 0?void 0:l.nonce};Vn._loadCoreStyles(t.$instance,y),Vn._loadThemeStyles(t.$instance,y),Vn._loadScopedThemeStyles(t.$instance,y),Vn._themeChangeListener(function(){return Vn._loadThemeStyles(t.$instance,y)})},_loadCoreStyles:function(){var t,i,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1?arguments[1]:void 0;if(!Ud.isStyleNameLoaded((t=a.$style)===null||t===void 0?void 0:t.name)&&(i=a.$style)!==null&&i!==void 0&&i.name){var c;In.loadCSS(l),a.isUnstyled()&&((c=a.$style)===null||c===void 0||c.loadCSS(l)),Ud.setLoadedStyleName(a.$style.name)}},_loadThemeStyles:function(){var t,i,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1?arguments[1]:void 0;if(!(a!=null&&a.isUnstyled())){if(!So.isStyleNameLoaded("common")){var c,y,n=((c=a.$style)===null||c===void 0||(y=c.getCommonTheme)===null||y===void 0?void 0:y.call(c))||{},x=n.primitive,C=n.semantic;In.load(x==null?void 0:x.css,po({name:"primitive-variables"},l)),In.load(C==null?void 0:C.css,po({name:"semantic-variables"},l)),In.loadTheme(po({name:"global-style"},l)),So.setLoadedStyleName("common")}if(!So.isStyleNameLoaded((t=a.$style)===null||t===void 0?void 0:t.name)&&(i=a.$style)!==null&&i!==void 0&&i.name){var k,O,B,L,V=((k=a.$style)===null||k===void 0||(O=k.getDirectiveTheme)===null||O===void 0?void 0:O.call(k))||{},G=V.css;(B=a.$style)===null||B===void 0||B.load(G,po({name:"".concat(a.$style.name,"-variables")},l)),(L=a.$style)===null||L===void 0||L.loadTheme(po({name:"".concat(a.$style.name,"-style")},l)),So.setLoadedStyleName(a.$style.name)}if(!So.isStyleNameLoaded("layer-order")){var Q,Y,J=(Q=a.$style)===null||Q===void 0||(Y=Q.getLayerOrderThemeCSS)===null||Y===void 0?void 0:Y.call(Q);In.load(J,po({name:"layer-order",first:!0},l)),So.setLoadedStyleName("layer-order")}}},_loadScopedThemeStyles:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,a=t.preset();if(a&&t.$attrSelector){var l,c,y,n=((l=t.$style)===null||l===void 0||(c=l.getPresetTheme)===null||c===void 0?void 0:c.call(l,a,"[".concat(t.$attrSelector,"]")))||{},x=n.css,C=(y=t.$style)===null||y===void 0?void 0:y.load(x,po({name:"".concat(t.$attrSelector,"-").concat(t.$style.name)},i));t.scopedStyleEl=C.el}},_themeChangeListener:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};Ud.clearLoadedStyleNames(),nc.on("theme:change",t)},_hook:function(t,i,a,l,c,y){var n,x,C="on".concat(xD(i)),k=Vn._getConfig(l,c),O=a==null?void 0:a.$instance,B=Vn._usePT(O,Vn._getPT(l==null||(n=l.value)===null||n===void 0?void 0:n.pt,t),Vn._getOptionValue,"hooks.".concat(C)),L=Vn._useDefaultPT(O,k==null||(x=k.pt)===null||x===void 0||(x=x.directives)===null||x===void 0?void 0:x[t],Vn._getOptionValue,"hooks.".concat(C)),V={el:a,binding:l,vnode:c,prevVnode:y};B==null||B(O,V),L==null||L(O,V)},_mergeProps:function(){for(var t=arguments.length>1?arguments[1]:void 0,i=arguments.length,a=new Array(i>2?i-2:0),l=2;l<i;l++)a[l-2]=arguments[l];return M2(t)?t.apply(void 0,a):Ze.apply(void 0,a)},_extend:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=function(y,n,x,C,k){var O,B,L;n._$instances=n._$instances||{};var V=Vn._getConfig(x,C),G=n._$instances[t]||{},Q=Qr(G)?po(po({},i),i==null?void 0:i.methods):{};n._$instances[t]=po(po({},G),{},{$name:t,$host:n,$binding:x,$modifiers:x==null?void 0:x.modifiers,$value:x==null?void 0:x.value,$el:G.$el||n||void 0,$style:po({classes:void 0,inlineStyles:void 0,load:function(){},loadCSS:function(){},loadTheme:function(){}},i==null?void 0:i.style),$primevueConfig:V,$attrSelector:n.$attrSelector,defaultPT:function(){return Vn._getPT(V==null?void 0:V.pt,void 0,function(J){var re;return J==null||(re=J.directives)===null||re===void 0?void 0:re[t]})},isUnstyled:function(){var J,re;return((J=n.$instance)===null||J===void 0||(J=J.$binding)===null||J===void 0||(J=J.value)===null||J===void 0?void 0:J.unstyled)!==void 0?(re=n.$instance)===null||re===void 0||(re=re.$binding)===null||re===void 0||(re=re.value)===null||re===void 0?void 0:re.unstyled:V==null?void 0:V.unstyled},theme:function(){var J;return(J=n.$instance)===null||J===void 0||(J=J.$primevueConfig)===null||J===void 0?void 0:J.theme},preset:function(){var J;return(J=n.$instance)===null||J===void 0||(J=J.$binding)===null||J===void 0||(J=J.value)===null||J===void 0?void 0:J.dt},ptm:function(){var J,re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Vn._getPTValue(n.$instance,(J=n.$instance)===null||J===void 0||(J=J.$binding)===null||J===void 0||(J=J.value)===null||J===void 0?void 0:J.pt,re,po({},ce))},ptmo:function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Vn._getPTValue(n.$instance,J,re,ce,!1)},cx:function(){var J,re,ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(J=n.$instance)!==null&&J!==void 0&&J.isUnstyled()?void 0:Vn._getOptionValue((re=n.$instance)===null||re===void 0||(re=re.$style)===null||re===void 0?void 0:re.classes,ce,po({},he))},sx:function(){var J,re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ce?Vn._getOptionValue((J=n.$instance)===null||J===void 0||(J=J.$style)===null||J===void 0?void 0:J.inlineStyles,re,po({},he)):void 0}},Q),n.$instance=n._$instances[t],(O=(B=n.$instance)[y])===null||O===void 0||O.call(B,n,x,C,k),n["$".concat(t)]=n.$instance,Vn._hook(t,y,n,x,C,k),n.$pd||(n.$pd={}),n.$pd[t]=po(po({},(L=n.$pd)===null||L===void 0?void 0:L[t]),{},{name:t,instance:n.$instance})},l=function(y){var n,x,C,k,O,B=(n=y.$instance)===null||n===void 0?void 0:n.watch;B==null||(x=B.config)===null||x===void 0||x.call(y.$instance,(C=y.$instance)===null||C===void 0?void 0:C.$primevueConfig),pp.on("config:change",function(L){var V,G=L.newValue,Q=L.oldValue;return B==null||(V=B.config)===null||V===void 0?void 0:V.call(y.$instance,G,Q)}),B==null||(k=B["config.ripple"])===null||k===void 0||k.call(y.$instance,(O=y.$instance)===null||O===void 0||(O=O.$primevueConfig)===null||O===void 0?void 0:O.ripple),pp.on("config:ripple:change",function(L){var V,G=L.newValue,Q=L.oldValue;return B==null||(V=B["config.ripple"])===null||V===void 0?void 0:V.call(y.$instance,G,Q)})};return{created:function(y,n,x,C){a("created",y,n,x,C)},beforeMount:function(y,n,x,C){y.$attrSelector=hr("pd"),Vn._loadStyles(y,n,x),a("beforeMount",y,n,x,C),l(y)},mounted:function(y,n,x,C){Vn._loadStyles(y,n,x),a("mounted",y,n,x,C)},beforeUpdate:function(y,n,x,C){a("beforeUpdate",y,n,x,C)},updated:function(y,n,x,C){Vn._loadStyles(y,n,x),a("updated",y,n,x,C)},beforeUnmount:function(y,n,x,C){a("beforeUnmount",y,n,x,C)},unmounted:function(y,n,x,C){var k;(k=y.$instance)===null||k===void 0||(k=k.scopedStyleEl)===null||k===void 0||(k=k.value)===null||k===void 0||k.remove(),a("unmounted",y,n,x,C)}}},extend:function(){var t=Vn._getMeta.apply(Vn,arguments),i=Q9(t,2),a=i[0],l=i[1];return po({extend:function(){var y=Vn._getMeta.apply(Vn,arguments),n=Q9(y,2),x=n[0],C=n[1];return Vn.extend(x,po(po(po({},l),l==null?void 0:l.methods),C))}},Vn._extend(a,l))}},hz=function(t){var i=t.dt;return`
.p-tooltip {
    position: absolute;
    display: none;
    max-width: `.concat(i("tooltip.max.width"),`;
}

.p-tooltip-right,
.p-tooltip-left {
    padding: 0 `).concat(i("tooltip.gutter"),`;
}

.p-tooltip-top,
.p-tooltip-bottom {
    padding: `).concat(i("tooltip.gutter"),` 0;
}

.p-tooltip-text {
    white-space: pre-line;
    word-break: break-word;
    background: `).concat(i("tooltip.background"),`;
    color: `).concat(i("tooltip.color"),`;
    padding: `).concat(i("tooltip.padding"),`;
    box-shadow: `).concat(i("tooltip.shadow"),`;
    border-radius: `).concat(i("tooltip.border.radius"),`;
}

.p-tooltip-arrow {
    position: absolute;
    width: 0;
    height: 0;
    border-color: transparent;
    border-style: solid;
    scale: 2;
}

.p-tooltip-right .p-tooltip-arrow {
    margin-top: calc(-1 * `).concat(i("tooltip.gutter"),`);
    border-width: `).concat(i("tooltip.gutter")," ").concat(i("tooltip.gutter")," ").concat(i("tooltip.gutter"),` 0;
    border-right-color: `).concat(i("tooltip.background"),`;
}

.p-tooltip-left .p-tooltip-arrow {
    margin-top: calc(-1 * `).concat(i("tooltip.gutter"),`);
    border-width: `).concat(i("tooltip.gutter")," 0 ").concat(i("tooltip.gutter")," ").concat(i("tooltip.gutter"),`;
    border-left-color: `).concat(i("tooltip.background"),`;
}

.p-tooltip-top .p-tooltip-arrow {
    margin-left: calc(-1 * `).concat(i("tooltip.gutter"),`);
    border-width: `).concat(i("tooltip.gutter")," ").concat(i("tooltip.gutter")," 0 ").concat(i("tooltip.gutter"),`;
    border-top-color: `).concat(i("tooltip.background"),`;
    border-bottom-color: `).concat(i("tooltip.background"),`;
}

.p-tooltip-bottom .p-tooltip-arrow {
    margin-left: calc(-1 * `).concat(i("tooltip.gutter"),`);
    border-width: 0 `).concat(i("tooltip.gutter")," ").concat(i("tooltip.gutter")," ").concat(i("tooltip.gutter"),`;
    border-top-color: `).concat(i("tooltip.background"),`;
    border-bottom-color: `).concat(i("tooltip.background"),`;
}
`)},fz={root:"p-tooltip p-component",arrow:"p-tooltip-arrow",text:"p-tooltip-text"},pz=In.extend({name:"tooltip-directive",theme:hz,classes:fz}),mz=Vn.extend({style:pz});function gz(e,t){return vz(e)||bz(e,t)||yz(e,t)||_z()}function _z(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yz(e,t){if(e){if(typeof e=="string")return Y9(e,t);var i={}.toString.call(e).slice(8,-1);return i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set"?Array.from(e):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Y9(e,t):void 0}}function Y9(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,a=Array(t);i<t;i++)a[i]=e[i];return a}function bz(e,t){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var a,l,c,y,n=[],x=!0,C=!1;try{if(c=(i=i.call(e)).next,t!==0)for(;!(x=(a=c.call(i)).done)&&(n.push(a.value),n.length!==t);x=!0);}catch(k){C=!0,l=k}finally{try{if(!x&&i.return!=null&&(y=i.return(),Object(y)!==y))return}finally{if(C)throw l}}return n}}function vz(e){if(Array.isArray(e))return e}function eF(e,t,i){return(t=xz(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function xz(e){var t=wz(e,"string");return Xd(t)=="symbol"?t:t+""}function wz(e,t){if(Xd(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t||"default");if(Xd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xd(e){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xd(e)}var Fz=mz.extend("tooltip",{beforeMount:function(t,i){var a,l=this.getTarget(t);if(l.$_ptooltipModifiers=this.getModifiers(i),i.value){if(typeof i.value=="string")l.$_ptooltipValue=i.value,l.$_ptooltipDisabled=!1,l.$_ptooltipEscape=!0,l.$_ptooltipClass=null,l.$_ptooltipFitContent=!0,l.$_ptooltipIdAttr=hr()+"_tooltip",l.$_ptooltipShowDelay=0,l.$_ptooltipHideDelay=0,l.$_ptooltipAutoHide=!0;else if(Xd(i.value)==="object"&&i.value){if(Qr(i.value.value)||i.value.value.trim()==="")return;l.$_ptooltipValue=i.value.value,l.$_ptooltipDisabled=!!i.value.disabled===i.value.disabled?i.value.disabled:!1,l.$_ptooltipEscape=!!i.value.escape===i.value.escape?i.value.escape:!0,l.$_ptooltipClass=i.value.class||"",l.$_ptooltipFitContent=!!i.value.fitContent===i.value.fitContent?i.value.fitContent:!0,l.$_ptooltipIdAttr=i.value.id||hr()+"_tooltip",l.$_ptooltipShowDelay=i.value.showDelay||0,l.$_ptooltipHideDelay=i.value.hideDelay||0,l.$_ptooltipAutoHide=!!i.value.autoHide===i.value.autoHide?i.value.autoHide:!0}}else return;l.$_ptooltipZIndex=(a=i.instance.$primevue)===null||a===void 0||(a=a.config)===null||a===void 0||(a=a.zIndex)===null||a===void 0?void 0:a.tooltip,this.bindEvents(l,i),t.setAttribute("data-pd-tooltip",!0)},updated:function(t,i){var a=this.getTarget(t);if(a.$_ptooltipModifiers=this.getModifiers(i),this.unbindEvents(a),!!i.value){if(typeof i.value=="string")a.$_ptooltipValue=i.value,a.$_ptooltipDisabled=!1,a.$_ptooltipEscape=!0,a.$_ptooltipClass=null,a.$_ptooltipIdAttr=a.$_ptooltipIdAttr||hr()+"_tooltip",a.$_ptooltipShowDelay=0,a.$_ptooltipHideDelay=0,a.$_ptooltipAutoHide=!0,this.bindEvents(a,i);else if(Xd(i.value)==="object"&&i.value)if(Qr(i.value.value)||i.value.value.trim()===""){this.unbindEvents(a,i);return}else a.$_ptooltipValue=i.value.value,a.$_ptooltipDisabled=!!i.value.disabled===i.value.disabled?i.value.disabled:!1,a.$_ptooltipEscape=!!i.value.escape===i.value.escape?i.value.escape:!0,a.$_ptooltipClass=i.value.class||"",a.$_ptooltipFitContent=!!i.value.fitContent===i.value.fitContent?i.value.fitContent:!0,a.$_ptooltipIdAttr=i.value.id||a.$_ptooltipIdAttr||hr()+"_tooltip",a.$_ptooltipShowDelay=i.value.showDelay||0,a.$_ptooltipHideDelay=i.value.hideDelay||0,a.$_ptooltipAutoHide=!!i.value.autoHide===i.value.autoHide?i.value.autoHide:!0,this.bindEvents(a,i)}},unmounted:function(t,i){var a=this.getTarget(t);this.remove(a),this.unbindEvents(a,i),a.$_ptooltipScrollHandler&&(a.$_ptooltipScrollHandler.destroy(),a.$_ptooltipScrollHandler=null)},timer:void 0,methods:{bindEvents:function(t,i){var a=this,l=t.$_ptooltipModifiers;l.focus?(t.$_focusevent=function(c){return a.onFocus(c,i)},t.addEventListener("focus",t.$_focusevent),t.addEventListener("blur",this.onBlur.bind(this))):(t.$_mouseenterevent=function(c){return a.onMouseEnter(c,i)},t.addEventListener("mouseenter",t.$_mouseenterevent),t.addEventListener("mouseleave",this.onMouseLeave.bind(this)),t.addEventListener("click",this.onClick.bind(this))),t.addEventListener("keydown",this.onKeydown.bind(this))},unbindEvents:function(t){var i=t.$_ptooltipModifiers;i.focus?(t.removeEventListener("focus",t.$_focusevent),t.$_focusevent=null,t.removeEventListener("blur",this.onBlur.bind(this))):(t.removeEventListener("mouseenter",t.$_mouseenterevent),t.$_mouseenterevent=null,t.removeEventListener("mouseleave",this.onMouseLeave.bind(this)),t.removeEventListener("click",this.onClick.bind(this))),t.removeEventListener("keydown",this.onKeydown.bind(this))},bindScrollListener:function(t){var i=this;t.$_ptooltipScrollHandler||(t.$_ptooltipScrollHandler=new $g(t,function(){i.hide(t)})),t.$_ptooltipScrollHandler.bindScrollListener()},unbindScrollListener:function(t){t.$_ptooltipScrollHandler&&t.$_ptooltipScrollHandler.unbindScrollListener()},onMouseEnter:function(t,i){var a=t.currentTarget,l=a.$_ptooltipShowDelay;this.show(a,i,l)},onMouseLeave:function(t){var i=t.currentTarget,a=i.$_ptooltipHideDelay,l=i.$_ptooltipAutoHide;if(l)this.hide(i,a);else{var c=Uo(t.target,"data-pc-name")==="tooltip"||Uo(t.target,"data-pc-section")==="arrow"||Uo(t.target,"data-pc-section")==="text"||Uo(t.relatedTarget,"data-pc-name")==="tooltip"||Uo(t.relatedTarget,"data-pc-section")==="arrow"||Uo(t.relatedTarget,"data-pc-section")==="text";!c&&this.hide(i,a)}},onFocus:function(t,i){var a=t.currentTarget,l=a.$_ptooltipShowDelay;this.show(a,i,l)},onBlur:function(t){var i=t.currentTarget,a=i.$_ptooltipHideDelay;this.hide(i,a)},onClick:function(t){var i=t.currentTarget,a=i.$_ptooltipHideDelay;this.hide(i,a)},onKeydown:function(t){var i=t.currentTarget,a=i.$_ptooltipHideDelay;t.code==="Escape"&&this.hide(t.currentTarget,a)},tooltipActions:function(t,i){if(!(t.$_ptooltipDisabled||!CT(t))){var a=this.create(t,i);this.align(t),!this.isUnstyled()&&LD(a,250);var l=this;window.addEventListener("resize",function c(){Vg()||l.hide(t),window.removeEventListener("resize",c)}),a.addEventListener("mouseleave",function c(){l.hide(t),a.removeEventListener("mouseleave",c)}),this.bindScrollListener(t),Zr.set("tooltip",a,t.$_ptooltipZIndex)}},show:function(t,i,a){var l=this;a!==void 0?this.timer=setTimeout(function(){return l.tooltipActions(t,i)},a):this.tooltipActions(t,i)},tooltipRemoval:function(t){this.remove(t),this.unbindScrollListener(t)},hide:function(t,i){var a=this;clearTimeout(this.timer),i!==void 0?setTimeout(function(){return a.tooltipRemoval(t)},i):this.tooltipRemoval(t)},getTooltipElement:function(t){return document.getElementById(t.$_ptooltipId)},create:function(t){var i=t.$_ptooltipModifiers,a=A1("div",{class:!this.isUnstyled()&&this.cx("arrow"),"p-bind":this.ptm("arrow",{context:i})}),l=A1("div",{class:!this.isUnstyled()&&this.cx("text"),"p-bind":this.ptm("text",{context:i})});t.$_ptooltipEscape?(l.innerHTML="",l.appendChild(document.createTextNode(t.$_ptooltipValue))):l.innerHTML=t.$_ptooltipValue;var c=A1("div",eF(eF({id:t.$_ptooltipIdAttr,role:"tooltip",style:{display:"inline-block",width:t.$_ptooltipFitContent?"fit-content":void 0,pointerEvents:!this.isUnstyled()&&t.$_ptooltipAutoHide&&"none"},class:[!this.isUnstyled()&&this.cx("root"),t.$_ptooltipClass]},this.$attrSelector,""),"p-bind",this.ptm("root",{context:i})),a,l);return document.body.appendChild(c),t.$_ptooltipId=c.id,this.$el=c,c},remove:function(t){if(t){var i=this.getTooltipElement(t);i&&i.parentElement&&(Zr.clear(i),document.body.removeChild(i)),t.$_ptooltipId=null}},align:function(t){var i=t.$_ptooltipModifiers;i.top?(this.alignTop(t),this.isOutOfBounds(t)&&(this.alignBottom(t),this.isOutOfBounds(t)&&this.alignTop(t))):i.left?(this.alignLeft(t),this.isOutOfBounds(t)&&(this.alignRight(t),this.isOutOfBounds(t)&&(this.alignTop(t),this.isOutOfBounds(t)&&(this.alignBottom(t),this.isOutOfBounds(t)&&this.alignLeft(t))))):i.bottom?(this.alignBottom(t),this.isOutOfBounds(t)&&(this.alignTop(t),this.isOutOfBounds(t)&&this.alignBottom(t))):(this.alignRight(t),this.isOutOfBounds(t)&&(this.alignLeft(t),this.isOutOfBounds(t)&&(this.alignTop(t),this.isOutOfBounds(t)&&(this.alignBottom(t),this.isOutOfBounds(t)&&this.alignRight(t)))))},getHostOffset:function(t){var i=t.getBoundingClientRect(),a=i.left+xT(),l=i.top+_6();return{left:a,top:l}},alignRight:function(t){this.preAlign(t,"right");var i=this.getTooltipElement(t),a=this.getHostOffset(t),l=a.left+mr(t),c=a.top+(Rs(t)-Rs(i))/2;i.style.left=l+"px",i.style.top=c+"px"},alignLeft:function(t){this.preAlign(t,"left");var i=this.getTooltipElement(t),a=this.getHostOffset(t),l=a.left-mr(i),c=a.top+(Rs(t)-Rs(i))/2;i.style.left=l+"px",i.style.top=c+"px"},alignTop:function(t){this.preAlign(t,"top");var i=this.getTooltipElement(t),a=this.getHostOffset(t),l=a.left+(mr(t)-mr(i))/2,c=a.top-Rs(i);i.style.left=l+"px",i.style.top=c+"px"},alignBottom:function(t){this.preAlign(t,"bottom");var i=this.getTooltipElement(t),a=this.getHostOffset(t),l=a.left+(mr(t)-mr(i))/2,c=a.top+Rs(t);i.style.left=l+"px",i.style.top=c+"px"},preAlign:function(t,i){var a=this.getTooltipElement(t);a.style.left="-999px",a.style.top="-999px",Bc(a,"p-tooltip-".concat(a.$_ptooltipPosition)),!this.isUnstyled()&&vl(a,"p-tooltip-".concat(i)),a.$_ptooltipPosition=i,a.setAttribute("data-p-position",i);var l=ks(a,'[data-pc-section="arrow"]');l.style.top=i==="bottom"?"0":i==="right"||i==="left"||i!=="right"&&i!=="left"&&i!=="top"&&i!=="bottom"?"50%":null,l.style.bottom=i==="top"?"0":null,l.style.left=i==="right"||i!=="right"&&i!=="left"&&i!=="top"&&i!=="bottom"?"0":i==="top"||i==="bottom"?"50%":null,l.style.right=i==="left"?"0":null},isOutOfBounds:function(t){var i=this.getTooltipElement(t),a=i.getBoundingClientRect(),l=a.top,c=a.left,y=mr(i),n=Rs(i),x=A2();return c+y>x.width||c<0||l<0||l+n>x.height},getTarget:function(t){return bT(t,"p-inputwrapper")?ks(t,"input"):t},getModifiers:function(t){return t.modifiers&&Object.keys(t.modifiers).length?t.modifiers:t.arg&&Xd(t.arg)==="object"?Object.entries(t.arg).reduce(function(i,a){var l=gz(a,2),c=l[0],y=l[1];return(c==="event"||c==="position")&&(i[y]=!0),i},{}):{}}}});const Cz=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Ez=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Sz=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Tz(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){Rz(e);return}return t}function Rz(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function Pz(e,t={}){if(typeof e!="string")return e;const i=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return i.slice(1,-1);if(i.length<=9){const a=i.toLowerCase();if(a==="true")return!0;if(a==="false")return!1;if(a==="undefined")return;if(a==="null")return null;if(a==="nan")return Number.NaN;if(a==="infinity")return Number.POSITIVE_INFINITY;if(a==="-infinity")return Number.NEGATIVE_INFINITY}if(!Sz.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(Cz.test(e)||Ez.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,Tz)}return JSON.parse(e)}catch(a){if(t.strict)throw a;return e}}function Iz(e,t){if(e==null)return;let i=e;for(let a=0;a<t.length;a++){if(i==null||i[t[a]]==null)return;i=i[t[a]]}return i}function F6(e,t,i){if(i.length===0)return t;const a=i[0];return i.length>1&&(t=F6(typeof e!="object"||e===null||!Object.prototype.hasOwnProperty.call(e,a)?Number.isInteger(Number(i[1]))?[]:{}:e[a],t,Array.prototype.slice.call(i,1))),Number.isInteger(Number(a))&&Array.isArray(e)?e.slice()[a]:Object.assign({},e,{[a]:t})}function ST(e,t){if(e==null||t.length===0)return e;if(t.length===1){if(e==null)return e;if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.slice.call(e,0).splice(t[0],1);const i={};for(const a in e)i[a]=e[a];return delete i[t[0]],i}if(e[t[0]]==null){if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.concat.call([],e);const i={};for(const a in e)i[a]=e[a];return i}return F6(e,ST(e[t[0]],Array.prototype.slice.call(t,1)),[t[0]])}function TT(e,t){return t.map(i=>i.split(".")).map(i=>[i,Iz(e,i)]).filter(i=>i[1]!==void 0).reduce((i,a)=>F6(i,a[1],a[0]),{})}function RT(e,t){return t.map(i=>i.split(".")).reduce((i,a)=>ST(i,a),e)}function tF(e,{storage:t,serializer:i,key:a,debug:l,pick:c,omit:y,beforeHydrate:n,afterHydrate:x},C,k=!0){try{k&&(n==null||n(C));const O=t.getItem(a);if(O){const B=i.deserialize(O),L=c?TT(B,c):B,V=y?RT(L,y):L;e.$patch(V)}k&&(x==null||x(C))}catch(O){l&&console.error("[pinia-plugin-persistedstate]",O)}}function iF(e,{storage:t,serializer:i,key:a,debug:l,pick:c,omit:y}){try{const n=c?TT(e,c):e,x=y?RT(n,y):n,C=i.serialize(x);t.setItem(a,C)}catch(n){l&&console.error("[pinia-plugin-persistedstate]",n)}}function kz(e,t,i){const{pinia:a,store:l,options:{persist:c=i}}=e;if(!c)return;if(!(l.$id in a.state.value)){const x=a._s.get(l.$id.replace("__hot:",""));x&&Promise.resolve().then(()=>x.$persist());return}const n=(Array.isArray(c)?c:c===!0?[{}]:[c]).map(t);l.$hydrate=({runHooks:x=!0}={})=>{n.forEach(C=>{tF(l,C,e,x)})},l.$persist=()=>{n.forEach(x=>{iF(l.$state,x)})},n.forEach(x=>{tF(l,x,e),l.$subscribe((C,k)=>iF(k,x),{detached:!0})})}function Mz(e={}){return function(t){kz(t,i=>({key:(e.key?e.key:a=>a)(i.key??t.store.$id),debug:i.debug??e.debug??!1,serializer:i.serializer??e.serializer??{serialize:a=>JSON.stringify(a),deserialize:a=>Pz(a)},storage:i.storage??e.storage??window.localStorage,beforeHydrate:i.beforeHydrate,afterHydrate:i.afterHydrate,pick:i.pick,omit:i.omit}),e.auto??!1)}}var Az=Mz();/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const dp=typeof document<"u";function PT(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Oz(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&PT(e.default)}const Eo=Object.assign;function l3(e,t){const i={};for(const a in t){const l=t[a];i[a]=hc(l)?l.map(e):e(l)}return i}const O1=()=>{},hc=Array.isArray,IT=/#/g,Lz=/&/g,Dz=/\//g,Bz=/=/g,jz=/\?/g,kT=/\+/g,zz=/%5B/g,Vz=/%5D/g,MT=/%5E/g,Nz=/%60/g,AT=/%7B/g,$z=/%7C/g,OT=/%7D/g,Uz=/%20/g;function C6(e){return encodeURI(""+e).replace($z,"|").replace(zz,"[").replace(Vz,"]")}function Gz(e){return C6(e).replace(AT,"{").replace(OT,"}").replace(MT,"^")}function tx(e){return C6(e).replace(kT,"%2B").replace(Uz,"+").replace(IT,"%23").replace(Lz,"%26").replace(Nz,"`").replace(AT,"{").replace(OT,"}").replace(MT,"^")}function Hz(e){return tx(e).replace(Bz,"%3D")}function qz(e){return C6(e).replace(IT,"%23").replace(jz,"%3F")}function Wz(e){return e==null?"":qz(e).replace(Dz,"%2F")}function eg(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Kz=/\/$/,Zz=e=>e.replace(Kz,"");function d3(e,t,i="/"){let a,l={},c="",y="";const n=t.indexOf("#");let x=t.indexOf("?");return n<x&&n>=0&&(x=-1),x>-1&&(a=t.slice(0,x),c=t.slice(x+1,n>-1?n:t.length),l=e(c)),n>-1&&(a=a||t.slice(0,n),y=t.slice(n,t.length)),a=Yz(a??t,i),{fullPath:a+(c&&"?")+c+y,path:a,query:l,hash:eg(y)}}function Qz(e,t){const i=t.query?e(t.query):"";return t.path+(i&&"?")+i+(t.hash||"")}function nF(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Xz(e,t,i){const a=t.matched.length-1,l=i.matched.length-1;return a>-1&&a===l&&Bp(t.matched[a],i.matched[l])&&LT(t.params,i.params)&&e(t.query)===e(i.query)&&t.hash===i.hash}function Bp(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function LT(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(!Jz(e[i],t[i]))return!1;return!0}function Jz(e,t){return hc(e)?oF(e,t):hc(t)?oF(t,e):e===t}function oF(e,t){return hc(t)?e.length===t.length&&e.every((i,a)=>i===t[a]):e.length===1&&e[0]===t}function Yz(e,t){if(e.startsWith("/"))return e;if(!e)return t;const i=t.split("/"),a=e.split("/"),l=a[a.length-1];(l===".."||l===".")&&a.push("");let c=i.length-1,y,n;for(y=0;y<a.length;y++)if(n=a[y],n!==".")if(n==="..")c>1&&c--;else break;return i.slice(0,c).join("/")+"/"+a.slice(y).join("/")}const Id={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var tg;(function(e){e.pop="pop",e.push="push"})(tg||(tg={}));var L1;(function(e){e.back="back",e.forward="forward",e.unknown=""})(L1||(L1={}));function eV(e){if(!e)if(dp){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Zz(e)}const tV=/^[^#]+#/;function iV(e,t){return e.replace(tV,"#")+t}function nV(e,t){const i=document.documentElement.getBoundingClientRect(),a=e.getBoundingClientRect();return{behavior:t.behavior,left:a.left-i.left-(t.left||0),top:a.top-i.top-(t.top||0)}}const D2=()=>({left:window.scrollX,top:window.scrollY});function oV(e){let t;if("el"in e){const i=e.el,a=typeof i=="string"&&i.startsWith("#"),l=typeof i=="string"?a?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!l)return;t=nV(l,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function rF(e,t){return(history.state?history.state.position-t:-1)+e}const ix=new Map;function rV(e,t){ix.set(e,t)}function aV(e){const t=ix.get(e);return ix.delete(e),t}let sV=()=>location.protocol+"//"+location.host;function DT(e,t){const{pathname:i,search:a,hash:l}=t,c=e.indexOf("#");if(c>-1){let n=l.includes(e.slice(c))?e.slice(c).length:1,x=l.slice(n);return x[0]!=="/"&&(x="/"+x),nF(x,"")}return nF(i,e)+a+l}function cV(e,t,i,a){let l=[],c=[],y=null;const n=({state:B})=>{const L=DT(e,location),V=i.value,G=t.value;let Q=0;if(B){if(i.value=L,t.value=B,y&&y===V){y=null;return}Q=G?B.position-G.position:0}else a(L);l.forEach(Y=>{Y(i.value,V,{delta:Q,type:tg.pop,direction:Q?Q>0?L1.forward:L1.back:L1.unknown})})};function x(){y=i.value}function C(B){l.push(B);const L=()=>{const V=l.indexOf(B);V>-1&&l.splice(V,1)};return c.push(L),L}function k(){const{history:B}=window;B.state&&B.replaceState(Eo({},B.state,{scroll:D2()}),"")}function O(){for(const B of c)B();c=[],window.removeEventListener("popstate",n),window.removeEventListener("beforeunload",k)}return window.addEventListener("popstate",n),window.addEventListener("beforeunload",k,{passive:!0}),{pauseListeners:x,listen:C,destroy:O}}function aF(e,t,i,a=!1,l=!1){return{back:e,current:t,forward:i,replaced:a,position:window.history.length,scroll:l?D2():null}}function lV(e){const{history:t,location:i}=window,a={value:DT(e,i)},l={value:t.state};l.value||c(a.value,{back:null,current:a.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function c(x,C,k){const O=e.indexOf("#"),B=O>-1?(i.host&&document.querySelector("base")?e:e.slice(O))+x:sV()+e+x;try{t[k?"replaceState":"pushState"](C,"",B),l.value=C}catch(L){console.error(L),i[k?"replace":"assign"](B)}}function y(x,C){const k=Eo({},t.state,aF(l.value.back,x,l.value.forward,!0),C,{position:l.value.position});c(x,k,!0),a.value=x}function n(x,C){const k=Eo({},l.value,t.state,{forward:x,scroll:D2()});c(k.current,k,!0);const O=Eo({},aF(a.value,x,null),{position:k.position+1},C);c(x,O,!1),a.value=x}return{location:a,state:l,push:n,replace:y}}function dV(e){e=eV(e);const t=lV(e),i=cV(e,t.state,t.location,t.replace);function a(c,y=!0){y||i.pauseListeners(),history.go(c)}const l=Eo({location:"",base:e,go:a,createHref:iV.bind(null,e)},t,i);return Object.defineProperty(l,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(l,"state",{enumerable:!0,get:()=>t.state.value}),l}function uV(e){return typeof e=="string"||e&&typeof e=="object"}function BT(e){return typeof e=="string"||typeof e=="symbol"}const jT=Symbol("");var sF;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(sF||(sF={}));function jp(e,t){return Eo(new Error,{type:e,[jT]:!0},t)}function pl(e,t){return e instanceof Error&&jT in e&&(t==null||!!(e.type&t))}const cF="[^/]+?",hV={sensitive:!1,strict:!1,start:!0,end:!0},fV=/[.+*?^${}()[\]/\\]/g;function pV(e,t){const i=Eo({},hV,t),a=[];let l=i.start?"^":"";const c=[];for(const C of e){const k=C.length?[]:[90];i.strict&&!C.length&&(l+="/");for(let O=0;O<C.length;O++){const B=C[O];let L=40+(i.sensitive?.25:0);if(B.type===0)O||(l+="/"),l+=B.value.replace(fV,"\\$&"),L+=40;else if(B.type===1){const{value:V,repeatable:G,optional:Q,regexp:Y}=B;c.push({name:V,repeatable:G,optional:Q});const J=Y||cF;if(J!==cF){L+=10;try{new RegExp(`(${J})`)}catch(ce){throw new Error(`Invalid custom RegExp for param "${V}" (${J}): `+ce.message)}}let re=G?`((?:${J})(?:/(?:${J}))*)`:`(${J})`;O||(re=Q&&C.length<2?`(?:/${re})`:"/"+re),Q&&(re+="?"),l+=re,L+=20,Q&&(L+=-8),G&&(L+=-20),J===".*"&&(L+=-50)}k.push(L)}a.push(k)}if(i.strict&&i.end){const C=a.length-1;a[C][a[C].length-1]+=.7000000000000001}i.strict||(l+="/?"),i.end?l+="$":i.strict&&(l+="(?:/|$)");const y=new RegExp(l,i.sensitive?"":"i");function n(C){const k=C.match(y),O={};if(!k)return null;for(let B=1;B<k.length;B++){const L=k[B]||"",V=c[B-1];O[V.name]=L&&V.repeatable?L.split("/"):L}return O}function x(C){let k="",O=!1;for(const B of e){(!O||!k.endsWith("/"))&&(k+="/"),O=!1;for(const L of B)if(L.type===0)k+=L.value;else if(L.type===1){const{value:V,repeatable:G,optional:Q}=L,Y=V in C?C[V]:"";if(hc(Y)&&!G)throw new Error(`Provided param "${V}" is an array but it is not repeatable (* or + modifiers)`);const J=hc(Y)?Y.join("/"):Y;if(!J)if(Q)B.length<2&&(k.endsWith("/")?k=k.slice(0,-1):O=!0);else throw new Error(`Missing required param "${V}"`);k+=J}}return k||"/"}return{re:y,score:a,keys:c,parse:n,stringify:x}}function mV(e,t){let i=0;for(;i<e.length&&i<t.length;){const a=t[i]-e[i];if(a)return a;i++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function zT(e,t){let i=0;const a=e.score,l=t.score;for(;i<a.length&&i<l.length;){const c=mV(a[i],l[i]);if(c)return c;i++}if(Math.abs(l.length-a.length)===1){if(lF(a))return 1;if(lF(l))return-1}return l.length-a.length}function lF(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const gV={type:0,value:""},_V=/[a-zA-Z0-9_]/;function yV(e){if(!e)return[[]];if(e==="/")return[[gV]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(L){throw new Error(`ERR (${i})/"${C}": ${L}`)}let i=0,a=i;const l=[];let c;function y(){c&&l.push(c),c=[]}let n=0,x,C="",k="";function O(){C&&(i===0?c.push({type:0,value:C}):i===1||i===2||i===3?(c.length>1&&(x==="*"||x==="+")&&t(`A repeatable param (${C}) must be alone in its segment. eg: '/:ids+.`),c.push({type:1,value:C,regexp:k,repeatable:x==="*"||x==="+",optional:x==="*"||x==="?"})):t("Invalid state to consume buffer"),C="")}function B(){C+=x}for(;n<e.length;){if(x=e[n++],x==="\\"&&i!==2){a=i,i=4;continue}switch(i){case 0:x==="/"?(C&&O(),y()):x===":"?(O(),i=1):B();break;case 4:B(),i=a;break;case 1:x==="("?i=2:_V.test(x)?B():(O(),i=0,x!=="*"&&x!=="?"&&x!=="+"&&n--);break;case 2:x===")"?k[k.length-1]=="\\"?k=k.slice(0,-1)+x:i=3:k+=x;break;case 3:O(),i=0,x!=="*"&&x!=="?"&&x!=="+"&&n--,k="";break;default:t("Unknown state");break}}return i===2&&t(`Unfinished custom RegExp for param "${C}"`),O(),y(),l}function bV(e,t,i){const a=pV(yV(e.path),i),l=Eo(a,{record:e,parent:t,children:[],alias:[]});return t&&!l.record.aliasOf==!t.record.aliasOf&&t.children.push(l),l}function vV(e,t){const i=[],a=new Map;t=fF({strict:!1,end:!0,sensitive:!1},t);function l(O){return a.get(O)}function c(O,B,L){const V=!L,G=uF(O);G.aliasOf=L&&L.record;const Q=fF(t,O),Y=[G];if("alias"in O){const ce=typeof O.alias=="string"?[O.alias]:O.alias;for(const he of ce)Y.push(uF(Eo({},G,{components:L?L.record.components:G.components,path:he,aliasOf:L?L.record:G})))}let J,re;for(const ce of Y){const{path:he}=ce;if(B&&he[0]!=="/"){const we=B.record.path,pe=we[we.length-1]==="/"?"":"/";ce.path=B.record.path+(he&&pe+he)}if(J=bV(ce,B,Q),L?L.alias.push(J):(re=re||J,re!==J&&re.alias.push(J),V&&O.name&&!hF(J)&&y(O.name)),VT(J)&&x(J),G.children){const we=G.children;for(let pe=0;pe<we.length;pe++)c(we[pe],J,L&&L.children[pe])}L=L||J}return re?()=>{y(re)}:O1}function y(O){if(BT(O)){const B=a.get(O);B&&(a.delete(O),i.splice(i.indexOf(B),1),B.children.forEach(y),B.alias.forEach(y))}else{const B=i.indexOf(O);B>-1&&(i.splice(B,1),O.record.name&&a.delete(O.record.name),O.children.forEach(y),O.alias.forEach(y))}}function n(){return i}function x(O){const B=FV(O,i);i.splice(B,0,O),O.record.name&&!hF(O)&&a.set(O.record.name,O)}function C(O,B){let L,V={},G,Q;if("name"in O&&O.name){if(L=a.get(O.name),!L)throw jp(1,{location:O});Q=L.record.name,V=Eo(dF(B.params,L.keys.filter(re=>!re.optional).concat(L.parent?L.parent.keys.filter(re=>re.optional):[]).map(re=>re.name)),O.params&&dF(O.params,L.keys.map(re=>re.name))),G=L.stringify(V)}else if(O.path!=null)G=O.path,L=i.find(re=>re.re.test(G)),L&&(V=L.parse(G),Q=L.record.name);else{if(L=B.name?a.get(B.name):i.find(re=>re.re.test(B.path)),!L)throw jp(1,{location:O,currentLocation:B});Q=L.record.name,V=Eo({},B.params,O.params),G=L.stringify(V)}const Y=[];let J=L;for(;J;)Y.unshift(J.record),J=J.parent;return{name:Q,path:G,params:V,matched:Y,meta:wV(Y)}}e.forEach(O=>c(O));function k(){i.length=0,a.clear()}return{addRoute:c,resolve:C,removeRoute:y,clearRoutes:k,getRoutes:n,getRecordMatcher:l}}function dF(e,t){const i={};for(const a of t)a in e&&(i[a]=e[a]);return i}function uF(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:xV(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function xV(e){const t={},i=e.props||!1;if("component"in e)t.default=i;else for(const a in e.components)t[a]=typeof i=="object"?i[a]:i;return t}function hF(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function wV(e){return e.reduce((t,i)=>Eo(t,i.meta),{})}function fF(e,t){const i={};for(const a in e)i[a]=a in t?t[a]:e[a];return i}function FV(e,t){let i=0,a=t.length;for(;i!==a;){const c=i+a>>1;zT(e,t[c])<0?a=c:i=c+1}const l=CV(e);return l&&(a=t.lastIndexOf(l,a-1)),a}function CV(e){let t=e;for(;t=t.parent;)if(VT(t)&&zT(e,t)===0)return t}function VT({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function EV(e){const t={};if(e===""||e==="?")return t;const a=(e[0]==="?"?e.slice(1):e).split("&");for(let l=0;l<a.length;++l){const c=a[l].replace(kT," "),y=c.indexOf("="),n=eg(y<0?c:c.slice(0,y)),x=y<0?null:eg(c.slice(y+1));if(n in t){let C=t[n];hc(C)||(C=t[n]=[C]),C.push(x)}else t[n]=x}return t}function pF(e){let t="";for(let i in e){const a=e[i];if(i=Hz(i),a==null){a!==void 0&&(t+=(t.length?"&":"")+i);continue}(hc(a)?a.map(c=>c&&tx(c)):[a&&tx(a)]).forEach(c=>{c!==void 0&&(t+=(t.length?"&":"")+i,c!=null&&(t+="="+c))})}return t}function SV(e){const t={};for(const i in e){const a=e[i];a!==void 0&&(t[i]=hc(a)?a.map(l=>l==null?null:""+l):a==null?a:""+a)}return t}const TV=Symbol(""),mF=Symbol(""),E6=Symbol(""),S6=Symbol(""),nx=Symbol("");function s1(){let e=[];function t(a){return e.push(a),()=>{const l=e.indexOf(a);l>-1&&e.splice(l,1)}}function i(){e=[]}return{add:t,list:()=>e.slice(),reset:i}}function zd(e,t,i,a,l,c=y=>y()){const y=a&&(a.enterCallbacks[l]=a.enterCallbacks[l]||[]);return()=>new Promise((n,x)=>{const C=B=>{B===!1?x(jp(4,{from:i,to:t})):B instanceof Error?x(B):uV(B)?x(jp(2,{from:t,to:B})):(y&&a.enterCallbacks[l]===y&&typeof B=="function"&&y.push(B),n())},k=c(()=>e.call(a&&a.instances[l],t,i,C));let O=Promise.resolve(k);e.length<3&&(O=O.then(C)),O.catch(B=>x(B))})}function u3(e,t,i,a,l=c=>c()){const c=[];for(const y of e)for(const n in y.components){let x=y.components[n];if(!(t!=="beforeRouteEnter"&&!y.instances[n]))if(PT(x)){const k=(x.__vccOpts||x)[t];k&&c.push(zd(k,i,a,y,n,l))}else{let C=x();c.push(()=>C.then(k=>{if(!k)throw new Error(`Couldn't resolve component "${n}" at "${y.path}"`);const O=Oz(k)?k.default:k;y.mods[n]=k,y.components[n]=O;const L=(O.__vccOpts||O)[t];return L&&zd(L,i,a,y,n,l)()}))}}return c}function gF(e){const t=lc(E6),i=lc(S6),a=Li(()=>{const x=dt(e.to);return t.resolve(x)}),l=Li(()=>{const{matched:x}=a.value,{length:C}=x,k=x[C-1],O=i.matched;if(!k||!O.length)return-1;const B=O.findIndex(Bp.bind(null,k));if(B>-1)return B;const L=_F(x[C-2]);return C>1&&_F(k)===L&&O[O.length-1].path!==L?O.findIndex(Bp.bind(null,x[C-2])):B}),c=Li(()=>l.value>-1&&IV(i.params,a.value.params)),y=Li(()=>l.value>-1&&l.value===i.matched.length-1&&LT(i.params,a.value.params));function n(x={}){return PV(x)?t[dt(e.replace)?"replace":"push"](dt(e.to)).catch(O1):Promise.resolve()}return{route:a,href:Li(()=>a.value.href),isActive:c,isExactActive:y,navigate:n}}const RV=to({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:gF,setup(e,{slots:t}){const i=Yp(gF(e)),{options:a}=lc(E6),l=Li(()=>({[yF(e.activeClass,a.linkActiveClass,"router-link-active")]:i.isActive,[yF(e.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive}));return()=>{const c=t.default&&t.default(i);return e.custom?c:f6("a",{"aria-current":i.isExactActive?e.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:l.value},c)}}}),NT=RV;function PV(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function IV(e,t){for(const i in t){const a=t[i],l=e[i];if(typeof a=="string"){if(a!==l)return!1}else if(!hc(l)||l.length!==a.length||a.some((c,y)=>c!==l[y]))return!1}return!0}function _F(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const yF=(e,t,i)=>e??t??i,kV=to({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:i}){const a=lc(nx),l=Li(()=>e.route||a.value),c=lc(mF,0),y=Li(()=>{let C=dt(c);const{matched:k}=l.value;let O;for(;(O=k[C])&&!O.components;)C++;return C}),n=Li(()=>l.value.matched[y.value]);gb(mF,Li(()=>y.value+1)),gb(TV,n),gb(nx,l);const x=ai();return Ir(()=>[x.value,n.value,e.name],([C,k,O],[B,L,V])=>{k&&(k.instances[O]=C,L&&L!==k&&C&&C===B&&(k.leaveGuards.size||(k.leaveGuards=L.leaveGuards),k.updateGuards.size||(k.updateGuards=L.updateGuards))),C&&k&&(!L||!Bp(k,L)||!B)&&(k.enterCallbacks[O]||[]).forEach(G=>G(C))},{flush:"post"}),()=>{const C=l.value,k=e.name,O=n.value,B=O&&O.components[k];if(!B)return bF(i.default,{Component:B,route:C});const L=O.props[k],V=L?L===!0?C.params:typeof L=="function"?L(C):L:null,Q=f6(B,Eo({},V,t,{onVnodeUnmounted:Y=>{Y.component.isUnmounted&&(O.instances[k]=null)},ref:x}));return bF(i.default,{Component:Q,route:C})||Q}}});function bF(e,t){if(!e)return null;const i=e(t);return i.length===1?i[0]:i}const $T=kV;function MV(e){const t=vV(e.routes,e),i=e.parseQuery||EV,a=e.stringifyQuery||pF,l=e.history,c=s1(),y=s1(),n=s1(),x=uO(Id);let C=Id;dp&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const k=l3.bind(null,$t=>""+$t),O=l3.bind(null,Wz),B=l3.bind(null,eg);function L($t,ii){let ni,Re;return BT($t)?(ni=t.getRecordMatcher($t),Re=ii):Re=$t,t.addRoute(Re,ni)}function V($t){const ii=t.getRecordMatcher($t);ii&&t.removeRoute(ii)}function G(){return t.getRoutes().map($t=>$t.record)}function Q($t){return!!t.getRecordMatcher($t)}function Y($t,ii){if(ii=Eo({},ii||x.value),typeof $t=="string"){const K=d3(i,$t,ii.path),et=t.resolve({path:K.path},ii),ot=l.createHref(K.fullPath);return Eo(K,et,{params:B(et.params),hash:eg(K.hash),redirectedFrom:void 0,href:ot})}let ni;if($t.path!=null)ni=Eo({},$t,{path:d3(i,$t.path,ii.path).path});else{const K=Eo({},$t.params);for(const et in K)K[et]==null&&delete K[et];ni=Eo({},$t,{params:O(K)}),ii.params=O(ii.params)}const Re=t.resolve(ni,ii),zi=$t.hash||"";Re.params=k(B(Re.params));const hn=Qz(a,Eo({},$t,{hash:Gz(zi),path:Re.path})),ze=l.createHref(hn);return Eo({fullPath:hn,hash:zi,query:a===pF?SV($t.query):$t.query||{}},Re,{redirectedFrom:void 0,href:ze})}function J($t){return typeof $t=="string"?d3(i,$t,x.value.path):Eo({},$t)}function re($t,ii){if(C!==$t)return jp(8,{from:ii,to:$t})}function ce($t){return pe($t)}function he($t){return ce(Eo(J($t),{replace:!0}))}function we($t){const ii=$t.matched[$t.matched.length-1];if(ii&&ii.redirect){const{redirect:ni}=ii;let Re=typeof ni=="function"?ni($t):ni;return typeof Re=="string"&&(Re=Re.includes("?")||Re.includes("#")?Re=J(Re):{path:Re},Re.params={}),Eo({query:$t.query,hash:$t.hash,params:Re.path!=null?{}:$t.params},Re)}}function pe($t,ii){const ni=C=Y($t),Re=x.value,zi=$t.state,hn=$t.force,ze=$t.replace===!0,K=we(ni);if(K)return pe(Eo(J(K),{state:typeof K=="object"?Eo({},zi,K.state):zi,force:hn,replace:ze}),ii||ni);const et=ni;et.redirectedFrom=ii;let ot;return!hn&&Xz(a,Re,ni)&&(ot=jp(16,{to:et,from:Re}),It(Re,Re,!0,!1)),(ot?Promise.resolve(ot):Ne(et,Re)).catch(Te=>pl(Te)?pl(Te,2)?Te:Bt(Te):Ut(Te,et,Re)).then(Te=>{if(Te){if(pl(Te,2))return pe(Eo({replace:ze},J(Te.to),{state:typeof Te.to=="object"?Eo({},zi,Te.to.state):zi,force:hn}),ii||et)}else Te=ye(et,Re,!0,ze,zi);return it(et,Re,Te),Te})}function De($t,ii){const ni=re($t,ii);return ni?Promise.reject(ni):Promise.resolve()}function Ae($t){const ii=ui.values().next().value;return ii&&typeof ii.runWithContext=="function"?ii.runWithContext($t):$t()}function Ne($t,ii){let ni;const[Re,zi,hn]=AV($t,ii);ni=u3(Re.reverse(),"beforeRouteLeave",$t,ii);for(const K of Re)K.leaveGuards.forEach(et=>{ni.push(zd(et,$t,ii))});const ze=De.bind(null,$t,ii);return ni.push(ze),Ji(ni).then(()=>{ni=[];for(const K of c.list())ni.push(zd(K,$t,ii));return ni.push(ze),Ji(ni)}).then(()=>{ni=u3(zi,"beforeRouteUpdate",$t,ii);for(const K of zi)K.updateGuards.forEach(et=>{ni.push(zd(et,$t,ii))});return ni.push(ze),Ji(ni)}).then(()=>{ni=[];for(const K of hn)if(K.beforeEnter)if(hc(K.beforeEnter))for(const et of K.beforeEnter)ni.push(zd(et,$t,ii));else ni.push(zd(K.beforeEnter,$t,ii));return ni.push(ze),Ji(ni)}).then(()=>($t.matched.forEach(K=>K.enterCallbacks={}),ni=u3(hn,"beforeRouteEnter",$t,ii,Ae),ni.push(ze),Ji(ni))).then(()=>{ni=[];for(const K of y.list())ni.push(zd(K,$t,ii));return ni.push(ze),Ji(ni)}).catch(K=>pl(K,8)?K:Promise.reject(K))}function it($t,ii,ni){n.list().forEach(Re=>Ae(()=>Re($t,ii,ni)))}function ye($t,ii,ni,Re,zi){const hn=re($t,ii);if(hn)return hn;const ze=ii===Id,K=dp?history.state:{};ni&&(Re||ze?l.replace($t.fullPath,Eo({scroll:ze&&K&&K.scroll},zi)):l.push($t.fullPath,zi)),x.value=$t,It($t,ii,ni,ze),Bt()}let Oe;function ue(){Oe||(Oe=l.listen(($t,ii,ni)=>{if(!di.listening)return;const Re=Y($t),zi=we(Re);if(zi){pe(Eo(zi,{replace:!0}),Re).catch(O1);return}C=Re;const hn=x.value;dp&&rV(rF(hn.fullPath,ni.delta),D2()),Ne(Re,hn).catch(ze=>pl(ze,12)?ze:pl(ze,2)?(pe(ze.to,Re).then(K=>{pl(K,20)&&!ni.delta&&ni.type===tg.pop&&l.go(-1,!1)}).catch(O1),Promise.reject()):(ni.delta&&l.go(-ni.delta,!1),Ut(ze,Re,hn))).then(ze=>{ze=ze||ye(Re,hn,!1),ze&&(ni.delta&&!pl(ze,8)?l.go(-ni.delta,!1):ni.type===tg.pop&&pl(ze,20)&&l.go(-1,!1)),it(Re,hn,ze)}).catch(O1)}))}let ct=s1(),Ct=s1(),pt;function Ut($t,ii,ni){Bt($t);const Re=Ct.list();return Re.length?Re.forEach(zi=>zi($t,ii,ni)):console.error($t),Promise.reject($t)}function vt(){return pt&&x.value!==Id?Promise.resolve():new Promise(($t,ii)=>{ct.add([$t,ii])})}function Bt($t){return pt||(pt=!$t,ue(),ct.list().forEach(([ii,ni])=>$t?ni($t):ii()),ct.reset()),$t}function It($t,ii,ni,Re){const{scrollBehavior:zi}=e;if(!dp||!zi)return Promise.resolve();const hn=!ni&&aV(rF($t.fullPath,0))||(Re||!ni)&&history.state&&history.state.scroll||null;return Fl().then(()=>zi($t,ii,hn)).then(ze=>ze&&oV(ze)).catch(ze=>Ut(ze,$t,ii))}const St=$t=>l.go($t);let Wt;const ui=new Set,di={currentRoute:x,listening:!0,addRoute:L,removeRoute:V,clearRoutes:t.clearRoutes,hasRoute:Q,getRoutes:G,resolve:Y,options:e,push:ce,replace:he,go:St,back:()=>St(-1),forward:()=>St(1),beforeEach:c.add,beforeResolve:y.add,afterEach:n.add,onError:Ct.add,isReady:vt,install($t){const ii=this;$t.component("RouterLink",NT),$t.component("RouterView",$T),$t.config.globalProperties.$router=ii,Object.defineProperty($t.config.globalProperties,"$route",{enumerable:!0,get:()=>dt(x)}),dp&&!Wt&&x.value===Id&&(Wt=!0,ce(l.location).catch(zi=>{}));const ni={};for(const zi in Id)Object.defineProperty(ni,zi,{get:()=>x.value[zi],enumerable:!0});$t.provide(E6,ii),$t.provide(S6,_S(ni)),$t.provide(nx,x);const Re=$t.unmount;ui.add($t),$t.unmount=function(){ui.delete($t),ui.size<1&&(C=Id,Oe&&Oe(),Oe=null,x.value=Id,Wt=!1,pt=!1),Re()}}};function Ji($t){return $t.reduce((ii,ni)=>ii.then(()=>Ae(ni)),Promise.resolve())}return di}function AV(e,t){const i=[],a=[],l=[],c=Math.max(t.matched.length,e.matched.length);for(let y=0;y<c;y++){const n=t.matched[y];n&&(e.matched.find(C=>Bp(C,n))?a.push(n):i.push(n));const x=e.matched[y];x&&(t.matched.find(C=>Bp(C,x))||l.push(x))}return[i,a,l]}function OV(e){return lc(S6)}const LV="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Artwork'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='m19.082,9.082c0-3.905-3.177-7.082-7.082-7.082s-7.082,3.177-7.082,7.082c0,3.737,2.91,6.798,6.582,7.057v5.861h1v-5.861c3.672-.258,6.582-3.32,6.582-7.057Zm-6.582,6.057v-2.194l3.345-3.344-.707-.707-2.638,2.637v-5.672h-1v5.672l-2.638-2.637-.707.707,3.345,3.344v2.194c-3.12-.256-5.582-2.872-5.582-6.057,0-3.354,2.729-6.082,6.082-6.082s6.082,2.729,6.082,6.082c0,3.185-2.462,5.801-5.582,6.057Z'/%3e%3c/svg%3e";let DV=[{field:"area_name",title:"Name",description:""},{field:"area_ac",title:"Area (ac)",description:""},{field:"unsecured_forest_ac",title:"Unsecured Forest (ac)",description:""},{field:"unsecured_forest_percent",title:"Unsecured Forest (%)",description:`<p>Percent unsecured forest is the percent of a polygon (county, watershed, or user-submitted) that is covered by either privately unprotected forest or forests publicly-owned yet potentially open to development.</p>
    
    <p>Forest extent was calculated at 30m resolution for 2020 using a combination of the Land Change Monitoring, Assessment, and Projection (<a href="https://www.usgs.gov/special-topics/lcmap" target="_blank">LCMAP</a>) dataset, the National Land Cover Database (<a href="https://www.usgs.gov/centers/eros/science/national-land-cover-database" target="_blank">NLCD</a>), the CropScape - Cropland Data Layer (<a href="https://www.nass.usda.gov/Research_and_Science/Cropland/SARS1a.php" target="_blank">CDL</a>), the <a href="https://daac.ornl.gov/NACP/guides/NAFD_Disturbance.html" target="_blank">North American Forest Dynamics</a> dataset, and the US Forest Service Landscape Change Monitoring System (<a href="https://data.fs.usda.gov/geodata/rastergateway/LCMS/index.php" target="_blank">LCMS</a>) dataset.</p>

    <p>A pixel is considered forest covered in 2020 under several conditions: 1) is classified as forest in NLCD in 2021, or 2) is classified as tree-covered for at least five years in LCMAP but is not classified as developed (classes 22-24) or crop in NLCD and is not classified as tree crops in CDL. A pixel that is classified alternatively as water, wetland or forest is also considered forest (or woody wetland which are treated as forest in this study) if one of these condition is met: a) classified as forest for more years than water and wetland combined, and at least five years all combined, b) is classified as forest for at least five years, c) is classified as forest or woody wetlands in NLCD 2021, d) is classified as forest in NAFD, granted that previous conditions 1 or 2 are also met.</p>

      <p>To calculate <em>unsecured forests</em>, we remove forest pixels found in the Protected Areas Database (<a href="https://www.usgs.gov/programs/gap-analysis-project/science/pad-us-data-overview" target="_blank">PAD-US</a>) &mdash; which contains publicly managed and privately conserved lands &mdash; with the exception of State Trust Lands, which are open to various levels of development.
      `},{field:"land_cost",title:"Land Cost ($/ac)",description:`<p>Land cost is calculated as the average cost of land in a polygon. Land cost values were estimated in 2022 dollars at 480m resolution by the <a href="https://placeslab.org/research/#cost" target="_blank">PLACES lab</a> at Boston University. Methodology can be found in:</p>
      
      <p><em>Nolte, C. 2020. <a href="https://www.pnas.org/doi/10.1073/pnas.2012865117 target="_blank">High-resolution land value maps reveal underestimation of conservation costs in the United States</a>. PNAS. </p>
      
      `},{field:"unsecured_carbon_total",title:"Unsecured Forest Carbon Total (tCO2e)",description:`<p>Unsecured forest carbon is the amount of carbon that is within either privately unprotected forest or forests publicly-owned yet potentially open to development.</p>

    <p>The U.S. NFCMS - version 3.0 is a conterminous U.S., 30m resolution dataset of forest extent, forest
    carbon stocks, historical forest conversion (1990-2020) and potential future forest carbon stocks under
    a grow-only scenario. It is based on a methodology similar to that used in the original version of the
    NFCMS (on ORNL DAAC (<a href="https://doi.org/10.3334/ORNLDAAC/1829" target="_blank">Williams et al., 2021</a>) but with
    significant updates to inventory-derived carbon curves, forest extent, and forest disturbance history</p>

    <p><a href="https://s3.us-east-1.amazonaws.com/osi-craft/NFCMS-Guidance-Document-updated.pdf" target="_blank">Guidance on Use and Application of the National Forest Carbon Monitoring System Dataset.</a></p>
    `},{field:"avoided_forest_conversion",title:"Anticipated emissions from Forest Conversion (tCO2e)",description:`

  
    <p><strong>Anticipated emissions from Forest Conversion</strong> estimates the climate mitigation opportunity achieved by protecting unsecured forests from deforestation. This calculation provides a scientifically-grounded assessment of the carbon benefits that result from preventing forest loss.</p>
    
    <div class="calculation-formula code">
        <strong>Carbon Impact = </strong>
        Acres × Conversion Rate × Carbon Density × Protection Period
    </div>
    
    <p>This metric combines four critical components:</p>
    <ul>
        <li><strong>Acres of unsecured forest</strong> &mdash; the forest area lacking permanent legal protection. Captured by the Unsecured Forest metric.</li>
        <li><strong>Annual forest conversion rate</strong> &mdash; the annual probability that forests will be permanently converted to non-forest uses. Calculated using annual forest loss from a baseline of 1990 forest extent from 1990-2017.</li>
        <li><strong>Average carbon density per acre</strong> &mdash; calculated from the Unsecured Forest Carbon layer</li>
        <li><strong>Years of conversion</strong> &mdash; the duration over which conversion is prevented through forest protection</li>
    </ul>

<p>Our conversion rate estimates are based on county-level forest loss data from 1990-2017, providing three options:</p>
    <ul>
        <li><strong>Minimum rate</strong> - the lowest annual forest loss observed in the county</li>
        <li><strong>Mean rate</strong> - the average annual forest loss over the study period</li>
        <li><strong>Maximum rate</strong> - the highest annual forest loss observed in the county</li>
    </ul>
    
    <p>For user-supplied (drawn or uploaded) areas, users may customize conversion rates above county maximums in the Analyze section of the application, but should have should have specific, credible evidence of local imminent and financially viable deforestation threats such as development plans, zoning changes, sale documents noting development potential, or market demand. This approach aligns with best practices that emphasize site-specific threat assessment over historical averages alone (See <a href="https://www.sciencedirect.com/science/article/pii/S0959378024000670" target=_"blank">West et al. 2024</a>.).</p>

    <p>The <em>protection period</em> reflects the commitment duration &mdash; how long the forest will remain protected. Carbon standards vary significantly in their permanence requirements (see <a href="https://netzero.salesforce.com/resource/1715835177000/RatingsResources/docs/BeZeroCarbonRatingsExplained.pdf" target="_blank">BeZero's Avoided Deforestation Methodology</a>):</p>
    <ul>
        <li><strong>Verra (VCS)</strong>: 20-100 years depending on project type</li>
        <li><strong>American Carbon Registry</strong>: 40+ years minimum</li>
        <li><strong>Plan Vivo</strong>: 50+ years for forest projects</li>
        <li><strong>Climate Action Reserve</strong>: Up to 100 years for forest protocols</li>
    </ul>
    
    <p>Future conversion is dependent on a number of economic and social factors which are increasingly difficult to predict in distant futures. Our default 25-year period represents a conservative estimate, but users can estimate up to 100 years. </p>

<h3>The Perils of Inflated Baselines</h3>

    <p><strong>Baseline inflation</strong> occurs when projects overestimate the deforestation that would occur without protection, leading to inflated claims of climate benefits which can undermine the integrity of forest protection efforts. This problem is widespread and well-documented in scientific literature.</p>

    <p>For a forest protection project to generate credible carbon benefits, it must be 'additional' &mdash; meaning the protection efforts go beyond what would have happened anyway. If your forest is not genuinely threatened by conversion, or is already protected by other means (e.g., existing conservation easement with similar restrictions), the carbon benefits of new protection may be limited or zero.</p>
    
`},{field:"afc_roi",title:"Avoided Conversion Emissions ROI",description:`<p>Avoided Conversion Emissions ROI is a measure of the approximate cost to protect unsecured forest carbon, combining the avoided conversion emissions and land cost estimates.</p>

    <p>By default, Avoided Converted Emissions estimates the potential mitigation over a 25 year period, given the mean rate of forest conversion measured from 1990-2017, acres of total unsecured forest, and carbon density per acre with those forests. Conversion rate and protection period can be changed for a single area using the Customize Calculation option, but the map reflects these default options.</p>

    <p>Land cost was estimated in 2022 dollars as the average per-acre cost over the entire area (ie selected county, HUC-12 watershed, or user-submitted drawn or uploaded polygon), and multiplied by the acres of avoided forest conversion estimated with the AFC calculation. Because large polygons potentially require averaging land cost over a greater range of values that may span both urban and rural estimates, better estimates may be obtained using a smaller area, such as HUC-12 watershed or parcels. </p>
    `},{field:"albedo",title:"Albedo ()",description:""},{field:"critical_habitat_species",title:"Threatened & Endangered Species",description:`<p>Number and acreage of potential threatened and endangered species was measured using the <a href="https://ecos.fws.gov/ecp/report/critical-habitat" target=_blank">USFWS Critical Habitat dataset</a>. Critical habitat is areas that are essential for the conservation of species that are proposed for listing as endangered or threatened under the Endangered Species Act.</p>

    <p>To enable efficient analysis within the application, we created a 30m raster dataset of critical habitat, which may result in under-counting any very small (< 1 acre or < 30m wide) polygons, typically from species dependent on narrow rivers or small aquatic systems. </p>
    
    `},{field:"rcn_percent",title:"Resilient & Connected Lands (%)",description:`
    <p>The Resilient and Connected Network (RCN) is a connected network of resilient, biodiverse lands covering 35% of the United States representing all ecoregions and geophysical settings. The network was created by finding areas of co-occurrence between resilient land, high flow, and recognized biodiversity.</p>

    <p>This measure is the percent of an area found within the "Resilience, Flow, and Recognized Biodiversity", "Resilience and Flow", and "Resilience and Recognized Biodiversity" classes of the RCN.</p>

    <p>Additional information can be found at:</p>
    <ul>
      <li><a href="" target="_blank">Anderson, M.G., et al. 2023. A resilient and connected network of sites to sustain biodiversity under a changing climate. PNAS.</a></li>
      <li><a href="https://www.maps.tnc.org/resilientland/#/explore" target="_blank">Resilient Land Mapping Tool</a></li>
      </ul>
    `},{field:"terrestrial_resilience",title:"Terrestrial Resilience",description:`

      <p>A site's Resilience Score estimates its capacity to maintain species diversity and ecological function as the climate changes. It was determined by evaluating and quantifying physical characteristics that foster resilience, particularly the site’s landscape diversity and local connectedness. The score is calculated within ecoregions based on all cells of the same geophysical setting and is described on a relative basis as above or below the average. For example, cells of granite bedrock were compared with all other cells of granite bedrock, and coastal plain sands were compared with other coastal plain sands. Our goal was to identify the places most resilient to climate change for each geophysical setting within each ecoregion.</p>
    
        <ul>

      <li><a href="https://www.maps.tnc.org/resilientland/#/explore" target="_blank">Resilient Land Mapping Tool</a></li>
      </ul>
    `},{field:"water_provision",title:"Water Provision",description:`
      <p>This is an index of an area's importance to surface drinking water from the <a href="https://www.fs.usda.gov/research/publications/wo/gtr_wo99.pdf" target="_blank">USFS's Forests to Faucets 2.0 study.</p>
    
    
    <ul>

      <li><a href="https://www.fs.usda.gov/ecosystemservices/FS_Efforts/forests2faucets.shtml" target="_blank">Forests to Faucets</a></li>
      </ul>
    `},{field:"private_unprotected_percent",title:"Private Unprotected (%)",description:""},{field:"forest_legacy_percent",title:"Forest Legacy Areas %",description:`<p>Percent Forest Legacy Areas is a measure of the overall percent of land within each polygon that falls within a Forest Legacy Area.</p> 
    
    <p>The <a href='https://www.fs.usda.gov/managing-land/private-land/forest-legacy' target='_blank'>Forest Legacy Program</a> The Forest Legacy Program is a conservation program funded by the Land and Water Conservation Fund, and administered by the Forest Service in partnership with State agencies to encourage the protection of privately owned forest lands through conservation easements or land purchases.</p>
      
      <p>In order to be eligible for the Forest Legacy Program, project tracts must be a minimum of 75% forestland or have a plan to reforest, as well as be located within Forest Legacy Areas, which are identified by state agencies as those forestlands which are most in need of conservation.</p>
      
      `},{field:"megaregion_name",title:"Megaregion",description:""},{field:"historic_conversion",title:"Historic Forest Conversion",description:"<p>Historic forest conversion is the average amount of forest converted annually to development or agriculture, per-county, as a percentage of unsecured forest land in 1990. Minimum and maximum values reflect, for each county, the minimum or maximum annual forest conversion rate from 1990-2017.</p>"},{field:"conversion_pressure_index",title:"Conversion Pressure Index",description:`<p>Conversion Pressure Index (CPI) is a global 1km resolution map of land conversion pressure from multiple drivers which combines past rates of anthropogenic change, as measured by temporal human modification maps, with suitability maps for potential future expansion by large-scale development.</p>
    
    <p>Oakleaf, J., et al. 2024. <a href="https://www.nature.com/articles/s41597-024-03639-9" target=_"blank">Mapping global land conversion pressure to support conservation planning</a>. Scientific Data. 
    
    `},{field:"private_unprotected",title:"Private Unprotected",description:'<p>Percent private unprotected is the percent of an area - not just the forests within the area - that is not found within the <a href="https://www.usgs.gov/programs/gap-analysis-project/science/protected-areas" target="_blank">Protected Areas Database (PAD-US)</a>. Note: this metric is does not contain the most up-to-date information for private conservation easements found in the <a href="https://www.conservationeasement.us/" target=_"blank">National Conservation Easement Database</a>.</p>'},{field:"land_management",title:"Land Management",description:'<p>Land management is mapped using the he <a href="https://www.usgs.gov/programs/gap-analysis-project/science/protected-areas" target="_blank">Protected Areas Database (PAD-US)</a>.</p>'}];const mo=pu("generalStore",()=>{let e=ai("explore"),t=ai("select"),i=ai([]),a=ai(!1),l=ai(null),c=1.13,y=ai(!0),n=ai(1),x=ai(0);const C="https://action-mapper.s3.amazonaws.com/naturebase_cog_06_2024/",k=async()=>{console.log("fetch data"),fetch("https://content.ncsmap.org/items/regional_spatial_metadata/",{method:"GET",headers:{"Content-Type":"application/json"}}).then(Y=>Y.json()).then(Y=>{i.value=Y.data}).catch(Y=>{console.error("Error:",Y)})},O=Li(()=>{const Y=i.value;return Y.length===0?[]:Y.filter(J=>J.choropleth_display===!0)}),B=Li(()=>{const Y=i.value;return Y.length===0?[]:Y.filter(J=>J.analysis_raster===!0)}),L=Li(()=>{const Y=i.value;return Y.length===0?[]:Y.filter(J=>J.analysis_raster===!0&&J.use_for_testing===!0)}),V=Li(()=>i.value),G=Y=>{l.value=Y,a.value=!0},Q=Li(()=>l.value?DV.find(re=>re.field===l.value):{title:"",description:""});return{inflationAdjustment:c,activeMapSection:e,addAreasMode:t,spatialMetadata:i,showMetadata:G,showMetadataModal:a,activeMetadataId:l,includeAlbedo:y,albedo2DevWeight:n,albedo2CropWeight:x,activeMetadataContent:Q,pmTilesUrl:C,querySpatialMetadata:k,choroplethLayers:O,analysisLayers:B,analysisLayersTesting:L,computedTest:V}}),Hd=e=>Math.round(e/100)*100,Hb=e=>Math.round(e/10)*10,gp=e=>Math.round(e),tu=e=>Math.round(e*10)/10,ox=e=>Math.round(e*100)/100,B2=e=>e<100?{raw:e,value:gp(e),string:gp(e).toLocaleString(),units:"ac",unitsAbbrev:"ac"}:e<500?{raw:e,value:gp(e),string:gp(e).toLocaleString(),units:"ac",unitsAbbrev:"ac"}:e<1e4?{raw:e,value:Hb(e),string:Hb(e).toLocaleString(),units:"ac",unitsAbbrev:"ac"}:e<1e5?{raw:e,value:Hd(e),string:Hd(e).toLocaleString(),units:"ac",unitsAbbrev:"ac"}:{raw:e,value:Hd(e),string:Hd(e).toLocaleString(),units:"ac",unitsAbbrev:"ac"},Yn=e=>e<100?{raw:e,value:tu(e),string:tu(e).toLocaleString()}:e<500?{raw:e,value:gp(e),string:gp(e).toLocaleString()}:e<1e4?{raw:e,value:Hb(e),string:Hb(e).toLocaleString()}:e<1e5?{raw:e,value:Hd(e),string:Hd(e).toLocaleString()}:{raw:e,value:Hd(e),string:Hd(e).toLocaleString()},zp={t_defor_driv:{0:"No data",1:"Commodity-driven agriculture",2:"Shifting agriculture",3:"Forestry",4:"Wildfire",5:"Urbanization"},padus_mgr:{0:"Private unprotected",1:"State",2:"Local",3:"Federal",4:"NGO",5:"Tribal",6:"Unknown",7:"District",8:"Joint",9:"Private protected"},padus_mgr_sort:{0:{sort:1,name:"Private unprotected",color:"#f89996",value:0},1:{sort:2,name:"State",color:"#9fddf8",value:1},2:{sort:3,name:"Local",color:"#addd8e",value:2},3:{sort:4,name:"Federal",color:"#238443",value:3},4:{sort:5,name:"NGO",color:"#41ab5d",value:4},5:{sort:6,name:"Tribal",color:"#fab381",value:5},6:{sort:7,name:"Unknown",color:"#006837",value:6},7:{sort:8,name:"District",color:"#f7f7f7",value:7},8:{sort:9,name:"Joint",color:"#f7f7f7",value:8},9:{sort:10,name:"Private protected",color:"#78c679",value:9}},t_rpa_megaregion:{1:"Florida",2:"Arizona Sun Corridor",3:"Piedmont Atlantic",4:"Southern California",5:"Front Range",6:"Northern California",7:"Great Lakes",8:"Twin Cities",9:"Northeast",10:"Cascadia",11:"Gulf Coast",12:"Texas Triangle"},cob_rcn_network:{7:"Most resilient",10:"More resilient",11:"Slightly more resilient",6:"Avg Resilience",12:"Slightly less resilient",4:"Less resilient",2:"Least resilient",3:"Developed",1:"Migration space for tidal habitat",5:"Resilient tital habitat",13:"Vulnerable tital habitat",8:"Sea level rise area"},cob_rcn_network_sort:{7:{sort:1,name:"Most resilient",color:"#177a0d",value:7},10:{sort:2,name:"More resilient",color:"#60a642",value:10},11:{sort:3,name:"Slightly more resilient",color:"#abd17d",value:11},6:{sort:4,name:"Avg Resilience",color:"#ffffbf",value:6},12:{sort:5,name:"Slightly less resilient",color:"#cfba76",value:12},4:{sort:6,name:"Less resilient",color:"#a17e3a",value:4},2:{sort:7,name:"Least resilient",color:"#734d00",value:2},3:{sort:8,name:"Developed",color:"#686968",value:3},1:{sort:9,name:"Migration space for tidal habitat",color:"#2b8cbe",value:1},5:{sort:10,name:"Resilient tital habitat",color:"#c8c9e6",value:5},13:{sort:11,name:"Vulnerable tital habitat",color:"#deddc5",value:13},8:{sort:12,name:"Sea level rise area",color:"#9c9c9c",value:8}},stateNames:{AL:"Alabama",AK:"Alaska",AS:"American Samoa",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",DC:"District Of Columbia",FM:"Federated States Of Micronesia",FL:"Florida",GA:"Georgia",GU:"Guam",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MH:"Marshall Islands",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",MP:"Northern Mariana Islands",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PW:"Palau",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VI:"Virgin Islands",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming"},critical_habitat:[{comname:"Prostrate milkweed",sciname:"Asclepias prostrata",spcode:"Q2XI",vipcode:"P01",entity_id:3686,status:"Final",leadoffice:21470,fedreg:"88FR12572 12602",pubdate:"20230228",source_id:2033,objectid:751,listing_st:"Endangered",ch_id:1,ch_str_id:"a-1"},{comname:"Jaguar",sciname:"Panthera onca",spcode:"A040",vipcode:"V01",entity_id:18,status:"Final",leadoffice:22410,fedreg:"89FR46822 46824",pubdate:"20240530",source_id:2010,objectid:730,listing_st:"Endangered",ch_id:10,ch_str_id:"a-10"},{comname:"Huachuca water-umbel",sciname:"Lilaeopsis schaffneriana var. recurva",spcode:"Q2PK",vipcode:"P01",entity_id:1030,status:"Final",leadoffice:22410,fedreg:"64FR37441 37453",pubdate:"19990712",source_id:14,objectid:5,listing_st:"Endangered",ch_id:10,ch_str_id:"a-10"},{comname:"Northern Mexican gartersnake",sciname:"Thamnophis eques megalops",spcode:"C04Q",vipcode:"V01",entity_id:1783,status:"Final",leadoffice:22410,fedreg:"86FR22518 22580",pubdate:"20210428",source_id:1526,objectid:302,listing_st:"Threatened",ch_id:10,ch_str_id:"a-10"},{comname:"Florida bristle fern",sciname:"Trichomanes punctatum ssp. floridanum",spcode:"S02G",vipcode:"P01",entity_id:9721,status:"Final",leadoffice:41411,fedreg:"87FR78582 78610",pubdate:"20221222",source_id:2049,objectid:767,listing_st:"Endangered",ch_id:100,ch_str_id:"a-100"},{comname:"Mexican spotted owl",sciname:"Strix occidentalis lucida",spcode:"B074",vipcode:"V01",entity_id:129,status:"Final",leadoffice:22410,fedreg:"69FR53182 53298",pubdate:"20040831",source_id:20,objectid:9,listing_st:"Threatened",ch_id:1001,ch_str_id:"a-1001"},{comname:"San Francisco Peaks ragwort",sciname:"Packera franciscana",spcode:"Q21L",vipcode:"P01",entity_id:827,status:"Final",leadoffice:22410,fedreg:"48FR52743 52747",pubdate:"19831122",source_id:29,objectid:14,listing_st:"Threatened",ch_id:1001,ch_str_id:"a-1001"},{comname:"Mexican spotted owl",sciname:"Strix occidentalis lucida",spcode:"B074",vipcode:"V01",entity_id:129,status:"Final",leadoffice:22410,fedreg:"69FR53182 53298",pubdate:"20040831",source_id:20,objectid:9,listing_st:"Threatened",ch_id:1002,ch_str_id:"a-1002"},{comname:"Preble's meadow jumping mouse",sciname:"Zapus hudsonius preblei",spcode:"A0C2",vipcode:"V01",entity_id:52,status:"Final",leadoffice:65412,fedreg:"75FR78430 78483",pubdate:"20101215",source_id:1077,objectid:122,listing_st:"Threatened",ch_id:1002,ch_str_id:"a-1002"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:1003,ch_str_id:"a-1003"},{comname:"Least Bell's vireo",sciname:"Vireo bellii pusillus",spcode:"B067",vipcode:"V01",entity_id:123,status:"Final",leadoffice:11430,fedreg:"59FR4845 4867",pubdate:"19940202",source_id:665,objectid:51,listing_st:"Endangered",ch_id:1003,ch_str_id:"a-1003"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:1004,ch_str_id:"a-1004"},{comname:"Arroyo (=arroyo southwestern) toad",sciname:"Anaxyrus californicus",spcode:"D020",vipcode:"V01",entity_id:204,status:"Final",leadoffice:11440,fedreg:"76FR7245 7467",pubdate:"20110209",source_id:656,objectid:44,listing_st:"Endangered",ch_id:1004,ch_str_id:"a-1004"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:1005,ch_str_id:"a-1005"},{comname:"Western Snowy Plover",sciname:"Charadrius nivosus nivosus",spcode:"B07C",vipcode:"V01",entity_id:132,status:"Final",leadoffice:11331,fedreg:"77FR36727 36869",pubdate:"20120619",source_id:890,objectid:73,listing_st:"Threatened",ch_id:1005,ch_str_id:"a-1005"},{comname:"San Bernardino Merriam's kangaroo rat",sciname:"Dipodomys merriami parvus",spcode:"A0G8",vipcode:"V01",entity_id:63,status:"Final",leadoffice:11430,fedreg:"67FR19812 19845",pubdate:"20020423",source_id:674,objectid:58,listing_st:"Endangered",ch_id:1006,ch_str_id:"a-1006"},{comname:"Arroyo (=arroyo southwestern) toad",sciname:"Anaxyrus californicus",spcode:"D020",vipcode:"V01",entity_id:204,status:"Final",leadoffice:11440,fedreg:"76FR7245 7467",pubdate:"20110209",source_id:656,objectid:44,listing_st:"Endangered",ch_id:1006,ch_str_id:"a-1006"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:1007,ch_str_id:"a-1007"},{comname:"New Mexico meadow jumping mouse",sciname:"Zapus hudsonius luteus",spcode:"A0BX",vipcode:"V01",entity_id:5210,status:"Final",leadoffice:22420,fedreg:"81FR14263 14325",pubdate:"20160316",source_id:1510,objectid:294,listing_st:"Endangered",ch_id:1007,ch_str_id:"a-1007"},{comname:"Streaked Horned lark",sciname:"Eremophila alpestris strigata",spcode:"B0B3",vipcode:"V01",entity_id:4296,status:"Final",leadoffice:13420,fedreg:"78FR61505 61589",pubdate:"20131003",source_id:1477,objectid:270,listing_st:"Threatened",ch_id:1008,ch_str_id:"a-1008"},{comname:"Western Snowy Plover",sciname:"Charadrius nivosus nivosus",spcode:"B07C",vipcode:"V01",entity_id:132,status:"Final",leadoffice:11331,fedreg:"77FR36727 36869",pubdate:"20120619",source_id:890,objectid:73,listing_st:"Threatened",ch_id:1008,ch_str_id:"a-1008"},{comname:"Colorado pikeminnow",sciname:"Ptychocheilus lucius",spcode:"E006",vipcode:"V01",entity_id:215,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:6,objectid:1,listing_st:"Endangered",ch_id:1009,ch_str_id:"a-1009"},{comname:"Razorback sucker",sciname:"Xyrauchen texanus",spcode:"E054",vipcode:"V01",entity_id:290,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:715,objectid:63,listing_st:"Endangered",ch_id:1009,ch_str_id:"a-1009"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:1009,ch_str_id:"a-1009"},{comname:"West Indian Manatee",sciname:"Trichechus manatus",spcode:"A007",vipcode:"V01",entity_id:7,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1100,objectid:145,listing_st:"Threatened",ch_id:101,ch_str_id:"a-101"},{comname:"Colorado pikeminnow",sciname:"Ptychocheilus lucius",spcode:"E006",vipcode:"V01",entity_id:215,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:6,objectid:1,listing_st:"Endangered",ch_id:1010,ch_str_id:"a-1010"},{comname:"Razorback sucker",sciname:"Xyrauchen texanus",spcode:"E054",vipcode:"V01",entity_id:290,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:715,objectid:63,listing_st:"Endangered",ch_id:1010,ch_str_id:"a-1010"},{comname:"Mexican spotted owl",sciname:"Strix occidentalis lucida",spcode:"B074",vipcode:"V01",entity_id:129,status:"Final",leadoffice:22410,fedreg:"69FR53182 53298",pubdate:"20040831",source_id:20,objectid:9,listing_st:"Threatened",ch_id:1010,ch_str_id:"a-1010"},{comname:"Colorado pikeminnow",sciname:"Ptychocheilus lucius",spcode:"E006",vipcode:"V01",entity_id:215,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:6,objectid:1,listing_st:"Endangered",ch_id:1011,ch_str_id:"a-1011"},{comname:"Razorback sucker",sciname:"Xyrauchen texanus",spcode:"E054",vipcode:"V01",entity_id:290,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:715,objectid:63,listing_st:"Endangered",ch_id:1011,ch_str_id:"a-1011"},{comname:"Bonytail",sciname:"Gila elegans",spcode:"E020",vipcode:"V01",entity_id:249,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:716,objectid:64,listing_st:"Endangered",ch_id:1011,ch_str_id:"a-1011"},{comname:"Colorado pikeminnow",sciname:"Ptychocheilus lucius",spcode:"E006",vipcode:"V01",entity_id:215,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:6,objectid:1,listing_st:"Endangered",ch_id:1012,ch_str_id:"a-1012"},{comname:"Razorback sucker",sciname:"Xyrauchen texanus",spcode:"E054",vipcode:"V01",entity_id:290,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:715,objectid:63,listing_st:"Endangered",ch_id:1012,ch_str_id:"a-1012"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:1012,ch_str_id:"a-1012"},{comname:"Jemez Mountains salamander",sciname:"Plethodon neomexicanus",spcode:"D019",vipcode:"V01",entity_id:3849,status:"Final",leadoffice:22420,fedreg:"78FR69569 69591",pubdate:"20131120",source_id:1494,objectid:283,listing_st:"Endangered",ch_id:1013,ch_str_id:"a-1013"},{comname:"Mexican spotted owl",sciname:"Strix occidentalis lucida",spcode:"B074",vipcode:"V01",entity_id:129,status:"Final",leadoffice:22410,fedreg:"69FR53182 53298",pubdate:"20040831",source_id:20,objectid:9,listing_st:"Threatened",ch_id:1013,ch_str_id:"a-1013"},{comname:"New Mexico meadow jumping mouse",sciname:"Zapus hudsonius luteus",spcode:"A0BX",vipcode:"V01",entity_id:5210,status:"Final",leadoffice:22420,fedreg:"81FR14263 14325",pubdate:"20160316",source_id:1510,objectid:294,listing_st:"Endangered",ch_id:1013,ch_str_id:"a-1013"},{comname:"Woundfin",sciname:"Plagopterus argentissimus",spcode:"E00Z",vipcode:"V01",entity_id:234,status:"Final",leadoffice:65411,fedreg:"65FR4140 4156",pubdate:"20000126",source_id:40,objectid:21,listing_st:"Endangered",ch_id:1014,ch_str_id:"a-1014"},{comname:"Desert tortoise",sciname:"Gopherus agassizii",spcode:"C04L",vipcode:"V05",entity_id:185,status:"Final",leadoffice:84321,fedreg:"59FR5820 5866",pubdate:"19940208",source_id:664,objectid:50,listing_st:"Threatened",ch_id:1014,ch_str_id:"a-1014"},{comname:"Virgin River Chub",sciname:"Gila seminuda (=robusta)",spcode:"E02A",vipcode:"V01",entity_id:256,status:"Final",leadoffice:65411,fedreg:"65FR4140 4156",pubdate:"20000126",source_id:37,objectid:18,listing_st:"Endangered",ch_id:1014,ch_str_id:"a-1014"},{comname:"Woundfin",sciname:"Plagopterus argentissimus",spcode:"E00Z",vipcode:"V01",entity_id:234,status:"Final",leadoffice:65411,fedreg:"65FR4140 4156",pubdate:"20000126",source_id:40,objectid:21,listing_st:"Endangered",ch_id:1015,ch_str_id:"a-1015"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:1015,ch_str_id:"a-1015"},{comname:"Virgin River Chub",sciname:"Gila seminuda (=robusta)",spcode:"E02A",vipcode:"V01",entity_id:256,status:"Final",leadoffice:65411,fedreg:"65FR4140 4156",pubdate:"20000126",source_id:37,objectid:18,listing_st:"Endangered",ch_id:1015,ch_str_id:"a-1015"},{comname:"Marbled Murrelet",sciname:"Brachyramphus marmoratus",spcode:"B08C",vipcode:"V01",entity_id:143,status:"Final",leadoffice:13410,fedreg:"81FR51348 51370",pubdate:"20160804",source_id:810,objectid:67,listing_st:"Threatened",ch_id:1016,ch_str_id:"a-1016"},{comname:"Pacific Marten, Coastal Distinct Population Segment",sciname:"Martes caurina",spcode:"A0JI",vipcode:"V01",entity_id:10078,status:"Final",leadoffice:11331,fedreg:"89FR46576 46616",pubdate:"20240529",source_id:2014,objectid:733,listing_st:"Threatened",ch_id:1016,ch_str_id:"a-1016"},{comname:"Western Snowy Plover",sciname:"Charadrius nivosus nivosus",spcode:"B07C",vipcode:"V01",entity_id:132,status:"Final",leadoffice:11331,fedreg:"77FR36727 36869",pubdate:"20120619",source_id:890,objectid:73,listing_st:"Threatened",ch_id:1016,ch_str_id:"a-1016"},{comname:"Marbled Murrelet",sciname:"Brachyramphus marmoratus",spcode:"B08C",vipcode:"V01",entity_id:143,status:"Final",leadoffice:13410,fedreg:"81FR51348 51370",pubdate:"20160804",source_id:810,objectid:67,listing_st:"Threatened",ch_id:1017,ch_str_id:"a-1017"},{comname:"Tidewater goby",sciname:"Eucyclogobius newberryi",spcode:"E071",vipcode:"V01",entity_id:306,status:"Final",leadoffice:11440,fedreg:"78FR8745 8819",pubdate:"20130206",source_id:679,objectid:62,listing_st:"Endangered",ch_id:1017,ch_str_id:"a-1017"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:1017,ch_str_id:"a-1017"},{comname:"Marbled Murrelet",sciname:"Brachyramphus marmoratus",spcode:"B08C",vipcode:"V01",entity_id:143,status:"Final",leadoffice:13410,fedreg:"81FR51348 51370",pubdate:"20160804",source_id:810,objectid:67,listing_st:"Threatened",ch_id:1018,ch_str_id:"a-1018"},{comname:"Tidewater goby",sciname:"Eucyclogobius newberryi",spcode:"E071",vipcode:"V01",entity_id:306,status:"Final",leadoffice:11440,fedreg:"78FR8745 8819",pubdate:"20130206",source_id:679,objectid:62,listing_st:"Endangered",ch_id:1018,ch_str_id:"a-1018"},{comname:"Western Snowy Plover",sciname:"Charadrius nivosus nivosus",spcode:"B07C",vipcode:"V01",entity_id:132,status:"Final",leadoffice:11331,fedreg:"77FR36727 36869",pubdate:"20120619",source_id:890,objectid:73,listing_st:"Threatened",ch_id:1018,ch_str_id:"a-1018"},{comname:"Marbled Murrelet",sciname:"Brachyramphus marmoratus",spcode:"B08C",vipcode:"V01",entity_id:143,status:"Final",leadoffice:13410,fedreg:"81FR51348 51370",pubdate:"20160804",source_id:810,objectid:67,listing_st:"Threatened",ch_id:1019,ch_str_id:"a-1019"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:1019,ch_str_id:"a-1019"},{comname:"Western Snowy Plover",sciname:"Charadrius nivosus nivosus",spcode:"B07C",vipcode:"V01",entity_id:132,status:"Final",leadoffice:11331,fedreg:"77FR36727 36869",pubdate:"20120619",source_id:890,objectid:73,listing_st:"Threatened",ch_id:1019,ch_str_id:"a-1019"},{comname:"Green sea turtle",sciname:"Chelonia mydas",spcode:"C00S",vipcode:"V12",entity_id:11192,status:"Proposed",leadoffice:41411,fedreg:"88FR46376 46570",pubdate:"20230719",source_id:2063,objectid:809,listing_st:"Threatened",ch_id:102,ch_str_id:"a-102"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:102,ch_str_id:"a-102"},{comname:"Gulf sturgeon",sciname:"Acipenser oxyrinchus (=oxyrhynchus) desotoi",spcode:"E04W",vipcode:"V01",entity_id:286,status:"Final",leadoffice:41411,fedreg:"68FR13370 13495",pubdate:"20030319",source_id:1096,objectid:141,listing_st:"Threatened",ch_id:102,ch_str_id:"a-102"},{comname:"Rio Grande Silvery Minnow",sciname:"Hybognathus amarus",spcode:"E07I",vipcode:"V01",entity_id:309,status:"Final",leadoffice:22420,fedreg:"68FR8088 8135",pubdate:"20030219",source_id:28,objectid:13,listing_st:"Endangered",ch_id:1020,ch_str_id:"a-1020"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:1020,ch_str_id:"a-1020"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:1020,ch_str_id:"a-1020"},{comname:"Topeka shiner",sciname:"Notropis topeka (=tristis)",spcode:"E07R",vipcode:"V01",entity_id:311,status:"Final",leadoffice:64411,fedreg:"69FR44736 44770",pubdate:"20040727",source_id:1180,objectid:188,listing_st:"Endangered",ch_id:1021,ch_str_id:"a-1021"},{comname:"Dakota Skipper",sciname:"Hesperia dacotae",spcode:"I011",vipcode:"I01",entity_id:3412,status:"Final",leadoffice:32410,fedreg:"80FR59247 59384",pubdate:"20151001",source_id:1479,objectid:272,listing_st:"Threatened",ch_id:1021,ch_str_id:"a-1021"},{comname:"Poweshiek skipperling",sciname:"Oarisma poweshiek",spcode:"I0W1",vipcode:"I01",entity_id:10147,status:"Final",leadoffice:32410,fedreg:"80FR59247 59384",pubdate:"20151001",source_id:1480,objectid:273,listing_st:"Endangered",ch_id:1021,ch_str_id:"a-1021"},{comname:"Razorback sucker",sciname:"Xyrauchen texanus",spcode:"E054",vipcode:"V01",entity_id:290,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:715,objectid:63,listing_st:"Endangered",ch_id:1022,ch_str_id:"a-1022"},{comname:"Humpback chub",sciname:"Gila cypha",spcode:"E000",vipcode:"V01",entity_id:209,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:15,objectid:6,listing_st:"Threatened",ch_id:1022,ch_str_id:"a-1022"},{comname:"Mexican spotted owl",sciname:"Strix occidentalis lucida",spcode:"B074",vipcode:"V01",entity_id:129,status:"Final",leadoffice:22410,fedreg:"69FR53182 53298",pubdate:"20040831",source_id:20,objectid:9,listing_st:"Threatened",ch_id:1022,ch_str_id:"a-1022"},{comname:"Razorback sucker",sciname:"Xyrauchen texanus",spcode:"E054",vipcode:"V01",entity_id:290,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:715,objectid:63,listing_st:"Endangered",ch_id:1023,ch_str_id:"a-1023"},{comname:"Desert tortoise",sciname:"Gopherus agassizii",spcode:"C04L",vipcode:"V05",entity_id:185,status:"Final",leadoffice:84321,fedreg:"59FR5820 5866",pubdate:"19940208",source_id:664,objectid:50,listing_st:"Threatened",ch_id:1023,ch_str_id:"a-1023"},{comname:"Bonytail",sciname:"Gila elegans",spcode:"E020",vipcode:"V01",entity_id:249,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:716,objectid:64,listing_st:"Endangered",ch_id:1023,ch_str_id:"a-1023"},{comname:"Santa Ana sucker",sciname:"Catostomus santaanae",spcode:"E07W",vipcode:"V01",entity_id:312,status:"Final",leadoffice:11430,fedreg:"75FR77962 78027",pubdate:"20101214",source_id:676,objectid:60,listing_st:"Threatened",ch_id:1027,ch_str_id:"a-1027"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:1027,ch_str_id:"a-1027"},{comname:"Least Bell's vireo",sciname:"Vireo bellii pusillus",spcode:"B067",vipcode:"V01",entity_id:123,status:"Final",leadoffice:11430,fedreg:"59FR4845 4867",pubdate:"19940202",source_id:665,objectid:51,listing_st:"Endangered",ch_id:1027,ch_str_id:"a-1027"},{comname:"Santa Ana sucker",sciname:"Catostomus santaanae",spcode:"E07W",vipcode:"V01",entity_id:312,status:"Final",leadoffice:11430,fedreg:"75FR77962 78027",pubdate:"20101214",source_id:676,objectid:60,listing_st:"Threatened",ch_id:1028,ch_str_id:"a-1028"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:1028,ch_str_id:"a-1028"},{comname:"San Bernardino Merriam's kangaroo rat",sciname:"Dipodomys merriami parvus",spcode:"A0G8",vipcode:"V01",entity_id:63,status:"Final",leadoffice:11430,fedreg:"67FR19812 19845",pubdate:"20020423",source_id:674,objectid:58,listing_st:"Endangered",ch_id:1028,ch_str_id:"a-1028"},{comname:"Gierisch mallow",sciname:"Sphaeralcea gierischii",spcode:"Q3LJ",vipcode:"P01",entity_id:9929,status:"Final",leadoffice:22410,fedreg:"78FR49165 49183",pubdate:"20130813",source_id:1523,objectid:299,listing_st:"Endangered",ch_id:1029,ch_str_id:"a-1029"},{comname:"Holmgren milk-vetch",sciname:"Astragalus holmgreniorum",spcode:"Q2NC",vipcode:"P01",entity_id:1020,status:"Final",leadoffice:65411,fedreg:"71FR77972 78012",pubdate:"20061227",source_id:1358,objectid:234,listing_st:"Endangered",ch_id:1029,ch_str_id:"a-1029"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:1029,ch_str_id:"a-1029"},{comname:"Choctawhatchee beach mouse",sciname:"Peromyscus polionotus allophrys",spcode:"A08B",vipcode:"V01",entity_id:34,status:"Final",leadoffice:41411,fedreg:"71FR60238 60370",pubdate:"20061012",source_id:43,objectid:23,listing_st:"Endangered",ch_id:103,ch_str_id:"a-103"},{comname:"San Bernardino bluegrass",sciname:"Poa atropurpurea",spcode:"Q1I9",vipcode:"P01",entity_id:594,status:"Final",leadoffice:11430,fedreg:"73FR47706 47767",pubdate:"20080814",source_id:1333,objectid:218,listing_st:"Endangered",ch_id:1030,ch_str_id:"a-1030"},{comname:"California taraxacum",sciname:"Taraxacum californicum",spcode:"Q1SB",vipcode:"P01",entity_id:614,status:"Final",leadoffice:11430,fedreg:"73FR47706 47767",pubdate:"20080814",source_id:1334,objectid:219,listing_st:"Endangered",ch_id:1030,ch_str_id:"a-1030"},{comname:"Ash-grey paintbrush",sciname:"Castilleja cinerea",spcode:"Q0CL",vipcode:"P01",entity_id:523,status:"Final",leadoffice:11430,fedreg:"72FR73092 73178",pubdate:"20071226",source_id:1330,objectid:216,listing_st:"Threatened",ch_id:1030,ch_str_id:"a-1030"},{comname:"San Diego ambrosia",sciname:"Ambrosia pumila",spcode:"Q01H",vipcode:"P01",entity_id:500,status:"Final",leadoffice:11430,fedreg:"75FR74546 74604",pubdate:"20101130",source_id:1364,objectid:239,listing_st:"Endangered",ch_id:1031,ch_str_id:"a-1031"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:1031,ch_str_id:"a-1031"},{comname:"Quino checkerspot butterfly",sciname:"Euphydryas editha quino (=E. e. wrighti)",spcode:"I00P",vipcode:"I01",entity_id:426,status:"Final",leadoffice:11430,fedreg:"74FR28776 28862",pubdate:"20090617",source_id:1078,objectid:123,listing_st:"Endangered",ch_id:1031,ch_str_id:"a-1031"},{comname:"Nevin's barberry",sciname:"Berberis nevinii",spcode:"Q08G",vipcode:"P01",entity_id:514,status:"Final",leadoffice:11430,fedreg:"73FR8412 8440",pubdate:"20080213",source_id:1336,objectid:221,listing_st:"Endangered",ch_id:1032,ch_str_id:"a-1032"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:1032,ch_str_id:"a-1032"},{comname:"Quino checkerspot butterfly",sciname:"Euphydryas editha quino (=E. e. wrighti)",spcode:"I00P",vipcode:"I01",entity_id:426,status:"Final",leadoffice:11430,fedreg:"74FR28776 28862",pubdate:"20090617",source_id:1078,objectid:123,listing_st:"Endangered",ch_id:1032,ch_str_id:"a-1032"},{comname:"La Graciosa thistle",sciname:"Cirsium loncholepis",spcode:"Q0FE",vipcode:"P01",entity_id:531,status:"Final",leadoffice:11440,fedreg:"74FR56978 57046",pubdate:"20091103",source_id:956,objectid:83,listing_st:"Endangered",ch_id:1033,ch_str_id:"a-1033"},{comname:"Tidewater goby",sciname:"Eucyclogobius newberryi",spcode:"E071",vipcode:"V01",entity_id:306,status:"Final",leadoffice:11440,fedreg:"78FR8745 8819",pubdate:"20130206",source_id:679,objectid:62,listing_st:"Endangered",ch_id:1033,ch_str_id:"a-1033"},{comname:"Western Snowy Plover",sciname:"Charadrius nivosus nivosus",spcode:"B07C",vipcode:"V01",entity_id:132,status:"Final",leadoffice:11331,fedreg:"77FR36727 36869",pubdate:"20120619",source_id:890,objectid:73,listing_st:"Threatened",ch_id:1033,ch_str_id:"a-1033"},{comname:"Yellow larkspur",sciname:"Delphinium luteum",spcode:"Q0M2",vipcode:"P01",entity_id:540,status:"Final",leadoffice:11420,fedreg:"68FR12834 12863",pubdate:"20030318",source_id:1064,objectid:113,listing_st:"Endangered",ch_id:1034,ch_str_id:"a-1034"},{comname:"Tidewater goby",sciname:"Eucyclogobius newberryi",spcode:"E071",vipcode:"V01",entity_id:306,status:"Final",leadoffice:11440,fedreg:"78FR8745 8819",pubdate:"20130206",source_id:679,objectid:62,listing_st:"Endangered",ch_id:1034,ch_str_id:"a-1034"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:1034,ch_str_id:"a-1034"},{comname:"Lyon's pentachaeta",sciname:"Pentachaeta lyonii",spcode:"Q1EA",vipcode:"P01",entity_id:586,status:"Final",leadoffice:11440,fedreg:"71FR66374 66423",pubdate:"20061114",source_id:1320,objectid:207,listing_st:"Endangered",ch_id:1035,ch_str_id:"a-1035"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:1035,ch_str_id:"a-1035"},{comname:"Riverside fairy shrimp",sciname:"Streptocephalus woottoni",spcode:"K03F",vipcode:"I01",entity_id:492,status:"Final",leadoffice:11430,fedreg:"77FR72069 72140",pubdate:"20121204",source_id:673,objectid:57,listing_st:"Endangered",ch_id:1035,ch_str_id:"a-1035"},{comname:"Monterey spineflower",sciname:"Chorizanthe pungens var. pungens",spcode:"Q271",vipcode:"P01",entity_id:903,status:"Final",leadoffice:11440,fedreg:"73FR1525",pubdate:"20080109",source_id:964,objectid:90,listing_st:"Threatened",ch_id:1036,ch_str_id:"a-1036"},{comname:"Robust spineflower",sciname:"Chorizanthe robusta var. robusta",spcode:"Q3O7",vipcode:"P01",entity_id:10290,status:"Final",leadoffice:11440,fedreg:"67FR36822 36845",pubdate:"20020528",source_id:1529,objectid:304,listing_st:"Endangered",ch_id:1036,ch_str_id:"a-1036"},{comname:"Western Snowy Plover",sciname:"Charadrius nivosus nivosus",spcode:"B07C",vipcode:"V01",entity_id:132,status:"Final",leadoffice:11331,fedreg:"77FR36727 36869",pubdate:"20120619",source_id:890,objectid:73,listing_st:"Threatened",ch_id:1036,ch_str_id:"a-1036"},{comname:"Morro shoulderband (=Banded dune) snail",sciname:"Helminthoglypta walkeriana",spcode:"G00D",vipcode:"I01",entity_id:387,status:"Final",leadoffice:11440,fedreg:"66FR9233 9246",pubdate:"20010207",source_id:965,objectid:91,listing_st:"Threatened",ch_id:1037,ch_str_id:"a-1037"},{comname:"Morro Bay kangaroo rat",sciname:"Dipodomys heermanni morroensis",spcode:"A03X",vipcode:"V01",entity_id:16,status:"Final",leadoffice:11440,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:963,objectid:89,listing_st:"Endangered",ch_id:1037,ch_str_id:"a-1037"},{comname:"Western Snowy Plover",sciname:"Charadrius nivosus nivosus",spcode:"B07C",vipcode:"V01",entity_id:132,status:"Final",leadoffice:11331,fedreg:"77FR36727 36869",pubdate:"20120619",source_id:890,objectid:73,listing_st:"Threatened",ch_id:1037,ch_str_id:"a-1037"},{comname:"Tidewater goby",sciname:"Eucyclogobius newberryi",spcode:"E071",vipcode:"V01",entity_id:306,status:"Final",leadoffice:11440,fedreg:"78FR8745 8819",pubdate:"20130206",source_id:679,objectid:62,listing_st:"Endangered",ch_id:1038,ch_str_id:"a-1038"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:1038,ch_str_id:"a-1038"},{comname:"Western Snowy Plover",sciname:"Charadrius nivosus nivosus",spcode:"B07C",vipcode:"V01",entity_id:132,status:"Final",leadoffice:11331,fedreg:"77FR36727 36869",pubdate:"20120619",source_id:890,objectid:73,listing_st:"Threatened",ch_id:1038,ch_str_id:"a-1038"},{comname:"Tidewater goby",sciname:"Eucyclogobius newberryi",spcode:"E071",vipcode:"V01",entity_id:306,status:"Final",leadoffice:11440,fedreg:"78FR8745 8819",pubdate:"20130206",source_id:679,objectid:62,listing_st:"Endangered",ch_id:1039,ch_str_id:"a-1039"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:1039,ch_str_id:"a-1039"},{comname:"Western Snowy Plover",sciname:"Charadrius nivosus nivosus",spcode:"B07C",vipcode:"V01",entity_id:132,status:"Final",leadoffice:11331,fedreg:"77FR36727 36869",pubdate:"20120619",source_id:890,objectid:73,listing_st:"Threatened",ch_id:1039,ch_str_id:"a-1039"},{comname:"St. Andrew beach mouse",sciname:"Peromyscus polionotus peninsularis",spcode:"A0CB",vipcode:"V01",entity_id:54,status:"Final",leadoffice:41411,fedreg:"71FR60238 60370",pubdate:"20061012",source_id:1240,objectid:199,listing_st:"Endangered",ch_id:104,ch_str_id:"a-104"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:104,ch_str_id:"a-104"},{comname:"Three Forks Springsnail",sciname:"Pyrgulopsis trivialis",spcode:"G051",vipcode:"I01",entity_id:4766,status:"Final",leadoffice:22410,fedreg:"77FR23060 23092",pubdate:"20120417",source_id:1458,objectid:263,listing_st:"Endangered",ch_id:1040,ch_str_id:"a-1040"},{comname:"Mexican spotted owl",sciname:"Strix occidentalis lucida",spcode:"B074",vipcode:"V01",entity_id:129,status:"Final",leadoffice:22410,fedreg:"69FR53182 53298",pubdate:"20040831",source_id:20,objectid:9,listing_st:"Threatened",ch_id:1040,ch_str_id:"a-1040"},{comname:"New Mexico meadow jumping mouse",sciname:"Zapus hudsonius luteus",spcode:"A0BX",vipcode:"V01",entity_id:5210,status:"Final",leadoffice:22420,fedreg:"81FR14263 14325",pubdate:"20160316",source_id:1510,objectid:294,listing_st:"Endangered",ch_id:1040,ch_str_id:"a-1040"},{comname:"California condor",sciname:"Gymnogyps californianus",spcode:"B002",vipcode:"V01",entity_id:66,status:"Final",leadoffice:11670,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:953,objectid:81,listing_st:"Endangered",ch_id:1041,ch_str_id:"a-1041"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:1041,ch_str_id:"a-1041"},{comname:"Arroyo (=arroyo southwestern) toad",sciname:"Anaxyrus californicus",spcode:"D020",vipcode:"V01",entity_id:204,status:"Final",leadoffice:11440,fedreg:"76FR7245 7467",pubdate:"20110209",source_id:656,objectid:44,listing_st:"Endangered",ch_id:1041,ch_str_id:"a-1041"},{comname:"California condor",sciname:"Gymnogyps californianus",spcode:"B002",vipcode:"V01",entity_id:66,status:"Final",leadoffice:11670,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:953,objectid:81,listing_st:"Endangered",ch_id:1042,ch_str_id:"a-1042"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:1042,ch_str_id:"a-1042"},{comname:"Arroyo (=arroyo southwestern) toad",sciname:"Anaxyrus californicus",spcode:"D020",vipcode:"V01",entity_id:204,status:"Final",leadoffice:11440,fedreg:"76FR7245 7467",pubdate:"20110209",source_id:656,objectid:44,listing_st:"Endangered",ch_id:1042,ch_str_id:"a-1042"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:1043,ch_str_id:"a-1043"},{comname:"Mexican spotted owl",sciname:"Strix occidentalis lucida",spcode:"B074",vipcode:"V01",entity_id:129,status:"Final",leadoffice:22410,fedreg:"69FR53182 53298",pubdate:"20040831",source_id:20,objectid:9,listing_st:"Threatened",ch_id:1043,ch_str_id:"a-1043"},{comname:"New Mexico meadow jumping mouse",sciname:"Zapus hudsonius luteus",spcode:"A0BX",vipcode:"V01",entity_id:5210,status:"Final",leadoffice:22420,fedreg:"81FR14263 14325",pubdate:"20160316",source_id:1510,objectid:294,listing_st:"Endangered",ch_id:1043,ch_str_id:"a-1043"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:1044,ch_str_id:"a-1044"},{comname:"Mexican spotted owl",sciname:"Strix occidentalis lucida",spcode:"B074",vipcode:"V01",entity_id:129,status:"Final",leadoffice:22410,fedreg:"69FR53182 53298",pubdate:"20040831",source_id:20,objectid:9,listing_st:"Threatened",ch_id:1044,ch_str_id:"a-1044"},{comname:"Narrow-headed gartersnake",sciname:"Thamnophis rufipunctatus",spcode:"C051",vipcode:"V01",entity_id:3271,status:"Final",leadoffice:22410,fedreg:"86FR58474 58523",pubdate:"20211021",source_id:1527,objectid:303,listing_st:"Threatened",ch_id:1044,ch_str_id:"a-1044"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:1045,ch_str_id:"a-1045"},{comname:"Quino checkerspot butterfly",sciname:"Euphydryas editha quino (=E. e. wrighti)",spcode:"I00P",vipcode:"I01",entity_id:426,status:"Final",leadoffice:11430,fedreg:"74FR28776 28862",pubdate:"20090617",source_id:1078,objectid:123,listing_st:"Endangered",ch_id:1045,ch_str_id:"a-1045"},{comname:"Arroyo (=arroyo southwestern) toad",sciname:"Anaxyrus californicus",spcode:"D020",vipcode:"V01",entity_id:204,status:"Final",leadoffice:11440,fedreg:"76FR7245 7467",pubdate:"20110209",source_id:656,objectid:44,listing_st:"Endangered",ch_id:1045,ch_str_id:"a-1045"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:1046,ch_str_id:"a-1046"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:1046,ch_str_id:"a-1046"},{comname:"Least Bell's vireo",sciname:"Vireo bellii pusillus",spcode:"B067",vipcode:"V01",entity_id:123,status:"Final",leadoffice:11430,fedreg:"59FR4845 4867",pubdate:"19940202",source_id:665,objectid:51,listing_st:"Endangered",ch_id:1046,ch_str_id:"a-1046"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:1047,ch_str_id:"a-1047"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:1047,ch_str_id:"a-1047"},{comname:"Arroyo (=arroyo southwestern) toad",sciname:"Anaxyrus californicus",spcode:"D020",vipcode:"V01",entity_id:204,status:"Final",leadoffice:11440,fedreg:"76FR7245 7467",pubdate:"20110209",source_id:656,objectid:44,listing_st:"Endangered",ch_id:1047,ch_str_id:"a-1047"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:1048,ch_str_id:"a-1048"},{comname:"San Bernardino Merriam's kangaroo rat",sciname:"Dipodomys merriami parvus",spcode:"A0G8",vipcode:"V01",entity_id:63,status:"Final",leadoffice:11430,fedreg:"67FR19812 19845",pubdate:"20020423",source_id:674,objectid:58,listing_st:"Endangered",ch_id:1048,ch_str_id:"a-1048"},{comname:"Arroyo (=arroyo southwestern) toad",sciname:"Anaxyrus californicus",spcode:"D020",vipcode:"V01",entity_id:204,status:"Final",leadoffice:11440,fedreg:"76FR7245 7467",pubdate:"20110209",source_id:656,objectid:44,listing_st:"Endangered",ch_id:1048,ch_str_id:"a-1048"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:1049,ch_str_id:"a-1049"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:1049,ch_str_id:"a-1049"},{comname:"New Mexico meadow jumping mouse",sciname:"Zapus hudsonius luteus",spcode:"A0BX",vipcode:"V01",entity_id:5210,status:"Final",leadoffice:22420,fedreg:"81FR14263 14325",pubdate:"20160316",source_id:1510,objectid:294,listing_st:"Endangered",ch_id:1049,ch_str_id:"a-1049"},{comname:"Perdido Key beach mouse",sciname:"Peromyscus polionotus trissyllepsis",spcode:"A08C",vipcode:"V01",entity_id:35,status:"Final",leadoffice:41411,fedreg:"71FR60238 60370",pubdate:"20061012",source_id:44,objectid:24,listing_st:"Endangered",ch_id:105,ch_str_id:"a-105"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:1050,ch_str_id:"a-1050"},{comname:"Ash Meadows gumplant",sciname:"Grindelia fraxinipratensis",spcode:"Q2AM",vipcode:"P01",entity_id:941,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1128,objectid:155,listing_st:"Threatened",ch_id:1050,ch_str_id:"a-1050"},{comname:"Ash Meadows ivesia",sciname:"Ivesia kingii var. eremica",spcode:"Q1XM",vipcode:"P01",entity_id:743,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1129,objectid:156,listing_st:"Threatened",ch_id:1050,ch_str_id:"a-1050"},{comname:"Mexican spotted owl",sciname:"Strix occidentalis lucida",spcode:"B074",vipcode:"V01",entity_id:129,status:"Final",leadoffice:22410,fedreg:"69FR53182 53298",pubdate:"20040831",source_id:20,objectid:9,listing_st:"Threatened",ch_id:1051,ch_str_id:"a-1051"},{comname:"New Mexico meadow jumping mouse",sciname:"Zapus hudsonius luteus",spcode:"A0BX",vipcode:"V01",entity_id:5210,status:"Final",leadoffice:22420,fedreg:"81FR14263 14325",pubdate:"20160316",source_id:1510,objectid:294,listing_st:"Endangered",ch_id:1051,ch_str_id:"a-1051"},{comname:"Narrow-headed gartersnake",sciname:"Thamnophis rufipunctatus",spcode:"C051",vipcode:"V01",entity_id:3271,status:"Final",leadoffice:22410,fedreg:"86FR58474 58523",pubdate:"20211021",source_id:1527,objectid:303,listing_st:"Threatened",ch_id:1051,ch_str_id:"a-1051"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:1052,ch_str_id:"a-1052"},{comname:"Least Bell's vireo",sciname:"Vireo bellii pusillus",spcode:"B067",vipcode:"V01",entity_id:123,status:"Final",leadoffice:11430,fedreg:"59FR4845 4867",pubdate:"19940202",source_id:665,objectid:51,listing_st:"Endangered",ch_id:1052,ch_str_id:"a-1052"},{comname:"Arroyo (=arroyo southwestern) toad",sciname:"Anaxyrus californicus",spcode:"D020",vipcode:"V01",entity_id:204,status:"Final",leadoffice:11440,fedreg:"76FR7245 7467",pubdate:"20110209",source_id:656,objectid:44,listing_st:"Endangered",ch_id:1052,ch_str_id:"a-1052"},{comname:"Humpback chub",sciname:"Gila cypha",spcode:"E000",vipcode:"V01",entity_id:209,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:15,objectid:6,listing_st:"Threatened",ch_id:1053,ch_str_id:"a-1053"},{comname:"Bonytail",sciname:"Gila elegans",spcode:"E020",vipcode:"V01",entity_id:249,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:716,objectid:64,listing_st:"Endangered",ch_id:1053,ch_str_id:"a-1053"},{comname:"Razorback sucker",sciname:"Xyrauchen texanus",spcode:"E054",vipcode:"V01",entity_id:290,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:715,objectid:63,listing_st:"Endangered",ch_id:1053,ch_str_id:"a-1053"},{comname:"Colorado pikeminnow",sciname:"Ptychocheilus lucius",spcode:"E006",vipcode:"V01",entity_id:215,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:6,objectid:1,listing_st:"Endangered",ch_id:1053,ch_str_id:"a-1053"},{comname:"Woundfin",sciname:"Plagopterus argentissimus",spcode:"E00Z",vipcode:"V01",entity_id:234,status:"Final",leadoffice:65411,fedreg:"65FR4140 4156",pubdate:"20000126",source_id:40,objectid:21,listing_st:"Endangered",ch_id:1055,ch_str_id:"a-1055"},{comname:"Gierisch mallow",sciname:"Sphaeralcea gierischii",spcode:"Q3LJ",vipcode:"P01",entity_id:9929,status:"Final",leadoffice:22410,fedreg:"78FR49165 49183",pubdate:"20130813",source_id:1523,objectid:299,listing_st:"Endangered",ch_id:1055,ch_str_id:"a-1055"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:1055,ch_str_id:"a-1055"},{comname:"Virgin River Chub",sciname:"Gila seminuda (=robusta)",spcode:"E02A",vipcode:"V01",entity_id:256,status:"Final",leadoffice:65411,fedreg:"65FR4140 4156",pubdate:"20000126",source_id:37,objectid:18,listing_st:"Endangered",ch_id:1055,ch_str_id:"a-1055"},{comname:"Woundfin",sciname:"Plagopterus argentissimus",spcode:"E00Z",vipcode:"V01",entity_id:234,status:"Final",leadoffice:65411,fedreg:"65FR4140 4156",pubdate:"20000126",source_id:40,objectid:21,listing_st:"Endangered",ch_id:1056,ch_str_id:"a-1056"},{comname:"Holmgren milk-vetch",sciname:"Astragalus holmgreniorum",spcode:"Q2NC",vipcode:"P01",entity_id:1020,status:"Final",leadoffice:65411,fedreg:"71FR77972 78012",pubdate:"20061227",source_id:1358,objectid:234,listing_st:"Endangered",ch_id:1056,ch_str_id:"a-1056"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:1056,ch_str_id:"a-1056"},{comname:"Virgin River Chub",sciname:"Gila seminuda (=robusta)",spcode:"E02A",vipcode:"V01",entity_id:256,status:"Final",leadoffice:65411,fedreg:"65FR4140 4156",pubdate:"20000126",source_id:37,objectid:18,listing_st:"Endangered",ch_id:1056,ch_str_id:"a-1056"},{comname:"Woundfin",sciname:"Plagopterus argentissimus",spcode:"E00Z",vipcode:"V01",entity_id:234,status:"Final",leadoffice:65411,fedreg:"65FR4140 4156",pubdate:"20000126",source_id:40,objectid:21,listing_st:"Endangered",ch_id:1057,ch_str_id:"a-1057"},{comname:"Desert tortoise",sciname:"Gopherus agassizii",spcode:"C04L",vipcode:"V05",entity_id:185,status:"Final",leadoffice:84321,fedreg:"59FR5820 5866",pubdate:"19940208",source_id:664,objectid:50,listing_st:"Threatened",ch_id:1057,ch_str_id:"a-1057"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:1057,ch_str_id:"a-1057"},{comname:"Virgin River Chub",sciname:"Gila seminuda (=robusta)",spcode:"E02A",vipcode:"V01",entity_id:256,status:"Final",leadoffice:65411,fedreg:"65FR4140 4156",pubdate:"20000126",source_id:37,objectid:18,listing_st:"Endangered",ch_id:1057,ch_str_id:"a-1057"},{comname:"Marbled Murrelet",sciname:"Brachyramphus marmoratus",spcode:"B08C",vipcode:"V01",entity_id:143,status:"Final",leadoffice:13410,fedreg:"81FR51348 51370",pubdate:"20160804",source_id:810,objectid:67,listing_st:"Threatened",ch_id:1058,ch_str_id:"a-1058"},{comname:"Tidewater goby",sciname:"Eucyclogobius newberryi",spcode:"E071",vipcode:"V01",entity_id:306,status:"Final",leadoffice:11440,fedreg:"78FR8745 8819",pubdate:"20130206",source_id:679,objectid:62,listing_st:"Endangered",ch_id:1058,ch_str_id:"a-1058"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:1058,ch_str_id:"a-1058"},{comname:"Western Snowy Plover",sciname:"Charadrius nivosus nivosus",spcode:"B07C",vipcode:"V01",entity_id:132,status:"Final",leadoffice:11331,fedreg:"77FR36727 36869",pubdate:"20120619",source_id:890,objectid:73,listing_st:"Threatened",ch_id:1058,ch_str_id:"a-1058"},{comname:"Reticulated flatwoods salamander",sciname:"Ambystoma bishopi",spcode:"D042",vipcode:"V01",entity_id:9943,status:"Final",leadoffice:41411,fedreg:"74FR6700 6774",pubdate:"20090210",source_id:1478,objectid:271,listing_st:"Endangered",ch_id:106,ch_str_id:"a-106"},{comname:"California condor",sciname:"Gymnogyps californianus",spcode:"B002",vipcode:"V01",entity_id:66,status:"Final",leadoffice:11670,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:953,objectid:81,listing_st:"Endangered",ch_id:1060,ch_str_id:"a-1060"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:1060,ch_str_id:"a-1060"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:1060,ch_str_id:"a-1060"},{comname:"Arroyo (=arroyo southwestern) toad",sciname:"Anaxyrus californicus",spcode:"D020",vipcode:"V01",entity_id:204,status:"Final",leadoffice:11440,fedreg:"76FR7245 7467",pubdate:"20110209",source_id:656,objectid:44,listing_st:"Endangered",ch_id:1060,ch_str_id:"a-1060"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:1061,ch_str_id:"a-1061"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:1061,ch_str_id:"a-1061"},{comname:"Least Bell's vireo",sciname:"Vireo bellii pusillus",spcode:"B067",vipcode:"V01",entity_id:123,status:"Final",leadoffice:11430,fedreg:"59FR4845 4867",pubdate:"19940202",source_id:665,objectid:51,listing_st:"Endangered",ch_id:1061,ch_str_id:"a-1061"},{comname:"Arroyo (=arroyo southwestern) toad",sciname:"Anaxyrus californicus",spcode:"D020",vipcode:"V01",entity_id:204,status:"Final",leadoffice:11440,fedreg:"76FR7245 7467",pubdate:"20110209",source_id:656,objectid:44,listing_st:"Endangered",ch_id:1061,ch_str_id:"a-1061"},{comname:"Colorado pikeminnow",sciname:"Ptychocheilus lucius",spcode:"E006",vipcode:"V01",entity_id:215,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:6,objectid:1,listing_st:"Endangered",ch_id:1062,ch_str_id:"a-1062"},{comname:"Razorback sucker",sciname:"Xyrauchen texanus",spcode:"E054",vipcode:"V01",entity_id:290,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:715,objectid:63,listing_st:"Endangered",ch_id:1062,ch_str_id:"a-1062"},{comname:"Humpback chub",sciname:"Gila cypha",spcode:"E000",vipcode:"V01",entity_id:209,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:15,objectid:6,listing_st:"Threatened",ch_id:1062,ch_str_id:"a-1062"},{comname:"Mexican spotted owl",sciname:"Strix occidentalis lucida",spcode:"B074",vipcode:"V01",entity_id:129,status:"Final",leadoffice:22410,fedreg:"69FR53182 53298",pubdate:"20040831",source_id:20,objectid:9,listing_st:"Threatened",ch_id:1062,ch_str_id:"a-1062"},{comname:"Bonytail",sciname:"Gila elegans",spcode:"E020",vipcode:"V01",entity_id:249,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:716,objectid:64,listing_st:"Endangered",ch_id:1062,ch_str_id:"a-1062"},{comname:"Woundfin",sciname:"Plagopterus argentissimus",spcode:"E00Z",vipcode:"V01",entity_id:234,status:"Final",leadoffice:65411,fedreg:"65FR4140 4156",pubdate:"20000126",source_id:40,objectid:21,listing_st:"Endangered",ch_id:1063,ch_str_id:"a-1063"},{comname:"Gierisch mallow",sciname:"Sphaeralcea gierischii",spcode:"Q3LJ",vipcode:"P01",entity_id:9929,status:"Final",leadoffice:22410,fedreg:"78FR49165 49183",pubdate:"20130813",source_id:1523,objectid:299,listing_st:"Endangered",ch_id:1063,ch_str_id:"a-1063"},{comname:"Holmgren milk-vetch",sciname:"Astragalus holmgreniorum",spcode:"Q2NC",vipcode:"P01",entity_id:1020,status:"Final",leadoffice:65411,fedreg:"71FR77972 78012",pubdate:"20061227",source_id:1358,objectid:234,listing_st:"Endangered",ch_id:1063,ch_str_id:"a-1063"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:1063,ch_str_id:"a-1063"},{comname:"Virgin River Chub",sciname:"Gila seminuda (=robusta)",spcode:"E02A",vipcode:"V01",entity_id:256,status:"Final",leadoffice:65411,fedreg:"65FR4140 4156",pubdate:"20000126",source_id:37,objectid:18,listing_st:"Endangered",ch_id:1063,ch_str_id:"a-1063"},{comname:"Bear Valley sandwort",sciname:"Arenaria ursina",spcode:"Q03Z",vipcode:"P01",entity_id:506,status:"Final",leadoffice:11430,fedreg:"72FR73092 73178",pubdate:"20071226",source_id:1329,objectid:215,listing_st:"Threatened",ch_id:1064,ch_str_id:"a-1064"},{comname:"Southern mountain wild-buckwheat",sciname:"Eriogonum kennedyi var. austromontanum",spcode:"Q0S7",vipcode:"P01",entity_id:548,status:"Final",leadoffice:11430,fedreg:"72FR73092 73178",pubdate:"20071226",source_id:1328,objectid:214,listing_st:"Threatened",ch_id:1064,ch_str_id:"a-1064"},{comname:"San Bernardino bluegrass",sciname:"Poa atropurpurea",spcode:"Q1I9",vipcode:"P01",entity_id:594,status:"Final",leadoffice:11430,fedreg:"73FR47706 47767",pubdate:"20080814",source_id:1333,objectid:218,listing_st:"Endangered",ch_id:1064,ch_str_id:"a-1064"},{comname:"California taraxacum",sciname:"Taraxacum californicum",spcode:"Q1SB",vipcode:"P01",entity_id:614,status:"Final",leadoffice:11430,fedreg:"73FR47706 47767",pubdate:"20080814",source_id:1334,objectid:219,listing_st:"Endangered",ch_id:1064,ch_str_id:"a-1064"},{comname:"Ash-grey paintbrush",sciname:"Castilleja cinerea",spcode:"Q0CL",vipcode:"P01",entity_id:523,status:"Final",leadoffice:11430,fedreg:"72FR73092 73178",pubdate:"20071226",source_id:1330,objectid:216,listing_st:"Threatened",ch_id:1064,ch_str_id:"a-1064"},{comname:"Rabbitsfoot",sciname:"Quadrula cylindrica cylindrica",spcode:"F03X",vipcode:"I01",entity_id:3645,status:"Final",leadoffice:43421,fedreg:"80FR24692 24774",pubdate:"20150430",source_id:1507,objectid:803,listing_st:"Threatened",ch_id:1066,ch_str_id:"a-1066"},{comname:"St. Francis River Crayfish",sciname:"Faxonius quadruncus",spcode:"K091",vipcode:"I01",entity_id:11564,status:"Final",leadoffice:33410,fedreg:"88FR25512 25542",pubdate:"20230427",source_id:1986,objectid:704,listing_st:"Threatened",ch_id:1066,ch_str_id:"a-1066"},{comname:"Rabbitsfoot",sciname:"Quadrula cylindrica cylindrica",spcode:"F03X",vipcode:"I01",entity_id:3645,status:"Final",leadoffice:43421,fedreg:"80FR24692 24774",pubdate:"20150430",source_id:1507,objectid:803,listing_st:"Threatened",ch_id:1067,ch_str_id:"a-1067"},{comname:"Round hickorynut",sciname:"Obovaria subrotunda",spcode:"F04X",vipcode:"I01",entity_id:10837,status:"Final",leadoffice:31420,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2058,objectid:776,listing_st:"Threatened",ch_id:1067,ch_str_id:"a-1067"},{comname:"Rabbitsfoot",sciname:"Quadrula cylindrica cylindrica",spcode:"F03X",vipcode:"I01",entity_id:3645,status:"Final",leadoffice:43421,fedreg:"80FR24692 24774",pubdate:"20150430",source_id:1507,objectid:803,listing_st:"Threatened",ch_id:1068,ch_str_id:"a-1068"},{comname:"Salamander mussel",sciname:"Simpsonaias ambigua",spcode:"F01U",vipcode:"I01",entity_id:8134,status:"Proposed",leadoffice:31410,fedreg:"88FR57224 57290",pubdate:"20230822",source_id:2084,objectid:797,listing_st:"Proposed Endangered",ch_id:1068,ch_str_id:"a-1068"},{comname:"Rabbitsfoot",sciname:"Quadrula cylindrica cylindrica",spcode:"F03X",vipcode:"I01",entity_id:3645,status:"Final",leadoffice:43421,fedreg:"80FR24692 24774",pubdate:"20150430",source_id:1507,objectid:803,listing_st:"Threatened",ch_id:1069,ch_str_id:"a-1069"},{comname:"diamond Darter",sciname:"Crystallaria cincotta",spcode:"E014",vipcode:"V01",entity_id:6557,status:"Final",leadoffice:51412,fedreg:"78FR52363 52387",pubdate:"20130822",source_id:2016,objectid:737,listing_st:"Endangered",ch_id:1069,ch_str_id:"a-1069"},{comname:"Frosted Flatwoods salamander",sciname:"Ambystoma cingulatum",spcode:"D013",vipcode:"V01",entity_id:199,status:"Final",leadoffice:41411,fedreg:"74FR6700 6774",pubdate:"20090210",source_id:1340,objectid:224,listing_st:"Threatened",ch_id:107,ch_str_id:"a-107"},{comname:"Rabbitsfoot",sciname:"Quadrula cylindrica cylindrica",spcode:"F03X",vipcode:"I01",entity_id:3645,status:"Final",leadoffice:43421,fedreg:"80FR24692 24774",pubdate:"20150430",source_id:1507,objectid:803,listing_st:"Threatened",ch_id:1070,ch_str_id:"a-1070"},{comname:"Indiana bat",sciname:"Myotis sodalis",spcode:"A000",vipcode:"V01",entity_id:1,status:"Final",leadoffice:31440,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1951,objectid:679,listing_st:"Endangered",ch_id:1070,ch_str_id:"a-1070"},{comname:"Big Creek Crayfish",sciname:"Faxonius peruncus",spcode:"K090",vipcode:"I01",entity_id:11563,status:"Final",leadoffice:33410,fedreg:"88FR25512 25542",pubdate:"20230427",source_id:1985,objectid:703,listing_st:"Threatened",ch_id:1070,ch_str_id:"a-1070"},{comname:"Rabbitsfoot",sciname:"Quadrula cylindrica cylindrica",spcode:"F03X",vipcode:"I01",entity_id:3645,status:"Final",leadoffice:43421,fedreg:"80FR24692 24774",pubdate:"20150430",source_id:1507,objectid:803,listing_st:"Threatened",ch_id:1071,ch_str_id:"a-1071"},{comname:"Yellowcheek Darter",sciname:"Etheostoma moorei",spcode:"E01E",vipcode:"V01",entity_id:6662,status:"Final",leadoffice:43421,fedreg:"77FR63604 63668",pubdate:"20121016",source_id:1506,objectid:783,listing_st:"Endangered",ch_id:1071,ch_str_id:"a-1071"},{comname:"Rabbitsfoot",sciname:"Quadrula cylindrica cylindrica",spcode:"F03X",vipcode:"I01",entity_id:3645,status:"Final",leadoffice:43421,fedreg:"80FR24692 24774",pubdate:"20150430",source_id:1507,objectid:803,listing_st:"Threatened",ch_id:1072,ch_str_id:"a-1072"},{comname:"Western fanshell",sciname:"Cyprogenia aberti",spcode:"F01L",vipcode:"I01",entity_id:5391,status:"Final",leadoffice:33410,fedreg:"88FR41724 41771",pubdate:"20230627",source_id:2055,objectid:773,listing_st:"Threatened",ch_id:1072,ch_str_id:"a-1072"},{comname:"Big Creek Crayfish",sciname:"Faxonius peruncus",spcode:"K090",vipcode:"I01",entity_id:11563,status:"Final",leadoffice:33410,fedreg:"88FR25512 25542",pubdate:"20230427",source_id:1985,objectid:703,listing_st:"Threatened",ch_id:1072,ch_str_id:"a-1072"},{comname:"Rabbitsfoot",sciname:"Quadrula cylindrica cylindrica",spcode:"F03X",vipcode:"I01",entity_id:3645,status:"Final",leadoffice:43421,fedreg:"80FR24692 24774",pubdate:"20150430",source_id:1507,objectid:803,listing_st:"Threatened",ch_id:1073,ch_str_id:"a-1073"},{comname:"Longsolid",sciname:"Fusconaia subrotunda",spcode:"F04V",vipcode:"I01",entity_id:10838,status:"Final",leadoffice:42431,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2059,objectid:777,listing_st:"Threatened",ch_id:1073,ch_str_id:"a-1073"},{comname:"Canada Lynx",sciname:"Lynx canadensis",spcode:"A073",vipcode:"V01",entity_id:24,status:"Final",leadoffice:61130,fedreg:"79FR54782 54846",pubdate:"20140912",source_id:1348,objectid:228,listing_st:"Threatened",ch_id:1074,ch_str_id:"a-1074"},{comname:"Atlantic salmon",sciname:"Salmo salar",spcode:"E07L",vipcode:"V03",entity_id:10077,status:"Final",leadoffice:53411,fedreg:"74FR29300 29341",pubdate:"20090619",source_id:1354,objectid:231,listing_st:"Endangered",ch_id:1074,ch_str_id:"a-1074"},{comname:"Canada Lynx",sciname:"Lynx canadensis",spcode:"A073",vipcode:"V01",entity_id:24,status:"Final",leadoffice:61130,fedreg:"79FR54782 54846",pubdate:"20140912",source_id:1348,objectid:228,listing_st:"Threatened",ch_id:1075,ch_str_id:"a-1075"},{comname:"Gray wolf",sciname:"Canis lupus",spcode:"A00D",vipcode:"V02",entity_id:12,status:"Final",leadoffice:32410,fedreg:"43FR9607 9615",pubdate:"19780309",source_id:2034,objectid:752,listing_st:"Threatened",ch_id:1075,ch_str_id:"a-1075"},{comname:"Round hickorynut",sciname:"Obovaria subrotunda",spcode:"F04X",vipcode:"I01",entity_id:10837,status:"Final",leadoffice:31420,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2058,objectid:776,listing_st:"Threatened",ch_id:1076,ch_str_id:"a-1076"},{comname:"Salamander mussel",sciname:"Simpsonaias ambigua",spcode:"F01U",vipcode:"I01",entity_id:8134,status:"Proposed",leadoffice:31410,fedreg:"88FR57224 57290",pubdate:"20230822",source_id:2084,objectid:797,listing_st:"Proposed Endangered",ch_id:1076,ch_str_id:"a-1076"},{comname:"Round hickorynut",sciname:"Obovaria subrotunda",spcode:"F04X",vipcode:"I01",entity_id:10837,status:"Final",leadoffice:31420,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2058,objectid:776,listing_st:"Threatened",ch_id:1077,ch_str_id:"a-1077"},{comname:"Longsolid",sciname:"Fusconaia subrotunda",spcode:"F04V",vipcode:"I01",entity_id:10838,status:"Final",leadoffice:42431,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2059,objectid:777,listing_st:"Threatened",ch_id:1077,ch_str_id:"a-1077"},{comname:"Frecklebelly madtom",sciname:"Noturus munitus",spcode:"E01I",vipcode:"V02",entity_id:11662,status:"Final",leadoffice:43410,fedreg:"88FR13038 13070",pubdate:"20230302",source_id:2024,objectid:744,listing_st:"Threatened",ch_id:1079,ch_str_id:"a-1079"},{comname:"Finelined pocketbook",sciname:"Hamiota altilis",spcode:"F02X",vipcode:"I01",entity_id:372,status:"Final",leadoffice:43410,fedreg:"69FR40084 40171",pubdate:"20040701",source_id:1147,objectid:168,listing_st:"Threatened",ch_id:1079,ch_str_id:"a-1079"},{comname:"Southern elktoe",sciname:"Alasmidonta triangulata",spcode:"F04N",vipcode:"I01",entity_id:10829,status:"Proposed",leadoffice:41411,fedreg:"88FR40160 40189",pubdate:"20230621",source_id:2079,objectid:799,listing_st:"Proposed Endangered",ch_id:108,ch_str_id:"a-108"},{comname:"Trispot darter",sciname:"Etheostoma trisella",spcode:"E05G",vipcode:"V01",entity_id:3069,status:"Final",leadoffice:43410,fedreg:"85FR61619 61638",pubdate:"20200930",source_id:1965,objectid:689,listing_st:"Threatened",ch_id:1080,ch_str_id:"a-1080"},{comname:"Finelined pocketbook",sciname:"Hamiota altilis",spcode:"F02X",vipcode:"I01",entity_id:372,status:"Final",leadoffice:43410,fedreg:"69FR40084 40171",pubdate:"20040701",source_id:1147,objectid:168,listing_st:"Threatened",ch_id:1080,ch_str_id:"a-1080"},{comname:"Conasauga logperch",sciname:"Percina jenkinsi",spcode:"E05H",vipcode:"V01",entity_id:294,status:"Final",leadoffice:41460,fedreg:"50FR31597 31604",pubdate:"19850805",source_id:1137,objectid:164,listing_st:"Endangered",ch_id:1081,ch_str_id:"a-1081"},{comname:"Finelined pocketbook",sciname:"Hamiota altilis",spcode:"F02X",vipcode:"I01",entity_id:372,status:"Final",leadoffice:43410,fedreg:"69FR40084 40171",pubdate:"20040701",source_id:1147,objectid:168,listing_st:"Threatened",ch_id:1081,ch_str_id:"a-1081"},{comname:"Trispot darter",sciname:"Etheostoma trisella",spcode:"E05G",vipcode:"V01",entity_id:3069,status:"Final",leadoffice:43410,fedreg:"85FR61619 61638",pubdate:"20200930",source_id:1965,objectid:689,listing_st:"Threatened",ch_id:1081,ch_str_id:"a-1081"},{comname:"Rabbitsfoot",sciname:"Quadrula cylindrica cylindrica",spcode:"F03X",vipcode:"I01",entity_id:3645,status:"Final",leadoffice:43421,fedreg:"80FR24692 24774",pubdate:"20150430",source_id:1507,objectid:803,listing_st:"Threatened",ch_id:1082,ch_str_id:"a-1082"},{comname:"Big Creek Crayfish",sciname:"Faxonius peruncus",spcode:"K090",vipcode:"I01",entity_id:11563,status:"Final",leadoffice:33410,fedreg:"88FR25512 25542",pubdate:"20230427",source_id:1985,objectid:703,listing_st:"Threatened",ch_id:1082,ch_str_id:"a-1082"},{comname:"St. Francis River Crayfish",sciname:"Faxonius quadruncus",spcode:"K091",vipcode:"I01",entity_id:11564,status:"Final",leadoffice:33410,fedreg:"88FR25512 25542",pubdate:"20230427",source_id:1986,objectid:704,listing_st:"Threatened",ch_id:1082,ch_str_id:"a-1082"},{comname:"Rabbitsfoot",sciname:"Quadrula cylindrica cylindrica",spcode:"F03X",vipcode:"I01",entity_id:3645,status:"Final",leadoffice:43421,fedreg:"80FR24692 24774",pubdate:"20150430",source_id:1507,objectid:803,listing_st:"Threatened",ch_id:1083,ch_str_id:"a-1083"},{comname:"Oyster mussel",sciname:"Epioblasma capsaeformis",spcode:"F01T",vipcode:"I01",entity_id:358,status:"Final",leadoffice:42430,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2039,objectid:757,listing_st:"Endangered",ch_id:1083,ch_str_id:"a-1083"},{comname:"Cumberlandian combshell",sciname:"Epioblasma brevidens",spcode:"F01F",vipcode:"I01",entity_id:353,status:"Final",leadoffice:42430,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2038,objectid:756,listing_st:"Endangered",ch_id:1083,ch_str_id:"a-1083"},{comname:"Rabbitsfoot",sciname:"Quadrula cylindrica cylindrica",spcode:"F03X",vipcode:"I01",entity_id:3645,status:"Final",leadoffice:43421,fedreg:"80FR24692 24774",pubdate:"20150430",source_id:1507,objectid:803,listing_st:"Threatened",ch_id:1084,ch_str_id:"a-1084"},{comname:"Round hickorynut",sciname:"Obovaria subrotunda",spcode:"F04X",vipcode:"I01",entity_id:10837,status:"Final",leadoffice:31420,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2058,objectid:776,listing_st:"Threatened",ch_id:1084,ch_str_id:"a-1084"},{comname:"Salamander mussel",sciname:"Simpsonaias ambigua",spcode:"F01U",vipcode:"I01",entity_id:8134,status:"Proposed",leadoffice:31410,fedreg:"88FR57224 57290",pubdate:"20230822",source_id:2084,objectid:797,listing_st:"Proposed Endangered",ch_id:1084,ch_str_id:"a-1084"},{comname:"Rabbitsfoot",sciname:"Quadrula cylindrica cylindrica",spcode:"F03X",vipcode:"I01",entity_id:3645,status:"Final",leadoffice:43421,fedreg:"80FR24692 24774",pubdate:"20150430",source_id:1507,objectid:803,listing_st:"Threatened",ch_id:1085,ch_str_id:"a-1085"},{comname:"Round hickorynut",sciname:"Obovaria subrotunda",spcode:"F04X",vipcode:"I01",entity_id:10837,status:"Final",leadoffice:31420,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2058,objectid:776,listing_st:"Threatened",ch_id:1085,ch_str_id:"a-1085"},{comname:"Longsolid",sciname:"Fusconaia subrotunda",spcode:"F04V",vipcode:"I01",entity_id:10838,status:"Final",leadoffice:42431,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2059,objectid:777,listing_st:"Threatened",ch_id:1085,ch_str_id:"a-1085"},{comname:"Rabbitsfoot",sciname:"Quadrula cylindrica cylindrica",spcode:"F03X",vipcode:"I01",entity_id:3645,status:"Final",leadoffice:43421,fedreg:"80FR24692 24774",pubdate:"20150430",source_id:1507,objectid:803,listing_st:"Threatened",ch_id:1086,ch_str_id:"a-1086"},{comname:"Salamander mussel",sciname:"Simpsonaias ambigua",spcode:"F01U",vipcode:"I01",entity_id:8134,status:"Proposed",leadoffice:31410,fedreg:"88FR57224 57290",pubdate:"20230822",source_id:2084,objectid:797,listing_st:"Proposed Endangered",ch_id:1086,ch_str_id:"a-1086"},{comname:"Longsolid",sciname:"Fusconaia subrotunda",spcode:"F04V",vipcode:"I01",entity_id:10838,status:"Final",leadoffice:42431,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2059,objectid:777,listing_st:"Threatened",ch_id:1086,ch_str_id:"a-1086"},{comname:"Rabbitsfoot",sciname:"Quadrula cylindrica cylindrica",spcode:"F03X",vipcode:"I01",entity_id:3645,status:"Final",leadoffice:43421,fedreg:"80FR24692 24774",pubdate:"20150430",source_id:1507,objectid:803,listing_st:"Threatened",ch_id:1088,ch_str_id:"a-1088"},{comname:"diamond Darter",sciname:"Crystallaria cincotta",spcode:"E014",vipcode:"V01",entity_id:6557,status:"Final",leadoffice:51412,fedreg:"78FR52363 52387",pubdate:"20130822",source_id:2016,objectid:737,listing_st:"Endangered",ch_id:1088,ch_str_id:"a-1088"},{comname:"Longsolid",sciname:"Fusconaia subrotunda",spcode:"F04V",vipcode:"I01",entity_id:10838,status:"Final",leadoffice:42431,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2059,objectid:777,listing_st:"Threatened",ch_id:1088,ch_str_id:"a-1088"},{comname:"Rabbitsfoot",sciname:"Quadrula cylindrica cylindrica",spcode:"F03X",vipcode:"I01",entity_id:3645,status:"Final",leadoffice:43421,fedreg:"80FR24692 24774",pubdate:"20150430",source_id:1507,objectid:803,listing_st:"Threatened",ch_id:1089,ch_str_id:"a-1089"},{comname:"Indiana bat",sciname:"Myotis sodalis",spcode:"A000",vipcode:"V01",entity_id:1,status:"Final",leadoffice:31440,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1951,objectid:679,listing_st:"Endangered",ch_id:1089,ch_str_id:"a-1089"},{comname:"Western fanshell",sciname:"Cyprogenia aberti",spcode:"F01L",vipcode:"I01",entity_id:5391,status:"Final",leadoffice:33410,fedreg:"88FR41724 41771",pubdate:"20230627",source_id:2055,objectid:773,listing_st:"Threatened",ch_id:1089,ch_str_id:"a-1089"},{comname:"Big Creek Crayfish",sciname:"Faxonius peruncus",spcode:"K090",vipcode:"I01",entity_id:11563,status:"Final",leadoffice:33410,fedreg:"88FR25512 25542",pubdate:"20230427",source_id:1985,objectid:703,listing_st:"Threatened",ch_id:1089,ch_str_id:"a-1089"},{comname:"Gulf sturgeon",sciname:"Acipenser oxyrinchus (=oxyrhynchus) desotoi",spcode:"E04W",vipcode:"V01",entity_id:286,status:"Final",leadoffice:41411,fedreg:"68FR13370 13495",pubdate:"20030319",source_id:1096,objectid:141,listing_st:"Threatened",ch_id:109,ch_str_id:"a-109"},{comname:"Green sea turtle",sciname:"Chelonia mydas",spcode:"C00S",vipcode:"V12",entity_id:11192,status:"Proposed",leadoffice:41411,fedreg:"88FR46376 46570",pubdate:"20230719",source_id:2063,objectid:809,listing_st:"Threatened",ch_id:109,ch_str_id:"a-109"},{comname:"Rabbitsfoot",sciname:"Quadrula cylindrica cylindrica",spcode:"F03X",vipcode:"I01",entity_id:3645,status:"Final",leadoffice:43421,fedreg:"80FR24692 24774",pubdate:"20150430",source_id:1507,objectid:803,listing_st:"Threatened",ch_id:1090,ch_str_id:"a-1090"},{comname:"Indiana bat",sciname:"Myotis sodalis",spcode:"A000",vipcode:"V01",entity_id:1,status:"Final",leadoffice:31440,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1951,objectid:679,listing_st:"Endangered",ch_id:1090,ch_str_id:"a-1090"},{comname:"Longsolid",sciname:"Fusconaia subrotunda",spcode:"F04V",vipcode:"I01",entity_id:10838,status:"Final",leadoffice:42431,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2059,objectid:777,listing_st:"Threatened",ch_id:1090,ch_str_id:"a-1090"},{comname:"Oyster mussel",sciname:"Epioblasma capsaeformis",spcode:"F01T",vipcode:"I01",entity_id:358,status:"Final",leadoffice:42430,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2039,objectid:757,listing_st:"Endangered",ch_id:1091,ch_str_id:"a-1091"},{comname:"Cumberlandian combshell",sciname:"Epioblasma brevidens",spcode:"F01F",vipcode:"I01",entity_id:353,status:"Final",leadoffice:42430,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2038,objectid:756,listing_st:"Endangered",ch_id:1091,ch_str_id:"a-1091"},{comname:"Round hickorynut",sciname:"Obovaria subrotunda",spcode:"F04X",vipcode:"I01",entity_id:10837,status:"Final",leadoffice:31420,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2058,objectid:776,listing_st:"Threatened",ch_id:1091,ch_str_id:"a-1091"},{comname:"Round hickorynut",sciname:"Obovaria subrotunda",spcode:"F04X",vipcode:"I01",entity_id:10837,status:"Final",leadoffice:31420,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2058,objectid:776,listing_st:"Threatened",ch_id:1092,ch_str_id:"a-1092"},{comname:"Salamander mussel",sciname:"Simpsonaias ambigua",spcode:"F01U",vipcode:"I01",entity_id:8134,status:"Proposed",leadoffice:31410,fedreg:"88FR57224 57290",pubdate:"20230822",source_id:2084,objectid:797,listing_st:"Proposed Endangered",ch_id:1092,ch_str_id:"a-1092"},{comname:"Longsolid",sciname:"Fusconaia subrotunda",spcode:"F04V",vipcode:"I01",entity_id:10838,status:"Final",leadoffice:42431,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2059,objectid:777,listing_st:"Threatened",ch_id:1092,ch_str_id:"a-1092"},{comname:"Round hickorynut",sciname:"Obovaria subrotunda",spcode:"F04X",vipcode:"I01",entity_id:10837,status:"Final",leadoffice:31420,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2058,objectid:776,listing_st:"Threatened",ch_id:1093,ch_str_id:"a-1093"},{comname:"diamond Darter",sciname:"Crystallaria cincotta",spcode:"E014",vipcode:"V01",entity_id:6557,status:"Final",leadoffice:51412,fedreg:"78FR52363 52387",pubdate:"20130822",source_id:2016,objectid:737,listing_st:"Endangered",ch_id:1093,ch_str_id:"a-1093"},{comname:"Longsolid",sciname:"Fusconaia subrotunda",spcode:"F04V",vipcode:"I01",entity_id:10838,status:"Final",leadoffice:42431,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2059,objectid:777,listing_st:"Threatened",ch_id:1093,ch_str_id:"a-1093"},{comname:"Round hickorynut",sciname:"Obovaria subrotunda",spcode:"F04X",vipcode:"I01",entity_id:10837,status:"Final",leadoffice:31420,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2058,objectid:776,listing_st:"Threatened",ch_id:1094,ch_str_id:"a-1094"},{comname:"Indiana bat",sciname:"Myotis sodalis",spcode:"A000",vipcode:"V01",entity_id:1,status:"Final",leadoffice:31440,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1951,objectid:679,listing_st:"Endangered",ch_id:1094,ch_str_id:"a-1094"},{comname:"Longsolid",sciname:"Fusconaia subrotunda",spcode:"F04V",vipcode:"I01",entity_id:10838,status:"Final",leadoffice:42431,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2059,objectid:777,listing_st:"Threatened",ch_id:1094,ch_str_id:"a-1094"},{comname:"Frecklebelly madtom",sciname:"Noturus munitus",spcode:"E01I",vipcode:"V02",entity_id:11662,status:"Final",leadoffice:43410,fedreg:"88FR13038 13070",pubdate:"20230302",source_id:2024,objectid:744,listing_st:"Threatened",ch_id:1097,ch_str_id:"a-1097"},{comname:"Conasauga logperch",sciname:"Percina jenkinsi",spcode:"E05H",vipcode:"V01",entity_id:294,status:"Final",leadoffice:41460,fedreg:"50FR31597 31604",pubdate:"19850805",source_id:1137,objectid:164,listing_st:"Endangered",ch_id:1097,ch_str_id:"a-1097"},{comname:"Finelined pocketbook",sciname:"Hamiota altilis",spcode:"F02X",vipcode:"I01",entity_id:372,status:"Final",leadoffice:43410,fedreg:"69FR40084 40171",pubdate:"20040701",source_id:1147,objectid:168,listing_st:"Threatened",ch_id:1097,ch_str_id:"a-1097"},{comname:"Bracted twistflower",sciname:"Streptanthus bracteatus",spcode:"Q1R7",vipcode:"P01",entity_id:1678,status:"Final",leadoffice:21450,fedreg:"88FR21844 21876",pubdate:"20230411",source_id:2020,objectid:739,listing_st:"Threatened",ch_id:11,ch_str_id:"a-11"},{comname:"Fat threeridge (mussel)",sciname:"Amblema neislerii",spcode:"F032",vipcode:"I01",entity_id:375,status:"Final",leadoffice:41411,fedreg:"72FR64286 64340",pubdate:"20071115",source_id:315,objectid:812,listing_st:"Endangered",ch_id:110,ch_str_id:"a-110"},{comname:"Rabbitsfoot",sciname:"Quadrula cylindrica cylindrica",spcode:"F03X",vipcode:"I01",entity_id:3645,status:"Final",leadoffice:43421,fedreg:"80FR24692 24774",pubdate:"20150430",source_id:1507,objectid:803,listing_st:"Threatened",ch_id:1101,ch_str_id:"a-1101"},{comname:"Big Creek Crayfish",sciname:"Faxonius peruncus",spcode:"K090",vipcode:"I01",entity_id:11563,status:"Final",leadoffice:33410,fedreg:"88FR25512 25542",pubdate:"20230427",source_id:1985,objectid:703,listing_st:"Threatened",ch_id:1101,ch_str_id:"a-1101"},{comname:"St. Francis River Crayfish",sciname:"Faxonius quadruncus",spcode:"K091",vipcode:"I01",entity_id:11564,status:"Final",leadoffice:33410,fedreg:"88FR25512 25542",pubdate:"20230427",source_id:1986,objectid:704,listing_st:"Threatened",ch_id:1101,ch_str_id:"a-1101"},{comname:"Indiana bat",sciname:"Myotis sodalis",spcode:"A000",vipcode:"V01",entity_id:1,status:"Final",leadoffice:31440,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1951,objectid:679,listing_st:"Endangered",ch_id:1101,ch_str_id:"a-1101"},{comname:"Rabbitsfoot",sciname:"Quadrula cylindrica cylindrica",spcode:"F03X",vipcode:"I01",entity_id:3645,status:"Final",leadoffice:43421,fedreg:"80FR24692 24774",pubdate:"20150430",source_id:1507,objectid:803,listing_st:"Threatened",ch_id:1102,ch_str_id:"a-1102"},{comname:"Big Creek Crayfish",sciname:"Faxonius peruncus",spcode:"K090",vipcode:"I01",entity_id:11563,status:"Final",leadoffice:33410,fedreg:"88FR25512 25542",pubdate:"20230427",source_id:1985,objectid:703,listing_st:"Threatened",ch_id:1102,ch_str_id:"a-1102"},{comname:"St. Francis River Crayfish",sciname:"Faxonius quadruncus",spcode:"K091",vipcode:"I01",entity_id:11564,status:"Final",leadoffice:33410,fedreg:"88FR25512 25542",pubdate:"20230427",source_id:1986,objectid:704,listing_st:"Threatened",ch_id:1102,ch_str_id:"a-1102"},{comname:"Western fanshell",sciname:"Cyprogenia aberti",spcode:"F01L",vipcode:"I01",entity_id:5391,status:"Final",leadoffice:33410,fedreg:"88FR41724 41771",pubdate:"20230627",source_id:2055,objectid:773,listing_st:"Threatened",ch_id:1102,ch_str_id:"a-1102"},{comname:"Rabbitsfoot",sciname:"Quadrula cylindrica cylindrica",spcode:"F03X",vipcode:"I01",entity_id:3645,status:"Final",leadoffice:43421,fedreg:"80FR24692 24774",pubdate:"20150430",source_id:1507,objectid:803,listing_st:"Threatened",ch_id:1103,ch_str_id:"a-1103"},{comname:"Oyster mussel",sciname:"Epioblasma capsaeformis",spcode:"F01T",vipcode:"I01",entity_id:358,status:"Final",leadoffice:42430,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2039,objectid:757,listing_st:"Endangered",ch_id:1103,ch_str_id:"a-1103"},{comname:"Cumberlandian combshell",sciname:"Epioblasma brevidens",spcode:"F01F",vipcode:"I01",entity_id:353,status:"Final",leadoffice:42430,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2038,objectid:756,listing_st:"Endangered",ch_id:1103,ch_str_id:"a-1103"},{comname:"Round hickorynut",sciname:"Obovaria subrotunda",spcode:"F04X",vipcode:"I01",entity_id:10837,status:"Final",leadoffice:31420,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2058,objectid:776,listing_st:"Threatened",ch_id:1103,ch_str_id:"a-1103"},{comname:"Rabbitsfoot",sciname:"Quadrula cylindrica cylindrica",spcode:"F03X",vipcode:"I01",entity_id:3645,status:"Final",leadoffice:43421,fedreg:"80FR24692 24774",pubdate:"20150430",source_id:1507,objectid:803,listing_st:"Threatened",ch_id:1104,ch_str_id:"a-1104"},{comname:"Round hickorynut",sciname:"Obovaria subrotunda",spcode:"F04X",vipcode:"I01",entity_id:10837,status:"Final",leadoffice:31420,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2058,objectid:776,listing_st:"Threatened",ch_id:1104,ch_str_id:"a-1104"},{comname:"Indiana bat",sciname:"Myotis sodalis",spcode:"A000",vipcode:"V01",entity_id:1,status:"Final",leadoffice:31440,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1951,objectid:679,listing_st:"Endangered",ch_id:1104,ch_str_id:"a-1104"},{comname:"Longsolid",sciname:"Fusconaia subrotunda",spcode:"F04V",vipcode:"I01",entity_id:10838,status:"Final",leadoffice:42431,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2059,objectid:777,listing_st:"Threatened",ch_id:1104,ch_str_id:"a-1104"},{comname:"Rabbitsfoot",sciname:"Quadrula cylindrica cylindrica",spcode:"F03X",vipcode:"I01",entity_id:3645,status:"Final",leadoffice:43421,fedreg:"80FR24692 24774",pubdate:"20150430",source_id:1507,objectid:803,listing_st:"Threatened",ch_id:1105,ch_str_id:"a-1105"},{comname:"diamond Darter",sciname:"Crystallaria cincotta",spcode:"E014",vipcode:"V01",entity_id:6557,status:"Final",leadoffice:51412,fedreg:"78FR52363 52387",pubdate:"20130822",source_id:2016,objectid:737,listing_st:"Endangered",ch_id:1105,ch_str_id:"a-1105"},{comname:"Indiana bat",sciname:"Myotis sodalis",spcode:"A000",vipcode:"V01",entity_id:1,status:"Final",leadoffice:31440,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1951,objectid:679,listing_st:"Endangered",ch_id:1105,ch_str_id:"a-1105"},{comname:"Longsolid",sciname:"Fusconaia subrotunda",spcode:"F04V",vipcode:"I01",entity_id:10838,status:"Final",leadoffice:42431,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2059,objectid:777,listing_st:"Threatened",ch_id:1105,ch_str_id:"a-1105"},{comname:"Round hickorynut",sciname:"Obovaria subrotunda",spcode:"F04X",vipcode:"I01",entity_id:10837,status:"Final",leadoffice:31420,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2058,objectid:776,listing_st:"Threatened",ch_id:1106,ch_str_id:"a-1106"},{comname:"diamond Darter",sciname:"Crystallaria cincotta",spcode:"E014",vipcode:"V01",entity_id:6557,status:"Final",leadoffice:51412,fedreg:"78FR52363 52387",pubdate:"20130822",source_id:2016,objectid:737,listing_st:"Endangered",ch_id:1106,ch_str_id:"a-1106"},{comname:"Indiana bat",sciname:"Myotis sodalis",spcode:"A000",vipcode:"V01",entity_id:1,status:"Final",leadoffice:31440,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1951,objectid:679,listing_st:"Endangered",ch_id:1106,ch_str_id:"a-1106"},{comname:"Longsolid",sciname:"Fusconaia subrotunda",spcode:"F04V",vipcode:"I01",entity_id:10838,status:"Final",leadoffice:42431,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2059,objectid:777,listing_st:"Threatened",ch_id:1106,ch_str_id:"a-1106"},{comname:"Trispot darter",sciname:"Etheostoma trisella",spcode:"E05G",vipcode:"V01",entity_id:3069,status:"Final",leadoffice:43410,fedreg:"85FR61619 61638",pubdate:"20200930",source_id:1965,objectid:689,listing_st:"Threatened",ch_id:1109,ch_str_id:"a-1109"},{comname:"Conasauga logperch",sciname:"Percina jenkinsi",spcode:"E05H",vipcode:"V01",entity_id:294,status:"Final",leadoffice:41460,fedreg:"50FR31597 31604",pubdate:"19850805",source_id:1137,objectid:164,listing_st:"Endangered",ch_id:1109,ch_str_id:"a-1109"},{comname:"Amber darter",sciname:"Percina antesella",spcode:"E05F",vipcode:"V01",entity_id:293,status:"Final",leadoffice:41460,fedreg:"50FR31597 31604",pubdate:"19850805",source_id:1125,objectid:152,listing_st:"Endangered",ch_id:1109,ch_str_id:"a-1109"},{comname:"Finelined pocketbook",sciname:"Hamiota altilis",spcode:"F02X",vipcode:"I01",entity_id:372,status:"Final",leadoffice:43410,fedreg:"69FR40084 40171",pubdate:"20040701",source_id:1147,objectid:168,listing_st:"Threatened",ch_id:1109,ch_str_id:"a-1109"},{comname:"Narrow pigtoe",sciname:"Fusconaia escambia",spcode:"F02T",vipcode:"I01",entity_id:7177,status:"Final",leadoffice:41411,fedreg:"77FR61664 61719",pubdate:"20121010",source_id:1464,objectid:512,listing_st:"Threatened",ch_id:111,ch_str_id:"a-111"},{comname:"Rabbitsfoot",sciname:"Quadrula cylindrica cylindrica",spcode:"F03X",vipcode:"I01",entity_id:3645,status:"Final",leadoffice:43421,fedreg:"80FR24692 24774",pubdate:"20150430",source_id:1507,objectid:803,listing_st:"Threatened",ch_id:1110,ch_str_id:"a-1110"},{comname:"Big Creek Crayfish",sciname:"Faxonius peruncus",spcode:"K090",vipcode:"I01",entity_id:11563,status:"Final",leadoffice:33410,fedreg:"88FR25512 25542",pubdate:"20230427",source_id:1985,objectid:703,listing_st:"Threatened",ch_id:1110,ch_str_id:"a-1110"},{comname:"St. Francis River Crayfish",sciname:"Faxonius quadruncus",spcode:"K091",vipcode:"I01",entity_id:11564,status:"Final",leadoffice:33410,fedreg:"88FR25512 25542",pubdate:"20230427",source_id:1986,objectid:704,listing_st:"Threatened",ch_id:1110,ch_str_id:"a-1110"},{comname:"Indiana bat",sciname:"Myotis sodalis",spcode:"A000",vipcode:"V01",entity_id:1,status:"Final",leadoffice:31440,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1951,objectid:679,listing_st:"Endangered",ch_id:1110,ch_str_id:"a-1110"},{comname:"Western fanshell",sciname:"Cyprogenia aberti",spcode:"F01L",vipcode:"I01",entity_id:5391,status:"Final",leadoffice:33410,fedreg:"88FR41724 41771",pubdate:"20230627",source_id:2055,objectid:773,listing_st:"Threatened",ch_id:1110,ch_str_id:"a-1110"},{comname:"Rabbitsfoot",sciname:"Quadrula cylindrica cylindrica",spcode:"F03X",vipcode:"I01",entity_id:3645,status:"Final",leadoffice:43421,fedreg:"80FR24692 24774",pubdate:"20150430",source_id:1507,objectid:803,listing_st:"Threatened",ch_id:1111,ch_str_id:"a-1111"},{comname:"Round hickorynut",sciname:"Obovaria subrotunda",spcode:"F04X",vipcode:"I01",entity_id:10837,status:"Final",leadoffice:31420,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2058,objectid:776,listing_st:"Threatened",ch_id:1111,ch_str_id:"a-1111"},{comname:"diamond Darter",sciname:"Crystallaria cincotta",spcode:"E014",vipcode:"V01",entity_id:6557,status:"Final",leadoffice:51412,fedreg:"78FR52363 52387",pubdate:"20130822",source_id:2016,objectid:737,listing_st:"Endangered",ch_id:1111,ch_str_id:"a-1111"},{comname:"Indiana bat",sciname:"Myotis sodalis",spcode:"A000",vipcode:"V01",entity_id:1,status:"Final",leadoffice:31440,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1951,objectid:679,listing_st:"Endangered",ch_id:1111,ch_str_id:"a-1111"},{comname:"Longsolid",sciname:"Fusconaia subrotunda",spcode:"F04V",vipcode:"I01",entity_id:10838,status:"Final",leadoffice:42431,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2059,objectid:777,listing_st:"Threatened",ch_id:1111,ch_str_id:"a-1111"},{comname:"Panama City crayfish",sciname:"Procambarus econfinae",spcode:"K05P",vipcode:"I01",entity_id:9386,status:"Final",leadoffice:41411,fedreg:"87FR546 581",pubdate:"20220105",source_id:2002,objectid:720,listing_st:"Threatened",ch_id:112,ch_str_id:"a-112"},{comname:"Mississippi sandhill crane",sciname:"Antigone canadensis pulla",spcode:"B04I",vipcode:"V01",entity_id:110,status:"Final",leadoffice:43910,fedreg:"42FR39985 39988",pubdate:"19770808",source_id:1362,objectid:238,listing_st:"Endangered",ch_id:113,ch_str_id:"a-113"},{comname:"dusky gopher frog",sciname:"Rana sevosa",spcode:"D031",vipcode:"V01",entity_id:208,status:"Final",leadoffice:43910,fedreg:"77FR35117 35161",pubdate:"20120612",source_id:1519,objectid:296,listing_st:"Endangered",ch_id:113,ch_str_id:"a-113"},{comname:"Florida Keys mole skink",sciname:"Plestiodon egregius egregius",spcode:"C03U",vipcode:"V01",entity_id:2238,status:"Proposed",leadoffice:40120,fedreg:"87FR58649",pubdate:"20220927",source_id:2042,objectid:760,listing_st:"Proposed Threatened",ch_id:114,ch_str_id:"a-114"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:114,ch_str_id:"a-114"},{comname:"Florida semaphore Cactus",sciname:"Consolea corallicola",spcode:"Q3HT",vipcode:"P01",entity_id:1525,status:"Final",leadoffice:41411,fedreg:"81FR3865 3925",pubdate:"20160122",source_id:1963,objectid:688,listing_st:"Endangered",ch_id:114,ch_str_id:"a-114"},{comname:"Florida Keys mole skink",sciname:"Plestiodon egregius egregius",spcode:"C03U",vipcode:"V01",entity_id:2238,status:"Proposed",leadoffice:40120,fedreg:"87FR58649",pubdate:"20220927",source_id:2042,objectid:760,listing_st:"Proposed Threatened",ch_id:115,ch_str_id:"a-115"},{comname:"Key ring-necked snake",sciname:"Diadophis punctatus acricus",spcode:"C040",vipcode:"V01",entity_id:2084,status:"Proposed",leadoffice:41411,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2047,objectid:765,listing_st:"Proposed Endangered",ch_id:115,ch_str_id:"a-115"},{comname:"Florida Keys mole skink",sciname:"Plestiodon egregius egregius",spcode:"C03U",vipcode:"V01",entity_id:2238,status:"Proposed",leadoffice:40120,fedreg:"87FR58649",pubdate:"20220927",source_id:2042,objectid:760,listing_st:"Proposed Threatened",ch_id:116,ch_str_id:"a-116"},{comname:"American crocodile",sciname:"Crocodylus acutus",spcode:"C02J",vipcode:"V01",entity_id:176,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1054,objectid:103,listing_st:"Threatened",ch_id:116,ch_str_id:"a-116"},{comname:"Florida semaphore Cactus",sciname:"Consolea corallicola",spcode:"Q3HT",vipcode:"P01",entity_id:1525,status:"Final",leadoffice:41411,fedreg:"81FR3865 3925",pubdate:"20160122",source_id:1963,objectid:688,listing_st:"Endangered",ch_id:116,ch_str_id:"a-116"},{comname:"Florida Keys mole skink",sciname:"Plestiodon egregius egregius",spcode:"C03U",vipcode:"V01",entity_id:2238,status:"Proposed",leadoffice:40120,fedreg:"87FR58649",pubdate:"20220927",source_id:2042,objectid:760,listing_st:"Proposed Threatened",ch_id:117,ch_str_id:"a-117"},{comname:"Cape Sable Thoroughwort",sciname:"Chromolaena frustrata",spcode:"Q3HJ",vipcode:"P01",entity_id:8336,status:"Final",leadoffice:41411,fedreg:"79FR1551 1590",pubdate:"20140108",source_id:1534,objectid:308,listing_st:"Endangered",ch_id:117,ch_str_id:"a-117"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:117,ch_str_id:"a-117"},{comname:"Florida Keys mole skink",sciname:"Plestiodon egregius egregius",spcode:"C03U",vipcode:"V01",entity_id:2238,status:"Proposed",leadoffice:40120,fedreg:"87FR58649",pubdate:"20220927",source_id:2042,objectid:760,listing_st:"Proposed Threatened",ch_id:118,ch_str_id:"a-118"},{comname:"Green sea turtle",sciname:"Chelonia mydas",spcode:"C00S",vipcode:"V12",entity_id:11192,status:"Proposed",leadoffice:41411,fedreg:"88FR46376 46570",pubdate:"20230719",source_id:2063,objectid:809,listing_st:"Threatened",ch_id:118,ch_str_id:"a-118"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:119,ch_str_id:"a-119"},{comname:"Key ring-necked snake",sciname:"Diadophis punctatus acricus",spcode:"C040",vipcode:"V01",entity_id:2084,status:"Proposed",leadoffice:41411,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2047,objectid:765,listing_st:"Proposed Endangered",ch_id:119,ch_str_id:"a-119"},{comname:"Cape Sable Thoroughwort",sciname:"Chromolaena frustrata",spcode:"Q3HJ",vipcode:"P01",entity_id:8336,status:"Final",leadoffice:41411,fedreg:"79FR1551 1590",pubdate:"20140108",source_id:1534,objectid:308,listing_st:"Endangered",ch_id:119,ch_str_id:"a-119"},{comname:"Florida semaphore Cactus",sciname:"Consolea corallicola",spcode:"Q3HT",vipcode:"P01",entity_id:1525,status:"Final",leadoffice:41411,fedreg:"81FR3865 3925",pubdate:"20160122",source_id:1963,objectid:688,listing_st:"Endangered",ch_id:119,ch_str_id:"a-119"},{comname:"Robber Baron Cave Meshweaver",sciname:"Cicurina baronia",spcode:"J01A",vipcode:"I01",entity_id:472,status:"Final",leadoffice:21450,fedreg:"77FR8450 8523",pubdate:"20120214",source_id:474,objectid:43,listing_st:"Endangered",ch_id:12,ch_str_id:"a-12"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:120,ch_str_id:"a-120"},{comname:"Florida bonneted bat",sciname:"Eumops floridanus",spcode:"A0JB",vipcode:"V01",entity_id:9725,status:"Final",leadoffice:41411,fedreg:"89FR16624 16681",pubdate:"20240307",source_id:1979,objectid:697,listing_st:"Endangered",ch_id:120,ch_str_id:"a-120"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:121,ch_str_id:"a-121"},{comname:"American crocodile",sciname:"Crocodylus acutus",spcode:"C02J",vipcode:"V01",entity_id:176,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1054,objectid:103,listing_st:"Threatened",ch_id:121,ch_str_id:"a-121"},{comname:"Cape Sable Thoroughwort",sciname:"Chromolaena frustrata",spcode:"Q3HJ",vipcode:"P01",entity_id:8336,status:"Final",leadoffice:41411,fedreg:"79FR1551 1590",pubdate:"20140108",source_id:1534,objectid:308,listing_st:"Endangered",ch_id:121,ch_str_id:"a-121"},{comname:"Florida semaphore Cactus",sciname:"Consolea corallicola",spcode:"Q3HT",vipcode:"P01",entity_id:1525,status:"Final",leadoffice:41411,fedreg:"81FR3865 3925",pubdate:"20160122",source_id:1963,objectid:688,listing_st:"Endangered",ch_id:121,ch_str_id:"a-121"},{comname:"Florida Keys mole skink",sciname:"Plestiodon egregius egregius",spcode:"C03U",vipcode:"V01",entity_id:2238,status:"Proposed",leadoffice:40120,fedreg:"87FR58649",pubdate:"20220927",source_id:2042,objectid:760,listing_st:"Proposed Threatened",ch_id:121,ch_str_id:"a-121"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:122,ch_str_id:"a-122"},{comname:"Miami tiger beetle",sciname:"Cicindelidia floridana",spcode:"I0XA",vipcode:"I01",entity_id:10909,status:"Final",leadoffice:41411,fedreg:"88FR33194 33238",pubdate:"20230523",source_id:2009,objectid:729,listing_st:"Endangered",ch_id:122,ch_str_id:"a-122"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:123,ch_str_id:"a-123"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:123,ch_str_id:"a-123"},{comname:"Black pinesnake",sciname:"Pituophis melanoleucus lodingi",spcode:"C029",vipcode:"V01",entity_id:6097,status:"Final",leadoffice:43910,fedreg:"85FR11238 11270",pubdate:"20200226",source_id:1978,objectid:696,listing_st:"Threatened",ch_id:125,ch_str_id:"a-125"},{comname:"dusky gopher frog",sciname:"Rana sevosa",spcode:"D031",vipcode:"V01",entity_id:208,status:"Final",leadoffice:43910,fedreg:"77FR35117 35161",pubdate:"20120612",source_id:1519,objectid:296,listing_st:"Endangered",ch_id:125,ch_str_id:"a-125"},{comname:"Key ring-necked snake",sciname:"Diadophis punctatus acricus",spcode:"C040",vipcode:"V01",entity_id:2084,status:"Proposed",leadoffice:41411,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2047,objectid:765,listing_st:"Proposed Endangered",ch_id:126,ch_str_id:"a-126"},{comname:"Silver rice rat",sciname:"Oryzomys palustris natator",spcode:"A083",vipcode:"V01",entity_id:29,status:"Final",leadoffice:41411,fedreg:"58FR46030 46034",pubdate:"19930831",source_id:1079,objectid:124,listing_st:"Endangered",ch_id:126,ch_str_id:"a-126"},{comname:"Florida bonneted bat",sciname:"Eumops floridanus",spcode:"A0JB",vipcode:"V01",entity_id:9725,status:"Final",leadoffice:41411,fedreg:"89FR16624 16681",pubdate:"20240307",source_id:1979,objectid:697,listing_st:"Endangered",ch_id:127,ch_str_id:"a-127"},{comname:"Florida brickell-bush",sciname:"Brickellia mosieri",spcode:"Q09E",vipcode:"P01",entity_id:4420,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1532,objectid:307,listing_st:"Endangered",ch_id:127,ch_str_id:"a-127"},{comname:"Florida bonneted bat",sciname:"Eumops floridanus",spcode:"A0JB",vipcode:"V01",entity_id:9725,status:"Final",leadoffice:41411,fedreg:"89FR16624 16681",pubdate:"20240307",source_id:1979,objectid:697,listing_st:"Endangered",ch_id:128,ch_str_id:"a-128"},{comname:"Cape Sable seaside sparrow",sciname:"Ammospiza maritima mirabilis",spcode:"B00Q",vipcode:"V01",entity_id:85,status:"Final",leadoffice:41411,fedreg:"72FR62736 62766",pubdate:"20071106",source_id:1060,objectid:109,listing_st:"Endangered",ch_id:128,ch_str_id:"a-128"},{comname:"Florida bonneted bat",sciname:"Eumops floridanus",spcode:"A0JB",vipcode:"V01",entity_id:9725,status:"Final",leadoffice:41411,fedreg:"89FR16624 16681",pubdate:"20240307",source_id:1979,objectid:697,listing_st:"Endangered",ch_id:129,ch_str_id:"a-129"},{comname:"Everglade snail kite",sciname:"Rostrhamus sociabilis plumbeus",spcode:"B00F",vipcode:"V01",entity_id:1221,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1067,objectid:116,listing_st:"Endangered",ch_id:129,ch_str_id:"a-129"},{comname:"Desert pupfish",sciname:"Cyprinodon macularius",spcode:"E044",vipcode:"V01",entity_id:275,status:"Final",leadoffice:22410,fedreg:"51FR10842 10851",pubdate:"19860331",source_id:9,objectid:2,listing_st:"Endangered",ch_id:13,ch_str_id:"a-13"},{comname:"Quitobaquito tryonia",sciname:"Tryonia quitobaquitae",spcode:"G05K",vipcode:"I01",entity_id:2722,status:"Proposed",leadoffice:0,fedreg:"88FR62725 62747",pubdate:"20230913",source_id:2085,objectid:796,listing_st:"Proposed Endangered",ch_id:13,ch_str_id:"a-13"},{comname:"Florida bonneted bat",sciname:"Eumops floridanus",spcode:"A0JB",vipcode:"V01",entity_id:9725,status:"Final",leadoffice:41411,fedreg:"89FR16624 16681",pubdate:"20240307",source_id:1979,objectid:697,listing_st:"Endangered",ch_id:130,ch_str_id:"a-130"},{comname:"Miami tiger beetle",sciname:"Cicindelidia floridana",spcode:"I0XA",vipcode:"I01",entity_id:10909,status:"Final",leadoffice:41411,fedreg:"88FR33194 33238",pubdate:"20230523",source_id:2009,objectid:729,listing_st:"Endangered",ch_id:130,ch_str_id:"a-130"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:130,ch_str_id:"a-130"},{comname:"Carter's small-flowered flax",sciname:"Linum carteri carteri",spcode:"Q14I",vipcode:"P01",entity_id:7206,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1539,objectid:312,listing_st:"Endangered",ch_id:130,ch_str_id:"a-130"},{comname:"Florida leafwing Butterfly",sciname:"Anaea troglodyta floridalis",spcode:"I087",vipcode:"I01",entity_id:8083,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1531,objectid:306,listing_st:"Endangered",ch_id:130,ch_str_id:"a-130"},{comname:"Florida bonneted bat",sciname:"Eumops floridanus",spcode:"A0JB",vipcode:"V01",entity_id:9725,status:"Final",leadoffice:41411,fedreg:"89FR16624 16681",pubdate:"20240307",source_id:1979,objectid:697,listing_st:"Endangered",ch_id:131,ch_str_id:"a-131"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:131,ch_str_id:"a-131"},{comname:"Florida bonneted bat",sciname:"Eumops floridanus",spcode:"A0JB",vipcode:"V01",entity_id:9725,status:"Final",leadoffice:41411,fedreg:"89FR16624 16681",pubdate:"20240307",source_id:1979,objectid:697,listing_st:"Endangered",ch_id:132,ch_str_id:"a-132"},{comname:"Carter's small-flowered flax",sciname:"Linum carteri carteri",spcode:"Q14I",vipcode:"P01",entity_id:7206,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1539,objectid:312,listing_st:"Endangered",ch_id:132,ch_str_id:"a-132"},{comname:"Florida bonneted bat",sciname:"Eumops floridanus",spcode:"A0JB",vipcode:"V01",entity_id:9725,status:"Final",leadoffice:41411,fedreg:"89FR16624 16681",pubdate:"20240307",source_id:1979,objectid:697,listing_st:"Endangered",ch_id:133,ch_str_id:"a-133"},{comname:"Florida bristle fern",sciname:"Trichomanes punctatum ssp. floridanum",spcode:"S02G",vipcode:"P01",entity_id:9721,status:"Final",leadoffice:41411,fedreg:"87FR78582 78610",pubdate:"20221222",source_id:2049,objectid:767,listing_st:"Endangered",ch_id:133,ch_str_id:"a-133"},{comname:"Florida bonneted bat",sciname:"Eumops floridanus",spcode:"A0JB",vipcode:"V01",entity_id:9725,status:"Final",leadoffice:41411,fedreg:"89FR16624 16681",pubdate:"20240307",source_id:1979,objectid:697,listing_st:"Endangered",ch_id:134,ch_str_id:"a-134"},{comname:"West Indian Manatee",sciname:"Trichechus manatus",spcode:"A007",vipcode:"V01",entity_id:7,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1100,objectid:145,listing_st:"Threatened",ch_id:134,ch_str_id:"a-134"},{comname:"Florida brickell-bush",sciname:"Brickellia mosieri",spcode:"Q09E",vipcode:"P01",entity_id:4420,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1532,objectid:307,listing_st:"Endangered",ch_id:135,ch_str_id:"a-135"},{comname:"Miami tiger beetle",sciname:"Cicindelidia floridana",spcode:"I0XA",vipcode:"I01",entity_id:10909,status:"Final",leadoffice:41411,fedreg:"88FR33194 33238",pubdate:"20230523",source_id:2009,objectid:729,listing_st:"Endangered",ch_id:135,ch_str_id:"a-135"},{comname:"Florida brickell-bush",sciname:"Brickellia mosieri",spcode:"Q09E",vipcode:"P01",entity_id:4420,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1532,objectid:307,listing_st:"Endangered",ch_id:136,ch_str_id:"a-136"},{comname:"Carter's small-flowered flax",sciname:"Linum carteri carteri",spcode:"Q14I",vipcode:"P01",entity_id:7206,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1539,objectid:312,listing_st:"Endangered",ch_id:136,ch_str_id:"a-136"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:136,ch_str_id:"a-136"},{comname:"Miami tiger beetle",sciname:"Cicindelidia floridana",spcode:"I0XA",vipcode:"I01",entity_id:10909,status:"Final",leadoffice:41411,fedreg:"88FR33194 33238",pubdate:"20230523",source_id:2009,objectid:729,listing_st:"Endangered",ch_id:136,ch_str_id:"a-136"},{comname:"Florida leafwing Butterfly",sciname:"Anaea troglodyta floridalis",spcode:"I087",vipcode:"I01",entity_id:8083,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1531,objectid:306,listing_st:"Endangered",ch_id:136,ch_str_id:"a-136"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:136,ch_str_id:"a-136"},{comname:"Cape Sable seaside sparrow",sciname:"Ammospiza maritima mirabilis",spcode:"B00Q",vipcode:"V01",entity_id:85,status:"Final",leadoffice:41411,fedreg:"72FR62736 62766",pubdate:"20071106",source_id:1060,objectid:109,listing_st:"Endangered",ch_id:137,ch_str_id:"a-137"},{comname:"Everglade snail kite",sciname:"Rostrhamus sociabilis plumbeus",spcode:"B00F",vipcode:"V01",entity_id:1221,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1067,objectid:116,listing_st:"Endangered",ch_id:137,ch_str_id:"a-137"},{comname:"Cape Sable seaside sparrow",sciname:"Ammospiza maritima mirabilis",spcode:"B00Q",vipcode:"V01",entity_id:85,status:"Final",leadoffice:41411,fedreg:"72FR62736 62766",pubdate:"20071106",source_id:1060,objectid:109,listing_st:"Endangered",ch_id:138,ch_str_id:"a-138"},{comname:"American crocodile",sciname:"Crocodylus acutus",spcode:"C02J",vipcode:"V01",entity_id:176,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1054,objectid:103,listing_st:"Threatened",ch_id:138,ch_str_id:"a-138"},{comname:"Silver rice rat",sciname:"Oryzomys palustris natator",spcode:"A083",vipcode:"V01",entity_id:29,status:"Final",leadoffice:41411,fedreg:"58FR46030 46034",pubdate:"19930831",source_id:1079,objectid:124,listing_st:"Endangered",ch_id:139,ch_str_id:"a-139"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:139,ch_str_id:"a-139"},{comname:"Texas fatmucket",sciname:"Lampsilis bracteata",spcode:"F04I",vipcode:"I01",entity_id:10038,status:"Final",leadoffice:21450,fedreg:"89FR48034 48130",pubdate:"20240604",source_id:2006,objectid:724,listing_st:"Endangered",ch_id:14,ch_str_id:"a-14"},{comname:"Aboriginal Prickly-apple",sciname:"Harrisia (=Cereus) aboriginum (=gracilis)",spcode:"Q0DR",vipcode:"P01",entity_id:2211,status:"Final",leadoffice:41411,fedreg:"81FR3865 3925",pubdate:"20160122",source_id:1962,objectid:687,listing_st:"Endangered",ch_id:140,ch_str_id:"a-140"},{comname:"West Indian Manatee",sciname:"Trichechus manatus",spcode:"A007",vipcode:"V01",entity_id:7,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1100,objectid:145,listing_st:"Threatened",ch_id:140,ch_str_id:"a-140"},{comname:"rufa red knot",sciname:"Calidris canutus rufa",spcode:"B0DM",vipcode:"V01",entity_id:8621,status:"Proposed",leadoffice:52421,fedreg:"88FR22530 22693",pubdate:"20230413",source_id:2094,objectid:813,listing_st:"Threatened",ch_id:140,ch_str_id:"a-140"},{comname:"Green sea turtle",sciname:"Chelonia mydas",spcode:"C00S",vipcode:"V12",entity_id:11192,status:"Proposed",leadoffice:41411,fedreg:"88FR46376 46570",pubdate:"20230719",source_id:2063,objectid:809,listing_st:"Threatened",ch_id:140,ch_str_id:"a-140"},{comname:"Aboriginal Prickly-apple",sciname:"Harrisia (=Cereus) aboriginum (=gracilis)",spcode:"Q0DR",vipcode:"P01",entity_id:2211,status:"Final",leadoffice:41411,fedreg:"81FR3865 3925",pubdate:"20160122",source_id:1962,objectid:687,listing_st:"Endangered",ch_id:141,ch_str_id:"a-141"},{comname:"Green sea turtle",sciname:"Chelonia mydas",spcode:"C00S",vipcode:"V12",entity_id:11192,status:"Proposed",leadoffice:41411,fedreg:"88FR46376 46570",pubdate:"20230719",source_id:2063,objectid:809,listing_st:"Threatened",ch_id:141,ch_str_id:"a-141"},{comname:"rufa red knot",sciname:"Calidris canutus rufa",spcode:"B0DM",vipcode:"V01",entity_id:8621,status:"Proposed",leadoffice:52421,fedreg:"88FR22530 22693",pubdate:"20230413",source_id:2094,objectid:813,listing_st:"Threatened",ch_id:141,ch_str_id:"a-141"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:141,ch_str_id:"a-141"},{comname:"American crocodile",sciname:"Crocodylus acutus",spcode:"C02J",vipcode:"V01",entity_id:176,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1054,objectid:103,listing_st:"Threatened",ch_id:142,ch_str_id:"a-142"},{comname:"Cape Sable Thoroughwort",sciname:"Chromolaena frustrata",spcode:"Q3HJ",vipcode:"P01",entity_id:8336,status:"Final",leadoffice:41411,fedreg:"79FR1551 1590",pubdate:"20140108",source_id:1534,objectid:308,listing_st:"Endangered",ch_id:142,ch_str_id:"a-142"},{comname:"Florida Keys mole skink",sciname:"Plestiodon egregius egregius",spcode:"C03U",vipcode:"V01",entity_id:2238,status:"Proposed",leadoffice:40120,fedreg:"87FR58649",pubdate:"20220927",source_id:2042,objectid:760,listing_st:"Proposed Threatened",ch_id:142,ch_str_id:"a-142"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:142,ch_str_id:"a-142"},{comname:"American crocodile",sciname:"Crocodylus acutus",spcode:"C02J",vipcode:"V01",entity_id:176,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1054,objectid:103,listing_st:"Threatened",ch_id:143,ch_str_id:"a-143"},{comname:"Florida semaphore Cactus",sciname:"Consolea corallicola",spcode:"Q3HT",vipcode:"P01",entity_id:1525,status:"Final",leadoffice:41411,fedreg:"81FR3865 3925",pubdate:"20160122",source_id:1963,objectid:688,listing_st:"Endangered",ch_id:143,ch_str_id:"a-143"},{comname:"American crocodile",sciname:"Crocodylus acutus",spcode:"C02J",vipcode:"V01",entity_id:176,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1054,objectid:103,listing_st:"Threatened",ch_id:144,ch_str_id:"a-144"},{comname:"West Indian Manatee",sciname:"Trichechus manatus",spcode:"A007",vipcode:"V01",entity_id:7,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1100,objectid:145,listing_st:"Threatened",ch_id:144,ch_str_id:"a-144"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:144,ch_str_id:"a-144"},{comname:"Florida Keys mole skink",sciname:"Plestiodon egregius egregius",spcode:"C03U",vipcode:"V01",entity_id:2238,status:"Proposed",leadoffice:40120,fedreg:"87FR58649",pubdate:"20220927",source_id:2042,objectid:760,listing_st:"Proposed Threatened",ch_id:144,ch_str_id:"a-144"},{comname:"Cape Sable Thoroughwort",sciname:"Chromolaena frustrata",spcode:"Q3HJ",vipcode:"P01",entity_id:8336,status:"Final",leadoffice:41411,fedreg:"79FR1551 1590",pubdate:"20140108",source_id:1534,objectid:308,listing_st:"Endangered",ch_id:144,ch_str_id:"a-144"},{comname:"Florida semaphore Cactus",sciname:"Consolea corallicola",spcode:"Q3HT",vipcode:"P01",entity_id:1525,status:"Final",leadoffice:41411,fedreg:"81FR3865 3925",pubdate:"20160122",source_id:1963,objectid:688,listing_st:"Endangered",ch_id:144,ch_str_id:"a-144"},{comname:"Florida leafwing Butterfly",sciname:"Anaea troglodyta floridalis",spcode:"I087",vipcode:"I01",entity_id:8083,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1531,objectid:306,listing_st:"Endangered",ch_id:145,ch_str_id:"a-145"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:145,ch_str_id:"a-145"},{comname:"Cape Sable Thoroughwort",sciname:"Chromolaena frustrata",spcode:"Q3HJ",vipcode:"P01",entity_id:8336,status:"Final",leadoffice:41411,fedreg:"79FR1551 1590",pubdate:"20140108",source_id:1534,objectid:308,listing_st:"Endangered",ch_id:145,ch_str_id:"a-145"},{comname:"Florida Keys mole skink",sciname:"Plestiodon egregius egregius",spcode:"C03U",vipcode:"V01",entity_id:2238,status:"Proposed",leadoffice:40120,fedreg:"87FR58649",pubdate:"20220927",source_id:2042,objectid:760,listing_st:"Proposed Threatened",ch_id:145,ch_str_id:"a-145"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:145,ch_str_id:"a-145"},{comname:"Florida semaphore Cactus",sciname:"Consolea corallicola",spcode:"Q3HT",vipcode:"P01",entity_id:1525,status:"Final",leadoffice:41411,fedreg:"81FR3865 3925",pubdate:"20160122",source_id:1963,objectid:688,listing_st:"Endangered",ch_id:145,ch_str_id:"a-145"},{comname:"Key ring-necked snake",sciname:"Diadophis punctatus acricus",spcode:"C040",vipcode:"V01",entity_id:2084,status:"Proposed",leadoffice:41411,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2047,objectid:765,listing_st:"Proposed Endangered",ch_id:145,ch_str_id:"a-145"},{comname:"Florida brickell-bush",sciname:"Brickellia mosieri",spcode:"Q09E",vipcode:"P01",entity_id:4420,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1532,objectid:307,listing_st:"Endangered",ch_id:145,ch_str_id:"a-145"},{comname:"Miami tiger beetle",sciname:"Cicindelidia floridana",spcode:"I0XA",vipcode:"I01",entity_id:10909,status:"Final",leadoffice:41411,fedreg:"88FR33194 33238",pubdate:"20230523",source_id:2009,objectid:729,listing_st:"Endangered",ch_id:145,ch_str_id:"a-145"},{comname:"Carter's small-flowered flax",sciname:"Linum carteri carteri",spcode:"Q14I",vipcode:"P01",entity_id:7206,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1539,objectid:312,listing_st:"Endangered",ch_id:145,ch_str_id:"a-145"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:146,ch_str_id:"a-146"},{comname:"Carter's small-flowered flax",sciname:"Linum carteri carteri",spcode:"Q14I",vipcode:"P01",entity_id:7206,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1539,objectid:312,listing_st:"Endangered",ch_id:146,ch_str_id:"a-146"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:147,ch_str_id:"a-147"},{comname:"Cape Sable Thoroughwort",sciname:"Chromolaena frustrata",spcode:"Q3HJ",vipcode:"P01",entity_id:8336,status:"Final",leadoffice:41411,fedreg:"79FR1551 1590",pubdate:"20140108",source_id:1534,objectid:308,listing_st:"Endangered",ch_id:147,ch_str_id:"a-147"},{comname:"Florida semaphore Cactus",sciname:"Consolea corallicola",spcode:"Q3HT",vipcode:"P01",entity_id:1525,status:"Final",leadoffice:41411,fedreg:"81FR3865 3925",pubdate:"20160122",source_id:1963,objectid:688,listing_st:"Endangered",ch_id:147,ch_str_id:"a-147"},{comname:"West Indian Manatee",sciname:"Trichechus manatus",spcode:"A007",vipcode:"V01",entity_id:7,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1100,objectid:145,listing_st:"Threatened",ch_id:148,ch_str_id:"a-148"},{comname:"Green sea turtle",sciname:"Chelonia mydas",spcode:"C00S",vipcode:"V12",entity_id:11192,status:"Proposed",leadoffice:41411,fedreg:"88FR46376 46570",pubdate:"20230719",source_id:2063,objectid:809,listing_st:"Threatened",ch_id:148,ch_str_id:"a-148"},{comname:"rufa red knot",sciname:"Calidris canutus rufa",spcode:"B0DM",vipcode:"V01",entity_id:8621,status:"Proposed",leadoffice:52421,fedreg:"88FR22530 22693",pubdate:"20230413",source_id:2094,objectid:813,listing_st:"Threatened",ch_id:148,ch_str_id:"a-148"},{comname:"Green sea turtle",sciname:"Chelonia mydas",spcode:"C00S",vipcode:"V12",entity_id:11192,status:"Proposed",leadoffice:41411,fedreg:"88FR46376 46570",pubdate:"20230719",source_id:2063,objectid:809,listing_st:"Threatened",ch_id:149,ch_str_id:"a-149"},{comname:"Choctawhatchee beach mouse",sciname:"Peromyscus polionotus allophrys",spcode:"A08B",vipcode:"V01",entity_id:34,status:"Final",leadoffice:41411,fedreg:"71FR60238 60370",pubdate:"20061012",source_id:43,objectid:23,listing_st:"Endangered",ch_id:149,ch_str_id:"a-149"},{comname:"Willowy monardella",sciname:"Monardella viminea",spcode:"Q18M",vipcode:"P01",entity_id:576,status:"Final",leadoffice:11430,fedreg:"77FR13394 13447",pubdate:"20120306",source_id:1337,objectid:222,listing_st:"Endangered",ch_id:15,ch_str_id:"a-15"},{comname:"Green sea turtle",sciname:"Chelonia mydas",spcode:"C00S",vipcode:"V12",entity_id:11192,status:"Proposed",leadoffice:41411,fedreg:"88FR46376 46570",pubdate:"20230719",source_id:2063,objectid:809,listing_st:"Threatened",ch_id:150,ch_str_id:"a-150"},{comname:"St. Andrew beach mouse",sciname:"Peromyscus polionotus peninsularis",spcode:"A0CB",vipcode:"V01",entity_id:54,status:"Final",leadoffice:41411,fedreg:"71FR60238 60370",pubdate:"20061012",source_id:1240,objectid:199,listing_st:"Endangered",ch_id:150,ch_str_id:"a-150"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:150,ch_str_id:"a-150"},{comname:"Choctawhatchee beach mouse",sciname:"Peromyscus polionotus allophrys",spcode:"A08B",vipcode:"V01",entity_id:34,status:"Final",leadoffice:41411,fedreg:"71FR60238 60370",pubdate:"20061012",source_id:43,objectid:23,listing_st:"Endangered",ch_id:152,ch_str_id:"a-152"},{comname:"Gulf sturgeon",sciname:"Acipenser oxyrinchus (=oxyrhynchus) desotoi",spcode:"E04W",vipcode:"V01",entity_id:286,status:"Final",leadoffice:41411,fedreg:"68FR13370 13495",pubdate:"20030319",source_id:1096,objectid:141,listing_st:"Threatened",ch_id:152,ch_str_id:"a-152"},{comname:"St. Andrew beach mouse",sciname:"Peromyscus polionotus peninsularis",spcode:"A0CB",vipcode:"V01",entity_id:54,status:"Final",leadoffice:41411,fedreg:"71FR60238 60370",pubdate:"20061012",source_id:1240,objectid:199,listing_st:"Endangered",ch_id:153,ch_str_id:"a-153"},{comname:"Gulf sturgeon",sciname:"Acipenser oxyrinchus (=oxyrhynchus) desotoi",spcode:"E04W",vipcode:"V01",entity_id:286,status:"Final",leadoffice:41411,fedreg:"68FR13370 13495",pubdate:"20030319",source_id:1096,objectid:141,listing_st:"Threatened",ch_id:153,ch_str_id:"a-153"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:153,ch_str_id:"a-153"},{comname:"Perdido Key beach mouse",sciname:"Peromyscus polionotus trissyllepsis",spcode:"A08C",vipcode:"V01",entity_id:35,status:"Final",leadoffice:41411,fedreg:"71FR60238 60370",pubdate:"20061012",source_id:44,objectid:24,listing_st:"Endangered",ch_id:154,ch_str_id:"a-154"},{comname:"Gulf sturgeon",sciname:"Acipenser oxyrinchus (=oxyrhynchus) desotoi",spcode:"E04W",vipcode:"V01",entity_id:286,status:"Final",leadoffice:41411,fedreg:"68FR13370 13495",pubdate:"20030319",source_id:1096,objectid:141,listing_st:"Threatened",ch_id:154,ch_str_id:"a-154"},{comname:"Southern elktoe",sciname:"Alasmidonta triangulata",spcode:"F04N",vipcode:"I01",entity_id:10829,status:"Proposed",leadoffice:41411,fedreg:"88FR40160 40189",pubdate:"20230621",source_id:2079,objectid:799,listing_st:"Proposed Endangered",ch_id:155,ch_str_id:"a-155"},{comname:"Fat threeridge (mussel)",sciname:"Amblema neislerii",spcode:"F032",vipcode:"I01",entity_id:375,status:"Final",leadoffice:41411,fedreg:"72FR64286 64340",pubdate:"20071115",source_id:315,objectid:812,listing_st:"Endangered",ch_id:155,ch_str_id:"a-155"},{comname:"Florida Keys mole skink",sciname:"Plestiodon egregius egregius",spcode:"C03U",vipcode:"V01",entity_id:2238,status:"Proposed",leadoffice:40120,fedreg:"87FR58649",pubdate:"20220927",source_id:2042,objectid:760,listing_st:"Proposed Threatened",ch_id:156,ch_str_id:"a-156"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:156,ch_str_id:"a-156"},{comname:"Key ring-necked snake",sciname:"Diadophis punctatus acricus",spcode:"C040",vipcode:"V01",entity_id:2084,status:"Proposed",leadoffice:41411,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2047,objectid:765,listing_st:"Proposed Endangered",ch_id:156,ch_str_id:"a-156"},{comname:"Florida Keys mole skink",sciname:"Plestiodon egregius egregius",spcode:"C03U",vipcode:"V01",entity_id:2238,status:"Proposed",leadoffice:40120,fedreg:"87FR58649",pubdate:"20220927",source_id:2042,objectid:760,listing_st:"Proposed Threatened",ch_id:157,ch_str_id:"a-157"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:157,ch_str_id:"a-157"},{comname:"American crocodile",sciname:"Crocodylus acutus",spcode:"C02J",vipcode:"V01",entity_id:176,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1054,objectid:103,listing_st:"Threatened",ch_id:157,ch_str_id:"a-157"},{comname:"Florida Keys mole skink",sciname:"Plestiodon egregius egregius",spcode:"C03U",vipcode:"V01",entity_id:2238,status:"Proposed",leadoffice:40120,fedreg:"87FR58649",pubdate:"20220927",source_id:2042,objectid:760,listing_st:"Proposed Threatened",ch_id:158,ch_str_id:"a-158"},{comname:"American crocodile",sciname:"Crocodylus acutus",spcode:"C02J",vipcode:"V01",entity_id:176,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1054,objectid:103,listing_st:"Threatened",ch_id:158,ch_str_id:"a-158"},{comname:"Cape Sable Thoroughwort",sciname:"Chromolaena frustrata",spcode:"Q3HJ",vipcode:"P01",entity_id:8336,status:"Final",leadoffice:41411,fedreg:"79FR1551 1590",pubdate:"20140108",source_id:1534,objectid:308,listing_st:"Endangered",ch_id:158,ch_str_id:"a-158"},{comname:"Florida Keys mole skink",sciname:"Plestiodon egregius egregius",spcode:"C03U",vipcode:"V01",entity_id:2238,status:"Proposed",leadoffice:40120,fedreg:"87FR58649",pubdate:"20220927",source_id:2042,objectid:760,listing_st:"Proposed Threatened",ch_id:159,ch_str_id:"a-159"},{comname:"Florida leafwing Butterfly",sciname:"Anaea troglodyta floridalis",spcode:"I087",vipcode:"I01",entity_id:8083,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1531,objectid:306,listing_st:"Endangered",ch_id:159,ch_str_id:"a-159"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:159,ch_str_id:"a-159"},{comname:"Cape Sable Thoroughwort",sciname:"Chromolaena frustrata",spcode:"Q3HJ",vipcode:"P01",entity_id:8336,status:"Final",leadoffice:41411,fedreg:"79FR1551 1590",pubdate:"20140108",source_id:1534,objectid:308,listing_st:"Endangered",ch_id:159,ch_str_id:"a-159"},{comname:"Florida semaphore Cactus",sciname:"Consolea corallicola",spcode:"Q3HT",vipcode:"P01",entity_id:1525,status:"Final",leadoffice:41411,fedreg:"81FR3865 3925",pubdate:"20160122",source_id:1963,objectid:688,listing_st:"Endangered",ch_id:159,ch_str_id:"a-159"},{comname:"Acuña Cactus",sciname:"Echinomastus erectocentrus var. acunensis",spcode:"Q0OU",vipcode:"P01",entity_id:7054,status:"Final",leadoffice:22410,fedreg:"81FR55266 55313",pubdate:"20160818",source_id:1948,objectid:676,listing_st:"Endangered",ch_id:16,ch_str_id:"a-16"},{comname:"Florida Keys mole skink",sciname:"Plestiodon egregius egregius",spcode:"C03U",vipcode:"V01",entity_id:2238,status:"Proposed",leadoffice:40120,fedreg:"87FR58649",pubdate:"20220927",source_id:2042,objectid:760,listing_st:"Proposed Threatened",ch_id:160,ch_str_id:"a-160"},{comname:"Cape Sable Thoroughwort",sciname:"Chromolaena frustrata",spcode:"Q3HJ",vipcode:"P01",entity_id:8336,status:"Final",leadoffice:41411,fedreg:"79FR1551 1590",pubdate:"20140108",source_id:1534,objectid:308,listing_st:"Endangered",ch_id:160,ch_str_id:"a-160"},{comname:"Florida semaphore Cactus",sciname:"Consolea corallicola",spcode:"Q3HT",vipcode:"P01",entity_id:1525,status:"Final",leadoffice:41411,fedreg:"81FR3865 3925",pubdate:"20160122",source_id:1963,objectid:688,listing_st:"Endangered",ch_id:160,ch_str_id:"a-160"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:161,ch_str_id:"a-161"},{comname:"Florida bonneted bat",sciname:"Eumops floridanus",spcode:"A0JB",vipcode:"V01",entity_id:9725,status:"Final",leadoffice:41411,fedreg:"89FR16624 16681",pubdate:"20240307",source_id:1979,objectid:697,listing_st:"Endangered",ch_id:161,ch_str_id:"a-161"},{comname:"Miami tiger beetle",sciname:"Cicindelidia floridana",spcode:"I0XA",vipcode:"I01",entity_id:10909,status:"Final",leadoffice:41411,fedreg:"88FR33194 33238",pubdate:"20230523",source_id:2009,objectid:729,listing_st:"Endangered",ch_id:161,ch_str_id:"a-161"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:162,ch_str_id:"a-162"},{comname:"Florida bonneted bat",sciname:"Eumops floridanus",spcode:"A0JB",vipcode:"V01",entity_id:9725,status:"Final",leadoffice:41411,fedreg:"89FR16624 16681",pubdate:"20240307",source_id:1979,objectid:697,listing_st:"Endangered",ch_id:162,ch_str_id:"a-162"},{comname:"Florida bristle fern",sciname:"Trichomanes punctatum ssp. floridanum",spcode:"S02G",vipcode:"P01",entity_id:9721,status:"Final",leadoffice:41411,fedreg:"87FR78582 78610",pubdate:"20221222",source_id:2049,objectid:767,listing_st:"Endangered",ch_id:162,ch_str_id:"a-162"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:164,ch_str_id:"a-164"},{comname:"Florida leafwing Butterfly",sciname:"Anaea troglodyta floridalis",spcode:"I087",vipcode:"I01",entity_id:8083,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1531,objectid:306,listing_st:"Endangered",ch_id:164,ch_str_id:"a-164"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:164,ch_str_id:"a-164"},{comname:"Florida bonneted bat",sciname:"Eumops floridanus",spcode:"A0JB",vipcode:"V01",entity_id:9725,status:"Final",leadoffice:41411,fedreg:"89FR16624 16681",pubdate:"20240307",source_id:1979,objectid:697,listing_st:"Endangered",ch_id:165,ch_str_id:"a-165"},{comname:"Florida brickell-bush",sciname:"Brickellia mosieri",spcode:"Q09E",vipcode:"P01",entity_id:4420,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1532,objectid:307,listing_st:"Endangered",ch_id:165,ch_str_id:"a-165"},{comname:"Carter's small-flowered flax",sciname:"Linum carteri carteri",spcode:"Q14I",vipcode:"P01",entity_id:7206,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1539,objectid:312,listing_st:"Endangered",ch_id:165,ch_str_id:"a-165"},{comname:"Florida bonneted bat",sciname:"Eumops floridanus",spcode:"A0JB",vipcode:"V01",entity_id:9725,status:"Final",leadoffice:41411,fedreg:"89FR16624 16681",pubdate:"20240307",source_id:1979,objectid:697,listing_st:"Endangered",ch_id:166,ch_str_id:"a-166"},{comname:"Florida leafwing Butterfly",sciname:"Anaea troglodyta floridalis",spcode:"I087",vipcode:"I01",entity_id:8083,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1531,objectid:306,listing_st:"Endangered",ch_id:166,ch_str_id:"a-166"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:166,ch_str_id:"a-166"},{comname:"Florida bonneted bat",sciname:"Eumops floridanus",spcode:"A0JB",vipcode:"V01",entity_id:9725,status:"Final",leadoffice:41411,fedreg:"89FR16624 16681",pubdate:"20240307",source_id:1979,objectid:697,listing_st:"Endangered",ch_id:167,ch_str_id:"a-167"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:167,ch_str_id:"a-167"},{comname:"Florida bristle fern",sciname:"Trichomanes punctatum ssp. floridanum",spcode:"S02G",vipcode:"P01",entity_id:9721,status:"Final",leadoffice:41411,fedreg:"87FR78582 78610",pubdate:"20221222",source_id:2049,objectid:767,listing_st:"Endangered",ch_id:167,ch_str_id:"a-167"},{comname:"Florida brickell-bush",sciname:"Brickellia mosieri",spcode:"Q09E",vipcode:"P01",entity_id:4420,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1532,objectid:307,listing_st:"Endangered",ch_id:168,ch_str_id:"a-168"},{comname:"Miami tiger beetle",sciname:"Cicindelidia floridana",spcode:"I0XA",vipcode:"I01",entity_id:10909,status:"Final",leadoffice:41411,fedreg:"88FR33194 33238",pubdate:"20230523",source_id:2009,objectid:729,listing_st:"Endangered",ch_id:168,ch_str_id:"a-168"},{comname:"Carter's small-flowered flax",sciname:"Linum carteri carteri",spcode:"Q14I",vipcode:"P01",entity_id:7206,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1539,objectid:312,listing_st:"Endangered",ch_id:168,ch_str_id:"a-168"},{comname:"Florida brickell-bush",sciname:"Brickellia mosieri",spcode:"Q09E",vipcode:"P01",entity_id:4420,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1532,objectid:307,listing_st:"Endangered",ch_id:169,ch_str_id:"a-169"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:169,ch_str_id:"a-169"},{comname:"Carter's small-flowered flax",sciname:"Linum carteri carteri",spcode:"Q14I",vipcode:"P01",entity_id:7206,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1539,objectid:312,listing_st:"Endangered",ch_id:169,ch_str_id:"a-169"},{comname:"Texas fawnsfoot",sciname:"Truncilla macrodon",spcode:"F04E",vipcode:"I01",entity_id:9967,status:"Final",leadoffice:21450,fedreg:"89FR48034 48130",pubdate:"20240604",source_id:2007,objectid:725,listing_st:"Threatened",ch_id:17,ch_str_id:"a-17"},{comname:"Cape Sable seaside sparrow",sciname:"Ammospiza maritima mirabilis",spcode:"B00Q",vipcode:"V01",entity_id:85,status:"Final",leadoffice:41411,fedreg:"72FR62736 62766",pubdate:"20071106",source_id:1060,objectid:109,listing_st:"Endangered",ch_id:170,ch_str_id:"a-170"},{comname:"Florida leafwing Butterfly",sciname:"Anaea troglodyta floridalis",spcode:"I087",vipcode:"I01",entity_id:8083,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1531,objectid:306,listing_st:"Endangered",ch_id:170,ch_str_id:"a-170"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:170,ch_str_id:"a-170"},{comname:"American crocodile",sciname:"Crocodylus acutus",spcode:"C02J",vipcode:"V01",entity_id:176,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1054,objectid:103,listing_st:"Threatened",ch_id:172,ch_str_id:"a-172"},{comname:"Cape Sable Thoroughwort",sciname:"Chromolaena frustrata",spcode:"Q3HJ",vipcode:"P01",entity_id:8336,status:"Final",leadoffice:41411,fedreg:"79FR1551 1590",pubdate:"20140108",source_id:1534,objectid:308,listing_st:"Endangered",ch_id:172,ch_str_id:"a-172"},{comname:"Florida semaphore Cactus",sciname:"Consolea corallicola",spcode:"Q3HT",vipcode:"P01",entity_id:1525,status:"Final",leadoffice:41411,fedreg:"81FR3865 3925",pubdate:"20160122",source_id:1963,objectid:688,listing_st:"Endangered",ch_id:172,ch_str_id:"a-172"},{comname:"Florida Keys mole skink",sciname:"Plestiodon egregius egregius",spcode:"C03U",vipcode:"V01",entity_id:2238,status:"Proposed",leadoffice:40120,fedreg:"87FR58649",pubdate:"20220927",source_id:2042,objectid:760,listing_st:"Proposed Threatened",ch_id:173,ch_str_id:"a-173"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:173,ch_str_id:"a-173"},{comname:"Cape Sable Thoroughwort",sciname:"Chromolaena frustrata",spcode:"Q3HJ",vipcode:"P01",entity_id:8336,status:"Final",leadoffice:41411,fedreg:"79FR1551 1590",pubdate:"20140108",source_id:1534,objectid:308,listing_st:"Endangered",ch_id:173,ch_str_id:"a-173"},{comname:"Florida semaphore Cactus",sciname:"Consolea corallicola",spcode:"Q3HT",vipcode:"P01",entity_id:1525,status:"Final",leadoffice:41411,fedreg:"81FR3865 3925",pubdate:"20160122",source_id:1963,objectid:688,listing_st:"Endangered",ch_id:173,ch_str_id:"a-173"},{comname:"Florida Keys mole skink",sciname:"Plestiodon egregius egregius",spcode:"C03U",vipcode:"V01",entity_id:2238,status:"Proposed",leadoffice:40120,fedreg:"87FR58649",pubdate:"20220927",source_id:2042,objectid:760,listing_st:"Proposed Threatened",ch_id:174,ch_str_id:"a-174"},{comname:"American crocodile",sciname:"Crocodylus acutus",spcode:"C02J",vipcode:"V01",entity_id:176,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1054,objectid:103,listing_st:"Threatened",ch_id:174,ch_str_id:"a-174"},{comname:"Cape Sable Thoroughwort",sciname:"Chromolaena frustrata",spcode:"Q3HJ",vipcode:"P01",entity_id:8336,status:"Final",leadoffice:41411,fedreg:"79FR1551 1590",pubdate:"20140108",source_id:1534,objectid:308,listing_st:"Endangered",ch_id:174,ch_str_id:"a-174"},{comname:"Florida semaphore Cactus",sciname:"Consolea corallicola",spcode:"Q3HT",vipcode:"P01",entity_id:1525,status:"Final",leadoffice:41411,fedreg:"81FR3865 3925",pubdate:"20160122",source_id:1963,objectid:688,listing_st:"Endangered",ch_id:174,ch_str_id:"a-174"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:175,ch_str_id:"a-175"},{comname:"Key ring-necked snake",sciname:"Diadophis punctatus acricus",spcode:"C040",vipcode:"V01",entity_id:2084,status:"Proposed",leadoffice:41411,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2047,objectid:765,listing_st:"Proposed Endangered",ch_id:175,ch_str_id:"a-175"},{comname:"Florida leafwing Butterfly",sciname:"Anaea troglodyta floridalis",spcode:"I087",vipcode:"I01",entity_id:8083,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1531,objectid:306,listing_st:"Endangered",ch_id:175,ch_str_id:"a-175"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:175,ch_str_id:"a-175"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:176,ch_str_id:"a-176"},{comname:"Key ring-necked snake",sciname:"Diadophis punctatus acricus",spcode:"C040",vipcode:"V01",entity_id:2084,status:"Proposed",leadoffice:41411,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2047,objectid:765,listing_st:"Proposed Endangered",ch_id:176,ch_str_id:"a-176"},{comname:"Cape Sable Thoroughwort",sciname:"Chromolaena frustrata",spcode:"Q3HJ",vipcode:"P01",entity_id:8336,status:"Final",leadoffice:41411,fedreg:"79FR1551 1590",pubdate:"20140108",source_id:1534,objectid:308,listing_st:"Endangered",ch_id:176,ch_str_id:"a-176"},{comname:"Florida semaphore Cactus",sciname:"Consolea corallicola",spcode:"Q3HT",vipcode:"P01",entity_id:1525,status:"Final",leadoffice:41411,fedreg:"81FR3865 3925",pubdate:"20160122",source_id:1963,objectid:688,listing_st:"Endangered",ch_id:176,ch_str_id:"a-176"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:177,ch_str_id:"a-177"},{comname:"Florida bonneted bat",sciname:"Eumops floridanus",spcode:"A0JB",vipcode:"V01",entity_id:9725,status:"Final",leadoffice:41411,fedreg:"89FR16624 16681",pubdate:"20240307",source_id:1979,objectid:697,listing_st:"Endangered",ch_id:177,ch_str_id:"a-177"},{comname:"Florida brickell-bush",sciname:"Brickellia mosieri",spcode:"Q09E",vipcode:"P01",entity_id:4420,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1532,objectid:307,listing_st:"Endangered",ch_id:177,ch_str_id:"a-177"},{comname:"Carter's small-flowered flax",sciname:"Linum carteri carteri",spcode:"Q14I",vipcode:"P01",entity_id:7206,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1539,objectid:312,listing_st:"Endangered",ch_id:177,ch_str_id:"a-177"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:178,ch_str_id:"a-178"},{comname:"Florida bonneted bat",sciname:"Eumops floridanus",spcode:"A0JB",vipcode:"V01",entity_id:9725,status:"Final",leadoffice:41411,fedreg:"89FR16624 16681",pubdate:"20240307",source_id:1979,objectid:697,listing_st:"Endangered",ch_id:178,ch_str_id:"a-178"},{comname:"Florida leafwing Butterfly",sciname:"Anaea troglodyta floridalis",spcode:"I087",vipcode:"I01",entity_id:8083,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1531,objectid:306,listing_st:"Endangered",ch_id:178,ch_str_id:"a-178"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:178,ch_str_id:"a-178"},{comname:"Peck's cave amphipod",sciname:"Stygobromus (=Stygonectes) pecki",spcode:"K019",vipcode:"I01",entity_id:477,status:"Final",leadoffice:21450,fedreg:"78FR63100 63127",pubdate:"20131023",source_id:1324,objectid:211,listing_st:"Endangered",ch_id:18,ch_str_id:"a-18"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:180,ch_str_id:"a-180"},{comname:"American crocodile",sciname:"Crocodylus acutus",spcode:"C02J",vipcode:"V01",entity_id:176,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1054,objectid:103,listing_st:"Threatened",ch_id:180,ch_str_id:"a-180"},{comname:"Cape Sable Thoroughwort",sciname:"Chromolaena frustrata",spcode:"Q3HJ",vipcode:"P01",entity_id:8336,status:"Final",leadoffice:41411,fedreg:"79FR1551 1590",pubdate:"20140108",source_id:1534,objectid:308,listing_st:"Endangered",ch_id:180,ch_str_id:"a-180"},{comname:"Florida semaphore Cactus",sciname:"Consolea corallicola",spcode:"Q3HT",vipcode:"P01",entity_id:1525,status:"Final",leadoffice:41411,fedreg:"81FR3865 3925",pubdate:"20160122",source_id:1963,objectid:688,listing_st:"Endangered",ch_id:180,ch_str_id:"a-180"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:181,ch_str_id:"a-181"},{comname:"Florida leafwing Butterfly",sciname:"Anaea troglodyta floridalis",spcode:"I087",vipcode:"I01",entity_id:8083,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1531,objectid:306,listing_st:"Endangered",ch_id:181,ch_str_id:"a-181"},{comname:"Miami tiger beetle",sciname:"Cicindelidia floridana",spcode:"I0XA",vipcode:"I01",entity_id:10909,status:"Final",leadoffice:41411,fedreg:"88FR33194 33238",pubdate:"20230523",source_id:2009,objectid:729,listing_st:"Endangered",ch_id:181,ch_str_id:"a-181"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:181,ch_str_id:"a-181"},{comname:"Florida bonneted bat",sciname:"Eumops floridanus",spcode:"A0JB",vipcode:"V01",entity_id:9725,status:"Final",leadoffice:41411,fedreg:"89FR16624 16681",pubdate:"20240307",source_id:1979,objectid:697,listing_st:"Endangered",ch_id:182,ch_str_id:"a-182"},{comname:"Florida brickell-bush",sciname:"Brickellia mosieri",spcode:"Q09E",vipcode:"P01",entity_id:4420,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1532,objectid:307,listing_st:"Endangered",ch_id:182,ch_str_id:"a-182"},{comname:"Miami tiger beetle",sciname:"Cicindelidia floridana",spcode:"I0XA",vipcode:"I01",entity_id:10909,status:"Final",leadoffice:41411,fedreg:"88FR33194 33238",pubdate:"20230523",source_id:2009,objectid:729,listing_st:"Endangered",ch_id:182,ch_str_id:"a-182"},{comname:"Carter's small-flowered flax",sciname:"Linum carteri carteri",spcode:"Q14I",vipcode:"P01",entity_id:7206,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1539,objectid:312,listing_st:"Endangered",ch_id:182,ch_str_id:"a-182"},{comname:"Florida bonneted bat",sciname:"Eumops floridanus",spcode:"A0JB",vipcode:"V01",entity_id:9725,status:"Final",leadoffice:41411,fedreg:"89FR16624 16681",pubdate:"20240307",source_id:1979,objectid:697,listing_st:"Endangered",ch_id:183,ch_str_id:"a-183"},{comname:"Florida brickell-bush",sciname:"Brickellia mosieri",spcode:"Q09E",vipcode:"P01",entity_id:4420,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1532,objectid:307,listing_st:"Endangered",ch_id:183,ch_str_id:"a-183"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:183,ch_str_id:"a-183"},{comname:"Carter's small-flowered flax",sciname:"Linum carteri carteri",spcode:"Q14I",vipcode:"P01",entity_id:7206,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1539,objectid:312,listing_st:"Endangered",ch_id:183,ch_str_id:"a-183"},{comname:"Florida bonneted bat",sciname:"Eumops floridanus",spcode:"A0JB",vipcode:"V01",entity_id:9725,status:"Final",leadoffice:41411,fedreg:"89FR16624 16681",pubdate:"20240307",source_id:1979,objectid:697,listing_st:"Endangered",ch_id:184,ch_str_id:"a-184"},{comname:"Cape Sable seaside sparrow",sciname:"Ammospiza maritima mirabilis",spcode:"B00Q",vipcode:"V01",entity_id:85,status:"Final",leadoffice:41411,fedreg:"72FR62736 62766",pubdate:"20071106",source_id:1060,objectid:109,listing_st:"Endangered",ch_id:184,ch_str_id:"a-184"},{comname:"Florida leafwing Butterfly",sciname:"Anaea troglodyta floridalis",spcode:"I087",vipcode:"I01",entity_id:8083,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1531,objectid:306,listing_st:"Endangered",ch_id:184,ch_str_id:"a-184"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:184,ch_str_id:"a-184"},{comname:"Florida bonneted bat",sciname:"Eumops floridanus",spcode:"A0JB",vipcode:"V01",entity_id:9725,status:"Final",leadoffice:41411,fedreg:"89FR16624 16681",pubdate:"20240307",source_id:1979,objectid:697,listing_st:"Endangered",ch_id:185,ch_str_id:"a-185"},{comname:"Florida leafwing Butterfly",sciname:"Anaea troglodyta floridalis",spcode:"I087",vipcode:"I01",entity_id:8083,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1531,objectid:306,listing_st:"Endangered",ch_id:185,ch_str_id:"a-185"},{comname:"Miami tiger beetle",sciname:"Cicindelidia floridana",spcode:"I0XA",vipcode:"I01",entity_id:10909,status:"Final",leadoffice:41411,fedreg:"88FR33194 33238",pubdate:"20230523",source_id:2009,objectid:729,listing_st:"Endangered",ch_id:185,ch_str_id:"a-185"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:185,ch_str_id:"a-185"},{comname:"Florida brickell-bush",sciname:"Brickellia mosieri",spcode:"Q09E",vipcode:"P01",entity_id:4420,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1532,objectid:307,listing_st:"Endangered",ch_id:186,ch_str_id:"a-186"},{comname:"Florida leafwing Butterfly",sciname:"Anaea troglodyta floridalis",spcode:"I087",vipcode:"I01",entity_id:8083,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1531,objectid:306,listing_st:"Endangered",ch_id:186,ch_str_id:"a-186"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:186,ch_str_id:"a-186"},{comname:"Carter's small-flowered flax",sciname:"Linum carteri carteri",spcode:"Q14I",vipcode:"P01",entity_id:7206,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1539,objectid:312,listing_st:"Endangered",ch_id:186,ch_str_id:"a-186"},{comname:"Florida Keys mole skink",sciname:"Plestiodon egregius egregius",spcode:"C03U",vipcode:"V01",entity_id:2238,status:"Proposed",leadoffice:40120,fedreg:"87FR58649",pubdate:"20220927",source_id:2042,objectid:760,listing_st:"Proposed Threatened",ch_id:188,ch_str_id:"a-188"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:188,ch_str_id:"a-188"},{comname:"Key ring-necked snake",sciname:"Diadophis punctatus acricus",spcode:"C040",vipcode:"V01",entity_id:2084,status:"Proposed",leadoffice:41411,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2047,objectid:765,listing_st:"Proposed Endangered",ch_id:188,ch_str_id:"a-188"},{comname:"Florida leafwing Butterfly",sciname:"Anaea troglodyta floridalis",spcode:"I087",vipcode:"I01",entity_id:8083,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1531,objectid:306,listing_st:"Endangered",ch_id:188,ch_str_id:"a-188"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:188,ch_str_id:"a-188"},{comname:"Cape Sable Thoroughwort",sciname:"Chromolaena frustrata",spcode:"Q3HJ",vipcode:"P01",entity_id:8336,status:"Final",leadoffice:41411,fedreg:"79FR1551 1590",pubdate:"20140108",source_id:1534,objectid:308,listing_st:"Endangered",ch_id:188,ch_str_id:"a-188"},{comname:"Florida semaphore Cactus",sciname:"Consolea corallicola",spcode:"Q3HT",vipcode:"P01",entity_id:1525,status:"Final",leadoffice:41411,fedreg:"81FR3865 3925",pubdate:"20160122",source_id:1963,objectid:688,listing_st:"Endangered",ch_id:188,ch_str_id:"a-188"},{comname:"Florida Keys mole skink",sciname:"Plestiodon egregius egregius",spcode:"C03U",vipcode:"V01",entity_id:2238,status:"Proposed",leadoffice:40120,fedreg:"87FR58649",pubdate:"20220927",source_id:2042,objectid:760,listing_st:"Proposed Threatened",ch_id:189,ch_str_id:"a-189"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:189,ch_str_id:"a-189"},{comname:"Key ring-necked snake",sciname:"Diadophis punctatus acricus",spcode:"C040",vipcode:"V01",entity_id:2084,status:"Proposed",leadoffice:41411,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2047,objectid:765,listing_st:"Proposed Endangered",ch_id:189,ch_str_id:"a-189"},{comname:"Cape Sable Thoroughwort",sciname:"Chromolaena frustrata",spcode:"Q3HJ",vipcode:"P01",entity_id:8336,status:"Final",leadoffice:41411,fedreg:"79FR1551 1590",pubdate:"20140108",source_id:1534,objectid:308,listing_st:"Endangered",ch_id:189,ch_str_id:"a-189"},{comname:"Florida semaphore Cactus",sciname:"Consolea corallicola",spcode:"Q3HT",vipcode:"P01",entity_id:1525,status:"Final",leadoffice:41411,fedreg:"81FR3865 3925",pubdate:"20160122",source_id:1963,objectid:688,listing_st:"Endangered",ch_id:189,ch_str_id:"a-189"},{comname:"Texas wild-rice",sciname:"Zizania texana",spcode:"Q24A",vipcode:"P01",entity_id:870,status:"Final",leadoffice:21450,fedreg:"45FR47355 47364",pubdate:"19800714",source_id:380,objectid:34,listing_st:"Endangered",ch_id:19,ch_str_id:"a-19"},{comname:"Florida Keys mole skink",sciname:"Plestiodon egregius egregius",spcode:"C03U",vipcode:"V01",entity_id:2238,status:"Proposed",leadoffice:40120,fedreg:"87FR58649",pubdate:"20220927",source_id:2042,objectid:760,listing_st:"Proposed Threatened",ch_id:190,ch_str_id:"a-190"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:190,ch_str_id:"a-190"},{comname:"American crocodile",sciname:"Crocodylus acutus",spcode:"C02J",vipcode:"V01",entity_id:176,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1054,objectid:103,listing_st:"Threatened",ch_id:190,ch_str_id:"a-190"},{comname:"Cape Sable Thoroughwort",sciname:"Chromolaena frustrata",spcode:"Q3HJ",vipcode:"P01",entity_id:8336,status:"Final",leadoffice:41411,fedreg:"79FR1551 1590",pubdate:"20140108",source_id:1534,objectid:308,listing_st:"Endangered",ch_id:190,ch_str_id:"a-190"},{comname:"Florida semaphore Cactus",sciname:"Consolea corallicola",spcode:"Q3HT",vipcode:"P01",entity_id:1525,status:"Final",leadoffice:41411,fedreg:"81FR3865 3925",pubdate:"20160122",source_id:1963,objectid:688,listing_st:"Endangered",ch_id:190,ch_str_id:"a-190"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:191,ch_str_id:"a-191"},{comname:"Florida bonneted bat",sciname:"Eumops floridanus",spcode:"A0JB",vipcode:"V01",entity_id:9725,status:"Final",leadoffice:41411,fedreg:"89FR16624 16681",pubdate:"20240307",source_id:1979,objectid:697,listing_st:"Endangered",ch_id:191,ch_str_id:"a-191"},{comname:"Florida brickell-bush",sciname:"Brickellia mosieri",spcode:"Q09E",vipcode:"P01",entity_id:4420,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1532,objectid:307,listing_st:"Endangered",ch_id:191,ch_str_id:"a-191"},{comname:"Miami tiger beetle",sciname:"Cicindelidia floridana",spcode:"I0XA",vipcode:"I01",entity_id:10909,status:"Final",leadoffice:41411,fedreg:"88FR33194 33238",pubdate:"20230523",source_id:2009,objectid:729,listing_st:"Endangered",ch_id:191,ch_str_id:"a-191"},{comname:"Carter's small-flowered flax",sciname:"Linum carteri carteri",spcode:"Q14I",vipcode:"P01",entity_id:7206,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1539,objectid:312,listing_st:"Endangered",ch_id:191,ch_str_id:"a-191"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:192,ch_str_id:"a-192"},{comname:"Florida bonneted bat",sciname:"Eumops floridanus",spcode:"A0JB",vipcode:"V01",entity_id:9725,status:"Final",leadoffice:41411,fedreg:"89FR16624 16681",pubdate:"20240307",source_id:1979,objectid:697,listing_st:"Endangered",ch_id:192,ch_str_id:"a-192"},{comname:"Florida brickell-bush",sciname:"Brickellia mosieri",spcode:"Q09E",vipcode:"P01",entity_id:4420,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1532,objectid:307,listing_st:"Endangered",ch_id:192,ch_str_id:"a-192"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:192,ch_str_id:"a-192"},{comname:"Carter's small-flowered flax",sciname:"Linum carteri carteri",spcode:"Q14I",vipcode:"P01",entity_id:7206,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1539,objectid:312,listing_st:"Endangered",ch_id:192,ch_str_id:"a-192"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:193,ch_str_id:"a-193"},{comname:"Florida bonneted bat",sciname:"Eumops floridanus",spcode:"A0JB",vipcode:"V01",entity_id:9725,status:"Final",leadoffice:41411,fedreg:"89FR16624 16681",pubdate:"20240307",source_id:1979,objectid:697,listing_st:"Endangered",ch_id:193,ch_str_id:"a-193"},{comname:"Florida leafwing Butterfly",sciname:"Anaea troglodyta floridalis",spcode:"I087",vipcode:"I01",entity_id:8083,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1531,objectid:306,listing_st:"Endangered",ch_id:193,ch_str_id:"a-193"},{comname:"Miami tiger beetle",sciname:"Cicindelidia floridana",spcode:"I0XA",vipcode:"I01",entity_id:10909,status:"Final",leadoffice:41411,fedreg:"88FR33194 33238",pubdate:"20230523",source_id:2009,objectid:729,listing_st:"Endangered",ch_id:193,ch_str_id:"a-193"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:193,ch_str_id:"a-193"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:194,ch_str_id:"a-194"},{comname:"Florida brickell-bush",sciname:"Brickellia mosieri",spcode:"Q09E",vipcode:"P01",entity_id:4420,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1532,objectid:307,listing_st:"Endangered",ch_id:194,ch_str_id:"a-194"},{comname:"Florida leafwing Butterfly",sciname:"Anaea troglodyta floridalis",spcode:"I087",vipcode:"I01",entity_id:8083,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1531,objectid:306,listing_st:"Endangered",ch_id:194,ch_str_id:"a-194"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:194,ch_str_id:"a-194"},{comname:"Carter's small-flowered flax",sciname:"Linum carteri carteri",spcode:"Q14I",vipcode:"P01",entity_id:7206,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1539,objectid:312,listing_st:"Endangered",ch_id:194,ch_str_id:"a-194"},{comname:"Florida bonneted bat",sciname:"Eumops floridanus",spcode:"A0JB",vipcode:"V01",entity_id:9725,status:"Final",leadoffice:41411,fedreg:"89FR16624 16681",pubdate:"20240307",source_id:1979,objectid:697,listing_st:"Endangered",ch_id:195,ch_str_id:"a-195"},{comname:"Florida brickell-bush",sciname:"Brickellia mosieri",spcode:"Q09E",vipcode:"P01",entity_id:4420,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1532,objectid:307,listing_st:"Endangered",ch_id:195,ch_str_id:"a-195"},{comname:"Florida leafwing Butterfly",sciname:"Anaea troglodyta floridalis",spcode:"I087",vipcode:"I01",entity_id:8083,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1531,objectid:306,listing_st:"Endangered",ch_id:195,ch_str_id:"a-195"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:195,ch_str_id:"a-195"},{comname:"Carter's small-flowered flax",sciname:"Linum carteri carteri",spcode:"Q14I",vipcode:"P01",entity_id:7206,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1539,objectid:312,listing_st:"Endangered",ch_id:195,ch_str_id:"a-195"},{comname:"Florida bonneted bat",sciname:"Eumops floridanus",spcode:"A0JB",vipcode:"V01",entity_id:9725,status:"Final",leadoffice:41411,fedreg:"89FR16624 16681",pubdate:"20240307",source_id:1979,objectid:697,listing_st:"Endangered",ch_id:196,ch_str_id:"a-196"},{comname:"Florida brickell-bush",sciname:"Brickellia mosieri",spcode:"Q09E",vipcode:"P01",entity_id:4420,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1532,objectid:307,listing_st:"Endangered",ch_id:196,ch_str_id:"a-196"},{comname:"Miami tiger beetle",sciname:"Cicindelidia floridana",spcode:"I0XA",vipcode:"I01",entity_id:10909,status:"Final",leadoffice:41411,fedreg:"88FR33194 33238",pubdate:"20230523",source_id:2009,objectid:729,listing_st:"Endangered",ch_id:196,ch_str_id:"a-196"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:196,ch_str_id:"a-196"},{comname:"Carter's small-flowered flax",sciname:"Linum carteri carteri",spcode:"Q14I",vipcode:"P01",entity_id:7206,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1539,objectid:312,listing_st:"Endangered",ch_id:196,ch_str_id:"a-196"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:197,ch_str_id:"a-197"},{comname:"Florida bonneted bat",sciname:"Eumops floridanus",spcode:"A0JB",vipcode:"V01",entity_id:9725,status:"Final",leadoffice:41411,fedreg:"89FR16624 16681",pubdate:"20240307",source_id:1979,objectid:697,listing_st:"Endangered",ch_id:197,ch_str_id:"a-197"},{comname:"Florida brickell-bush",sciname:"Brickellia mosieri",spcode:"Q09E",vipcode:"P01",entity_id:4420,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1532,objectid:307,listing_st:"Endangered",ch_id:197,ch_str_id:"a-197"},{comname:"Florida leafwing Butterfly",sciname:"Anaea troglodyta floridalis",spcode:"I087",vipcode:"I01",entity_id:8083,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1531,objectid:306,listing_st:"Endangered",ch_id:197,ch_str_id:"a-197"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:197,ch_str_id:"a-197"},{comname:"Carter's small-flowered flax",sciname:"Linum carteri carteri",spcode:"Q14I",vipcode:"P01",entity_id:7206,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1539,objectid:312,listing_st:"Endangered",ch_id:197,ch_str_id:"a-197"},{comname:"Florida bonneted bat",sciname:"Eumops floridanus",spcode:"A0JB",vipcode:"V01",entity_id:9725,status:"Final",leadoffice:41411,fedreg:"89FR16624 16681",pubdate:"20240307",source_id:1979,objectid:697,listing_st:"Endangered",ch_id:199,ch_str_id:"a-199"},{comname:"Florida brickell-bush",sciname:"Brickellia mosieri",spcode:"Q09E",vipcode:"P01",entity_id:4420,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1532,objectid:307,listing_st:"Endangered",ch_id:199,ch_str_id:"a-199"},{comname:"Florida leafwing Butterfly",sciname:"Anaea troglodyta floridalis",spcode:"I087",vipcode:"I01",entity_id:8083,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1531,objectid:306,listing_st:"Endangered",ch_id:199,ch_str_id:"a-199"},{comname:"Miami tiger beetle",sciname:"Cicindelidia floridana",spcode:"I0XA",vipcode:"I01",entity_id:10909,status:"Final",leadoffice:41411,fedreg:"88FR33194 33238",pubdate:"20230523",source_id:2009,objectid:729,listing_st:"Endangered",ch_id:199,ch_str_id:"a-199"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:199,ch_str_id:"a-199"},{comname:"Carter's small-flowered flax",sciname:"Linum carteri carteri",spcode:"Q14I",vipcode:"P01",entity_id:7206,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1539,objectid:312,listing_st:"Endangered",ch_id:199,ch_str_id:"a-199"},{comname:"Madla Cave Meshweaver",sciname:"Cicurina madla",spcode:"J019",vipcode:"I01",entity_id:471,status:"Final",leadoffice:21450,fedreg:"77FR8450 8523",pubdate:"20120214",source_id:473,objectid:42,listing_st:"Endangered",ch_id:2,ch_str_id:"a-2"},{comname:"Todsen's pennyroyal",sciname:"Hedeoma todsenii",spcode:"Q24C",vipcode:"P01",entity_id:871,status:"Final",leadoffice:22420,fedreg:"46FR5730 5733",pubdate:"19810119",source_id:36,objectid:17,listing_st:"Endangered",ch_id:20,ch_str_id:"a-20"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:200,ch_str_id:"a-200"},{comname:"Florida bonneted bat",sciname:"Eumops floridanus",spcode:"A0JB",vipcode:"V01",entity_id:9725,status:"Final",leadoffice:41411,fedreg:"89FR16624 16681",pubdate:"20240307",source_id:1979,objectid:697,listing_st:"Endangered",ch_id:200,ch_str_id:"a-200"},{comname:"Florida brickell-bush",sciname:"Brickellia mosieri",spcode:"Q09E",vipcode:"P01",entity_id:4420,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1532,objectid:307,listing_st:"Endangered",ch_id:200,ch_str_id:"a-200"},{comname:"Florida leafwing Butterfly",sciname:"Anaea troglodyta floridalis",spcode:"I087",vipcode:"I01",entity_id:8083,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1531,objectid:306,listing_st:"Endangered",ch_id:200,ch_str_id:"a-200"},{comname:"Miami tiger beetle",sciname:"Cicindelidia floridana",spcode:"I0XA",vipcode:"I01",entity_id:10909,status:"Final",leadoffice:41411,fedreg:"88FR33194 33238",pubdate:"20230523",source_id:2009,objectid:729,listing_st:"Endangered",ch_id:200,ch_str_id:"a-200"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:200,ch_str_id:"a-200"},{comname:"Carter's small-flowered flax",sciname:"Linum carteri carteri",spcode:"Q14I",vipcode:"P01",entity_id:7206,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1539,objectid:312,listing_st:"Endangered",ch_id:200,ch_str_id:"a-200"},{comname:"Slickspot peppergrass",sciname:"Lepidium papilliferum",spcode:"Q34X",vipcode:"P01",entity_id:2810,status:"Final",leadoffice:14420,fedreg:"88FR28874 28916",pubdate:"20230504",source_id:1484,objectid:275,listing_st:"Threatened",ch_id:201,ch_str_id:"a-201"},{comname:"Webber's ivesia",sciname:"Ivesia webberi",spcode:"Q34J",vipcode:"P01",entity_id:2458,status:"Final",leadoffice:14320,fedreg:"79FR32125 32155",pubdate:"20140603",source_id:1821,objectid:327,listing_st:"Threatened",ch_id:202,ch_str_id:"a-202"},{comname:"Umtanum desert buckwheat",sciname:"Eriogonum codium",spcode:"Q3HN",vipcode:"P01",entity_id:6490,status:"Final",leadoffice:13410,fedreg:"78FR76995 77005",pubdate:"20131220",source_id:1536,objectid:309,listing_st:"Threatened",ch_id:203,ch_str_id:"a-203"},{comname:"Greater sage-grouse",sciname:"Centrocercus urophasianus",spcode:"B06W",vipcode:"V03",entity_id:9337,status:"Proposed",leadoffice:14320,fedreg:"78FR64328 64355",pubdate:"20131028",source_id:2090,objectid:808,listing_st:"Proposed Threatened",ch_id:204,ch_str_id:"a-204"},{comname:"San Joaquin Valley Orcutt grass",sciname:"Orcuttia inaequalis",spcode:"Q1ZP",vipcode:"P01",entity_id:786,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1089,objectid:134,listing_st:"Threatened",ch_id:205,ch_str_id:"a-205"},{comname:"Amargosa vole",sciname:"Microtus californicus scirpensis",spcode:"A082",vipcode:"V01",entity_id:28,status:"Final",leadoffice:11430,fedreg:"49FR45160 45164",pubdate:"19841115",source_id:1053,objectid:102,listing_st:"Endangered",ch_id:206,ch_str_id:"a-206"},{comname:"Oregon spotted frog",sciname:"Rana pretiosa",spcode:"D02A",vipcode:"V01",entity_id:4090,status:"Final",leadoffice:13420,fedreg:"81FR29336 29396",pubdate:"20160511",source_id:1503,objectid:291,listing_st:"Threatened",ch_id:207,ch_str_id:"a-207"},{comname:"Colorado pikeminnow",sciname:"Ptychocheilus lucius",spcode:"E006",vipcode:"V01",entity_id:215,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:6,objectid:1,listing_st:"Endangered",ch_id:208,ch_str_id:"a-208"},{comname:"Humpback chub",sciname:"Gila cypha",spcode:"E000",vipcode:"V01",entity_id:209,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:15,objectid:6,listing_st:"Threatened",ch_id:208,ch_str_id:"a-208"},{comname:"Jemez Mountains salamander",sciname:"Plethodon neomexicanus",spcode:"D019",vipcode:"V01",entity_id:3849,status:"Final",leadoffice:22420,fedreg:"78FR69569 69591",pubdate:"20131120",source_id:1494,objectid:283,listing_st:"Endangered",ch_id:209,ch_str_id:"a-209"},{comname:"Vail Lake ceanothus",sciname:"Ceanothus ophiochilus",spcode:"Q3AH",vipcode:"P01",entity_id:1166,status:"Final",leadoffice:11430,fedreg:"72FR54984 55010",pubdate:"20070927",source_id:1325,objectid:212,listing_st:"Threatened",ch_id:21,ch_str_id:"a-21"},{comname:"White sturgeon",sciname:"Acipenser transmontanus",spcode:"E087",vipcode:"V01",entity_id:314,status:"Final",leadoffice:14420,fedreg:"73FR39506 39523",pubdate:"20080709",source_id:1188,objectid:194,listing_st:"Endangered",ch_id:210,ch_str_id:"a-210"},{comname:"Marbled Murrelet",sciname:"Brachyramphus marmoratus",spcode:"B08C",vipcode:"V01",entity_id:143,status:"Final",leadoffice:13410,fedreg:"81FR51348 51370",pubdate:"20160804",source_id:810,objectid:67,listing_st:"Threatened",ch_id:211,ch_str_id:"a-211"},{comname:"Taylor's (=whulge) Checkerspot",sciname:"Euphydryas editha taylori",spcode:"I0T6",vipcode:"I01",entity_id:7495,status:"Final",leadoffice:13410,fedreg:"78FR61505 61589",pubdate:"20131003",source_id:1476,objectid:269,listing_st:"Endangered",ch_id:211,ch_str_id:"a-211"},{comname:"Rio Grande Silvery Minnow",sciname:"Hybognathus amarus",spcode:"E07I",vipcode:"V01",entity_id:309,status:"Final",leadoffice:22420,fedreg:"68FR8088 8135",pubdate:"20030219",source_id:28,objectid:13,listing_st:"Endangered",ch_id:212,ch_str_id:"a-212"},{comname:"Arkansas River shiner",sciname:"Notropis girardi",spcode:"E05X",vipcode:"V01",entity_id:299,status:"Final",leadoffice:21440,fedreg:"70FR59808 59846",pubdate:"20051013",source_id:850,objectid:69,listing_st:"Threatened",ch_id:213,ch_str_id:"a-213"},{comname:"California tiger Salamander",sciname:"Ambystoma californiense",spcode:"D01T",vipcode:"V02",entity_id:203,status:"Final",leadoffice:11420,fedreg:"76FR54346 54372",pubdate:"20110831",source_id:1376,objectid:247,listing_st:"Endangered",ch_id:214,ch_str_id:"a-214"},{comname:"Sand dune phacelia",sciname:"Phacelia argentea",spcode:"Q2FB",vipcode:"P01",entity_id:7270,status:"Final",leadoffice:13420,fedreg:"88FR57180 57222",pubdate:"20230822",source_id:2036,objectid:754,listing_st:"Threatened",ch_id:215,ch_str_id:"a-215"},{comname:"California tiger Salamander",sciname:"Ambystoma californiense",spcode:"D01T",vipcode:"V01",entity_id:8395,status:"Final",leadoffice:11440,fedreg:"69FR68568 68609",pubdate:"20041124",source_id:952,objectid:80,listing_st:"Endangered",ch_id:216,ch_str_id:"a-216"},{comname:"Wenatchee Mountains checkermallow",sciname:"Sidalcea oregana var. calva",spcode:"Q1OT",vipcode:"P01",entity_id:611,status:"Final",leadoffice:13410,fedreg:"66FR46536 46548",pubdate:"20010906",source_id:1185,objectid:191,listing_st:"Endangered",ch_id:217,ch_str_id:"a-217"},{comname:"Sierra Nevada bighorn sheep",sciname:"Ovis canadensis sierrae",spcode:"A0DS",vipcode:"V01",entity_id:57,status:"Final",leadoffice:14320,fedreg:"73FR45534 45604",pubdate:"20080805",source_id:1361,objectid:237,listing_st:"Endangered",ch_id:218,ch_str_id:"a-218"},{comname:"Fender's blue butterfly",sciname:"Icaricia icarioides fenderi",spcode:"I0IS",vipcode:"I01",entity_id:450,status:"Final",leadoffice:13420,fedreg:"71FR63862 63977",pubdate:"20061031",source_id:1260,objectid:200,listing_st:"Threatened",ch_id:219,ch_str_id:"a-219"},{comname:"San Diego thornmint",sciname:"Acanthomintha ilicifolia",spcode:"Q00E",vipcode:"P01",entity_id:496,status:"Final",leadoffice:11430,fedreg:"73FR50454 50496",pubdate:"20080826",source_id:1335,objectid:220,listing_st:"Threatened",ch_id:22,ch_str_id:"a-22"},{comname:"Santa Ana sucker",sciname:"Catostomus santaanae",spcode:"E07W",vipcode:"V01",entity_id:312,status:"Final",leadoffice:11430,fedreg:"75FR77962 78027",pubdate:"20101214",source_id:676,objectid:60,listing_st:"Threatened",ch_id:220,ch_str_id:"a-220"},{comname:"Gierisch mallow",sciname:"Sphaeralcea gierischii",spcode:"Q3LJ",vipcode:"P01",entity_id:9929,status:"Final",leadoffice:22410,fedreg:"78FR49165 49183",pubdate:"20130813",source_id:1523,objectid:299,listing_st:"Endangered",ch_id:221,ch_str_id:"a-221"},{comname:"Clay-Loving wild buckwheat",sciname:"Eriogonum pelinophilum",spcode:"Q29P",vipcode:"P01",entity_id:930,status:"Final",leadoffice:65413,fedreg:"49FR28562 28565",pubdate:"19840713",source_id:1061,objectid:110,listing_st:"Endangered",ch_id:222,ch_str_id:"a-222"},{comname:"Dakota Skipper",sciname:"Hesperia dacotae",spcode:"I011",vipcode:"I01",entity_id:3412,status:"Final",leadoffice:32410,fedreg:"80FR59247 59384",pubdate:"20151001",source_id:1479,objectid:272,listing_st:"Threatened",ch_id:223,ch_str_id:"a-223"},{comname:"Fickeisen plains cactus",sciname:"Pediocactus peeblesianus ssp. fickeiseniae",spcode:"Q1C9",vipcode:"P01",entity_id:4179,status:"Final",leadoffice:22410,fedreg:"81FR55266 55313",pubdate:"20160818",source_id:1947,objectid:675,listing_st:"Endangered",ch_id:224,ch_str_id:"a-224"},{comname:"Bull Trout",sciname:"Salvelinus confluentus",spcode:"E065",vipcode:"V06",entity_id:301,status:"Final",leadoffice:14420,fedreg:"75FR63898 64070",pubdate:"20101018",source_id:830,objectid:68,listing_st:"Threatened",ch_id:225,ch_str_id:"a-225"},{comname:"Humpback chub",sciname:"Gila cypha",spcode:"E000",vipcode:"V01",entity_id:209,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:15,objectid:6,listing_st:"Threatened",ch_id:226,ch_str_id:"a-226"},{comname:"Bear Valley sandwort",sciname:"Arenaria ursina",spcode:"Q03Z",vipcode:"P01",entity_id:506,status:"Final",leadoffice:11430,fedreg:"72FR73092 73178",pubdate:"20071226",source_id:1329,objectid:215,listing_st:"Threatened",ch_id:227,ch_str_id:"a-227"},{comname:"California taraxacum",sciname:"Taraxacum californicum",spcode:"Q1SB",vipcode:"P01",entity_id:614,status:"Final",leadoffice:11430,fedreg:"73FR47706 47767",pubdate:"20080814",source_id:1334,objectid:219,listing_st:"Endangered",ch_id:228,ch_str_id:"a-228"},{comname:"Sierra Nevada Yellow-legged Frog",sciname:"Rana sierrae",spcode:"D04M",vipcode:"V01",entity_id:10517,status:"Final",leadoffice:11420,fedreg:"81FR59045 59119",pubdate:"20160826",source_id:1502,objectid:290,listing_st:"Endangered",ch_id:229,ch_str_id:"a-229"},{comname:"Mountain yellow-legged frog",sciname:"Rana muscosa",spcode:"D02H",vipcode:"V02",entity_id:1740,status:"Final",leadoffice:11420,fedreg:"81FR59045 59119",pubdate:"20160826",source_id:1501,objectid:289,listing_st:"Endangered",ch_id:229,ch_str_id:"a-229"},{comname:"Otay tarplant",sciname:"Deinandra (=Hemizonia) conjugens",spcode:"Q0YQ",vipcode:"P01",entity_id:559,status:"Final",leadoffice:11430,fedreg:"67FR76030 76053",pubdate:"20021210",source_id:667,objectid:53,listing_st:"Threatened",ch_id:23,ch_str_id:"a-23"},{comname:"Yadon's piperia",sciname:"Piperia yadonii",spcode:"Q3FA",vipcode:"P01",entity_id:1171,status:"Final",leadoffice:11440,fedreg:"72FR60410 60450",pubdate:"20071024",source_id:1372,objectid:243,listing_st:"Endangered",ch_id:230,ch_str_id:"a-230"},{comname:"Desert yellowhead",sciname:"Yermo xanthocephalus",spcode:"Q3GI",vipcode:"P01",entity_id:1174,status:"Final",leadoffice:61411,fedreg:"69FR12278 12290",pubdate:"20040316",source_id:1051,objectid:101,listing_st:"Threatened",ch_id:231,ch_str_id:"a-231"},{comname:"Kern Canyon slender salamander",sciname:"Batrachoseps simatus",spcode:"D01A",vipcode:"V01",entity_id:8302,status:"Proposed",leadoffice:11420,fedreg:"88FR81028 81038",pubdate:"20231121",source_id:2045,objectid:763,listing_st:"Proposed Threatened",ch_id:232,ch_str_id:"a-232"},{comname:"Willamette daisy",sciname:"Erigeron decumbens",spcode:"Q2TF",vipcode:"P01",entity_id:1233,status:"Final",leadoffice:13420,fedreg:"71FR63862 63977",pubdate:"20061031",source_id:1262,objectid:202,listing_st:"Endangered",ch_id:233,ch_str_id:"a-233"},{comname:"Cushenbury buckwheat",sciname:"Eriogonum ovalifolium var. vineum",spcode:"Q1W8",vipcode:"P01",entity_id:710,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:662,objectid:49,listing_st:"Endangered",ch_id:234,ch_str_id:"a-234"},{comname:"Lassics lupine",sciname:"Lupinus constancei",spcode:"Q2PS",vipcode:"P01",entity_id:3295,status:"Final",leadoffice:11331,fedreg:"88FR69074 69098",pubdate:"20231005",source_id:2087,objectid:805,listing_st:"Endangered",ch_id:235,ch_str_id:"a-235"},{comname:"Pagosa skyrocket",sciname:"Ipomopsis polyantha",spcode:"Q2U7",vipcode:"P01",entity_id:4724,status:"Final",leadoffice:65413,fedreg:"77FR48367 48418",pubdate:"20120813",source_id:1491,objectid:280,listing_st:"Endangered",ch_id:236,ch_str_id:"a-236"},{comname:"Relictual slender salamander",sciname:"Batrachoseps relictus",spcode:"D02V",vipcode:"V01",entity_id:5688,status:"Proposed",leadoffice:11420,fedreg:"88FR81028 81038",pubdate:"20231121",source_id:2044,objectid:762,listing_st:"Proposed Endangered",ch_id:237,ch_str_id:"a-237"},{comname:"Braunton's milk-vetch",sciname:"Astragalus brauntonii",spcode:"Q05E",vipcode:"P01",entity_id:507,status:"Final",leadoffice:11440,fedreg:"71FR66374 66423",pubdate:"20061114",source_id:1319,objectid:206,listing_st:"Endangered",ch_id:238,ch_str_id:"a-238"},{comname:"Ventura Marsh Milk-vetch",sciname:"Astragalus pycnostachyus var. lanosissimus",spcode:"Q076",vipcode:"P01",entity_id:511,status:"Final",leadoffice:11440,fedreg:"69FR29081 29100",pubdate:"20040520",source_id:970,objectid:95,listing_st:"Endangered",ch_id:239,ch_str_id:"a-239"},{comname:"Western Snowy Plover",sciname:"Charadrius nivosus nivosus",spcode:"B07C",vipcode:"V01",entity_id:132,status:"Final",leadoffice:11331,fedreg:"77FR36727 36869",pubdate:"20120619",source_id:890,objectid:73,listing_st:"Threatened",ch_id:239,ch_str_id:"a-239"},{comname:"Comal Springs riffle beetle",sciname:"Heterelmis comalensis",spcode:"I0MH",vipcode:"I01",entity_id:453,status:"Final",leadoffice:21450,fedreg:"78FR63100 63127",pubdate:"20131023",source_id:1323,objectid:210,listing_st:"Endangered",ch_id:24,ch_str_id:"a-24"},{comname:"San Marcos salamander",sciname:"Eurycea nana",spcode:"D00I",vipcode:"V01",entity_id:194,status:"Final",leadoffice:21450,fedreg:"45FR47355 47364",pubdate:"19800714",source_id:31,objectid:15,listing_st:"Threatened",ch_id:24,ch_str_id:"a-24"},{comname:"Texas wild-rice",sciname:"Zizania texana",spcode:"Q24A",vipcode:"P01",entity_id:870,status:"Final",leadoffice:21450,fedreg:"45FR47355 47364",pubdate:"19800714",source_id:380,objectid:34,listing_st:"Endangered",ch_id:24,ch_str_id:"a-24"},{comname:"Fountain darter",sciname:"Etheostoma fonticola",spcode:"E00T",vipcode:"V01",entity_id:228,status:"Final",leadoffice:21450,fedreg:"45FR47355 47364",pubdate:"19800714",source_id:382,objectid:36,listing_st:"Endangered",ch_id:24,ch_str_id:"a-24"},{comname:"Fleshy owl's-clover",sciname:"Castilleja campestris ssp. succulenta",spcode:"Q0CG",vipcode:"P01",entity_id:522,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1082,objectid:127,listing_st:"Threatened",ch_id:240,ch_str_id:"a-240"},{comname:"Greene's tuctoria",sciname:"Tuctoria greenei",spcode:"Q23K",vipcode:"P01",entity_id:858,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1097,objectid:142,listing_st:"Endangered",ch_id:240,ch_str_id:"a-240"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:240,ch_str_id:"a-240"},{comname:"Hoover's spurge",sciname:"Chamaesyce hooveri",spcode:"Q0E9",vipcode:"P01",entity_id:527,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1084,objectid:129,listing_st:"Threatened",ch_id:241,ch_str_id:"a-241"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:241,ch_str_id:"a-241"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:241,ch_str_id:"a-241"},{comname:"La Graciosa thistle",sciname:"Cirsium loncholepis",spcode:"Q0FE",vipcode:"P01",entity_id:531,status:"Final",leadoffice:11440,fedreg:"74FR56978 57046",pubdate:"20091103",source_id:956,objectid:83,listing_st:"Endangered",ch_id:242,ch_str_id:"a-242"},{comname:"Baker's larkspur",sciname:"Delphinium bakeri",spcode:"Q0LZ",vipcode:"P01",entity_id:539,status:"Final",leadoffice:11420,fedreg:"68FR12834 12863",pubdate:"20030318",source_id:1134,objectid:161,listing_st:"Endangered",ch_id:243,ch_str_id:"a-243"},{comname:"Yellow larkspur",sciname:"Delphinium luteum",spcode:"Q0M2",vipcode:"P01",entity_id:540,status:"Final",leadoffice:11420,fedreg:"68FR12834 12863",pubdate:"20030318",source_id:1064,objectid:113,listing_st:"Endangered",ch_id:244,ch_str_id:"a-244"},{comname:"Lompoc yerba santa",sciname:"Eriodictyon capitatum",spcode:"Q0QR",vipcode:"P01",entity_id:546,status:"Final",leadoffice:11440,fedreg:"67FR67968 68001",pubdate:"20021107",source_id:959,objectid:85,listing_st:"Endangered",ch_id:245,ch_str_id:"a-245"},{comname:"Gaviota Tarplant",sciname:"Deinandra increscens ssp. villosa",spcode:"Q340",vipcode:"P01",entity_id:1119,status:"Final",leadoffice:11440,fedreg:"67FR67968 68001",pubdate:"20021107",source_id:957,objectid:84,listing_st:"Endangered",ch_id:245,ch_str_id:"a-245"},{comname:"Santa Cruz tarplant",sciname:"Holocarpha macradenia",spcode:"Q0ZL",vipcode:"P01",entity_id:562,status:"Final",leadoffice:11440,fedreg:"67FR63968 64007",pubdate:"20021016",source_id:961,objectid:87,listing_st:"Threatened",ch_id:246,ch_str_id:"a-246"},{comname:"Contra Costa goldfields",sciname:"Lasthenia conjugens",spcode:"Q122",vipcode:"P01",entity_id:566,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1085,objectid:130,listing_st:"Endangered",ch_id:247,ch_str_id:"a-247"},{comname:"Zayante band-winged grasshopper",sciname:"Trimerotropis infantilis",spcode:"I0OY",vipcode:"I01",entity_id:458,status:"Final",leadoffice:11440,fedreg:"66FR9219 9233",pubdate:"20010207",source_id:971,objectid:96,listing_st:"Endangered",ch_id:248,ch_str_id:"a-248"},{comname:"Little Kern golden trout",sciname:"Oncorhynchus aguabonita whitei",spcode:"E01Z",vipcode:"V01",entity_id:248,status:"Final",leadoffice:11420,fedreg:"43FR15427 15429",pubdate:"19780413",source_id:1069,objectid:118,listing_st:"Threatened",ch_id:249,ch_str_id:"a-249"},{comname:"Comal Springs dryopid beetle",sciname:"Stygoparnus comalensis",spcode:"I0MI",vipcode:"I01",entity_id:454,status:"Final",leadoffice:21450,fedreg:"78FR63100 63127",pubdate:"20131023",source_id:1322,objectid:209,listing_st:"Endangered",ch_id:25,ch_str_id:"a-25"},{comname:"Sacramento Orcutt grass",sciname:"Orcuttia viscida",spcode:"Q1ZQ",vipcode:"P01",entity_id:787,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1092,objectid:137,listing_st:"Endangered",ch_id:250,ch_str_id:"a-250"},{comname:"Malheur wire-lettuce",sciname:"Stephanomeria malheurensis",spcode:"Q221",vipcode:"P01",entity_id:840,status:"Final",leadoffice:13420,fedreg:"47FR50881 50886",pubdate:"19821110",source_id:1153,objectid:174,listing_st:"Endangered",ch_id:251,ch_str_id:"a-251"},{comname:"Peppered chub",sciname:"Macrhybopsis tetranema",spcode:"E072",vipcode:"V01",entity_id:4243,status:"Final",leadoffice:21420,fedreg:"87FR11188 11220",pubdate:"20220228",source_id:2035,objectid:753,listing_st:"Endangered",ch_id:252,ch_str_id:"a-252"},{comname:"Parachute beardtongue",sciname:"Penstemon debilis",spcode:"Q36W",vipcode:"P01",entity_id:1283,status:"Final",leadoffice:65413,fedreg:"77FR48367 48418",pubdate:"20120813",source_id:1493,objectid:282,listing_st:"Threatened",ch_id:253,ch_str_id:"a-253"},{comname:"Slender Orcutt grass",sciname:"Orcuttia tenuis",spcode:"Q1AZ",vipcode:"P01",entity_id:583,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1091,objectid:136,listing_st:"Threatened",ch_id:254,ch_str_id:"a-254"},{comname:"Lyon's pentachaeta",sciname:"Pentachaeta lyonii",spcode:"Q1EA",vipcode:"P01",entity_id:586,status:"Final",leadoffice:11440,fedreg:"71FR66374 66423",pubdate:"20061114",source_id:1320,objectid:207,listing_st:"Endangered",ch_id:255,ch_str_id:"a-255"},{comname:"Keck's Checker-mallow",sciname:"Sidalcea keckii",spcode:"Q1OS",vipcode:"P01",entity_id:610,status:"Final",leadoffice:11420,fedreg:"68FR12863 12880",pubdate:"20030318",source_id:1080,objectid:125,listing_st:"Endangered",ch_id:256,ch_str_id:"a-256"},{comname:"June sucker",sciname:"Chasmistes liorus",spcode:"E050",vipcode:"V01",entity_id:287,status:"Final",leadoffice:65411,fedreg:"51FR10851 10857",pubdate:"19860331",source_id:2025,objectid:745,listing_st:"Threatened",ch_id:257,ch_str_id:"a-257"},{comname:"Holmgren milk-vetch",sciname:"Astragalus holmgreniorum",spcode:"Q2NC",vipcode:"P01",entity_id:1020,status:"Final",leadoffice:65411,fedreg:"71FR77972 78012",pubdate:"20061227",source_id:1358,objectid:234,listing_st:"Endangered",ch_id:258,ch_str_id:"a-258"},{comname:"California tiger Salamander",sciname:"Ambystoma californiense",spcode:"D01T",vipcode:"V03",entity_id:4773,status:"Final",leadoffice:11420,fedreg:"70FR49380 49458",pubdate:"20050823",source_id:1063,objectid:112,listing_st:"Threatened",ch_id:259,ch_str_id:"a-259"},{comname:"Hairy Orcutt grass",sciname:"Orcuttia pilosa",spcode:"Q1AY",vipcode:"P01",entity_id:582,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1090,objectid:135,listing_st:"Endangered",ch_id:259,ch_str_id:"a-259"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:259,ch_str_id:"a-259"},{comname:"San Joaquin Valley Orcutt grass",sciname:"Orcuttia inaequalis",spcode:"Q1ZP",vipcode:"P01",entity_id:786,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1089,objectid:134,listing_st:"Threatened",ch_id:259,ch_str_id:"a-259"},{comname:"Hoover's spurge",sciname:"Chamaesyce hooveri",spcode:"Q0E9",vipcode:"P01",entity_id:527,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1084,objectid:129,listing_st:"Threatened",ch_id:259,ch_str_id:"a-259"},{comname:"Sacramento Orcutt grass",sciname:"Orcuttia viscida",spcode:"Q1ZQ",vipcode:"P01",entity_id:787,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1092,objectid:137,listing_st:"Endangered",ch_id:259,ch_str_id:"a-259"},{comname:"Greene's tuctoria",sciname:"Tuctoria greenei",spcode:"Q23K",vipcode:"P01",entity_id:858,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1097,objectid:142,listing_st:"Endangered",ch_id:259,ch_str_id:"a-259"},{comname:"Fleshy owl's-clover",sciname:"Castilleja campestris ssp. succulenta",spcode:"Q0CG",vipcode:"P01",entity_id:522,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1082,objectid:127,listing_st:"Threatened",ch_id:259,ch_str_id:"a-259"},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:259,ch_str_id:"a-259"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:259,ch_str_id:"a-259"},{comname:"Colusa grass",sciname:"Neostapfia colusana",spcode:"Q19I",vipcode:"P01",entity_id:580,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1088,objectid:133,listing_st:"Threatened",ch_id:259,ch_str_id:"a-259"},{comname:"Texas pimpleback",sciname:"Cyclonaias petrina",spcode:"F04F",vipcode:"I01",entity_id:9968,status:"Final",leadoffice:21450,fedreg:"89FR48034 48130",pubdate:"20240604",source_id:2012,objectid:731,listing_st:"Endangered",ch_id:26,ch_str_id:"a-26"},{comname:"Greene's tuctoria",sciname:"Tuctoria greenei",spcode:"Q23K",vipcode:"P01",entity_id:858,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1097,objectid:142,listing_st:"Endangered",ch_id:260,ch_str_id:"a-260"},{comname:"Hoover's spurge",sciname:"Chamaesyce hooveri",spcode:"Q0E9",vipcode:"P01",entity_id:527,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1084,objectid:129,listing_st:"Threatened",ch_id:260,ch_str_id:"a-260"},{comname:"Slender Orcutt grass",sciname:"Orcuttia tenuis",spcode:"Q1AZ",vipcode:"P01",entity_id:583,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1091,objectid:136,listing_st:"Threatened",ch_id:260,ch_str_id:"a-260"},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:260,ch_str_id:"a-260"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:260,ch_str_id:"a-260"},{comname:"Munz's onion",sciname:"Allium munzii",spcode:"Q2X0",vipcode:"P01",entity_id:1074,status:"Final",leadoffice:11430,fedreg:"78FR22625 22658",pubdate:"20130416",source_id:666,objectid:52,listing_st:"Endangered",ch_id:261,ch_str_id:"a-261"},{comname:"Butte County meadowfoam",sciname:"Limnanthes floccosa ssp. californica",spcode:"Q2YE",vipcode:"P01",entity_id:1081,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1087,objectid:132,listing_st:"Endangered",ch_id:262,ch_str_id:"a-262"},{comname:"Cushenbury milk-vetch",sciname:"Astragalus albens",spcode:"Q2Z7",vipcode:"P01",entity_id:1086,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:660,objectid:47,listing_st:"Endangered",ch_id:263,ch_str_id:"a-263"},{comname:"Shivwits milk-vetch",sciname:"Astragalus ampullarioides",spcode:"Q2ZA",vipcode:"P01",entity_id:1088,status:"Final",leadoffice:65411,fedreg:"71FR77972 78012",pubdate:"20061227",source_id:1359,objectid:235,listing_st:"Endangered",ch_id:264,ch_str_id:"a-264"},{comname:"Gaviota Tarplant",sciname:"Deinandra increscens ssp. villosa",spcode:"Q340",vipcode:"P01",entity_id:1119,status:"Final",leadoffice:11440,fedreg:"67FR67968 68001",pubdate:"20021107",source_id:957,objectid:84,listing_st:"Endangered",ch_id:265,ch_str_id:"a-265"},{comname:"Coachella Valley milk-vetch",sciname:"Astragalus lentiginosus var. coachellae",spcode:"Q25Y",vipcode:"P01",entity_id:886,status:"Final",leadoffice:11430,fedreg:"78FR10449 10497",pubdate:"20130213",source_id:658,objectid:46,listing_st:"Endangered",ch_id:266,ch_str_id:"a-266"},{comname:"Heliotrope milk-vetch",sciname:"Astragalus montii",spcode:"Q260",vipcode:"P01",entity_id:888,status:"Final",leadoffice:65411,fedreg:"52FR42652 42657",pubdate:"19871106",source_id:1068,objectid:117,listing_st:"Threatened",ch_id:267,ch_str_id:"a-267"},{comname:"Monterey spineflower",sciname:"Chorizanthe pungens var. pungens",spcode:"Q271",vipcode:"P01",entity_id:903,status:"Final",leadoffice:11440,fedreg:"73FR1525",pubdate:"20080109",source_id:964,objectid:90,listing_st:"Threatened",ch_id:268,ch_str_id:"a-268"},{comname:"Tidewater goby",sciname:"Eucyclogobius newberryi",spcode:"E071",vipcode:"V01",entity_id:306,status:"Final",leadoffice:11440,fedreg:"78FR8745 8819",pubdate:"20130206",source_id:679,objectid:62,listing_st:"Endangered",ch_id:268,ch_str_id:"a-268"},{comname:"Parish's daisy",sciname:"Erigeron parishii",spcode:"Q29D",vipcode:"P01",entity_id:928,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:669,objectid:55,listing_st:"Threatened",ch_id:269,ch_str_id:"a-269"},{comname:"Hermes copper butterfly",sciname:"Lycaena hermes",spcode:"I05C",vipcode:"I01",entity_id:1984,status:"Final",leadoffice:11430,fedreg:"86FR72394 72433",pubdate:"20211221",source_id:1975,objectid:693,listing_st:"Threatened",ch_id:27,ch_str_id:"a-27"},{comname:"Welsh's milkweed",sciname:"Asclepias welshii",spcode:"Q25M",vipcode:"P01",entity_id:884,status:"Final",leadoffice:65411,fedreg:"52FR41435 41441",pubdate:"19871028",source_id:38,objectid:19,listing_st:"Threatened",ch_id:270,ch_str_id:"a-270"},{comname:"Morro shoulderband (=Banded dune) snail",sciname:"Helminthoglypta walkeriana",spcode:"G00D",vipcode:"I01",entity_id:387,status:"Final",leadoffice:11440,fedreg:"66FR9233 9246",pubdate:"20010207",source_id:965,objectid:91,listing_st:"Threatened",ch_id:271,ch_str_id:"a-271"},{comname:"San Bernardino Mountains bladderpod",sciname:"Lesquerella kingii ssp. bernardina",spcode:"Q2CD",vipcode:"P01",entity_id:958,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:675,objectid:59,listing_st:"Endangered",ch_id:272,ch_str_id:"a-272"},{comname:"Pacific Marten, Coastal Distinct Population Segment",sciname:"Martes caurina",spcode:"A0JI",vipcode:"V01",entity_id:10078,status:"Final",leadoffice:11331,fedreg:"89FR46576 46616",pubdate:"20240529",source_id:2014,objectid:733,listing_st:"Threatened",ch_id:273,ch_str_id:"a-273"},{comname:"Inyo California towhee",sciname:"Melozone crissalis eremophilus",spcode:"B07Q",vipcode:"V01",entity_id:137,status:"Final",leadoffice:11430,fedreg:"52FR28780 28786",pubdate:"19870803",source_id:962,objectid:88,listing_st:"Threatened",ch_id:274,ch_str_id:"a-274"},{comname:"Island marble Butterfly",sciname:"Euchloe ausonides insulanus",spcode:"I0T7",vipcode:"I01",entity_id:5610,status:"Final",leadoffice:13410,fedreg:"85FR26786 26820",pubdate:"20200505",source_id:1957,objectid:683,listing_st:"Endangered",ch_id:275,ch_str_id:"a-275"},{comname:"Yosemite toad",sciname:"Anaxyrus canorus",spcode:"D02K",vipcode:"V01",entity_id:1707,status:"Final",leadoffice:11420,fedreg:"81FR59045 59119",pubdate:"20160826",source_id:1500,objectid:288,listing_st:"Threatened",ch_id:276,ch_str_id:"a-276"},{comname:"Kincaid's Lupine",sciname:"Lupinus sulphureus ssp. kincaidii",spcode:"Q35E",vipcode:"P01",entity_id:1126,status:"Final",leadoffice:13420,fedreg:"71FR63862 63977",pubdate:"20061031",source_id:1261,objectid:201,listing_st:"Threatened",ch_id:277,ch_str_id:"a-277"},{comname:"Southern Mountain Caribou DPS",sciname:"Rangifer tarandus ssp. caribou",spcode:"A088",vipcode:"V01",entity_id:33,status:"Final",leadoffice:14420,fedreg:"77FR71041 71082",pubdate:"20121128",source_id:1456,objectid:262,listing_st:"Endangered",ch_id:278,ch_str_id:"a-278"},{comname:"Ash-grey paintbrush",sciname:"Castilleja cinerea",spcode:"Q0CL",vipcode:"P01",entity_id:523,status:"Final",leadoffice:11430,fedreg:"72FR73092 73178",pubdate:"20071226",source_id:1330,objectid:216,listing_st:"Threatened",ch_id:279,ch_str_id:"a-279"},{comname:"Peirson's milk-vetch",sciname:"Astragalus magdalenae var. peirsonii",spcode:"Q2ND",vipcode:"P01",entity_id:1021,status:"Final",leadoffice:11430,fedreg:"73FR8748 8785",pubdate:"20080214",source_id:670,objectid:56,listing_st:"Threatened",ch_id:28,ch_str_id:"a-28"},{comname:"DeBeque phacelia",sciname:"Phacelia submutica",spcode:"Q1G6",vipcode:"P01",entity_id:7220,status:"Final",leadoffice:65413,fedreg:"77FR48367 48418",pubdate:"20120813",source_id:1492,objectid:281,listing_st:"Threatened",ch_id:280,ch_str_id:"a-280"},{comname:"Tiehm's buckwheat",sciname:"Eriogonum tiehmii",spcode:"Q33B",vipcode:"P01",entity_id:5358,status:"Proposed",leadoffice:14320,fedreg:"87FR6101 6118",pubdate:"20220203",source_id:2032,objectid:750,listing_st:"Endangered",ch_id:281,ch_str_id:"a-281"},{comname:"Morro Bay kangaroo rat",sciname:"Dipodomys heermanni morroensis",spcode:"A03X",vipcode:"V01",entity_id:16,status:"Final",leadoffice:11440,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:963,objectid:89,listing_st:"Endangered",ch_id:282,ch_str_id:"a-282"},{comname:"California condor",sciname:"Gymnogyps californianus",spcode:"B002",vipcode:"V01",entity_id:66,status:"Final",leadoffice:11670,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:953,objectid:81,listing_st:"Endangered",ch_id:283,ch_str_id:"a-283"},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:283,ch_str_id:"a-283"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:283,ch_str_id:"a-283"},{comname:"Buena Vista Lake ornate Shrew",sciname:"Sorex ornatus relictus",spcode:"A0DV",vipcode:"V01",entity_id:58,status:"Final",leadoffice:11420,fedreg:"78FR39835 39867",pubdate:"20130702",source_id:1059,objectid:108,listing_st:"Endangered",ch_id:284,ch_str_id:"a-284"},{comname:"Northern spotted owl",sciname:"Strix occidentalis caurina",spcode:"B08B",vipcode:"V01",entity_id:142,status:"Final",leadoffice:13420,fedreg:"86FR62606 62666",pubdate:"20211110",source_id:791,objectid:65,listing_st:"Threatened",ch_id:285,ch_str_id:"a-285"},{comname:"Coachella Valley fringe-toed lizard",sciname:"Uma inornata",spcode:"C02I",vipcode:"V01",entity_id:175,status:"Final",leadoffice:11430,fedreg:"45FR63812 63820",pubdate:"19800925",source_id:657,objectid:45,listing_st:"Threatened",ch_id:286,ch_str_id:"a-286"},{comname:"Delta green ground beetle",sciname:"Elaphrus viridis",spcode:"I01G",vipcode:"I01",entity_id:435,status:"Final",leadoffice:11420,fedreg:"45FR52807 52810",pubdate:"19800808",source_id:1145,objectid:166,listing_st:"Threatened",ch_id:287,ch_str_id:"a-287"},{comname:"Delta smelt",sciname:"Hypomesus transpacificus",spcode:"E070",vipcode:"V01",entity_id:305,status:"Final",leadoffice:81410,fedreg:"59FR65256 65279",pubdate:"19941219",source_id:1065,objectid:114,listing_st:"Threatened",ch_id:287,ch_str_id:"a-287"},{comname:"Salt Creek Tiger beetle",sciname:"Cicindela nevadica lincolniana",spcode:"I0QR",vipcode:"I01",entity_id:4910,status:"Final",leadoffice:64412,fedreg:"79FR26013 26038",pubdate:"20140506",source_id:1346,objectid:226,listing_st:"Endangered",ch_id:288,ch_str_id:"a-288"},{comname:"Oregon silverspot butterfly",sciname:"Speyeria zerene hippolyta",spcode:"I01A",vipcode:"I01",entity_id:431,status:"Final",leadoffice:13420,fedreg:"45FR44935 44939",pubdate:"19800702",source_id:1164,objectid:182,listing_st:"Threatened",ch_id:289,ch_str_id:"a-289"},{comname:"Mexican flannelbush",sciname:"Fremontodendron mexicanum",spcode:"Q2OZ",vipcode:"P01",entity_id:1027,status:"Final",leadoffice:11430,fedreg:"72FR54984 55010",pubdate:"20070927",source_id:1326,objectid:213,listing_st:"Endangered",ch_id:29,ch_str_id:"a-29"},{comname:"Palos Verdes blue butterfly",sciname:"Glaucopsyche lygdamus palosverdesensis",spcode:"I01B",vipcode:"I01",entity_id:432,status:"Final",leadoffice:11430,fedreg:"45FR44939 44942",pubdate:"19800702",source_id:668,objectid:54,listing_st:"Endangered",ch_id:290,ch_str_id:"a-290"},{comname:"Bay checkerspot butterfly",sciname:"Euphydryas editha bayensis",spcode:"I021",vipcode:"I01",entity_id:438,status:"Final",leadoffice:11420,fedreg:"73FR50406 50452",pubdate:"20080826",source_id:1056,objectid:105,listing_st:"Threatened",ch_id:291,ch_str_id:"a-291"},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:292,ch_str_id:"a-292"},{comname:"Greene's tuctoria",sciname:"Tuctoria greenei",spcode:"Q23K",vipcode:"P01",entity_id:858,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1097,objectid:142,listing_st:"Endangered",ch_id:292,ch_str_id:"a-292"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:292,ch_str_id:"a-292"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:292,ch_str_id:"a-292"},{comname:"Longhorn fairy shrimp",sciname:"Branchinecta longiantenna",spcode:"K03E",vipcode:"I01",entity_id:491,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1086,objectid:131,listing_st:"Endangered",ch_id:293,ch_str_id:"a-293"},{comname:"Hairy Orcutt grass",sciname:"Orcuttia pilosa",spcode:"Q1AY",vipcode:"P01",entity_id:582,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1090,objectid:135,listing_st:"Endangered",ch_id:294,ch_str_id:"a-294"},{comname:"Hoover's spurge",sciname:"Chamaesyce hooveri",spcode:"Q0E9",vipcode:"P01",entity_id:527,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1084,objectid:129,listing_st:"Threatened",ch_id:294,ch_str_id:"a-294"},{comname:"Sacramento Orcutt grass",sciname:"Orcuttia viscida",spcode:"Q1ZQ",vipcode:"P01",entity_id:787,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1092,objectid:137,listing_st:"Endangered",ch_id:294,ch_str_id:"a-294"},{comname:"Slender Orcutt grass",sciname:"Orcuttia tenuis",spcode:"Q1AZ",vipcode:"P01",entity_id:583,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1091,objectid:136,listing_st:"Threatened",ch_id:294,ch_str_id:"a-294"},{comname:"Fleshy owl's-clover",sciname:"Castilleja campestris ssp. succulenta",spcode:"Q0CG",vipcode:"P01",entity_id:522,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1082,objectid:127,listing_st:"Threatened",ch_id:294,ch_str_id:"a-294"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:294,ch_str_id:"a-294"},{comname:"Colusa grass",sciname:"Neostapfia colusana",spcode:"Q19I",vipcode:"P01",entity_id:580,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1088,objectid:133,listing_st:"Threatened",ch_id:294,ch_str_id:"a-294"},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:294,ch_str_id:"a-294"},{comname:"Contra Costa goldfields",sciname:"Lasthenia conjugens",spcode:"Q122",vipcode:"P01",entity_id:566,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1085,objectid:130,listing_st:"Endangered",ch_id:294,ch_str_id:"a-294"},{comname:"Butte County meadowfoam",sciname:"Limnanthes floccosa ssp. californica",spcode:"Q2YE",vipcode:"P01",entity_id:1081,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1087,objectid:132,listing_st:"Endangered",ch_id:294,ch_str_id:"a-294"},{comname:"Longhorn fairy shrimp",sciname:"Branchinecta longiantenna",spcode:"K03E",vipcode:"I01",entity_id:491,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1086,objectid:131,listing_st:"Endangered",ch_id:294,ch_str_id:"a-294"},{comname:"Suisun thistle",sciname:"Cirsium hydrophilum var. hydrophilum",spcode:"Q0FC",vipcode:"P01",entity_id:530,status:"Final",leadoffice:81410,fedreg:"72FR18518 18553",pubdate:"20070412",source_id:1374,objectid:245,listing_st:"Endangered",ch_id:294,ch_str_id:"a-294"},{comname:"Soft bird's-beak",sciname:"Cordylanthus mollis ssp. mollis",spcode:"Q0GT",vipcode:"P01",entity_id:534,status:"Final",leadoffice:81410,fedreg:"72FR18518 18553",pubdate:"20070412",source_id:1375,objectid:246,listing_st:"Endangered",ch_id:294,ch_str_id:"a-294"},{comname:"San Joaquin Valley Orcutt grass",sciname:"Orcuttia inaequalis",spcode:"Q1ZP",vipcode:"P01",entity_id:786,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1089,objectid:134,listing_st:"Threatened",ch_id:294,ch_str_id:"a-294"},{comname:"Greene's tuctoria",sciname:"Tuctoria greenei",spcode:"Q23K",vipcode:"P01",entity_id:858,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1097,objectid:142,listing_st:"Endangered",ch_id:294,ch_str_id:"a-294"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:294,ch_str_id:"a-294"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:295,ch_str_id:"a-295"},{comname:"Sacramento Orcutt grass",sciname:"Orcuttia viscida",spcode:"Q1ZQ",vipcode:"P01",entity_id:787,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1092,objectid:137,listing_st:"Endangered",ch_id:295,ch_str_id:"a-295"},{comname:"Soft bird's-beak",sciname:"Cordylanthus mollis ssp. mollis",spcode:"Q0GT",vipcode:"P01",entity_id:534,status:"Final",leadoffice:81410,fedreg:"72FR18518 18553",pubdate:"20070412",source_id:1375,objectid:246,listing_st:"Endangered",ch_id:295,ch_str_id:"a-295"},{comname:"San Joaquin Valley Orcutt grass",sciname:"Orcuttia inaequalis",spcode:"Q1ZP",vipcode:"P01",entity_id:786,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1089,objectid:134,listing_st:"Threatened",ch_id:295,ch_str_id:"a-295"},{comname:"Hoover's spurge",sciname:"Chamaesyce hooveri",spcode:"Q0E9",vipcode:"P01",entity_id:527,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1084,objectid:129,listing_st:"Threatened",ch_id:295,ch_str_id:"a-295"},{comname:"Hairy Orcutt grass",sciname:"Orcuttia pilosa",spcode:"Q1AY",vipcode:"P01",entity_id:582,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1090,objectid:135,listing_st:"Endangered",ch_id:295,ch_str_id:"a-295"},{comname:"Slender Orcutt grass",sciname:"Orcuttia tenuis",spcode:"Q1AZ",vipcode:"P01",entity_id:583,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1091,objectid:136,listing_st:"Threatened",ch_id:295,ch_str_id:"a-295"},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:295,ch_str_id:"a-295"},{comname:"Contra Costa goldfields",sciname:"Lasthenia conjugens",spcode:"Q122",vipcode:"P01",entity_id:566,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1085,objectid:130,listing_st:"Endangered",ch_id:295,ch_str_id:"a-295"},{comname:"Butte County meadowfoam",sciname:"Limnanthes floccosa ssp. californica",spcode:"Q2YE",vipcode:"P01",entity_id:1081,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1087,objectid:132,listing_st:"Endangered",ch_id:295,ch_str_id:"a-295"},{comname:"Longhorn fairy shrimp",sciname:"Branchinecta longiantenna",spcode:"K03E",vipcode:"I01",entity_id:491,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1086,objectid:131,listing_st:"Endangered",ch_id:295,ch_str_id:"a-295"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:296,ch_str_id:"a-296"},{comname:"Ash Meadows Amargosa pupfish",sciname:"Cyprinodon nevadensis mionectes",spcode:"E042",vipcode:"V01",entity_id:274,status:"Final",leadoffice:84321,fedreg:"48FR40178 40186",pubdate:"19830902",source_id:1126,objectid:153,listing_st:"Endangered",ch_id:297,ch_str_id:"a-297"},{comname:"Ash meadows milk-vetch",sciname:"Astragalus phoenix",spcode:"Q1TB",vipcode:"P01",entity_id:641,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1133,objectid:160,listing_st:"Threatened",ch_id:297,ch_str_id:"a-297"},{comname:"Ash Meadows sunray",sciname:"Enceliopsis nudicaulis var. corrugata",spcode:"Q297",vipcode:"P01",entity_id:926,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1132,objectid:159,listing_st:"Threatened",ch_id:297,ch_str_id:"a-297"},{comname:"Big Spring spinedace",sciname:"Lepidomeda mollispinis pratensis",spcode:"E04L",vipcode:"V01",entity_id:280,status:"Final",leadoffice:84321,fedreg:"50FR12298 12302",pubdate:"19850328",source_id:1048,objectid:98,listing_st:"Threatened",ch_id:298,ch_str_id:"a-298"},{comname:"Hiko White River springfish",sciname:"Crenichthys baileyi grandis",spcode:"E04Q",vipcode:"V01",entity_id:283,status:"Final",leadoffice:84321,fedreg:"50FR39123 39128",pubdate:"19850927",source_id:1150,objectid:171,listing_st:"Endangered",ch_id:299,ch_str_id:"a-299"},{comname:"Gypsum wild-buckwheat",sciname:"Eriogonum gypsophilum",spcode:"Q1W7",vipcode:"P01",entity_id:709,status:"Final",leadoffice:22420,fedreg:"46FR5730 5733",pubdate:"19810119",source_id:12,objectid:3,listing_st:"Threatened",ch_id:3,ch_str_id:"a-3"},{comname:"Huachuca water-umbel",sciname:"Lilaeopsis schaffneriana var. recurva",spcode:"Q2PK",vipcode:"P01",entity_id:1030,status:"Final",leadoffice:22410,fedreg:"64FR37441 37453",pubdate:"19990712",source_id:14,objectid:5,listing_st:"Endangered",ch_id:30,ch_str_id:"a-30"},{comname:"Owens Tui Chub",sciname:"Gila bicolor ssp. snyderi",spcode:"E02W",vipcode:"V01",entity_id:262,status:"Final",leadoffice:14320,fedreg:"50FR31592 31597",pubdate:"19850805",source_id:966,objectid:92,listing_st:"Endangered",ch_id:300,ch_str_id:"a-300"},{comname:"Gunnison sage-grouse",sciname:"Centrocercus minimus",spcode:"B0B0",vipcode:"V01",entity_id:4064,status:"Final",leadoffice:65413,fedreg:"79FR69311 69363",pubdate:"20141120",source_id:1818,objectid:324,listing_st:"Threatened",ch_id:301,ch_str_id:"a-301"},{comname:"Valley elderberry longhorn beetle",sciname:"Desmocerus californicus dimorphus",spcode:"I01L",vipcode:"I01",entity_id:436,status:"Final",leadoffice:11420,fedreg:"45FR52803 52807",pubdate:"19800808",source_id:1081,objectid:126,listing_st:"Threatened",ch_id:302,ch_str_id:"a-302"},{comname:"San Bernardino Merriam's kangaroo rat",sciname:"Dipodomys merriami parvus",spcode:"A0G8",vipcode:"V01",entity_id:63,status:"Final",leadoffice:11430,fedreg:"67FR19812 19845",pubdate:"20020423",source_id:674,objectid:58,listing_st:"Endangered",ch_id:303,ch_str_id:"a-303"},{comname:"Fresno kangaroo rat",sciname:"Dipodomys nitratoides exilis",spcode:"A08O",vipcode:"V01",entity_id:37,status:"Final",leadoffice:11420,fedreg:"50FR4222 4226",pubdate:"19850130",source_id:1148,objectid:169,listing_st:"Endangered",ch_id:304,ch_str_id:"a-304"},{comname:"Bonytail",sciname:"Gila elegans",spcode:"E020",vipcode:"V01",entity_id:249,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:716,objectid:64,listing_st:"Endangered",ch_id:305,ch_str_id:"a-305"},{comname:"Colorado pikeminnow",sciname:"Ptychocheilus lucius",spcode:"E006",vipcode:"V01",entity_id:215,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:6,objectid:1,listing_st:"Endangered",ch_id:305,ch_str_id:"a-305"},{comname:"Desert dace",sciname:"Eremichthys acros",spcode:"E03C",vipcode:"V01",entity_id:266,status:"Final",leadoffice:14320,fedreg:"50FR50304 50309",pubdate:"19851210",source_id:1146,objectid:167,listing_st:"Threatened",ch_id:306,ch_str_id:"a-306"},{comname:"Delta smelt",sciname:"Hypomesus transpacificus",spcode:"E070",vipcode:"V01",entity_id:305,status:"Final",leadoffice:81410,fedreg:"59FR65256 65279",pubdate:"19941219",source_id:1065,objectid:114,listing_st:"Threatened",ch_id:307,ch_str_id:"a-307"},{comname:"Solano grass",sciname:"Tuctoria mucronata",spcode:"Q23L",vipcode:"P01",entity_id:859,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1093,objectid:138,listing_st:"Endangered",ch_id:307,ch_str_id:"a-307"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:307,ch_str_id:"a-307"},{comname:"Soft bird's-beak",sciname:"Cordylanthus mollis ssp. mollis",spcode:"Q0GT",vipcode:"P01",entity_id:534,status:"Final",leadoffice:81410,fedreg:"72FR18518 18553",pubdate:"20070412",source_id:1375,objectid:246,listing_st:"Endangered",ch_id:307,ch_str_id:"a-307"},{comname:"Colusa grass",sciname:"Neostapfia colusana",spcode:"Q19I",vipcode:"P01",entity_id:580,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1088,objectid:133,listing_st:"Threatened",ch_id:307,ch_str_id:"a-307"},{comname:"Contra Costa goldfields",sciname:"Lasthenia conjugens",spcode:"Q122",vipcode:"P01",entity_id:566,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1085,objectid:130,listing_st:"Endangered",ch_id:307,ch_str_id:"a-307"},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:307,ch_str_id:"a-307"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:307,ch_str_id:"a-307"},{comname:"Suisun thistle",sciname:"Cirsium hydrophilum var. hydrophilum",spcode:"Q0FC",vipcode:"P01",entity_id:530,status:"Final",leadoffice:81410,fedreg:"72FR18518 18553",pubdate:"20070412",source_id:1374,objectid:245,listing_st:"Endangered",ch_id:307,ch_str_id:"a-307"},{comname:"Little Colorado spinedace",sciname:"Lepidomeda vittata",spcode:"E04M",vipcode:"V01",entity_id:281,status:"Final",leadoffice:22410,fedreg:"52FR35034 35041",pubdate:"19870916",source_id:18,objectid:8,listing_st:"Threatened",ch_id:308,ch_str_id:"a-308"},{comname:"Railroad Valley springfish",sciname:"Crenichthys nevadae",spcode:"E04T",vipcode:"V01",entity_id:284,status:"Final",leadoffice:14320,fedreg:"51FR10857 10865",pubdate:"19860331",source_id:1169,objectid:184,listing_st:"Threatened",ch_id:309,ch_str_id:"a-309"},{comname:"Sacramento Mountains checkerspot Butterfly",sciname:"Euphydryas anicia cloudcrofti",spcode:"I0RK",vipcode:"I01",entity_id:1260,status:"Proposed",leadoffice:22420,fedreg:"88FR54263 54288",pubdate:"20230810",source_id:2077,objectid:782,listing_st:"Endangered",ch_id:31,ch_str_id:"a-31"},{comname:"Shortnose Sucker",sciname:"Chasmistes brevirostris",spcode:"E055",vipcode:"V01",entity_id:291,status:"Final",leadoffice:11450,fedreg:"77FR73739 73768",pubdate:"20121211",source_id:1814,objectid:321,listing_st:"Endangered",ch_id:310,ch_str_id:"a-310"},{comname:"Warner sucker",sciname:"Catostomus warnerensis",spcode:"E057",vipcode:"V01",entity_id:292,status:"Final",leadoffice:13420,fedreg:"50FR39117 39123",pubdate:"19850927",source_id:1184,objectid:190,listing_st:"Threatened",ch_id:311,ch_str_id:"a-311"},{comname:"Alameda whipsnake (=striped racer)",sciname:"Masticophis lateralis euryxanthus",spcode:"C04A",vipcode:"V01",entity_id:183,status:"Final",leadoffice:11420,fedreg:"71FR58176 58231",pubdate:"20061002",source_id:1300,objectid:203,listing_st:"Threatened",ch_id:312,ch_str_id:"a-312"},{comname:"White River springfish",sciname:"Crenichthys baileyi baileyi",spcode:"E04U",vipcode:"V01",entity_id:285,status:"Final",leadoffice:84321,fedreg:"50FR39123 39128",pubdate:"19850927",source_id:1187,objectid:193,listing_st:"Endangered",ch_id:313,ch_str_id:"a-313"},{comname:"White River spinedace",sciname:"Lepidomeda albivallis",spcode:"E04P",vipcode:"V01",entity_id:282,status:"Final",leadoffice:84321,fedreg:"50FR37194 37198",pubdate:"19850912",source_id:1186,objectid:192,listing_st:"Endangered",ch_id:314,ch_str_id:"a-314"},{comname:"Cook's lomatium",sciname:"Lomatium cookii",spcode:"Q356",vipcode:"P01",entity_id:1263,status:"Final",leadoffice:13420,fedreg:"75FR42490 42570",pubdate:"20100721",source_id:1349,objectid:229,listing_st:"Endangered",ch_id:315,ch_str_id:"a-315"},{comname:"Suisun thistle",sciname:"Cirsium hydrophilum var. hydrophilum",spcode:"Q0FC",vipcode:"P01",entity_id:530,status:"Final",leadoffice:81410,fedreg:"72FR18518 18553",pubdate:"20070412",source_id:1374,objectid:245,listing_st:"Endangered",ch_id:316,ch_str_id:"a-316"},{comname:"Spring-loving centaury",sciname:"Centaurium namophilum",spcode:"Q1U5",vipcode:"P01",entity_id:660,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1178,objectid:186,listing_st:"Threatened",ch_id:317,ch_str_id:"a-317"},{comname:"Mount Charleston blue butterfly",sciname:"Icaricia (Plebejus) shasta charlestonensis",spcode:"I0TX",vipcode:"I01",entity_id:9001,status:"Final",leadoffice:84321,fedreg:"80FR37403 37430",pubdate:"20150630",source_id:1815,objectid:322,listing_st:"Endangered",ch_id:318,ch_str_id:"a-318"},{comname:"Vandenberg monkeyflower",sciname:"Diplacus vandenbergensis",spcode:"Q3NC",vipcode:"P01",entity_id:10076,status:"Final",leadoffice:11440,fedreg:"80FR48142 48170",pubdate:"20150811",source_id:1530,objectid:305,listing_st:"Endangered",ch_id:319,ch_str_id:"a-319"},{comname:"beardless chinchweed",sciname:"Pectis imberbis",spcode:"Q2Q9",vipcode:"P01",entity_id:2884,status:"Final",leadoffice:22410,fedreg:"86FR31830 31868",pubdate:"20210615",source_id:1971,objectid:692,listing_st:"Endangered",ch_id:32,ch_str_id:"a-32"},{comname:"Huachuca water-umbel",sciname:"Lilaeopsis schaffneriana var. recurva",spcode:"Q2PK",vipcode:"P01",entity_id:1030,status:"Final",leadoffice:22410,fedreg:"64FR37441 37453",pubdate:"19990712",source_id:14,objectid:5,listing_st:"Endangered",ch_id:32,ch_str_id:"a-32"},{comname:"Preble's meadow jumping mouse",sciname:"Zapus hudsonius preblei",spcode:"A0C2",vipcode:"V01",entity_id:52,status:"Final",leadoffice:65412,fedreg:"75FR78430 78483",pubdate:"20101215",source_id:1077,objectid:122,listing_st:"Threatened",ch_id:320,ch_str_id:"a-320"},{comname:"Large-flowered woolly meadowfoam",sciname:"Limnanthes pumila ssp. grandiflora",spcode:"Q2CL",vipcode:"P01",entity_id:1262,status:"Final",leadoffice:13420,fedreg:"75FR42490 42570",pubdate:"20100721",source_id:1350,objectid:230,listing_st:"Endangered",ch_id:321,ch_str_id:"a-321"},{comname:"Kneeland Prairie penny-cress",sciname:"Thlaspi californicum",spcode:"Q2KF",vipcode:"P01",entity_id:1010,status:"Final",leadoffice:11331,fedreg:"67FR62897 62910",pubdate:"20021009",source_id:1076,objectid:121,listing_st:"Endangered",ch_id:322,ch_str_id:"a-322"},{comname:"Franciscan manzanita",sciname:"Arctostaphylos franciscana",spcode:"Q25C",vipcode:"P01",entity_id:2823,status:"Final",leadoffice:11420,fedreg:"78FR77289 77325",pubdate:"20131220",source_id:1498,objectid:286,listing_st:"Endangered",ch_id:323,ch_str_id:"a-323"},{comname:"Ash meadows milk-vetch",sciname:"Astragalus phoenix",spcode:"Q1TB",vipcode:"P01",entity_id:641,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1133,objectid:160,listing_st:"Threatened",ch_id:324,ch_str_id:"a-324"},{comname:"Spring-loving centaury",sciname:"Centaurium namophilum",spcode:"Q1U5",vipcode:"P01",entity_id:660,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1178,objectid:186,listing_st:"Threatened",ch_id:324,ch_str_id:"a-324"},{comname:"Ash Meadows gumplant",sciname:"Grindelia fraxinipratensis",spcode:"Q2AM",vipcode:"P01",entity_id:941,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1128,objectid:155,listing_st:"Threatened",ch_id:324,ch_str_id:"a-324"},{comname:"Amargosa niterwort",sciname:"Nitrophila mohavensis",spcode:"Q2E8",vipcode:"P01",entity_id:973,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1124,objectid:151,listing_st:"Endangered",ch_id:325,ch_str_id:"a-325"},{comname:"Ash Meadows blazingstar",sciname:"Mentzelia leucophylla",spcode:"Q1ZD",vipcode:"P01",entity_id:776,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1127,objectid:154,listing_st:"Threatened",ch_id:326,ch_str_id:"a-326"},{comname:"Ash Meadows ivesia",sciname:"Ivesia kingii var. eremica",spcode:"Q1XM",vipcode:"P01",entity_id:743,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1129,objectid:156,listing_st:"Threatened",ch_id:326,ch_str_id:"a-326"},{comname:"Spring-loving centaury",sciname:"Centaurium namophilum",spcode:"Q1U5",vipcode:"P01",entity_id:660,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1178,objectid:186,listing_st:"Threatened",ch_id:326,ch_str_id:"a-326"},{comname:"Ash meadows milk-vetch",sciname:"Astragalus phoenix",spcode:"Q1TB",vipcode:"P01",entity_id:641,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1133,objectid:160,listing_st:"Threatened",ch_id:326,ch_str_id:"a-326"},{comname:"Ash Meadows gumplant",sciname:"Grindelia fraxinipratensis",spcode:"Q2AM",vipcode:"P01",entity_id:941,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1128,objectid:155,listing_st:"Threatened",ch_id:327,ch_str_id:"a-327"},{comname:"Ash Meadows blazingstar",sciname:"Mentzelia leucophylla",spcode:"Q1ZD",vipcode:"P01",entity_id:776,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1127,objectid:154,listing_st:"Threatened",ch_id:327,ch_str_id:"a-327"},{comname:"Ash Meadows ivesia",sciname:"Ivesia kingii var. eremica",spcode:"Q1XM",vipcode:"P01",entity_id:743,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1129,objectid:156,listing_st:"Threatened",ch_id:327,ch_str_id:"a-327"},{comname:"Ash Meadows ivesia",sciname:"Ivesia kingii var. eremica",spcode:"Q1XM",vipcode:"P01",entity_id:743,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1129,objectid:156,listing_st:"Threatened",ch_id:328,ch_str_id:"a-328"},{comname:"Ash Meadows sunray",sciname:"Enceliopsis nudicaulis var. corrugata",spcode:"Q297",vipcode:"P01",entity_id:926,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1132,objectid:159,listing_st:"Threatened",ch_id:328,ch_str_id:"a-328"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:328,ch_str_id:"a-328"},{comname:"Ash Meadows sunray",sciname:"Enceliopsis nudicaulis var. corrugata",spcode:"Q297",vipcode:"P01",entity_id:926,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1132,objectid:159,listing_st:"Threatened",ch_id:329,ch_str_id:"a-329"},{comname:"Spring-loving centaury",sciname:"Centaurium namophilum",spcode:"Q1U5",vipcode:"P01",entity_id:660,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1178,objectid:186,listing_st:"Threatened",ch_id:329,ch_str_id:"a-329"},{comname:"Ash Meadows ivesia",sciname:"Ivesia kingii var. eremica",spcode:"Q1XM",vipcode:"P01",entity_id:743,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1129,objectid:156,listing_st:"Threatened",ch_id:329,ch_str_id:"a-329"},{comname:"Ash Meadows blazingstar",sciname:"Mentzelia leucophylla",spcode:"Q1ZD",vipcode:"P01",entity_id:776,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1127,objectid:154,listing_st:"Threatened",ch_id:329,ch_str_id:"a-329"},{comname:"Ash Meadows gumplant",sciname:"Grindelia fraxinipratensis",spcode:"Q2AM",vipcode:"P01",entity_id:941,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1128,objectid:155,listing_st:"Threatened",ch_id:329,ch_str_id:"a-329"},{comname:"[no common name] Beetle",sciname:"Rhadine infernalis",spcode:"I0P1",vipcode:"I01",entity_id:459,status:"Final",leadoffice:21450,fedreg:"77FR8450 8523",pubdate:"20120214",source_id:462,objectid:37,listing_st:"Endangered",ch_id:33,ch_str_id:"a-33"},{comname:"Robust spineflower",sciname:"Chorizanthe robusta var. robusta",spcode:"Q3O7",vipcode:"P01",entity_id:10290,status:"Final",leadoffice:11440,fedreg:"67FR36822 36845",pubdate:"20020528",source_id:1529,objectid:304,listing_st:"Endangered",ch_id:330,ch_str_id:"a-330"},{comname:"Soft bird's-beak",sciname:"Cordylanthus mollis ssp. mollis",spcode:"Q0GT",vipcode:"P01",entity_id:534,status:"Final",leadoffice:81410,fedreg:"72FR18518 18553",pubdate:"20070412",source_id:1375,objectid:246,listing_st:"Endangered",ch_id:331,ch_str_id:"a-331"},{comname:"Fish Slough milk-vetch",sciname:"Astragalus lentiginosus var. piscinensis",spcode:"Q25Z",vipcode:"P01",entity_id:887,status:"Final",leadoffice:14320,fedreg:"70FR33774 33795",pubdate:"20050609",source_id:960,objectid:86,listing_st:"Threatened",ch_id:332,ch_str_id:"a-332"},{comname:"White Bluffs bladderpod",sciname:"Physaria douglasii ssp. tuplashensis",spcode:"Q3HR",vipcode:"P01",entity_id:4565,status:"Final",leadoffice:13410,fedreg:"78FR76995 77005",pubdate:"20131220",source_id:1543,objectid:313,listing_st:"Threatened",ch_id:333,ch_str_id:"a-333"},{comname:"Purple amole",sciname:"Chlorogalum purpureum",spcode:"Q0ET",vipcode:"P01",entity_id:528,status:"Final",leadoffice:11440,fedreg:"67FR65414 65445",pubdate:"20021024",source_id:954,objectid:82,listing_st:"Threatened",ch_id:334,ch_str_id:"a-334"},{comname:"Mountain yellow-legged frog",sciname:"Rana muscosa",spcode:"D02H",vipcode:"V01",entity_id:207,status:"Final",leadoffice:11430,fedreg:"71FR54344 54386",pubdate:"20060914",source_id:1158,objectid:178,listing_st:"Endangered",ch_id:335,ch_str_id:"a-335"},{comname:"Cushenbury oxytheca",sciname:"Oxytheca parishii var. goodmaniana",spcode:"Q36L",vipcode:"P01",entity_id:1134,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:2083,objectid:800,listing_st:"Endangered",ch_id:336,ch_str_id:"a-336"},{comname:"Streaked Horned lark",sciname:"Eremophila alpestris strigata",spcode:"B0B3",vipcode:"V01",entity_id:4296,status:"Final",leadoffice:13420,fedreg:"78FR61505 61589",pubdate:"20131003",source_id:1477,objectid:270,listing_st:"Threatened",ch_id:337,ch_str_id:"a-337"},{comname:"Olympia pocket gopher",sciname:"Thomomys mazama pugetensis",spcode:"A0IE",vipcode:"V01",entity_id:8683,status:"Final",leadoffice:13410,fedreg:"79FR19711 19757",pubdate:"20140409",source_id:1504,objectid:292,listing_st:"Threatened",ch_id:338,ch_str_id:"a-338"},{comname:"Tenino pocket gopher",sciname:"Thomomys mazama tumuli",spcode:"A0IF",vipcode:"V01",entity_id:8684,status:"Final",leadoffice:13410,fedreg:"79FR19711 19757",pubdate:"20140409",source_id:1499,objectid:287,listing_st:"Threatened",ch_id:339,ch_str_id:"a-339"},{comname:"[no common name] Beetle",sciname:"Rhadine exilis",spcode:"I0RF",vipcode:"I01",entity_id:461,status:"Final",leadoffice:21450,fedreg:"77FR8450 8523",pubdate:"20120214",source_id:463,objectid:38,listing_st:"Endangered",ch_id:34,ch_str_id:"a-34"},{comname:"Yelm pocket gopher",sciname:"Thomomys mazama yelmensis",spcode:"A0IG",vipcode:"V01",entity_id:8685,status:"Final",leadoffice:13410,fedreg:"79FR19711 19757",pubdate:"20140409",source_id:1508,objectid:293,listing_st:"Threatened",ch_id:340,ch_str_id:"a-340"},{comname:"Taylor's (=whulge) Checkerspot",sciname:"Euphydryas editha taylori",spcode:"I0T6",vipcode:"I01",entity_id:7495,status:"Final",leadoffice:13410,fedreg:"78FR61505 61589",pubdate:"20131003",source_id:1476,objectid:269,listing_st:"Endangered",ch_id:341,ch_str_id:"a-341"},{comname:"Mountain yellow-legged frog",sciname:"Rana muscosa",spcode:"D02H",vipcode:"V02",entity_id:1740,status:"Final",leadoffice:11420,fedreg:"81FR59045 59119",pubdate:"20160826",source_id:1501,objectid:289,listing_st:"Endangered",ch_id:342,ch_str_id:"a-342"},{comname:"Casey's June Beetle",sciname:"Dinacoma caseyi",spcode:"I0TG",vipcode:"I01",entity_id:8503,status:"Final",leadoffice:11430,fedreg:"76FR58954 58998",pubdate:"20110922",source_id:1377,objectid:248,listing_st:"Endangered",ch_id:343,ch_str_id:"a-343"},{comname:"Texas kangaroo rat",sciname:"Dipodomys elator",spcode:"A08R",vipcode:"V01",entity_id:4567,status:"Proposed",leadoffice:21420,fedreg:"88FR55962 55991",pubdate:"20230817",source_id:2082,objectid:798,listing_st:"Proposed Endangered",ch_id:344,ch_str_id:"a-344"},{comname:"Fisher",sciname:"Pekania pennanti",spcode:"A0HS",vipcode:"V05",entity_id:11653,status:"Proposed",leadoffice:11420,fedreg:"87FR66987 67006",pubdate:"20221107",source_id:2013,objectid:732,listing_st:"Endangered",ch_id:345,ch_str_id:"a-345"},{comname:"Greater sage-grouse",sciname:"Centrocercus urophasianus",spcode:"B06W",vipcode:"V03",entity_id:9337,status:"Proposed",leadoffice:14320,fedreg:"78FR64328 64355",pubdate:"20131028",source_id:2090,objectid:808,listing_st:"Proposed Threatened",ch_id:346,ch_str_id:"a-346"},{comname:"Sierra Nevada bighorn sheep",sciname:"Ovis canadensis sierrae",spcode:"A0DS",vipcode:"V01",entity_id:57,status:"Final",leadoffice:14320,fedreg:"73FR45534 45604",pubdate:"20080805",source_id:1361,objectid:237,listing_st:"Endangered",ch_id:346,ch_str_id:"a-346"},{comname:"Greater sage-grouse",sciname:"Centrocercus urophasianus",spcode:"B06W",vipcode:"V03",entity_id:9337,status:"Proposed",leadoffice:14320,fedreg:"78FR64328 64355",pubdate:"20131028",source_id:2090,objectid:808,listing_st:"Proposed Threatened",ch_id:347,ch_str_id:"a-347"},{comname:"Sierra Nevada Yellow-legged Frog",sciname:"Rana sierrae",spcode:"D04M",vipcode:"V01",entity_id:10517,status:"Final",leadoffice:11420,fedreg:"81FR59045 59119",pubdate:"20160826",source_id:1502,objectid:290,listing_st:"Endangered",ch_id:347,ch_str_id:"a-347"},{comname:"Greater sage-grouse",sciname:"Centrocercus urophasianus",spcode:"B06W",vipcode:"V03",entity_id:9337,status:"Proposed",leadoffice:14320,fedreg:"78FR64328 64355",pubdate:"20131028",source_id:2090,objectid:808,listing_st:"Proposed Threatened",ch_id:348,ch_str_id:"a-348"},{comname:"Owens Tui Chub",sciname:"Gila bicolor ssp. snyderi",spcode:"E02W",vipcode:"V01",entity_id:262,status:"Final",leadoffice:14320,fedreg:"50FR31592 31597",pubdate:"19850805",source_id:966,objectid:92,listing_st:"Endangered",ch_id:348,ch_str_id:"a-348"},{comname:"San Joaquin Valley Orcutt grass",sciname:"Orcuttia inaequalis",spcode:"Q1ZP",vipcode:"P01",entity_id:786,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1089,objectid:134,listing_st:"Threatened",ch_id:349,ch_str_id:"a-349"},{comname:"Hairy Orcutt grass",sciname:"Orcuttia pilosa",spcode:"Q1AY",vipcode:"P01",entity_id:582,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1090,objectid:135,listing_st:"Endangered",ch_id:349,ch_str_id:"a-349"},{comname:"San Bernardino springsnail",sciname:"Pyrgulopsis bernardina",spcode:"G05E",vipcode:"I01",entity_id:1380,status:"Final",leadoffice:22410,fedreg:"77FR23060 23092",pubdate:"20120417",source_id:1459,objectid:264,listing_st:"Threatened",ch_id:35,ch_str_id:"a-35"},{comname:"San Joaquin Valley Orcutt grass",sciname:"Orcuttia inaequalis",spcode:"Q1ZP",vipcode:"P01",entity_id:786,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1089,objectid:134,listing_st:"Threatened",ch_id:350,ch_str_id:"a-350"},{comname:"Fleshy owl's-clover",sciname:"Castilleja campestris ssp. succulenta",spcode:"Q0CG",vipcode:"P01",entity_id:522,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1082,objectid:127,listing_st:"Threatened",ch_id:350,ch_str_id:"a-350"},{comname:"San Joaquin Valley Orcutt grass",sciname:"Orcuttia inaequalis",spcode:"Q1ZP",vipcode:"P01",entity_id:786,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1089,objectid:134,listing_st:"Threatened",ch_id:351,ch_str_id:"a-351"},{comname:"Hoover's spurge",sciname:"Chamaesyce hooveri",spcode:"Q0E9",vipcode:"P01",entity_id:527,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1084,objectid:129,listing_st:"Threatened",ch_id:351,ch_str_id:"a-351"},{comname:"San Joaquin Valley Orcutt grass",sciname:"Orcuttia inaequalis",spcode:"Q1ZP",vipcode:"P01",entity_id:786,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1089,objectid:134,listing_st:"Threatened",ch_id:352,ch_str_id:"a-352"},{comname:"Greene's tuctoria",sciname:"Tuctoria greenei",spcode:"Q23K",vipcode:"P01",entity_id:858,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1097,objectid:142,listing_st:"Endangered",ch_id:352,ch_str_id:"a-352"},{comname:"San Joaquin Valley Orcutt grass",sciname:"Orcuttia inaequalis",spcode:"Q1ZP",vipcode:"P01",entity_id:786,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1089,objectid:134,listing_st:"Threatened",ch_id:353,ch_str_id:"a-353"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:353,ch_str_id:"a-353"},{comname:"Greene's tuctoria",sciname:"Tuctoria greenei",spcode:"Q23K",vipcode:"P01",entity_id:858,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1097,objectid:142,listing_st:"Endangered",ch_id:353,ch_str_id:"a-353"},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:353,ch_str_id:"a-353"},{comname:"Oregon spotted frog",sciname:"Rana pretiosa",spcode:"D02A",vipcode:"V01",entity_id:4090,status:"Final",leadoffice:13420,fedreg:"81FR29336 29396",pubdate:"20160511",source_id:1503,objectid:291,listing_st:"Threatened",ch_id:354,ch_str_id:"a-354"},{comname:"Northern spotted owl",sciname:"Strix occidentalis caurina",spcode:"B08B",vipcode:"V01",entity_id:142,status:"Final",leadoffice:13420,fedreg:"86FR62606 62666",pubdate:"20211110",source_id:791,objectid:65,listing_st:"Threatened",ch_id:354,ch_str_id:"a-354"},{comname:"Woundfin",sciname:"Plagopterus argentissimus",spcode:"E00Z",vipcode:"V01",entity_id:234,status:"Final",leadoffice:65411,fedreg:"65FR4140 4156",pubdate:"20000126",source_id:40,objectid:21,listing_st:"Endangered",ch_id:355,ch_str_id:"a-355"},{comname:"Virgin River Chub",sciname:"Gila seminuda (=robusta)",spcode:"E02A",vipcode:"V01",entity_id:256,status:"Final",leadoffice:65411,fedreg:"65FR4140 4156",pubdate:"20000126",source_id:37,objectid:18,listing_st:"Endangered",ch_id:355,ch_str_id:"a-355"},{comname:"Marbled Murrelet",sciname:"Brachyramphus marmoratus",spcode:"B08C",vipcode:"V01",entity_id:143,status:"Final",leadoffice:13410,fedreg:"81FR51348 51370",pubdate:"20160804",source_id:810,objectid:67,listing_st:"Threatened",ch_id:356,ch_str_id:"a-356"},{comname:"Bull Trout",sciname:"Salvelinus confluentus",spcode:"E065",vipcode:"V06",entity_id:301,status:"Final",leadoffice:14420,fedreg:"75FR63898 64070",pubdate:"20101018",source_id:830,objectid:68,listing_st:"Threatened",ch_id:356,ch_str_id:"a-356"},{comname:"Marbled Murrelet",sciname:"Brachyramphus marmoratus",spcode:"B08C",vipcode:"V01",entity_id:143,status:"Final",leadoffice:13410,fedreg:"81FR51348 51370",pubdate:"20160804",source_id:810,objectid:67,listing_st:"Threatened",ch_id:357,ch_str_id:"a-357"},{comname:"Zayante band-winged grasshopper",sciname:"Trimerotropis infantilis",spcode:"I0OY",vipcode:"I01",entity_id:458,status:"Final",leadoffice:11440,fedreg:"66FR9219 9233",pubdate:"20010207",source_id:971,objectid:96,listing_st:"Endangered",ch_id:357,ch_str_id:"a-357"},{comname:"Marbled Murrelet",sciname:"Brachyramphus marmoratus",spcode:"B08C",vipcode:"V01",entity_id:143,status:"Final",leadoffice:13410,fedreg:"81FR51348 51370",pubdate:"20160804",source_id:810,objectid:67,listing_st:"Threatened",ch_id:358,ch_str_id:"a-358"},{comname:"Pacific Marten, Coastal Distinct Population Segment",sciname:"Martes caurina",spcode:"A0JI",vipcode:"V01",entity_id:10078,status:"Final",leadoffice:11331,fedreg:"89FR46576 46616",pubdate:"20240529",source_id:2014,objectid:733,listing_st:"Threatened",ch_id:358,ch_str_id:"a-358"},{comname:"Marbled Murrelet",sciname:"Brachyramphus marmoratus",spcode:"B08C",vipcode:"V01",entity_id:143,status:"Final",leadoffice:13410,fedreg:"81FR51348 51370",pubdate:"20160804",source_id:810,objectid:67,listing_st:"Threatened",ch_id:359,ch_str_id:"a-359"},{comname:"Northern spotted owl",sciname:"Strix occidentalis caurina",spcode:"B08B",vipcode:"V01",entity_id:142,status:"Final",leadoffice:13420,fedreg:"86FR62606 62666",pubdate:"20211110",source_id:791,objectid:65,listing_st:"Threatened",ch_id:359,ch_str_id:"a-359"},{comname:"Texas Hornshell",sciname:"Popenaias popeii",spcode:"F02M",vipcode:"I01",entity_id:2917,status:"Proposed",leadoffice:21470,fedreg:"86FR30888 30909",pubdate:"20210610",source_id:2e3,objectid:718,listing_st:"Endangered",ch_id:36,ch_str_id:"a-36"},{comname:"Marbled Murrelet",sciname:"Brachyramphus marmoratus",spcode:"B08C",vipcode:"V01",entity_id:143,status:"Final",leadoffice:13410,fedreg:"81FR51348 51370",pubdate:"20160804",source_id:810,objectid:67,listing_st:"Threatened",ch_id:360,ch_str_id:"a-360"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:360,ch_str_id:"a-360"},{comname:"Arkansas River shiner",sciname:"Notropis girardi",spcode:"E05X",vipcode:"V01",entity_id:299,status:"Final",leadoffice:21440,fedreg:"70FR59808 59846",pubdate:"20051013",source_id:850,objectid:69,listing_st:"Threatened",ch_id:361,ch_str_id:"a-361"},{comname:"Peppered chub",sciname:"Macrhybopsis tetranema",spcode:"E072",vipcode:"V01",entity_id:4243,status:"Final",leadoffice:21420,fedreg:"87FR11188 11220",pubdate:"20220228",source_id:2035,objectid:753,listing_st:"Endangered",ch_id:361,ch_str_id:"a-361"},{comname:"Sand dune phacelia",sciname:"Phacelia argentea",spcode:"Q2FB",vipcode:"P01",entity_id:7270,status:"Final",leadoffice:13420,fedreg:"88FR57180 57222",pubdate:"20230822",source_id:2036,objectid:754,listing_st:"Threatened",ch_id:362,ch_str_id:"a-362"},{comname:"Pacific Marten, Coastal Distinct Population Segment",sciname:"Martes caurina",spcode:"A0JI",vipcode:"V01",entity_id:10078,status:"Final",leadoffice:11331,fedreg:"89FR46576 46616",pubdate:"20240529",source_id:2014,objectid:733,listing_st:"Threatened",ch_id:362,ch_str_id:"a-362"},{comname:"California tiger Salamander",sciname:"Ambystoma californiense",spcode:"D01T",vipcode:"V01",entity_id:8395,status:"Final",leadoffice:11440,fedreg:"69FR68568 68609",pubdate:"20041124",source_id:952,objectid:80,listing_st:"Endangered",ch_id:363,ch_str_id:"a-363"},{comname:"La Graciosa thistle",sciname:"Cirsium loncholepis",spcode:"Q0FE",vipcode:"P01",entity_id:531,status:"Final",leadoffice:11440,fedreg:"74FR56978 57046",pubdate:"20091103",source_id:956,objectid:83,listing_st:"Endangered",ch_id:363,ch_str_id:"a-363"},{comname:"California tiger Salamander",sciname:"Ambystoma californiense",spcode:"D01T",vipcode:"V01",entity_id:8395,status:"Final",leadoffice:11440,fedreg:"69FR68568 68609",pubdate:"20041124",source_id:952,objectid:80,listing_st:"Endangered",ch_id:364,ch_str_id:"a-364"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:364,ch_str_id:"a-364"},{comname:"Wenatchee Mountains checkermallow",sciname:"Sidalcea oregana var. calva",spcode:"Q1OT",vipcode:"P01",entity_id:611,status:"Final",leadoffice:13410,fedreg:"66FR46536 46548",pubdate:"20010906",source_id:1185,objectid:191,listing_st:"Endangered",ch_id:365,ch_str_id:"a-365"},{comname:"Northern spotted owl",sciname:"Strix occidentalis caurina",spcode:"B08B",vipcode:"V01",entity_id:142,status:"Final",leadoffice:13420,fedreg:"86FR62606 62666",pubdate:"20211110",source_id:791,objectid:65,listing_st:"Threatened",ch_id:365,ch_str_id:"a-365"},{comname:"Sierra Nevada bighorn sheep",sciname:"Ovis canadensis sierrae",spcode:"A0DS",vipcode:"V01",entity_id:57,status:"Final",leadoffice:14320,fedreg:"73FR45534 45604",pubdate:"20080805",source_id:1361,objectid:237,listing_st:"Endangered",ch_id:366,ch_str_id:"a-366"},{comname:"Sierra Nevada Yellow-legged Frog",sciname:"Rana sierrae",spcode:"D04M",vipcode:"V01",entity_id:10517,status:"Final",leadoffice:11420,fedreg:"81FR59045 59119",pubdate:"20160826",source_id:1502,objectid:290,listing_st:"Endangered",ch_id:366,ch_str_id:"a-366"},{comname:"Mountain yellow-legged frog",sciname:"Rana muscosa",spcode:"D02H",vipcode:"V02",entity_id:1740,status:"Final",leadoffice:11420,fedreg:"81FR59045 59119",pubdate:"20160826",source_id:1501,objectid:289,listing_st:"Endangered",ch_id:366,ch_str_id:"a-366"},{comname:"Sierra Nevada bighorn sheep",sciname:"Ovis canadensis sierrae",spcode:"A0DS",vipcode:"V01",entity_id:57,status:"Final",leadoffice:14320,fedreg:"73FR45534 45604",pubdate:"20080805",source_id:1361,objectid:237,listing_st:"Endangered",ch_id:367,ch_str_id:"a-367"},{comname:"Little Kern golden trout",sciname:"Oncorhynchus aguabonita whitei",spcode:"E01Z",vipcode:"V01",entity_id:248,status:"Final",leadoffice:11420,fedreg:"43FR15427 15429",pubdate:"19780413",source_id:1069,objectid:118,listing_st:"Threatened",ch_id:367,ch_str_id:"a-367"},{comname:"Sierra Nevada bighorn sheep",sciname:"Ovis canadensis sierrae",spcode:"A0DS",vipcode:"V01",entity_id:57,status:"Final",leadoffice:14320,fedreg:"73FR45534 45604",pubdate:"20080805",source_id:1361,objectid:237,listing_st:"Endangered",ch_id:368,ch_str_id:"a-368"},{comname:"Yosemite toad",sciname:"Anaxyrus canorus",spcode:"D02K",vipcode:"V01",entity_id:1707,status:"Final",leadoffice:11420,fedreg:"81FR59045 59119",pubdate:"20160826",source_id:1500,objectid:288,listing_st:"Threatened",ch_id:368,ch_str_id:"a-368"},{comname:"Sierra Nevada bighorn sheep",sciname:"Ovis canadensis sierrae",spcode:"A0DS",vipcode:"V01",entity_id:57,status:"Final",leadoffice:14320,fedreg:"73FR45534 45604",pubdate:"20080805",source_id:1361,objectid:237,listing_st:"Endangered",ch_id:369,ch_str_id:"a-369"},{comname:"Mountain yellow-legged frog",sciname:"Rana muscosa",spcode:"D02H",vipcode:"V02",entity_id:1740,status:"Final",leadoffice:11420,fedreg:"81FR59045 59119",pubdate:"20160826",source_id:1501,objectid:289,listing_st:"Endangered",ch_id:369,ch_str_id:"a-369"},{comname:"New Mexican ridge-nosed rattlesnake",sciname:"Crotalus willardi obscurus",spcode:"C01S",vipcode:"V01",entity_id:166,status:"Final",leadoffice:22420,fedreg:"43FR34476 34480",pubdate:"19780804",source_id:23,objectid:12,listing_st:"Threatened",ch_id:37,ch_str_id:"a-37"},{comname:"Fender's blue butterfly",sciname:"Icaricia icarioides fenderi",spcode:"I0IS",vipcode:"I01",entity_id:450,status:"Final",leadoffice:13420,fedreg:"71FR63862 63977",pubdate:"20061031",source_id:1260,objectid:200,listing_st:"Threatened",ch_id:370,ch_str_id:"a-370"},{comname:"Willamette daisy",sciname:"Erigeron decumbens",spcode:"Q2TF",vipcode:"P01",entity_id:1233,status:"Final",leadoffice:13420,fedreg:"71FR63862 63977",pubdate:"20061031",source_id:1262,objectid:202,listing_st:"Endangered",ch_id:370,ch_str_id:"a-370"},{comname:"Fender's blue butterfly",sciname:"Icaricia icarioides fenderi",spcode:"I0IS",vipcode:"I01",entity_id:450,status:"Final",leadoffice:13420,fedreg:"71FR63862 63977",pubdate:"20061031",source_id:1260,objectid:200,listing_st:"Threatened",ch_id:371,ch_str_id:"a-371"},{comname:"Kincaid's Lupine",sciname:"Lupinus sulphureus ssp. kincaidii",spcode:"Q35E",vipcode:"P01",entity_id:1126,status:"Final",leadoffice:13420,fedreg:"71FR63862 63977",pubdate:"20061031",source_id:1261,objectid:201,listing_st:"Threatened",ch_id:371,ch_str_id:"a-371"},{comname:"Fender's blue butterfly",sciname:"Icaricia icarioides fenderi",spcode:"I0IS",vipcode:"I01",entity_id:450,status:"Final",leadoffice:13420,fedreg:"71FR63862 63977",pubdate:"20061031",source_id:1260,objectid:200,listing_st:"Threatened",ch_id:372,ch_str_id:"a-372"},{comname:"Streaked Horned lark",sciname:"Eremophila alpestris strigata",spcode:"B0B3",vipcode:"V01",entity_id:4296,status:"Final",leadoffice:13420,fedreg:"78FR61505 61589",pubdate:"20131003",source_id:1477,objectid:270,listing_st:"Threatened",ch_id:372,ch_str_id:"a-372"},{comname:"Santa Ana sucker",sciname:"Catostomus santaanae",spcode:"E07W",vipcode:"V01",entity_id:312,status:"Final",leadoffice:11430,fedreg:"75FR77962 78027",pubdate:"20101214",source_id:676,objectid:60,listing_st:"Threatened",ch_id:373,ch_str_id:"a-373"},{comname:"San Bernardino Merriam's kangaroo rat",sciname:"Dipodomys merriami parvus",spcode:"A0G8",vipcode:"V01",entity_id:63,status:"Final",leadoffice:11430,fedreg:"67FR19812 19845",pubdate:"20020423",source_id:674,objectid:58,listing_st:"Endangered",ch_id:373,ch_str_id:"a-373"},{comname:"Santa Ana sucker",sciname:"Catostomus santaanae",spcode:"E07W",vipcode:"V01",entity_id:312,status:"Final",leadoffice:11430,fedreg:"75FR77962 78027",pubdate:"20101214",source_id:676,objectid:60,listing_st:"Threatened",ch_id:374,ch_str_id:"a-374"},{comname:"Mountain yellow-legged frog",sciname:"Rana muscosa",spcode:"D02H",vipcode:"V01",entity_id:207,status:"Final",leadoffice:11430,fedreg:"71FR54344 54386",pubdate:"20060914",source_id:1158,objectid:178,listing_st:"Endangered",ch_id:374,ch_str_id:"a-374"},{comname:"Gierisch mallow",sciname:"Sphaeralcea gierischii",spcode:"Q3LJ",vipcode:"P01",entity_id:9929,status:"Final",leadoffice:22410,fedreg:"78FR49165 49183",pubdate:"20130813",source_id:1523,objectid:299,listing_st:"Endangered",ch_id:375,ch_str_id:"a-375"},{comname:"Holmgren milk-vetch",sciname:"Astragalus holmgreniorum",spcode:"Q2NC",vipcode:"P01",entity_id:1020,status:"Final",leadoffice:65411,fedreg:"71FR77972 78012",pubdate:"20061227",source_id:1358,objectid:234,listing_st:"Endangered",ch_id:375,ch_str_id:"a-375"},{comname:"Hairy Orcutt grass",sciname:"Orcuttia pilosa",spcode:"Q1AY",vipcode:"P01",entity_id:582,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1090,objectid:135,listing_st:"Endangered",ch_id:376,ch_str_id:"a-376"},{comname:"Fleshy owl's-clover",sciname:"Castilleja campestris ssp. succulenta",spcode:"Q0CG",vipcode:"P01",entity_id:522,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1082,objectid:127,listing_st:"Threatened",ch_id:376,ch_str_id:"a-376"},{comname:"Hairy Orcutt grass",sciname:"Orcuttia pilosa",spcode:"Q1AY",vipcode:"P01",entity_id:582,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1090,objectid:135,listing_st:"Endangered",ch_id:377,ch_str_id:"a-377"},{comname:"Colusa grass",sciname:"Neostapfia colusana",spcode:"Q19I",vipcode:"P01",entity_id:580,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1088,objectid:133,listing_st:"Threatened",ch_id:377,ch_str_id:"a-377"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:377,ch_str_id:"a-377"},{comname:"Bull Trout",sciname:"Salvelinus confluentus",spcode:"E065",vipcode:"V06",entity_id:301,status:"Final",leadoffice:14420,fedreg:"75FR63898 64070",pubdate:"20101018",source_id:830,objectid:68,listing_st:"Threatened",ch_id:378,ch_str_id:"a-378"},{comname:"Northern spotted owl",sciname:"Strix occidentalis caurina",spcode:"B08B",vipcode:"V01",entity_id:142,status:"Final",leadoffice:13420,fedreg:"86FR62606 62666",pubdate:"20211110",source_id:791,objectid:65,listing_st:"Threatened",ch_id:378,ch_str_id:"a-378"},{comname:"Bear Valley sandwort",sciname:"Arenaria ursina",spcode:"Q03Z",vipcode:"P01",entity_id:506,status:"Final",leadoffice:11430,fedreg:"72FR73092 73178",pubdate:"20071226",source_id:1329,objectid:215,listing_st:"Threatened",ch_id:379,ch_str_id:"a-379"},{comname:"Ash-grey paintbrush",sciname:"Castilleja cinerea",spcode:"Q0CL",vipcode:"P01",entity_id:523,status:"Final",leadoffice:11430,fedreg:"72FR73092 73178",pubdate:"20071226",source_id:1330,objectid:216,listing_st:"Threatened",ch_id:379,ch_str_id:"a-379"},{comname:"Laguna Mountains skipper",sciname:"Pyrgus ruralis lagunae",spcode:"I0LW",vipcode:"I01",entity_id:451,status:"Final",leadoffice:11430,fedreg:"71FR74592 74615",pubdate:"20061212",source_id:1222,objectid:198,listing_st:"Endangered",ch_id:38,ch_str_id:"a-38"},{comname:"Southern mountain wild-buckwheat",sciname:"Eriogonum kennedyi var. austromontanum",spcode:"Q0S7",vipcode:"P01",entity_id:548,status:"Final",leadoffice:11430,fedreg:"72FR73092 73178",pubdate:"20071226",source_id:1328,objectid:214,listing_st:"Threatened",ch_id:380,ch_str_id:"a-380"},{comname:"Ash-grey paintbrush",sciname:"Castilleja cinerea",spcode:"Q0CL",vipcode:"P01",entity_id:523,status:"Final",leadoffice:11430,fedreg:"72FR73092 73178",pubdate:"20071226",source_id:1330,objectid:216,listing_st:"Threatened",ch_id:380,ch_str_id:"a-380"},{comname:"California taraxacum",sciname:"Taraxacum californicum",spcode:"Q1SB",vipcode:"P01",entity_id:614,status:"Final",leadoffice:11430,fedreg:"73FR47706 47767",pubdate:"20080814",source_id:1334,objectid:219,listing_st:"Endangered",ch_id:381,ch_str_id:"a-381"},{comname:"Ash-grey paintbrush",sciname:"Castilleja cinerea",spcode:"Q0CL",vipcode:"P01",entity_id:523,status:"Final",leadoffice:11430,fedreg:"72FR73092 73178",pubdate:"20071226",source_id:1330,objectid:216,listing_st:"Threatened",ch_id:381,ch_str_id:"a-381"},{comname:"Sierra Nevada Yellow-legged Frog",sciname:"Rana sierrae",spcode:"D04M",vipcode:"V01",entity_id:10517,status:"Final",leadoffice:11420,fedreg:"81FR59045 59119",pubdate:"20160826",source_id:1502,objectid:290,listing_st:"Endangered",ch_id:382,ch_str_id:"a-382"},{comname:"Yosemite toad",sciname:"Anaxyrus canorus",spcode:"D02K",vipcode:"V01",entity_id:1707,status:"Final",leadoffice:11420,fedreg:"81FR59045 59119",pubdate:"20160826",source_id:1500,objectid:288,listing_st:"Threatened",ch_id:382,ch_str_id:"a-382"},{comname:"Yadon's piperia",sciname:"Piperia yadonii",spcode:"Q3FA",vipcode:"P01",entity_id:1171,status:"Final",leadoffice:11440,fedreg:"72FR60410 60450",pubdate:"20071024",source_id:1372,objectid:243,listing_st:"Endangered",ch_id:384,ch_str_id:"a-384"},{comname:"Monterey spineflower",sciname:"Chorizanthe pungens var. pungens",spcode:"Q271",vipcode:"P01",entity_id:903,status:"Final",leadoffice:11440,fedreg:"73FR1525",pubdate:"20080109",source_id:964,objectid:90,listing_st:"Threatened",ch_id:384,ch_str_id:"a-384"},{comname:"Yadon's piperia",sciname:"Piperia yadonii",spcode:"Q3FA",vipcode:"P01",entity_id:1171,status:"Final",leadoffice:11440,fedreg:"72FR60410 60450",pubdate:"20071024",source_id:1372,objectid:243,listing_st:"Endangered",ch_id:385,ch_str_id:"a-385"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:385,ch_str_id:"a-385"},{comname:"Kern Canyon slender salamander",sciname:"Batrachoseps simatus",spcode:"D01A",vipcode:"V01",entity_id:8302,status:"Proposed",leadoffice:11420,fedreg:"88FR81028 81038",pubdate:"20231121",source_id:2045,objectid:763,listing_st:"Proposed Threatened",ch_id:386,ch_str_id:"a-386"},{comname:"Relictual slender salamander",sciname:"Batrachoseps relictus",spcode:"D02V",vipcode:"V01",entity_id:5688,status:"Proposed",leadoffice:11420,fedreg:"88FR81028 81038",pubdate:"20231121",source_id:2044,objectid:762,listing_st:"Proposed Endangered",ch_id:386,ch_str_id:"a-386"},{comname:"Cushenbury buckwheat",sciname:"Eriogonum ovalifolium var. vineum",spcode:"Q1W8",vipcode:"P01",entity_id:710,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:662,objectid:49,listing_st:"Endangered",ch_id:387,ch_str_id:"a-387"},{comname:"Cushenbury milk-vetch",sciname:"Astragalus albens",spcode:"Q2Z7",vipcode:"P01",entity_id:1086,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:660,objectid:47,listing_st:"Endangered",ch_id:387,ch_str_id:"a-387"},{comname:"Cushenbury buckwheat",sciname:"Eriogonum ovalifolium var. vineum",spcode:"Q1W8",vipcode:"P01",entity_id:710,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:662,objectid:49,listing_st:"Endangered",ch_id:388,ch_str_id:"a-388"},{comname:"Parish's daisy",sciname:"Erigeron parishii",spcode:"Q29D",vipcode:"P01",entity_id:928,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:669,objectid:55,listing_st:"Threatened",ch_id:388,ch_str_id:"a-388"},{comname:"Cushenbury buckwheat",sciname:"Eriogonum ovalifolium var. vineum",spcode:"Q1W8",vipcode:"P01",entity_id:710,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:662,objectid:49,listing_st:"Endangered",ch_id:389,ch_str_id:"a-389"},{comname:"San Bernardino Mountains bladderpod",sciname:"Lesquerella kingii ssp. bernardina",spcode:"Q2CD",vipcode:"P01",entity_id:958,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:675,objectid:59,listing_st:"Endangered",ch_id:389,ch_str_id:"a-389"},{comname:"Arizona eryngo",sciname:"Eryngium sparganophyllum",spcode:"Q3ST",vipcode:"P01",entity_id:11513,status:"Final",leadoffice:22410,fedreg:"87FR35431",pubdate:"20220610",source_id:1995,objectid:713,listing_st:"Endangered",ch_id:39,ch_str_id:"a-39"},{comname:"Cushenbury buckwheat",sciname:"Eriogonum ovalifolium var. vineum",spcode:"Q1W8",vipcode:"P01",entity_id:710,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:662,objectid:49,listing_st:"Endangered",ch_id:390,ch_str_id:"a-390"},{comname:"Cushenbury oxytheca",sciname:"Oxytheca parishii var. goodmaniana",spcode:"Q36L",vipcode:"P01",entity_id:1134,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:2083,objectid:800,listing_st:"Endangered",ch_id:390,ch_str_id:"a-390"},{comname:"Colusa grass",sciname:"Neostapfia colusana",spcode:"Q19I",vipcode:"P01",entity_id:580,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1088,objectid:133,listing_st:"Threatened",ch_id:391,ch_str_id:"a-391"},{comname:"Greene's tuctoria",sciname:"Tuctoria greenei",spcode:"Q23K",vipcode:"P01",entity_id:858,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1097,objectid:142,listing_st:"Endangered",ch_id:391,ch_str_id:"a-391"},{comname:"San Joaquin Valley Orcutt grass",sciname:"Orcuttia inaequalis",spcode:"Q1ZP",vipcode:"P01",entity_id:786,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1089,objectid:134,listing_st:"Threatened",ch_id:391,ch_str_id:"a-391"},{comname:"Fleshy owl's-clover",sciname:"Castilleja campestris ssp. succulenta",spcode:"Q0CG",vipcode:"P01",entity_id:522,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1082,objectid:127,listing_st:"Threatened",ch_id:391,ch_str_id:"a-391"},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:391,ch_str_id:"a-391"},{comname:"Braunton's milk-vetch",sciname:"Astragalus brauntonii",spcode:"Q05E",vipcode:"P01",entity_id:507,status:"Final",leadoffice:11440,fedreg:"71FR66374 66423",pubdate:"20061114",source_id:1319,objectid:206,listing_st:"Endangered",ch_id:392,ch_str_id:"a-392"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:392,ch_str_id:"a-392"},{comname:"Fleshy owl's-clover",sciname:"Castilleja campestris ssp. succulenta",spcode:"Q0CG",vipcode:"P01",entity_id:522,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1082,objectid:127,listing_st:"Threatened",ch_id:393,ch_str_id:"a-393"},{comname:"California tiger Salamander",sciname:"Ambystoma californiense",spcode:"D01T",vipcode:"V03",entity_id:4773,status:"Final",leadoffice:11420,fedreg:"70FR49380 49458",pubdate:"20050823",source_id:1063,objectid:112,listing_st:"Threatened",ch_id:393,ch_str_id:"a-393"},{comname:"Fleshy owl's-clover",sciname:"Castilleja campestris ssp. succulenta",spcode:"Q0CG",vipcode:"P01",entity_id:522,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1082,objectid:127,listing_st:"Threatened",ch_id:394,ch_str_id:"a-394"},{comname:"Greene's tuctoria",sciname:"Tuctoria greenei",spcode:"Q23K",vipcode:"P01",entity_id:858,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1097,objectid:142,listing_st:"Endangered",ch_id:394,ch_str_id:"a-394"},{comname:"Colusa grass",sciname:"Neostapfia colusana",spcode:"Q19I",vipcode:"P01",entity_id:580,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1088,objectid:133,listing_st:"Threatened",ch_id:394,ch_str_id:"a-394"},{comname:"Fleshy owl's-clover",sciname:"Castilleja campestris ssp. succulenta",spcode:"Q0CG",vipcode:"P01",entity_id:522,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1082,objectid:127,listing_st:"Threatened",ch_id:395,ch_str_id:"a-395"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:395,ch_str_id:"a-395"},{comname:"Fleshy owl's-clover",sciname:"Castilleja campestris ssp. succulenta",spcode:"Q0CG",vipcode:"P01",entity_id:522,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1082,objectid:127,listing_st:"Threatened",ch_id:396,ch_str_id:"a-396"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:396,ch_str_id:"a-396"},{comname:"La Graciosa thistle",sciname:"Cirsium loncholepis",spcode:"Q0FE",vipcode:"P01",entity_id:531,status:"Final",leadoffice:11440,fedreg:"74FR56978 57046",pubdate:"20091103",source_id:956,objectid:83,listing_st:"Endangered",ch_id:397,ch_str_id:"a-397"},{comname:"Lompoc yerba santa",sciname:"Eriodictyon capitatum",spcode:"Q0QR",vipcode:"P01",entity_id:546,status:"Final",leadoffice:11440,fedreg:"67FR67968 68001",pubdate:"20021107",source_id:959,objectid:85,listing_st:"Endangered",ch_id:397,ch_str_id:"a-397"},{comname:"La Graciosa thistle",sciname:"Cirsium loncholepis",spcode:"Q0FE",vipcode:"P01",entity_id:531,status:"Final",leadoffice:11440,fedreg:"74FR56978 57046",pubdate:"20091103",source_id:956,objectid:83,listing_st:"Endangered",ch_id:398,ch_str_id:"a-398"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:398,ch_str_id:"a-398"},{comname:"Baker's larkspur",sciname:"Delphinium bakeri",spcode:"Q0LZ",vipcode:"P01",entity_id:539,status:"Final",leadoffice:11420,fedreg:"68FR12834 12863",pubdate:"20030318",source_id:1134,objectid:161,listing_st:"Endangered",ch_id:399,ch_str_id:"a-399"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:399,ch_str_id:"a-399"},{comname:"Guadalupe fescue",sciname:"Festuca ligulata",spcode:"Q0UM",vipcode:"P01",entity_id:6782,status:"Proposed",leadoffice:21450,fedreg:"82FR42245 42260",pubdate:"20170907",source_id:1950,objectid:677,listing_st:"Endangered",ch_id:4,ch_str_id:"a-4"},{comname:"Houston toad",sciname:"Bufo houstonensis",spcode:"D004",vipcode:"V01",entity_id:190,status:"Final",leadoffice:21450,fedreg:"43FR4022 4026",pubdate:"19780131",source_id:13,objectid:4,listing_st:"Endangered",ch_id:40,ch_str_id:"a-40"},{comname:"Yellow larkspur",sciname:"Delphinium luteum",spcode:"Q0M2",vipcode:"P01",entity_id:540,status:"Final",leadoffice:11420,fedreg:"68FR12834 12863",pubdate:"20030318",source_id:1064,objectid:113,listing_st:"Endangered",ch_id:400,ch_str_id:"a-400"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:400,ch_str_id:"a-400"},{comname:"Santa Cruz tarplant",sciname:"Holocarpha macradenia",spcode:"Q0ZL",vipcode:"P01",entity_id:562,status:"Final",leadoffice:11440,fedreg:"67FR63968 64007",pubdate:"20021016",source_id:961,objectid:87,listing_st:"Threatened",ch_id:401,ch_str_id:"a-401"},{comname:"Zayante band-winged grasshopper",sciname:"Trimerotropis infantilis",spcode:"I0OY",vipcode:"I01",entity_id:458,status:"Final",leadoffice:11440,fedreg:"66FR9219 9233",pubdate:"20010207",source_id:971,objectid:96,listing_st:"Endangered",ch_id:401,ch_str_id:"a-401"},{comname:"Santa Cruz tarplant",sciname:"Holocarpha macradenia",spcode:"Q0ZL",vipcode:"P01",entity_id:562,status:"Final",leadoffice:11440,fedreg:"67FR63968 64007",pubdate:"20021016",source_id:961,objectid:87,listing_st:"Threatened",ch_id:402,ch_str_id:"a-402"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:402,ch_str_id:"a-402"},{comname:"Santa Cruz tarplant",sciname:"Holocarpha macradenia",spcode:"Q0ZL",vipcode:"P01",entity_id:562,status:"Final",leadoffice:11440,fedreg:"67FR63968 64007",pubdate:"20021016",source_id:961,objectid:87,listing_st:"Threatened",ch_id:403,ch_str_id:"a-403"},{comname:"Alameda whipsnake (=striped racer)",sciname:"Masticophis lateralis euryxanthus",spcode:"C04A",vipcode:"V01",entity_id:183,status:"Final",leadoffice:11420,fedreg:"71FR58176 58231",pubdate:"20061002",source_id:1300,objectid:203,listing_st:"Threatened",ch_id:403,ch_str_id:"a-403"},{comname:"Contra Costa goldfields",sciname:"Lasthenia conjugens",spcode:"Q122",vipcode:"P01",entity_id:566,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1085,objectid:130,listing_st:"Endangered",ch_id:404,ch_str_id:"a-404"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:404,ch_str_id:"a-404"},{comname:"Contra Costa goldfields",sciname:"Lasthenia conjugens",spcode:"Q122",vipcode:"P01",entity_id:566,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1085,objectid:130,listing_st:"Endangered",ch_id:405,ch_str_id:"a-405"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:405,ch_str_id:"a-405"},{comname:"Contra Costa goldfields",sciname:"Lasthenia conjugens",spcode:"Q122",vipcode:"P01",entity_id:566,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1085,objectid:130,listing_st:"Endangered",ch_id:406,ch_str_id:"a-406"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:406,ch_str_id:"a-406"},{comname:"Contra Costa goldfields",sciname:"Lasthenia conjugens",spcode:"Q122",vipcode:"P01",entity_id:566,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1085,objectid:130,listing_st:"Endangered",ch_id:407,ch_str_id:"a-407"},{comname:"Delta smelt",sciname:"Hypomesus transpacificus",spcode:"E070",vipcode:"V01",entity_id:305,status:"Final",leadoffice:81410,fedreg:"59FR65256 65279",pubdate:"19941219",source_id:1065,objectid:114,listing_st:"Threatened",ch_id:407,ch_str_id:"a-407"},{comname:"Contra Costa goldfields",sciname:"Lasthenia conjugens",spcode:"Q122",vipcode:"P01",entity_id:566,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1085,objectid:130,listing_st:"Endangered",ch_id:408,ch_str_id:"a-408"},{comname:"Suisun thistle",sciname:"Cirsium hydrophilum var. hydrophilum",spcode:"Q0FC",vipcode:"P01",entity_id:530,status:"Final",leadoffice:81410,fedreg:"72FR18518 18553",pubdate:"20070412",source_id:1374,objectid:245,listing_st:"Endangered",ch_id:408,ch_str_id:"a-408"},{comname:"Little Kern golden trout",sciname:"Oncorhynchus aguabonita whitei",spcode:"E01Z",vipcode:"V01",entity_id:248,status:"Final",leadoffice:11420,fedreg:"43FR15427 15429",pubdate:"19780413",source_id:1069,objectid:118,listing_st:"Threatened",ch_id:409,ch_str_id:"a-409"},{comname:"Mountain yellow-legged frog",sciname:"Rana muscosa",spcode:"D02H",vipcode:"V02",entity_id:1740,status:"Final",leadoffice:11420,fedreg:"81FR59045 59119",pubdate:"20160826",source_id:1501,objectid:289,listing_st:"Endangered",ch_id:409,ch_str_id:"a-409"},{comname:"Devils River minnow",sciname:"Dionda diaboli",spcode:"E03V",vipcode:"V01",entity_id:272,status:"Final",leadoffice:21450,fedreg:"73FR46988 47026",pubdate:"20080812",source_id:2019,objectid:734,listing_st:"Threatened",ch_id:41,ch_str_id:"a-41"},{comname:"Little Kern golden trout",sciname:"Oncorhynchus aguabonita whitei",spcode:"E01Z",vipcode:"V01",entity_id:248,status:"Final",leadoffice:11420,fedreg:"43FR15427 15429",pubdate:"19780413",source_id:1069,objectid:118,listing_st:"Threatened",ch_id:410,ch_str_id:"a-410"},{comname:"Fisher",sciname:"Pekania pennanti",spcode:"A0HS",vipcode:"V05",entity_id:11653,status:"Proposed",leadoffice:11420,fedreg:"87FR66987 67006",pubdate:"20221107",source_id:2013,objectid:732,listing_st:"Endangered",ch_id:410,ch_str_id:"a-410"},{comname:"Sacramento Orcutt grass",sciname:"Orcuttia viscida",spcode:"Q1ZQ",vipcode:"P01",entity_id:787,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1092,objectid:137,listing_st:"Endangered",ch_id:411,ch_str_id:"a-411"},{comname:"California tiger Salamander",sciname:"Ambystoma californiense",spcode:"D01T",vipcode:"V03",entity_id:4773,status:"Final",leadoffice:11420,fedreg:"70FR49380 49458",pubdate:"20050823",source_id:1063,objectid:112,listing_st:"Threatened",ch_id:411,ch_str_id:"a-411"},{comname:"Slender Orcutt grass",sciname:"Orcuttia tenuis",spcode:"Q1AZ",vipcode:"P01",entity_id:583,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1091,objectid:136,listing_st:"Threatened",ch_id:412,ch_str_id:"a-412"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:412,ch_str_id:"a-412"},{comname:"California tiger Salamander",sciname:"Ambystoma californiense",spcode:"D01T",vipcode:"V03",entity_id:4773,status:"Final",leadoffice:11420,fedreg:"70FR49380 49458",pubdate:"20050823",source_id:1063,objectid:112,listing_st:"Threatened",ch_id:413,ch_str_id:"a-413"},{comname:"Delta green ground beetle",sciname:"Elaphrus viridis",spcode:"I01G",vipcode:"I01",entity_id:435,status:"Final",leadoffice:11420,fedreg:"45FR52807 52810",pubdate:"19800808",source_id:1145,objectid:166,listing_st:"Threatened",ch_id:413,ch_str_id:"a-413"},{comname:"California tiger Salamander",sciname:"Ambystoma californiense",spcode:"D01T",vipcode:"V03",entity_id:4773,status:"Final",leadoffice:11420,fedreg:"70FR49380 49458",pubdate:"20050823",source_id:1063,objectid:112,listing_st:"Threatened",ch_id:414,ch_str_id:"a-414"},{comname:"Bay checkerspot butterfly",sciname:"Euphydryas editha bayensis",spcode:"I021",vipcode:"I01",entity_id:438,status:"Final",leadoffice:11420,fedreg:"73FR50406 50452",pubdate:"20080826",source_id:1056,objectid:105,listing_st:"Threatened",ch_id:414,ch_str_id:"a-414"},{comname:"California tiger Salamander",sciname:"Ambystoma californiense",spcode:"D01T",vipcode:"V03",entity_id:4773,status:"Final",leadoffice:11420,fedreg:"70FR49380 49458",pubdate:"20050823",source_id:1063,objectid:112,listing_st:"Threatened",ch_id:415,ch_str_id:"a-415"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:415,ch_str_id:"a-415"},{comname:"California tiger Salamander",sciname:"Ambystoma californiense",spcode:"D01T",vipcode:"V03",entity_id:4773,status:"Final",leadoffice:11420,fedreg:"70FR49380 49458",pubdate:"20050823",source_id:1063,objectid:112,listing_st:"Threatened",ch_id:416,ch_str_id:"a-416"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:416,ch_str_id:"a-416"},{comname:"California tiger Salamander",sciname:"Ambystoma californiense",spcode:"D01T",vipcode:"V03",entity_id:4773,status:"Final",leadoffice:11420,fedreg:"70FR49380 49458",pubdate:"20050823",source_id:1063,objectid:112,listing_st:"Threatened",ch_id:417,ch_str_id:"a-417"},{comname:"Delta smelt",sciname:"Hypomesus transpacificus",spcode:"E070",vipcode:"V01",entity_id:305,status:"Final",leadoffice:81410,fedreg:"59FR65256 65279",pubdate:"19941219",source_id:1065,objectid:114,listing_st:"Threatened",ch_id:417,ch_str_id:"a-417"},{comname:"Greene's tuctoria",sciname:"Tuctoria greenei",spcode:"Q23K",vipcode:"P01",entity_id:858,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1097,objectid:142,listing_st:"Endangered",ch_id:418,ch_str_id:"a-418"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:418,ch_str_id:"a-418"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:418,ch_str_id:"a-418"},{comname:"Hairy Orcutt grass",sciname:"Orcuttia pilosa",spcode:"Q1AY",vipcode:"P01",entity_id:582,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1090,objectid:135,listing_st:"Endangered",ch_id:418,ch_str_id:"a-418"},{comname:"Hoover's spurge",sciname:"Chamaesyce hooveri",spcode:"Q0E9",vipcode:"P01",entity_id:527,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1084,objectid:129,listing_st:"Threatened",ch_id:418,ch_str_id:"a-418"},{comname:"Slender Orcutt grass",sciname:"Orcuttia tenuis",spcode:"Q1AZ",vipcode:"P01",entity_id:583,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1091,objectid:136,listing_st:"Threatened",ch_id:418,ch_str_id:"a-418"},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:418,ch_str_id:"a-418"},{comname:"Butte County meadowfoam",sciname:"Limnanthes floccosa ssp. californica",spcode:"Q2YE",vipcode:"P01",entity_id:1081,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1087,objectid:132,listing_st:"Endangered",ch_id:419,ch_str_id:"a-419"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:419,ch_str_id:"a-419"},{comname:"Leon Springs pupfish",sciname:"Cyprinodon bovinus",spcode:"E023",vipcode:"V01",entity_id:251,status:"Final",leadoffice:21450,fedreg:"45FR54678 54681",pubdate:"19800815",source_id:932,objectid:78,listing_st:"Endangered",ch_id:42,ch_str_id:"a-42"},{comname:"Diamond Tryonia",sciname:"Pseudotryonia adamantina",spcode:"G04W",vipcode:"I01",entity_id:4437,status:"Final",leadoffice:21450,fedreg:"78FR40970 40996",pubdate:"20130709",source_id:1487,objectid:277,listing_st:"Endangered",ch_id:42,ch_str_id:"a-42"},{comname:"Gonzales tryonia",sciname:"Tryonia circumstriata (=stocktonensis)",spcode:"G05D",vipcode:"I01",entity_id:5362,status:"Final",leadoffice:21450,fedreg:"78FR40970 40996",pubdate:"20130709",source_id:1490,objectid:279,listing_st:"Endangered",ch_id:42,ch_str_id:"a-42"},{comname:"Pecos amphipod",sciname:"Gammarus pecos",spcode:"K024",vipcode:"I01",entity_id:6596,status:"Final",leadoffice:21450,fedreg:"78FR40970 40996",pubdate:"20130709",source_id:1481,objectid:274,listing_st:"Endangered",ch_id:42,ch_str_id:"a-42"},{comname:"Cushenbury milk-vetch",sciname:"Astragalus albens",spcode:"Q2Z7",vipcode:"P01",entity_id:1086,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:660,objectid:47,listing_st:"Endangered",ch_id:420,ch_str_id:"a-420"},{comname:"Parish's daisy",sciname:"Erigeron parishii",spcode:"Q29D",vipcode:"P01",entity_id:928,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:669,objectid:55,listing_st:"Threatened",ch_id:420,ch_str_id:"a-420"},{comname:"Cushenbury milk-vetch",sciname:"Astragalus albens",spcode:"Q2Z7",vipcode:"P01",entity_id:1086,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:660,objectid:47,listing_st:"Endangered",ch_id:421,ch_str_id:"a-421"},{comname:"Cushenbury oxytheca",sciname:"Oxytheca parishii var. goodmaniana",spcode:"Q36L",vipcode:"P01",entity_id:1134,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:2083,objectid:800,listing_st:"Endangered",ch_id:421,ch_str_id:"a-421"},{comname:"Gaviota Tarplant",sciname:"Deinandra increscens ssp. villosa",spcode:"Q340",vipcode:"P01",entity_id:1119,status:"Final",leadoffice:11440,fedreg:"67FR67968 68001",pubdate:"20021107",source_id:957,objectid:84,listing_st:"Endangered",ch_id:422,ch_str_id:"a-422"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:422,ch_str_id:"a-422"},{comname:"Coachella Valley milk-vetch",sciname:"Astragalus lentiginosus var. coachellae",spcode:"Q25Y",vipcode:"P01",entity_id:886,status:"Final",leadoffice:11430,fedreg:"78FR10449 10497",pubdate:"20130213",source_id:658,objectid:46,listing_st:"Endangered",ch_id:423,ch_str_id:"a-423"},{comname:"Coachella Valley fringe-toed lizard",sciname:"Uma inornata",spcode:"C02I",vipcode:"V01",entity_id:175,status:"Final",leadoffice:11430,fedreg:"45FR63812 63820",pubdate:"19800925",source_id:657,objectid:45,listing_st:"Threatened",ch_id:423,ch_str_id:"a-423"},{comname:"Monterey spineflower",sciname:"Chorizanthe pungens var. pungens",spcode:"Q271",vipcode:"P01",entity_id:903,status:"Final",leadoffice:11440,fedreg:"73FR1525",pubdate:"20080109",source_id:964,objectid:90,listing_st:"Threatened",ch_id:424,ch_str_id:"a-424"},{comname:"Robust spineflower",sciname:"Chorizanthe robusta var. robusta",spcode:"Q3O7",vipcode:"P01",entity_id:10290,status:"Final",leadoffice:11440,fedreg:"67FR36822 36845",pubdate:"20020528",source_id:1529,objectid:304,listing_st:"Endangered",ch_id:424,ch_str_id:"a-424"},{comname:"Parish's daisy",sciname:"Erigeron parishii",spcode:"Q29D",vipcode:"P01",entity_id:928,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:669,objectid:55,listing_st:"Threatened",ch_id:425,ch_str_id:"a-425"},{comname:"Cushenbury oxytheca",sciname:"Oxytheca parishii var. goodmaniana",spcode:"Q36L",vipcode:"P01",entity_id:1134,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:2083,objectid:800,listing_st:"Endangered",ch_id:425,ch_str_id:"a-425"},{comname:"Morro shoulderband (=Banded dune) snail",sciname:"Helminthoglypta walkeriana",spcode:"G00D",vipcode:"I01",entity_id:387,status:"Final",leadoffice:11440,fedreg:"66FR9233 9246",pubdate:"20010207",source_id:965,objectid:91,listing_st:"Threatened",ch_id:426,ch_str_id:"a-426"},{comname:"Morro Bay kangaroo rat",sciname:"Dipodomys heermanni morroensis",spcode:"A03X",vipcode:"V01",entity_id:16,status:"Final",leadoffice:11440,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:963,objectid:89,listing_st:"Endangered",ch_id:426,ch_str_id:"a-426"},{comname:"Morro shoulderband (=Banded dune) snail",sciname:"Helminthoglypta walkeriana",spcode:"G00D",vipcode:"I01",entity_id:387,status:"Final",leadoffice:11440,fedreg:"66FR9233 9246",pubdate:"20010207",source_id:965,objectid:91,listing_st:"Threatened",ch_id:427,ch_str_id:"a-427"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:427,ch_str_id:"a-427"},{comname:"Pacific Marten, Coastal Distinct Population Segment",sciname:"Martes caurina",spcode:"A0JI",vipcode:"V01",entity_id:10078,status:"Final",leadoffice:11331,fedreg:"89FR46576 46616",pubdate:"20240529",source_id:2014,objectid:733,listing_st:"Threatened",ch_id:428,ch_str_id:"a-428"},{comname:"Northern spotted owl",sciname:"Strix occidentalis caurina",spcode:"B08B",vipcode:"V01",entity_id:142,status:"Final",leadoffice:13420,fedreg:"86FR62606 62666",pubdate:"20211110",source_id:791,objectid:65,listing_st:"Threatened",ch_id:428,ch_str_id:"a-428"},{comname:"Pacific Marten, Coastal Distinct Population Segment",sciname:"Martes caurina",spcode:"A0JI",vipcode:"V01",entity_id:10078,status:"Final",leadoffice:11331,fedreg:"89FR46576 46616",pubdate:"20240529",source_id:2014,objectid:733,listing_st:"Threatened",ch_id:429,ch_str_id:"a-429"},{comname:"Oregon silverspot butterfly",sciname:"Speyeria zerene hippolyta",spcode:"I01A",vipcode:"I01",entity_id:431,status:"Final",leadoffice:13420,fedreg:"45FR44935 44939",pubdate:"19800702",source_id:1164,objectid:182,listing_st:"Threatened",ch_id:429,ch_str_id:"a-429"},{comname:"Jollyville Plateau Salamander",sciname:"Eurycea tonkawae",spcode:"D02T",vipcode:"V01",entity_id:8231,status:"Final",leadoffice:21450,fedreg:"78FR51328 51379",pubdate:"20130820",source_id:1474,objectid:267,listing_st:"Threatened",ch_id:43,ch_str_id:"a-43"},{comname:"Yosemite toad",sciname:"Anaxyrus canorus",spcode:"D02K",vipcode:"V01",entity_id:1707,status:"Final",leadoffice:11420,fedreg:"81FR59045 59119",pubdate:"20160826",source_id:1500,objectid:288,listing_st:"Threatened",ch_id:430,ch_str_id:"a-430"},{comname:"Fisher",sciname:"Pekania pennanti",spcode:"A0HS",vipcode:"V05",entity_id:11653,status:"Proposed",leadoffice:11420,fedreg:"87FR66987 67006",pubdate:"20221107",source_id:2013,objectid:732,listing_st:"Endangered",ch_id:430,ch_str_id:"a-430"},{comname:"California condor",sciname:"Gymnogyps californianus",spcode:"B002",vipcode:"V01",entity_id:66,status:"Final",leadoffice:11670,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:953,objectid:81,listing_st:"Endangered",ch_id:431,ch_str_id:"a-431"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:431,ch_str_id:"a-431"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:431,ch_str_id:"a-431"},{comname:"California condor",sciname:"Gymnogyps californianus",spcode:"B002",vipcode:"V01",entity_id:66,status:"Final",leadoffice:11670,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:953,objectid:81,listing_st:"Endangered",ch_id:432,ch_str_id:"a-432"},{comname:"Fisher",sciname:"Pekania pennanti",spcode:"A0HS",vipcode:"V05",entity_id:11653,status:"Proposed",leadoffice:11420,fedreg:"87FR66987 67006",pubdate:"20221107",source_id:2013,objectid:732,listing_st:"Endangered",ch_id:432,ch_str_id:"a-432"},{comname:"Northern spotted owl",sciname:"Strix occidentalis caurina",spcode:"B08B",vipcode:"V01",entity_id:142,status:"Final",leadoffice:13420,fedreg:"86FR62606 62666",pubdate:"20211110",source_id:791,objectid:65,listing_st:"Threatened",ch_id:433,ch_str_id:"a-433"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:433,ch_str_id:"a-433"},{comname:"Bay checkerspot butterfly",sciname:"Euphydryas editha bayensis",spcode:"I021",vipcode:"I01",entity_id:438,status:"Final",leadoffice:11420,fedreg:"73FR50406 50452",pubdate:"20080826",source_id:1056,objectid:105,listing_st:"Threatened",ch_id:434,ch_str_id:"a-434"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:434,ch_str_id:"a-434"},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:435,ch_str_id:"a-435"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:435,ch_str_id:"a-435"},{comname:"Longhorn fairy shrimp",sciname:"Branchinecta longiantenna",spcode:"K03E",vipcode:"I01",entity_id:491,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1086,objectid:131,listing_st:"Endangered",ch_id:436,ch_str_id:"a-436"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:436,ch_str_id:"a-436"},{comname:"Longhorn fairy shrimp",sciname:"Branchinecta longiantenna",spcode:"K03E",vipcode:"I01",entity_id:491,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1086,objectid:131,listing_st:"Endangered",ch_id:437,ch_str_id:"a-437"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:437,ch_str_id:"a-437"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:438,ch_str_id:"a-438"},{comname:"Suisun thistle",sciname:"Cirsium hydrophilum var. hydrophilum",spcode:"Q0FC",vipcode:"P01",entity_id:530,status:"Final",leadoffice:81410,fedreg:"72FR18518 18553",pubdate:"20070412",source_id:1374,objectid:245,listing_st:"Endangered",ch_id:438,ch_str_id:"a-438"},{comname:"Soft bird's-beak",sciname:"Cordylanthus mollis ssp. mollis",spcode:"Q0GT",vipcode:"P01",entity_id:534,status:"Final",leadoffice:81410,fedreg:"72FR18518 18553",pubdate:"20070412",source_id:1375,objectid:246,listing_st:"Endangered",ch_id:438,ch_str_id:"a-438"},{comname:"Delta smelt",sciname:"Hypomesus transpacificus",spcode:"E070",vipcode:"V01",entity_id:305,status:"Final",leadoffice:81410,fedreg:"59FR65256 65279",pubdate:"19941219",source_id:1065,objectid:114,listing_st:"Threatened",ch_id:438,ch_str_id:"a-438"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:438,ch_str_id:"a-438"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:439,ch_str_id:"a-439"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:439,ch_str_id:"a-439"},{comname:"Georgetown Salamander",sciname:"Eurycea naufragia",spcode:"D02S",vipcode:"V01",entity_id:5434,status:"Final",leadoffice:21450,fedreg:"86FR46536 46578",pubdate:"20210818",source_id:1525,objectid:301,listing_st:"Threatened",ch_id:44,ch_str_id:"a-44"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:440,ch_str_id:"a-440"},{comname:"Delta smelt",sciname:"Hypomesus transpacificus",spcode:"E070",vipcode:"V01",entity_id:305,status:"Final",leadoffice:81410,fedreg:"59FR65256 65279",pubdate:"19941219",source_id:1065,objectid:114,listing_st:"Threatened",ch_id:440,ch_str_id:"a-440"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:441,ch_str_id:"a-441"},{comname:"Large-flowered woolly meadowfoam",sciname:"Limnanthes pumila ssp. grandiflora",spcode:"Q2CL",vipcode:"P01",entity_id:1262,status:"Final",leadoffice:13420,fedreg:"75FR42490 42570",pubdate:"20100721",source_id:1350,objectid:230,listing_st:"Endangered",ch_id:441,ch_str_id:"a-441"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:442,ch_str_id:"a-442"},{comname:"Purple amole",sciname:"Chlorogalum purpureum",spcode:"Q0ET",vipcode:"P01",entity_id:528,status:"Final",leadoffice:11440,fedreg:"67FR65414 65445",pubdate:"20021024",source_id:954,objectid:82,listing_st:"Threatened",ch_id:442,ch_str_id:"a-442"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:443,ch_str_id:"a-443"},{comname:"Delta smelt",sciname:"Hypomesus transpacificus",spcode:"E070",vipcode:"V01",entity_id:305,status:"Final",leadoffice:81410,fedreg:"59FR65256 65279",pubdate:"19941219",source_id:1065,objectid:114,listing_st:"Threatened",ch_id:443,ch_str_id:"a-443"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:444,ch_str_id:"a-444"},{comname:"Alameda whipsnake (=striped racer)",sciname:"Masticophis lateralis euryxanthus",spcode:"C04A",vipcode:"V01",entity_id:183,status:"Final",leadoffice:11420,fedreg:"71FR58176 58231",pubdate:"20061002",source_id:1300,objectid:203,listing_st:"Threatened",ch_id:444,ch_str_id:"a-444"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:445,ch_str_id:"a-445"},{comname:"Robust spineflower",sciname:"Chorizanthe robusta var. robusta",spcode:"Q3O7",vipcode:"P01",entity_id:10290,status:"Final",leadoffice:11440,fedreg:"67FR36822 36845",pubdate:"20020528",source_id:1529,objectid:304,listing_st:"Endangered",ch_id:445,ch_str_id:"a-445"},{comname:"Ash Meadows Amargosa pupfish",sciname:"Cyprinodon nevadensis mionectes",spcode:"E042",vipcode:"V01",entity_id:274,status:"Final",leadoffice:84321,fedreg:"48FR40178 40186",pubdate:"19830902",source_id:1126,objectid:153,listing_st:"Endangered",ch_id:446,ch_str_id:"a-446"},{comname:"Ash Meadows speckled dace",sciname:"Rhinichthys osculus nevadensis",spcode:"E03A",vipcode:"V01",entity_id:264,status:"Final",leadoffice:84321,fedreg:"48FR40178 40186",pubdate:"19830902",source_id:1131,objectid:158,listing_st:"Endangered",ch_id:446,ch_str_id:"a-446"},{comname:"Ash Meadows Amargosa pupfish",sciname:"Cyprinodon nevadensis mionectes",spcode:"E042",vipcode:"V01",entity_id:274,status:"Final",leadoffice:84321,fedreg:"48FR40178 40186",pubdate:"19830902",source_id:1126,objectid:153,listing_st:"Endangered",ch_id:447,ch_str_id:"a-447"},{comname:"Spring-loving centaury",sciname:"Centaurium namophilum",spcode:"Q1U5",vipcode:"P01",entity_id:660,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1178,objectid:186,listing_st:"Threatened",ch_id:447,ch_str_id:"a-447"},{comname:"Ash Meadows naucorid",sciname:"Ambrysus amargosus",spcode:"I023",vipcode:"I01",entity_id:439,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1130,objectid:157,listing_st:"Threatened",ch_id:447,ch_str_id:"a-447"},{comname:"Ash Meadows Amargosa pupfish",sciname:"Cyprinodon nevadensis mionectes",spcode:"E042",vipcode:"V01",entity_id:274,status:"Final",leadoffice:84321,fedreg:"48FR40178 40186",pubdate:"19830902",source_id:1126,objectid:153,listing_st:"Endangered",ch_id:448,ch_str_id:"a-448"},{comname:"Ash meadows milk-vetch",sciname:"Astragalus phoenix",spcode:"Q1TB",vipcode:"P01",entity_id:641,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1133,objectid:160,listing_st:"Threatened",ch_id:448,ch_str_id:"a-448"},{comname:"Ash Meadows Amargosa pupfish",sciname:"Cyprinodon nevadensis mionectes",spcode:"E042",vipcode:"V01",entity_id:274,status:"Final",leadoffice:84321,fedreg:"48FR40178 40186",pubdate:"19830902",source_id:1126,objectid:153,listing_st:"Endangered",ch_id:449,ch_str_id:"a-449"},{comname:"Ash Meadows sunray",sciname:"Enceliopsis nudicaulis var. corrugata",spcode:"Q297",vipcode:"P01",entity_id:926,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1132,objectid:159,listing_st:"Threatened",ch_id:449,ch_str_id:"a-449"},{comname:"Salado Salamander",sciname:"Eurycea chisholmensis",spcode:"D02X",vipcode:"V01",entity_id:7610,status:"Final",leadoffice:21450,fedreg:"86FR46536 46578",pubdate:"20210818",source_id:1524,objectid:300,listing_st:"Threatened",ch_id:45,ch_str_id:"a-45"},{comname:"Lost River sucker",sciname:"Deltistes luxatus",spcode:"E052",vipcode:"V01",entity_id:288,status:"Final",leadoffice:11450,fedreg:"77FR73739 73768",pubdate:"20121211",source_id:1813,objectid:320,listing_st:"Endangered",ch_id:450,ch_str_id:"a-450"},{comname:"Shortnose Sucker",sciname:"Chasmistes brevirostris",spcode:"E055",vipcode:"V01",entity_id:291,status:"Final",leadoffice:11450,fedreg:"77FR73739 73768",pubdate:"20121211",source_id:1814,objectid:321,listing_st:"Endangered",ch_id:450,ch_str_id:"a-450"},{comname:"Delta smelt",sciname:"Hypomesus transpacificus",spcode:"E070",vipcode:"V01",entity_id:305,status:"Final",leadoffice:81410,fedreg:"59FR65256 65279",pubdate:"19941219",source_id:1065,objectid:114,listing_st:"Threatened",ch_id:451,ch_str_id:"a-451"},{comname:"Suisun thistle",sciname:"Cirsium hydrophilum var. hydrophilum",spcode:"Q0FC",vipcode:"P01",entity_id:530,status:"Final",leadoffice:81410,fedreg:"72FR18518 18553",pubdate:"20070412",source_id:1374,objectid:245,listing_st:"Endangered",ch_id:451,ch_str_id:"a-451"},{comname:"Cook's lomatium",sciname:"Lomatium cookii",spcode:"Q356",vipcode:"P01",entity_id:1263,status:"Final",leadoffice:13420,fedreg:"75FR42490 42570",pubdate:"20100721",source_id:1349,objectid:229,listing_st:"Endangered",ch_id:452,ch_str_id:"a-452"},{comname:"Large-flowered woolly meadowfoam",sciname:"Limnanthes pumila ssp. grandiflora",spcode:"Q2CL",vipcode:"P01",entity_id:1262,status:"Final",leadoffice:13420,fedreg:"75FR42490 42570",pubdate:"20100721",source_id:1350,objectid:230,listing_st:"Endangered",ch_id:452,ch_str_id:"a-452"},{comname:"Suisun thistle",sciname:"Cirsium hydrophilum var. hydrophilum",spcode:"Q0FC",vipcode:"P01",entity_id:530,status:"Final",leadoffice:81410,fedreg:"72FR18518 18553",pubdate:"20070412",source_id:1374,objectid:245,listing_st:"Endangered",ch_id:453,ch_str_id:"a-453"},{comname:"Soft bird's-beak",sciname:"Cordylanthus mollis ssp. mollis",spcode:"Q0GT",vipcode:"P01",entity_id:534,status:"Final",leadoffice:81410,fedreg:"72FR18518 18553",pubdate:"20070412",source_id:1375,objectid:246,listing_st:"Endangered",ch_id:453,ch_str_id:"a-453"},{comname:"Scotts Valley Polygonum",sciname:"Polygonum hickmanii",spcode:"Q3HV",vipcode:"P01",entity_id:1267,status:"Final",leadoffice:11440,fedreg:"68FR16979 16990",pubdate:"20030408",source_id:968,objectid:93,listing_st:"Endangered",ch_id:454,ch_str_id:"a-454"},{comname:"Scotts Valley spineflower",sciname:"Chorizanthe robusta var. hartwegii",spcode:"Q3IB",vipcode:"P01",entity_id:1378,status:"Final",leadoffice:11440,fedreg:"67FR37336 37353",pubdate:"20020529",source_id:969,objectid:94,listing_st:"Endangered",ch_id:454,ch_str_id:"a-454"},{comname:"Spring-loving centaury",sciname:"Centaurium namophilum",spcode:"Q1U5",vipcode:"P01",entity_id:660,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1178,objectid:186,listing_st:"Threatened",ch_id:455,ch_str_id:"a-455"},{comname:"Ash meadows milk-vetch",sciname:"Astragalus phoenix",spcode:"Q1TB",vipcode:"P01",entity_id:641,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1133,objectid:160,listing_st:"Threatened",ch_id:455,ch_str_id:"a-455"},{comname:"Spring-loving centaury",sciname:"Centaurium namophilum",spcode:"Q1U5",vipcode:"P01",entity_id:660,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1178,objectid:186,listing_st:"Threatened",ch_id:456,ch_str_id:"a-456"},{comname:"Ash Meadows blazingstar",sciname:"Mentzelia leucophylla",spcode:"Q1ZD",vipcode:"P01",entity_id:776,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1127,objectid:154,listing_st:"Threatened",ch_id:456,ch_str_id:"a-456"},{comname:"Spring-loving centaury",sciname:"Centaurium namophilum",spcode:"Q1U5",vipcode:"P01",entity_id:660,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1178,objectid:186,listing_st:"Threatened",ch_id:457,ch_str_id:"a-457"},{comname:"Ash Meadows gumplant",sciname:"Grindelia fraxinipratensis",spcode:"Q2AM",vipcode:"P01",entity_id:941,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1128,objectid:155,listing_st:"Threatened",ch_id:457,ch_str_id:"a-457"},{comname:"Spring-loving centaury",sciname:"Centaurium namophilum",spcode:"Q1U5",vipcode:"P01",entity_id:660,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1178,objectid:186,listing_st:"Threatened",ch_id:458,ch_str_id:"a-458"},{comname:"Ash Meadows ivesia",sciname:"Ivesia kingii var. eremica",spcode:"Q1XM",vipcode:"P01",entity_id:743,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1129,objectid:156,listing_st:"Threatened",ch_id:458,ch_str_id:"a-458"},{comname:"Ash Meadows sunray",sciname:"Enceliopsis nudicaulis var. corrugata",spcode:"Q297",vipcode:"P01",entity_id:926,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1132,objectid:159,listing_st:"Threatened",ch_id:458,ch_str_id:"a-458"},{comname:"Ash meadows milk-vetch",sciname:"Astragalus phoenix",spcode:"Q1TB",vipcode:"P01",entity_id:641,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1133,objectid:160,listing_st:"Threatened",ch_id:459,ch_str_id:"a-459"},{comname:"Ash Meadows blazingstar",sciname:"Mentzelia leucophylla",spcode:"Q1ZD",vipcode:"P01",entity_id:776,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1127,objectid:154,listing_st:"Threatened",ch_id:459,ch_str_id:"a-459"},{comname:"Ash Meadows ivesia",sciname:"Ivesia kingii var. eremica",spcode:"Q1XM",vipcode:"P01",entity_id:743,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1129,objectid:156,listing_st:"Threatened",ch_id:459,ch_str_id:"a-459"},{comname:"Mexican fawnsfoot",sciname:"Truncilla cognata",spcode:"F02J",vipcode:"I01",entity_id:8229,status:"Proposed",leadoffice:21450,fedreg:"88FR47952 47988",pubdate:"20230725",source_id:2088,objectid:806,listing_st:"Proposed Endangered",ch_id:46,ch_str_id:"a-46"},{comname:"Ash meadows milk-vetch",sciname:"Astragalus phoenix",spcode:"Q1TB",vipcode:"P01",entity_id:641,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1133,objectid:160,listing_st:"Threatened",ch_id:460,ch_str_id:"a-460"},{comname:"Ash Meadows gumplant",sciname:"Grindelia fraxinipratensis",spcode:"Q2AM",vipcode:"P01",entity_id:941,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1128,objectid:155,listing_st:"Threatened",ch_id:460,ch_str_id:"a-460"},{comname:"Ash meadows milk-vetch",sciname:"Astragalus phoenix",spcode:"Q1TB",vipcode:"P01",entity_id:641,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1133,objectid:160,listing_st:"Threatened",ch_id:461,ch_str_id:"a-461"},{comname:"Ash Meadows ivesia",sciname:"Ivesia kingii var. eremica",spcode:"Q1XM",vipcode:"P01",entity_id:743,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1129,objectid:156,listing_st:"Threatened",ch_id:461,ch_str_id:"a-461"},{comname:"Ash meadows milk-vetch",sciname:"Astragalus phoenix",spcode:"Q1TB",vipcode:"P01",entity_id:641,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1133,objectid:160,listing_st:"Threatened",ch_id:462,ch_str_id:"a-462"},{comname:"Ash Meadows sunray",sciname:"Enceliopsis nudicaulis var. corrugata",spcode:"Q297",vipcode:"P01",entity_id:926,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1132,objectid:159,listing_st:"Threatened",ch_id:462,ch_str_id:"a-462"},{comname:"Ash Meadows blazingstar",sciname:"Mentzelia leucophylla",spcode:"Q1ZD",vipcode:"P01",entity_id:776,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1127,objectid:154,listing_st:"Threatened",ch_id:462,ch_str_id:"a-462"},{comname:"Ash Meadows gumplant",sciname:"Grindelia fraxinipratensis",spcode:"Q2AM",vipcode:"P01",entity_id:941,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1128,objectid:155,listing_st:"Threatened",ch_id:462,ch_str_id:"a-462"},{comname:"Ash Meadows ivesia",sciname:"Ivesia kingii var. eremica",spcode:"Q1XM",vipcode:"P01",entity_id:743,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1129,objectid:156,listing_st:"Threatened",ch_id:462,ch_str_id:"a-462"},{comname:"Ash Meadows blazingstar",sciname:"Mentzelia leucophylla",spcode:"Q1ZD",vipcode:"P01",entity_id:776,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1127,objectid:154,listing_st:"Threatened",ch_id:463,ch_str_id:"a-463"},{comname:"Ash Meadows gumplant",sciname:"Grindelia fraxinipratensis",spcode:"Q2AM",vipcode:"P01",entity_id:941,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1128,objectid:155,listing_st:"Threatened",ch_id:463,ch_str_id:"a-463"},{comname:"Ash Meadows blazingstar",sciname:"Mentzelia leucophylla",spcode:"Q1ZD",vipcode:"P01",entity_id:776,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1127,objectid:154,listing_st:"Threatened",ch_id:464,ch_str_id:"a-464"},{comname:"Ash Meadows sunray",sciname:"Enceliopsis nudicaulis var. corrugata",spcode:"Q297",vipcode:"P01",entity_id:926,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1132,objectid:159,listing_st:"Threatened",ch_id:464,ch_str_id:"a-464"},{comname:"Spring-loving centaury",sciname:"Centaurium namophilum",spcode:"Q1U5",vipcode:"P01",entity_id:660,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1178,objectid:186,listing_st:"Threatened",ch_id:464,ch_str_id:"a-464"},{comname:"Ash Meadows gumplant",sciname:"Grindelia fraxinipratensis",spcode:"Q2AM",vipcode:"P01",entity_id:941,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1128,objectid:155,listing_st:"Threatened",ch_id:465,ch_str_id:"a-465"},{comname:"Ash Meadows ivesia",sciname:"Ivesia kingii var. eremica",spcode:"Q1XM",vipcode:"P01",entity_id:743,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1129,objectid:156,listing_st:"Threatened",ch_id:465,ch_str_id:"a-465"},{comname:"Ash Meadows gumplant",sciname:"Grindelia fraxinipratensis",spcode:"Q2AM",vipcode:"P01",entity_id:941,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1128,objectid:155,listing_st:"Threatened",ch_id:466,ch_str_id:"a-466"},{comname:"Ash Meadows sunray",sciname:"Enceliopsis nudicaulis var. corrugata",spcode:"Q297",vipcode:"P01",entity_id:926,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1132,objectid:159,listing_st:"Threatened",ch_id:466,ch_str_id:"a-466"},{comname:"Tenino pocket gopher",sciname:"Thomomys mazama tumuli",spcode:"A0IF",vipcode:"V01",entity_id:8684,status:"Final",leadoffice:13410,fedreg:"79FR19711 19757",pubdate:"20140409",source_id:1499,objectid:287,listing_st:"Threatened",ch_id:467,ch_str_id:"a-467"},{comname:"Taylor's (=whulge) Checkerspot",sciname:"Euphydryas editha taylori",spcode:"I0T6",vipcode:"I01",entity_id:7495,status:"Final",leadoffice:13410,fedreg:"78FR61505 61589",pubdate:"20131003",source_id:1476,objectid:269,listing_st:"Endangered",ch_id:467,ch_str_id:"a-467"},{comname:"Yelm pocket gopher",sciname:"Thomomys mazama yelmensis",spcode:"A0IG",vipcode:"V01",entity_id:8685,status:"Final",leadoffice:13410,fedreg:"79FR19711 19757",pubdate:"20140409",source_id:1508,objectid:293,listing_st:"Threatened",ch_id:468,ch_str_id:"a-468"},{comname:"Taylor's (=whulge) Checkerspot",sciname:"Euphydryas editha taylori",spcode:"I0T6",vipcode:"I01",entity_id:7495,status:"Final",leadoffice:13410,fedreg:"78FR61505 61589",pubdate:"20131003",source_id:1476,objectid:269,listing_st:"Endangered",ch_id:468,ch_str_id:"a-468"},{comname:"San Joaquin Valley Orcutt grass",sciname:"Orcuttia inaequalis",spcode:"Q1ZP",vipcode:"P01",entity_id:786,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1089,objectid:134,listing_st:"Threatened",ch_id:469,ch_str_id:"a-469"},{comname:"Hairy Orcutt grass",sciname:"Orcuttia pilosa",spcode:"Q1AY",vipcode:"P01",entity_id:582,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1090,objectid:135,listing_st:"Endangered",ch_id:469,ch_str_id:"a-469"},{comname:"Fleshy owl's-clover",sciname:"Castilleja campestris ssp. succulenta",spcode:"Q0CG",vipcode:"P01",entity_id:522,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1082,objectid:127,listing_st:"Threatened",ch_id:469,ch_str_id:"a-469"},{comname:"salina mucket",sciname:"Potamilus metnecktayi",spcode:"F04A",vipcode:"I01",entity_id:9802,status:"Proposed",leadoffice:21450,fedreg:"88FR47952 47988",pubdate:"20230725",source_id:2089,objectid:807,listing_st:"Proposed Endangered",ch_id:47,ch_str_id:"a-47"},{comname:"San Joaquin Valley Orcutt grass",sciname:"Orcuttia inaequalis",spcode:"Q1ZP",vipcode:"P01",entity_id:786,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1089,objectid:134,listing_st:"Threatened",ch_id:470,ch_str_id:"a-470"},{comname:"Hairy Orcutt grass",sciname:"Orcuttia pilosa",spcode:"Q1AY",vipcode:"P01",entity_id:582,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1090,objectid:135,listing_st:"Endangered",ch_id:470,ch_str_id:"a-470"},{comname:"Greene's tuctoria",sciname:"Tuctoria greenei",spcode:"Q23K",vipcode:"P01",entity_id:858,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1097,objectid:142,listing_st:"Endangered",ch_id:470,ch_str_id:"a-470"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:470,ch_str_id:"a-470"},{comname:"San Joaquin Valley Orcutt grass",sciname:"Orcuttia inaequalis",spcode:"Q1ZP",vipcode:"P01",entity_id:786,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1089,objectid:134,listing_st:"Threatened",ch_id:471,ch_str_id:"a-471"},{comname:"Hairy Orcutt grass",sciname:"Orcuttia pilosa",spcode:"Q1AY",vipcode:"P01",entity_id:582,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1090,objectid:135,listing_st:"Endangered",ch_id:471,ch_str_id:"a-471"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:471,ch_str_id:"a-471"},{comname:"San Joaquin Valley Orcutt grass",sciname:"Orcuttia inaequalis",spcode:"Q1ZP",vipcode:"P01",entity_id:786,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1089,objectid:134,listing_st:"Threatened",ch_id:472,ch_str_id:"a-472"},{comname:"Fleshy owl's-clover",sciname:"Castilleja campestris ssp. succulenta",spcode:"Q0CG",vipcode:"P01",entity_id:522,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1082,objectid:127,listing_st:"Threatened",ch_id:472,ch_str_id:"a-472"},{comname:"Greene's tuctoria",sciname:"Tuctoria greenei",spcode:"Q23K",vipcode:"P01",entity_id:858,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1097,objectid:142,listing_st:"Endangered",ch_id:472,ch_str_id:"a-472"},{comname:"San Joaquin Valley Orcutt grass",sciname:"Orcuttia inaequalis",spcode:"Q1ZP",vipcode:"P01",entity_id:786,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1089,objectid:134,listing_st:"Threatened",ch_id:473,ch_str_id:"a-473"},{comname:"Fleshy owl's-clover",sciname:"Castilleja campestris ssp. succulenta",spcode:"Q0CG",vipcode:"P01",entity_id:522,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1082,objectid:127,listing_st:"Threatened",ch_id:473,ch_str_id:"a-473"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:473,ch_str_id:"a-473"},{comname:"San Joaquin Valley Orcutt grass",sciname:"Orcuttia inaequalis",spcode:"Q1ZP",vipcode:"P01",entity_id:786,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1089,objectid:134,listing_st:"Threatened",ch_id:474,ch_str_id:"a-474"},{comname:"Fleshy owl's-clover",sciname:"Castilleja campestris ssp. succulenta",spcode:"Q0CG",vipcode:"P01",entity_id:522,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1082,objectid:127,listing_st:"Threatened",ch_id:474,ch_str_id:"a-474"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:474,ch_str_id:"a-474"},{comname:"Oregon spotted frog",sciname:"Rana pretiosa",spcode:"D02A",vipcode:"V01",entity_id:4090,status:"Final",leadoffice:13420,fedreg:"81FR29336 29396",pubdate:"20160511",source_id:1503,objectid:291,listing_st:"Threatened",ch_id:475,ch_str_id:"a-475"},{comname:"Lost River sucker",sciname:"Deltistes luxatus",spcode:"E052",vipcode:"V01",entity_id:288,status:"Final",leadoffice:11450,fedreg:"77FR73739 73768",pubdate:"20121211",source_id:1813,objectid:320,listing_st:"Endangered",ch_id:475,ch_str_id:"a-475"},{comname:"Shortnose Sucker",sciname:"Chasmistes brevirostris",spcode:"E055",vipcode:"V01",entity_id:291,status:"Final",leadoffice:11450,fedreg:"77FR73739 73768",pubdate:"20121211",source_id:1814,objectid:321,listing_st:"Endangered",ch_id:475,ch_str_id:"a-475"},{comname:"Colorado pikeminnow",sciname:"Ptychocheilus lucius",spcode:"E006",vipcode:"V01",entity_id:215,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:6,objectid:1,listing_st:"Endangered",ch_id:476,ch_str_id:"a-476"},{comname:"Humpback chub",sciname:"Gila cypha",spcode:"E000",vipcode:"V01",entity_id:209,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:15,objectid:6,listing_st:"Threatened",ch_id:476,ch_str_id:"a-476"},{comname:"Bonytail",sciname:"Gila elegans",spcode:"E020",vipcode:"V01",entity_id:249,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:716,objectid:64,listing_st:"Endangered",ch_id:476,ch_str_id:"a-476"},{comname:"Woundfin",sciname:"Plagopterus argentissimus",spcode:"E00Z",vipcode:"V01",entity_id:234,status:"Final",leadoffice:65411,fedreg:"65FR4140 4156",pubdate:"20000126",source_id:40,objectid:21,listing_st:"Endangered",ch_id:477,ch_str_id:"a-477"},{comname:"Gierisch mallow",sciname:"Sphaeralcea gierischii",spcode:"Q3LJ",vipcode:"P01",entity_id:9929,status:"Final",leadoffice:22410,fedreg:"78FR49165 49183",pubdate:"20130813",source_id:1523,objectid:299,listing_st:"Endangered",ch_id:477,ch_str_id:"a-477"},{comname:"Virgin River Chub",sciname:"Gila seminuda (=robusta)",spcode:"E02A",vipcode:"V01",entity_id:256,status:"Final",leadoffice:65411,fedreg:"65FR4140 4156",pubdate:"20000126",source_id:37,objectid:18,listing_st:"Endangered",ch_id:477,ch_str_id:"a-477"},{comname:"Woundfin",sciname:"Plagopterus argentissimus",spcode:"E00Z",vipcode:"V01",entity_id:234,status:"Final",leadoffice:65411,fedreg:"65FR4140 4156",pubdate:"20000126",source_id:40,objectid:21,listing_st:"Endangered",ch_id:478,ch_str_id:"a-478"},{comname:"Holmgren milk-vetch",sciname:"Astragalus holmgreniorum",spcode:"Q2NC",vipcode:"P01",entity_id:1020,status:"Final",leadoffice:65411,fedreg:"71FR77972 78012",pubdate:"20061227",source_id:1358,objectid:234,listing_st:"Endangered",ch_id:478,ch_str_id:"a-478"},{comname:"Virgin River Chub",sciname:"Gila seminuda (=robusta)",spcode:"E02A",vipcode:"V01",entity_id:256,status:"Final",leadoffice:65411,fedreg:"65FR4140 4156",pubdate:"20000126",source_id:37,objectid:18,listing_st:"Endangered",ch_id:478,ch_str_id:"a-478"},{comname:"Marbled Murrelet",sciname:"Brachyramphus marmoratus",spcode:"B08C",vipcode:"V01",entity_id:143,status:"Final",leadoffice:13410,fedreg:"81FR51348 51370",pubdate:"20160804",source_id:810,objectid:67,listing_st:"Threatened",ch_id:479,ch_str_id:"a-479"},{comname:"Bull Trout",sciname:"Salvelinus confluentus",spcode:"E065",vipcode:"V06",entity_id:301,status:"Final",leadoffice:14420,fedreg:"75FR63898 64070",pubdate:"20101018",source_id:830,objectid:68,listing_st:"Threatened",ch_id:479,ch_str_id:"a-479"},{comname:"Northern spotted owl",sciname:"Strix occidentalis caurina",spcode:"B08B",vipcode:"V01",entity_id:142,status:"Final",leadoffice:13420,fedreg:"86FR62606 62666",pubdate:"20211110",source_id:791,objectid:65,listing_st:"Threatened",ch_id:479,ch_str_id:"a-479"},{comname:"Prostrate milkweed",sciname:"Asclepias prostrata",spcode:"Q2XI",vipcode:"P01",entity_id:3686,status:"Final",leadoffice:21470,fedreg:"88FR12572 12602",pubdate:"20230228",source_id:2033,objectid:751,listing_st:"Endangered",ch_id:48,ch_str_id:"a-48"},{comname:"Zapata bladderpod",sciname:"Physaria thamnophila",spcode:"Q13L",vipcode:"P01",entity_id:569,status:"Final",leadoffice:21470,fedreg:"65FR81182 81212",pubdate:"20001222",source_id:931,objectid:77,listing_st:"Endangered",ch_id:48,ch_str_id:"a-48"},{comname:"Marbled Murrelet",sciname:"Brachyramphus marmoratus",spcode:"B08C",vipcode:"V01",entity_id:143,status:"Final",leadoffice:13410,fedreg:"81FR51348 51370",pubdate:"20160804",source_id:810,objectid:67,listing_st:"Threatened",ch_id:480,ch_str_id:"a-480"},{comname:"Pacific Marten, Coastal Distinct Population Segment",sciname:"Martes caurina",spcode:"A0JI",vipcode:"V01",entity_id:10078,status:"Final",leadoffice:11331,fedreg:"89FR46576 46616",pubdate:"20240529",source_id:2014,objectid:733,listing_st:"Threatened",ch_id:480,ch_str_id:"a-480"},{comname:"Northern spotted owl",sciname:"Strix occidentalis caurina",spcode:"B08B",vipcode:"V01",entity_id:142,status:"Final",leadoffice:13420,fedreg:"86FR62606 62666",pubdate:"20211110",source_id:791,objectid:65,listing_st:"Threatened",ch_id:480,ch_str_id:"a-480"},{comname:"Marbled Murrelet",sciname:"Brachyramphus marmoratus",spcode:"B08C",vipcode:"V01",entity_id:143,status:"Final",leadoffice:13410,fedreg:"81FR51348 51370",pubdate:"20160804",source_id:810,objectid:67,listing_st:"Threatened",ch_id:481,ch_str_id:"a-481"},{comname:"Pacific Marten, Coastal Distinct Population Segment",sciname:"Martes caurina",spcode:"A0JI",vipcode:"V01",entity_id:10078,status:"Final",leadoffice:11331,fedreg:"89FR46576 46616",pubdate:"20240529",source_id:2014,objectid:733,listing_st:"Threatened",ch_id:481,ch_str_id:"a-481"},{comname:"Oregon silverspot butterfly",sciname:"Speyeria zerene hippolyta",spcode:"I01A",vipcode:"I01",entity_id:431,status:"Final",leadoffice:13420,fedreg:"45FR44935 44939",pubdate:"19800702",source_id:1164,objectid:182,listing_st:"Threatened",ch_id:481,ch_str_id:"a-481"},{comname:"Marbled Murrelet",sciname:"Brachyramphus marmoratus",spcode:"B08C",vipcode:"V01",entity_id:143,status:"Final",leadoffice:13410,fedreg:"81FR51348 51370",pubdate:"20160804",source_id:810,objectid:67,listing_st:"Threatened",ch_id:482,ch_str_id:"a-482"},{comname:"Northern spotted owl",sciname:"Strix occidentalis caurina",spcode:"B08B",vipcode:"V01",entity_id:142,status:"Final",leadoffice:13420,fedreg:"86FR62606 62666",pubdate:"20211110",source_id:791,objectid:65,listing_st:"Threatened",ch_id:482,ch_str_id:"a-482"},{comname:"Taylor's (=whulge) Checkerspot",sciname:"Euphydryas editha taylori",spcode:"I0T6",vipcode:"I01",entity_id:7495,status:"Final",leadoffice:13410,fedreg:"78FR61505 61589",pubdate:"20131003",source_id:1476,objectid:269,listing_st:"Endangered",ch_id:482,ch_str_id:"a-482"},{comname:"California tiger Salamander",sciname:"Ambystoma californiense",spcode:"D01T",vipcode:"V01",entity_id:8395,status:"Final",leadoffice:11440,fedreg:"69FR68568 68609",pubdate:"20041124",source_id:952,objectid:80,listing_st:"Endangered",ch_id:483,ch_str_id:"a-483"},{comname:"La Graciosa thistle",sciname:"Cirsium loncholepis",spcode:"Q0FE",vipcode:"P01",entity_id:531,status:"Final",leadoffice:11440,fedreg:"74FR56978 57046",pubdate:"20091103",source_id:956,objectid:83,listing_st:"Endangered",ch_id:483,ch_str_id:"a-483"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:483,ch_str_id:"a-483"},{comname:"Sierra Nevada bighorn sheep",sciname:"Ovis canadensis sierrae",spcode:"A0DS",vipcode:"V01",entity_id:57,status:"Final",leadoffice:14320,fedreg:"73FR45534 45604",pubdate:"20080805",source_id:1361,objectid:237,listing_st:"Endangered",ch_id:484,ch_str_id:"a-484"},{comname:"Sierra Nevada Yellow-legged Frog",sciname:"Rana sierrae",spcode:"D04M",vipcode:"V01",entity_id:10517,status:"Final",leadoffice:11420,fedreg:"81FR59045 59119",pubdate:"20160826",source_id:1502,objectid:290,listing_st:"Endangered",ch_id:484,ch_str_id:"a-484"},{comname:"Yosemite toad",sciname:"Anaxyrus canorus",spcode:"D02K",vipcode:"V01",entity_id:1707,status:"Final",leadoffice:11420,fedreg:"81FR59045 59119",pubdate:"20160826",source_id:1500,objectid:288,listing_st:"Threatened",ch_id:484,ch_str_id:"a-484"},{comname:"Sierra Nevada bighorn sheep",sciname:"Ovis canadensis sierrae",spcode:"A0DS",vipcode:"V01",entity_id:57,status:"Final",leadoffice:14320,fedreg:"73FR45534 45604",pubdate:"20080805",source_id:1361,objectid:237,listing_st:"Endangered",ch_id:485,ch_str_id:"a-485"},{comname:"Little Kern golden trout",sciname:"Oncorhynchus aguabonita whitei",spcode:"E01Z",vipcode:"V01",entity_id:248,status:"Final",leadoffice:11420,fedreg:"43FR15427 15429",pubdate:"19780413",source_id:1069,objectid:118,listing_st:"Threatened",ch_id:485,ch_str_id:"a-485"},{comname:"Mountain yellow-legged frog",sciname:"Rana muscosa",spcode:"D02H",vipcode:"V02",entity_id:1740,status:"Final",leadoffice:11420,fedreg:"81FR59045 59119",pubdate:"20160826",source_id:1501,objectid:289,listing_st:"Endangered",ch_id:485,ch_str_id:"a-485"},{comname:"Fender's blue butterfly",sciname:"Icaricia icarioides fenderi",spcode:"I0IS",vipcode:"I01",entity_id:450,status:"Final",leadoffice:13420,fedreg:"71FR63862 63977",pubdate:"20061031",source_id:1260,objectid:200,listing_st:"Threatened",ch_id:486,ch_str_id:"a-486"},{comname:"Willamette daisy",sciname:"Erigeron decumbens",spcode:"Q2TF",vipcode:"P01",entity_id:1233,status:"Final",leadoffice:13420,fedreg:"71FR63862 63977",pubdate:"20061031",source_id:1262,objectid:202,listing_st:"Endangered",ch_id:486,ch_str_id:"a-486"},{comname:"Kincaid's Lupine",sciname:"Lupinus sulphureus ssp. kincaidii",spcode:"Q35E",vipcode:"P01",entity_id:1126,status:"Final",leadoffice:13420,fedreg:"71FR63862 63977",pubdate:"20061031",source_id:1261,objectid:201,listing_st:"Threatened",ch_id:486,ch_str_id:"a-486"},{comname:"Hairy Orcutt grass",sciname:"Orcuttia pilosa",spcode:"Q1AY",vipcode:"P01",entity_id:582,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1090,objectid:135,listing_st:"Endangered",ch_id:487,ch_str_id:"a-487"},{comname:"Fleshy owl's-clover",sciname:"Castilleja campestris ssp. succulenta",spcode:"Q0CG",vipcode:"P01",entity_id:522,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1082,objectid:127,listing_st:"Threatened",ch_id:487,ch_str_id:"a-487"},{comname:"California tiger Salamander",sciname:"Ambystoma californiense",spcode:"D01T",vipcode:"V03",entity_id:4773,status:"Final",leadoffice:11420,fedreg:"70FR49380 49458",pubdate:"20050823",source_id:1063,objectid:112,listing_st:"Threatened",ch_id:487,ch_str_id:"a-487"},{comname:"Hairy Orcutt grass",sciname:"Orcuttia pilosa",spcode:"Q1AY",vipcode:"P01",entity_id:582,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1090,objectid:135,listing_st:"Endangered",ch_id:488,ch_str_id:"a-488"},{comname:"Fleshy owl's-clover",sciname:"Castilleja campestris ssp. succulenta",spcode:"Q0CG",vipcode:"P01",entity_id:522,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1082,objectid:127,listing_st:"Threatened",ch_id:488,ch_str_id:"a-488"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:488,ch_str_id:"a-488"},{comname:"Colusa grass",sciname:"Neostapfia colusana",spcode:"Q19I",vipcode:"P01",entity_id:580,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1088,objectid:133,listing_st:"Threatened",ch_id:488,ch_str_id:"a-488"},{comname:"Hairy Orcutt grass",sciname:"Orcuttia pilosa",spcode:"Q1AY",vipcode:"P01",entity_id:582,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1090,objectid:135,listing_st:"Endangered",ch_id:489,ch_str_id:"a-489"},{comname:"California tiger Salamander",sciname:"Ambystoma californiense",spcode:"D01T",vipcode:"V03",entity_id:4773,status:"Final",leadoffice:11420,fedreg:"70FR49380 49458",pubdate:"20050823",source_id:1063,objectid:112,listing_st:"Threatened",ch_id:489,ch_str_id:"a-489"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:489,ch_str_id:"a-489"},{comname:"Colusa grass",sciname:"Neostapfia colusana",spcode:"Q19I",vipcode:"P01",entity_id:580,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1088,objectid:133,listing_st:"Threatened",ch_id:489,ch_str_id:"a-489"},{comname:"Hoover's spurge",sciname:"Chamaesyce hooveri",spcode:"Q0E9",vipcode:"P01",entity_id:527,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1084,objectid:129,listing_st:"Threatened",ch_id:489,ch_str_id:"a-489"},{comname:"Madla Cave Meshweaver",sciname:"Cicurina madla",spcode:"J019",vipcode:"I01",entity_id:471,status:"Final",leadoffice:21450,fedreg:"77FR8450 8523",pubdate:"20120214",source_id:473,objectid:42,listing_st:"Endangered",ch_id:49,ch_str_id:"a-49"},{comname:"[no common name] Beetle",sciname:"Rhadine infernalis",spcode:"I0P1",vipcode:"I01",entity_id:459,status:"Final",leadoffice:21450,fedreg:"77FR8450 8523",pubdate:"20120214",source_id:462,objectid:37,listing_st:"Endangered",ch_id:49,ch_str_id:"a-49"},{comname:"Bull Trout",sciname:"Salvelinus confluentus",spcode:"E065",vipcode:"V06",entity_id:301,status:"Final",leadoffice:14420,fedreg:"75FR63898 64070",pubdate:"20101018",source_id:830,objectid:68,listing_st:"Threatened",ch_id:490,ch_str_id:"a-490"},{comname:"Lost River sucker",sciname:"Deltistes luxatus",spcode:"E052",vipcode:"V01",entity_id:288,status:"Final",leadoffice:11450,fedreg:"77FR73739 73768",pubdate:"20121211",source_id:1813,objectid:320,listing_st:"Endangered",ch_id:490,ch_str_id:"a-490"},{comname:"Shortnose Sucker",sciname:"Chasmistes brevirostris",spcode:"E055",vipcode:"V01",entity_id:291,status:"Final",leadoffice:11450,fedreg:"77FR73739 73768",pubdate:"20121211",source_id:1814,objectid:321,listing_st:"Endangered",ch_id:490,ch_str_id:"a-490"},{comname:"Bear Valley sandwort",sciname:"Arenaria ursina",spcode:"Q03Z",vipcode:"P01",entity_id:506,status:"Final",leadoffice:11430,fedreg:"72FR73092 73178",pubdate:"20071226",source_id:1329,objectid:215,listing_st:"Threatened",ch_id:491,ch_str_id:"a-491"},{comname:"Southern mountain wild-buckwheat",sciname:"Eriogonum kennedyi var. austromontanum",spcode:"Q0S7",vipcode:"P01",entity_id:548,status:"Final",leadoffice:11430,fedreg:"72FR73092 73178",pubdate:"20071226",source_id:1328,objectid:214,listing_st:"Threatened",ch_id:491,ch_str_id:"a-491"},{comname:"Ash-grey paintbrush",sciname:"Castilleja cinerea",spcode:"Q0CL",vipcode:"P01",entity_id:523,status:"Final",leadoffice:11430,fedreg:"72FR73092 73178",pubdate:"20071226",source_id:1330,objectid:216,listing_st:"Threatened",ch_id:491,ch_str_id:"a-491"},{comname:"Solano grass",sciname:"Tuctoria mucronata",spcode:"Q23L",vipcode:"P01",entity_id:859,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1093,objectid:138,listing_st:"Endangered",ch_id:492,ch_str_id:"a-492"},{comname:"Colusa grass",sciname:"Neostapfia colusana",spcode:"Q19I",vipcode:"P01",entity_id:580,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1088,objectid:133,listing_st:"Threatened",ch_id:492,ch_str_id:"a-492"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:492,ch_str_id:"a-492"},{comname:"Cushenbury buckwheat",sciname:"Eriogonum ovalifolium var. vineum",spcode:"Q1W8",vipcode:"P01",entity_id:710,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:662,objectid:49,listing_st:"Endangered",ch_id:493,ch_str_id:"a-493"},{comname:"Cushenbury milk-vetch",sciname:"Astragalus albens",spcode:"Q2Z7",vipcode:"P01",entity_id:1086,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:660,objectid:47,listing_st:"Endangered",ch_id:493,ch_str_id:"a-493"},{comname:"Parish's daisy",sciname:"Erigeron parishii",spcode:"Q29D",vipcode:"P01",entity_id:928,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:669,objectid:55,listing_st:"Threatened",ch_id:493,ch_str_id:"a-493"},{comname:"Cushenbury buckwheat",sciname:"Eriogonum ovalifolium var. vineum",spcode:"Q1W8",vipcode:"P01",entity_id:710,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:662,objectid:49,listing_st:"Endangered",ch_id:494,ch_str_id:"a-494"},{comname:"Cushenbury milk-vetch",sciname:"Astragalus albens",spcode:"Q2Z7",vipcode:"P01",entity_id:1086,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:660,objectid:47,listing_st:"Endangered",ch_id:494,ch_str_id:"a-494"},{comname:"Cushenbury oxytheca",sciname:"Oxytheca parishii var. goodmaniana",spcode:"Q36L",vipcode:"P01",entity_id:1134,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:2083,objectid:800,listing_st:"Endangered",ch_id:494,ch_str_id:"a-494"},{comname:"Cushenbury buckwheat",sciname:"Eriogonum ovalifolium var. vineum",spcode:"Q1W8",vipcode:"P01",entity_id:710,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:662,objectid:49,listing_st:"Endangered",ch_id:495,ch_str_id:"a-495"},{comname:"Parish's daisy",sciname:"Erigeron parishii",spcode:"Q29D",vipcode:"P01",entity_id:928,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:669,objectid:55,listing_st:"Threatened",ch_id:495,ch_str_id:"a-495"},{comname:"Cushenbury oxytheca",sciname:"Oxytheca parishii var. goodmaniana",spcode:"Q36L",vipcode:"P01",entity_id:1134,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:2083,objectid:800,listing_st:"Endangered",ch_id:495,ch_str_id:"a-495"},{comname:"Colusa grass",sciname:"Neostapfia colusana",spcode:"Q19I",vipcode:"P01",entity_id:580,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1088,objectid:133,listing_st:"Threatened",ch_id:496,ch_str_id:"a-496"},{comname:"Hoover's spurge",sciname:"Chamaesyce hooveri",spcode:"Q0E9",vipcode:"P01",entity_id:527,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1084,objectid:129,listing_st:"Threatened",ch_id:496,ch_str_id:"a-496"},{comname:"Greene's tuctoria",sciname:"Tuctoria greenei",spcode:"Q23K",vipcode:"P01",entity_id:858,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1097,objectid:142,listing_st:"Endangered",ch_id:496,ch_str_id:"a-496"},{comname:"Colusa grass",sciname:"Neostapfia colusana",spcode:"Q19I",vipcode:"P01",entity_id:580,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1088,objectid:133,listing_st:"Threatened",ch_id:497,ch_str_id:"a-497"},{comname:"Greene's tuctoria",sciname:"Tuctoria greenei",spcode:"Q23K",vipcode:"P01",entity_id:858,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1097,objectid:142,listing_st:"Endangered",ch_id:497,ch_str_id:"a-497"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:497,ch_str_id:"a-497"},{comname:"Colusa grass",sciname:"Neostapfia colusana",spcode:"Q19I",vipcode:"P01",entity_id:580,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1088,objectid:133,listing_st:"Threatened",ch_id:498,ch_str_id:"a-498"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:498,ch_str_id:"a-498"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:498,ch_str_id:"a-498"},{comname:"Hoover's spurge",sciname:"Chamaesyce hooveri",spcode:"Q0E9",vipcode:"P01",entity_id:527,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1084,objectid:129,listing_st:"Threatened",ch_id:499,ch_str_id:"a-499"},{comname:"Slender Orcutt grass",sciname:"Orcuttia tenuis",spcode:"Q1AZ",vipcode:"P01",entity_id:583,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1091,objectid:136,listing_st:"Threatened",ch_id:499,ch_str_id:"a-499"},{comname:"Greene's tuctoria",sciname:"Tuctoria greenei",spcode:"Q23K",vipcode:"P01",entity_id:858,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1097,objectid:142,listing_st:"Endangered",ch_id:499,ch_str_id:"a-499"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:499,ch_str_id:"a-499"},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:499,ch_str_id:"a-499"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:499,ch_str_id:"a-499"},{comname:"Zapata bladderpod",sciname:"Physaria thamnophila",spcode:"Q13L",vipcode:"P01",entity_id:569,status:"Final",leadoffice:21470,fedreg:"65FR81182 81212",pubdate:"20001222",source_id:931,objectid:77,listing_st:"Endangered",ch_id:5,ch_str_id:"a-5"},{comname:"Madla Cave Meshweaver",sciname:"Cicurina madla",spcode:"J019",vipcode:"I01",entity_id:471,status:"Final",leadoffice:21450,fedreg:"77FR8450 8523",pubdate:"20120214",source_id:473,objectid:42,listing_st:"Endangered",ch_id:50,ch_str_id:"a-50"},{comname:"[no common name] Beetle",sciname:"Rhadine exilis",spcode:"I0RF",vipcode:"I01",entity_id:461,status:"Final",leadoffice:21450,fedreg:"77FR8450 8523",pubdate:"20120214",source_id:463,objectid:38,listing_st:"Endangered",ch_id:50,ch_str_id:"a-50"},{comname:"Hoover's spurge",sciname:"Chamaesyce hooveri",spcode:"Q0E9",vipcode:"P01",entity_id:527,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1084,objectid:129,listing_st:"Threatened",ch_id:500,ch_str_id:"a-500"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:500,ch_str_id:"a-500"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:500,ch_str_id:"a-500"},{comname:"Contra Costa goldfields",sciname:"Lasthenia conjugens",spcode:"Q122",vipcode:"P01",entity_id:566,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1085,objectid:130,listing_st:"Endangered",ch_id:501,ch_str_id:"a-501"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:501,ch_str_id:"a-501"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:501,ch_str_id:"a-501"},{comname:"Suisun thistle",sciname:"Cirsium hydrophilum var. hydrophilum",spcode:"Q0FC",vipcode:"P01",entity_id:530,status:"Final",leadoffice:81410,fedreg:"72FR18518 18553",pubdate:"20070412",source_id:1374,objectid:245,listing_st:"Endangered",ch_id:501,ch_str_id:"a-501"},{comname:"Soft bird's-beak",sciname:"Cordylanthus mollis ssp. mollis",spcode:"Q0GT",vipcode:"P01",entity_id:534,status:"Final",leadoffice:81410,fedreg:"72FR18518 18553",pubdate:"20070412",source_id:1375,objectid:246,listing_st:"Endangered",ch_id:501,ch_str_id:"a-501"},{comname:"Contra Costa goldfields",sciname:"Lasthenia conjugens",spcode:"Q122",vipcode:"P01",entity_id:566,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1085,objectid:130,listing_st:"Endangered",ch_id:502,ch_str_id:"a-502"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:502,ch_str_id:"a-502"},{comname:"Delta smelt",sciname:"Hypomesus transpacificus",spcode:"E070",vipcode:"V01",entity_id:305,status:"Final",leadoffice:81410,fedreg:"59FR65256 65279",pubdate:"19941219",source_id:1065,objectid:114,listing_st:"Threatened",ch_id:502,ch_str_id:"a-502"},{comname:"Contra Costa goldfields",sciname:"Lasthenia conjugens",spcode:"Q122",vipcode:"P01",entity_id:566,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1085,objectid:130,listing_st:"Endangered",ch_id:503,ch_str_id:"a-503"},{comname:"Delta smelt",sciname:"Hypomesus transpacificus",spcode:"E070",vipcode:"V01",entity_id:305,status:"Final",leadoffice:81410,fedreg:"59FR65256 65279",pubdate:"19941219",source_id:1065,objectid:114,listing_st:"Threatened",ch_id:503,ch_str_id:"a-503"},{comname:"Suisun thistle",sciname:"Cirsium hydrophilum var. hydrophilum",spcode:"Q0FC",vipcode:"P01",entity_id:530,status:"Final",leadoffice:81410,fedreg:"72FR18518 18553",pubdate:"20070412",source_id:1374,objectid:245,listing_st:"Endangered",ch_id:503,ch_str_id:"a-503"},{comname:"Sacramento Orcutt grass",sciname:"Orcuttia viscida",spcode:"Q1ZQ",vipcode:"P01",entity_id:787,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1092,objectid:137,listing_st:"Endangered",ch_id:504,ch_str_id:"a-504"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:504,ch_str_id:"a-504"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:504,ch_str_id:"a-504"},{comname:"Slender Orcutt grass",sciname:"Orcuttia tenuis",spcode:"Q1AZ",vipcode:"P01",entity_id:583,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1091,objectid:136,listing_st:"Threatened",ch_id:505,ch_str_id:"a-505"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:505,ch_str_id:"a-505"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:505,ch_str_id:"a-505"},{comname:"Large-flowered fiddleneck",sciname:"Amsinckia grandiflora",spcode:"Q1SU",vipcode:"P01",entity_id:626,status:"Final",leadoffice:11420,fedreg:"50FR19374 19378",pubdate:"19850508",source_id:1055,objectid:104,listing_st:"Endangered",ch_id:506,ch_str_id:"a-506"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:506,ch_str_id:"a-506"},{comname:"Alameda whipsnake (=striped racer)",sciname:"Masticophis lateralis euryxanthus",spcode:"C04A",vipcode:"V01",entity_id:183,status:"Final",leadoffice:11420,fedreg:"71FR58176 58231",pubdate:"20061002",source_id:1300,objectid:203,listing_st:"Threatened",ch_id:506,ch_str_id:"a-506"},{comname:"California tiger Salamander",sciname:"Ambystoma californiense",spcode:"D01T",vipcode:"V03",entity_id:4773,status:"Final",leadoffice:11420,fedreg:"70FR49380 49458",pubdate:"20050823",source_id:1063,objectid:112,listing_st:"Threatened",ch_id:507,ch_str_id:"a-507"},{comname:"Delta green ground beetle",sciname:"Elaphrus viridis",spcode:"I01G",vipcode:"I01",entity_id:435,status:"Final",leadoffice:11420,fedreg:"45FR52807 52810",pubdate:"19800808",source_id:1145,objectid:166,listing_st:"Threatened",ch_id:507,ch_str_id:"a-507"},{comname:"Delta smelt",sciname:"Hypomesus transpacificus",spcode:"E070",vipcode:"V01",entity_id:305,status:"Final",leadoffice:81410,fedreg:"59FR65256 65279",pubdate:"19941219",source_id:1065,objectid:114,listing_st:"Threatened",ch_id:507,ch_str_id:"a-507"},{comname:"California tiger Salamander",sciname:"Ambystoma californiense",spcode:"D01T",vipcode:"V03",entity_id:4773,status:"Final",leadoffice:11420,fedreg:"70FR49380 49458",pubdate:"20050823",source_id:1063,objectid:112,listing_st:"Threatened",ch_id:508,ch_str_id:"a-508"},{comname:"Bay checkerspot butterfly",sciname:"Euphydryas editha bayensis",spcode:"I021",vipcode:"I01",entity_id:438,status:"Final",leadoffice:11420,fedreg:"73FR50406 50452",pubdate:"20080826",source_id:1056,objectid:105,listing_st:"Threatened",ch_id:508,ch_str_id:"a-508"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:508,ch_str_id:"a-508"},{comname:"California tiger Salamander",sciname:"Ambystoma californiense",spcode:"D01T",vipcode:"V03",entity_id:4773,status:"Final",leadoffice:11420,fedreg:"70FR49380 49458",pubdate:"20050823",source_id:1063,objectid:112,listing_st:"Threatened",ch_id:509,ch_str_id:"a-509"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:509,ch_str_id:"a-509"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:509,ch_str_id:"a-509"},{comname:"Guadalupe Fatmucket",sciname:"Lampsilis bergmanni",spcode:"F059",vipcode:"I01",entity_id:11578,status:"Final",leadoffice:21450,fedreg:"89FR48034 48130",pubdate:"20240604",source_id:2011,objectid:740,listing_st:"Endangered",ch_id:51,ch_str_id:"a-51"},{comname:"Guadalupe Orb",sciname:"Cyclonaias necki",spcode:"F05A",vipcode:"I01",entity_id:11577,status:"Final",leadoffice:21450,fedreg:"89FR48034 48130",pubdate:"20240604",source_id:2004,objectid:722,listing_st:"Endangered",ch_id:51,ch_str_id:"a-51"},{comname:"California tiger Salamander",sciname:"Ambystoma californiense",spcode:"D01T",vipcode:"V03",entity_id:4773,status:"Final",leadoffice:11420,fedreg:"70FR49380 49458",pubdate:"20050823",source_id:1063,objectid:112,listing_st:"Threatened",ch_id:510,ch_str_id:"a-510"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:510,ch_str_id:"a-510"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:510,ch_str_id:"a-510"},{comname:"Greene's tuctoria",sciname:"Tuctoria greenei",spcode:"Q23K",vipcode:"P01",entity_id:858,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1097,objectid:142,listing_st:"Endangered",ch_id:511,ch_str_id:"a-511"},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:511,ch_str_id:"a-511"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:511,ch_str_id:"a-511"},{comname:"Butte County meadowfoam",sciname:"Limnanthes floccosa ssp. californica",spcode:"Q2YE",vipcode:"P01",entity_id:1081,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1087,objectid:132,listing_st:"Endangered",ch_id:512,ch_str_id:"a-512"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:512,ch_str_id:"a-512"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:512,ch_str_id:"a-512"},{comname:"Cushenbury milk-vetch",sciname:"Astragalus albens",spcode:"Q2Z7",vipcode:"P01",entity_id:1086,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:660,objectid:47,listing_st:"Endangered",ch_id:513,ch_str_id:"a-513"},{comname:"Parish's daisy",sciname:"Erigeron parishii",spcode:"Q29D",vipcode:"P01",entity_id:928,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:669,objectid:55,listing_st:"Threatened",ch_id:513,ch_str_id:"a-513"},{comname:"Cushenbury oxytheca",sciname:"Oxytheca parishii var. goodmaniana",spcode:"Q36L",vipcode:"P01",entity_id:1134,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:2083,objectid:800,listing_st:"Endangered",ch_id:513,ch_str_id:"a-513"},{comname:"Pacific Marten, Coastal Distinct Population Segment",sciname:"Martes caurina",spcode:"A0JI",vipcode:"V01",entity_id:10078,status:"Final",leadoffice:11331,fedreg:"89FR46576 46616",pubdate:"20240529",source_id:2014,objectid:733,listing_st:"Threatened",ch_id:514,ch_str_id:"a-514"},{comname:"Northern spotted owl",sciname:"Strix occidentalis caurina",spcode:"B08B",vipcode:"V01",entity_id:142,status:"Final",leadoffice:13420,fedreg:"86FR62606 62666",pubdate:"20211110",source_id:791,objectid:65,listing_st:"Threatened",ch_id:514,ch_str_id:"a-514"},{comname:"Oregon silverspot butterfly",sciname:"Speyeria zerene hippolyta",spcode:"I01A",vipcode:"I01",entity_id:431,status:"Final",leadoffice:13420,fedreg:"45FR44935 44939",pubdate:"19800702",source_id:1164,objectid:182,listing_st:"Threatened",ch_id:514,ch_str_id:"a-514"},{comname:"California condor",sciname:"Gymnogyps californianus",spcode:"B002",vipcode:"V01",entity_id:66,status:"Final",leadoffice:11670,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:953,objectid:81,listing_st:"Endangered",ch_id:515,ch_str_id:"a-515"},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:515,ch_str_id:"a-515"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:515,ch_str_id:"a-515"},{comname:"Northern spotted owl",sciname:"Strix occidentalis caurina",spcode:"B08B",vipcode:"V01",entity_id:142,status:"Final",leadoffice:13420,fedreg:"86FR62606 62666",pubdate:"20211110",source_id:791,objectid:65,listing_st:"Threatened",ch_id:516,ch_str_id:"a-516"},{comname:"Lost River sucker",sciname:"Deltistes luxatus",spcode:"E052",vipcode:"V01",entity_id:288,status:"Final",leadoffice:11450,fedreg:"77FR73739 73768",pubdate:"20121211",source_id:1813,objectid:320,listing_st:"Endangered",ch_id:516,ch_str_id:"a-516"},{comname:"Shortnose Sucker",sciname:"Chasmistes brevirostris",spcode:"E055",vipcode:"V01",entity_id:291,status:"Final",leadoffice:11450,fedreg:"77FR73739 73768",pubdate:"20121211",source_id:1814,objectid:321,listing_st:"Endangered",ch_id:516,ch_str_id:"a-516"},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:517,ch_str_id:"a-517"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:517,ch_str_id:"a-517"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:517,ch_str_id:"a-517"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:518,ch_str_id:"a-518"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:518,ch_str_id:"a-518"},{comname:"Delta smelt",sciname:"Hypomesus transpacificus",spcode:"E070",vipcode:"V01",entity_id:305,status:"Final",leadoffice:81410,fedreg:"59FR65256 65279",pubdate:"19941219",source_id:1065,objectid:114,listing_st:"Threatened",ch_id:518,ch_str_id:"a-518"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:519,ch_str_id:"a-519"},{comname:"Cook's lomatium",sciname:"Lomatium cookii",spcode:"Q356",vipcode:"P01",entity_id:1263,status:"Final",leadoffice:13420,fedreg:"75FR42490 42570",pubdate:"20100721",source_id:1349,objectid:229,listing_st:"Endangered",ch_id:519,ch_str_id:"a-519"},{comname:"Large-flowered woolly meadowfoam",sciname:"Limnanthes pumila ssp. grandiflora",spcode:"Q2CL",vipcode:"P01",entity_id:1262,status:"Final",leadoffice:13420,fedreg:"75FR42490 42570",pubdate:"20100721",source_id:1350,objectid:230,listing_st:"Endangered",ch_id:519,ch_str_id:"a-519"},{comname:"Guadalupe Orb",sciname:"Cyclonaias necki",spcode:"F05A",vipcode:"I01",entity_id:11577,status:"Final",leadoffice:21450,fedreg:"89FR48034 48130",pubdate:"20240604",source_id:2004,objectid:722,listing_st:"Endangered",ch_id:52,ch_str_id:"a-52"},{comname:"false spike",sciname:"Fusconaia mitchelli",spcode:"F031",vipcode:"I01",entity_id:5380,status:"Final",leadoffice:21450,fedreg:"89FR48034 48130",pubdate:"20240604",source_id:2005,objectid:723,listing_st:"Endangered",ch_id:52,ch_str_id:"a-52"},{comname:"Ash Meadows Amargosa pupfish",sciname:"Cyprinodon nevadensis mionectes",spcode:"E042",vipcode:"V01",entity_id:274,status:"Final",leadoffice:84321,fedreg:"48FR40178 40186",pubdate:"19830902",source_id:1126,objectid:153,listing_st:"Endangered",ch_id:520,ch_str_id:"a-520"},{comname:"Ash Meadows speckled dace",sciname:"Rhinichthys osculus nevadensis",spcode:"E03A",vipcode:"V01",entity_id:264,status:"Final",leadoffice:84321,fedreg:"48FR40178 40186",pubdate:"19830902",source_id:1131,objectid:158,listing_st:"Endangered",ch_id:520,ch_str_id:"a-520"},{comname:"Spring-loving centaury",sciname:"Centaurium namophilum",spcode:"Q1U5",vipcode:"P01",entity_id:660,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1178,objectid:186,listing_st:"Threatened",ch_id:520,ch_str_id:"a-520"},{comname:"Delta smelt",sciname:"Hypomesus transpacificus",spcode:"E070",vipcode:"V01",entity_id:305,status:"Final",leadoffice:81410,fedreg:"59FR65256 65279",pubdate:"19941219",source_id:1065,objectid:114,listing_st:"Threatened",ch_id:521,ch_str_id:"a-521"},{comname:"Suisun thistle",sciname:"Cirsium hydrophilum var. hydrophilum",spcode:"Q0FC",vipcode:"P01",entity_id:530,status:"Final",leadoffice:81410,fedreg:"72FR18518 18553",pubdate:"20070412",source_id:1374,objectid:245,listing_st:"Endangered",ch_id:521,ch_str_id:"a-521"},{comname:"Soft bird's-beak",sciname:"Cordylanthus mollis ssp. mollis",spcode:"Q0GT",vipcode:"P01",entity_id:534,status:"Final",leadoffice:81410,fedreg:"72FR18518 18553",pubdate:"20070412",source_id:1375,objectid:246,listing_st:"Endangered",ch_id:521,ch_str_id:"a-521"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:521,ch_str_id:"a-521"},{comname:"Contra Costa goldfields",sciname:"Lasthenia conjugens",spcode:"Q122",vipcode:"P01",entity_id:566,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1085,objectid:130,listing_st:"Endangered",ch_id:521,ch_str_id:"a-521"},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:521,ch_str_id:"a-521"},{comname:"Delta smelt",sciname:"Hypomesus transpacificus",spcode:"E070",vipcode:"V01",entity_id:305,status:"Final",leadoffice:81410,fedreg:"59FR65256 65279",pubdate:"19941219",source_id:1065,objectid:114,listing_st:"Threatened",ch_id:522,ch_str_id:"a-522"},{comname:"Antioch Dunes evening-primrose",sciname:"Oenothera deltoides ssp. howellii",spcode:"Q1ZN",vipcode:"P01",entity_id:784,status:"Final",leadoffice:81410,fedreg:"43FR39042 39044",pubdate:"19780831",source_id:1075,objectid:120,listing_st:"Endangered",ch_id:522,ch_str_id:"a-522"},{comname:"Contra Costa wallflower",sciname:"Erysimum capitatum var. angustatum",spcode:"Q1WA",vipcode:"P01",entity_id:712,status:"Final",leadoffice:81410,fedreg:"43FR39042 39044",pubdate:"19780831",source_id:1066,objectid:115,listing_st:"Endangered",ch_id:522,ch_str_id:"a-522"},{comname:"Spring-loving centaury",sciname:"Centaurium namophilum",spcode:"Q1U5",vipcode:"P01",entity_id:660,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1178,objectid:186,listing_st:"Threatened",ch_id:523,ch_str_id:"a-523"},{comname:"Ash meadows milk-vetch",sciname:"Astragalus phoenix",spcode:"Q1TB",vipcode:"P01",entity_id:641,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1133,objectid:160,listing_st:"Threatened",ch_id:523,ch_str_id:"a-523"},{comname:"Ash Meadows sunray",sciname:"Enceliopsis nudicaulis var. corrugata",spcode:"Q297",vipcode:"P01",entity_id:926,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1132,objectid:159,listing_st:"Threatened",ch_id:523,ch_str_id:"a-523"},{comname:"Spring-loving centaury",sciname:"Centaurium namophilum",spcode:"Q1U5",vipcode:"P01",entity_id:660,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1178,objectid:186,listing_st:"Threatened",ch_id:524,ch_str_id:"a-524"},{comname:"Ash Meadows blazingstar",sciname:"Mentzelia leucophylla",spcode:"Q1ZD",vipcode:"P01",entity_id:776,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1127,objectid:154,listing_st:"Threatened",ch_id:524,ch_str_id:"a-524"},{comname:"Ash Meadows ivesia",sciname:"Ivesia kingii var. eremica",spcode:"Q1XM",vipcode:"P01",entity_id:743,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1129,objectid:156,listing_st:"Threatened",ch_id:524,ch_str_id:"a-524"},{comname:"Ash Meadows gumplant",sciname:"Grindelia fraxinipratensis",spcode:"Q2AM",vipcode:"P01",entity_id:941,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1128,objectid:155,listing_st:"Threatened",ch_id:524,ch_str_id:"a-524"},{comname:"Ash meadows milk-vetch",sciname:"Astragalus phoenix",spcode:"Q1TB",vipcode:"P01",entity_id:641,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1133,objectid:160,listing_st:"Threatened",ch_id:525,ch_str_id:"a-525"},{comname:"Ash Meadows blazingstar",sciname:"Mentzelia leucophylla",spcode:"Q1ZD",vipcode:"P01",entity_id:776,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1127,objectid:154,listing_st:"Threatened",ch_id:525,ch_str_id:"a-525"},{comname:"Ash Meadows sunray",sciname:"Enceliopsis nudicaulis var. corrugata",spcode:"Q297",vipcode:"P01",entity_id:926,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1132,objectid:159,listing_st:"Threatened",ch_id:525,ch_str_id:"a-525"},{comname:"Ash Meadows ivesia",sciname:"Ivesia kingii var. eremica",spcode:"Q1XM",vipcode:"P01",entity_id:743,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1129,objectid:156,listing_st:"Threatened",ch_id:525,ch_str_id:"a-525"},{comname:"Ash Meadows blazingstar",sciname:"Mentzelia leucophylla",spcode:"Q1ZD",vipcode:"P01",entity_id:776,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1127,objectid:154,listing_st:"Threatened",ch_id:526,ch_str_id:"a-526"},{comname:"Ash Meadows gumplant",sciname:"Grindelia fraxinipratensis",spcode:"Q2AM",vipcode:"P01",entity_id:941,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1128,objectid:155,listing_st:"Threatened",ch_id:526,ch_str_id:"a-526"},{comname:"Ash Meadows sunray",sciname:"Enceliopsis nudicaulis var. corrugata",spcode:"Q297",vipcode:"P01",entity_id:926,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1132,objectid:159,listing_st:"Threatened",ch_id:526,ch_str_id:"a-526"},{comname:"San Joaquin Valley Orcutt grass",sciname:"Orcuttia inaequalis",spcode:"Q1ZP",vipcode:"P01",entity_id:786,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1089,objectid:134,listing_st:"Threatened",ch_id:527,ch_str_id:"a-527"},{comname:"Hairy Orcutt grass",sciname:"Orcuttia pilosa",spcode:"Q1AY",vipcode:"P01",entity_id:582,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1090,objectid:135,listing_st:"Endangered",ch_id:527,ch_str_id:"a-527"},{comname:"Fleshy owl's-clover",sciname:"Castilleja campestris ssp. succulenta",spcode:"Q0CG",vipcode:"P01",entity_id:522,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1082,objectid:127,listing_st:"Threatened",ch_id:527,ch_str_id:"a-527"},{comname:"California tiger Salamander",sciname:"Ambystoma californiense",spcode:"D01T",vipcode:"V03",entity_id:4773,status:"Final",leadoffice:11420,fedreg:"70FR49380 49458",pubdate:"20050823",source_id:1063,objectid:112,listing_st:"Threatened",ch_id:527,ch_str_id:"a-527"},{comname:"San Joaquin Valley Orcutt grass",sciname:"Orcuttia inaequalis",spcode:"Q1ZP",vipcode:"P01",entity_id:786,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1089,objectid:134,listing_st:"Threatened",ch_id:528,ch_str_id:"a-528"},{comname:"Hairy Orcutt grass",sciname:"Orcuttia pilosa",spcode:"Q1AY",vipcode:"P01",entity_id:582,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1090,objectid:135,listing_st:"Endangered",ch_id:528,ch_str_id:"a-528"},{comname:"Fleshy owl's-clover",sciname:"Castilleja campestris ssp. succulenta",spcode:"Q0CG",vipcode:"P01",entity_id:522,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1082,objectid:127,listing_st:"Threatened",ch_id:528,ch_str_id:"a-528"},{comname:"Greene's tuctoria",sciname:"Tuctoria greenei",spcode:"Q23K",vipcode:"P01",entity_id:858,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1097,objectid:142,listing_st:"Endangered",ch_id:528,ch_str_id:"a-528"},{comname:"San Joaquin Valley Orcutt grass",sciname:"Orcuttia inaequalis",spcode:"Q1ZP",vipcode:"P01",entity_id:786,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1089,objectid:134,listing_st:"Threatened",ch_id:529,ch_str_id:"a-529"},{comname:"Hairy Orcutt grass",sciname:"Orcuttia pilosa",spcode:"Q1AY",vipcode:"P01",entity_id:582,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1090,objectid:135,listing_st:"Endangered",ch_id:529,ch_str_id:"a-529"},{comname:"Fleshy owl's-clover",sciname:"Castilleja campestris ssp. succulenta",spcode:"Q0CG",vipcode:"P01",entity_id:522,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1082,objectid:127,listing_st:"Threatened",ch_id:529,ch_str_id:"a-529"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:529,ch_str_id:"a-529"},{comname:"San Joaquin Valley Orcutt grass",sciname:"Orcuttia inaequalis",spcode:"Q1ZP",vipcode:"P01",entity_id:786,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1089,objectid:134,listing_st:"Threatened",ch_id:530,ch_str_id:"a-530"},{comname:"Hoover's spurge",sciname:"Chamaesyce hooveri",spcode:"Q0E9",vipcode:"P01",entity_id:527,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1084,objectid:129,listing_st:"Threatened",ch_id:530,ch_str_id:"a-530"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:530,ch_str_id:"a-530"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:530,ch_str_id:"a-530"},{comname:"San Joaquin Valley Orcutt grass",sciname:"Orcuttia inaequalis",spcode:"Q1ZP",vipcode:"P01",entity_id:786,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1089,objectid:134,listing_st:"Threatened",ch_id:531,ch_str_id:"a-531"},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:531,ch_str_id:"a-531"},{comname:"Greene's tuctoria",sciname:"Tuctoria greenei",spcode:"Q23K",vipcode:"P01",entity_id:858,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1097,objectid:142,listing_st:"Endangered",ch_id:531,ch_str_id:"a-531"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:531,ch_str_id:"a-531"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:531,ch_str_id:"a-531"},{comname:"Woundfin",sciname:"Plagopterus argentissimus",spcode:"E00Z",vipcode:"V01",entity_id:234,status:"Final",leadoffice:65411,fedreg:"65FR4140 4156",pubdate:"20000126",source_id:40,objectid:21,listing_st:"Endangered",ch_id:532,ch_str_id:"a-532"},{comname:"Gierisch mallow",sciname:"Sphaeralcea gierischii",spcode:"Q3LJ",vipcode:"P01",entity_id:9929,status:"Final",leadoffice:22410,fedreg:"78FR49165 49183",pubdate:"20130813",source_id:1523,objectid:299,listing_st:"Endangered",ch_id:532,ch_str_id:"a-532"},{comname:"Holmgren milk-vetch",sciname:"Astragalus holmgreniorum",spcode:"Q2NC",vipcode:"P01",entity_id:1020,status:"Final",leadoffice:65411,fedreg:"71FR77972 78012",pubdate:"20061227",source_id:1358,objectid:234,listing_st:"Endangered",ch_id:532,ch_str_id:"a-532"},{comname:"Virgin River Chub",sciname:"Gila seminuda (=robusta)",spcode:"E02A",vipcode:"V01",entity_id:256,status:"Final",leadoffice:65411,fedreg:"65FR4140 4156",pubdate:"20000126",source_id:37,objectid:18,listing_st:"Endangered",ch_id:532,ch_str_id:"a-532"},{comname:"Marbled Murrelet",sciname:"Brachyramphus marmoratus",spcode:"B08C",vipcode:"V01",entity_id:143,status:"Final",leadoffice:13410,fedreg:"81FR51348 51370",pubdate:"20160804",source_id:810,objectid:67,listing_st:"Threatened",ch_id:533,ch_str_id:"a-533"},{comname:"Pacific Marten, Coastal Distinct Population Segment",sciname:"Martes caurina",spcode:"A0JI",vipcode:"V01",entity_id:10078,status:"Final",leadoffice:11331,fedreg:"89FR46576 46616",pubdate:"20240529",source_id:2014,objectid:733,listing_st:"Threatened",ch_id:533,ch_str_id:"a-533"},{comname:"Northern spotted owl",sciname:"Strix occidentalis caurina",spcode:"B08B",vipcode:"V01",entity_id:142,status:"Final",leadoffice:13420,fedreg:"86FR62606 62666",pubdate:"20211110",source_id:791,objectid:65,listing_st:"Threatened",ch_id:533,ch_str_id:"a-533"},{comname:"Oregon silverspot butterfly",sciname:"Speyeria zerene hippolyta",spcode:"I01A",vipcode:"I01",entity_id:431,status:"Final",leadoffice:13420,fedreg:"45FR44935 44939",pubdate:"19800702",source_id:1164,objectid:182,listing_st:"Threatened",ch_id:533,ch_str_id:"a-533"},{comname:"Colusa grass",sciname:"Neostapfia colusana",spcode:"Q19I",vipcode:"P01",entity_id:580,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1088,objectid:133,listing_st:"Threatened",ch_id:534,ch_str_id:"a-534"},{comname:"Hoover's spurge",sciname:"Chamaesyce hooveri",spcode:"Q0E9",vipcode:"P01",entity_id:527,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1084,objectid:129,listing_st:"Threatened",ch_id:534,ch_str_id:"a-534"},{comname:"Hairy Orcutt grass",sciname:"Orcuttia pilosa",spcode:"Q1AY",vipcode:"P01",entity_id:582,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1090,objectid:135,listing_st:"Endangered",ch_id:534,ch_str_id:"a-534"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:534,ch_str_id:"a-534"},{comname:"Hairy Orcutt grass",sciname:"Orcuttia pilosa",spcode:"Q1AY",vipcode:"P01",entity_id:582,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1090,objectid:135,listing_st:"Endangered",ch_id:535,ch_str_id:"a-535"},{comname:"Hoover's spurge",sciname:"Chamaesyce hooveri",spcode:"Q0E9",vipcode:"P01",entity_id:527,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1084,objectid:129,listing_st:"Threatened",ch_id:535,ch_str_id:"a-535"},{comname:"Greene's tuctoria",sciname:"Tuctoria greenei",spcode:"Q23K",vipcode:"P01",entity_id:858,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1097,objectid:142,listing_st:"Endangered",ch_id:535,ch_str_id:"a-535"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:535,ch_str_id:"a-535"},{comname:"Cushenbury buckwheat",sciname:"Eriogonum ovalifolium var. vineum",spcode:"Q1W8",vipcode:"P01",entity_id:710,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:662,objectid:49,listing_st:"Endangered",ch_id:536,ch_str_id:"a-536"},{comname:"Cushenbury milk-vetch",sciname:"Astragalus albens",spcode:"Q2Z7",vipcode:"P01",entity_id:1086,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:660,objectid:47,listing_st:"Endangered",ch_id:536,ch_str_id:"a-536"},{comname:"Parish's daisy",sciname:"Erigeron parishii",spcode:"Q29D",vipcode:"P01",entity_id:928,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:669,objectid:55,listing_st:"Threatened",ch_id:536,ch_str_id:"a-536"},{comname:"Cushenbury oxytheca",sciname:"Oxytheca parishii var. goodmaniana",spcode:"Q36L",vipcode:"P01",entity_id:1134,status:"Final",leadoffice:11430,fedreg:"67FR78570 78610",pubdate:"20021224",source_id:2083,objectid:800,listing_st:"Endangered",ch_id:536,ch_str_id:"a-536"},{comname:"Fleshy owl's-clover",sciname:"Castilleja campestris ssp. succulenta",spcode:"Q0CG",vipcode:"P01",entity_id:522,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1082,objectid:127,listing_st:"Threatened",ch_id:537,ch_str_id:"a-537"},{comname:"Hoover's spurge",sciname:"Chamaesyce hooveri",spcode:"Q0E9",vipcode:"P01",entity_id:527,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1084,objectid:129,listing_st:"Threatened",ch_id:537,ch_str_id:"a-537"},{comname:"Colusa grass",sciname:"Neostapfia colusana",spcode:"Q19I",vipcode:"P01",entity_id:580,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1088,objectid:133,listing_st:"Threatened",ch_id:537,ch_str_id:"a-537"},{comname:"Greene's tuctoria",sciname:"Tuctoria greenei",spcode:"Q23K",vipcode:"P01",entity_id:858,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1097,objectid:142,listing_st:"Endangered",ch_id:537,ch_str_id:"a-537"},{comname:"Colusa grass",sciname:"Neostapfia colusana",spcode:"Q19I",vipcode:"P01",entity_id:580,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1088,objectid:133,listing_st:"Threatened",ch_id:538,ch_str_id:"a-538"},{comname:"Fleshy owl's-clover",sciname:"Castilleja campestris ssp. succulenta",spcode:"Q0CG",vipcode:"P01",entity_id:522,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1082,objectid:127,listing_st:"Threatened",ch_id:538,ch_str_id:"a-538"},{comname:"Greene's tuctoria",sciname:"Tuctoria greenei",spcode:"Q23K",vipcode:"P01",entity_id:858,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1097,objectid:142,listing_st:"Endangered",ch_id:538,ch_str_id:"a-538"},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:538,ch_str_id:"a-538"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:538,ch_str_id:"a-538"},{comname:"San Joaquin Valley Orcutt grass",sciname:"Orcuttia inaequalis",spcode:"Q1ZP",vipcode:"P01",entity_id:786,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1089,objectid:134,listing_st:"Threatened",ch_id:538,ch_str_id:"a-538"},{comname:"Hoover's spurge",sciname:"Chamaesyce hooveri",spcode:"Q0E9",vipcode:"P01",entity_id:527,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1084,objectid:129,listing_st:"Threatened",ch_id:539,ch_str_id:"a-539"},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:539,ch_str_id:"a-539"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:539,ch_str_id:"a-539"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:539,ch_str_id:"a-539"},{comname:"Jaguar",sciname:"Panthera onca",spcode:"A040",vipcode:"V01",entity_id:18,status:"Final",leadoffice:22410,fedreg:"89FR46822 46824",pubdate:"20240530",source_id:2010,objectid:730,listing_st:"Endangered",ch_id:54,ch_str_id:"a-54"},{comname:"beardless chinchweed",sciname:"Pectis imberbis",spcode:"Q2Q9",vipcode:"P01",entity_id:2884,status:"Final",leadoffice:22410,fedreg:"86FR31830 31868",pubdate:"20210615",source_id:1971,objectid:692,listing_st:"Endangered",ch_id:54,ch_str_id:"a-54"},{comname:"Huachuca water-umbel",sciname:"Lilaeopsis schaffneriana var. recurva",spcode:"Q2PK",vipcode:"P01",entity_id:1030,status:"Final",leadoffice:22410,fedreg:"64FR37441 37453",pubdate:"19990712",source_id:14,objectid:5,listing_st:"Endangered",ch_id:54,ch_str_id:"a-54"},{comname:"Northern Mexican gartersnake",sciname:"Thamnophis eques megalops",spcode:"C04Q",vipcode:"V01",entity_id:1783,status:"Final",leadoffice:22410,fedreg:"86FR22518 22580",pubdate:"20210428",source_id:1526,objectid:302,listing_st:"Threatened",ch_id:54,ch_str_id:"a-54"},{comname:"Contra Costa goldfields",sciname:"Lasthenia conjugens",spcode:"Q122",vipcode:"P01",entity_id:566,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1085,objectid:130,listing_st:"Endangered",ch_id:540,ch_str_id:"a-540"},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:540,ch_str_id:"a-540"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:540,ch_str_id:"a-540"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:540,ch_str_id:"a-540"},{comname:"Contra Costa goldfields",sciname:"Lasthenia conjugens",spcode:"Q122",vipcode:"P01",entity_id:566,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1085,objectid:130,listing_st:"Endangered",ch_id:541,ch_str_id:"a-541"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:541,ch_str_id:"a-541"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:541,ch_str_id:"a-541"},{comname:"Delta smelt",sciname:"Hypomesus transpacificus",spcode:"E070",vipcode:"V01",entity_id:305,status:"Final",leadoffice:81410,fedreg:"59FR65256 65279",pubdate:"19941219",source_id:1065,objectid:114,listing_st:"Threatened",ch_id:541,ch_str_id:"a-541"},{comname:"Suisun thistle",sciname:"Cirsium hydrophilum var. hydrophilum",spcode:"Q0FC",vipcode:"P01",entity_id:530,status:"Final",leadoffice:81410,fedreg:"72FR18518 18553",pubdate:"20070412",source_id:1374,objectid:245,listing_st:"Endangered",ch_id:541,ch_str_id:"a-541"},{comname:"Soft bird's-beak",sciname:"Cordylanthus mollis ssp. mollis",spcode:"Q0GT",vipcode:"P01",entity_id:534,status:"Final",leadoffice:81410,fedreg:"72FR18518 18553",pubdate:"20070412",source_id:1375,objectid:246,listing_st:"Endangered",ch_id:541,ch_str_id:"a-541"},{comname:"Sacramento Orcutt grass",sciname:"Orcuttia viscida",spcode:"Q1ZQ",vipcode:"P01",entity_id:787,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1092,objectid:137,listing_st:"Endangered",ch_id:542,ch_str_id:"a-542"},{comname:"Slender Orcutt grass",sciname:"Orcuttia tenuis",spcode:"Q1AZ",vipcode:"P01",entity_id:583,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1091,objectid:136,listing_st:"Threatened",ch_id:542,ch_str_id:"a-542"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:542,ch_str_id:"a-542"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:542,ch_str_id:"a-542"},{comname:"Sacramento Orcutt grass",sciname:"Orcuttia viscida",spcode:"Q1ZQ",vipcode:"P01",entity_id:787,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1092,objectid:137,listing_st:"Endangered",ch_id:543,ch_str_id:"a-543"},{comname:"California tiger Salamander",sciname:"Ambystoma californiense",spcode:"D01T",vipcode:"V03",entity_id:4773,status:"Final",leadoffice:11420,fedreg:"70FR49380 49458",pubdate:"20050823",source_id:1063,objectid:112,listing_st:"Threatened",ch_id:543,ch_str_id:"a-543"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:543,ch_str_id:"a-543"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:543,ch_str_id:"a-543"},{comname:"Butte County meadowfoam",sciname:"Limnanthes floccosa ssp. californica",spcode:"Q2YE",vipcode:"P01",entity_id:1081,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1087,objectid:132,listing_st:"Endangered",ch_id:544,ch_str_id:"a-544"},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:544,ch_str_id:"a-544"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:544,ch_str_id:"a-544"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:544,ch_str_id:"a-544"},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:545,ch_str_id:"a-545"},{comname:"Longhorn fairy shrimp",sciname:"Branchinecta longiantenna",spcode:"K03E",vipcode:"I01",entity_id:491,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1086,objectid:131,listing_st:"Endangered",ch_id:545,ch_str_id:"a-545"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:545,ch_str_id:"a-545"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:545,ch_str_id:"a-545"},{comname:"Ash Meadows Amargosa pupfish",sciname:"Cyprinodon nevadensis mionectes",spcode:"E042",vipcode:"V01",entity_id:274,status:"Final",leadoffice:84321,fedreg:"48FR40178 40186",pubdate:"19830902",source_id:1126,objectid:153,listing_st:"Endangered",ch_id:546,ch_str_id:"a-546"},{comname:"Ash Meadows speckled dace",sciname:"Rhinichthys osculus nevadensis",spcode:"E03A",vipcode:"V01",entity_id:264,status:"Final",leadoffice:84321,fedreg:"48FR40178 40186",pubdate:"19830902",source_id:1131,objectid:158,listing_st:"Endangered",ch_id:546,ch_str_id:"a-546"},{comname:"Spring-loving centaury",sciname:"Centaurium namophilum",spcode:"Q1U5",vipcode:"P01",entity_id:660,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1178,objectid:186,listing_st:"Threatened",ch_id:546,ch_str_id:"a-546"},{comname:"Ash Meadows gumplant",sciname:"Grindelia fraxinipratensis",spcode:"Q2AM",vipcode:"P01",entity_id:941,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1128,objectid:155,listing_st:"Threatened",ch_id:546,ch_str_id:"a-546"},{comname:"Spring-loving centaury",sciname:"Centaurium namophilum",spcode:"Q1U5",vipcode:"P01",entity_id:660,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1178,objectid:186,listing_st:"Threatened",ch_id:547,ch_str_id:"a-547"},{comname:"Ash Meadows blazingstar",sciname:"Mentzelia leucophylla",spcode:"Q1ZD",vipcode:"P01",entity_id:776,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1127,objectid:154,listing_st:"Threatened",ch_id:547,ch_str_id:"a-547"},{comname:"Ash Meadows ivesia",sciname:"Ivesia kingii var. eremica",spcode:"Q1XM",vipcode:"P01",entity_id:743,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1129,objectid:156,listing_st:"Threatened",ch_id:547,ch_str_id:"a-547"},{comname:"Ash Meadows sunray",sciname:"Enceliopsis nudicaulis var. corrugata",spcode:"Q297",vipcode:"P01",entity_id:926,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1132,objectid:159,listing_st:"Threatened",ch_id:547,ch_str_id:"a-547"},{comname:"Spring-loving centaury",sciname:"Centaurium namophilum",spcode:"Q1U5",vipcode:"P01",entity_id:660,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1178,objectid:186,listing_st:"Threatened",ch_id:548,ch_str_id:"a-548"},{comname:"Ash Meadows gumplant",sciname:"Grindelia fraxinipratensis",spcode:"Q2AM",vipcode:"P01",entity_id:941,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1128,objectid:155,listing_st:"Threatened",ch_id:548,ch_str_id:"a-548"},{comname:"Ash Meadows ivesia",sciname:"Ivesia kingii var. eremica",spcode:"Q1XM",vipcode:"P01",entity_id:743,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1129,objectid:156,listing_st:"Threatened",ch_id:548,ch_str_id:"a-548"},{comname:"Ash Meadows sunray",sciname:"Enceliopsis nudicaulis var. corrugata",spcode:"Q297",vipcode:"P01",entity_id:926,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1132,objectid:159,listing_st:"Threatened",ch_id:548,ch_str_id:"a-548"},{comname:"Bracted twistflower",sciname:"Streptanthus bracteatus",spcode:"Q1R7",vipcode:"P01",entity_id:1678,status:"Final",leadoffice:21450,fedreg:"88FR21844 21876",pubdate:"20230411",source_id:2020,objectid:739,listing_st:"Threatened",ch_id:55,ch_str_id:"a-55"},{comname:"[no common name] Beetle",sciname:"Rhadine infernalis",spcode:"I0P1",vipcode:"I01",entity_id:459,status:"Final",leadoffice:21450,fedreg:"77FR8450 8523",pubdate:"20120214",source_id:462,objectid:37,listing_st:"Endangered",ch_id:55,ch_str_id:"a-55"},{comname:"Ash Meadows blazingstar",sciname:"Mentzelia leucophylla",spcode:"Q1ZD",vipcode:"P01",entity_id:776,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1127,objectid:154,listing_st:"Threatened",ch_id:550,ch_str_id:"a-550"},{comname:"Ash Meadows gumplant",sciname:"Grindelia fraxinipratensis",spcode:"Q2AM",vipcode:"P01",entity_id:941,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1128,objectid:155,listing_st:"Threatened",ch_id:550,ch_str_id:"a-550"},{comname:"Ash Meadows ivesia",sciname:"Ivesia kingii var. eremica",spcode:"Q1XM",vipcode:"P01",entity_id:743,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1129,objectid:156,listing_st:"Threatened",ch_id:550,ch_str_id:"a-550"},{comname:"Ash Meadows sunray",sciname:"Enceliopsis nudicaulis var. corrugata",spcode:"Q297",vipcode:"P01",entity_id:926,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1132,objectid:159,listing_st:"Threatened",ch_id:550,ch_str_id:"a-550"},{comname:"San Joaquin Valley Orcutt grass",sciname:"Orcuttia inaequalis",spcode:"Q1ZP",vipcode:"P01",entity_id:786,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1089,objectid:134,listing_st:"Threatened",ch_id:551,ch_str_id:"a-551"},{comname:"Hoover's spurge",sciname:"Chamaesyce hooveri",spcode:"Q0E9",vipcode:"P01",entity_id:527,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1084,objectid:129,listing_st:"Threatened",ch_id:551,ch_str_id:"a-551"},{comname:"California tiger Salamander",sciname:"Ambystoma californiense",spcode:"D01T",vipcode:"V03",entity_id:4773,status:"Final",leadoffice:11420,fedreg:"70FR49380 49458",pubdate:"20050823",source_id:1063,objectid:112,listing_st:"Threatened",ch_id:551,ch_str_id:"a-551"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:551,ch_str_id:"a-551"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:551,ch_str_id:"a-551"},{comname:"Hairy Orcutt grass",sciname:"Orcuttia pilosa",spcode:"Q1AY",vipcode:"P01",entity_id:582,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1090,objectid:135,listing_st:"Endangered",ch_id:552,ch_str_id:"a-552"},{comname:"Colusa grass",sciname:"Neostapfia colusana",spcode:"Q19I",vipcode:"P01",entity_id:580,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1088,objectid:133,listing_st:"Threatened",ch_id:552,ch_str_id:"a-552"},{comname:"Fleshy owl's-clover",sciname:"Castilleja campestris ssp. succulenta",spcode:"Q0CG",vipcode:"P01",entity_id:522,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1082,objectid:127,listing_st:"Threatened",ch_id:552,ch_str_id:"a-552"},{comname:"Hoover's spurge",sciname:"Chamaesyce hooveri",spcode:"Q0E9",vipcode:"P01",entity_id:527,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1084,objectid:129,listing_st:"Threatened",ch_id:552,ch_str_id:"a-552"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:552,ch_str_id:"a-552"},{comname:"Hairy Orcutt grass",sciname:"Orcuttia pilosa",spcode:"Q1AY",vipcode:"P01",entity_id:582,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1090,objectid:135,listing_st:"Endangered",ch_id:553,ch_str_id:"a-553"},{comname:"Colusa grass",sciname:"Neostapfia colusana",spcode:"Q19I",vipcode:"P01",entity_id:580,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1088,objectid:133,listing_st:"Threatened",ch_id:553,ch_str_id:"a-553"},{comname:"Hoover's spurge",sciname:"Chamaesyce hooveri",spcode:"Q0E9",vipcode:"P01",entity_id:527,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1084,objectid:129,listing_st:"Threatened",ch_id:553,ch_str_id:"a-553"},{comname:"California tiger Salamander",sciname:"Ambystoma californiense",spcode:"D01T",vipcode:"V03",entity_id:4773,status:"Final",leadoffice:11420,fedreg:"70FR49380 49458",pubdate:"20050823",source_id:1063,objectid:112,listing_st:"Threatened",ch_id:553,ch_str_id:"a-553"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:553,ch_str_id:"a-553"},{comname:"Colusa grass",sciname:"Neostapfia colusana",spcode:"Q19I",vipcode:"P01",entity_id:580,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1088,objectid:133,listing_st:"Threatened",ch_id:554,ch_str_id:"a-554"},{comname:"Fleshy owl's-clover",sciname:"Castilleja campestris ssp. succulenta",spcode:"Q0CG",vipcode:"P01",entity_id:522,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1082,objectid:127,listing_st:"Threatened",ch_id:554,ch_str_id:"a-554"},{comname:"Greene's tuctoria",sciname:"Tuctoria greenei",spcode:"Q23K",vipcode:"P01",entity_id:858,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1097,objectid:142,listing_st:"Endangered",ch_id:554,ch_str_id:"a-554"},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:554,ch_str_id:"a-554"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:554,ch_str_id:"a-554"},{comname:"San Joaquin Valley Orcutt grass",sciname:"Orcuttia inaequalis",spcode:"Q1ZP",vipcode:"P01",entity_id:786,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1089,objectid:134,listing_st:"Threatened",ch_id:554,ch_str_id:"a-554"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:554,ch_str_id:"a-554"},{comname:"Colusa grass",sciname:"Neostapfia colusana",spcode:"Q19I",vipcode:"P01",entity_id:580,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1088,objectid:133,listing_st:"Threatened",ch_id:555,ch_str_id:"a-555"},{comname:"Hoover's spurge",sciname:"Chamaesyce hooveri",spcode:"Q0E9",vipcode:"P01",entity_id:527,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1084,objectid:129,listing_st:"Threatened",ch_id:555,ch_str_id:"a-555"},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:555,ch_str_id:"a-555"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:555,ch_str_id:"a-555"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:555,ch_str_id:"a-555"},{comname:"Fleshy owl's-clover",sciname:"Castilleja campestris ssp. succulenta",spcode:"Q0CG",vipcode:"P01",entity_id:522,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1082,objectid:127,listing_st:"Threatened",ch_id:556,ch_str_id:"a-556"},{comname:"California tiger Salamander",sciname:"Ambystoma californiense",spcode:"D01T",vipcode:"V03",entity_id:4773,status:"Final",leadoffice:11420,fedreg:"70FR49380 49458",pubdate:"20050823",source_id:1063,objectid:112,listing_st:"Threatened",ch_id:556,ch_str_id:"a-556"},{comname:"Greene's tuctoria",sciname:"Tuctoria greenei",spcode:"Q23K",vipcode:"P01",entity_id:858,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1097,objectid:142,listing_st:"Endangered",ch_id:556,ch_str_id:"a-556"},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:556,ch_str_id:"a-556"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:556,ch_str_id:"a-556"},{comname:"Colusa grass",sciname:"Neostapfia colusana",spcode:"Q19I",vipcode:"P01",entity_id:580,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1088,objectid:133,listing_st:"Threatened",ch_id:557,ch_str_id:"a-557"},{comname:"Fleshy owl's-clover",sciname:"Castilleja campestris ssp. succulenta",spcode:"Q0CG",vipcode:"P01",entity_id:522,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1082,objectid:127,listing_st:"Threatened",ch_id:557,ch_str_id:"a-557"},{comname:"Greene's tuctoria",sciname:"Tuctoria greenei",spcode:"Q23K",vipcode:"P01",entity_id:858,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1097,objectid:142,listing_st:"Endangered",ch_id:557,ch_str_id:"a-557"},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:557,ch_str_id:"a-557"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:557,ch_str_id:"a-557"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:557,ch_str_id:"a-557"},{comname:"Contra Costa goldfields",sciname:"Lasthenia conjugens",spcode:"Q122",vipcode:"P01",entity_id:566,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1085,objectid:130,listing_st:"Endangered",ch_id:558,ch_str_id:"a-558"},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:558,ch_str_id:"a-558"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:558,ch_str_id:"a-558"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:558,ch_str_id:"a-558"},{comname:"Delta smelt",sciname:"Hypomesus transpacificus",spcode:"E070",vipcode:"V01",entity_id:305,status:"Final",leadoffice:81410,fedreg:"59FR65256 65279",pubdate:"19941219",source_id:1065,objectid:114,listing_st:"Threatened",ch_id:558,ch_str_id:"a-558"},{comname:"Suisun thistle",sciname:"Cirsium hydrophilum var. hydrophilum",spcode:"Q0FC",vipcode:"P01",entity_id:530,status:"Final",leadoffice:81410,fedreg:"72FR18518 18553",pubdate:"20070412",source_id:1374,objectid:245,listing_st:"Endangered",ch_id:558,ch_str_id:"a-558"},{comname:"Spring-loving centaury",sciname:"Centaurium namophilum",spcode:"Q1U5",vipcode:"P01",entity_id:660,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1178,objectid:186,listing_st:"Threatened",ch_id:559,ch_str_id:"a-559"},{comname:"Ash meadows milk-vetch",sciname:"Astragalus phoenix",spcode:"Q1TB",vipcode:"P01",entity_id:641,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1133,objectid:160,listing_st:"Threatened",ch_id:559,ch_str_id:"a-559"},{comname:"Ash Meadows blazingstar",sciname:"Mentzelia leucophylla",spcode:"Q1ZD",vipcode:"P01",entity_id:776,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1127,objectid:154,listing_st:"Threatened",ch_id:559,ch_str_id:"a-559"},{comname:"Ash Meadows ivesia",sciname:"Ivesia kingii var. eremica",spcode:"Q1XM",vipcode:"P01",entity_id:743,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1129,objectid:156,listing_st:"Threatened",ch_id:559,ch_str_id:"a-559"},{comname:"Ash Meadows sunray",sciname:"Enceliopsis nudicaulis var. corrugata",spcode:"Q297",vipcode:"P01",entity_id:926,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1132,objectid:159,listing_st:"Threatened",ch_id:559,ch_str_id:"a-559"},{comname:"Cokendolpher Cave Harvestman",sciname:"Texella cokendolpheri",spcode:"J016",vipcode:"I01",entity_id:469,status:"Final",leadoffice:21450,fedreg:"77FR8450 8523",pubdate:"20120214",source_id:471,objectid:40,listing_st:"Endangered",ch_id:56,ch_str_id:"a-56"},{comname:"Robber Baron Cave Meshweaver",sciname:"Cicurina baronia",spcode:"J01A",vipcode:"I01",entity_id:472,status:"Final",leadoffice:21450,fedreg:"77FR8450 8523",pubdate:"20120214",source_id:474,objectid:43,listing_st:"Endangered",ch_id:56,ch_str_id:"a-56"},{comname:"Spring-loving centaury",sciname:"Centaurium namophilum",spcode:"Q1U5",vipcode:"P01",entity_id:660,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1178,objectid:186,listing_st:"Threatened",ch_id:560,ch_str_id:"a-560"},{comname:"Ash meadows milk-vetch",sciname:"Astragalus phoenix",spcode:"Q1TB",vipcode:"P01",entity_id:641,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1133,objectid:160,listing_st:"Threatened",ch_id:560,ch_str_id:"a-560"},{comname:"Ash Meadows gumplant",sciname:"Grindelia fraxinipratensis",spcode:"Q2AM",vipcode:"P01",entity_id:941,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1128,objectid:155,listing_st:"Threatened",ch_id:560,ch_str_id:"a-560"},{comname:"Ash Meadows ivesia",sciname:"Ivesia kingii var. eremica",spcode:"Q1XM",vipcode:"P01",entity_id:743,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1129,objectid:156,listing_st:"Threatened",ch_id:560,ch_str_id:"a-560"},{comname:"Ash Meadows sunray",sciname:"Enceliopsis nudicaulis var. corrugata",spcode:"Q297",vipcode:"P01",entity_id:926,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1132,objectid:159,listing_st:"Threatened",ch_id:560,ch_str_id:"a-560"},{comname:"San Joaquin Valley Orcutt grass",sciname:"Orcuttia inaequalis",spcode:"Q1ZP",vipcode:"P01",entity_id:786,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1089,objectid:134,listing_st:"Threatened",ch_id:561,ch_str_id:"a-561"},{comname:"Colusa grass",sciname:"Neostapfia colusana",spcode:"Q19I",vipcode:"P01",entity_id:580,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1088,objectid:133,listing_st:"Threatened",ch_id:561,ch_str_id:"a-561"},{comname:"Fleshy owl's-clover",sciname:"Castilleja campestris ssp. succulenta",spcode:"Q0CG",vipcode:"P01",entity_id:522,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1082,objectid:127,listing_st:"Threatened",ch_id:561,ch_str_id:"a-561"},{comname:"Greene's tuctoria",sciname:"Tuctoria greenei",spcode:"Q23K",vipcode:"P01",entity_id:858,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1097,objectid:142,listing_st:"Endangered",ch_id:561,ch_str_id:"a-561"},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:561,ch_str_id:"a-561"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:561,ch_str_id:"a-561"},{comname:"San Joaquin Valley Orcutt grass",sciname:"Orcuttia inaequalis",spcode:"Q1ZP",vipcode:"P01",entity_id:786,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1089,objectid:134,listing_st:"Threatened",ch_id:562,ch_str_id:"a-562"},{comname:"Fleshy owl's-clover",sciname:"Castilleja campestris ssp. succulenta",spcode:"Q0CG",vipcode:"P01",entity_id:522,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1082,objectid:127,listing_st:"Threatened",ch_id:562,ch_str_id:"a-562"},{comname:"Greene's tuctoria",sciname:"Tuctoria greenei",spcode:"Q23K",vipcode:"P01",entity_id:858,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1097,objectid:142,listing_st:"Endangered",ch_id:562,ch_str_id:"a-562"},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:562,ch_str_id:"a-562"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:562,ch_str_id:"a-562"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:562,ch_str_id:"a-562"},{comname:"Fleshy owl's-clover",sciname:"Castilleja campestris ssp. succulenta",spcode:"Q0CG",vipcode:"P01",entity_id:522,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1082,objectid:127,listing_st:"Threatened",ch_id:563,ch_str_id:"a-563"},{comname:"California tiger Salamander",sciname:"Ambystoma californiense",spcode:"D01T",vipcode:"V03",entity_id:4773,status:"Final",leadoffice:11420,fedreg:"70FR49380 49458",pubdate:"20050823",source_id:1063,objectid:112,listing_st:"Threatened",ch_id:563,ch_str_id:"a-563"},{comname:"Greene's tuctoria",sciname:"Tuctoria greenei",spcode:"Q23K",vipcode:"P01",entity_id:858,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1097,objectid:142,listing_st:"Endangered",ch_id:563,ch_str_id:"a-563"},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:563,ch_str_id:"a-563"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:563,ch_str_id:"a-563"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:563,ch_str_id:"a-563"},{comname:"Contra Costa goldfields",sciname:"Lasthenia conjugens",spcode:"Q122",vipcode:"P01",entity_id:566,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1085,objectid:130,listing_st:"Endangered",ch_id:565,ch_str_id:"a-565"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:565,ch_str_id:"a-565"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:565,ch_str_id:"a-565"},{comname:"Delta smelt",sciname:"Hypomesus transpacificus",spcode:"E070",vipcode:"V01",entity_id:305,status:"Final",leadoffice:81410,fedreg:"59FR65256 65279",pubdate:"19941219",source_id:1065,objectid:114,listing_st:"Threatened",ch_id:565,ch_str_id:"a-565"},{comname:"Suisun thistle",sciname:"Cirsium hydrophilum var. hydrophilum",spcode:"Q0FC",vipcode:"P01",entity_id:530,status:"Final",leadoffice:81410,fedreg:"72FR18518 18553",pubdate:"20070412",source_id:1374,objectid:245,listing_st:"Endangered",ch_id:565,ch_str_id:"a-565"},{comname:"Soft bird's-beak",sciname:"Cordylanthus mollis ssp. mollis",spcode:"Q0GT",vipcode:"P01",entity_id:534,status:"Final",leadoffice:81410,fedreg:"72FR18518 18553",pubdate:"20070412",source_id:1375,objectid:246,listing_st:"Endangered",ch_id:565,ch_str_id:"a-565"},{comname:"Spring-loving centaury",sciname:"Centaurium namophilum",spcode:"Q1U5",vipcode:"P01",entity_id:660,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1178,objectid:186,listing_st:"Threatened",ch_id:566,ch_str_id:"a-566"},{comname:"Ash meadows milk-vetch",sciname:"Astragalus phoenix",spcode:"Q1TB",vipcode:"P01",entity_id:641,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1133,objectid:160,listing_st:"Threatened",ch_id:566,ch_str_id:"a-566"},{comname:"Ash Meadows blazingstar",sciname:"Mentzelia leucophylla",spcode:"Q1ZD",vipcode:"P01",entity_id:776,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1127,objectid:154,listing_st:"Threatened",ch_id:566,ch_str_id:"a-566"},{comname:"Ash Meadows gumplant",sciname:"Grindelia fraxinipratensis",spcode:"Q2AM",vipcode:"P01",entity_id:941,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1128,objectid:155,listing_st:"Threatened",ch_id:566,ch_str_id:"a-566"},{comname:"Ash Meadows ivesia",sciname:"Ivesia kingii var. eremica",spcode:"Q1XM",vipcode:"P01",entity_id:743,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1129,objectid:156,listing_st:"Threatened",ch_id:566,ch_str_id:"a-566"},{comname:"Ash Meadows sunray",sciname:"Enceliopsis nudicaulis var. corrugata",spcode:"Q297",vipcode:"P01",entity_id:926,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1132,objectid:159,listing_st:"Threatened",ch_id:566,ch_str_id:"a-566"},{comname:"San Joaquin Valley Orcutt grass",sciname:"Orcuttia inaequalis",spcode:"Q1ZP",vipcode:"P01",entity_id:786,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1089,objectid:134,listing_st:"Threatened",ch_id:567,ch_str_id:"a-567"},{comname:"Colusa grass",sciname:"Neostapfia colusana",spcode:"Q19I",vipcode:"P01",entity_id:580,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1088,objectid:133,listing_st:"Threatened",ch_id:567,ch_str_id:"a-567"},{comname:"Fleshy owl's-clover",sciname:"Castilleja campestris ssp. succulenta",spcode:"Q0CG",vipcode:"P01",entity_id:522,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1082,objectid:127,listing_st:"Threatened",ch_id:567,ch_str_id:"a-567"},{comname:"California tiger Salamander",sciname:"Ambystoma californiense",spcode:"D01T",vipcode:"V03",entity_id:4773,status:"Final",leadoffice:11420,fedreg:"70FR49380 49458",pubdate:"20050823",source_id:1063,objectid:112,listing_st:"Threatened",ch_id:567,ch_str_id:"a-567"},{comname:"Greene's tuctoria",sciname:"Tuctoria greenei",spcode:"Q23K",vipcode:"P01",entity_id:858,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1097,objectid:142,listing_st:"Endangered",ch_id:567,ch_str_id:"a-567"},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:567,ch_str_id:"a-567"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:567,ch_str_id:"a-567"},{comname:"Hairy Orcutt grass",sciname:"Orcuttia pilosa",spcode:"Q1AY",vipcode:"P01",entity_id:582,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1090,objectid:135,listing_st:"Endangered",ch_id:568,ch_str_id:"a-568"},{comname:"Hoover's spurge",sciname:"Chamaesyce hooveri",spcode:"Q0E9",vipcode:"P01",entity_id:527,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1084,objectid:129,listing_st:"Threatened",ch_id:568,ch_str_id:"a-568"},{comname:"Slender Orcutt grass",sciname:"Orcuttia tenuis",spcode:"Q1AZ",vipcode:"P01",entity_id:583,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1091,objectid:136,listing_st:"Threatened",ch_id:568,ch_str_id:"a-568"},{comname:"Greene's tuctoria",sciname:"Tuctoria greenei",spcode:"Q23K",vipcode:"P01",entity_id:858,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1097,objectid:142,listing_st:"Endangered",ch_id:568,ch_str_id:"a-568"},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:568,ch_str_id:"a-568"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:568,ch_str_id:"a-568"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:568,ch_str_id:"a-568"},{comname:"Contra Costa goldfields",sciname:"Lasthenia conjugens",spcode:"Q122",vipcode:"P01",entity_id:566,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1085,objectid:130,listing_st:"Endangered",ch_id:569,ch_str_id:"a-569"},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:569,ch_str_id:"a-569"},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:569,ch_str_id:"a-569"},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:569,ch_str_id:"a-569"},{comname:"Delta smelt",sciname:"Hypomesus transpacificus",spcode:"E070",vipcode:"V01",entity_id:305,status:"Final",leadoffice:81410,fedreg:"59FR65256 65279",pubdate:"19941219",source_id:1065,objectid:114,listing_st:"Threatened",ch_id:569,ch_str_id:"a-569"},{comname:"Suisun thistle",sciname:"Cirsium hydrophilum var. hydrophilum",spcode:"Q0FC",vipcode:"P01",entity_id:530,status:"Final",leadoffice:81410,fedreg:"72FR18518 18553",pubdate:"20070412",source_id:1374,objectid:245,listing_st:"Endangered",ch_id:569,ch_str_id:"a-569"},{comname:"Soft bird's-beak",sciname:"Cordylanthus mollis ssp. mollis",spcode:"Q0GT",vipcode:"P01",entity_id:534,status:"Final",leadoffice:81410,fedreg:"72FR18518 18553",pubdate:"20070412",source_id:1375,objectid:246,listing_st:"Endangered",ch_id:569,ch_str_id:"a-569"},{comname:"Texas fatmucket",sciname:"Lampsilis bracteata",spcode:"F04I",vipcode:"I01",entity_id:10038,status:"Final",leadoffice:21450,fedreg:"89FR48034 48130",pubdate:"20240604",source_id:2006,objectid:724,listing_st:"Endangered",ch_id:57,ch_str_id:"a-57"},{comname:"Texas pimpleback",sciname:"Cyclonaias petrina",spcode:"F04F",vipcode:"I01",entity_id:9968,status:"Final",leadoffice:21450,fedreg:"89FR48034 48130",pubdate:"20240604",source_id:2012,objectid:731,listing_st:"Endangered",ch_id:57,ch_str_id:"a-57"},{comname:"Yellowfin madtom",sciname:"Noturus flavipinnis",spcode:"E01Y",vipcode:"V01",entity_id:247,status:"Final",leadoffice:42430,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:2023,objectid:743,listing_st:"Threatened",ch_id:570,ch_str_id:"a-570"},{comname:"Sickle darter",sciname:"Percina williamsi",spcode:"E0CX",vipcode:"V01",entity_id:10823,status:"Proposed",leadoffice:40120,fedreg:"88FR4128 4150",pubdate:"20230124",source_id:2050,objectid:768,listing_st:"Threatened",ch_id:570,ch_str_id:"a-570"},{comname:"Smoky madtom",sciname:"Noturus baileyi",spcode:"E02C",vipcode:"V01",entity_id:258,status:"Final",leadoffice:42430,fedreg:"49FR43065 43069",pubdate:"19841026",source_id:2022,objectid:742,listing_st:"Endangered",ch_id:571,ch_str_id:"a-571"},{comname:"Tumbling Creek cavesnail",sciname:"Antrobia culveri",spcode:"G04I",vipcode:"I01",entity_id:406,status:"Final",leadoffice:33410,fedreg:"76FR37663 37677",pubdate:"20110628",source_id:1495,objectid:284,listing_st:"Endangered",ch_id:572,ch_str_id:"a-572"},{comname:"Whorled Sunflower",sciname:"Helianthus verticillatus",spcode:"Q3HO",vipcode:"P01",entity_id:1881,status:"Final",leadoffice:43910,fedreg:"79FR50989 51039",pubdate:"20140826",source_id:1537,objectid:310,listing_st:"Endangered",ch_id:573,ch_str_id:"a-573"},{comname:"Spotfin Chub",sciname:"Erimonax monachus",spcode:"E012",vipcode:"V01",entity_id:237,status:"Final",leadoffice:42910,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:2021,objectid:741,listing_st:"Threatened",ch_id:574,ch_str_id:"a-574"},{comname:"Candy darter",sciname:"Etheostoma osburni",spcode:"E03K",vipcode:"V01",entity_id:8352,status:"Final",leadoffice:51412,fedreg:"86FR17956 17992",pubdate:"20210407",source_id:2029,objectid:749,listing_st:"Endangered",ch_id:575,ch_str_id:"a-575"},{comname:"Sickle darter",sciname:"Percina williamsi",spcode:"E0CX",vipcode:"V01",entity_id:10823,status:"Proposed",leadoffice:40120,fedreg:"88FR4128 4150",pubdate:"20230124",source_id:2050,objectid:768,listing_st:"Threatened",ch_id:576,ch_str_id:"a-576"},{comname:"Big Creek Crayfish",sciname:"Faxonius peruncus",spcode:"K090",vipcode:"I01",entity_id:11563,status:"Final",leadoffice:33410,fedreg:"88FR25512 25542",pubdate:"20230427",source_id:1985,objectid:703,listing_st:"Threatened",ch_id:577,ch_str_id:"a-577"},{comname:"Green floater",sciname:"Lasmigona subviridis",spcode:"F03E",vipcode:"I01",entity_id:2643,status:"Proposed",leadoffice:52410,fedreg:"88FR48294 48349",pubdate:"20230726",source_id:2057,objectid:775,listing_st:"Proposed Threatened",ch_id:578,ch_str_id:"a-578"},{comname:"Carolina madtom",sciname:"Noturus furiosus",spcode:"E03R",vipcode:"V01",entity_id:5288,status:"Final",leadoffice:42420,fedreg:"86FR30688 30751",pubdate:"20210609",source_id:1968,objectid:727,listing_st:"Endangered",ch_id:578,ch_str_id:"a-578"},{comname:"Carolina heelsplitter",sciname:"Lasmigona decorata",spcode:"F02L",vipcode:"I01",entity_id:370,status:"Final",leadoffice:42410,fedreg:"67FR44502 44522",pubdate:"20020702",source_id:2037,objectid:755,listing_st:"Endangered",ch_id:579,ch_str_id:"a-579"},{comname:"Willowy monardella",sciname:"Monardella viminea",spcode:"Q18M",vipcode:"P01",entity_id:576,status:"Final",leadoffice:11430,fedreg:"77FR13394 13447",pubdate:"20120306",source_id:1337,objectid:222,listing_st:"Endangered",ch_id:58,ch_str_id:"a-58"},{comname:"Hermes copper butterfly",sciname:"Lycaena hermes",spcode:"I05C",vipcode:"I01",entity_id:1984,status:"Final",leadoffice:11430,fedreg:"86FR72394 72433",pubdate:"20211221",source_id:1975,objectid:693,listing_st:"Threatened",ch_id:58,ch_str_id:"a-58"},{comname:"St. Francis River Crayfish",sciname:"Faxonius quadruncus",spcode:"K091",vipcode:"I01",entity_id:11564,status:"Final",leadoffice:33410,fedreg:"88FR25512 25542",pubdate:"20230427",source_id:1986,objectid:704,listing_st:"Threatened",ch_id:580,ch_str_id:"a-580"},{comname:"Salamander mussel",sciname:"Simpsonaias ambigua",spcode:"F01U",vipcode:"I01",entity_id:8134,status:"Proposed",leadoffice:31410,fedreg:"88FR57224 57290",pubdate:"20230822",source_id:2084,objectid:797,listing_st:"Proposed Endangered",ch_id:581,ch_str_id:"a-581"},{comname:"Canoe Creek Clubshell",sciname:"Pleurobema athearni",spcode:"G0CH",vipcode:"I01",entity_id:9222,status:"Final",leadoffice:43410,fedreg:"87FR40115 40138",pubdate:"20220706",source_id:2040,objectid:758,listing_st:"Endangered",ch_id:582,ch_str_id:"a-582"},{comname:"Frecklebelly madtom",sciname:"Noturus munitus",spcode:"E01I",vipcode:"V02",entity_id:11662,status:"Final",leadoffice:43410,fedreg:"88FR13038 13070",pubdate:"20230302",source_id:2024,objectid:744,listing_st:"Threatened",ch_id:583,ch_str_id:"a-583"},{comname:"Trispot darter",sciname:"Etheostoma trisella",spcode:"E05G",vipcode:"V01",entity_id:3069,status:"Final",leadoffice:43410,fedreg:"85FR61619 61638",pubdate:"20200930",source_id:1965,objectid:689,listing_st:"Threatened",ch_id:583,ch_str_id:"a-583"},{comname:"Amber darter",sciname:"Percina antesella",spcode:"E05F",vipcode:"V01",entity_id:293,status:"Final",leadoffice:41460,fedreg:"50FR31597 31604",pubdate:"19850805",source_id:1125,objectid:152,listing_st:"Endangered",ch_id:583,ch_str_id:"a-583"},{comname:"Carolina madtom",sciname:"Noturus furiosus",spcode:"E03R",vipcode:"V01",entity_id:5288,status:"Final",leadoffice:42420,fedreg:"86FR30688 30751",pubdate:"20210609",source_id:1968,objectid:727,listing_st:"Endangered",ch_id:584,ch_str_id:"a-584"},{comname:"Trispot darter",sciname:"Etheostoma trisella",spcode:"E05G",vipcode:"V01",entity_id:3069,status:"Final",leadoffice:43410,fedreg:"85FR61619 61638",pubdate:"20200930",source_id:1965,objectid:689,listing_st:"Threatened",ch_id:585,ch_str_id:"a-585"},{comname:"Canoe Creek Clubshell",sciname:"Pleurobema athearni",spcode:"G0CH",vipcode:"I01",entity_id:9222,status:"Final",leadoffice:43410,fedreg:"87FR40115 40138",pubdate:"20220706",source_id:2040,objectid:758,listing_st:"Endangered",ch_id:585,ch_str_id:"a-585"},{comname:"Frecklebelly madtom",sciname:"Noturus munitus",spcode:"E01I",vipcode:"V02",entity_id:11662,status:"Final",leadoffice:43410,fedreg:"88FR13038 13070",pubdate:"20230302",source_id:2024,objectid:744,listing_st:"Threatened",ch_id:585,ch_str_id:"a-585"},{comname:"Conasauga logperch",sciname:"Percina jenkinsi",spcode:"E05H",vipcode:"V01",entity_id:294,status:"Final",leadoffice:41460,fedreg:"50FR31597 31604",pubdate:"19850805",source_id:1137,objectid:164,listing_st:"Endangered",ch_id:585,ch_str_id:"a-585"},{comname:"Amber darter",sciname:"Percina antesella",spcode:"E05F",vipcode:"V01",entity_id:293,status:"Final",leadoffice:41460,fedreg:"50FR31597 31604",pubdate:"19850805",source_id:1125,objectid:152,listing_st:"Endangered",ch_id:585,ch_str_id:"a-585"},{comname:"Finelined pocketbook",sciname:"Hamiota altilis",spcode:"F02X",vipcode:"I01",entity_id:372,status:"Final",leadoffice:43410,fedreg:"69FR40084 40171",pubdate:"20040701",source_id:1147,objectid:168,listing_st:"Threatened",ch_id:585,ch_str_id:"a-585"},{comname:"Neuse River waterdog",sciname:"Necturus lewisi",spcode:"D00O",vipcode:"V01",entity_id:2932,status:"Final",leadoffice:42420,fedreg:"86FR30688 30751",pubdate:"20210609",source_id:1969,objectid:728,listing_st:"Threatened",ch_id:586,ch_str_id:"a-586"},{comname:"Plymouth Redbelly Turtle = Plymouth Redbelly Cooter",sciname:"Pseudemys rubriventris bangsi",spcode:"C021",vipcode:"V01",entity_id:170,status:"Final",leadoffice:53410,fedreg:"45FR21828 21833",pubdate:"19800402",source_id:1167,objectid:183,listing_st:"Endangered",ch_id:587,ch_str_id:"a-587"},{comname:"Golden sedge",sciname:"Carex lutea",spcode:"Q3HD",vipcode:"P01",entity_id:1189,status:"Final",leadoffice:42420,fedreg:"76FR11086 11111",pubdate:"20110301",source_id:1382,objectid:252,listing_st:"Endangered",ch_id:588,ch_str_id:"a-588"},{comname:"Purple bean",sciname:"Villosa perpurpurea",spcode:"F001",vipcode:"I01",entity_id:318,status:"Final",leadoffice:51413,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2027,objectid:747,listing_st:"Endangered",ch_id:589,ch_str_id:"a-589"},{comname:"Braken Bat Cave meshweaver",sciname:"Cicurina venii",spcode:"J01D",vipcode:"I01",entity_id:474,status:"Final",leadoffice:21450,fedreg:"77FR8450 8523",pubdate:"20120214",source_id:470,objectid:39,listing_st:"Original Data in Error - Not a listable entity",ch_id:59,ch_str_id:"a-59"},{comname:"[no common name] Beetle",sciname:"Rhadine infernalis",spcode:"I0P1",vipcode:"I01",entity_id:459,status:"Final",leadoffice:21450,fedreg:"77FR8450 8523",pubdate:"20120214",source_id:462,objectid:37,listing_st:"Endangered",ch_id:59,ch_str_id:"a-59"},{comname:"Mountain golden heather",sciname:"Hudsonia montana",spcode:"Q2U5",vipcode:"P01",entity_id:1058,status:"Final",leadoffice:42910,fedreg:"45FR69360 69363",pubdate:"19801020",source_id:1105,objectid:148,listing_st:"Threatened",ch_id:590,ch_str_id:"a-590"},{comname:"Spruce-fir moss spider",sciname:"Microhexura montivaga",spcode:"J014",vipcode:"I01",entity_id:468,status:"Final",leadoffice:42910,fedreg:"66FR35547 35566",pubdate:"20010706",source_id:1108,objectid:149,listing_st:"Endangered",ch_id:591,ch_str_id:"a-591"},{comname:"Braun's rock-cress",sciname:"Arabis perstellata",spcode:"Q1SY",vipcode:"P01",entity_id:630,status:"Final",leadoffice:42431,fedreg:"69FR31460 31496",pubdate:"20040603",source_id:1136,objectid:163,listing_st:"Endangered",ch_id:592,ch_str_id:"a-592"},{comname:"Rush Darter",sciname:"Etheostoma phytophilum",spcode:"E0AB",vipcode:"V01",entity_id:3525,status:"Final",leadoffice:43410,fedreg:"77FR63604 63668",pubdate:"20121016",source_id:1518,objectid:295,listing_st:"Endangered",ch_id:593,ch_str_id:"a-593"},{comname:"Slenderclaw crayfish",sciname:"Cambarus cracens",spcode:"K06B",vipcode:"I01",entity_id:10757,status:"Final",leadoffice:40120,fedreg:"86FR50264 50287",pubdate:"20210908",source_id:1999,objectid:717,listing_st:"Endangered",ch_id:594,ch_str_id:"a-594"},{comname:"diamond Darter",sciname:"Crystallaria cincotta",spcode:"E014",vipcode:"V01",entity_id:6557,status:"Final",leadoffice:51412,fedreg:"78FR52363 52387",pubdate:"20130822",source_id:2016,objectid:737,listing_st:"Endangered",ch_id:595,ch_str_id:"a-595"},{comname:"Longsolid",sciname:"Fusconaia subrotunda",spcode:"F04V",vipcode:"I01",entity_id:10838,status:"Final",leadoffice:42431,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2059,objectid:777,listing_st:"Threatened",ch_id:595,ch_str_id:"a-595"},{comname:"Vermilion darter",sciname:"Etheostoma chermocki",spcode:"E098",vipcode:"V01",entity_id:316,status:"Final",leadoffice:43410,fedreg:"75FR75913 75931",pubdate:"20101207",source_id:2026,objectid:746,listing_st:"Endangered",ch_id:596,ch_str_id:"a-596"},{comname:"Virginia big-eared bat",sciname:"Corynorhinus (=Plecotus) townsendii virginianus",spcode:"A080",vipcode:"V01",entity_id:27,status:"Final",leadoffice:51412,fedreg:"44FR69206 69208",pubdate:"19791130",source_id:1183,objectid:189,listing_st:"Endangered",ch_id:597,ch_str_id:"a-597"},{comname:"Slender chub",sciname:"Erimystax cahni",spcode:"E01X",vipcode:"V01",entity_id:246,status:"Final",leadoffice:42430,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:2018,objectid:735,listing_st:"Threatened",ch_id:598,ch_str_id:"a-598"},{comname:"Indiana bat",sciname:"Myotis sodalis",spcode:"A000",vipcode:"V01",entity_id:1,status:"Final",leadoffice:31440,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1951,objectid:679,listing_st:"Endangered",ch_id:599,ch_str_id:"a-599"},{comname:"Spotfin Chub",sciname:"Erimonax monachus",spcode:"E012",vipcode:"V01",entity_id:237,status:"Final",leadoffice:42910,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:2021,objectid:741,listing_st:"Threatened",ch_id:599,ch_str_id:"a-599"},{comname:"Big Creek Crayfish",sciname:"Faxonius peruncus",spcode:"K090",vipcode:"I01",entity_id:11563,status:"Final",leadoffice:33410,fedreg:"88FR25512 25542",pubdate:"20230427",source_id:1985,objectid:703,listing_st:"Threatened",ch_id:599,ch_str_id:"a-599"},{comname:"St. Francis River Crayfish",sciname:"Faxonius quadruncus",spcode:"K091",vipcode:"I01",entity_id:11564,status:"Final",leadoffice:33410,fedreg:"88FR25512 25542",pubdate:"20230427",source_id:1986,objectid:704,listing_st:"Threatened",ch_id:599,ch_str_id:"a-599"},{comname:"Kentucky cave shrimp",sciname:"Palaemonias ganteri",spcode:"K01X",vipcode:"I01",entity_id:482,status:"Final",leadoffice:42431,fedreg:"48FR46337 46342",pubdate:"19831012",source_id:1819,objectid:325,listing_st:"Endangered",ch_id:599,ch_str_id:"a-599"},{comname:"Longsolid",sciname:"Fusconaia subrotunda",spcode:"F04V",vipcode:"I01",entity_id:10838,status:"Final",leadoffice:42431,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2059,objectid:777,listing_st:"Threatened",ch_id:599,ch_str_id:"a-599"},{comname:"Austin blind Salamander",sciname:"Eurycea waterlooensis",spcode:"D033",vipcode:"V01",entity_id:6346,status:"Final",leadoffice:21450,fedreg:"78FR51328 51379",pubdate:"20130820",source_id:1475,objectid:268,listing_st:"Endangered",ch_id:6,ch_str_id:"a-6"},{comname:"Texas fawnsfoot",sciname:"Truncilla macrodon",spcode:"F04E",vipcode:"I01",entity_id:9967,status:"Final",leadoffice:21450,fedreg:"89FR48034 48130",pubdate:"20240604",source_id:2007,objectid:725,listing_st:"Threatened",ch_id:60,ch_str_id:"a-60"},{comname:"Texas pimpleback",sciname:"Cyclonaias petrina",spcode:"F04F",vipcode:"I01",entity_id:9968,status:"Final",leadoffice:21450,fedreg:"89FR48034 48130",pubdate:"20240604",source_id:2012,objectid:731,listing_st:"Endangered",ch_id:60,ch_str_id:"a-60"},{comname:"Appalachian elktoe",sciname:"Alasmidonta raveneliana",spcode:"F01J",vipcode:"I01",entity_id:354,status:"Final",leadoffice:42910,fedreg:"67FR61016 61040",pubdate:"20020927",source_id:1102,objectid:146,listing_st:"Endangered",ch_id:600,ch_str_id:"a-600"},{comname:"Yellowcheek Darter",sciname:"Etheostoma moorei",spcode:"E01E",vipcode:"V01",entity_id:6662,status:"Final",leadoffice:43421,fedreg:"77FR63604 63668",pubdate:"20121016",source_id:1506,objectid:783,listing_st:"Endangered",ch_id:601,ch_str_id:"a-601"},{comname:"Western fanshell",sciname:"Cyprogenia aberti",spcode:"F01L",vipcode:"I01",entity_id:5391,status:"Final",leadoffice:33410,fedreg:"88FR41724 41771",pubdate:"20230627",source_id:2055,objectid:773,listing_st:"Threatened",ch_id:602,ch_str_id:"a-602"},{comname:"Conasauga logperch",sciname:"Percina jenkinsi",spcode:"E05H",vipcode:"V01",entity_id:294,status:"Final",leadoffice:41460,fedreg:"50FR31597 31604",pubdate:"19850805",source_id:1137,objectid:164,listing_st:"Endangered",ch_id:603,ch_str_id:"a-603"},{comname:"Frecklebelly madtom",sciname:"Noturus munitus",spcode:"E01I",vipcode:"V02",entity_id:11662,status:"Final",leadoffice:43410,fedreg:"88FR13038 13070",pubdate:"20230302",source_id:2024,objectid:744,listing_st:"Threatened",ch_id:603,ch_str_id:"a-603"},{comname:"Trispot darter",sciname:"Etheostoma trisella",spcode:"E05G",vipcode:"V01",entity_id:3069,status:"Final",leadoffice:43410,fedreg:"85FR61619 61638",pubdate:"20200930",source_id:1965,objectid:689,listing_st:"Threatened",ch_id:603,ch_str_id:"a-603"},{comname:"Maryland darter",sciname:"Etheostoma sellare",spcode:"E003",vipcode:"V01",entity_id:212,status:"Final",leadoffice:51410,fedreg:"49FR34228 34232",pubdate:"19840829",source_id:2015,objectid:738,listing_st:"Endangered",ch_id:604,ch_str_id:"a-604"},{comname:"Slackwater darter",sciname:"Etheostoma boschungi",spcode:"E01B",vipcode:"V01",entity_id:239,status:"Final",leadoffice:43410,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:2017,objectid:736,listing_st:"Threatened",ch_id:605,ch_str_id:"a-605"},{comname:"Cape Fear shiner",sciname:"Notropis mekistocholas",spcode:"E01N",vipcode:"V01",entity_id:242,status:"Final",leadoffice:42420,fedreg:"52FR36034 36039",pubdate:"19870925",source_id:1103,objectid:147,listing_st:"Endangered",ch_id:606,ch_str_id:"a-606"},{comname:"Waccamaw silverside",sciname:"Menidia extensa",spcode:"E01P",vipcode:"V01",entity_id:243,status:"Final",leadoffice:42420,fedreg:"52FR11277 11286",pubdate:"19870408",source_id:1109,objectid:150,listing_st:"Threatened",ch_id:607,ch_str_id:"a-607"},{comname:"Brawleys Fork crayfish",sciname:"Cambarus williami",spcode:"K06P",vipcode:"I01",entity_id:10771,status:"Proposed",leadoffice:40120,fedreg:"88FR57292 57327",pubdate:"20230822",source_id:2080,objectid:802,listing_st:"Proposed Threatened",ch_id:608,ch_str_id:"a-608"},{comname:"Spring pygmy sunfish",sciname:"Elassoma alabamae",spcode:"E05B",vipcode:"V01",entity_id:7332,status:"Final",leadoffice:43410,fedreg:"84FR24987 25009",pubdate:"20190530",source_id:1977,objectid:695,listing_st:"Threatened",ch_id:609,ch_str_id:"a-609"},{comname:"Peck's cave amphipod",sciname:"Stygobromus (=Stygonectes) pecki",spcode:"K019",vipcode:"I01",entity_id:477,status:"Final",leadoffice:21450,fedreg:"78FR63100 63127",pubdate:"20131023",source_id:1324,objectid:211,listing_st:"Endangered",ch_id:61,ch_str_id:"a-61"},{comname:"Comal Springs dryopid beetle",sciname:"Stygoparnus comalensis",spcode:"I0MI",vipcode:"I01",entity_id:454,status:"Final",leadoffice:21450,fedreg:"78FR63100 63127",pubdate:"20131023",source_id:1322,objectid:209,listing_st:"Endangered",ch_id:61,ch_str_id:"a-61"},{comname:"Longsolid",sciname:"Fusconaia subrotunda",spcode:"F04V",vipcode:"I01",entity_id:10838,status:"Final",leadoffice:42431,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2059,objectid:777,listing_st:"Threatened",ch_id:610,ch_str_id:"a-610"},{comname:"Short's bladderpod",sciname:"Physaria globosa",spcode:"Q139",vipcode:"P01",entity_id:1831,status:"Final",leadoffice:42430,fedreg:"79FR50989 51039",pubdate:"20140826",source_id:1544,objectid:314,listing_st:"Endangered",ch_id:610,ch_str_id:"a-610"},{comname:"Atlantic salmon",sciname:"Salmo salar",spcode:"E07L",vipcode:"V03",entity_id:10077,status:"Final",leadoffice:53411,fedreg:"74FR29300 29341",pubdate:"20090619",source_id:1354,objectid:231,listing_st:"Endangered",ch_id:611,ch_str_id:"a-611"},{comname:"Fleshy-fruit gladecress",sciname:"Leavenworthia crassa",spcode:"Q12K",vipcode:"P01",entity_id:1710,status:"Final",leadoffice:43410,fedreg:"79FR50989 51039",pubdate:"20140826",source_id:1538,objectid:311,listing_st:"Endangered",ch_id:612,ch_str_id:"a-612"},{comname:"Kentucky glade cress",sciname:"Leavenworthia exigua laciniata",spcode:"Q12F",vipcode:"P01",entity_id:7167,status:"Final",leadoffice:42431,fedreg:"79FR25689 25707",pubdate:"20140506",source_id:1811,objectid:318,listing_st:"Threatened",ch_id:613,ch_str_id:"a-613"},{comname:"Short's bladderpod",sciname:"Physaria globosa",spcode:"Q139",vipcode:"P01",entity_id:1831,status:"Final",leadoffice:42430,fedreg:"79FR50989 51039",pubdate:"20140826",source_id:1544,objectid:314,listing_st:"Endangered",ch_id:614,ch_str_id:"a-614"},{comname:"Hine's emerald dragonfly",sciname:"Somatochlora hineana",spcode:"I06P",vipcode:"I01",entity_id:445,status:"Final",leadoffice:31131,fedreg:"75FR21394 21453",pubdate:"20100423",source_id:1347,objectid:227,listing_st:"Endangered",ch_id:615,ch_str_id:"a-615"},{comname:"Yellow lance",sciname:"Elliptio lanceolata",spcode:"F03I",vipcode:"I01",entity_id:4074,status:"Final",leadoffice:42420,fedreg:"86FR18189 18215",pubdate:"20210408",source_id:1996,objectid:714,listing_st:"Threatened",ch_id:616,ch_str_id:"a-616"},{comname:"Niangua darter",sciname:"Etheostoma nianguae",spcode:"E02B",vipcode:"V01",entity_id:257,status:"Final",leadoffice:33410,fedreg:"50FR24649 24653",pubdate:"19850612",source_id:1159,objectid:179,listing_st:"Threatened",ch_id:617,ch_str_id:"a-617"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V01",entity_id:130,status:"Final",leadoffice:31410,fedreg:"66FR22938 22969",pubdate:"20010507",source_id:1952,objectid:678,listing_st:"Endangered",ch_id:618,ch_str_id:"a-618"},{comname:"Magnificent ramshorn",sciname:"Planorbella magnifica",spcode:"G02R",vipcode:"I01",entity_id:1358,status:"Final",leadoffice:42420,fedreg:"88FR56471 56489",pubdate:"20230818",source_id:2041,objectid:759,listing_st:"Endangered",ch_id:619,ch_str_id:"a-619"},{comname:"Texas wild-rice",sciname:"Zizania texana",spcode:"Q24A",vipcode:"P01",entity_id:870,status:"Final",leadoffice:21450,fedreg:"45FR47355 47364",pubdate:"19800714",source_id:380,objectid:34,listing_st:"Endangered",ch_id:62,ch_str_id:"a-62"},{comname:"Fountain darter",sciname:"Etheostoma fonticola",spcode:"E00T",vipcode:"V01",entity_id:228,status:"Final",leadoffice:21450,fedreg:"45FR47355 47364",pubdate:"19800714",source_id:382,objectid:36,listing_st:"Endangered",ch_id:62,ch_str_id:"a-62"},{comname:"Yellowfin madtom",sciname:"Noturus flavipinnis",spcode:"E01Y",vipcode:"V01",entity_id:247,status:"Final",leadoffice:42430,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:2023,objectid:743,listing_st:"Threatened",ch_id:621,ch_str_id:"a-621"},{comname:"Slender chub",sciname:"Erimystax cahni",spcode:"E01X",vipcode:"V01",entity_id:246,status:"Final",leadoffice:42430,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:2018,objectid:735,listing_st:"Threatened",ch_id:621,ch_str_id:"a-621"},{comname:"Spotfin Chub",sciname:"Erimonax monachus",spcode:"E012",vipcode:"V01",entity_id:237,status:"Final",leadoffice:42910,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:2021,objectid:741,listing_st:"Threatened",ch_id:622,ch_str_id:"a-622"},{comname:"Sickle darter",sciname:"Percina williamsi",spcode:"E0CX",vipcode:"V01",entity_id:10823,status:"Proposed",leadoffice:40120,fedreg:"88FR4128 4150",pubdate:"20230124",source_id:2050,objectid:768,listing_st:"Threatened",ch_id:622,ch_str_id:"a-622"},{comname:"Spotfin Chub",sciname:"Erimonax monachus",spcode:"E012",vipcode:"V01",entity_id:237,status:"Final",leadoffice:42910,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:2021,objectid:741,listing_st:"Threatened",ch_id:623,ch_str_id:"a-623"},{comname:"Purple bean",sciname:"Villosa perpurpurea",spcode:"F001",vipcode:"I01",entity_id:318,status:"Final",leadoffice:51413,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2027,objectid:747,listing_st:"Endangered",ch_id:623,ch_str_id:"a-623"},{comname:"Spotfin Chub",sciname:"Erimonax monachus",spcode:"E012",vipcode:"V01",entity_id:237,status:"Final",leadoffice:42910,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:2021,objectid:741,listing_st:"Threatened",ch_id:625,ch_str_id:"a-625"},{comname:"Appalachian elktoe",sciname:"Alasmidonta raveneliana",spcode:"F01J",vipcode:"I01",entity_id:354,status:"Final",leadoffice:42910,fedreg:"67FR61016 61040",pubdate:"20020927",source_id:1102,objectid:146,listing_st:"Endangered",ch_id:625,ch_str_id:"a-625"},{comname:"Candy darter",sciname:"Etheostoma osburni",spcode:"E03K",vipcode:"V01",entity_id:8352,status:"Final",leadoffice:51412,fedreg:"86FR17956 17992",pubdate:"20210407",source_id:2029,objectid:749,listing_st:"Endangered",ch_id:626,ch_str_id:"a-626"},{comname:"Green floater",sciname:"Lasmigona subviridis",spcode:"F03E",vipcode:"I01",entity_id:2643,status:"Proposed",leadoffice:52410,fedreg:"88FR48294 48349",pubdate:"20230726",source_id:2057,objectid:775,listing_st:"Proposed Threatened",ch_id:626,ch_str_id:"a-626"},{comname:"Sickle darter",sciname:"Percina williamsi",spcode:"E0CX",vipcode:"V01",entity_id:10823,status:"Proposed",leadoffice:40120,fedreg:"88FR4128 4150",pubdate:"20230124",source_id:2050,objectid:768,listing_st:"Threatened",ch_id:627,ch_str_id:"a-627"},{comname:"Indiana bat",sciname:"Myotis sodalis",spcode:"A000",vipcode:"V01",entity_id:1,status:"Final",leadoffice:31440,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1951,objectid:679,listing_st:"Endangered",ch_id:627,ch_str_id:"a-627"},{comname:"Big Creek Crayfish",sciname:"Faxonius peruncus",spcode:"K090",vipcode:"I01",entity_id:11563,status:"Final",leadoffice:33410,fedreg:"88FR25512 25542",pubdate:"20230427",source_id:1985,objectid:703,listing_st:"Threatened",ch_id:628,ch_str_id:"a-628"},{comname:"St. Francis River Crayfish",sciname:"Faxonius quadruncus",spcode:"K091",vipcode:"I01",entity_id:11564,status:"Final",leadoffice:33410,fedreg:"88FR25512 25542",pubdate:"20230427",source_id:1986,objectid:704,listing_st:"Threatened",ch_id:628,ch_str_id:"a-628"},{comname:"San Diego thornmint",sciname:"Acanthomintha ilicifolia",spcode:"Q00E",vipcode:"P01",entity_id:496,status:"Final",leadoffice:11430,fedreg:"73FR50454 50496",pubdate:"20080826",source_id:1335,objectid:220,listing_st:"Threatened",ch_id:63,ch_str_id:"a-63"},{comname:"Hermes copper butterfly",sciname:"Lycaena hermes",spcode:"I05C",vipcode:"I01",entity_id:1984,status:"Final",leadoffice:11430,fedreg:"86FR72394 72433",pubdate:"20211221",source_id:1975,objectid:693,listing_st:"Threatened",ch_id:63,ch_str_id:"a-63"},{comname:"Green floater",sciname:"Lasmigona subviridis",spcode:"F03E",vipcode:"I01",entity_id:2643,status:"Proposed",leadoffice:52410,fedreg:"88FR48294 48349",pubdate:"20230726",source_id:2057,objectid:775,listing_st:"Proposed Threatened",ch_id:630,ch_str_id:"a-630"},{comname:"Neuse River waterdog",sciname:"Necturus lewisi",spcode:"D00O",vipcode:"V01",entity_id:2932,status:"Final",leadoffice:42420,fedreg:"86FR30688 30751",pubdate:"20210609",source_id:1969,objectid:728,listing_st:"Threatened",ch_id:630,ch_str_id:"a-630"},{comname:"Oyster mussel",sciname:"Epioblasma capsaeformis",spcode:"F01T",vipcode:"I01",entity_id:358,status:"Final",leadoffice:42430,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2039,objectid:757,listing_st:"Endangered",ch_id:632,ch_str_id:"a-632"},{comname:"Cumberlandian combshell",sciname:"Epioblasma brevidens",spcode:"F01F",vipcode:"I01",entity_id:353,status:"Final",leadoffice:42430,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2038,objectid:756,listing_st:"Endangered",ch_id:632,ch_str_id:"a-632"},{comname:"Salamander mussel",sciname:"Simpsonaias ambigua",spcode:"F01U",vipcode:"I01",entity_id:8134,status:"Proposed",leadoffice:31410,fedreg:"88FR57224 57290",pubdate:"20230822",source_id:2084,objectid:797,listing_st:"Proposed Endangered",ch_id:633,ch_str_id:"a-633"},{comname:"Indiana bat",sciname:"Myotis sodalis",spcode:"A000",vipcode:"V01",entity_id:1,status:"Final",leadoffice:31440,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1951,objectid:679,listing_st:"Endangered",ch_id:633,ch_str_id:"a-633"},{comname:"Salamander mussel",sciname:"Simpsonaias ambigua",spcode:"F01U",vipcode:"I01",entity_id:8134,status:"Proposed",leadoffice:31410,fedreg:"88FR57224 57290",pubdate:"20230822",source_id:2084,objectid:797,listing_st:"Proposed Endangered",ch_id:634,ch_str_id:"a-634"},{comname:"Longsolid",sciname:"Fusconaia subrotunda",spcode:"F04V",vipcode:"I01",entity_id:10838,status:"Final",leadoffice:42431,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2059,objectid:777,listing_st:"Threatened",ch_id:634,ch_str_id:"a-634"},{comname:"Salamander mussel",sciname:"Simpsonaias ambigua",spcode:"F01U",vipcode:"I01",entity_id:8134,status:"Proposed",leadoffice:31410,fedreg:"88FR57224 57290",pubdate:"20230822",source_id:2084,objectid:797,listing_st:"Proposed Endangered",ch_id:635,ch_str_id:"a-635"},{comname:"Short's bladderpod",sciname:"Physaria globosa",spcode:"Q139",vipcode:"P01",entity_id:1831,status:"Final",leadoffice:42430,fedreg:"79FR50989 51039",pubdate:"20140826",source_id:1544,objectid:314,listing_st:"Endangered",ch_id:635,ch_str_id:"a-635"},{comname:"Frecklebelly madtom",sciname:"Noturus munitus",spcode:"E01I",vipcode:"V02",entity_id:11662,status:"Final",leadoffice:43410,fedreg:"88FR13038 13070",pubdate:"20230302",source_id:2024,objectid:744,listing_st:"Threatened",ch_id:637,ch_str_id:"a-637"},{comname:"Trispot darter",sciname:"Etheostoma trisella",spcode:"E05G",vipcode:"V01",entity_id:3069,status:"Final",leadoffice:43410,fedreg:"85FR61619 61638",pubdate:"20200930",source_id:1965,objectid:689,listing_st:"Threatened",ch_id:637,ch_str_id:"a-637"},{comname:"Finelined pocketbook",sciname:"Hamiota altilis",spcode:"F02X",vipcode:"I01",entity_id:372,status:"Final",leadoffice:43410,fedreg:"69FR40084 40171",pubdate:"20040701",source_id:1147,objectid:168,listing_st:"Threatened",ch_id:637,ch_str_id:"a-637"},{comname:"Amber darter",sciname:"Percina antesella",spcode:"E05F",vipcode:"V01",entity_id:293,status:"Final",leadoffice:41460,fedreg:"50FR31597 31604",pubdate:"19850805",source_id:1125,objectid:152,listing_st:"Endangered",ch_id:639,ch_str_id:"a-639"},{comname:"Frecklebelly madtom",sciname:"Noturus munitus",spcode:"E01I",vipcode:"V02",entity_id:11662,status:"Final",leadoffice:43410,fedreg:"88FR13038 13070",pubdate:"20230302",source_id:2024,objectid:744,listing_st:"Threatened",ch_id:639,ch_str_id:"a-639"},{comname:"Finelined pocketbook",sciname:"Hamiota altilis",spcode:"F02X",vipcode:"I01",entity_id:372,status:"Final",leadoffice:43410,fedreg:"69FR40084 40171",pubdate:"20040701",source_id:1147,objectid:168,listing_st:"Threatened",ch_id:639,ch_str_id:"a-639"},{comname:"Otay tarplant",sciname:"Deinandra (=Hemizonia) conjugens",spcode:"Q0YQ",vipcode:"P01",entity_id:559,status:"Final",leadoffice:11430,fedreg:"67FR76030 76053",pubdate:"20021210",source_id:667,objectid:53,listing_st:"Threatened",ch_id:64,ch_str_id:"a-64"},{comname:"Hermes copper butterfly",sciname:"Lycaena hermes",spcode:"I05C",vipcode:"I01",entity_id:1984,status:"Final",leadoffice:11430,fedreg:"86FR72394 72433",pubdate:"20211221",source_id:1975,objectid:693,listing_st:"Threatened",ch_id:64,ch_str_id:"a-64"},{comname:"Carolina madtom",sciname:"Noturus furiosus",spcode:"E03R",vipcode:"V01",entity_id:5288,status:"Final",leadoffice:42420,fedreg:"86FR30688 30751",pubdate:"20210609",source_id:1968,objectid:727,listing_st:"Endangered",ch_id:640,ch_str_id:"a-640"},{comname:"Neuse River waterdog",sciname:"Necturus lewisi",spcode:"D00O",vipcode:"V01",entity_id:2932,status:"Final",leadoffice:42420,fedreg:"86FR30688 30751",pubdate:"20210609",source_id:1969,objectid:728,listing_st:"Threatened",ch_id:640,ch_str_id:"a-640"},{comname:"Carolina madtom",sciname:"Noturus furiosus",spcode:"E03R",vipcode:"V01",entity_id:5288,status:"Final",leadoffice:42420,fedreg:"86FR30688 30751",pubdate:"20210609",source_id:1968,objectid:727,listing_st:"Endangered",ch_id:641,ch_str_id:"a-641"},{comname:"Yellow lance",sciname:"Elliptio lanceolata",spcode:"F03I",vipcode:"I01",entity_id:4074,status:"Final",leadoffice:42420,fedreg:"86FR18189 18215",pubdate:"20210408",source_id:1996,objectid:714,listing_st:"Threatened",ch_id:641,ch_str_id:"a-641"},{comname:"Trispot darter",sciname:"Etheostoma trisella",spcode:"E05G",vipcode:"V01",entity_id:3069,status:"Final",leadoffice:43410,fedreg:"85FR61619 61638",pubdate:"20200930",source_id:1965,objectid:689,listing_st:"Threatened",ch_id:642,ch_str_id:"a-642"},{comname:"Amber darter",sciname:"Percina antesella",spcode:"E05F",vipcode:"V01",entity_id:293,status:"Final",leadoffice:41460,fedreg:"50FR31597 31604",pubdate:"19850805",source_id:1125,objectid:152,listing_st:"Endangered",ch_id:642,ch_str_id:"a-642"},{comname:"Neuse River waterdog",sciname:"Necturus lewisi",spcode:"D00O",vipcode:"V01",entity_id:2932,status:"Final",leadoffice:42420,fedreg:"86FR30688 30751",pubdate:"20210609",source_id:1969,objectid:728,listing_st:"Threatened",ch_id:643,ch_str_id:"a-643"},{comname:"Yellow lance",sciname:"Elliptio lanceolata",spcode:"F03I",vipcode:"I01",entity_id:4074,status:"Final",leadoffice:42420,fedreg:"86FR18189 18215",pubdate:"20210408",source_id:1996,objectid:714,listing_st:"Threatened",ch_id:643,ch_str_id:"a-643"},{comname:"Spruce-fir moss spider",sciname:"Microhexura montivaga",spcode:"J014",vipcode:"I01",entity_id:468,status:"Final",leadoffice:42910,fedreg:"66FR35547 35566",pubdate:"20010706",source_id:1108,objectid:149,listing_st:"Endangered",ch_id:644,ch_str_id:"a-644"},{comname:"Indiana bat",sciname:"Myotis sodalis",spcode:"A000",vipcode:"V01",entity_id:1,status:"Final",leadoffice:31440,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1951,objectid:679,listing_st:"Endangered",ch_id:644,ch_str_id:"a-644"},{comname:"Braun's rock-cress",sciname:"Arabis perstellata",spcode:"Q1SY",vipcode:"P01",entity_id:630,status:"Final",leadoffice:42431,fedreg:"69FR31460 31496",pubdate:"20040603",source_id:1136,objectid:163,listing_st:"Endangered",ch_id:645,ch_str_id:"a-645"},{comname:"Short's bladderpod",sciname:"Physaria globosa",spcode:"Q139",vipcode:"P01",entity_id:1831,status:"Final",leadoffice:42430,fedreg:"79FR50989 51039",pubdate:"20140826",source_id:1544,objectid:314,listing_st:"Endangered",ch_id:645,ch_str_id:"a-645"},{comname:"diamond Darter",sciname:"Crystallaria cincotta",spcode:"E014",vipcode:"V01",entity_id:6557,status:"Final",leadoffice:51412,fedreg:"78FR52363 52387",pubdate:"20130822",source_id:2016,objectid:737,listing_st:"Endangered",ch_id:646,ch_str_id:"a-646"},{comname:"Indiana bat",sciname:"Myotis sodalis",spcode:"A000",vipcode:"V01",entity_id:1,status:"Final",leadoffice:31440,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1951,objectid:679,listing_st:"Endangered",ch_id:646,ch_str_id:"a-646"},{comname:"Rabbitsfoot",sciname:"Quadrula cylindrica cylindrica",spcode:"F03X",vipcode:"I01",entity_id:3645,status:"Final",leadoffice:43421,fedreg:"80FR24692 24774",pubdate:"20150430",source_id:1507,objectid:803,listing_st:"Threatened",ch_id:646,ch_str_id:"a-646"},{comname:"Longsolid",sciname:"Fusconaia subrotunda",spcode:"F04V",vipcode:"I01",entity_id:10838,status:"Final",leadoffice:42431,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2059,objectid:777,listing_st:"Threatened",ch_id:646,ch_str_id:"a-646"},{comname:"Virginia big-eared bat",sciname:"Corynorhinus (=Plecotus) townsendii virginianus",spcode:"A080",vipcode:"V01",entity_id:27,status:"Final",leadoffice:51412,fedreg:"44FR69206 69208",pubdate:"19791130",source_id:1183,objectid:189,listing_st:"Endangered",ch_id:648,ch_str_id:"a-648"},{comname:"Indiana bat",sciname:"Myotis sodalis",spcode:"A000",vipcode:"V01",entity_id:1,status:"Final",leadoffice:31440,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1951,objectid:679,listing_st:"Endangered",ch_id:648,ch_str_id:"a-648"},{comname:"Slender chub",sciname:"Erimystax cahni",spcode:"E01X",vipcode:"V01",entity_id:246,status:"Final",leadoffice:42430,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:2018,objectid:735,listing_st:"Threatened",ch_id:649,ch_str_id:"a-649"},{comname:"Longsolid",sciname:"Fusconaia subrotunda",spcode:"F04V",vipcode:"I01",entity_id:10838,status:"Final",leadoffice:42431,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2059,objectid:777,listing_st:"Threatened",ch_id:649,ch_str_id:"a-649"},{comname:"[no common name] Beetle",sciname:"Rhadine infernalis",spcode:"I0P1",vipcode:"I01",entity_id:459,status:"Final",leadoffice:21450,fedreg:"77FR8450 8523",pubdate:"20120214",source_id:462,objectid:37,listing_st:"Endangered",ch_id:65,ch_str_id:"a-65"},{comname:"[no common name] Beetle",sciname:"Rhadine exilis",spcode:"I0RF",vipcode:"I01",entity_id:461,status:"Final",leadoffice:21450,fedreg:"77FR8450 8523",pubdate:"20120214",source_id:463,objectid:38,listing_st:"Endangered",ch_id:65,ch_str_id:"a-65"},{comname:"Indiana bat",sciname:"Myotis sodalis",spcode:"A000",vipcode:"V01",entity_id:1,status:"Final",leadoffice:31440,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1951,objectid:679,listing_st:"Endangered",ch_id:651,ch_str_id:"a-651"},{comname:"Appalachian elktoe",sciname:"Alasmidonta raveneliana",spcode:"F01J",vipcode:"I01",entity_id:354,status:"Final",leadoffice:42910,fedreg:"67FR61016 61040",pubdate:"20020927",source_id:1102,objectid:146,listing_st:"Endangered",ch_id:651,ch_str_id:"a-651"},{comname:"Indiana bat",sciname:"Myotis sodalis",spcode:"A000",vipcode:"V01",entity_id:1,status:"Final",leadoffice:31440,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1951,objectid:679,listing_st:"Endangered",ch_id:652,ch_str_id:"a-652"},{comname:"Western fanshell",sciname:"Cyprogenia aberti",spcode:"F01L",vipcode:"I01",entity_id:5391,status:"Final",leadoffice:33410,fedreg:"88FR41724 41771",pubdate:"20230627",source_id:2055,objectid:773,listing_st:"Threatened",ch_id:652,ch_str_id:"a-652"},{comname:"St. Francis River Crayfish",sciname:"Faxonius quadruncus",spcode:"K091",vipcode:"I01",entity_id:11564,status:"Final",leadoffice:33410,fedreg:"88FR25512 25542",pubdate:"20230427",source_id:1986,objectid:704,listing_st:"Threatened",ch_id:652,ch_str_id:"a-652"},{comname:"Indiana bat",sciname:"Myotis sodalis",spcode:"A000",vipcode:"V01",entity_id:1,status:"Final",leadoffice:31440,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1951,objectid:679,listing_st:"Endangered",ch_id:653,ch_str_id:"a-653"},{comname:"Hine's emerald dragonfly",sciname:"Somatochlora hineana",spcode:"I06P",vipcode:"I01",entity_id:445,status:"Final",leadoffice:31131,fedreg:"75FR21394 21453",pubdate:"20100423",source_id:1347,objectid:227,listing_st:"Endangered",ch_id:653,ch_str_id:"a-653"},{comname:"Conasauga logperch",sciname:"Percina jenkinsi",spcode:"E05H",vipcode:"V01",entity_id:294,status:"Final",leadoffice:41460,fedreg:"50FR31597 31604",pubdate:"19850805",source_id:1137,objectid:164,listing_st:"Endangered",ch_id:654,ch_str_id:"a-654"},{comname:"Amber darter",sciname:"Percina antesella",spcode:"E05F",vipcode:"V01",entity_id:293,status:"Final",leadoffice:41460,fedreg:"50FR31597 31604",pubdate:"19850805",source_id:1125,objectid:152,listing_st:"Endangered",ch_id:654,ch_str_id:"a-654"},{comname:"Frecklebelly madtom",sciname:"Noturus munitus",spcode:"E01I",vipcode:"V02",entity_id:11662,status:"Final",leadoffice:43410,fedreg:"88FR13038 13070",pubdate:"20230302",source_id:2024,objectid:744,listing_st:"Threatened",ch_id:654,ch_str_id:"a-654"},{comname:"Trispot darter",sciname:"Etheostoma trisella",spcode:"E05G",vipcode:"V01",entity_id:3069,status:"Final",leadoffice:43410,fedreg:"85FR61619 61638",pubdate:"20200930",source_id:1965,objectid:689,listing_st:"Threatened",ch_id:654,ch_str_id:"a-654"},{comname:"Finelined pocketbook",sciname:"Hamiota altilis",spcode:"F02X",vipcode:"I01",entity_id:372,status:"Final",leadoffice:43410,fedreg:"69FR40084 40171",pubdate:"20040701",source_id:1147,objectid:168,listing_st:"Threatened",ch_id:654,ch_str_id:"a-654"},{comname:"Hine's emerald dragonfly",sciname:"Somatochlora hineana",spcode:"I06P",vipcode:"I01",entity_id:445,status:"Final",leadoffice:31131,fedreg:"75FR21394 21453",pubdate:"20100423",source_id:1347,objectid:227,listing_st:"Endangered",ch_id:655,ch_str_id:"a-655"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V01",entity_id:130,status:"Final",leadoffice:31410,fedreg:"66FR22938 22969",pubdate:"20010507",source_id:1952,objectid:678,listing_st:"Endangered",ch_id:655,ch_str_id:"a-655"},{comname:"Spotfin Chub",sciname:"Erimonax monachus",spcode:"E012",vipcode:"V01",entity_id:237,status:"Final",leadoffice:42910,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:2021,objectid:741,listing_st:"Threatened",ch_id:656,ch_str_id:"a-656"},{comname:"Indiana bat",sciname:"Myotis sodalis",spcode:"A000",vipcode:"V01",entity_id:1,status:"Final",leadoffice:31440,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1951,objectid:679,listing_st:"Endangered",ch_id:656,ch_str_id:"a-656"},{comname:"Appalachian elktoe",sciname:"Alasmidonta raveneliana",spcode:"F01J",vipcode:"I01",entity_id:354,status:"Final",leadoffice:42910,fedreg:"67FR61016 61040",pubdate:"20020927",source_id:1102,objectid:146,listing_st:"Endangered",ch_id:656,ch_str_id:"a-656"},{comname:"Big Creek Crayfish",sciname:"Faxonius peruncus",spcode:"K090",vipcode:"I01",entity_id:11563,status:"Final",leadoffice:33410,fedreg:"88FR25512 25542",pubdate:"20230427",source_id:1985,objectid:703,listing_st:"Threatened",ch_id:657,ch_str_id:"a-657"},{comname:"St. Francis River Crayfish",sciname:"Faxonius quadruncus",spcode:"K091",vipcode:"I01",entity_id:11564,status:"Final",leadoffice:33410,fedreg:"88FR25512 25542",pubdate:"20230427",source_id:1986,objectid:704,listing_st:"Threatened",ch_id:657,ch_str_id:"a-657"},{comname:"Indiana bat",sciname:"Myotis sodalis",spcode:"A000",vipcode:"V01",entity_id:1,status:"Final",leadoffice:31440,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1951,objectid:679,listing_st:"Endangered",ch_id:657,ch_str_id:"a-657"},{comname:"Green floater",sciname:"Lasmigona subviridis",spcode:"F03E",vipcode:"I01",entity_id:2643,status:"Proposed",leadoffice:52410,fedreg:"88FR48294 48349",pubdate:"20230726",source_id:2057,objectid:775,listing_st:"Proposed Threatened",ch_id:658,ch_str_id:"a-658"},{comname:"Carolina madtom",sciname:"Noturus furiosus",spcode:"E03R",vipcode:"V01",entity_id:5288,status:"Final",leadoffice:42420,fedreg:"86FR30688 30751",pubdate:"20210609",source_id:1968,objectid:727,listing_st:"Endangered",ch_id:658,ch_str_id:"a-658"},{comname:"Neuse River waterdog",sciname:"Necturus lewisi",spcode:"D00O",vipcode:"V01",entity_id:2932,status:"Final",leadoffice:42420,fedreg:"86FR30688 30751",pubdate:"20210609",source_id:1969,objectid:728,listing_st:"Threatened",ch_id:658,ch_str_id:"a-658"},{comname:"Frecklebelly madtom",sciname:"Noturus munitus",spcode:"E01I",vipcode:"V02",entity_id:11662,status:"Final",leadoffice:43410,fedreg:"88FR13038 13070",pubdate:"20230302",source_id:2024,objectid:744,listing_st:"Threatened",ch_id:659,ch_str_id:"a-659"},{comname:"Trispot darter",sciname:"Etheostoma trisella",spcode:"E05G",vipcode:"V01",entity_id:3069,status:"Final",leadoffice:43410,fedreg:"85FR61619 61638",pubdate:"20200930",source_id:1965,objectid:689,listing_st:"Threatened",ch_id:659,ch_str_id:"a-659"},{comname:"Conasauga logperch",sciname:"Percina jenkinsi",spcode:"E05H",vipcode:"V01",entity_id:294,status:"Final",leadoffice:41460,fedreg:"50FR31597 31604",pubdate:"19850805",source_id:1137,objectid:164,listing_st:"Endangered",ch_id:659,ch_str_id:"a-659"},{comname:"Finelined pocketbook",sciname:"Hamiota altilis",spcode:"F02X",vipcode:"I01",entity_id:372,status:"Final",leadoffice:43410,fedreg:"69FR40084 40171",pubdate:"20040701",source_id:1147,objectid:168,listing_st:"Threatened",ch_id:659,ch_str_id:"a-659"},{comname:"Texas Hornshell",sciname:"Popenaias popeii",spcode:"F02M",vipcode:"I01",entity_id:2917,status:"Proposed",leadoffice:21470,fedreg:"86FR30888 30909",pubdate:"20210610",source_id:2e3,objectid:718,listing_st:"Endangered",ch_id:66,ch_str_id:"a-66"},{comname:"Mexican fawnsfoot",sciname:"Truncilla cognata",spcode:"F02J",vipcode:"I01",entity_id:8229,status:"Proposed",leadoffice:21450,fedreg:"88FR47952 47988",pubdate:"20230725",source_id:2088,objectid:806,listing_st:"Proposed Endangered",ch_id:66,ch_str_id:"a-66"},{comname:"Frecklebelly madtom",sciname:"Noturus munitus",spcode:"E01I",vipcode:"V02",entity_id:11662,status:"Final",leadoffice:43410,fedreg:"88FR13038 13070",pubdate:"20230302",source_id:2024,objectid:744,listing_st:"Threatened",ch_id:660,ch_str_id:"a-660"},{comname:"Trispot darter",sciname:"Etheostoma trisella",spcode:"E05G",vipcode:"V01",entity_id:3069,status:"Final",leadoffice:43410,fedreg:"85FR61619 61638",pubdate:"20200930",source_id:1965,objectid:689,listing_st:"Threatened",ch_id:660,ch_str_id:"a-660"},{comname:"Amber darter",sciname:"Percina antesella",spcode:"E05F",vipcode:"V01",entity_id:293,status:"Final",leadoffice:41460,fedreg:"50FR31597 31604",pubdate:"19850805",source_id:1125,objectid:152,listing_st:"Endangered",ch_id:660,ch_str_id:"a-660"},{comname:"Finelined pocketbook",sciname:"Hamiota altilis",spcode:"F02X",vipcode:"I01",entity_id:372,status:"Final",leadoffice:43410,fedreg:"69FR40084 40171",pubdate:"20040701",source_id:1147,objectid:168,listing_st:"Threatened",ch_id:660,ch_str_id:"a-660"},{comname:"Frecklebelly madtom",sciname:"Noturus munitus",spcode:"E01I",vipcode:"V02",entity_id:11662,status:"Final",leadoffice:43410,fedreg:"88FR13038 13070",pubdate:"20230302",source_id:2024,objectid:744,listing_st:"Threatened",ch_id:661,ch_str_id:"a-661"},{comname:"Conasauga logperch",sciname:"Percina jenkinsi",spcode:"E05H",vipcode:"V01",entity_id:294,status:"Final",leadoffice:41460,fedreg:"50FR31597 31604",pubdate:"19850805",source_id:1137,objectid:164,listing_st:"Endangered",ch_id:661,ch_str_id:"a-661"},{comname:"Amber darter",sciname:"Percina antesella",spcode:"E05F",vipcode:"V01",entity_id:293,status:"Final",leadoffice:41460,fedreg:"50FR31597 31604",pubdate:"19850805",source_id:1125,objectid:152,listing_st:"Endangered",ch_id:661,ch_str_id:"a-661"},{comname:"Finelined pocketbook",sciname:"Hamiota altilis",spcode:"F02X",vipcode:"I01",entity_id:372,status:"Final",leadoffice:43410,fedreg:"69FR40084 40171",pubdate:"20040701",source_id:1147,objectid:168,listing_st:"Threatened",ch_id:661,ch_str_id:"a-661"},{comname:"Carolina madtom",sciname:"Noturus furiosus",spcode:"E03R",vipcode:"V01",entity_id:5288,status:"Final",leadoffice:42420,fedreg:"86FR30688 30751",pubdate:"20210609",source_id:1968,objectid:727,listing_st:"Endangered",ch_id:662,ch_str_id:"a-662"},{comname:"Neuse River waterdog",sciname:"Necturus lewisi",spcode:"D00O",vipcode:"V01",entity_id:2932,status:"Final",leadoffice:42420,fedreg:"86FR30688 30751",pubdate:"20210609",source_id:1969,objectid:728,listing_st:"Threatened",ch_id:662,ch_str_id:"a-662"},{comname:"Yellow lance",sciname:"Elliptio lanceolata",spcode:"F03I",vipcode:"I01",entity_id:4074,status:"Final",leadoffice:42420,fedreg:"86FR18189 18215",pubdate:"20210408",source_id:1996,objectid:714,listing_st:"Threatened",ch_id:662,ch_str_id:"a-662"},{comname:"Big Creek Crayfish",sciname:"Faxonius peruncus",spcode:"K090",vipcode:"I01",entity_id:11563,status:"Final",leadoffice:33410,fedreg:"88FR25512 25542",pubdate:"20230427",source_id:1985,objectid:703,listing_st:"Threatened",ch_id:664,ch_str_id:"a-664"},{comname:"St. Francis River Crayfish",sciname:"Faxonius quadruncus",spcode:"K091",vipcode:"I01",entity_id:11564,status:"Final",leadoffice:33410,fedreg:"88FR25512 25542",pubdate:"20230427",source_id:1986,objectid:704,listing_st:"Threatened",ch_id:664,ch_str_id:"a-664"},{comname:"Indiana bat",sciname:"Myotis sodalis",spcode:"A000",vipcode:"V01",entity_id:1,status:"Final",leadoffice:31440,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1951,objectid:679,listing_st:"Endangered",ch_id:664,ch_str_id:"a-664"},{comname:"Western fanshell",sciname:"Cyprogenia aberti",spcode:"F01L",vipcode:"I01",entity_id:5391,status:"Final",leadoffice:33410,fedreg:"88FR41724 41771",pubdate:"20230627",source_id:2055,objectid:773,listing_st:"Threatened",ch_id:664,ch_str_id:"a-664"},{comname:"Oyster mussel",sciname:"Epioblasma capsaeformis",spcode:"F01T",vipcode:"I01",entity_id:358,status:"Final",leadoffice:42430,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2039,objectid:757,listing_st:"Endangered",ch_id:665,ch_str_id:"a-665"},{comname:"Cumberlandian combshell",sciname:"Epioblasma brevidens",spcode:"F01F",vipcode:"I01",entity_id:353,status:"Final",leadoffice:42430,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2038,objectid:756,listing_st:"Endangered",ch_id:665,ch_str_id:"a-665"},{comname:"Purple bean",sciname:"Villosa perpurpurea",spcode:"F001",vipcode:"I01",entity_id:318,status:"Final",leadoffice:51413,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2027,objectid:747,listing_st:"Endangered",ch_id:665,ch_str_id:"a-665"},{comname:"Rough rabbitsfoot",sciname:"Quadrula cylindrica strigillata",spcode:"F00V",vipcode:"I01",entity_id:344,status:"Final",leadoffice:51413,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2028,objectid:748,listing_st:"Endangered",ch_id:665,ch_str_id:"a-665"},{comname:"Yellowfin madtom",sciname:"Noturus flavipinnis",spcode:"E01Y",vipcode:"V01",entity_id:247,status:"Final",leadoffice:42430,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:2023,objectid:743,listing_st:"Threatened",ch_id:665,ch_str_id:"a-665"},{comname:"Sickle darter",sciname:"Percina williamsi",spcode:"E0CX",vipcode:"V01",entity_id:10823,status:"Proposed",leadoffice:40120,fedreg:"88FR4128 4150",pubdate:"20230124",source_id:2050,objectid:768,listing_st:"Threatened",ch_id:665,ch_str_id:"a-665"},{comname:"Longsolid",sciname:"Fusconaia subrotunda",spcode:"F04V",vipcode:"I01",entity_id:10838,status:"Final",leadoffice:42431,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2059,objectid:777,listing_st:"Threatened",ch_id:665,ch_str_id:"a-665"},{comname:"Oyster mussel",sciname:"Epioblasma capsaeformis",spcode:"F01T",vipcode:"I01",entity_id:358,status:"Final",leadoffice:42430,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2039,objectid:757,listing_st:"Endangered",ch_id:669,ch_str_id:"a-669"},{comname:"Cumberlandian combshell",sciname:"Epioblasma brevidens",spcode:"F01F",vipcode:"I01",entity_id:353,status:"Final",leadoffice:42430,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2038,objectid:756,listing_st:"Endangered",ch_id:669,ch_str_id:"a-669"},{comname:"Purple bean",sciname:"Villosa perpurpurea",spcode:"F001",vipcode:"I01",entity_id:318,status:"Final",leadoffice:51413,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2027,objectid:747,listing_st:"Endangered",ch_id:669,ch_str_id:"a-669"},{comname:"Rough rabbitsfoot",sciname:"Quadrula cylindrica strigillata",spcode:"F00V",vipcode:"I01",entity_id:344,status:"Final",leadoffice:51413,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2028,objectid:748,listing_st:"Endangered",ch_id:669,ch_str_id:"a-669"},{comname:"Slender chub",sciname:"Erimystax cahni",spcode:"E01X",vipcode:"V01",entity_id:246,status:"Final",leadoffice:42430,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:2018,objectid:735,listing_st:"Threatened",ch_id:669,ch_str_id:"a-669"},{comname:"Texas Hornshell",sciname:"Popenaias popeii",spcode:"F02M",vipcode:"I01",entity_id:2917,status:"Proposed",leadoffice:21470,fedreg:"86FR30888 30909",pubdate:"20210610",source_id:2e3,objectid:718,listing_st:"Endangered",ch_id:67,ch_str_id:"a-67"},{comname:"salina mucket",sciname:"Potamilus metnecktayi",spcode:"F04A",vipcode:"I01",entity_id:9802,status:"Proposed",leadoffice:21450,fedreg:"88FR47952 47988",pubdate:"20230725",source_id:2089,objectid:807,listing_st:"Proposed Endangered",ch_id:67,ch_str_id:"a-67"},{comname:"Oyster mussel",sciname:"Epioblasma capsaeformis",spcode:"F01T",vipcode:"I01",entity_id:358,status:"Final",leadoffice:42430,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2039,objectid:757,listing_st:"Endangered",ch_id:670,ch_str_id:"a-670"},{comname:"Cumberlandian combshell",sciname:"Epioblasma brevidens",spcode:"F01F",vipcode:"I01",entity_id:353,status:"Final",leadoffice:42430,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2038,objectid:756,listing_st:"Endangered",ch_id:670,ch_str_id:"a-670"},{comname:"Purple bean",sciname:"Villosa perpurpurea",spcode:"F001",vipcode:"I01",entity_id:318,status:"Final",leadoffice:51413,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2027,objectid:747,listing_st:"Endangered",ch_id:670,ch_str_id:"a-670"},{comname:"Rough rabbitsfoot",sciname:"Quadrula cylindrica strigillata",spcode:"F00V",vipcode:"I01",entity_id:344,status:"Final",leadoffice:51413,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2028,objectid:748,listing_st:"Endangered",ch_id:670,ch_str_id:"a-670"},{comname:"Longsolid",sciname:"Fusconaia subrotunda",spcode:"F04V",vipcode:"I01",entity_id:10838,status:"Final",leadoffice:42431,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2059,objectid:777,listing_st:"Threatened",ch_id:670,ch_str_id:"a-670"},{comname:"Yellowfin madtom",sciname:"Noturus flavipinnis",spcode:"E01Y",vipcode:"V01",entity_id:247,status:"Final",leadoffice:42430,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:2023,objectid:743,listing_st:"Threatened",ch_id:670,ch_str_id:"a-670"},{comname:"Sickle darter",sciname:"Percina williamsi",spcode:"E0CX",vipcode:"V01",entity_id:10823,status:"Proposed",leadoffice:40120,fedreg:"88FR4128 4150",pubdate:"20230124",source_id:2050,objectid:768,listing_st:"Threatened",ch_id:670,ch_str_id:"a-670"},{comname:"Slender chub",sciname:"Erimystax cahni",spcode:"E01X",vipcode:"V01",entity_id:246,status:"Final",leadoffice:42430,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:2018,objectid:735,listing_st:"Threatened",ch_id:670,ch_str_id:"a-670"},{comname:"Yellowfin madtom",sciname:"Noturus flavipinnis",spcode:"E01Y",vipcode:"V01",entity_id:247,status:"Final",leadoffice:42430,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:2023,objectid:743,listing_st:"Threatened",ch_id:671,ch_str_id:"a-671"},{comname:"Sickle darter",sciname:"Percina williamsi",spcode:"E0CX",vipcode:"V01",entity_id:10823,status:"Proposed",leadoffice:40120,fedreg:"88FR4128 4150",pubdate:"20230124",source_id:2050,objectid:768,listing_st:"Threatened",ch_id:671,ch_str_id:"a-671"},{comname:"Oyster mussel",sciname:"Epioblasma capsaeformis",spcode:"F01T",vipcode:"I01",entity_id:358,status:"Final",leadoffice:42430,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2039,objectid:757,listing_st:"Endangered",ch_id:671,ch_str_id:"a-671"},{comname:"Cumberlandian combshell",sciname:"Epioblasma brevidens",spcode:"F01F",vipcode:"I01",entity_id:353,status:"Final",leadoffice:42430,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2038,objectid:756,listing_st:"Endangered",ch_id:671,ch_str_id:"a-671"},{comname:"Purple bean",sciname:"Villosa perpurpurea",spcode:"F001",vipcode:"I01",entity_id:318,status:"Final",leadoffice:51413,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2027,objectid:747,listing_st:"Endangered",ch_id:671,ch_str_id:"a-671"},{comname:"Rough rabbitsfoot",sciname:"Quadrula cylindrica strigillata",spcode:"F00V",vipcode:"I01",entity_id:344,status:"Final",leadoffice:51413,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2028,objectid:748,listing_st:"Endangered",ch_id:671,ch_str_id:"a-671"},{comname:"Yellowfin madtom",sciname:"Noturus flavipinnis",spcode:"E01Y",vipcode:"V01",entity_id:247,status:"Final",leadoffice:42430,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:2023,objectid:743,listing_st:"Threatened",ch_id:672,ch_str_id:"a-672"},{comname:"Oyster mussel",sciname:"Epioblasma capsaeformis",spcode:"F01T",vipcode:"I01",entity_id:358,status:"Final",leadoffice:42430,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2039,objectid:757,listing_st:"Endangered",ch_id:672,ch_str_id:"a-672"},{comname:"Cumberlandian combshell",sciname:"Epioblasma brevidens",spcode:"F01F",vipcode:"I01",entity_id:353,status:"Final",leadoffice:42430,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2038,objectid:756,listing_st:"Endangered",ch_id:672,ch_str_id:"a-672"},{comname:"Purple bean",sciname:"Villosa perpurpurea",spcode:"F001",vipcode:"I01",entity_id:318,status:"Final",leadoffice:51413,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2027,objectid:747,listing_st:"Endangered",ch_id:672,ch_str_id:"a-672"},{comname:"Rough rabbitsfoot",sciname:"Quadrula cylindrica strigillata",spcode:"F00V",vipcode:"I01",entity_id:344,status:"Final",leadoffice:51413,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2028,objectid:748,listing_st:"Endangered",ch_id:672,ch_str_id:"a-672"},{comname:"Slender chub",sciname:"Erimystax cahni",spcode:"E01X",vipcode:"V01",entity_id:246,status:"Final",leadoffice:42430,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:2018,objectid:735,listing_st:"Threatened",ch_id:672,ch_str_id:"a-672"},{comname:"Oyster mussel",sciname:"Epioblasma capsaeformis",spcode:"F01T",vipcode:"I01",entity_id:358,status:"Final",leadoffice:42430,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2039,objectid:757,listing_st:"Endangered",ch_id:673,ch_str_id:"a-673"},{comname:"Cumberlandian combshell",sciname:"Epioblasma brevidens",spcode:"F01F",vipcode:"I01",entity_id:353,status:"Final",leadoffice:42430,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2038,objectid:756,listing_st:"Endangered",ch_id:673,ch_str_id:"a-673"},{comname:"Purple bean",sciname:"Villosa perpurpurea",spcode:"F001",vipcode:"I01",entity_id:318,status:"Final",leadoffice:51413,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2027,objectid:747,listing_st:"Endangered",ch_id:673,ch_str_id:"a-673"},{comname:"Rough rabbitsfoot",sciname:"Quadrula cylindrica strigillata",spcode:"F00V",vipcode:"I01",entity_id:344,status:"Final",leadoffice:51413,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2028,objectid:748,listing_st:"Endangered",ch_id:673,ch_str_id:"a-673"},{comname:"Slender chub",sciname:"Erimystax cahni",spcode:"E01X",vipcode:"V01",entity_id:246,status:"Final",leadoffice:42430,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:2018,objectid:735,listing_st:"Threatened",ch_id:673,ch_str_id:"a-673"},{comname:"Longsolid",sciname:"Fusconaia subrotunda",spcode:"F04V",vipcode:"I01",entity_id:10838,status:"Final",leadoffice:42431,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2059,objectid:777,listing_st:"Threatened",ch_id:673,ch_str_id:"a-673"},{comname:"Yellowfin madtom",sciname:"Noturus flavipinnis",spcode:"E01Y",vipcode:"V01",entity_id:247,status:"Final",leadoffice:42430,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:2023,objectid:743,listing_st:"Threatened",ch_id:673,ch_str_id:"a-673"},{comname:"Sickle darter",sciname:"Percina williamsi",spcode:"E0CX",vipcode:"V01",entity_id:10823,status:"Proposed",leadoffice:40120,fedreg:"88FR4128 4150",pubdate:"20230124",source_id:2050,objectid:768,listing_st:"Threatened",ch_id:673,ch_str_id:"a-673"},{comname:"Gila chub",sciname:"Gila intermedia",spcode:"E02P",vipcode:"V01",entity_id:6297,status:"Final",leadoffice:22410,fedreg:"70FR66664 66721",pubdate:"20051102",source_id:911,objectid:75,listing_st:"Endangered",ch_id:674,ch_str_id:"a-674"},{comname:"Chiricahua leopard frog",sciname:"Rana chiricahuensis",spcode:"D02F",vipcode:"V01",entity_id:206,status:"Final",leadoffice:22410,fedreg:"77FR16324 16424",pubdate:"20120320",source_id:1454,objectid:261,listing_st:"Threatened",ch_id:674,ch_str_id:"a-674"},{comname:"Northern Mexican gartersnake",sciname:"Thamnophis eques megalops",spcode:"C04Q",vipcode:"V01",entity_id:1783,status:"Final",leadoffice:22410,fedreg:"86FR22518 22580",pubdate:"20210428",source_id:1526,objectid:302,listing_st:"Threatened",ch_id:674,ch_str_id:"a-674"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:674,ch_str_id:"a-674"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:675,ch_str_id:"a-675"},{comname:"Florida Keys mole skink",sciname:"Plestiodon egregius egregius",spcode:"C03U",vipcode:"V01",entity_id:2238,status:"Proposed",leadoffice:40120,fedreg:"87FR58649",pubdate:"20220927",source_id:2042,objectid:760,listing_st:"Proposed Threatened",ch_id:675,ch_str_id:"a-675"},{comname:"Green sea turtle",sciname:"Chelonia mydas",spcode:"C00S",vipcode:"V12",entity_id:11192,status:"Proposed",leadoffice:41411,fedreg:"88FR46376 46570",pubdate:"20230719",source_id:2063,objectid:809,listing_st:"Threatened",ch_id:675,ch_str_id:"a-675"},{comname:"Chiricahua leopard frog",sciname:"Rana chiricahuensis",spcode:"D02F",vipcode:"V01",entity_id:206,status:"Final",leadoffice:22410,fedreg:"77FR16324 16424",pubdate:"20120320",source_id:1454,objectid:261,listing_st:"Threatened",ch_id:676,ch_str_id:"a-676"},{comname:"Wright's marsh thistle",sciname:"Cirsium wrightii",spcode:"Q3N3",vipcode:"P01",entity_id:9965,status:"Final",leadoffice:22420,fedreg:"88FR25208 25249",pubdate:"20230425",source_id:2054,objectid:772,listing_st:"Threatened",ch_id:676,ch_str_id:"a-676"},{comname:"Peninsular bighorn sheep",sciname:"Ovis canadensis nelsoni",spcode:"A0DR",vipcode:"V01",entity_id:56,status:"Final",leadoffice:11430,fedreg:"74FR17288 17365",pubdate:"20090414",source_id:1343,objectid:225,listing_st:"Endangered",ch_id:677,ch_str_id:"a-677"},{comname:"Razorback sucker",sciname:"Xyrauchen texanus",spcode:"E054",vipcode:"V01",entity_id:290,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:715,objectid:63,listing_st:"Endangered",ch_id:678,ch_str_id:"a-678"},{comname:"Narrow-headed gartersnake",sciname:"Thamnophis rufipunctatus",spcode:"C051",vipcode:"V01",entity_id:3271,status:"Final",leadoffice:22410,fedreg:"86FR58474 58523",pubdate:"20211021",source_id:1527,objectid:303,listing_st:"Threatened",ch_id:678,ch_str_id:"a-678"},{comname:"Colorado pikeminnow",sciname:"Ptychocheilus lucius",spcode:"E006",vipcode:"V01",entity_id:215,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:6,objectid:1,listing_st:"Endangered",ch_id:678,ch_str_id:"a-678"},{comname:"Humpback chub",sciname:"Gila cypha",spcode:"E000",vipcode:"V01",entity_id:209,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:15,objectid:6,listing_st:"Threatened",ch_id:678,ch_str_id:"a-678"},{comname:"Wright's marsh thistle",sciname:"Cirsium wrightii",spcode:"Q3N3",vipcode:"P01",entity_id:9965,status:"Final",leadoffice:22420,fedreg:"88FR25208 25249",pubdate:"20230425",source_id:2054,objectid:772,listing_st:"Threatened",ch_id:679,ch_str_id:"a-679"},{comname:"Madla Cave Meshweaver",sciname:"Cicurina madla",spcode:"J019",vipcode:"I01",entity_id:471,status:"Final",leadoffice:21450,fedreg:"77FR8450 8523",pubdate:"20120214",source_id:473,objectid:42,listing_st:"Endangered",ch_id:68,ch_str_id:"a-68"},{comname:"[no common name] Beetle",sciname:"Rhadine infernalis",spcode:"I0P1",vipcode:"I01",entity_id:459,status:"Final",leadoffice:21450,fedreg:"77FR8450 8523",pubdate:"20120214",source_id:462,objectid:37,listing_st:"Endangered",ch_id:68,ch_str_id:"a-68"},{comname:"[no common name] Beetle",sciname:"Rhadine exilis",spcode:"I0RF",vipcode:"I01",entity_id:461,status:"Final",leadoffice:21450,fedreg:"77FR8450 8523",pubdate:"20120214",source_id:463,objectid:38,listing_st:"Endangered",ch_id:68,ch_str_id:"a-68"},{comname:"Neches River rose-mallow",sciname:"Hibiscus dasycalyx",spcode:"Q0ZH",vipcode:"P01",entity_id:6617,status:"Final",leadoffice:21470,fedreg:"78FR56071 56120",pubdate:"20130911",source_id:1521,objectid:297,listing_st:"Threatened",ch_id:680,ch_str_id:"a-680"},{comname:"San Bernardino bluegrass",sciname:"Poa atropurpurea",spcode:"Q1I9",vipcode:"P01",entity_id:594,status:"Final",leadoffice:11430,fedreg:"73FR47706 47767",pubdate:"20080814",source_id:1333,objectid:218,listing_st:"Endangered",ch_id:681,ch_str_id:"a-681"},{comname:"San Diego fairy shrimp",sciname:"Branchinecta sandiegonensis",spcode:"K049",vipcode:"I01",entity_id:495,status:"Final",leadoffice:11430,fedreg:"72FR70648 70714",pubdate:"20071212",source_id:1171,objectid:185,listing_st:"Endangered",ch_id:682,ch_str_id:"a-682"},{comname:"San Diego ambrosia",sciname:"Ambrosia pumila",spcode:"Q01H",vipcode:"P01",entity_id:500,status:"Final",leadoffice:11430,fedreg:"75FR74546 74604",pubdate:"20101130",source_id:1364,objectid:239,listing_st:"Endangered",ch_id:683,ch_str_id:"a-683"},{comname:"Thread-leaved brodiaea",sciname:"Brodiaea filifolia",spcode:"Q09H",vipcode:"P01",entity_id:516,status:"Final",leadoffice:11430,fedreg:"76FR6848 6925",pubdate:"20110208",source_id:678,objectid:61,listing_st:"Threatened",ch_id:684,ch_str_id:"a-684"},{comname:"San Diego fairy shrimp",sciname:"Branchinecta sandiegonensis",spcode:"K049",vipcode:"I01",entity_id:495,status:"Final",leadoffice:11430,fedreg:"72FR70648 70714",pubdate:"20071212",source_id:1171,objectid:185,listing_st:"Endangered",ch_id:684,ch_str_id:"a-684"},{comname:"Pecos (=puzzle, =paradox) sunflower",sciname:"Helianthus paradoxus",spcode:"Q0YJ",vipcode:"P01",entity_id:558,status:"Final",leadoffice:22420,fedreg:"73FR17762 17807",pubdate:"20080401",source_id:1331,objectid:217,listing_st:"Threatened",ch_id:685,ch_str_id:"a-685"},{comname:"Pecos assiminea snail",sciname:"Assiminea pecos",spcode:"G03K",vipcode:"I01",entity_id:1245,status:"Final",leadoffice:22420,fedreg:"76FR33036 33064",pubdate:"20110607",source_id:950,objectid:79,listing_st:"Endangered",ch_id:685,ch_str_id:"a-685"},{comname:"Leon Springs pupfish",sciname:"Cyprinodon bovinus",spcode:"E023",vipcode:"V01",entity_id:251,status:"Final",leadoffice:21450,fedreg:"45FR54678 54681",pubdate:"19800815",source_id:932,objectid:78,listing_st:"Endangered",ch_id:685,ch_str_id:"a-685"},{comname:"Diamond Tryonia",sciname:"Pseudotryonia adamantina",spcode:"G04W",vipcode:"I01",entity_id:4437,status:"Final",leadoffice:21450,fedreg:"78FR40970 40996",pubdate:"20130709",source_id:1487,objectid:277,listing_st:"Endangered",ch_id:685,ch_str_id:"a-685"},{comname:"Gonzales tryonia",sciname:"Tryonia circumstriata (=stocktonensis)",spcode:"G05D",vipcode:"I01",entity_id:5362,status:"Final",leadoffice:21450,fedreg:"78FR40970 40996",pubdate:"20130709",source_id:1490,objectid:279,listing_st:"Endangered",ch_id:685,ch_str_id:"a-685"},{comname:"Pecos amphipod",sciname:"Gammarus pecos",spcode:"K024",vipcode:"I01",entity_id:6596,status:"Final",leadoffice:21450,fedreg:"78FR40970 40996",pubdate:"20130709",source_id:1481,objectid:274,listing_st:"Endangered",ch_id:685,ch_str_id:"a-685"},{comname:"Navasota False Foxglove",sciname:"Agalinis navasotensis",spcode:"Q3PQ",vipcode:"P01",entity_id:11017,status:"Proposed",leadoffice:20120,fedreg:"88FR38455 38477",pubdate:"20230613",source_id:2078,objectid:801,listing_st:"Proposed Endangered",ch_id:686,ch_str_id:"a-686"},{comname:"Spreading navarretia",sciname:"Navarretia fossalis",spcode:"Q2E7",vipcode:"P01",entity_id:972,status:"Final",leadoffice:11430,fedreg:"75FR62192 62255",pubdate:"20101007",source_id:910,objectid:74,listing_st:"Threatened",ch_id:687,ch_str_id:"a-687"},{comname:"San Diego fairy shrimp",sciname:"Branchinecta sandiegonensis",spcode:"K049",vipcode:"I01",entity_id:495,status:"Final",leadoffice:11430,fedreg:"72FR70648 70714",pubdate:"20071212",source_id:1171,objectid:185,listing_st:"Endangered",ch_id:687,ch_str_id:"a-687"},{comname:"Otay tarplant",sciname:"Deinandra (=Hemizonia) conjugens",spcode:"Q0YQ",vipcode:"P01",entity_id:559,status:"Final",leadoffice:11430,fedreg:"67FR76030 76053",pubdate:"20021210",source_id:667,objectid:53,listing_st:"Threatened",ch_id:687,ch_str_id:"a-687"},{comname:"Desert tortoise",sciname:"Gopherus agassizii",spcode:"C04L",vipcode:"V05",entity_id:185,status:"Final",leadoffice:84321,fedreg:"59FR5820 5866",pubdate:"19940208",source_id:664,objectid:50,listing_st:"Threatened",ch_id:688,ch_str_id:"a-688"},{comname:"Bonytail",sciname:"Gila elegans",spcode:"E020",vipcode:"V01",entity_id:249,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:716,objectid:64,listing_st:"Endangered",ch_id:688,ch_str_id:"a-688"},{comname:"Northern Mexican gartersnake",sciname:"Thamnophis eques megalops",spcode:"C04Q",vipcode:"V01",entity_id:1783,status:"Final",leadoffice:22410,fedreg:"86FR22518 22580",pubdate:"20210428",source_id:1526,objectid:302,listing_st:"Threatened",ch_id:689,ch_str_id:"a-689"},{comname:"Razorback sucker",sciname:"Xyrauchen texanus",spcode:"E054",vipcode:"V01",entity_id:290,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:715,objectid:63,listing_st:"Endangered",ch_id:689,ch_str_id:"a-689"},{comname:"Balcones spike",sciname:"Fusconaia iheringi",spcode:"F05D",vipcode:"I01",entity_id:11676,status:"Final",leadoffice:21450,fedreg:"89FR48034 48130",pubdate:"20240604",source_id:2092,objectid:811,listing_st:"Endangered",ch_id:69,ch_str_id:"a-69"},{comname:"Texas fatmucket",sciname:"Lampsilis bracteata",spcode:"F04I",vipcode:"I01",entity_id:10038,status:"Final",leadoffice:21450,fedreg:"89FR48034 48130",pubdate:"20240604",source_id:2006,objectid:724,listing_st:"Endangered",ch_id:69,ch_str_id:"a-69"},{comname:"Texas pimpleback",sciname:"Cyclonaias petrina",spcode:"F04F",vipcode:"I01",entity_id:9968,status:"Final",leadoffice:21450,fedreg:"89FR48034 48130",pubdate:"20240604",source_id:2012,objectid:731,listing_st:"Endangered",ch_id:69,ch_str_id:"a-69"},{comname:"Tidewater goby",sciname:"Eucyclogobius newberryi",spcode:"E071",vipcode:"V01",entity_id:306,status:"Final",leadoffice:11440,fedreg:"78FR8745 8819",pubdate:"20130206",source_id:679,objectid:62,listing_st:"Endangered",ch_id:690,ch_str_id:"a-690"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:691,ch_str_id:"a-691"},{comname:"Colorado pikeminnow",sciname:"Ptychocheilus lucius",spcode:"E006",vipcode:"V01",entity_id:215,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:6,objectid:1,listing_st:"Endangered",ch_id:691,ch_str_id:"a-691"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:692,ch_str_id:"a-692"},{comname:"Mexican spotted owl",sciname:"Strix occidentalis lucida",spcode:"B074",vipcode:"V01",entity_id:129,status:"Final",leadoffice:22410,fedreg:"69FR53182 53298",pubdate:"20040831",source_id:20,objectid:9,listing_st:"Threatened",ch_id:693,ch_str_id:"a-693"},{comname:"Northern Mexican gartersnake",sciname:"Thamnophis eques megalops",spcode:"C04Q",vipcode:"V01",entity_id:1783,status:"Final",leadoffice:22410,fedreg:"86FR22518 22580",pubdate:"20210428",source_id:1526,objectid:302,listing_st:"Threatened",ch_id:693,ch_str_id:"a-693"},{comname:"Sonora chub",sciname:"Gila ditaenia",spcode:"E029",vipcode:"V01",entity_id:255,status:"Final",leadoffice:22410,fedreg:"51FR16042 16047",pubdate:"19860430",source_id:33,objectid:16,listing_st:"Threatened",ch_id:693,ch_str_id:"a-693"},{comname:"Little Colorado spinedace",sciname:"Lepidomeda vittata",spcode:"E04M",vipcode:"V01",entity_id:281,status:"Final",leadoffice:22410,fedreg:"52FR35034 35041",pubdate:"19870916",source_id:18,objectid:8,listing_st:"Threatened",ch_id:693,ch_str_id:"a-693"},{comname:"Chiricahua leopard frog",sciname:"Rana chiricahuensis",spcode:"D02F",vipcode:"V01",entity_id:206,status:"Final",leadoffice:22410,fedreg:"77FR16324 16424",pubdate:"20120320",source_id:1454,objectid:261,listing_st:"Threatened",ch_id:693,ch_str_id:"a-693"},{comname:"Narrow-headed gartersnake",sciname:"Thamnophis rufipunctatus",spcode:"C051",vipcode:"V01",entity_id:3271,status:"Final",leadoffice:22410,fedreg:"86FR58474 58523",pubdate:"20211021",source_id:1527,objectid:303,listing_st:"Threatened",ch_id:693,ch_str_id:"a-693"},{comname:"Colorado pikeminnow",sciname:"Ptychocheilus lucius",spcode:"E006",vipcode:"V01",entity_id:215,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:6,objectid:1,listing_st:"Endangered",ch_id:693,ch_str_id:"a-693"},{comname:"Razorback sucker",sciname:"Xyrauchen texanus",spcode:"E054",vipcode:"V01",entity_id:290,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:715,objectid:63,listing_st:"Endangered",ch_id:693,ch_str_id:"a-693"},{comname:"Bonytail",sciname:"Gila elegans",spcode:"E020",vipcode:"V01",entity_id:249,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:716,objectid:64,listing_st:"Endangered",ch_id:693,ch_str_id:"a-693"},{comname:"Humpback chub",sciname:"Gila cypha",spcode:"E000",vipcode:"V01",entity_id:209,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:15,objectid:6,listing_st:"Threatened",ch_id:693,ch_str_id:"a-693"},{comname:"Quino checkerspot butterfly",sciname:"Euphydryas editha quino (=E. e. wrighti)",spcode:"I00P",vipcode:"I01",entity_id:426,status:"Final",leadoffice:11430,fedreg:"74FR28776 28862",pubdate:"20090617",source_id:1078,objectid:123,listing_st:"Endangered",ch_id:694,ch_str_id:"a-694"},{comname:"Riverside fairy shrimp",sciname:"Streptocephalus woottoni",spcode:"K03F",vipcode:"I01",entity_id:492,status:"Final",leadoffice:11430,fedreg:"77FR72069 72140",pubdate:"20121204",source_id:673,objectid:57,listing_st:"Endangered",ch_id:695,ch_str_id:"a-695"},{comname:"Least Bell's vireo",sciname:"Vireo bellii pusillus",spcode:"B067",vipcode:"V01",entity_id:123,status:"Final",leadoffice:11430,fedreg:"59FR4845 4867",pubdate:"19940202",source_id:665,objectid:51,listing_st:"Endangered",ch_id:696,ch_str_id:"a-696"},{comname:"Tidewater goby",sciname:"Eucyclogobius newberryi",spcode:"E071",vipcode:"V01",entity_id:306,status:"Final",leadoffice:11440,fedreg:"78FR8745 8819",pubdate:"20130206",source_id:679,objectid:62,listing_st:"Endangered",ch_id:696,ch_str_id:"a-696"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:696,ch_str_id:"a-696"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:696,ch_str_id:"a-696"},{comname:"Arroyo (=arroyo southwestern) toad",sciname:"Anaxyrus californicus",spcode:"D020",vipcode:"V01",entity_id:204,status:"Final",leadoffice:11440,fedreg:"76FR7245 7467",pubdate:"20110209",source_id:656,objectid:44,listing_st:"Endangered",ch_id:697,ch_str_id:"a-697"},{comname:"San Diego ambrosia",sciname:"Ambrosia pumila",spcode:"Q01H",vipcode:"P01",entity_id:500,status:"Final",leadoffice:11430,fedreg:"75FR74546 74604",pubdate:"20101130",source_id:1364,objectid:239,listing_st:"Endangered",ch_id:697,ch_str_id:"a-697"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:697,ch_str_id:"a-697"},{comname:"Pecos bluntnose shiner",sciname:"Notropis simus pecosensis",spcode:"E04F",vipcode:"V01",entity_id:279,status:"Final",leadoffice:22420,fedreg:"52FR5295 5303",pubdate:"19870220",source_id:930,objectid:76,listing_st:"Threatened",ch_id:698,ch_str_id:"a-698"},{comname:"Louisiana Pigtoe",sciname:"Pleurobema riddellii",spcode:"Q3RF",vipcode:"I01",entity_id:11099,status:"Proposed",leadoffice:21420,fedreg:"88FR16776 16832",pubdate:"20230320",source_id:2052,objectid:770,listing_st:"Proposed Threatened",ch_id:699,ch_str_id:"a-699"},{comname:"Bushy whitlow-wort",sciname:"Paronychia congesta",spcode:"Q1BR",vipcode:"P01",entity_id:1723,status:"Proposed",leadoffice:21470,fedreg:"89FR19526 19546",pubdate:"20240319",source_id:2091,objectid:810,listing_st:"Proposed Endangered",ch_id:7,ch_str_id:"a-7"},{comname:"Balcones spike",sciname:"Fusconaia iheringi",spcode:"F05D",vipcode:"I01",entity_id:11676,status:"Final",leadoffice:21450,fedreg:"89FR48034 48130",pubdate:"20240604",source_id:2092,objectid:811,listing_st:"Endangered",ch_id:70,ch_str_id:"a-70"},{comname:"Texas fawnsfoot",sciname:"Truncilla macrodon",spcode:"F04E",vipcode:"I01",entity_id:9967,status:"Final",leadoffice:21450,fedreg:"89FR48034 48130",pubdate:"20240604",source_id:2007,objectid:725,listing_st:"Threatened",ch_id:70,ch_str_id:"a-70"},{comname:"Texas pimpleback",sciname:"Cyclonaias petrina",spcode:"F04F",vipcode:"I01",entity_id:9968,status:"Final",leadoffice:21450,fedreg:"89FR48034 48130",pubdate:"20240604",source_id:2012,objectid:731,listing_st:"Endangered",ch_id:70,ch_str_id:"a-70"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:700,ch_str_id:"a-700"},{comname:"Chiricahua leopard frog",sciname:"Rana chiricahuensis",spcode:"D02F",vipcode:"V01",entity_id:206,status:"Final",leadoffice:22410,fedreg:"77FR16324 16424",pubdate:"20120320",source_id:1454,objectid:261,listing_st:"Threatened",ch_id:700,ch_str_id:"a-700"},{comname:"Arizona eryngo",sciname:"Eryngium sparganophyllum",spcode:"Q3ST",vipcode:"P01",entity_id:11513,status:"Final",leadoffice:22410,fedreg:"87FR35431",pubdate:"20220610",source_id:1995,objectid:713,listing_st:"Endangered",ch_id:700,ch_str_id:"a-700"},{comname:"Beautiful shiner",sciname:"Cyprinella formosa",spcode:"E04B",vipcode:"V01",entity_id:276,status:"Final",leadoffice:22523,fedreg:"49FR34490 34497",pubdate:"19840831",source_id:41,objectid:22,listing_st:"Threatened",ch_id:700,ch_str_id:"a-700"},{comname:"Yaqui catfish",sciname:"Ictalurus pricei",spcode:"E02H",vipcode:"V01",entity_id:259,status:"Final",leadoffice:22523,fedreg:"49FR34490 34497",pubdate:"19840831",source_id:41,objectid:22,listing_st:"Threatened",ch_id:700,ch_str_id:"a-700"},{comname:"Yaqui chub",sciname:"Gila purpurea",spcode:"E034",vipcode:"V01",entity_id:263,status:"Final",leadoffice:22523,fedreg:"49FR34490 34497",pubdate:"19840831",source_id:41,objectid:22,listing_st:"Endangered",ch_id:700,ch_str_id:"a-700"},{comname:"New Mexico meadow jumping mouse",sciname:"Zapus hudsonius luteus",spcode:"A0BX",vipcode:"V01",entity_id:5210,status:"Final",leadoffice:22420,fedreg:"81FR14263 14325",pubdate:"20160316",source_id:1510,objectid:294,listing_st:"Endangered",ch_id:701,ch_str_id:"a-701"},{comname:"Narrow-headed gartersnake",sciname:"Thamnophis rufipunctatus",spcode:"C051",vipcode:"V01",entity_id:3271,status:"Final",leadoffice:22410,fedreg:"86FR58474 58523",pubdate:"20211021",source_id:1527,objectid:303,listing_st:"Threatened",ch_id:702,ch_str_id:"a-702"},{comname:"Texas heelsplitter",sciname:"Potamilus amphichaenus",spcode:"F02K",vipcode:"I01",entity_id:5964,status:"Proposed",leadoffice:21420,fedreg:"88FR16776 16832",pubdate:"20230320",source_id:2053,objectid:771,listing_st:"Proposed Endangered",ch_id:703,ch_str_id:"a-703"},{comname:"rufa red knot",sciname:"Calidris canutus rufa",spcode:"B0DM",vipcode:"V01",entity_id:8621,status:"Proposed",leadoffice:52421,fedreg:"88FR22530 22693",pubdate:"20230413",source_id:2094,objectid:813,listing_st:"Threatened",ch_id:704,ch_str_id:"a-704"},{comname:"Whooping crane",sciname:"Grus americana",spcode:"B003",vipcode:"V01",entity_id:67,status:"Final",leadoffice:20120,fedreg:"43FR20938 20942",pubdate:"19780515",source_id:39,objectid:20,listing_st:"Endangered",ch_id:705,ch_str_id:"a-705"},{comname:"Western Snowy Plover",sciname:"Charadrius nivosus nivosus",spcode:"B07C",vipcode:"V01",entity_id:132,status:"Final",leadoffice:11331,fedreg:"77FR36727 36869",pubdate:"20120619",source_id:890,objectid:73,listing_st:"Threatened",ch_id:706,ch_str_id:"a-706"},{comname:"Robust spineflower",sciname:"Chorizanthe robusta var. robusta",spcode:"Q3O7",vipcode:"P01",entity_id:10290,status:"Final",leadoffice:11440,fedreg:"67FR36822 36845",pubdate:"20020528",source_id:1529,objectid:304,listing_st:"Endangered",ch_id:706,ch_str_id:"a-706"},{comname:"Gila chub",sciname:"Gila intermedia",spcode:"E02P",vipcode:"V01",entity_id:6297,status:"Final",leadoffice:22410,fedreg:"70FR66664 66721",pubdate:"20051102",source_id:911,objectid:75,listing_st:"Endangered",ch_id:707,ch_str_id:"a-707"},{comname:"beardless chinchweed",sciname:"Pectis imberbis",spcode:"Q2Q9",vipcode:"P01",entity_id:2884,status:"Final",leadoffice:22410,fedreg:"86FR31830 31868",pubdate:"20210615",source_id:1971,objectid:692,listing_st:"Endangered",ch_id:707,ch_str_id:"a-707"},{comname:"Northern Mexican gartersnake",sciname:"Thamnophis eques megalops",spcode:"C04Q",vipcode:"V01",entity_id:1783,status:"Final",leadoffice:22410,fedreg:"86FR22518 22580",pubdate:"20210428",source_id:1526,objectid:302,listing_st:"Threatened",ch_id:707,ch_str_id:"a-707"},{comname:"Gila chub",sciname:"Gila intermedia",spcode:"E02P",vipcode:"V01",entity_id:6297,status:"Final",leadoffice:22410,fedreg:"70FR66664 66721",pubdate:"20051102",source_id:911,objectid:75,listing_st:"Endangered",ch_id:708,ch_str_id:"a-708"},{comname:"Northern Mexican gartersnake",sciname:"Thamnophis eques megalops",spcode:"C04Q",vipcode:"V01",entity_id:1783,status:"Final",leadoffice:22410,fedreg:"86FR22518 22580",pubdate:"20210428",source_id:1526,objectid:302,listing_st:"Threatened",ch_id:708,ch_str_id:"a-708"},{comname:"Gila chub",sciname:"Gila intermedia",spcode:"E02P",vipcode:"V01",entity_id:6297,status:"Final",leadoffice:22410,fedreg:"70FR66664 66721",pubdate:"20051102",source_id:911,objectid:75,listing_st:"Endangered",ch_id:709,ch_str_id:"a-709"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:709,ch_str_id:"a-709"},{comname:"Diminutive Amphipod",sciname:"Gammarus hyalleloides",spcode:"K020",vipcode:"I01",entity_id:8172,status:"Final",leadoffice:21450,fedreg:"78FR40970 40996",pubdate:"20130709",source_id:1486,objectid:276,listing_st:"Endangered",ch_id:71,ch_str_id:"a-71"},{comname:"Phantom Springsnail",sciname:"Pyrgulopsis texana",spcode:"G00X",vipcode:"I01",entity_id:4479,status:"Final",leadoffice:21450,fedreg:"78FR40970 40996",pubdate:"20130709",source_id:1482,objectid:453,listing_st:"Endangered",ch_id:71,ch_str_id:"a-71"},{comname:"Phantom Tryonia",sciname:"Tryonia cheatumi",spcode:"G013",vipcode:"I01",entity_id:6138,status:"Final",leadoffice:21450,fedreg:"78FR40970 40996",pubdate:"20130709",source_id:1489,objectid:278,listing_st:"Endangered",ch_id:71,ch_str_id:"a-71"},{comname:"Gila chub",sciname:"Gila intermedia",spcode:"E02P",vipcode:"V01",entity_id:6297,status:"Final",leadoffice:22410,fedreg:"70FR66664 66721",pubdate:"20051102",source_id:911,objectid:75,listing_st:"Endangered",ch_id:710,ch_str_id:"a-710"},{comname:"Mexican spotted owl",sciname:"Strix occidentalis lucida",spcode:"B074",vipcode:"V01",entity_id:129,status:"Final",leadoffice:22410,fedreg:"69FR53182 53298",pubdate:"20040831",source_id:20,objectid:9,listing_st:"Threatened",ch_id:710,ch_str_id:"a-710"},{comname:"Gila chub",sciname:"Gila intermedia",spcode:"E02P",vipcode:"V01",entity_id:6297,status:"Final",leadoffice:22410,fedreg:"70FR66664 66721",pubdate:"20051102",source_id:911,objectid:75,listing_st:"Endangered",ch_id:711,ch_str_id:"a-711"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:711,ch_str_id:"a-711"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:712,ch_str_id:"a-712"},{comname:"rufa red knot",sciname:"Calidris canutus rufa",spcode:"B0DM",vipcode:"V01",entity_id:8621,status:"Proposed",leadoffice:52421,fedreg:"88FR22530 22693",pubdate:"20230413",source_id:2094,objectid:813,listing_st:"Threatened",ch_id:712,ch_str_id:"a-712"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:713,ch_str_id:"a-713"},{comname:"Whooping crane",sciname:"Grus americana",spcode:"B003",vipcode:"V01",entity_id:67,status:"Final",leadoffice:20120,fedreg:"43FR20938 20942",pubdate:"19780515",source_id:39,objectid:20,listing_st:"Endangered",ch_id:713,ch_str_id:"a-713"},{comname:"Chiricahua leopard frog",sciname:"Rana chiricahuensis",spcode:"D02F",vipcode:"V01",entity_id:206,status:"Final",leadoffice:22410,fedreg:"77FR16324 16424",pubdate:"20120320",source_id:1454,objectid:261,listing_st:"Threatened",ch_id:714,ch_str_id:"a-714"},{comname:"Jaguar",sciname:"Panthera onca",spcode:"A040",vipcode:"V01",entity_id:18,status:"Final",leadoffice:22410,fedreg:"89FR46822 46824",pubdate:"20240530",source_id:2010,objectid:730,listing_st:"Endangered",ch_id:714,ch_str_id:"a-714"},{comname:"Chiricahua leopard frog",sciname:"Rana chiricahuensis",spcode:"D02F",vipcode:"V01",entity_id:206,status:"Final",leadoffice:22410,fedreg:"77FR16324 16424",pubdate:"20120320",source_id:1454,objectid:261,listing_st:"Threatened",ch_id:715,ch_str_id:"a-715"},{comname:"Mexican spotted owl",sciname:"Strix occidentalis lucida",spcode:"B074",vipcode:"V01",entity_id:129,status:"Final",leadoffice:22410,fedreg:"69FR53182 53298",pubdate:"20040831",source_id:20,objectid:9,listing_st:"Threatened",ch_id:715,ch_str_id:"a-715"},{comname:"Peninsular bighorn sheep",sciname:"Ovis canadensis nelsoni",spcode:"A0DR",vipcode:"V01",entity_id:56,status:"Final",leadoffice:11430,fedreg:"74FR17288 17365",pubdate:"20090414",source_id:1343,objectid:225,listing_st:"Endangered",ch_id:716,ch_str_id:"a-716"},{comname:"Least Bell's vireo",sciname:"Vireo bellii pusillus",spcode:"B067",vipcode:"V01",entity_id:123,status:"Final",leadoffice:11430,fedreg:"59FR4845 4867",pubdate:"19940202",source_id:665,objectid:51,listing_st:"Endangered",ch_id:716,ch_str_id:"a-716"},{comname:"Razorback sucker",sciname:"Xyrauchen texanus",spcode:"E054",vipcode:"V01",entity_id:290,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:715,objectid:63,listing_st:"Endangered",ch_id:717,ch_str_id:"a-717"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:717,ch_str_id:"a-717"},{comname:"Razorback sucker",sciname:"Xyrauchen texanus",spcode:"E054",vipcode:"V01",entity_id:290,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:715,objectid:63,listing_st:"Endangered",ch_id:718,ch_str_id:"a-718"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:718,ch_str_id:"a-718"},{comname:"Wright's marsh thistle",sciname:"Cirsium wrightii",spcode:"Q3N3",vipcode:"P01",entity_id:9965,status:"Final",leadoffice:22420,fedreg:"88FR25208 25249",pubdate:"20230425",source_id:2054,objectid:772,listing_st:"Threatened",ch_id:719,ch_str_id:"a-719"},{comname:"Pecos (=puzzle, =paradox) sunflower",sciname:"Helianthus paradoxus",spcode:"Q0YJ",vipcode:"P01",entity_id:558,status:"Final",leadoffice:22420,fedreg:"73FR17762 17807",pubdate:"20080401",source_id:1331,objectid:217,listing_st:"Threatened",ch_id:719,ch_str_id:"a-719"},{comname:"Peck's cave amphipod",sciname:"Stygobromus (=Stygonectes) pecki",spcode:"K019",vipcode:"I01",entity_id:477,status:"Final",leadoffice:21450,fedreg:"78FR63100 63127",pubdate:"20131023",source_id:1324,objectid:211,listing_st:"Endangered",ch_id:72,ch_str_id:"a-72"},{comname:"Comal Springs riffle beetle",sciname:"Heterelmis comalensis",spcode:"I0MH",vipcode:"I01",entity_id:453,status:"Final",leadoffice:21450,fedreg:"78FR63100 63127",pubdate:"20131023",source_id:1323,objectid:210,listing_st:"Endangered",ch_id:72,ch_str_id:"a-72"},{comname:"Comal Springs dryopid beetle",sciname:"Stygoparnus comalensis",spcode:"I0MI",vipcode:"I01",entity_id:454,status:"Final",leadoffice:21450,fedreg:"78FR63100 63127",pubdate:"20131023",source_id:1322,objectid:209,listing_st:"Endangered",ch_id:72,ch_str_id:"a-72"},{comname:"Jaguar",sciname:"Panthera onca",spcode:"A040",vipcode:"V01",entity_id:18,status:"Final",leadoffice:22410,fedreg:"89FR46822 46824",pubdate:"20240530",source_id:2010,objectid:730,listing_st:"Endangered",ch_id:720,ch_str_id:"a-720"},{comname:"Huachuca water-umbel",sciname:"Lilaeopsis schaffneriana var. recurva",spcode:"Q2PK",vipcode:"P01",entity_id:1030,status:"Final",leadoffice:22410,fedreg:"64FR37441 37453",pubdate:"19990712",source_id:14,objectid:5,listing_st:"Endangered",ch_id:720,ch_str_id:"a-720"},{comname:"Northern Mexican gartersnake",sciname:"Thamnophis eques megalops",spcode:"C04Q",vipcode:"V01",entity_id:1783,status:"Final",leadoffice:22410,fedreg:"86FR22518 22580",pubdate:"20210428",source_id:1526,objectid:302,listing_st:"Threatened",ch_id:720,ch_str_id:"a-720"},{comname:"Jaguar",sciname:"Panthera onca",spcode:"A040",vipcode:"V01",entity_id:18,status:"Final",leadoffice:22410,fedreg:"89FR46822 46824",pubdate:"20240530",source_id:2010,objectid:730,listing_st:"Endangered",ch_id:721,ch_str_id:"a-721"},{comname:"Mexican spotted owl",sciname:"Strix occidentalis lucida",spcode:"B074",vipcode:"V01",entity_id:129,status:"Final",leadoffice:22410,fedreg:"69FR53182 53298",pubdate:"20040831",source_id:20,objectid:9,listing_st:"Threatened",ch_id:721,ch_str_id:"a-721"},{comname:"Huachuca water-umbel",sciname:"Lilaeopsis schaffneriana var. recurva",spcode:"Q2PK",vipcode:"P01",entity_id:1030,status:"Final",leadoffice:22410,fedreg:"64FR37441 37453",pubdate:"19990712",source_id:14,objectid:5,listing_st:"Endangered",ch_id:721,ch_str_id:"a-721"},{comname:"Sonora chub",sciname:"Gila ditaenia",spcode:"E029",vipcode:"V01",entity_id:255,status:"Final",leadoffice:22410,fedreg:"51FR16042 16047",pubdate:"19860430",source_id:33,objectid:16,listing_st:"Threatened",ch_id:721,ch_str_id:"a-721"},{comname:"Jaguar",sciname:"Panthera onca",spcode:"A040",vipcode:"V01",entity_id:18,status:"Final",leadoffice:22410,fedreg:"89FR46822 46824",pubdate:"20240530",source_id:2010,objectid:730,listing_st:"Endangered",ch_id:722,ch_str_id:"a-722"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:722,ch_str_id:"a-722"},{comname:"Willowy monardella",sciname:"Monardella viminea",spcode:"Q18M",vipcode:"P01",entity_id:576,status:"Final",leadoffice:11430,fedreg:"77FR13394 13447",pubdate:"20120306",source_id:1337,objectid:222,listing_st:"Endangered",ch_id:723,ch_str_id:"a-723"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:723,ch_str_id:"a-723"},{comname:"San Bernardino bluegrass",sciname:"Poa atropurpurea",spcode:"Q1I9",vipcode:"P01",entity_id:594,status:"Final",leadoffice:11430,fedreg:"73FR47706 47767",pubdate:"20080814",source_id:1333,objectid:218,listing_st:"Endangered",ch_id:724,ch_str_id:"a-724"},{comname:"Laguna Mountains skipper",sciname:"Pyrgus ruralis lagunae",spcode:"I0LW",vipcode:"I01",entity_id:451,status:"Final",leadoffice:11430,fedreg:"71FR74592 74615",pubdate:"20061212",source_id:1222,objectid:198,listing_st:"Endangered",ch_id:724,ch_str_id:"a-724"},{comname:"San Diego fairy shrimp",sciname:"Branchinecta sandiegonensis",spcode:"K049",vipcode:"I01",entity_id:495,status:"Final",leadoffice:11430,fedreg:"72FR70648 70714",pubdate:"20071212",source_id:1171,objectid:185,listing_st:"Endangered",ch_id:725,ch_str_id:"a-725"},{comname:"Hermes copper butterfly",sciname:"Lycaena hermes",spcode:"I05C",vipcode:"I01",entity_id:1984,status:"Final",leadoffice:11430,fedreg:"86FR72394 72433",pubdate:"20211221",source_id:1975,objectid:693,listing_st:"Threatened",ch_id:725,ch_str_id:"a-725"},{comname:"San Diego fairy shrimp",sciname:"Branchinecta sandiegonensis",spcode:"K049",vipcode:"I01",entity_id:495,status:"Final",leadoffice:11430,fedreg:"72FR70648 70714",pubdate:"20071212",source_id:1171,objectid:185,listing_st:"Endangered",ch_id:726,ch_str_id:"a-726"},{comname:"Spreading navarretia",sciname:"Navarretia fossalis",spcode:"Q2E7",vipcode:"P01",entity_id:972,status:"Final",leadoffice:11430,fedreg:"75FR62192 62255",pubdate:"20101007",source_id:910,objectid:74,listing_st:"Threatened",ch_id:726,ch_str_id:"a-726"},{comname:"San Diego fairy shrimp",sciname:"Branchinecta sandiegonensis",spcode:"K049",vipcode:"I01",entity_id:495,status:"Final",leadoffice:11430,fedreg:"72FR70648 70714",pubdate:"20071212",source_id:1171,objectid:185,listing_st:"Endangered",ch_id:727,ch_str_id:"a-727"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:727,ch_str_id:"a-727"},{comname:"San Diego fairy shrimp",sciname:"Branchinecta sandiegonensis",spcode:"K049",vipcode:"I01",entity_id:495,status:"Final",leadoffice:11430,fedreg:"72FR70648 70714",pubdate:"20071212",source_id:1171,objectid:185,listing_st:"Endangered",ch_id:728,ch_str_id:"a-728"},{comname:"Quino checkerspot butterfly",sciname:"Euphydryas editha quino (=E. e. wrighti)",spcode:"I00P",vipcode:"I01",entity_id:426,status:"Final",leadoffice:11430,fedreg:"74FR28776 28862",pubdate:"20090617",source_id:1078,objectid:123,listing_st:"Endangered",ch_id:728,ch_str_id:"a-728"},{comname:"San Diego fairy shrimp",sciname:"Branchinecta sandiegonensis",spcode:"K049",vipcode:"I01",entity_id:495,status:"Final",leadoffice:11430,fedreg:"72FR70648 70714",pubdate:"20071212",source_id:1171,objectid:185,listing_st:"Endangered",ch_id:729,ch_str_id:"a-729"},{comname:"Riverside fairy shrimp",sciname:"Streptocephalus woottoni",spcode:"K03F",vipcode:"I01",entity_id:492,status:"Final",leadoffice:11430,fedreg:"77FR72069 72140",pubdate:"20121204",source_id:673,objectid:57,listing_st:"Endangered",ch_id:729,ch_str_id:"a-729"},{comname:"San Marcos salamander",sciname:"Eurycea nana",spcode:"D00I",vipcode:"V01",entity_id:194,status:"Final",leadoffice:21450,fedreg:"45FR47355 47364",pubdate:"19800714",source_id:31,objectid:15,listing_st:"Threatened",ch_id:73,ch_str_id:"a-73"},{comname:"Texas wild-rice",sciname:"Zizania texana",spcode:"Q24A",vipcode:"P01",entity_id:870,status:"Final",leadoffice:21450,fedreg:"45FR47355 47364",pubdate:"19800714",source_id:380,objectid:34,listing_st:"Endangered",ch_id:73,ch_str_id:"a-73"},{comname:"Fountain darter",sciname:"Etheostoma fonticola",spcode:"E00T",vipcode:"V01",entity_id:228,status:"Final",leadoffice:21450,fedreg:"45FR47355 47364",pubdate:"19800714",source_id:382,objectid:36,listing_st:"Endangered",ch_id:73,ch_str_id:"a-73"},{comname:"San Diego fairy shrimp",sciname:"Branchinecta sandiegonensis",spcode:"K049",vipcode:"I01",entity_id:495,status:"Final",leadoffice:11430,fedreg:"72FR70648 70714",pubdate:"20071212",source_id:1171,objectid:185,listing_st:"Endangered",ch_id:730,ch_str_id:"a-730"},{comname:"Arroyo (=arroyo southwestern) toad",sciname:"Anaxyrus californicus",spcode:"D020",vipcode:"V01",entity_id:204,status:"Final",leadoffice:11440,fedreg:"76FR7245 7467",pubdate:"20110209",source_id:656,objectid:44,listing_st:"Endangered",ch_id:730,ch_str_id:"a-730"},{comname:"San Diego thornmint",sciname:"Acanthomintha ilicifolia",spcode:"Q00E",vipcode:"P01",entity_id:496,status:"Final",leadoffice:11430,fedreg:"73FR50454 50496",pubdate:"20080826",source_id:1335,objectid:220,listing_st:"Threatened",ch_id:731,ch_str_id:"a-731"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:731,ch_str_id:"a-731"},{comname:"San Diego thornmint",sciname:"Acanthomintha ilicifolia",spcode:"Q00E",vipcode:"P01",entity_id:496,status:"Final",leadoffice:11430,fedreg:"73FR50454 50496",pubdate:"20080826",source_id:1335,objectid:220,listing_st:"Threatened",ch_id:732,ch_str_id:"a-732"},{comname:"Quino checkerspot butterfly",sciname:"Euphydryas editha quino (=E. e. wrighti)",spcode:"I00P",vipcode:"I01",entity_id:426,status:"Final",leadoffice:11430,fedreg:"74FR28776 28862",pubdate:"20090617",source_id:1078,objectid:123,listing_st:"Endangered",ch_id:732,ch_str_id:"a-732"},{comname:"San Diego thornmint",sciname:"Acanthomintha ilicifolia",spcode:"Q00E",vipcode:"P01",entity_id:496,status:"Final",leadoffice:11430,fedreg:"73FR50454 50496",pubdate:"20080826",source_id:1335,objectid:220,listing_st:"Threatened",ch_id:733,ch_str_id:"a-733"},{comname:"Arroyo (=arroyo southwestern) toad",sciname:"Anaxyrus californicus",spcode:"D020",vipcode:"V01",entity_id:204,status:"Final",leadoffice:11440,fedreg:"76FR7245 7467",pubdate:"20110209",source_id:656,objectid:44,listing_st:"Endangered",ch_id:733,ch_str_id:"a-733"},{comname:"San Diego ambrosia",sciname:"Ambrosia pumila",spcode:"Q01H",vipcode:"P01",entity_id:500,status:"Final",leadoffice:11430,fedreg:"75FR74546 74604",pubdate:"20101130",source_id:1364,objectid:239,listing_st:"Endangered",ch_id:734,ch_str_id:"a-734"},{comname:"Hermes copper butterfly",sciname:"Lycaena hermes",spcode:"I05C",vipcode:"I01",entity_id:1984,status:"Final",leadoffice:11430,fedreg:"86FR72394 72433",pubdate:"20211221",source_id:1975,objectid:693,listing_st:"Threatened",ch_id:734,ch_str_id:"a-734"},{comname:"San Diego ambrosia",sciname:"Ambrosia pumila",spcode:"Q01H",vipcode:"P01",entity_id:500,status:"Final",leadoffice:11430,fedreg:"75FR74546 74604",pubdate:"20101130",source_id:1364,objectid:239,listing_st:"Endangered",ch_id:735,ch_str_id:"a-735"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:735,ch_str_id:"a-735"},{comname:"San Diego ambrosia",sciname:"Ambrosia pumila",spcode:"Q01H",vipcode:"P01",entity_id:500,status:"Final",leadoffice:11430,fedreg:"75FR74546 74604",pubdate:"20101130",source_id:1364,objectid:239,listing_st:"Endangered",ch_id:736,ch_str_id:"a-736"},{comname:"Least Bell's vireo",sciname:"Vireo bellii pusillus",spcode:"B067",vipcode:"V01",entity_id:123,status:"Final",leadoffice:11430,fedreg:"59FR4845 4867",pubdate:"19940202",source_id:665,objectid:51,listing_st:"Endangered",ch_id:736,ch_str_id:"a-736"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:736,ch_str_id:"a-736"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:736,ch_str_id:"a-736"},{comname:"Hermes copper butterfly",sciname:"Lycaena hermes",spcode:"I05C",vipcode:"I01",entity_id:1984,status:"Final",leadoffice:11430,fedreg:"86FR72394 72433",pubdate:"20211221",source_id:1975,objectid:693,listing_st:"Threatened",ch_id:736,ch_str_id:"a-736"},{comname:"San Diego ambrosia",sciname:"Ambrosia pumila",spcode:"Q01H",vipcode:"P01",entity_id:500,status:"Final",leadoffice:11430,fedreg:"75FR74546 74604",pubdate:"20101130",source_id:1364,objectid:239,listing_st:"Endangered",ch_id:737,ch_str_id:"a-737"},{comname:"Arroyo (=arroyo southwestern) toad",sciname:"Anaxyrus californicus",spcode:"D020",vipcode:"V01",entity_id:204,status:"Final",leadoffice:11440,fedreg:"76FR7245 7467",pubdate:"20110209",source_id:656,objectid:44,listing_st:"Endangered",ch_id:737,ch_str_id:"a-737"},{comname:"Least Bell's vireo",sciname:"Vireo bellii pusillus",spcode:"B067",vipcode:"V01",entity_id:123,status:"Final",leadoffice:11430,fedreg:"59FR4845 4867",pubdate:"19940202",source_id:665,objectid:51,listing_st:"Endangered",ch_id:737,ch_str_id:"a-737"},{comname:"Thread-leaved brodiaea",sciname:"Brodiaea filifolia",spcode:"Q09H",vipcode:"P01",entity_id:516,status:"Final",leadoffice:11430,fedreg:"76FR6848 6925",pubdate:"20110208",source_id:678,objectid:61,listing_st:"Threatened",ch_id:738,ch_str_id:"a-738"},{comname:"Spreading navarretia",sciname:"Navarretia fossalis",spcode:"Q2E7",vipcode:"P01",entity_id:972,status:"Final",leadoffice:11430,fedreg:"75FR62192 62255",pubdate:"20101007",source_id:910,objectid:74,listing_st:"Threatened",ch_id:738,ch_str_id:"a-738"},{comname:"Thread-leaved brodiaea",sciname:"Brodiaea filifolia",spcode:"Q09H",vipcode:"P01",entity_id:516,status:"Final",leadoffice:11430,fedreg:"76FR6848 6925",pubdate:"20110208",source_id:678,objectid:61,listing_st:"Threatened",ch_id:739,ch_str_id:"a-739"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:739,ch_str_id:"a-739"},{comname:"Texas wild-rice",sciname:"Zizania texana",spcode:"Q24A",vipcode:"P01",entity_id:870,status:"Final",leadoffice:21450,fedreg:"45FR47355 47364",pubdate:"19800714",source_id:380,objectid:34,listing_st:"Endangered",ch_id:74,ch_str_id:"a-74"},{comname:"Fountain darter",sciname:"Etheostoma fonticola",spcode:"E00T",vipcode:"V01",entity_id:228,status:"Final",leadoffice:21450,fedreg:"45FR47355 47364",pubdate:"19800714",source_id:382,objectid:36,listing_st:"Endangered",ch_id:74,ch_str_id:"a-74"},{comname:"San Marcos gambusia",sciname:"Gambusia georgei",spcode:"E021",vipcode:"V01",entity_id:250,status:"Final",leadoffice:21450,fedreg:"45FR47355 47364",pubdate:"19800714",source_id:381,objectid:35,listing_st:"Extinction",ch_id:74,ch_str_id:"a-74"},{comname:"Noel's Amphipod",sciname:"Gammarus desperatus",spcode:"K023",vipcode:"I01",entity_id:1261,status:"Final",leadoffice:22420,fedreg:"76FR33036 33064",pubdate:"20110607",source_id:1379,objectid:249,listing_st:"Endangered",ch_id:740,ch_str_id:"a-740"},{comname:"Pecos (=puzzle, =paradox) sunflower",sciname:"Helianthus paradoxus",spcode:"Q0YJ",vipcode:"P01",entity_id:558,status:"Final",leadoffice:22420,fedreg:"73FR17762 17807",pubdate:"20080401",source_id:1331,objectid:217,listing_st:"Threatened",ch_id:740,ch_str_id:"a-740"},{comname:"Otay tarplant",sciname:"Deinandra (=Hemizonia) conjugens",spcode:"Q0YQ",vipcode:"P01",entity_id:559,status:"Final",leadoffice:11430,fedreg:"67FR76030 76053",pubdate:"20021210",source_id:667,objectid:53,listing_st:"Threatened",ch_id:741,ch_str_id:"a-741"},{comname:"Spreading navarretia",sciname:"Navarretia fossalis",spcode:"Q2E7",vipcode:"P01",entity_id:972,status:"Final",leadoffice:11430,fedreg:"75FR62192 62255",pubdate:"20101007",source_id:910,objectid:74,listing_st:"Threatened",ch_id:741,ch_str_id:"a-741"},{comname:"Otay tarplant",sciname:"Deinandra (=Hemizonia) conjugens",spcode:"Q0YQ",vipcode:"P01",entity_id:559,status:"Final",leadoffice:11430,fedreg:"67FR76030 76053",pubdate:"20021210",source_id:667,objectid:53,listing_st:"Threatened",ch_id:742,ch_str_id:"a-742"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:742,ch_str_id:"a-742"},{comname:"Otay tarplant",sciname:"Deinandra (=Hemizonia) conjugens",spcode:"Q0YQ",vipcode:"P01",entity_id:559,status:"Final",leadoffice:11430,fedreg:"67FR76030 76053",pubdate:"20021210",source_id:667,objectid:53,listing_st:"Threatened",ch_id:743,ch_str_id:"a-743"},{comname:"Quino checkerspot butterfly",sciname:"Euphydryas editha quino (=E. e. wrighti)",spcode:"I00P",vipcode:"I01",entity_id:426,status:"Final",leadoffice:11430,fedreg:"74FR28776 28862",pubdate:"20090617",source_id:1078,objectid:123,listing_st:"Endangered",ch_id:743,ch_str_id:"a-743"},{comname:"Otay tarplant",sciname:"Deinandra (=Hemizonia) conjugens",spcode:"Q0YQ",vipcode:"P01",entity_id:559,status:"Final",leadoffice:11430,fedreg:"67FR76030 76053",pubdate:"20021210",source_id:667,objectid:53,listing_st:"Threatened",ch_id:744,ch_str_id:"a-744"},{comname:"Least Bell's vireo",sciname:"Vireo bellii pusillus",spcode:"B067",vipcode:"V01",entity_id:123,status:"Final",leadoffice:11430,fedreg:"59FR4845 4867",pubdate:"19940202",source_id:665,objectid:51,listing_st:"Endangered",ch_id:744,ch_str_id:"a-744"},{comname:"Hermes copper butterfly",sciname:"Lycaena hermes",spcode:"I05C",vipcode:"I01",entity_id:1984,status:"Final",leadoffice:11430,fedreg:"86FR72394 72433",pubdate:"20211221",source_id:1975,objectid:693,listing_st:"Threatened",ch_id:745,ch_str_id:"a-745"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:745,ch_str_id:"a-745"},{comname:"Hermes copper butterfly",sciname:"Lycaena hermes",spcode:"I05C",vipcode:"I01",entity_id:1984,status:"Final",leadoffice:11430,fedreg:"86FR72394 72433",pubdate:"20211221",source_id:1975,objectid:693,listing_st:"Threatened",ch_id:746,ch_str_id:"a-746"},{comname:"Quino checkerspot butterfly",sciname:"Euphydryas editha quino (=E. e. wrighti)",spcode:"I00P",vipcode:"I01",entity_id:426,status:"Final",leadoffice:11430,fedreg:"74FR28776 28862",pubdate:"20090617",source_id:1078,objectid:123,listing_st:"Endangered",ch_id:746,ch_str_id:"a-746"},{comname:"Hermes copper butterfly",sciname:"Lycaena hermes",spcode:"I05C",vipcode:"I01",entity_id:1984,status:"Final",leadoffice:11430,fedreg:"86FR72394 72433",pubdate:"20211221",source_id:1975,objectid:693,listing_st:"Threatened",ch_id:747,ch_str_id:"a-747"},{comname:"Least Bell's vireo",sciname:"Vireo bellii pusillus",spcode:"B067",vipcode:"V01",entity_id:123,status:"Final",leadoffice:11430,fedreg:"59FR4845 4867",pubdate:"19940202",source_id:665,objectid:51,listing_st:"Endangered",ch_id:747,ch_str_id:"a-747"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:747,ch_str_id:"a-747"},{comname:"Hermes copper butterfly",sciname:"Lycaena hermes",spcode:"I05C",vipcode:"I01",entity_id:1984,status:"Final",leadoffice:11430,fedreg:"86FR72394 72433",pubdate:"20211221",source_id:1975,objectid:693,listing_st:"Threatened",ch_id:748,ch_str_id:"a-748"},{comname:"Arroyo (=arroyo southwestern) toad",sciname:"Anaxyrus californicus",spcode:"D020",vipcode:"V01",entity_id:204,status:"Final",leadoffice:11440,fedreg:"76FR7245 7467",pubdate:"20110209",source_id:656,objectid:44,listing_st:"Endangered",ch_id:748,ch_str_id:"a-748"},{comname:"Spreading navarretia",sciname:"Navarretia fossalis",spcode:"Q2E7",vipcode:"P01",entity_id:972,status:"Final",leadoffice:11430,fedreg:"75FR62192 62255",pubdate:"20101007",source_id:910,objectid:74,listing_st:"Threatened",ch_id:749,ch_str_id:"a-749"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:749,ch_str_id:"a-749"},{comname:"Government Canyon Bat Cave meshweaver",sciname:"Cicurina vespera",spcode:"J01B",vipcode:"I01",entity_id:473,status:"Final",leadoffice:21450,fedreg:"77FR8450 8523",pubdate:"20120214",source_id:1386,objectid:253,listing_st:"Endangered",ch_id:75,ch_str_id:"a-75"},{comname:"Government Canyon Bat Cave spider",sciname:"Tayshaneta microps",spcode:"J018",vipcode:"I01",entity_id:470,status:"Final",leadoffice:21450,fedreg:"77FR8450 8523",pubdate:"20120214",source_id:1387,objectid:254,listing_st:"Endangered",ch_id:75,ch_str_id:"a-75"},{comname:"[no common name] Beetle",sciname:"Rhadine infernalis",spcode:"I0P1",vipcode:"I01",entity_id:459,status:"Final",leadoffice:21450,fedreg:"77FR8450 8523",pubdate:"20120214",source_id:462,objectid:37,listing_st:"Endangered",ch_id:75,ch_str_id:"a-75"},{comname:"[no common name] Beetle",sciname:"Rhadine exilis",spcode:"I0RF",vipcode:"I01",entity_id:461,status:"Final",leadoffice:21450,fedreg:"77FR8450 8523",pubdate:"20120214",source_id:463,objectid:38,listing_st:"Endangered",ch_id:75,ch_str_id:"a-75"},{comname:"Spreading navarretia",sciname:"Navarretia fossalis",spcode:"Q2E7",vipcode:"P01",entity_id:972,status:"Final",leadoffice:11430,fedreg:"75FR62192 62255",pubdate:"20101007",source_id:910,objectid:74,listing_st:"Threatened",ch_id:750,ch_str_id:"a-750"},{comname:"Quino checkerspot butterfly",sciname:"Euphydryas editha quino (=E. e. wrighti)",spcode:"I00P",vipcode:"I01",entity_id:426,status:"Final",leadoffice:11430,fedreg:"74FR28776 28862",pubdate:"20090617",source_id:1078,objectid:123,listing_st:"Endangered",ch_id:750,ch_str_id:"a-750"},{comname:"Riverside fairy shrimp",sciname:"Streptocephalus woottoni",spcode:"K03F",vipcode:"I01",entity_id:492,status:"Final",leadoffice:11430,fedreg:"77FR72069 72140",pubdate:"20121204",source_id:673,objectid:57,listing_st:"Endangered",ch_id:750,ch_str_id:"a-750"},{comname:"Spreading navarretia",sciname:"Navarretia fossalis",spcode:"Q2E7",vipcode:"P01",entity_id:972,status:"Final",leadoffice:11430,fedreg:"75FR62192 62255",pubdate:"20101007",source_id:910,objectid:74,listing_st:"Threatened",ch_id:751,ch_str_id:"a-751"},{comname:"Riverside fairy shrimp",sciname:"Streptocephalus woottoni",spcode:"K03F",vipcode:"I01",entity_id:492,status:"Final",leadoffice:11430,fedreg:"77FR72069 72140",pubdate:"20121204",source_id:673,objectid:57,listing_st:"Endangered",ch_id:751,ch_str_id:"a-751"},{comname:"Spreading navarretia",sciname:"Navarretia fossalis",spcode:"Q2E7",vipcode:"P01",entity_id:972,status:"Final",leadoffice:11430,fedreg:"75FR62192 62255",pubdate:"20101007",source_id:910,objectid:74,listing_st:"Threatened",ch_id:752,ch_str_id:"a-752"},{comname:"Arroyo (=arroyo southwestern) toad",sciname:"Anaxyrus californicus",spcode:"D020",vipcode:"V01",entity_id:204,status:"Final",leadoffice:11440,fedreg:"76FR7245 7467",pubdate:"20110209",source_id:656,objectid:44,listing_st:"Endangered",ch_id:752,ch_str_id:"a-752"},{comname:"Mexican flannelbush",sciname:"Fremontodendron mexicanum",spcode:"Q2OZ",vipcode:"P01",entity_id:1027,status:"Final",leadoffice:11430,fedreg:"72FR54984 55010",pubdate:"20070927",source_id:1326,objectid:213,listing_st:"Endangered",ch_id:753,ch_str_id:"a-753"},{comname:"Quino checkerspot butterfly",sciname:"Euphydryas editha quino (=E. e. wrighti)",spcode:"I00P",vipcode:"I01",entity_id:426,status:"Final",leadoffice:11430,fedreg:"74FR28776 28862",pubdate:"20090617",source_id:1078,objectid:123,listing_st:"Endangered",ch_id:753,ch_str_id:"a-753"},{comname:"Huachuca water-umbel",sciname:"Lilaeopsis schaffneriana var. recurva",spcode:"Q2PK",vipcode:"P01",entity_id:1030,status:"Final",leadoffice:22410,fedreg:"64FR37441 37453",pubdate:"19990712",source_id:14,objectid:5,listing_st:"Endangered",ch_id:754,ch_str_id:"a-754"},{comname:"Northern Mexican gartersnake",sciname:"Thamnophis eques megalops",spcode:"C04Q",vipcode:"V01",entity_id:1783,status:"Final",leadoffice:22410,fedreg:"86FR22518 22580",pubdate:"20210428",source_id:1526,objectid:302,listing_st:"Threatened",ch_id:754,ch_str_id:"a-754"},{comname:"Huachuca water-umbel",sciname:"Lilaeopsis schaffneriana var. recurva",spcode:"Q2PK",vipcode:"P01",entity_id:1030,status:"Final",leadoffice:22410,fedreg:"64FR37441 37453",pubdate:"19990712",source_id:14,objectid:5,listing_st:"Endangered",ch_id:755,ch_str_id:"a-755"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:755,ch_str_id:"a-755"},{comname:"Sacramento Mountains checkerspot Butterfly",sciname:"Euphydryas anicia cloudcrofti",spcode:"I0RK",vipcode:"I01",entity_id:1260,status:"Proposed",leadoffice:22420,fedreg:"88FR54263 54288",pubdate:"20230810",source_id:2077,objectid:782,listing_st:"Endangered",ch_id:756,ch_str_id:"a-756"},{comname:"Mexican spotted owl",sciname:"Strix occidentalis lucida",spcode:"B074",vipcode:"V01",entity_id:129,status:"Final",leadoffice:22410,fedreg:"69FR53182 53298",pubdate:"20040831",source_id:20,objectid:9,listing_st:"Threatened",ch_id:756,ch_str_id:"a-756"},{comname:"Sacramento Mountains checkerspot Butterfly",sciname:"Euphydryas anicia cloudcrofti",spcode:"I0RK",vipcode:"I01",entity_id:1260,status:"Proposed",leadoffice:22420,fedreg:"88FR54263 54288",pubdate:"20230810",source_id:2077,objectid:782,listing_st:"Endangered",ch_id:757,ch_str_id:"a-757"},{comname:"New Mexico meadow jumping mouse",sciname:"Zapus hudsonius luteus",spcode:"A0BX",vipcode:"V01",entity_id:5210,status:"Final",leadoffice:22420,fedreg:"81FR14263 14325",pubdate:"20160316",source_id:1510,objectid:294,listing_st:"Endangered",ch_id:757,ch_str_id:"a-757"},{comname:"beardless chinchweed",sciname:"Pectis imberbis",spcode:"Q2Q9",vipcode:"P01",entity_id:2884,status:"Final",leadoffice:22410,fedreg:"86FR31830 31868",pubdate:"20210615",source_id:1971,objectid:692,listing_st:"Endangered",ch_id:758,ch_str_id:"a-758"},{comname:"Northern Mexican gartersnake",sciname:"Thamnophis eques megalops",spcode:"C04Q",vipcode:"V01",entity_id:1783,status:"Final",leadoffice:22410,fedreg:"86FR22518 22580",pubdate:"20210428",source_id:1526,objectid:302,listing_st:"Threatened",ch_id:758,ch_str_id:"a-758"},{comname:"beardless chinchweed",sciname:"Pectis imberbis",spcode:"Q2Q9",vipcode:"P01",entity_id:2884,status:"Final",leadoffice:22410,fedreg:"86FR31830 31868",pubdate:"20210615",source_id:1971,objectid:692,listing_st:"Endangered",ch_id:759,ch_str_id:"a-759"},{comname:"Mexican spotted owl",sciname:"Strix occidentalis lucida",spcode:"B074",vipcode:"V01",entity_id:129,status:"Final",leadoffice:22410,fedreg:"69FR53182 53298",pubdate:"20040831",source_id:20,objectid:9,listing_st:"Threatened",ch_id:759,ch_str_id:"a-759"},{comname:"Madla Cave Meshweaver",sciname:"Cicurina madla",spcode:"J019",vipcode:"I01",entity_id:471,status:"Final",leadoffice:21450,fedreg:"77FR8450 8523",pubdate:"20120214",source_id:473,objectid:42,listing_st:"Endangered",ch_id:76,ch_str_id:"a-76"},{comname:"Bracted twistflower",sciname:"Streptanthus bracteatus",spcode:"Q1R7",vipcode:"P01",entity_id:1678,status:"Final",leadoffice:21450,fedreg:"88FR21844 21876",pubdate:"20230411",source_id:2020,objectid:739,listing_st:"Threatened",ch_id:76,ch_str_id:"a-76"},{comname:"[no common name] Beetle",sciname:"Rhadine infernalis",spcode:"I0P1",vipcode:"I01",entity_id:459,status:"Final",leadoffice:21450,fedreg:"77FR8450 8523",pubdate:"20120214",source_id:462,objectid:37,listing_st:"Endangered",ch_id:76,ch_str_id:"a-76"},{comname:"[no common name] Beetle",sciname:"Rhadine exilis",spcode:"I0RF",vipcode:"I01",entity_id:461,status:"Final",leadoffice:21450,fedreg:"77FR8450 8523",pubdate:"20120214",source_id:463,objectid:38,listing_st:"Endangered",ch_id:76,ch_str_id:"a-76"},{comname:"beardless chinchweed",sciname:"Pectis imberbis",spcode:"Q2Q9",vipcode:"P01",entity_id:2884,status:"Final",leadoffice:22410,fedreg:"86FR31830 31868",pubdate:"20210615",source_id:1971,objectid:692,listing_st:"Endangered",ch_id:760,ch_str_id:"a-760"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:760,ch_str_id:"a-760"},{comname:"Northern Mexican gartersnake",sciname:"Thamnophis eques megalops",spcode:"C04Q",vipcode:"V01",entity_id:1783,status:"Final",leadoffice:22410,fedreg:"86FR22518 22580",pubdate:"20210428",source_id:1526,objectid:302,listing_st:"Threatened",ch_id:761,ch_str_id:"a-761"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:761,ch_str_id:"a-761"},{comname:"Razorback sucker",sciname:"Xyrauchen texanus",spcode:"E054",vipcode:"V01",entity_id:290,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:715,objectid:63,listing_st:"Endangered",ch_id:761,ch_str_id:"a-761"},{comname:"Northern Mexican gartersnake",sciname:"Thamnophis eques megalops",spcode:"C04Q",vipcode:"V01",entity_id:1783,status:"Final",leadoffice:22410,fedreg:"86FR22518 22580",pubdate:"20210428",source_id:1526,objectid:302,listing_st:"Threatened",ch_id:762,ch_str_id:"a-762"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:762,ch_str_id:"a-762"},{comname:"Razorback sucker",sciname:"Xyrauchen texanus",spcode:"E054",vipcode:"V01",entity_id:290,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:715,objectid:63,listing_st:"Endangered",ch_id:762,ch_str_id:"a-762"},{comname:"Northern Mexican gartersnake",sciname:"Thamnophis eques megalops",spcode:"C04Q",vipcode:"V01",entity_id:1783,status:"Final",leadoffice:22410,fedreg:"86FR22518 22580",pubdate:"20210428",source_id:1526,objectid:302,listing_st:"Threatened",ch_id:763,ch_str_id:"a-763"},{comname:"Narrow-headed gartersnake",sciname:"Thamnophis rufipunctatus",spcode:"C051",vipcode:"V01",entity_id:3271,status:"Final",leadoffice:22410,fedreg:"86FR58474 58523",pubdate:"20211021",source_id:1527,objectid:303,listing_st:"Threatened",ch_id:763,ch_str_id:"a-763"},{comname:"Mount Graham red squirrel",sciname:"Tamiasciurus fremonti grahamensis",spcode:"A09O",vipcode:"V01",entity_id:43,status:"Final",leadoffice:22410,fedreg:"55FR425 429",pubdate:"19900105",source_id:21,objectid:10,listing_st:"Endangered",ch_id:764,ch_str_id:"a-764"},{comname:"Mexican spotted owl",sciname:"Strix occidentalis lucida",spcode:"B074",vipcode:"V01",entity_id:129,status:"Final",leadoffice:22410,fedreg:"69FR53182 53298",pubdate:"20040831",source_id:20,objectid:9,listing_st:"Threatened",ch_id:764,ch_str_id:"a-764"},{comname:"Tidewater goby",sciname:"Eucyclogobius newberryi",spcode:"E071",vipcode:"V01",entity_id:306,status:"Final",leadoffice:11440,fedreg:"78FR8745 8819",pubdate:"20130206",source_id:679,objectid:62,listing_st:"Endangered",ch_id:765,ch_str_id:"a-765"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:765,ch_str_id:"a-765"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:766,ch_str_id:"a-766"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:766,ch_str_id:"a-766"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:767,ch_str_id:"a-767"},{comname:"Mexican spotted owl",sciname:"Strix occidentalis lucida",spcode:"B074",vipcode:"V01",entity_id:129,status:"Final",leadoffice:22410,fedreg:"69FR53182 53298",pubdate:"20040831",source_id:20,objectid:9,listing_st:"Threatened",ch_id:767,ch_str_id:"a-767"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:768,ch_str_id:"a-768"},{comname:"Least Bell's vireo",sciname:"Vireo bellii pusillus",spcode:"B067",vipcode:"V01",entity_id:123,status:"Final",leadoffice:11430,fedreg:"59FR4845 4867",pubdate:"19940202",source_id:665,objectid:51,listing_st:"Endangered",ch_id:768,ch_str_id:"a-768"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:769,ch_str_id:"a-769"},{comname:"Arroyo (=arroyo southwestern) toad",sciname:"Anaxyrus californicus",spcode:"D020",vipcode:"V01",entity_id:204,status:"Final",leadoffice:11440,fedreg:"76FR7245 7467",pubdate:"20110209",source_id:656,objectid:44,listing_st:"Endangered",ch_id:769,ch_str_id:"a-769"},{comname:"Madla Cave Meshweaver",sciname:"Cicurina madla",spcode:"J019",vipcode:"I01",entity_id:471,status:"Final",leadoffice:21450,fedreg:"77FR8450 8523",pubdate:"20120214",source_id:473,objectid:42,listing_st:"Endangered",ch_id:77,ch_str_id:"a-77"},{comname:"Helotes mold beetle",sciname:"Batrisodes venyivi",spcode:"I0PT",vipcode:"I01",entity_id:460,status:"Final",leadoffice:21450,fedreg:"77FR8450 8523",pubdate:"20120214",source_id:472,objectid:41,listing_st:"Endangered",ch_id:77,ch_str_id:"a-77"},{comname:"[no common name] Beetle",sciname:"Rhadine infernalis",spcode:"I0P1",vipcode:"I01",entity_id:459,status:"Final",leadoffice:21450,fedreg:"77FR8450 8523",pubdate:"20120214",source_id:462,objectid:37,listing_st:"Endangered",ch_id:77,ch_str_id:"a-77"},{comname:"[no common name] Beetle",sciname:"Rhadine exilis",spcode:"I0RF",vipcode:"I01",entity_id:461,status:"Final",leadoffice:21450,fedreg:"77FR8450 8523",pubdate:"20120214",source_id:463,objectid:38,listing_st:"Endangered",ch_id:77,ch_str_id:"a-77"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:770,ch_str_id:"a-770"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:770,ch_str_id:"a-770"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:771,ch_str_id:"a-771"},{comname:"Narrow-headed gartersnake",sciname:"Thamnophis rufipunctatus",spcode:"C051",vipcode:"V01",entity_id:3271,status:"Final",leadoffice:22410,fedreg:"86FR58474 58523",pubdate:"20211021",source_id:1527,objectid:303,listing_st:"Threatened",ch_id:771,ch_str_id:"a-771"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:772,ch_str_id:"a-772"},{comname:"Quino checkerspot butterfly",sciname:"Euphydryas editha quino (=E. e. wrighti)",spcode:"I00P",vipcode:"I01",entity_id:426,status:"Final",leadoffice:11430,fedreg:"74FR28776 28862",pubdate:"20090617",source_id:1078,objectid:123,listing_st:"Endangered",ch_id:772,ch_str_id:"a-772"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:773,ch_str_id:"a-773"},{comname:"Riverside fairy shrimp",sciname:"Streptocephalus woottoni",spcode:"K03F",vipcode:"I01",entity_id:492,status:"Final",leadoffice:11430,fedreg:"77FR72069 72140",pubdate:"20121204",source_id:673,objectid:57,listing_st:"Endangered",ch_id:773,ch_str_id:"a-773"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:774,ch_str_id:"a-774"},{comname:"Least Bell's vireo",sciname:"Vireo bellii pusillus",spcode:"B067",vipcode:"V01",entity_id:123,status:"Final",leadoffice:11430,fedreg:"59FR4845 4867",pubdate:"19940202",source_id:665,objectid:51,listing_st:"Endangered",ch_id:774,ch_str_id:"a-774"},{comname:"San Diego ambrosia",sciname:"Ambrosia pumila",spcode:"Q01H",vipcode:"P01",entity_id:500,status:"Final",leadoffice:11430,fedreg:"75FR74546 74604",pubdate:"20101130",source_id:1364,objectid:239,listing_st:"Endangered",ch_id:774,ch_str_id:"a-774"},{comname:"Hermes copper butterfly",sciname:"Lycaena hermes",spcode:"I05C",vipcode:"I01",entity_id:1984,status:"Final",leadoffice:11430,fedreg:"86FR72394 72433",pubdate:"20211221",source_id:1975,objectid:693,listing_st:"Threatened",ch_id:774,ch_str_id:"a-774"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:774,ch_str_id:"a-774"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:775,ch_str_id:"a-775"},{comname:"Arroyo (=arroyo southwestern) toad",sciname:"Anaxyrus californicus",spcode:"D020",vipcode:"V01",entity_id:204,status:"Final",leadoffice:11440,fedreg:"76FR7245 7467",pubdate:"20110209",source_id:656,objectid:44,listing_st:"Endangered",ch_id:775,ch_str_id:"a-775"},{comname:"Mexican spotted owl",sciname:"Strix occidentalis lucida",spcode:"B074",vipcode:"V01",entity_id:129,status:"Final",leadoffice:22410,fedreg:"69FR53182 53298",pubdate:"20040831",source_id:20,objectid:9,listing_st:"Threatened",ch_id:776,ch_str_id:"a-776"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:776,ch_str_id:"a-776"},{comname:"Sonora chub",sciname:"Gila ditaenia",spcode:"E029",vipcode:"V01",entity_id:255,status:"Final",leadoffice:22410,fedreg:"51FR16042 16047",pubdate:"19860430",source_id:33,objectid:16,listing_st:"Threatened",ch_id:776,ch_str_id:"a-776"},{comname:"Mexican spotted owl",sciname:"Strix occidentalis lucida",spcode:"B074",vipcode:"V01",entity_id:129,status:"Final",leadoffice:22410,fedreg:"69FR53182 53298",pubdate:"20040831",source_id:20,objectid:9,listing_st:"Threatened",ch_id:777,ch_str_id:"a-777"},{comname:"New Mexico meadow jumping mouse",sciname:"Zapus hudsonius luteus",spcode:"A0BX",vipcode:"V01",entity_id:5210,status:"Final",leadoffice:22420,fedreg:"81FR14263 14325",pubdate:"20160316",source_id:1510,objectid:294,listing_st:"Endangered",ch_id:777,ch_str_id:"a-777"},{comname:"Wright's marsh thistle",sciname:"Cirsium wrightii",spcode:"Q3N3",vipcode:"P01",entity_id:9965,status:"Final",leadoffice:22420,fedreg:"88FR25208 25249",pubdate:"20230425",source_id:2054,objectid:772,listing_st:"Threatened",ch_id:777,ch_str_id:"a-777"},{comname:"Mexican spotted owl",sciname:"Strix occidentalis lucida",spcode:"B074",vipcode:"V01",entity_id:129,status:"Final",leadoffice:22410,fedreg:"69FR53182 53298",pubdate:"20040831",source_id:20,objectid:9,listing_st:"Threatened",ch_id:778,ch_str_id:"a-778"},{comname:"Narrow-headed gartersnake",sciname:"Thamnophis rufipunctatus",spcode:"C051",vipcode:"V01",entity_id:3271,status:"Final",leadoffice:22410,fedreg:"86FR58474 58523",pubdate:"20211021",source_id:1527,objectid:303,listing_st:"Threatened",ch_id:778,ch_str_id:"a-778"},{comname:"Texas wild-rice",sciname:"Zizania texana",spcode:"Q24A",vipcode:"P01",entity_id:870,status:"Final",leadoffice:21450,fedreg:"45FR47355 47364",pubdate:"19800714",source_id:380,objectid:34,listing_st:"Endangered",ch_id:78,ch_str_id:"a-78"},{comname:"Comal Springs riffle beetle",sciname:"Heterelmis comalensis",spcode:"I0MH",vipcode:"I01",entity_id:453,status:"Final",leadoffice:21450,fedreg:"78FR63100 63127",pubdate:"20131023",source_id:1323,objectid:210,listing_st:"Endangered",ch_id:78,ch_str_id:"a-78"},{comname:"San Marcos salamander",sciname:"Eurycea nana",spcode:"D00I",vipcode:"V01",entity_id:194,status:"Final",leadoffice:21450,fedreg:"45FR47355 47364",pubdate:"19800714",source_id:31,objectid:15,listing_st:"Threatened",ch_id:78,ch_str_id:"a-78"},{comname:"Fountain darter",sciname:"Etheostoma fonticola",spcode:"E00T",vipcode:"V01",entity_id:228,status:"Final",leadoffice:21450,fedreg:"45FR47355 47364",pubdate:"19800714",source_id:382,objectid:36,listing_st:"Endangered",ch_id:78,ch_str_id:"a-78"},{comname:"Quino checkerspot butterfly",sciname:"Euphydryas editha quino (=E. e. wrighti)",spcode:"I00P",vipcode:"I01",entity_id:426,status:"Final",leadoffice:11430,fedreg:"74FR28776 28862",pubdate:"20090617",source_id:1078,objectid:123,listing_st:"Endangered",ch_id:780,ch_str_id:"a-780"},{comname:"Riverside fairy shrimp",sciname:"Streptocephalus woottoni",spcode:"K03F",vipcode:"I01",entity_id:492,status:"Final",leadoffice:11430,fedreg:"77FR72069 72140",pubdate:"20121204",source_id:673,objectid:57,listing_st:"Endangered",ch_id:780,ch_str_id:"a-780"},{comname:"Quino checkerspot butterfly",sciname:"Euphydryas editha quino (=E. e. wrighti)",spcode:"I00P",vipcode:"I01",entity_id:426,status:"Final",leadoffice:11430,fedreg:"74FR28776 28862",pubdate:"20090617",source_id:1078,objectid:123,listing_st:"Endangered",ch_id:781,ch_str_id:"a-781"},{comname:"Least Bell's vireo",sciname:"Vireo bellii pusillus",spcode:"B067",vipcode:"V01",entity_id:123,status:"Final",leadoffice:11430,fedreg:"59FR4845 4867",pubdate:"19940202",source_id:665,objectid:51,listing_st:"Endangered",ch_id:781,ch_str_id:"a-781"},{comname:"Quino checkerspot butterfly",sciname:"Euphydryas editha quino (=E. e. wrighti)",spcode:"I00P",vipcode:"I01",entity_id:426,status:"Final",leadoffice:11430,fedreg:"74FR28776 28862",pubdate:"20090617",source_id:1078,objectid:123,listing_st:"Endangered",ch_id:782,ch_str_id:"a-782"},{comname:"Arroyo (=arroyo southwestern) toad",sciname:"Anaxyrus californicus",spcode:"D020",vipcode:"V01",entity_id:204,status:"Final",leadoffice:11440,fedreg:"76FR7245 7467",pubdate:"20110209",source_id:656,objectid:44,listing_st:"Endangered",ch_id:782,ch_str_id:"a-782"},{comname:"Least Bell's vireo",sciname:"Vireo bellii pusillus",spcode:"B067",vipcode:"V01",entity_id:123,status:"Final",leadoffice:11430,fedreg:"59FR4845 4867",pubdate:"19940202",source_id:665,objectid:51,listing_st:"Endangered",ch_id:783,ch_str_id:"a-783"},{comname:"Arroyo (=arroyo southwestern) toad",sciname:"Anaxyrus californicus",spcode:"D020",vipcode:"V01",entity_id:204,status:"Final",leadoffice:11440,fedreg:"76FR7245 7467",pubdate:"20110209",source_id:656,objectid:44,listing_st:"Endangered",ch_id:783,ch_str_id:"a-783"},{comname:"Louisiana Pigtoe",sciname:"Pleurobema riddellii",spcode:"Q3RF",vipcode:"I01",entity_id:11099,status:"Proposed",leadoffice:21420,fedreg:"88FR16776 16832",pubdate:"20230320",source_id:2052,objectid:770,listing_st:"Proposed Threatened",ch_id:784,ch_str_id:"a-784"},{comname:"Texas heelsplitter",sciname:"Potamilus amphichaenus",spcode:"F02K",vipcode:"I01",entity_id:5964,status:"Proposed",leadoffice:21420,fedreg:"88FR16776 16832",pubdate:"20230320",source_id:2053,objectid:771,listing_st:"Proposed Endangered",ch_id:784,ch_str_id:"a-784"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:785,ch_str_id:"a-785"},{comname:"Narrow-headed gartersnake",sciname:"Thamnophis rufipunctatus",spcode:"C051",vipcode:"V01",entity_id:3271,status:"Final",leadoffice:22410,fedreg:"86FR58474 58523",pubdate:"20211021",source_id:1527,objectid:303,listing_st:"Threatened",ch_id:785,ch_str_id:"a-785"},{comname:"Razorback sucker",sciname:"Xyrauchen texanus",spcode:"E054",vipcode:"V01",entity_id:290,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:715,objectid:63,listing_st:"Endangered",ch_id:785,ch_str_id:"a-785"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:786,ch_str_id:"a-786"},{comname:"salina mucket",sciname:"Potamilus metnecktayi",spcode:"F04A",vipcode:"I01",entity_id:9802,status:"Proposed",leadoffice:21450,fedreg:"88FR47952 47988",pubdate:"20230725",source_id:2089,objectid:807,listing_st:"Proposed Endangered",ch_id:786,ch_str_id:"a-786"},{comname:"Gila chub",sciname:"Gila intermedia",spcode:"E02P",vipcode:"V01",entity_id:6297,status:"Final",leadoffice:22410,fedreg:"70FR66664 66721",pubdate:"20051102",source_id:911,objectid:75,listing_st:"Endangered",ch_id:787,ch_str_id:"a-787"},{comname:"Jaguar",sciname:"Panthera onca",spcode:"A040",vipcode:"V01",entity_id:18,status:"Final",leadoffice:22410,fedreg:"89FR46822 46824",pubdate:"20240530",source_id:2010,objectid:730,listing_st:"Endangered",ch_id:787,ch_str_id:"a-787"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:787,ch_str_id:"a-787"},{comname:"Gila chub",sciname:"Gila intermedia",spcode:"E02P",vipcode:"V01",entity_id:6297,status:"Final",leadoffice:22410,fedreg:"70FR66664 66721",pubdate:"20051102",source_id:911,objectid:75,listing_st:"Endangered",ch_id:788,ch_str_id:"a-788"},{comname:"beardless chinchweed",sciname:"Pectis imberbis",spcode:"Q2Q9",vipcode:"P01",entity_id:2884,status:"Final",leadoffice:22410,fedreg:"86FR31830 31868",pubdate:"20210615",source_id:1971,objectid:692,listing_st:"Endangered",ch_id:788,ch_str_id:"a-788"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:788,ch_str_id:"a-788"},{comname:"Gila chub",sciname:"Gila intermedia",spcode:"E02P",vipcode:"V01",entity_id:6297,status:"Final",leadoffice:22410,fedreg:"70FR66664 66721",pubdate:"20051102",source_id:911,objectid:75,listing_st:"Endangered",ch_id:789,ch_str_id:"a-789"},{comname:"Northern Mexican gartersnake",sciname:"Thamnophis eques megalops",spcode:"C04Q",vipcode:"V01",entity_id:1783,status:"Final",leadoffice:22410,fedreg:"86FR22518 22580",pubdate:"20210428",source_id:1526,objectid:302,listing_st:"Threatened",ch_id:789,ch_str_id:"a-789"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:789,ch_str_id:"a-789"},{comname:"Pearl darter",sciname:"Percina aurora",spcode:"E07A",vipcode:"V01",entity_id:4431,status:"Final",leadoffice:43910,fedreg:"88FR20410 20430",pubdate:"20230406",source_id:2086,objectid:804,listing_st:"Threatened",ch_id:79,ch_str_id:"a-79"},{comname:"Gila chub",sciname:"Gila intermedia",spcode:"E02P",vipcode:"V01",entity_id:6297,status:"Final",leadoffice:22410,fedreg:"70FR66664 66721",pubdate:"20051102",source_id:911,objectid:75,listing_st:"Endangered",ch_id:790,ch_str_id:"a-790"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:790,ch_str_id:"a-790"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:790,ch_str_id:"a-790"},{comname:"Chiricahua leopard frog",sciname:"Rana chiricahuensis",spcode:"D02F",vipcode:"V01",entity_id:206,status:"Final",leadoffice:22410,fedreg:"77FR16324 16424",pubdate:"20120320",source_id:1454,objectid:261,listing_st:"Threatened",ch_id:791,ch_str_id:"a-791"},{comname:"Jaguar",sciname:"Panthera onca",spcode:"A040",vipcode:"V01",entity_id:18,status:"Final",leadoffice:22410,fedreg:"89FR46822 46824",pubdate:"20240530",source_id:2010,objectid:730,listing_st:"Endangered",ch_id:791,ch_str_id:"a-791"},{comname:"Mexican spotted owl",sciname:"Strix occidentalis lucida",spcode:"B074",vipcode:"V01",entity_id:129,status:"Final",leadoffice:22410,fedreg:"69FR53182 53298",pubdate:"20040831",source_id:20,objectid:9,listing_st:"Threatened",ch_id:791,ch_str_id:"a-791"},{comname:"Razorback sucker",sciname:"Xyrauchen texanus",spcode:"E054",vipcode:"V01",entity_id:290,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:715,objectid:63,listing_st:"Endangered",ch_id:792,ch_str_id:"a-792"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:792,ch_str_id:"a-792"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:792,ch_str_id:"a-792"},{comname:"Jaguar",sciname:"Panthera onca",spcode:"A040",vipcode:"V01",entity_id:18,status:"Final",leadoffice:22410,fedreg:"89FR46822 46824",pubdate:"20240530",source_id:2010,objectid:730,listing_st:"Endangered",ch_id:795,ch_str_id:"a-795"},{comname:"beardless chinchweed",sciname:"Pectis imberbis",spcode:"Q2Q9",vipcode:"P01",entity_id:2884,status:"Final",leadoffice:22410,fedreg:"86FR31830 31868",pubdate:"20210615",source_id:1971,objectid:692,listing_st:"Endangered",ch_id:795,ch_str_id:"a-795"},{comname:"Mexican spotted owl",sciname:"Strix occidentalis lucida",spcode:"B074",vipcode:"V01",entity_id:129,status:"Final",leadoffice:22410,fedreg:"69FR53182 53298",pubdate:"20040831",source_id:20,objectid:9,listing_st:"Threatened",ch_id:795,ch_str_id:"a-795"},{comname:"Jaguar",sciname:"Panthera onca",spcode:"A040",vipcode:"V01",entity_id:18,status:"Final",leadoffice:22410,fedreg:"89FR46822 46824",pubdate:"20240530",source_id:2010,objectid:730,listing_st:"Endangered",ch_id:796,ch_str_id:"a-796"},{comname:"Northern Mexican gartersnake",sciname:"Thamnophis eques megalops",spcode:"C04Q",vipcode:"V01",entity_id:1783,status:"Final",leadoffice:22410,fedreg:"86FR22518 22580",pubdate:"20210428",source_id:1526,objectid:302,listing_st:"Threatened",ch_id:796,ch_str_id:"a-796"},{comname:"Mexican spotted owl",sciname:"Strix occidentalis lucida",spcode:"B074",vipcode:"V01",entity_id:129,status:"Final",leadoffice:22410,fedreg:"69FR53182 53298",pubdate:"20040831",source_id:20,objectid:9,listing_st:"Threatened",ch_id:796,ch_str_id:"a-796"},{comname:"Huachuca water-umbel",sciname:"Lilaeopsis schaffneriana var. recurva",spcode:"Q2PK",vipcode:"P01",entity_id:1030,status:"Final",leadoffice:22410,fedreg:"64FR37441 37453",pubdate:"19990712",source_id:14,objectid:5,listing_st:"Endangered",ch_id:796,ch_str_id:"a-796"},{comname:"Jaguar",sciname:"Panthera onca",spcode:"A040",vipcode:"V01",entity_id:18,status:"Final",leadoffice:22410,fedreg:"89FR46822 46824",pubdate:"20240530",source_id:2010,objectid:730,listing_st:"Endangered",ch_id:797,ch_str_id:"a-797"},{comname:"Northern Mexican gartersnake",sciname:"Thamnophis eques megalops",spcode:"C04Q",vipcode:"V01",entity_id:1783,status:"Final",leadoffice:22410,fedreg:"86FR22518 22580",pubdate:"20210428",source_id:1526,objectid:302,listing_st:"Threatened",ch_id:797,ch_str_id:"a-797"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:797,ch_str_id:"a-797"},{comname:"Jaguar",sciname:"Panthera onca",spcode:"A040",vipcode:"V01",entity_id:18,status:"Final",leadoffice:22410,fedreg:"89FR46822 46824",pubdate:"20240530",source_id:2010,objectid:730,listing_st:"Endangered",ch_id:798,ch_str_id:"a-798"},{comname:"Mexican spotted owl",sciname:"Strix occidentalis lucida",spcode:"B074",vipcode:"V01",entity_id:129,status:"Final",leadoffice:22410,fedreg:"69FR53182 53298",pubdate:"20040831",source_id:20,objectid:9,listing_st:"Threatened",ch_id:798,ch_str_id:"a-798"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:798,ch_str_id:"a-798"},{comname:"Sonora chub",sciname:"Gila ditaenia",spcode:"E029",vipcode:"V01",entity_id:255,status:"Final",leadoffice:22410,fedreg:"51FR16042 16047",pubdate:"19860430",source_id:33,objectid:16,listing_st:"Threatened",ch_id:798,ch_str_id:"a-798"},{comname:"Willowy monardella",sciname:"Monardella viminea",spcode:"Q18M",vipcode:"P01",entity_id:576,status:"Final",leadoffice:11430,fedreg:"77FR13394 13447",pubdate:"20120306",source_id:1337,objectid:222,listing_st:"Endangered",ch_id:799,ch_str_id:"a-799"},{comname:"Hermes copper butterfly",sciname:"Lycaena hermes",spcode:"I05C",vipcode:"I01",entity_id:1984,status:"Final",leadoffice:11430,fedreg:"86FR72394 72433",pubdate:"20211221",source_id:1975,objectid:693,listing_st:"Threatened",ch_id:799,ch_str_id:"a-799"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:799,ch_str_id:"a-799"},{comname:"Guadalupe Fatmucket",sciname:"Lampsilis bergmanni",spcode:"F059",vipcode:"I01",entity_id:11578,status:"Final",leadoffice:21450,fedreg:"89FR48034 48130",pubdate:"20240604",source_id:2011,objectid:740,listing_st:"Endangered",ch_id:8,ch_str_id:"a-8"},{comname:"Mississippi sandhill crane",sciname:"Antigone canadensis pulla",spcode:"B04I",vipcode:"V01",entity_id:110,status:"Final",leadoffice:43910,fedreg:"42FR39985 39988",pubdate:"19770808",source_id:1362,objectid:238,listing_st:"Endangered",ch_id:80,ch_str_id:"a-80"},{comname:"Roswell springsnail",sciname:"Pyrgulopsis roswellensis",spcode:"G03T",vipcode:"I01",entity_id:1246,status:"Final",leadoffice:22420,fedreg:"76FR33036 33064",pubdate:"20110607",source_id:1381,objectid:251,listing_st:"Endangered",ch_id:800,ch_str_id:"a-800"},{comname:"Koster's springsnail",sciname:"Juturnia kosteri",spcode:"G04C",vipcode:"I01",entity_id:1247,status:"Final",leadoffice:22420,fedreg:"76FR33036 33064",pubdate:"20110607",source_id:1380,objectid:250,listing_st:"Endangered",ch_id:800,ch_str_id:"a-800"},{comname:"Noel's Amphipod",sciname:"Gammarus desperatus",spcode:"K023",vipcode:"I01",entity_id:1261,status:"Final",leadoffice:22420,fedreg:"76FR33036 33064",pubdate:"20110607",source_id:1379,objectid:249,listing_st:"Endangered",ch_id:800,ch_str_id:"a-800"},{comname:"San Diego fairy shrimp",sciname:"Branchinecta sandiegonensis",spcode:"K049",vipcode:"I01",entity_id:495,status:"Final",leadoffice:11430,fedreg:"72FR70648 70714",pubdate:"20071212",source_id:1171,objectid:185,listing_st:"Endangered",ch_id:801,ch_str_id:"a-801"},{comname:"Thread-leaved brodiaea",sciname:"Brodiaea filifolia",spcode:"Q09H",vipcode:"P01",entity_id:516,status:"Final",leadoffice:11430,fedreg:"76FR6848 6925",pubdate:"20110208",source_id:678,objectid:61,listing_st:"Threatened",ch_id:801,ch_str_id:"a-801"},{comname:"Spreading navarretia",sciname:"Navarretia fossalis",spcode:"Q2E7",vipcode:"P01",entity_id:972,status:"Final",leadoffice:11430,fedreg:"75FR62192 62255",pubdate:"20101007",source_id:910,objectid:74,listing_st:"Threatened",ch_id:801,ch_str_id:"a-801"},{comname:"San Diego fairy shrimp",sciname:"Branchinecta sandiegonensis",spcode:"K049",vipcode:"I01",entity_id:495,status:"Final",leadoffice:11430,fedreg:"72FR70648 70714",pubdate:"20071212",source_id:1171,objectid:185,listing_st:"Endangered",ch_id:802,ch_str_id:"a-802"},{comname:"Spreading navarretia",sciname:"Navarretia fossalis",spcode:"Q2E7",vipcode:"P01",entity_id:972,status:"Final",leadoffice:11430,fedreg:"75FR62192 62255",pubdate:"20101007",source_id:910,objectid:74,listing_st:"Threatened",ch_id:802,ch_str_id:"a-802"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:802,ch_str_id:"a-802"},{comname:"San Diego fairy shrimp",sciname:"Branchinecta sandiegonensis",spcode:"K049",vipcode:"I01",entity_id:495,status:"Final",leadoffice:11430,fedreg:"72FR70648 70714",pubdate:"20071212",source_id:1171,objectid:185,listing_st:"Endangered",ch_id:803,ch_str_id:"a-803"},{comname:"Spreading navarretia",sciname:"Navarretia fossalis",spcode:"Q2E7",vipcode:"P01",entity_id:972,status:"Final",leadoffice:11430,fedreg:"75FR62192 62255",pubdate:"20101007",source_id:910,objectid:74,listing_st:"Threatened",ch_id:803,ch_str_id:"a-803"},{comname:"Quino checkerspot butterfly",sciname:"Euphydryas editha quino (=E. e. wrighti)",spcode:"I00P",vipcode:"I01",entity_id:426,status:"Final",leadoffice:11430,fedreg:"74FR28776 28862",pubdate:"20090617",source_id:1078,objectid:123,listing_st:"Endangered",ch_id:803,ch_str_id:"a-803"},{comname:"San Diego fairy shrimp",sciname:"Branchinecta sandiegonensis",spcode:"K049",vipcode:"I01",entity_id:495,status:"Final",leadoffice:11430,fedreg:"72FR70648 70714",pubdate:"20071212",source_id:1171,objectid:185,listing_st:"Endangered",ch_id:804,ch_str_id:"a-804"},{comname:"Spreading navarretia",sciname:"Navarretia fossalis",spcode:"Q2E7",vipcode:"P01",entity_id:972,status:"Final",leadoffice:11430,fedreg:"75FR62192 62255",pubdate:"20101007",source_id:910,objectid:74,listing_st:"Threatened",ch_id:804,ch_str_id:"a-804"},{comname:"Riverside fairy shrimp",sciname:"Streptocephalus woottoni",spcode:"K03F",vipcode:"I01",entity_id:492,status:"Final",leadoffice:11430,fedreg:"77FR72069 72140",pubdate:"20121204",source_id:673,objectid:57,listing_st:"Endangered",ch_id:804,ch_str_id:"a-804"},{comname:"San Diego fairy shrimp",sciname:"Branchinecta sandiegonensis",spcode:"K049",vipcode:"I01",entity_id:495,status:"Final",leadoffice:11430,fedreg:"72FR70648 70714",pubdate:"20071212",source_id:1171,objectid:185,listing_st:"Endangered",ch_id:805,ch_str_id:"a-805"},{comname:"Spreading navarretia",sciname:"Navarretia fossalis",spcode:"Q2E7",vipcode:"P01",entity_id:972,status:"Final",leadoffice:11430,fedreg:"75FR62192 62255",pubdate:"20101007",source_id:910,objectid:74,listing_st:"Threatened",ch_id:805,ch_str_id:"a-805"},{comname:"Arroyo (=arroyo southwestern) toad",sciname:"Anaxyrus californicus",spcode:"D020",vipcode:"V01",entity_id:204,status:"Final",leadoffice:11440,fedreg:"76FR7245 7467",pubdate:"20110209",source_id:656,objectid:44,listing_st:"Endangered",ch_id:805,ch_str_id:"a-805"},{comname:"San Diego fairy shrimp",sciname:"Branchinecta sandiegonensis",spcode:"K049",vipcode:"I01",entity_id:495,status:"Final",leadoffice:11430,fedreg:"72FR70648 70714",pubdate:"20071212",source_id:1171,objectid:185,listing_st:"Endangered",ch_id:806,ch_str_id:"a-806"},{comname:"Quino checkerspot butterfly",sciname:"Euphydryas editha quino (=E. e. wrighti)",spcode:"I00P",vipcode:"I01",entity_id:426,status:"Final",leadoffice:11430,fedreg:"74FR28776 28862",pubdate:"20090617",source_id:1078,objectid:123,listing_st:"Endangered",ch_id:806,ch_str_id:"a-806"},{comname:"Riverside fairy shrimp",sciname:"Streptocephalus woottoni",spcode:"K03F",vipcode:"I01",entity_id:492,status:"Final",leadoffice:11430,fedreg:"77FR72069 72140",pubdate:"20121204",source_id:673,objectid:57,listing_st:"Endangered",ch_id:806,ch_str_id:"a-806"},{comname:"San Diego fairy shrimp",sciname:"Branchinecta sandiegonensis",spcode:"K049",vipcode:"I01",entity_id:495,status:"Final",leadoffice:11430,fedreg:"72FR70648 70714",pubdate:"20071212",source_id:1171,objectid:185,listing_st:"Endangered",ch_id:807,ch_str_id:"a-807"},{comname:"Quino checkerspot butterfly",sciname:"Euphydryas editha quino (=E. e. wrighti)",spcode:"I00P",vipcode:"I01",entity_id:426,status:"Final",leadoffice:11430,fedreg:"74FR28776 28862",pubdate:"20090617",source_id:1078,objectid:123,listing_st:"Endangered",ch_id:807,ch_str_id:"a-807"},{comname:"Arroyo (=arroyo southwestern) toad",sciname:"Anaxyrus californicus",spcode:"D020",vipcode:"V01",entity_id:204,status:"Final",leadoffice:11440,fedreg:"76FR7245 7467",pubdate:"20110209",source_id:656,objectid:44,listing_st:"Endangered",ch_id:807,ch_str_id:"a-807"},{comname:"San Diego thornmint",sciname:"Acanthomintha ilicifolia",spcode:"Q00E",vipcode:"P01",entity_id:496,status:"Final",leadoffice:11430,fedreg:"73FR50454 50496",pubdate:"20080826",source_id:1335,objectid:220,listing_st:"Threatened",ch_id:808,ch_str_id:"a-808"},{comname:"Hermes copper butterfly",sciname:"Lycaena hermes",spcode:"I05C",vipcode:"I01",entity_id:1984,status:"Final",leadoffice:11430,fedreg:"86FR72394 72433",pubdate:"20211221",source_id:1975,objectid:693,listing_st:"Threatened",ch_id:808,ch_str_id:"a-808"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:808,ch_str_id:"a-808"},{comname:"San Diego thornmint",sciname:"Acanthomintha ilicifolia",spcode:"Q00E",vipcode:"P01",entity_id:496,status:"Final",leadoffice:11430,fedreg:"73FR50454 50496",pubdate:"20080826",source_id:1335,objectid:220,listing_st:"Threatened",ch_id:809,ch_str_id:"a-809"},{comname:"Hermes copper butterfly",sciname:"Lycaena hermes",spcode:"I05C",vipcode:"I01",entity_id:1984,status:"Final",leadoffice:11430,fedreg:"86FR72394 72433",pubdate:"20211221",source_id:1975,objectid:693,listing_st:"Threatened",ch_id:809,ch_str_id:"a-809"},{comname:"Quino checkerspot butterfly",sciname:"Euphydryas editha quino (=E. e. wrighti)",spcode:"I00P",vipcode:"I01",entity_id:426,status:"Final",leadoffice:11430,fedreg:"74FR28776 28862",pubdate:"20090617",source_id:1078,objectid:123,listing_st:"Endangered",ch_id:809,ch_str_id:"a-809"},{comname:"Florida Keys mole skink",sciname:"Plestiodon egregius egregius",spcode:"C03U",vipcode:"V01",entity_id:2238,status:"Proposed",leadoffice:40120,fedreg:"87FR58649",pubdate:"20220927",source_id:2042,objectid:760,listing_st:"Proposed Threatened",ch_id:81,ch_str_id:"a-81"},{comname:"Florida semaphore Cactus",sciname:"Consolea corallicola",spcode:"Q3HT",vipcode:"P01",entity_id:1525,status:"Final",leadoffice:41411,fedreg:"81FR3865 3925",pubdate:"20160122",source_id:1963,objectid:688,listing_st:"Endangered",ch_id:81,ch_str_id:"a-81"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:81,ch_str_id:"a-81"},{comname:"Cape Sable Thoroughwort",sciname:"Chromolaena frustrata",spcode:"Q3HJ",vipcode:"P01",entity_id:8336,status:"Final",leadoffice:41411,fedreg:"79FR1551 1590",pubdate:"20140108",source_id:1534,objectid:308,listing_st:"Endangered",ch_id:81,ch_str_id:"a-81"},{comname:"Key ring-necked snake",sciname:"Diadophis punctatus acricus",spcode:"C040",vipcode:"V01",entity_id:2084,status:"Proposed",leadoffice:41411,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2047,objectid:765,listing_st:"Proposed Endangered",ch_id:81,ch_str_id:"a-81"},{comname:"San Diego ambrosia",sciname:"Ambrosia pumila",spcode:"Q01H",vipcode:"P01",entity_id:500,status:"Final",leadoffice:11430,fedreg:"75FR74546 74604",pubdate:"20101130",source_id:1364,objectid:239,listing_st:"Endangered",ch_id:810,ch_str_id:"a-810"},{comname:"Hermes copper butterfly",sciname:"Lycaena hermes",spcode:"I05C",vipcode:"I01",entity_id:1984,status:"Final",leadoffice:11430,fedreg:"86FR72394 72433",pubdate:"20211221",source_id:1975,objectid:693,listing_st:"Threatened",ch_id:810,ch_str_id:"a-810"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:810,ch_str_id:"a-810"},{comname:"San Diego ambrosia",sciname:"Ambrosia pumila",spcode:"Q01H",vipcode:"P01",entity_id:500,status:"Final",leadoffice:11430,fedreg:"75FR74546 74604",pubdate:"20101130",source_id:1364,objectid:239,listing_st:"Endangered",ch_id:811,ch_str_id:"a-811"},{comname:"Hermes copper butterfly",sciname:"Lycaena hermes",spcode:"I05C",vipcode:"I01",entity_id:1984,status:"Final",leadoffice:11430,fedreg:"86FR72394 72433",pubdate:"20211221",source_id:1975,objectid:693,listing_st:"Threatened",ch_id:811,ch_str_id:"a-811"},{comname:"Least Bell's vireo",sciname:"Vireo bellii pusillus",spcode:"B067",vipcode:"V01",entity_id:123,status:"Final",leadoffice:11430,fedreg:"59FR4845 4867",pubdate:"19940202",source_id:665,objectid:51,listing_st:"Endangered",ch_id:811,ch_str_id:"a-811"},{comname:"San Diego ambrosia",sciname:"Ambrosia pumila",spcode:"Q01H",vipcode:"P01",entity_id:500,status:"Final",leadoffice:11430,fedreg:"75FR74546 74604",pubdate:"20101130",source_id:1364,objectid:239,listing_st:"Endangered",ch_id:812,ch_str_id:"a-812"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:812,ch_str_id:"a-812"},{comname:"Arroyo (=arroyo southwestern) toad",sciname:"Anaxyrus californicus",spcode:"D020",vipcode:"V01",entity_id:204,status:"Final",leadoffice:11440,fedreg:"76FR7245 7467",pubdate:"20110209",source_id:656,objectid:44,listing_st:"Endangered",ch_id:812,ch_str_id:"a-812"},{comname:"Least Bell's vireo",sciname:"Vireo bellii pusillus",spcode:"B067",vipcode:"V01",entity_id:123,status:"Final",leadoffice:11430,fedreg:"59FR4845 4867",pubdate:"19940202",source_id:665,objectid:51,listing_st:"Endangered",ch_id:812,ch_str_id:"a-812"},{comname:"Otay tarplant",sciname:"Deinandra (=Hemizonia) conjugens",spcode:"Q0YQ",vipcode:"P01",entity_id:559,status:"Final",leadoffice:11430,fedreg:"67FR76030 76053",pubdate:"20021210",source_id:667,objectid:53,listing_st:"Threatened",ch_id:813,ch_str_id:"a-813"},{comname:"Hermes copper butterfly",sciname:"Lycaena hermes",spcode:"I05C",vipcode:"I01",entity_id:1984,status:"Final",leadoffice:11430,fedreg:"86FR72394 72433",pubdate:"20211221",source_id:1975,objectid:693,listing_st:"Threatened",ch_id:813,ch_str_id:"a-813"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:813,ch_str_id:"a-813"},{comname:"Otay tarplant",sciname:"Deinandra (=Hemizonia) conjugens",spcode:"Q0YQ",vipcode:"P01",entity_id:559,status:"Final",leadoffice:11430,fedreg:"67FR76030 76053",pubdate:"20021210",source_id:667,objectid:53,listing_st:"Threatened",ch_id:814,ch_str_id:"a-814"},{comname:"Spreading navarretia",sciname:"Navarretia fossalis",spcode:"Q2E7",vipcode:"P01",entity_id:972,status:"Final",leadoffice:11430,fedreg:"75FR62192 62255",pubdate:"20101007",source_id:910,objectid:74,listing_st:"Threatened",ch_id:814,ch_str_id:"a-814"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:814,ch_str_id:"a-814"},{comname:"Otay tarplant",sciname:"Deinandra (=Hemizonia) conjugens",spcode:"Q0YQ",vipcode:"P01",entity_id:559,status:"Final",leadoffice:11430,fedreg:"67FR76030 76053",pubdate:"20021210",source_id:667,objectid:53,listing_st:"Threatened",ch_id:815,ch_str_id:"a-815"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:815,ch_str_id:"a-815"},{comname:"Quino checkerspot butterfly",sciname:"Euphydryas editha quino (=E. e. wrighti)",spcode:"I00P",vipcode:"I01",entity_id:426,status:"Final",leadoffice:11430,fedreg:"74FR28776 28862",pubdate:"20090617",source_id:1078,objectid:123,listing_st:"Endangered",ch_id:815,ch_str_id:"a-815"},{comname:"Spreading navarretia",sciname:"Navarretia fossalis",spcode:"Q2E7",vipcode:"P01",entity_id:972,status:"Final",leadoffice:11430,fedreg:"75FR62192 62255",pubdate:"20101007",source_id:910,objectid:74,listing_st:"Threatened",ch_id:815,ch_str_id:"a-815"},{comname:"Otay tarplant",sciname:"Deinandra (=Hemizonia) conjugens",spcode:"Q0YQ",vipcode:"P01",entity_id:559,status:"Final",leadoffice:11430,fedreg:"67FR76030 76053",pubdate:"20021210",source_id:667,objectid:53,listing_st:"Threatened",ch_id:816,ch_str_id:"a-816"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:816,ch_str_id:"a-816"},{comname:"Least Bell's vireo",sciname:"Vireo bellii pusillus",spcode:"B067",vipcode:"V01",entity_id:123,status:"Final",leadoffice:11430,fedreg:"59FR4845 4867",pubdate:"19940202",source_id:665,objectid:51,listing_st:"Endangered",ch_id:816,ch_str_id:"a-816"},{comname:"Hermes copper butterfly",sciname:"Lycaena hermes",spcode:"I05C",vipcode:"I01",entity_id:1984,status:"Final",leadoffice:11430,fedreg:"86FR72394 72433",pubdate:"20211221",source_id:1975,objectid:693,listing_st:"Threatened",ch_id:817,ch_str_id:"a-817"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:817,ch_str_id:"a-817"},{comname:"Least Bell's vireo",sciname:"Vireo bellii pusillus",spcode:"B067",vipcode:"V01",entity_id:123,status:"Final",leadoffice:11430,fedreg:"59FR4845 4867",pubdate:"19940202",source_id:665,objectid:51,listing_st:"Endangered",ch_id:817,ch_str_id:"a-817"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:817,ch_str_id:"a-817"},{comname:"Huachuca water-umbel",sciname:"Lilaeopsis schaffneriana var. recurva",spcode:"Q2PK",vipcode:"P01",entity_id:1030,status:"Final",leadoffice:22410,fedreg:"64FR37441 37453",pubdate:"19990712",source_id:14,objectid:5,listing_st:"Endangered",ch_id:818,ch_str_id:"a-818"},{comname:"Northern Mexican gartersnake",sciname:"Thamnophis eques megalops",spcode:"C04Q",vipcode:"V01",entity_id:1783,status:"Final",leadoffice:22410,fedreg:"86FR22518 22580",pubdate:"20210428",source_id:1526,objectid:302,listing_st:"Threatened",ch_id:818,ch_str_id:"a-818"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:818,ch_str_id:"a-818"},{comname:"Sacramento Mountains checkerspot Butterfly",sciname:"Euphydryas anicia cloudcrofti",spcode:"I0RK",vipcode:"I01",entity_id:1260,status:"Proposed",leadoffice:22420,fedreg:"88FR54263 54288",pubdate:"20230810",source_id:2077,objectid:782,listing_st:"Endangered",ch_id:819,ch_str_id:"a-819"},{comname:"Mexican spotted owl",sciname:"Strix occidentalis lucida",spcode:"B074",vipcode:"V01",entity_id:129,status:"Final",leadoffice:22410,fedreg:"69FR53182 53298",pubdate:"20040831",source_id:20,objectid:9,listing_st:"Threatened",ch_id:819,ch_str_id:"a-819"},{comname:"New Mexico meadow jumping mouse",sciname:"Zapus hudsonius luteus",spcode:"A0BX",vipcode:"V01",entity_id:5210,status:"Final",leadoffice:22420,fedreg:"81FR14263 14325",pubdate:"20160316",source_id:1510,objectid:294,listing_st:"Endangered",ch_id:819,ch_str_id:"a-819"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:82,ch_str_id:"a-82"},{comname:"Florida bristle fern",sciname:"Trichomanes punctatum ssp. floridanum",spcode:"S02G",vipcode:"P01",entity_id:9721,status:"Final",leadoffice:41411,fedreg:"87FR78582 78610",pubdate:"20221222",source_id:2049,objectid:767,listing_st:"Endangered",ch_id:82,ch_str_id:"a-82"},{comname:"Florida bonneted bat",sciname:"Eumops floridanus",spcode:"A0JB",vipcode:"V01",entity_id:9725,status:"Final",leadoffice:41411,fedreg:"89FR16624 16681",pubdate:"20240307",source_id:1979,objectid:697,listing_st:"Endangered",ch_id:82,ch_str_id:"a-82"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:82,ch_str_id:"a-82"},{comname:"Florida brickell-bush",sciname:"Brickellia mosieri",spcode:"Q09E",vipcode:"P01",entity_id:4420,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1532,objectid:307,listing_st:"Endangered",ch_id:82,ch_str_id:"a-82"},{comname:"Carter's small-flowered flax",sciname:"Linum carteri carteri",spcode:"Q14I",vipcode:"P01",entity_id:7206,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1539,objectid:312,listing_st:"Endangered",ch_id:82,ch_str_id:"a-82"},{comname:"beardless chinchweed",sciname:"Pectis imberbis",spcode:"Q2Q9",vipcode:"P01",entity_id:2884,status:"Final",leadoffice:22410,fedreg:"86FR31830 31868",pubdate:"20210615",source_id:1971,objectid:692,listing_st:"Endangered",ch_id:820,ch_str_id:"a-820"},{comname:"Northern Mexican gartersnake",sciname:"Thamnophis eques megalops",spcode:"C04Q",vipcode:"V01",entity_id:1783,status:"Final",leadoffice:22410,fedreg:"86FR22518 22580",pubdate:"20210428",source_id:1526,objectid:302,listing_st:"Threatened",ch_id:820,ch_str_id:"a-820"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:820,ch_str_id:"a-820"},{comname:"Northern Mexican gartersnake",sciname:"Thamnophis eques megalops",spcode:"C04Q",vipcode:"V01",entity_id:1783,status:"Final",leadoffice:22410,fedreg:"86FR22518 22580",pubdate:"20210428",source_id:1526,objectid:302,listing_st:"Threatened",ch_id:821,ch_str_id:"a-821"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:821,ch_str_id:"a-821"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:821,ch_str_id:"a-821"},{comname:"Razorback sucker",sciname:"Xyrauchen texanus",spcode:"E054",vipcode:"V01",entity_id:290,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:715,objectid:63,listing_st:"Endangered",ch_id:821,ch_str_id:"a-821"},{comname:"Northern Mexican gartersnake",sciname:"Thamnophis eques megalops",spcode:"C04Q",vipcode:"V01",entity_id:1783,status:"Final",leadoffice:22410,fedreg:"86FR22518 22580",pubdate:"20210428",source_id:1526,objectid:302,listing_st:"Threatened",ch_id:822,ch_str_id:"a-822"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:822,ch_str_id:"a-822"},{comname:"Narrow-headed gartersnake",sciname:"Thamnophis rufipunctatus",spcode:"C051",vipcode:"V01",entity_id:3271,status:"Final",leadoffice:22410,fedreg:"86FR58474 58523",pubdate:"20211021",source_id:1527,objectid:303,listing_st:"Threatened",ch_id:822,ch_str_id:"a-822"},{comname:"Northern Mexican gartersnake",sciname:"Thamnophis eques megalops",spcode:"C04Q",vipcode:"V01",entity_id:1783,status:"Final",leadoffice:22410,fedreg:"86FR22518 22580",pubdate:"20210428",source_id:1526,objectid:302,listing_st:"Threatened",ch_id:823,ch_str_id:"a-823"},{comname:"Arizona eryngo",sciname:"Eryngium sparganophyllum",spcode:"Q3ST",vipcode:"P01",entity_id:11513,status:"Final",leadoffice:22410,fedreg:"87FR35431",pubdate:"20220610",source_id:1995,objectid:713,listing_st:"Endangered",ch_id:823,ch_str_id:"a-823"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:823,ch_str_id:"a-823"},{comname:"Northern Mexican gartersnake",sciname:"Thamnophis eques megalops",spcode:"C04Q",vipcode:"V01",entity_id:1783,status:"Final",leadoffice:22410,fedreg:"86FR22518 22580",pubdate:"20210428",source_id:1526,objectid:302,listing_st:"Threatened",ch_id:824,ch_str_id:"a-824"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:824,ch_str_id:"a-824"},{comname:"Narrow-headed gartersnake",sciname:"Thamnophis rufipunctatus",spcode:"C051",vipcode:"V01",entity_id:3271,status:"Final",leadoffice:22410,fedreg:"86FR58474 58523",pubdate:"20211021",source_id:1527,objectid:303,listing_st:"Threatened",ch_id:824,ch_str_id:"a-824"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:825,ch_str_id:"a-825"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:825,ch_str_id:"a-825"},{comname:"Least Bell's vireo",sciname:"Vireo bellii pusillus",spcode:"B067",vipcode:"V01",entity_id:123,status:"Final",leadoffice:11430,fedreg:"59FR4845 4867",pubdate:"19940202",source_id:665,objectid:51,listing_st:"Endangered",ch_id:825,ch_str_id:"a-825"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:826,ch_str_id:"a-826"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:826,ch_str_id:"a-826"},{comname:"Arroyo (=arroyo southwestern) toad",sciname:"Anaxyrus californicus",spcode:"D020",vipcode:"V01",entity_id:204,status:"Final",leadoffice:11440,fedreg:"76FR7245 7467",pubdate:"20110209",source_id:656,objectid:44,listing_st:"Endangered",ch_id:826,ch_str_id:"a-826"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:827,ch_str_id:"a-827"},{comname:"Least Bell's vireo",sciname:"Vireo bellii pusillus",spcode:"B067",vipcode:"V01",entity_id:123,status:"Final",leadoffice:11430,fedreg:"59FR4845 4867",pubdate:"19940202",source_id:665,objectid:51,listing_st:"Endangered",ch_id:827,ch_str_id:"a-827"},{comname:"Arroyo (=arroyo southwestern) toad",sciname:"Anaxyrus californicus",spcode:"D020",vipcode:"V01",entity_id:204,status:"Final",leadoffice:11440,fedreg:"76FR7245 7467",pubdate:"20110209",source_id:656,objectid:44,listing_st:"Endangered",ch_id:827,ch_str_id:"a-827"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:828,ch_str_id:"a-828"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:828,ch_str_id:"a-828"},{comname:"Narrow-headed gartersnake",sciname:"Thamnophis rufipunctatus",spcode:"C051",vipcode:"V01",entity_id:3271,status:"Final",leadoffice:22410,fedreg:"86FR58474 58523",pubdate:"20211021",source_id:1527,objectid:303,listing_st:"Threatened",ch_id:828,ch_str_id:"a-828"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:829,ch_str_id:"a-829"},{comname:"Quino checkerspot butterfly",sciname:"Euphydryas editha quino (=E. e. wrighti)",spcode:"I00P",vipcode:"I01",entity_id:426,status:"Final",leadoffice:11430,fedreg:"74FR28776 28862",pubdate:"20090617",source_id:1078,objectid:123,listing_st:"Endangered",ch_id:829,ch_str_id:"a-829"},{comname:"Least Bell's vireo",sciname:"Vireo bellii pusillus",spcode:"B067",vipcode:"V01",entity_id:123,status:"Final",leadoffice:11430,fedreg:"59FR4845 4867",pubdate:"19940202",source_id:665,objectid:51,listing_st:"Endangered",ch_id:829,ch_str_id:"a-829"},{comname:"Black pinesnake",sciname:"Pituophis melanoleucus lodingi",spcode:"C029",vipcode:"V01",entity_id:6097,status:"Final",leadoffice:43910,fedreg:"85FR11238 11270",pubdate:"20200226",source_id:1978,objectid:696,listing_st:"Threatened",ch_id:83,ch_str_id:"a-83"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:830,ch_str_id:"a-830"},{comname:"Least Bell's vireo",sciname:"Vireo bellii pusillus",spcode:"B067",vipcode:"V01",entity_id:123,status:"Final",leadoffice:11430,fedreg:"59FR4845 4867",pubdate:"19940202",source_id:665,objectid:51,listing_st:"Endangered",ch_id:830,ch_str_id:"a-830"},{comname:"Arroyo (=arroyo southwestern) toad",sciname:"Anaxyrus californicus",spcode:"D020",vipcode:"V01",entity_id:204,status:"Final",leadoffice:11440,fedreg:"76FR7245 7467",pubdate:"20110209",source_id:656,objectid:44,listing_st:"Endangered",ch_id:830,ch_str_id:"a-830"},{comname:"Gila chub",sciname:"Gila intermedia",spcode:"E02P",vipcode:"V01",entity_id:6297,status:"Final",leadoffice:22410,fedreg:"70FR66664 66721",pubdate:"20051102",source_id:911,objectid:75,listing_st:"Endangered",ch_id:831,ch_str_id:"a-831"},{comname:"beardless chinchweed",sciname:"Pectis imberbis",spcode:"Q2Q9",vipcode:"P01",entity_id:2884,status:"Final",leadoffice:22410,fedreg:"86FR31830 31868",pubdate:"20210615",source_id:1971,objectid:692,listing_st:"Endangered",ch_id:831,ch_str_id:"a-831"},{comname:"Northern Mexican gartersnake",sciname:"Thamnophis eques megalops",spcode:"C04Q",vipcode:"V01",entity_id:1783,status:"Final",leadoffice:22410,fedreg:"86FR22518 22580",pubdate:"20210428",source_id:1526,objectid:302,listing_st:"Threatened",ch_id:831,ch_str_id:"a-831"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:831,ch_str_id:"a-831"},{comname:"Gila chub",sciname:"Gila intermedia",spcode:"E02P",vipcode:"V01",entity_id:6297,status:"Final",leadoffice:22410,fedreg:"70FR66664 66721",pubdate:"20051102",source_id:911,objectid:75,listing_st:"Endangered",ch_id:832,ch_str_id:"a-832"},{comname:"Northern Mexican gartersnake",sciname:"Thamnophis eques megalops",spcode:"C04Q",vipcode:"V01",entity_id:1783,status:"Final",leadoffice:22410,fedreg:"86FR22518 22580",pubdate:"20210428",source_id:1526,objectid:302,listing_st:"Threatened",ch_id:832,ch_str_id:"a-832"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:832,ch_str_id:"a-832"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:832,ch_str_id:"a-832"},{comname:"Chiricahua leopard frog",sciname:"Rana chiricahuensis",spcode:"D02F",vipcode:"V01",entity_id:206,status:"Final",leadoffice:22410,fedreg:"77FR16324 16424",pubdate:"20120320",source_id:1454,objectid:261,listing_st:"Threatened",ch_id:833,ch_str_id:"a-833"},{comname:"Jaguar",sciname:"Panthera onca",spcode:"A040",vipcode:"V01",entity_id:18,status:"Final",leadoffice:22410,fedreg:"89FR46822 46824",pubdate:"20240530",source_id:2010,objectid:730,listing_st:"Endangered",ch_id:833,ch_str_id:"a-833"},{comname:"Mexican spotted owl",sciname:"Strix occidentalis lucida",spcode:"B074",vipcode:"V01",entity_id:129,status:"Final",leadoffice:22410,fedreg:"69FR53182 53298",pubdate:"20040831",source_id:20,objectid:9,listing_st:"Threatened",ch_id:833,ch_str_id:"a-833"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:833,ch_str_id:"a-833"},{comname:"Chiricahua leopard frog",sciname:"Rana chiricahuensis",spcode:"D02F",vipcode:"V01",entity_id:206,status:"Final",leadoffice:22410,fedreg:"77FR16324 16424",pubdate:"20120320",source_id:1454,objectid:261,listing_st:"Threatened",ch_id:834,ch_str_id:"a-834"},{comname:"Northern Mexican gartersnake",sciname:"Thamnophis eques megalops",spcode:"C04Q",vipcode:"V01",entity_id:1783,status:"Final",leadoffice:22410,fedreg:"86FR22518 22580",pubdate:"20210428",source_id:1526,objectid:302,listing_st:"Threatened",ch_id:834,ch_str_id:"a-834"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:834,ch_str_id:"a-834"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:834,ch_str_id:"a-834"},{comname:"Wright's marsh thistle",sciname:"Cirsium wrightii",spcode:"Q3N3",vipcode:"P01",entity_id:9965,status:"Final",leadoffice:22420,fedreg:"88FR25208 25249",pubdate:"20230425",source_id:2054,objectid:772,listing_st:"Threatened",ch_id:835,ch_str_id:"a-835"},{comname:"Roswell springsnail",sciname:"Pyrgulopsis roswellensis",spcode:"G03T",vipcode:"I01",entity_id:1246,status:"Final",leadoffice:22420,fedreg:"76FR33036 33064",pubdate:"20110607",source_id:1381,objectid:251,listing_st:"Endangered",ch_id:835,ch_str_id:"a-835"},{comname:"Koster's springsnail",sciname:"Juturnia kosteri",spcode:"G04C",vipcode:"I01",entity_id:1247,status:"Final",leadoffice:22420,fedreg:"76FR33036 33064",pubdate:"20110607",source_id:1380,objectid:250,listing_st:"Endangered",ch_id:835,ch_str_id:"a-835"},{comname:"Noel's Amphipod",sciname:"Gammarus desperatus",spcode:"K023",vipcode:"I01",entity_id:1261,status:"Final",leadoffice:22420,fedreg:"76FR33036 33064",pubdate:"20110607",source_id:1379,objectid:249,listing_st:"Endangered",ch_id:835,ch_str_id:"a-835"},{comname:"Jaguar",sciname:"Panthera onca",spcode:"A040",vipcode:"V01",entity_id:18,status:"Final",leadoffice:22410,fedreg:"89FR46822 46824",pubdate:"20240530",source_id:2010,objectid:730,listing_st:"Endangered",ch_id:837,ch_str_id:"a-837"},{comname:"beardless chinchweed",sciname:"Pectis imberbis",spcode:"Q2Q9",vipcode:"P01",entity_id:2884,status:"Final",leadoffice:22410,fedreg:"86FR31830 31868",pubdate:"20210615",source_id:1971,objectid:692,listing_st:"Endangered",ch_id:837,ch_str_id:"a-837"},{comname:"Mexican spotted owl",sciname:"Strix occidentalis lucida",spcode:"B074",vipcode:"V01",entity_id:129,status:"Final",leadoffice:22410,fedreg:"69FR53182 53298",pubdate:"20040831",source_id:20,objectid:9,listing_st:"Threatened",ch_id:837,ch_str_id:"a-837"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:837,ch_str_id:"a-837"},{comname:"Diamond Tryonia",sciname:"Pseudotryonia adamantina",spcode:"G04W",vipcode:"I01",entity_id:4437,status:"Final",leadoffice:21450,fedreg:"78FR40970 40996",pubdate:"20130709",source_id:1487,objectid:277,listing_st:"Endangered",ch_id:839,ch_str_id:"a-839"},{comname:"Gonzales tryonia",sciname:"Tryonia circumstriata (=stocktonensis)",spcode:"G05D",vipcode:"I01",entity_id:5362,status:"Final",leadoffice:21450,fedreg:"78FR40970 40996",pubdate:"20130709",source_id:1490,objectid:279,listing_st:"Endangered",ch_id:839,ch_str_id:"a-839"},{comname:"Pecos amphipod",sciname:"Gammarus pecos",spcode:"K024",vipcode:"I01",entity_id:6596,status:"Final",leadoffice:21450,fedreg:"78FR40970 40996",pubdate:"20130709",source_id:1481,objectid:274,listing_st:"Endangered",ch_id:839,ch_str_id:"a-839"},{comname:"Pecos assiminea snail",sciname:"Assiminea pecos",spcode:"G03K",vipcode:"I01",entity_id:1245,status:"Final",leadoffice:22420,fedreg:"76FR33036 33064",pubdate:"20110607",source_id:950,objectid:79,listing_st:"Endangered",ch_id:839,ch_str_id:"a-839"},{comname:"Leon Springs pupfish",sciname:"Cyprinodon bovinus",spcode:"E023",vipcode:"V01",entity_id:251,status:"Final",leadoffice:21450,fedreg:"45FR54678 54681",pubdate:"19800815",source_id:932,objectid:78,listing_st:"Endangered",ch_id:839,ch_str_id:"a-839"},{comname:"Texas golden Gladecress",sciname:"Leavenworthia texana",spcode:"Q34U",vipcode:"P01",entity_id:1400,status:"Final",leadoffice:21470,fedreg:"78FR56071 56120",pubdate:"20130911",source_id:1522,objectid:298,listing_st:"Endangered",ch_id:84,ch_str_id:"a-84"},{comname:"Diminutive Amphipod",sciname:"Gammarus hyalleloides",spcode:"K020",vipcode:"I01",entity_id:8172,status:"Final",leadoffice:21450,fedreg:"78FR40970 40996",pubdate:"20130709",source_id:1486,objectid:276,listing_st:"Endangered",ch_id:840,ch_str_id:"a-840"},{comname:"Phantom Springsnail",sciname:"Pyrgulopsis texana",spcode:"G00X",vipcode:"I01",entity_id:4479,status:"Final",leadoffice:21450,fedreg:"78FR40970 40996",pubdate:"20130709",source_id:1482,objectid:453,listing_st:"Endangered",ch_id:840,ch_str_id:"a-840"},{comname:"Phantom Tryonia",sciname:"Tryonia cheatumi",spcode:"G013",vipcode:"I01",entity_id:6138,status:"Final",leadoffice:21450,fedreg:"78FR40970 40996",pubdate:"20130709",source_id:1489,objectid:278,listing_st:"Endangered",ch_id:840,ch_str_id:"a-840"},{comname:"Pecos assiminea snail",sciname:"Assiminea pecos",spcode:"G03K",vipcode:"I01",entity_id:1245,status:"Final",leadoffice:22420,fedreg:"76FR33036 33064",pubdate:"20110607",source_id:950,objectid:79,listing_st:"Endangered",ch_id:840,ch_str_id:"a-840"},{comname:"Pecos assiminea snail",sciname:"Assiminea pecos",spcode:"G03K",vipcode:"I01",entity_id:1245,status:"Final",leadoffice:22420,fedreg:"76FR33036 33064",pubdate:"20110607",source_id:950,objectid:79,listing_st:"Endangered",ch_id:841,ch_str_id:"a-841"},{comname:"Roswell springsnail",sciname:"Pyrgulopsis roswellensis",spcode:"G03T",vipcode:"I01",entity_id:1246,status:"Final",leadoffice:22420,fedreg:"76FR33036 33064",pubdate:"20110607",source_id:1381,objectid:251,listing_st:"Endangered",ch_id:841,ch_str_id:"a-841"},{comname:"Koster's springsnail",sciname:"Juturnia kosteri",spcode:"G04C",vipcode:"I01",entity_id:1247,status:"Final",leadoffice:22420,fedreg:"76FR33036 33064",pubdate:"20110607",source_id:1380,objectid:250,listing_st:"Endangered",ch_id:841,ch_str_id:"a-841"},{comname:"Noel's Amphipod",sciname:"Gammarus desperatus",spcode:"K023",vipcode:"I01",entity_id:1261,status:"Final",leadoffice:22420,fedreg:"76FR33036 33064",pubdate:"20110607",source_id:1379,objectid:249,listing_st:"Endangered",ch_id:841,ch_str_id:"a-841"},{comname:"Roswell springsnail",sciname:"Pyrgulopsis roswellensis",spcode:"G03T",vipcode:"I01",entity_id:1246,status:"Final",leadoffice:22420,fedreg:"76FR33036 33064",pubdate:"20110607",source_id:1381,objectid:251,listing_st:"Endangered",ch_id:842,ch_str_id:"a-842"},{comname:"Koster's springsnail",sciname:"Juturnia kosteri",spcode:"G04C",vipcode:"I01",entity_id:1247,status:"Final",leadoffice:22420,fedreg:"76FR33036 33064",pubdate:"20110607",source_id:1380,objectid:250,listing_st:"Endangered",ch_id:842,ch_str_id:"a-842"},{comname:"Pecos (=puzzle, =paradox) sunflower",sciname:"Helianthus paradoxus",spcode:"Q0YJ",vipcode:"P01",entity_id:558,status:"Final",leadoffice:22420,fedreg:"73FR17762 17807",pubdate:"20080401",source_id:1331,objectid:217,listing_st:"Threatened",ch_id:842,ch_str_id:"a-842"},{comname:"Noel's Amphipod",sciname:"Gammarus desperatus",spcode:"K023",vipcode:"I01",entity_id:1261,status:"Final",leadoffice:22420,fedreg:"76FR33036 33064",pubdate:"20110607",source_id:1379,objectid:249,listing_st:"Endangered",ch_id:842,ch_str_id:"a-842"},{comname:"Wright's marsh thistle",sciname:"Cirsium wrightii",spcode:"Q3N3",vipcode:"P01",entity_id:9965,status:"Final",leadoffice:22420,fedreg:"88FR25208 25249",pubdate:"20230425",source_id:2054,objectid:772,listing_st:"Threatened",ch_id:842,ch_str_id:"a-842"},{comname:"San Diego fairy shrimp",sciname:"Branchinecta sandiegonensis",spcode:"K049",vipcode:"I01",entity_id:495,status:"Final",leadoffice:11430,fedreg:"72FR70648 70714",pubdate:"20071212",source_id:1171,objectid:185,listing_st:"Endangered",ch_id:843,ch_str_id:"a-843"},{comname:"Spreading navarretia",sciname:"Navarretia fossalis",spcode:"Q2E7",vipcode:"P01",entity_id:972,status:"Final",leadoffice:11430,fedreg:"75FR62192 62255",pubdate:"20101007",source_id:910,objectid:74,listing_st:"Threatened",ch_id:843,ch_str_id:"a-843"},{comname:"Quino checkerspot butterfly",sciname:"Euphydryas editha quino (=E. e. wrighti)",spcode:"I00P",vipcode:"I01",entity_id:426,status:"Final",leadoffice:11430,fedreg:"74FR28776 28862",pubdate:"20090617",source_id:1078,objectid:123,listing_st:"Endangered",ch_id:843,ch_str_id:"a-843"},{comname:"Riverside fairy shrimp",sciname:"Streptocephalus woottoni",spcode:"K03F",vipcode:"I01",entity_id:492,status:"Final",leadoffice:11430,fedreg:"77FR72069 72140",pubdate:"20121204",source_id:673,objectid:57,listing_st:"Endangered",ch_id:843,ch_str_id:"a-843"},{comname:"San Diego ambrosia",sciname:"Ambrosia pumila",spcode:"Q01H",vipcode:"P01",entity_id:500,status:"Final",leadoffice:11430,fedreg:"75FR74546 74604",pubdate:"20101130",source_id:1364,objectid:239,listing_st:"Endangered",ch_id:844,ch_str_id:"a-844"},{comname:"Hermes copper butterfly",sciname:"Lycaena hermes",spcode:"I05C",vipcode:"I01",entity_id:1984,status:"Final",leadoffice:11430,fedreg:"86FR72394 72433",pubdate:"20211221",source_id:1975,objectid:693,listing_st:"Threatened",ch_id:844,ch_str_id:"a-844"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:844,ch_str_id:"a-844"},{comname:"Least Bell's vireo",sciname:"Vireo bellii pusillus",spcode:"B067",vipcode:"V01",entity_id:123,status:"Final",leadoffice:11430,fedreg:"59FR4845 4867",pubdate:"19940202",source_id:665,objectid:51,listing_st:"Endangered",ch_id:844,ch_str_id:"a-844"},{comname:"Otay tarplant",sciname:"Deinandra (=Hemizonia) conjugens",spcode:"Q0YQ",vipcode:"P01",entity_id:559,status:"Final",leadoffice:11430,fedreg:"67FR76030 76053",pubdate:"20021210",source_id:667,objectid:53,listing_st:"Threatened",ch_id:845,ch_str_id:"a-845"},{comname:"Hermes copper butterfly",sciname:"Lycaena hermes",spcode:"I05C",vipcode:"I01",entity_id:1984,status:"Final",leadoffice:11430,fedreg:"86FR72394 72433",pubdate:"20211221",source_id:1975,objectid:693,listing_st:"Threatened",ch_id:845,ch_str_id:"a-845"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:845,ch_str_id:"a-845"},{comname:"Least Bell's vireo",sciname:"Vireo bellii pusillus",spcode:"B067",vipcode:"V01",entity_id:123,status:"Final",leadoffice:11430,fedreg:"59FR4845 4867",pubdate:"19940202",source_id:665,objectid:51,listing_st:"Endangered",ch_id:845,ch_str_id:"a-845"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:845,ch_str_id:"a-845"},{comname:"Otay tarplant",sciname:"Deinandra (=Hemizonia) conjugens",spcode:"Q0YQ",vipcode:"P01",entity_id:559,status:"Final",leadoffice:11430,fedreg:"67FR76030 76053",pubdate:"20021210",source_id:667,objectid:53,listing_st:"Threatened",ch_id:846,ch_str_id:"a-846"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:846,ch_str_id:"a-846"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:846,ch_str_id:"a-846"},{comname:"Least Bell's vireo",sciname:"Vireo bellii pusillus",spcode:"B067",vipcode:"V01",entity_id:123,status:"Final",leadoffice:11430,fedreg:"59FR4845 4867",pubdate:"19940202",source_id:665,objectid:51,listing_st:"Endangered",ch_id:846,ch_str_id:"a-846"},{comname:"Northern Mexican gartersnake",sciname:"Thamnophis eques megalops",spcode:"C04Q",vipcode:"V01",entity_id:1783,status:"Final",leadoffice:22410,fedreg:"86FR22518 22580",pubdate:"20210428",source_id:1526,objectid:302,listing_st:"Threatened",ch_id:848,ch_str_id:"a-848"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:848,ch_str_id:"a-848"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:848,ch_str_id:"a-848"},{comname:"Narrow-headed gartersnake",sciname:"Thamnophis rufipunctatus",spcode:"C051",vipcode:"V01",entity_id:3271,status:"Final",leadoffice:22410,fedreg:"86FR58474 58523",pubdate:"20211021",source_id:1527,objectid:303,listing_st:"Threatened",ch_id:848,ch_str_id:"a-848"},{comname:"Tidewater goby",sciname:"Eucyclogobius newberryi",spcode:"E071",vipcode:"V01",entity_id:306,status:"Final",leadoffice:11440,fedreg:"78FR8745 8819",pubdate:"20130206",source_id:679,objectid:62,listing_st:"Endangered",ch_id:849,ch_str_id:"a-849"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:849,ch_str_id:"a-849"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:849,ch_str_id:"a-849"},{comname:"Least Bell's vireo",sciname:"Vireo bellii pusillus",spcode:"B067",vipcode:"V01",entity_id:123,status:"Final",leadoffice:11430,fedreg:"59FR4845 4867",pubdate:"19940202",source_id:665,objectid:51,listing_st:"Endangered",ch_id:849,ch_str_id:"a-849"},{comname:"Florida bonneted bat",sciname:"Eumops floridanus",spcode:"A0JB",vipcode:"V01",entity_id:9725,status:"Final",leadoffice:41411,fedreg:"89FR16624 16681",pubdate:"20240307",source_id:1979,objectid:697,listing_st:"Endangered",ch_id:85,ch_str_id:"a-85"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:850,ch_str_id:"a-850"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:850,ch_str_id:"a-850"},{comname:"Least Bell's vireo",sciname:"Vireo bellii pusillus",spcode:"B067",vipcode:"V01",entity_id:123,status:"Final",leadoffice:11430,fedreg:"59FR4845 4867",pubdate:"19940202",source_id:665,objectid:51,listing_st:"Endangered",ch_id:850,ch_str_id:"a-850"},{comname:"Arroyo (=arroyo southwestern) toad",sciname:"Anaxyrus californicus",spcode:"D020",vipcode:"V01",entity_id:204,status:"Final",leadoffice:11440,fedreg:"76FR7245 7467",pubdate:"20110209",source_id:656,objectid:44,listing_st:"Endangered",ch_id:850,ch_str_id:"a-850"},{comname:"Diamond Tryonia",sciname:"Pseudotryonia adamantina",spcode:"G04W",vipcode:"I01",entity_id:4437,status:"Final",leadoffice:21450,fedreg:"78FR40970 40996",pubdate:"20130709",source_id:1487,objectid:277,listing_st:"Endangered",ch_id:853,ch_str_id:"a-853"},{comname:"Gonzales tryonia",sciname:"Tryonia circumstriata (=stocktonensis)",spcode:"G05D",vipcode:"I01",entity_id:5362,status:"Final",leadoffice:21450,fedreg:"78FR40970 40996",pubdate:"20130709",source_id:1490,objectid:279,listing_st:"Endangered",ch_id:853,ch_str_id:"a-853"},{comname:"Pecos assiminea snail",sciname:"Assiminea pecos",spcode:"G03K",vipcode:"I01",entity_id:1245,status:"Final",leadoffice:22420,fedreg:"76FR33036 33064",pubdate:"20110607",source_id:950,objectid:79,listing_st:"Endangered",ch_id:853,ch_str_id:"a-853"},{comname:"Pecos (=puzzle, =paradox) sunflower",sciname:"Helianthus paradoxus",spcode:"Q0YJ",vipcode:"P01",entity_id:558,status:"Final",leadoffice:22420,fedreg:"73FR17762 17807",pubdate:"20080401",source_id:1331,objectid:217,listing_st:"Threatened",ch_id:853,ch_str_id:"a-853"},{comname:"Pecos amphipod",sciname:"Gammarus pecos",spcode:"K024",vipcode:"I01",entity_id:6596,status:"Final",leadoffice:21450,fedreg:"78FR40970 40996",pubdate:"20130709",source_id:1481,objectid:274,listing_st:"Endangered",ch_id:853,ch_str_id:"a-853"},{comname:"Leon Springs pupfish",sciname:"Cyprinodon bovinus",spcode:"E023",vipcode:"V01",entity_id:251,status:"Final",leadoffice:21450,fedreg:"45FR54678 54681",pubdate:"19800815",source_id:932,objectid:78,listing_st:"Endangered",ch_id:853,ch_str_id:"a-853"},{comname:"Pecos assiminea snail",sciname:"Assiminea pecos",spcode:"G03K",vipcode:"I01",entity_id:1245,status:"Final",leadoffice:22420,fedreg:"76FR33036 33064",pubdate:"20110607",source_id:950,objectid:79,listing_st:"Endangered",ch_id:855,ch_str_id:"a-855"},{comname:"Roswell springsnail",sciname:"Pyrgulopsis roswellensis",spcode:"G03T",vipcode:"I01",entity_id:1246,status:"Final",leadoffice:22420,fedreg:"76FR33036 33064",pubdate:"20110607",source_id:1381,objectid:251,listing_st:"Endangered",ch_id:855,ch_str_id:"a-855"},{comname:"Koster's springsnail",sciname:"Juturnia kosteri",spcode:"G04C",vipcode:"I01",entity_id:1247,status:"Final",leadoffice:22420,fedreg:"76FR33036 33064",pubdate:"20110607",source_id:1380,objectid:250,listing_st:"Endangered",ch_id:855,ch_str_id:"a-855"},{comname:"Pecos (=puzzle, =paradox) sunflower",sciname:"Helianthus paradoxus",spcode:"Q0YJ",vipcode:"P01",entity_id:558,status:"Final",leadoffice:22420,fedreg:"73FR17762 17807",pubdate:"20080401",source_id:1331,objectid:217,listing_st:"Threatened",ch_id:855,ch_str_id:"a-855"},{comname:"Noel's Amphipod",sciname:"Gammarus desperatus",spcode:"K023",vipcode:"I01",entity_id:1261,status:"Final",leadoffice:22420,fedreg:"76FR33036 33064",pubdate:"20110607",source_id:1379,objectid:249,listing_st:"Endangered",ch_id:855,ch_str_id:"a-855"},{comname:"Rabbitsfoot",sciname:"Quadrula cylindrica cylindrica",spcode:"F03X",vipcode:"I01",entity_id:3645,status:"Final",leadoffice:43421,fedreg:"80FR24692 24774",pubdate:"20150430",source_id:1507,objectid:803,listing_st:"Threatened",ch_id:857,ch_str_id:"a-857"},{comname:"Big Creek Crayfish",sciname:"Faxonius peruncus",spcode:"K090",vipcode:"I01",entity_id:11563,status:"Final",leadoffice:33410,fedreg:"88FR25512 25542",pubdate:"20230427",source_id:1985,objectid:703,listing_st:"Threatened",ch_id:857,ch_str_id:"a-857"},{comname:"Ocmulgee skullcap",sciname:"Scutellaria ocmulgee",spcode:"Q1NK",vipcode:"P01",entity_id:4284,status:"Proposed",leadoffice:40120,fedreg:"87FR37378 37428",pubdate:"20220622",source_id:2046,objectid:764,listing_st:"Proposed Threatened",ch_id:858,ch_str_id:"a-858"},{comname:"Round hickorynut",sciname:"Obovaria subrotunda",spcode:"F04X",vipcode:"I01",entity_id:10837,status:"Final",leadoffice:31420,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2058,objectid:776,listing_st:"Threatened",ch_id:859,ch_str_id:"a-859"},{comname:"Florida brickell-bush",sciname:"Brickellia mosieri",spcode:"Q09E",vipcode:"P01",entity_id:4420,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1532,objectid:307,listing_st:"Endangered",ch_id:86,ch_str_id:"a-86"},{comname:"Ouachita fanshell",sciname:"Cyprogenia sp. cf. aberti",spcode:"F05B",vipcode:"I01",entity_id:11656,status:"Final",leadoffice:43421,fedreg:"88FR41724 41771",pubdate:"20230627",source_id:2056,objectid:774,listing_st:"Threatened",ch_id:860,ch_str_id:"a-860"},{comname:"Finelined pocketbook",sciname:"Hamiota altilis",spcode:"F02X",vipcode:"I01",entity_id:372,status:"Final",leadoffice:43410,fedreg:"69FR40084 40171",pubdate:"20040701",source_id:1147,objectid:168,listing_st:"Threatened",ch_id:861,ch_str_id:"a-861"},{comname:"Canoe Creek Clubshell",sciname:"Pleurobema athearni",spcode:"G0CH",vipcode:"I01",entity_id:9222,status:"Final",leadoffice:43410,fedreg:"87FR40115 40138",pubdate:"20220706",source_id:2040,objectid:758,listing_st:"Endangered",ch_id:861,ch_str_id:"a-861"},{comname:"Amber darter",sciname:"Percina antesella",spcode:"E05F",vipcode:"V01",entity_id:293,status:"Final",leadoffice:41460,fedreg:"50FR31597 31604",pubdate:"19850805",source_id:1125,objectid:152,listing_st:"Endangered",ch_id:861,ch_str_id:"a-861"},{comname:"Georgia rockcress",sciname:"Arabis georgiana",spcode:"Q02R",vipcode:"P01",entity_id:6672,status:"Final",leadoffice:41460,fedreg:"79FR54635 54667",pubdate:"20140912",source_id:1460,objectid:265,listing_st:"Threatened",ch_id:861,ch_str_id:"a-861"},{comname:"Trispot darter",sciname:"Etheostoma trisella",spcode:"E05G",vipcode:"V01",entity_id:3069,status:"Final",leadoffice:43410,fedreg:"85FR61619 61638",pubdate:"20200930",source_id:1965,objectid:689,listing_st:"Threatened",ch_id:861,ch_str_id:"a-861"},{comname:"Georgia rockcress",sciname:"Arabis georgiana",spcode:"Q02R",vipcode:"P01",entity_id:6672,status:"Final",leadoffice:41460,fedreg:"79FR54635 54667",pubdate:"20140912",source_id:1460,objectid:265,listing_st:"Threatened",ch_id:862,ch_str_id:"a-862"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:863,ch_str_id:"a-863"},{comname:"Florida Keys mole skink",sciname:"Plestiodon egregius egregius",spcode:"C03U",vipcode:"V01",entity_id:2238,status:"Proposed",leadoffice:40120,fedreg:"87FR58649",pubdate:"20220927",source_id:2042,objectid:760,listing_st:"Proposed Threatened",ch_id:864,ch_str_id:"a-864"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:864,ch_str_id:"a-864"},{comname:"Florida Keys mole skink",sciname:"Plestiodon egregius egregius",spcode:"C03U",vipcode:"V01",entity_id:2238,status:"Proposed",leadoffice:40120,fedreg:"87FR58649",pubdate:"20220927",source_id:2042,objectid:760,listing_st:"Proposed Threatened",ch_id:865,ch_str_id:"a-865"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:865,ch_str_id:"a-865"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:866,ch_str_id:"a-866"},{comname:"Alabama beach mouse",sciname:"Peromyscus polionotus ammobates",spcode:"A08Y",vipcode:"V01",entity_id:41,status:"Final",leadoffice:43410,fedreg:"72FR4330 4369",pubdate:"20070130",source_id:1338,objectid:223,listing_st:"Endangered",ch_id:866,ch_str_id:"a-866"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:867,ch_str_id:"a-867"},{comname:"Aboriginal Prickly-apple",sciname:"Harrisia (=Cereus) aboriginum (=gracilis)",spcode:"Q0DR",vipcode:"P01",entity_id:2211,status:"Final",leadoffice:41411,fedreg:"81FR3865 3925",pubdate:"20160122",source_id:1962,objectid:687,listing_st:"Endangered",ch_id:867,ch_str_id:"a-867"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:868,ch_str_id:"a-868"},{comname:"American crocodile",sciname:"Crocodylus acutus",spcode:"C02J",vipcode:"V01",entity_id:176,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1054,objectid:103,listing_st:"Threatened",ch_id:868,ch_str_id:"a-868"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:869,ch_str_id:"a-869"},{comname:"Cape Sable Thoroughwort",sciname:"Chromolaena frustrata",spcode:"Q3HJ",vipcode:"P01",entity_id:8336,status:"Final",leadoffice:41411,fedreg:"79FR1551 1590",pubdate:"20140108",source_id:1534,objectid:308,listing_st:"Endangered",ch_id:869,ch_str_id:"a-869"},{comname:"Cape Sable seaside sparrow",sciname:"Ammospiza maritima mirabilis",spcode:"B00Q",vipcode:"V01",entity_id:85,status:"Final",leadoffice:41411,fedreg:"72FR62736 62766",pubdate:"20071106",source_id:1060,objectid:109,listing_st:"Endangered",ch_id:87,ch_str_id:"a-87"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:870,ch_str_id:"a-870"},{comname:"West Indian Manatee",sciname:"Trichechus manatus",spcode:"A007",vipcode:"V01",entity_id:7,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1100,objectid:145,listing_st:"Threatened",ch_id:870,ch_str_id:"a-870"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:871,ch_str_id:"a-871"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:871,ch_str_id:"a-871"},{comname:"St. Andrew beach mouse",sciname:"Peromyscus polionotus peninsularis",spcode:"A0CB",vipcode:"V01",entity_id:54,status:"Final",leadoffice:41411,fedreg:"71FR60238 60370",pubdate:"20061012",source_id:1240,objectid:199,listing_st:"Endangered",ch_id:871,ch_str_id:"a-871"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:872,ch_str_id:"a-872"},{comname:"Green sea turtle",sciname:"Chelonia mydas",spcode:"C00S",vipcode:"V12",entity_id:11192,status:"Proposed",leadoffice:41411,fedreg:"88FR46376 46570",pubdate:"20230719",source_id:2063,objectid:809,listing_st:"Threatened",ch_id:872,ch_str_id:"a-872"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:873,ch_str_id:"a-873"},{comname:"Choctawhatchee beach mouse",sciname:"Peromyscus polionotus allophrys",spcode:"A08B",vipcode:"V01",entity_id:34,status:"Final",leadoffice:41411,fedreg:"71FR60238 60370",pubdate:"20061012",source_id:43,objectid:23,listing_st:"Endangered",ch_id:873,ch_str_id:"a-873"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:874,ch_str_id:"a-874"},{comname:"St. Andrew beach mouse",sciname:"Peromyscus polionotus peninsularis",spcode:"A0CB",vipcode:"V01",entity_id:54,status:"Final",leadoffice:41411,fedreg:"71FR60238 60370",pubdate:"20061012",source_id:1240,objectid:199,listing_st:"Endangered",ch_id:874,ch_str_id:"a-874"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:875,ch_str_id:"a-875"},{comname:"Gulf sturgeon",sciname:"Acipenser oxyrinchus (=oxyrhynchus) desotoi",spcode:"E04W",vipcode:"V01",entity_id:286,status:"Final",leadoffice:41411,fedreg:"68FR13370 13495",pubdate:"20030319",source_id:1096,objectid:141,listing_st:"Threatened",ch_id:875,ch_str_id:"a-875"},{comname:"Rabbitsfoot",sciname:"Quadrula cylindrica cylindrica",spcode:"F03X",vipcode:"I01",entity_id:3645,status:"Final",leadoffice:43421,fedreg:"80FR24692 24774",pubdate:"20150430",source_id:1507,objectid:803,listing_st:"Threatened",ch_id:876,ch_str_id:"a-876"},{comname:"Ouachita fanshell",sciname:"Cyprogenia sp. cf. aberti",spcode:"F05B",vipcode:"I01",entity_id:11656,status:"Final",leadoffice:43421,fedreg:"88FR41724 41771",pubdate:"20230627",source_id:2056,objectid:774,listing_st:"Threatened",ch_id:876,ch_str_id:"a-876"},{comname:"Alabama beach mouse",sciname:"Peromyscus polionotus ammobates",spcode:"A08Y",vipcode:"V01",entity_id:41,status:"Final",leadoffice:43410,fedreg:"72FR4330 4369",pubdate:"20070130",source_id:1338,objectid:223,listing_st:"Endangered",ch_id:877,ch_str_id:"a-877"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:877,ch_str_id:"a-877"},{comname:"Aboriginal Prickly-apple",sciname:"Harrisia (=Cereus) aboriginum (=gracilis)",spcode:"Q0DR",vipcode:"P01",entity_id:2211,status:"Final",leadoffice:41411,fedreg:"81FR3865 3925",pubdate:"20160122",source_id:1962,objectid:687,listing_st:"Endangered",ch_id:878,ch_str_id:"a-878"},{comname:"rufa red knot",sciname:"Calidris canutus rufa",spcode:"B0DM",vipcode:"V01",entity_id:8621,status:"Proposed",leadoffice:52421,fedreg:"88FR22530 22693",pubdate:"20230413",source_id:2094,objectid:813,listing_st:"Threatened",ch_id:878,ch_str_id:"a-878"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:878,ch_str_id:"a-878"},{comname:"Aboriginal Prickly-apple",sciname:"Harrisia (=Cereus) aboriginum (=gracilis)",spcode:"Q0DR",vipcode:"P01",entity_id:2211,status:"Final",leadoffice:41411,fedreg:"81FR3865 3925",pubdate:"20160122",source_id:1962,objectid:687,listing_st:"Endangered",ch_id:879,ch_str_id:"a-879"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:879,ch_str_id:"a-879"},{comname:"dusky gopher frog",sciname:"Rana sevosa",spcode:"D031",vipcode:"V01",entity_id:208,status:"Final",leadoffice:43910,fedreg:"77FR35117 35161",pubdate:"20120612",source_id:1519,objectid:296,listing_st:"Endangered",ch_id:88,ch_str_id:"a-88"},{comname:"rufa red knot",sciname:"Calidris canutus rufa",spcode:"B0DM",vipcode:"V01",entity_id:8621,status:"Proposed",leadoffice:52421,fedreg:"88FR22530 22693",pubdate:"20230413",source_id:2094,objectid:813,listing_st:"Threatened",ch_id:881,ch_str_id:"a-881"},{comname:"West Indian Manatee",sciname:"Trichechus manatus",spcode:"A007",vipcode:"V01",entity_id:7,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1100,objectid:145,listing_st:"Threatened",ch_id:881,ch_str_id:"a-881"},{comname:"rufa red knot",sciname:"Calidris canutus rufa",spcode:"B0DM",vipcode:"V01",entity_id:8621,status:"Proposed",leadoffice:52421,fedreg:"88FR22530 22693",pubdate:"20230413",source_id:2094,objectid:813,listing_st:"Threatened",ch_id:882,ch_str_id:"a-882"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:882,ch_str_id:"a-882"},{comname:"rufa red knot",sciname:"Calidris canutus rufa",spcode:"B0DM",vipcode:"V01",entity_id:8621,status:"Proposed",leadoffice:52421,fedreg:"88FR22530 22693",pubdate:"20230413",source_id:2094,objectid:813,listing_st:"Threatened",ch_id:883,ch_str_id:"a-883"},{comname:"Green sea turtle",sciname:"Chelonia mydas",spcode:"C00S",vipcode:"V12",entity_id:11192,status:"Proposed",leadoffice:41411,fedreg:"88FR46376 46570",pubdate:"20230719",source_id:2063,objectid:809,listing_st:"Threatened",ch_id:883,ch_str_id:"a-883"},{comname:"rufa red knot",sciname:"Calidris canutus rufa",spcode:"B0DM",vipcode:"V01",entity_id:8621,status:"Proposed",leadoffice:52421,fedreg:"88FR22530 22693",pubdate:"20230413",source_id:2094,objectid:813,listing_st:"Threatened",ch_id:884,ch_str_id:"a-884"},{comname:"Gulf sturgeon",sciname:"Acipenser oxyrinchus (=oxyrhynchus) desotoi",spcode:"E04W",vipcode:"V01",entity_id:286,status:"Final",leadoffice:41411,fedreg:"68FR13370 13495",pubdate:"20030319",source_id:1096,objectid:141,listing_st:"Threatened",ch_id:884,ch_str_id:"a-884"},{comname:"American crocodile",sciname:"Crocodylus acutus",spcode:"C02J",vipcode:"V01",entity_id:176,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1054,objectid:103,listing_st:"Threatened",ch_id:885,ch_str_id:"a-885"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:885,ch_str_id:"a-885"},{comname:"Florida Keys mole skink",sciname:"Plestiodon egregius egregius",spcode:"C03U",vipcode:"V01",entity_id:2238,status:"Proposed",leadoffice:40120,fedreg:"87FR58649",pubdate:"20220927",source_id:2042,objectid:760,listing_st:"Proposed Threatened",ch_id:885,ch_str_id:"a-885"},{comname:"Cape Sable Thoroughwort",sciname:"Chromolaena frustrata",spcode:"Q3HJ",vipcode:"P01",entity_id:8336,status:"Final",leadoffice:41411,fedreg:"79FR1551 1590",pubdate:"20140108",source_id:1534,objectid:308,listing_st:"Endangered",ch_id:885,ch_str_id:"a-885"},{comname:"West Indian Manatee",sciname:"Trichechus manatus",spcode:"A007",vipcode:"V01",entity_id:7,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1100,objectid:145,listing_st:"Threatened",ch_id:886,ch_str_id:"a-886"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:886,ch_str_id:"a-886"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:887,ch_str_id:"a-887"},{comname:"Green sea turtle",sciname:"Chelonia mydas",spcode:"C00S",vipcode:"V12",entity_id:11192,status:"Proposed",leadoffice:41411,fedreg:"88FR46376 46570",pubdate:"20230719",source_id:2063,objectid:809,listing_st:"Threatened",ch_id:887,ch_str_id:"a-887"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:888,ch_str_id:"a-888"},{comname:"Perdido Key beach mouse",sciname:"Peromyscus polionotus trissyllepsis",spcode:"A08C",vipcode:"V01",entity_id:35,status:"Final",leadoffice:41411,fedreg:"71FR60238 60370",pubdate:"20061012",source_id:44,objectid:24,listing_st:"Endangered",ch_id:888,ch_str_id:"a-888"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:889,ch_str_id:"a-889"},{comname:"Gulf sturgeon",sciname:"Acipenser oxyrinchus (=oxyrhynchus) desotoi",spcode:"E04W",vipcode:"V01",entity_id:286,status:"Final",leadoffice:41411,fedreg:"68FR13370 13495",pubdate:"20030319",source_id:1096,objectid:141,listing_st:"Threatened",ch_id:889,ch_str_id:"a-889"},{comname:"Alabama beach mouse",sciname:"Peromyscus polionotus ammobates",spcode:"A08Y",vipcode:"V01",entity_id:41,status:"Final",leadoffice:43410,fedreg:"72FR4330 4369",pubdate:"20070130",source_id:1338,objectid:223,listing_st:"Endangered",ch_id:89,ch_str_id:"a-89"},{comname:"Florida Keys mole skink",sciname:"Plestiodon egregius egregius",spcode:"C03U",vipcode:"V01",entity_id:2238,status:"Proposed",leadoffice:40120,fedreg:"87FR58649",pubdate:"20220927",source_id:2042,objectid:760,listing_st:"Proposed Threatened",ch_id:890,ch_str_id:"a-890"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:890,ch_str_id:"a-890"},{comname:"American crocodile",sciname:"Crocodylus acutus",spcode:"C02J",vipcode:"V01",entity_id:176,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1054,objectid:103,listing_st:"Threatened",ch_id:890,ch_str_id:"a-890"},{comname:"Florida Keys mole skink",sciname:"Plestiodon egregius egregius",spcode:"C03U",vipcode:"V01",entity_id:2238,status:"Proposed",leadoffice:40120,fedreg:"87FR58649",pubdate:"20220927",source_id:2042,objectid:760,listing_st:"Proposed Threatened",ch_id:891,ch_str_id:"a-891"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:891,ch_str_id:"a-891"},{comname:"Cape Sable Thoroughwort",sciname:"Chromolaena frustrata",spcode:"Q3HJ",vipcode:"P01",entity_id:8336,status:"Final",leadoffice:41411,fedreg:"79FR1551 1590",pubdate:"20140108",source_id:1534,objectid:308,listing_st:"Endangered",ch_id:891,ch_str_id:"a-891"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:891,ch_str_id:"a-891"},{comname:"Green sea turtle",sciname:"Chelonia mydas",spcode:"C00S",vipcode:"V12",entity_id:11192,status:"Proposed",leadoffice:41411,fedreg:"88FR46376 46570",pubdate:"20230719",source_id:2063,objectid:809,listing_st:"Threatened",ch_id:891,ch_str_id:"a-891"},{comname:"Florida Keys mole skink",sciname:"Plestiodon egregius egregius",spcode:"C03U",vipcode:"V01",entity_id:2238,status:"Proposed",leadoffice:40120,fedreg:"87FR58649",pubdate:"20220927",source_id:2042,objectid:760,listing_st:"Proposed Threatened",ch_id:892,ch_str_id:"a-892"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:892,ch_str_id:"a-892"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:892,ch_str_id:"a-892"},{comname:"Green sea turtle",sciname:"Chelonia mydas",spcode:"C00S",vipcode:"V12",entity_id:11192,status:"Proposed",leadoffice:41411,fedreg:"88FR46376 46570",pubdate:"20230719",source_id:2063,objectid:809,listing_st:"Threatened",ch_id:892,ch_str_id:"a-892"},{comname:"Cape Sable Thoroughwort",sciname:"Chromolaena frustrata",spcode:"Q3HJ",vipcode:"P01",entity_id:8336,status:"Final",leadoffice:41411,fedreg:"79FR1551 1590",pubdate:"20140108",source_id:1534,objectid:308,listing_st:"Endangered",ch_id:892,ch_str_id:"a-892"},{comname:"Florida Keys mole skink",sciname:"Plestiodon egregius egregius",spcode:"C03U",vipcode:"V01",entity_id:2238,status:"Proposed",leadoffice:40120,fedreg:"87FR58649",pubdate:"20220927",source_id:2042,objectid:760,listing_st:"Proposed Threatened",ch_id:895,ch_str_id:"a-895"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:895,ch_str_id:"a-895"},{comname:"Green sea turtle",sciname:"Chelonia mydas",spcode:"C00S",vipcode:"V12",entity_id:11192,status:"Proposed",leadoffice:41411,fedreg:"88FR46376 46570",pubdate:"20230719",source_id:2063,objectid:809,listing_st:"Threatened",ch_id:895,ch_str_id:"a-895"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:896,ch_str_id:"a-896"},{comname:"Alabama beach mouse",sciname:"Peromyscus polionotus ammobates",spcode:"A08Y",vipcode:"V01",entity_id:41,status:"Final",leadoffice:43410,fedreg:"72FR4330 4369",pubdate:"20070130",source_id:1338,objectid:223,listing_st:"Endangered",ch_id:896,ch_str_id:"a-896"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:896,ch_str_id:"a-896"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:897,ch_str_id:"a-897"},{comname:"Aboriginal Prickly-apple",sciname:"Harrisia (=Cereus) aboriginum (=gracilis)",spcode:"Q0DR",vipcode:"P01",entity_id:2211,status:"Final",leadoffice:41411,fedreg:"81FR3865 3925",pubdate:"20160122",source_id:1962,objectid:687,listing_st:"Endangered",ch_id:897,ch_str_id:"a-897"},{comname:"West Indian Manatee",sciname:"Trichechus manatus",spcode:"A007",vipcode:"V01",entity_id:7,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1100,objectid:145,listing_st:"Threatened",ch_id:897,ch_str_id:"a-897"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:898,ch_str_id:"a-898"},{comname:"rufa red knot",sciname:"Calidris canutus rufa",spcode:"B0DM",vipcode:"V01",entity_id:8621,status:"Proposed",leadoffice:52421,fedreg:"88FR22530 22693",pubdate:"20230413",source_id:2094,objectid:813,listing_st:"Threatened",ch_id:898,ch_str_id:"a-898"},{comname:"West Indian Manatee",sciname:"Trichechus manatus",spcode:"A007",vipcode:"V01",entity_id:7,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1100,objectid:145,listing_st:"Threatened",ch_id:898,ch_str_id:"a-898"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:899,ch_str_id:"a-899"},{comname:"rufa red knot",sciname:"Calidris canutus rufa",spcode:"B0DM",vipcode:"V01",entity_id:8621,status:"Proposed",leadoffice:52421,fedreg:"88FR22530 22693",pubdate:"20230413",source_id:2094,objectid:813,listing_st:"Threatened",ch_id:899,ch_str_id:"a-899"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:899,ch_str_id:"a-899"},{comname:"Guadalupe Orb",sciname:"Cyclonaias necki",spcode:"F05A",vipcode:"I01",entity_id:11577,status:"Final",leadoffice:21450,fedreg:"89FR48034 48130",pubdate:"20240604",source_id:2004,objectid:722,listing_st:"Endangered",ch_id:9,ch_str_id:"a-9"},{comname:"Silver rice rat",sciname:"Oryzomys palustris natator",spcode:"A083",vipcode:"V01",entity_id:29,status:"Final",leadoffice:41411,fedreg:"58FR46030 46034",pubdate:"19930831",source_id:1079,objectid:124,listing_st:"Endangered",ch_id:90,ch_str_id:"a-90"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:900,ch_str_id:"a-900"},{comname:"rufa red knot",sciname:"Calidris canutus rufa",spcode:"B0DM",vipcode:"V01",entity_id:8621,status:"Proposed",leadoffice:52421,fedreg:"88FR22530 22693",pubdate:"20230413",source_id:2094,objectid:813,listing_st:"Threatened",ch_id:900,ch_str_id:"a-900"},{comname:"Green sea turtle",sciname:"Chelonia mydas",spcode:"C00S",vipcode:"V12",entity_id:11192,status:"Proposed",leadoffice:41411,fedreg:"88FR46376 46570",pubdate:"20230719",source_id:2063,objectid:809,listing_st:"Threatened",ch_id:900,ch_str_id:"a-900"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:901,ch_str_id:"a-901"},{comname:"rufa red knot",sciname:"Calidris canutus rufa",spcode:"B0DM",vipcode:"V01",entity_id:8621,status:"Proposed",leadoffice:52421,fedreg:"88FR22530 22693",pubdate:"20230413",source_id:2094,objectid:813,listing_st:"Threatened",ch_id:901,ch_str_id:"a-901"},{comname:"Gulf sturgeon",sciname:"Acipenser oxyrinchus (=oxyrhynchus) desotoi",spcode:"E04W",vipcode:"V01",entity_id:286,status:"Final",leadoffice:41411,fedreg:"68FR13370 13495",pubdate:"20030319",source_id:1096,objectid:141,listing_st:"Threatened",ch_id:901,ch_str_id:"a-901"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:902,ch_str_id:"a-902"},{comname:"West Indian Manatee",sciname:"Trichechus manatus",spcode:"A007",vipcode:"V01",entity_id:7,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1100,objectid:145,listing_st:"Threatened",ch_id:902,ch_str_id:"a-902"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:902,ch_str_id:"a-902"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:903,ch_str_id:"a-903"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:903,ch_str_id:"a-903"},{comname:"Green sea turtle",sciname:"Chelonia mydas",spcode:"C00S",vipcode:"V12",entity_id:11192,status:"Proposed",leadoffice:41411,fedreg:"88FR46376 46570",pubdate:"20230719",source_id:2063,objectid:809,listing_st:"Threatened",ch_id:903,ch_str_id:"a-903"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:904,ch_str_id:"a-904"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:904,ch_str_id:"a-904"},{comname:"Gulf sturgeon",sciname:"Acipenser oxyrinchus (=oxyrhynchus) desotoi",spcode:"E04W",vipcode:"V01",entity_id:286,status:"Final",leadoffice:41411,fedreg:"68FR13370 13495",pubdate:"20030319",source_id:1096,objectid:141,listing_st:"Threatened",ch_id:904,ch_str_id:"a-904"},{comname:"St. Andrew beach mouse",sciname:"Peromyscus polionotus peninsularis",spcode:"A0CB",vipcode:"V01",entity_id:54,status:"Final",leadoffice:41411,fedreg:"71FR60238 60370",pubdate:"20061012",source_id:1240,objectid:199,listing_st:"Endangered",ch_id:904,ch_str_id:"a-904"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:905,ch_str_id:"a-905"},{comname:"Green sea turtle",sciname:"Chelonia mydas",spcode:"C00S",vipcode:"V12",entity_id:11192,status:"Proposed",leadoffice:41411,fedreg:"88FR46376 46570",pubdate:"20230719",source_id:2063,objectid:809,listing_st:"Threatened",ch_id:905,ch_str_id:"a-905"},{comname:"St. Andrew beach mouse",sciname:"Peromyscus polionotus peninsularis",spcode:"A0CB",vipcode:"V01",entity_id:54,status:"Final",leadoffice:41411,fedreg:"71FR60238 60370",pubdate:"20061012",source_id:1240,objectid:199,listing_st:"Endangered",ch_id:905,ch_str_id:"a-905"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:906,ch_str_id:"a-906"},{comname:"Green sea turtle",sciname:"Chelonia mydas",spcode:"C00S",vipcode:"V12",entity_id:11192,status:"Proposed",leadoffice:41411,fedreg:"88FR46376 46570",pubdate:"20230719",source_id:2063,objectid:809,listing_st:"Threatened",ch_id:906,ch_str_id:"a-906"},{comname:"Gulf sturgeon",sciname:"Acipenser oxyrinchus (=oxyrhynchus) desotoi",spcode:"E04W",vipcode:"V01",entity_id:286,status:"Final",leadoffice:41411,fedreg:"68FR13370 13495",pubdate:"20030319",source_id:1096,objectid:141,listing_st:"Threatened",ch_id:906,ch_str_id:"a-906"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:907,ch_str_id:"a-907"},{comname:"Choctawhatchee beach mouse",sciname:"Peromyscus polionotus allophrys",spcode:"A08B",vipcode:"V01",entity_id:34,status:"Final",leadoffice:41411,fedreg:"71FR60238 60370",pubdate:"20061012",source_id:43,objectid:23,listing_st:"Endangered",ch_id:907,ch_str_id:"a-907"},{comname:"Gulf sturgeon",sciname:"Acipenser oxyrinchus (=oxyrhynchus) desotoi",spcode:"E04W",vipcode:"V01",entity_id:286,status:"Final",leadoffice:41411,fedreg:"68FR13370 13495",pubdate:"20030319",source_id:1096,objectid:141,listing_st:"Threatened",ch_id:907,ch_str_id:"a-907"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:908,ch_str_id:"a-908"},{comname:"St. Andrew beach mouse",sciname:"Peromyscus polionotus peninsularis",spcode:"A0CB",vipcode:"V01",entity_id:54,status:"Final",leadoffice:41411,fedreg:"71FR60238 60370",pubdate:"20061012",source_id:1240,objectid:199,listing_st:"Endangered",ch_id:908,ch_str_id:"a-908"},{comname:"Gulf sturgeon",sciname:"Acipenser oxyrinchus (=oxyrhynchus) desotoi",spcode:"E04W",vipcode:"V01",entity_id:286,status:"Final",leadoffice:41411,fedreg:"68FR13370 13495",pubdate:"20030319",source_id:1096,objectid:141,listing_st:"Threatened",ch_id:908,ch_str_id:"a-908"},{comname:"Aboriginal Prickly-apple",sciname:"Harrisia (=Cereus) aboriginum (=gracilis)",spcode:"Q0DR",vipcode:"P01",entity_id:2211,status:"Final",leadoffice:41411,fedreg:"81FR3865 3925",pubdate:"20160122",source_id:1962,objectid:687,listing_st:"Endangered",ch_id:91,ch_str_id:"a-91"},{comname:"rufa red knot",sciname:"Calidris canutus rufa",spcode:"B0DM",vipcode:"V01",entity_id:8621,status:"Proposed",leadoffice:52421,fedreg:"88FR22530 22693",pubdate:"20230413",source_id:2094,objectid:813,listing_st:"Threatened",ch_id:911,ch_str_id:"a-911"},{comname:"West Indian Manatee",sciname:"Trichechus manatus",spcode:"A007",vipcode:"V01",entity_id:7,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1100,objectid:145,listing_st:"Threatened",ch_id:911,ch_str_id:"a-911"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:911,ch_str_id:"a-911"},{comname:"rufa red knot",sciname:"Calidris canutus rufa",spcode:"B0DM",vipcode:"V01",entity_id:8621,status:"Proposed",leadoffice:52421,fedreg:"88FR22530 22693",pubdate:"20230413",source_id:2094,objectid:813,listing_st:"Threatened",ch_id:913,ch_str_id:"a-913"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:913,ch_str_id:"a-913"},{comname:"Green sea turtle",sciname:"Chelonia mydas",spcode:"C00S",vipcode:"V12",entity_id:11192,status:"Proposed",leadoffice:41411,fedreg:"88FR46376 46570",pubdate:"20230719",source_id:2063,objectid:809,listing_st:"Threatened",ch_id:913,ch_str_id:"a-913"},{comname:"rufa red knot",sciname:"Calidris canutus rufa",spcode:"B0DM",vipcode:"V01",entity_id:8621,status:"Proposed",leadoffice:52421,fedreg:"88FR22530 22693",pubdate:"20230413",source_id:2094,objectid:813,listing_st:"Threatened",ch_id:914,ch_str_id:"a-914"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:914,ch_str_id:"a-914"},{comname:"Gulf sturgeon",sciname:"Acipenser oxyrinchus (=oxyrhynchus) desotoi",spcode:"E04W",vipcode:"V01",entity_id:286,status:"Final",leadoffice:41411,fedreg:"68FR13370 13495",pubdate:"20030319",source_id:1096,objectid:141,listing_st:"Threatened",ch_id:914,ch_str_id:"a-914"},{comname:"rufa red knot",sciname:"Calidris canutus rufa",spcode:"B0DM",vipcode:"V01",entity_id:8621,status:"Proposed",leadoffice:52421,fedreg:"88FR22530 22693",pubdate:"20230413",source_id:2094,objectid:813,listing_st:"Threatened",ch_id:915,ch_str_id:"a-915"},{comname:"Green sea turtle",sciname:"Chelonia mydas",spcode:"C00S",vipcode:"V12",entity_id:11192,status:"Proposed",leadoffice:41411,fedreg:"88FR46376 46570",pubdate:"20230719",source_id:2063,objectid:809,listing_st:"Threatened",ch_id:915,ch_str_id:"a-915"},{comname:"Gulf sturgeon",sciname:"Acipenser oxyrinchus (=oxyrhynchus) desotoi",spcode:"E04W",vipcode:"V01",entity_id:286,status:"Final",leadoffice:41411,fedreg:"68FR13370 13495",pubdate:"20030319",source_id:1096,objectid:141,listing_st:"Threatened",ch_id:915,ch_str_id:"a-915"},{comname:"West Indian Manatee",sciname:"Trichechus manatus",spcode:"A007",vipcode:"V01",entity_id:7,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1100,objectid:145,listing_st:"Threatened",ch_id:916,ch_str_id:"a-916"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:916,ch_str_id:"a-916"},{comname:"Green sea turtle",sciname:"Chelonia mydas",spcode:"C00S",vipcode:"V12",entity_id:11192,status:"Proposed",leadoffice:41411,fedreg:"88FR46376 46570",pubdate:"20230719",source_id:2063,objectid:809,listing_st:"Threatened",ch_id:916,ch_str_id:"a-916"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:918,ch_str_id:"a-918"},{comname:"Perdido Key beach mouse",sciname:"Peromyscus polionotus trissyllepsis",spcode:"A08C",vipcode:"V01",entity_id:35,status:"Final",leadoffice:41411,fedreg:"71FR60238 60370",pubdate:"20061012",source_id:44,objectid:24,listing_st:"Endangered",ch_id:918,ch_str_id:"a-918"},{comname:"Gulf sturgeon",sciname:"Acipenser oxyrinchus (=oxyrhynchus) desotoi",spcode:"E04W",vipcode:"V01",entity_id:286,status:"Final",leadoffice:41411,fedreg:"68FR13370 13495",pubdate:"20030319",source_id:1096,objectid:141,listing_st:"Threatened",ch_id:918,ch_str_id:"a-918"},{comname:"Louisiana pinesnake",sciname:"Pituophis ruthveni",spcode:"C02C",vipcode:"V01",entity_id:3722,status:"Proposed",leadoffice:43440,fedreg:"87FR60580 60612",pubdate:"20221006",source_id:2043,objectid:761,listing_st:"Threatened",ch_id:92,ch_str_id:"a-92"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:923,ch_str_id:"a-923"},{comname:"rufa red knot",sciname:"Calidris canutus rufa",spcode:"B0DM",vipcode:"V01",entity_id:8621,status:"Proposed",leadoffice:52421,fedreg:"88FR22530 22693",pubdate:"20230413",source_id:2094,objectid:813,listing_st:"Threatened",ch_id:923,ch_str_id:"a-923"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:923,ch_str_id:"a-923"},{comname:"Gulf sturgeon",sciname:"Acipenser oxyrinchus (=oxyrhynchus) desotoi",spcode:"E04W",vipcode:"V01",entity_id:286,status:"Final",leadoffice:41411,fedreg:"68FR13370 13495",pubdate:"20030319",source_id:1096,objectid:141,listing_st:"Threatened",ch_id:923,ch_str_id:"a-923"},{comname:"Green sea turtle",sciname:"Chelonia mydas",spcode:"C00S",vipcode:"V12",entity_id:11192,status:"Proposed",leadoffice:41411,fedreg:"88FR46376 46570",pubdate:"20230719",source_id:2063,objectid:809,listing_st:"Threatened",ch_id:923,ch_str_id:"a-923"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:924,ch_str_id:"a-924"},{comname:"rufa red knot",sciname:"Calidris canutus rufa",spcode:"B0DM",vipcode:"V01",entity_id:8621,status:"Proposed",leadoffice:52421,fedreg:"88FR22530 22693",pubdate:"20230413",source_id:2094,objectid:813,listing_st:"Threatened",ch_id:924,ch_str_id:"a-924"},{comname:"Green sea turtle",sciname:"Chelonia mydas",spcode:"C00S",vipcode:"V12",entity_id:11192,status:"Proposed",leadoffice:41411,fedreg:"88FR46376 46570",pubdate:"20230719",source_id:2063,objectid:809,listing_st:"Threatened",ch_id:924,ch_str_id:"a-924"},{comname:"Gulf sturgeon",sciname:"Acipenser oxyrinchus (=oxyrhynchus) desotoi",spcode:"E04W",vipcode:"V01",entity_id:286,status:"Final",leadoffice:41411,fedreg:"68FR13370 13495",pubdate:"20030319",source_id:1096,objectid:141,listing_st:"Threatened",ch_id:924,ch_str_id:"a-924"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:925,ch_str_id:"a-925"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:925,ch_str_id:"a-925"},{comname:"Green sea turtle",sciname:"Chelonia mydas",spcode:"C00S",vipcode:"V12",entity_id:11192,status:"Proposed",leadoffice:41411,fedreg:"88FR46376 46570",pubdate:"20230719",source_id:2063,objectid:809,listing_st:"Threatened",ch_id:925,ch_str_id:"a-925"},{comname:"St. Andrew beach mouse",sciname:"Peromyscus polionotus peninsularis",spcode:"A0CB",vipcode:"V01",entity_id:54,status:"Final",leadoffice:41411,fedreg:"71FR60238 60370",pubdate:"20061012",source_id:1240,objectid:199,listing_st:"Endangered",ch_id:925,ch_str_id:"a-925"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:926,ch_str_id:"a-926"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:926,ch_str_id:"a-926"},{comname:"Green sea turtle",sciname:"Chelonia mydas",spcode:"C00S",vipcode:"V12",entity_id:11192,status:"Proposed",leadoffice:41411,fedreg:"88FR46376 46570",pubdate:"20230719",source_id:2063,objectid:809,listing_st:"Threatened",ch_id:926,ch_str_id:"a-926"},{comname:"Gulf sturgeon",sciname:"Acipenser oxyrinchus (=oxyrhynchus) desotoi",spcode:"E04W",vipcode:"V01",entity_id:286,status:"Final",leadoffice:41411,fedreg:"68FR13370 13495",pubdate:"20030319",source_id:1096,objectid:141,listing_st:"Threatened",ch_id:926,ch_str_id:"a-926"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:928,ch_str_id:"a-928"},{comname:"Green sea turtle",sciname:"Chelonia mydas",spcode:"C00S",vipcode:"V12",entity_id:11192,status:"Proposed",leadoffice:41411,fedreg:"88FR46376 46570",pubdate:"20230719",source_id:2063,objectid:809,listing_st:"Threatened",ch_id:928,ch_str_id:"a-928"},{comname:"St. Andrew beach mouse",sciname:"Peromyscus polionotus peninsularis",spcode:"A0CB",vipcode:"V01",entity_id:54,status:"Final",leadoffice:41411,fedreg:"71FR60238 60370",pubdate:"20061012",source_id:1240,objectid:199,listing_st:"Endangered",ch_id:928,ch_str_id:"a-928"},{comname:"Gulf sturgeon",sciname:"Acipenser oxyrinchus (=oxyrhynchus) desotoi",spcode:"E04W",vipcode:"V01",entity_id:286,status:"Final",leadoffice:41411,fedreg:"68FR13370 13495",pubdate:"20030319",source_id:1096,objectid:141,listing_st:"Threatened",ch_id:928,ch_str_id:"a-928"},{comname:"Aboriginal Prickly-apple",sciname:"Harrisia (=Cereus) aboriginum (=gracilis)",spcode:"Q0DR",vipcode:"P01",entity_id:2211,status:"Final",leadoffice:41411,fedreg:"81FR3865 3925",pubdate:"20160122",source_id:1962,objectid:687,listing_st:"Endangered",ch_id:929,ch_str_id:"a-929"},{comname:"rufa red knot",sciname:"Calidris canutus rufa",spcode:"B0DM",vipcode:"V01",entity_id:8621,status:"Proposed",leadoffice:52421,fedreg:"88FR22530 22693",pubdate:"20230413",source_id:2094,objectid:813,listing_st:"Threatened",ch_id:929,ch_str_id:"a-929"},{comname:"West Indian Manatee",sciname:"Trichechus manatus",spcode:"A007",vipcode:"V01",entity_id:7,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1100,objectid:145,listing_st:"Threatened",ch_id:929,ch_str_id:"a-929"},{comname:"Green sea turtle",sciname:"Chelonia mydas",spcode:"C00S",vipcode:"V12",entity_id:11192,status:"Proposed",leadoffice:41411,fedreg:"88FR46376 46570",pubdate:"20230719",source_id:2063,objectid:809,listing_st:"Threatened",ch_id:929,ch_str_id:"a-929"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:929,ch_str_id:"a-929"},{comname:"Everglade snail kite",sciname:"Rostrhamus sociabilis plumbeus",spcode:"B00F",vipcode:"V01",entity_id:1221,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1067,objectid:116,listing_st:"Endangered",ch_id:93,ch_str_id:"a-93"},{comname:"Aboriginal Prickly-apple",sciname:"Harrisia (=Cereus) aboriginum (=gracilis)",spcode:"Q0DR",vipcode:"P01",entity_id:2211,status:"Final",leadoffice:41411,fedreg:"81FR3865 3925",pubdate:"20160122",source_id:1962,objectid:687,listing_st:"Endangered",ch_id:930,ch_str_id:"a-930"},{comname:"rufa red knot",sciname:"Calidris canutus rufa",spcode:"B0DM",vipcode:"V01",entity_id:8621,status:"Proposed",leadoffice:52421,fedreg:"88FR22530 22693",pubdate:"20230413",source_id:2094,objectid:813,listing_st:"Threatened",ch_id:930,ch_str_id:"a-930"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:930,ch_str_id:"a-930"},{comname:"Green sea turtle",sciname:"Chelonia mydas",spcode:"C00S",vipcode:"V12",entity_id:11192,status:"Proposed",leadoffice:41411,fedreg:"88FR46376 46570",pubdate:"20230719",source_id:2063,objectid:809,listing_st:"Threatened",ch_id:930,ch_str_id:"a-930"},{comname:"rufa red knot",sciname:"Calidris canutus rufa",spcode:"B0DM",vipcode:"V01",entity_id:8621,status:"Proposed",leadoffice:52421,fedreg:"88FR22530 22693",pubdate:"20230413",source_id:2094,objectid:813,listing_st:"Threatened",ch_id:931,ch_str_id:"a-931"},{comname:"West Indian Manatee",sciname:"Trichechus manatus",spcode:"A007",vipcode:"V01",entity_id:7,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1100,objectid:145,listing_st:"Threatened",ch_id:931,ch_str_id:"a-931"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:931,ch_str_id:"a-931"},{comname:"Green sea turtle",sciname:"Chelonia mydas",spcode:"C00S",vipcode:"V12",entity_id:11192,status:"Proposed",leadoffice:41411,fedreg:"88FR46376 46570",pubdate:"20230719",source_id:2063,objectid:809,listing_st:"Threatened",ch_id:931,ch_str_id:"a-931"},{comname:"rufa red knot",sciname:"Calidris canutus rufa",spcode:"B0DM",vipcode:"V01",entity_id:8621,status:"Proposed",leadoffice:52421,fedreg:"88FR22530 22693",pubdate:"20230413",source_id:2094,objectid:813,listing_st:"Threatened",ch_id:932,ch_str_id:"a-932"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:932,ch_str_id:"a-932"},{comname:"Green sea turtle",sciname:"Chelonia mydas",spcode:"C00S",vipcode:"V12",entity_id:11192,status:"Proposed",leadoffice:41411,fedreg:"88FR46376 46570",pubdate:"20230719",source_id:2063,objectid:809,listing_st:"Threatened",ch_id:932,ch_str_id:"a-932"},{comname:"Gulf sturgeon",sciname:"Acipenser oxyrinchus (=oxyrhynchus) desotoi",spcode:"E04W",vipcode:"V01",entity_id:286,status:"Final",leadoffice:41411,fedreg:"68FR13370 13495",pubdate:"20030319",source_id:1096,objectid:141,listing_st:"Threatened",ch_id:932,ch_str_id:"a-932"},{comname:"Piping Plover",sciname:"Charadrius melodus",spcode:"B079",vipcode:"V02",entity_id:131,status:"Final",leadoffice:50100,fedreg:"74FR23476 23600",pubdate:"20090519",source_id:1816,objectid:323,listing_st:"Threatened",ch_id:935,ch_str_id:"a-935"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:935,ch_str_id:"a-935"},{comname:"Green sea turtle",sciname:"Chelonia mydas",spcode:"C00S",vipcode:"V12",entity_id:11192,status:"Proposed",leadoffice:41411,fedreg:"88FR46376 46570",pubdate:"20230719",source_id:2063,objectid:809,listing_st:"Threatened",ch_id:935,ch_str_id:"a-935"},{comname:"St. Andrew beach mouse",sciname:"Peromyscus polionotus peninsularis",spcode:"A0CB",vipcode:"V01",entity_id:54,status:"Final",leadoffice:41411,fedreg:"71FR60238 60370",pubdate:"20061012",source_id:1240,objectid:199,listing_st:"Endangered",ch_id:935,ch_str_id:"a-935"},{comname:"Gulf sturgeon",sciname:"Acipenser oxyrinchus (=oxyrhynchus) desotoi",spcode:"E04W",vipcode:"V01",entity_id:286,status:"Final",leadoffice:41411,fedreg:"68FR13370 13495",pubdate:"20030319",source_id:1096,objectid:141,listing_st:"Threatened",ch_id:935,ch_str_id:"a-935"},{comname:"Topeka shiner",sciname:"Notropis topeka (=tristis)",spcode:"E07R",vipcode:"V01",entity_id:311,status:"Final",leadoffice:64411,fedreg:"69FR44736 44770",pubdate:"20040727",source_id:1180,objectid:188,listing_st:"Endangered",ch_id:937,ch_str_id:"a-937"},{comname:"Canada Lynx",sciname:"Lynx canadensis",spcode:"A073",vipcode:"V01",entity_id:24,status:"Final",leadoffice:61130,fedreg:"79FR54782 54846",pubdate:"20140912",source_id:1348,objectid:228,listing_st:"Threatened",ch_id:938,ch_str_id:"a-938"},{comname:"Poweshiek skipperling",sciname:"Oarisma poweshiek",spcode:"I0W1",vipcode:"I01",entity_id:10147,status:"Final",leadoffice:32410,fedreg:"80FR59247 59384",pubdate:"20151001",source_id:1480,objectid:273,listing_st:"Endangered",ch_id:939,ch_str_id:"a-939"},{comname:"American crocodile",sciname:"Crocodylus acutus",spcode:"C02J",vipcode:"V01",entity_id:176,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1054,objectid:103,listing_st:"Threatened",ch_id:94,ch_str_id:"a-94"},{comname:"Florida Keys mole skink",sciname:"Plestiodon egregius egregius",spcode:"C03U",vipcode:"V01",entity_id:2238,status:"Proposed",leadoffice:40120,fedreg:"87FR58649",pubdate:"20220927",source_id:2042,objectid:760,listing_st:"Proposed Threatened",ch_id:94,ch_str_id:"a-94"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:94,ch_str_id:"a-94"},{comname:"Florida semaphore Cactus",sciname:"Consolea corallicola",spcode:"Q3HT",vipcode:"P01",entity_id:1525,status:"Final",leadoffice:41411,fedreg:"81FR3865 3925",pubdate:"20160122",source_id:1963,objectid:688,listing_st:"Endangered",ch_id:94,ch_str_id:"a-94"},{comname:"West Indian Manatee",sciname:"Trichechus manatus",spcode:"A007",vipcode:"V01",entity_id:7,status:"Final",leadoffice:41411,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:1100,objectid:145,listing_st:"Threatened",ch_id:94,ch_str_id:"a-94"},{comname:"Cape Sable Thoroughwort",sciname:"Chromolaena frustrata",spcode:"Q3HJ",vipcode:"P01",entity_id:8336,status:"Final",leadoffice:41411,fedreg:"79FR1551 1590",pubdate:"20140108",source_id:1534,objectid:308,listing_st:"Endangered",ch_id:94,ch_str_id:"a-94"},{comname:"Leopard darter",sciname:"Percina pantherina",spcode:"E017",vipcode:"V01",entity_id:238,status:"Final",leadoffice:21440,fedreg:"43FR3711 3716",pubdate:"19780127",source_id:17,objectid:7,listing_st:"Threatened",ch_id:940,ch_str_id:"a-940"},{comname:"Gray wolf",sciname:"Canis lupus",spcode:"A00D",vipcode:"V02",entity_id:12,status:"Final",leadoffice:32410,fedreg:"43FR9607 9615",pubdate:"19780309",source_id:2034,objectid:752,listing_st:"Threatened",ch_id:941,ch_str_id:"a-941"},{comname:"Amargosa vole",sciname:"Microtus californicus scirpensis",spcode:"A082",vipcode:"V01",entity_id:28,status:"Final",leadoffice:11430,fedreg:"49FR45160 45164",pubdate:"19841115",source_id:1053,objectid:102,listing_st:"Endangered",ch_id:942,ch_str_id:"a-942"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:942,ch_str_id:"a-942"},{comname:"Colorado pikeminnow",sciname:"Ptychocheilus lucius",spcode:"E006",vipcode:"V01",entity_id:215,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:6,objectid:1,listing_st:"Endangered",ch_id:943,ch_str_id:"a-943"},{comname:"Razorback sucker",sciname:"Xyrauchen texanus",spcode:"E054",vipcode:"V01",entity_id:290,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:715,objectid:63,listing_st:"Endangered",ch_id:943,ch_str_id:"a-943"},{comname:"Colorado pikeminnow",sciname:"Ptychocheilus lucius",spcode:"E006",vipcode:"V01",entity_id:215,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:6,objectid:1,listing_st:"Endangered",ch_id:945,ch_str_id:"a-945"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:945,ch_str_id:"a-945"},{comname:"Jemez Mountains salamander",sciname:"Plethodon neomexicanus",spcode:"D019",vipcode:"V01",entity_id:3849,status:"Final",leadoffice:22420,fedreg:"78FR69569 69591",pubdate:"20131120",source_id:1494,objectid:283,listing_st:"Endangered",ch_id:946,ch_str_id:"a-946"},{comname:"Mexican spotted owl",sciname:"Strix occidentalis lucida",spcode:"B074",vipcode:"V01",entity_id:129,status:"Final",leadoffice:22410,fedreg:"69FR53182 53298",pubdate:"20040831",source_id:20,objectid:9,listing_st:"Threatened",ch_id:946,ch_str_id:"a-946"},{comname:"Jemez Mountains salamander",sciname:"Plethodon neomexicanus",spcode:"D019",vipcode:"V01",entity_id:3849,status:"Final",leadoffice:22420,fedreg:"78FR69569 69591",pubdate:"20131120",source_id:1494,objectid:283,listing_st:"Endangered",ch_id:947,ch_str_id:"a-947"},{comname:"New Mexico meadow jumping mouse",sciname:"Zapus hudsonius luteus",spcode:"A0BX",vipcode:"V01",entity_id:5210,status:"Final",leadoffice:22420,fedreg:"81FR14263 14325",pubdate:"20160316",source_id:1510,objectid:294,listing_st:"Endangered",ch_id:947,ch_str_id:"a-947"},{comname:"Rabbitsfoot",sciname:"Quadrula cylindrica cylindrica",spcode:"F03X",vipcode:"I01",entity_id:3645,status:"Final",leadoffice:43421,fedreg:"80FR24692 24774",pubdate:"20150430",source_id:1507,objectid:803,listing_st:"Threatened",ch_id:948,ch_str_id:"a-948"},{comname:"Louisiana Pigtoe",sciname:"Pleurobema riddellii",spcode:"Q3RF",vipcode:"I01",entity_id:11099,status:"Proposed",leadoffice:21420,fedreg:"88FR16776 16832",pubdate:"20230320",source_id:2052,objectid:770,listing_st:"Proposed Threatened",ch_id:948,ch_str_id:"a-948"},{comname:"Marbled Murrelet",sciname:"Brachyramphus marmoratus",spcode:"B08C",vipcode:"V01",entity_id:143,status:"Final",leadoffice:13410,fedreg:"81FR51348 51370",pubdate:"20160804",source_id:810,objectid:67,listing_st:"Threatened",ch_id:949,ch_str_id:"a-949"},{comname:"Tidewater goby",sciname:"Eucyclogobius newberryi",spcode:"E071",vipcode:"V01",entity_id:306,status:"Final",leadoffice:11440,fedreg:"78FR8745 8819",pubdate:"20130206",source_id:679,objectid:62,listing_st:"Endangered",ch_id:949,ch_str_id:"a-949"},{comname:"Miami tiger beetle",sciname:"Cicindelidia floridana",spcode:"I0XA",vipcode:"I01",entity_id:10909,status:"Final",leadoffice:41411,fedreg:"88FR33194 33238",pubdate:"20230523",source_id:2009,objectid:729,listing_st:"Endangered",ch_id:95,ch_str_id:"a-95"},{comname:"Carter's small-flowered flax",sciname:"Linum carteri carteri",spcode:"Q14I",vipcode:"P01",entity_id:7206,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1539,objectid:312,listing_st:"Endangered",ch_id:95,ch_str_id:"a-95"},{comname:"Florida leafwing Butterfly",sciname:"Anaea troglodyta floridalis",spcode:"I087",vipcode:"I01",entity_id:8083,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1531,objectid:306,listing_st:"Endangered",ch_id:95,ch_str_id:"a-95"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:95,ch_str_id:"a-95"},{comname:"Marbled Murrelet",sciname:"Brachyramphus marmoratus",spcode:"B08C",vipcode:"V01",entity_id:143,status:"Final",leadoffice:13410,fedreg:"81FR51348 51370",pubdate:"20160804",source_id:810,objectid:67,listing_st:"Threatened",ch_id:950,ch_str_id:"a-950"},{comname:"Western Snowy Plover",sciname:"Charadrius nivosus nivosus",spcode:"B07C",vipcode:"V01",entity_id:132,status:"Final",leadoffice:11331,fedreg:"77FR36727 36869",pubdate:"20120619",source_id:890,objectid:73,listing_st:"Threatened",ch_id:950,ch_str_id:"a-950"},{comname:"Rio Grande Silvery Minnow",sciname:"Hybognathus amarus",spcode:"E07I",vipcode:"V01",entity_id:309,status:"Final",leadoffice:22420,fedreg:"68FR8088 8135",pubdate:"20030219",source_id:28,objectid:13,listing_st:"Endangered",ch_id:951,ch_str_id:"a-951"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:951,ch_str_id:"a-951"},{comname:"Rio Grande Silvery Minnow",sciname:"Hybognathus amarus",spcode:"E07I",vipcode:"V01",entity_id:309,status:"Final",leadoffice:22420,fedreg:"68FR8088 8135",pubdate:"20030219",source_id:28,objectid:13,listing_st:"Endangered",ch_id:952,ch_str_id:"a-952"},{comname:"Yellow-billed Cuckoo",sciname:"Coccyzus americanus",spcode:"B06R",vipcode:"V01",entity_id:6901,status:"Final",leadoffice:22410,fedreg:"86FR20798 21005",pubdate:"20210421",source_id:1812,objectid:319,listing_st:"Threatened",ch_id:952,ch_str_id:"a-952"},{comname:"Peninsular bighorn sheep",sciname:"Ovis canadensis nelsoni",spcode:"A0DR",vipcode:"V01",entity_id:56,status:"Final",leadoffice:11430,fedreg:"74FR17288 17365",pubdate:"20090414",source_id:1343,objectid:225,listing_st:"Endangered",ch_id:953,ch_str_id:"a-953"},{comname:"Coachella Valley milk-vetch",sciname:"Astragalus lentiginosus var. coachellae",spcode:"Q25Y",vipcode:"P01",entity_id:886,status:"Final",leadoffice:11430,fedreg:"78FR10449 10497",pubdate:"20130213",source_id:658,objectid:46,listing_st:"Endangered",ch_id:953,ch_str_id:"a-953"},{comname:"Sand dune phacelia",sciname:"Phacelia argentea",spcode:"Q2FB",vipcode:"P01",entity_id:7270,status:"Final",leadoffice:13420,fedreg:"88FR57180 57222",pubdate:"20230822",source_id:2036,objectid:754,listing_st:"Threatened",ch_id:954,ch_str_id:"a-954"},{comname:"Western Snowy Plover",sciname:"Charadrius nivosus nivosus",spcode:"B07C",vipcode:"V01",entity_id:132,status:"Final",leadoffice:11331,fedreg:"77FR36727 36869",pubdate:"20120619",source_id:890,objectid:73,listing_st:"Threatened",ch_id:954,ch_str_id:"a-954"},{comname:"Razorback sucker",sciname:"Xyrauchen texanus",spcode:"E054",vipcode:"V01",entity_id:290,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:715,objectid:63,listing_st:"Endangered",ch_id:955,ch_str_id:"a-955"},{comname:"Humpback chub",sciname:"Gila cypha",spcode:"E000",vipcode:"V01",entity_id:209,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:15,objectid:6,listing_st:"Threatened",ch_id:955,ch_str_id:"a-955"},{comname:"Razorback sucker",sciname:"Xyrauchen texanus",spcode:"E054",vipcode:"V01",entity_id:290,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:715,objectid:63,listing_st:"Endangered",ch_id:956,ch_str_id:"a-956"},{comname:"Desert tortoise",sciname:"Gopherus agassizii",spcode:"C04L",vipcode:"V05",entity_id:185,status:"Final",leadoffice:84321,fedreg:"59FR5820 5866",pubdate:"19940208",source_id:664,objectid:50,listing_st:"Threatened",ch_id:956,ch_str_id:"a-956"},{comname:"Razorback sucker",sciname:"Xyrauchen texanus",spcode:"E054",vipcode:"V01",entity_id:290,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:715,objectid:63,listing_st:"Endangered",ch_id:958,ch_str_id:"a-958"},{comname:"Bonytail",sciname:"Gila elegans",spcode:"E020",vipcode:"V01",entity_id:249,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:716,objectid:64,listing_st:"Endangered",ch_id:958,ch_str_id:"a-958"},{comname:"Canada Lynx",sciname:"Lynx canadensis",spcode:"A073",vipcode:"V01",entity_id:24,status:"Final",leadoffice:61130,fedreg:"79FR54782 54846",pubdate:"20140912",source_id:1348,objectid:228,listing_st:"Threatened",ch_id:959,ch_str_id:"a-959"},{comname:"Bull Trout",sciname:"Salvelinus confluentus",spcode:"E065",vipcode:"V06",entity_id:301,status:"Final",leadoffice:14420,fedreg:"75FR63898 64070",pubdate:"20101018",source_id:830,objectid:68,listing_st:"Threatened",ch_id:959,ch_str_id:"a-959"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:96,ch_str_id:"a-96"},{comname:"Miami tiger beetle",sciname:"Cicindelidia floridana",spcode:"I0XA",vipcode:"I01",entity_id:10909,status:"Final",leadoffice:41411,fedreg:"88FR33194 33238",pubdate:"20230523",source_id:2009,objectid:729,listing_st:"Endangered",ch_id:96,ch_str_id:"a-96"},{comname:"Florida bristle fern",sciname:"Trichomanes punctatum ssp. floridanum",spcode:"S02G",vipcode:"P01",entity_id:9721,status:"Final",leadoffice:41411,fedreg:"87FR78582 78610",pubdate:"20221222",source_id:2049,objectid:767,listing_st:"Endangered",ch_id:96,ch_str_id:"a-96"},{comname:"Florida bonneted bat",sciname:"Eumops floridanus",spcode:"A0JB",vipcode:"V01",entity_id:9725,status:"Final",leadoffice:41411,fedreg:"89FR16624 16681",pubdate:"20240307",source_id:1979,objectid:697,listing_st:"Endangered",ch_id:96,ch_str_id:"a-96"},{comname:"Florida brickell-bush",sciname:"Brickellia mosieri",spcode:"Q09E",vipcode:"P01",entity_id:4420,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1532,objectid:307,listing_st:"Endangered",ch_id:96,ch_str_id:"a-96"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:96,ch_str_id:"a-96"},{comname:"Carter's small-flowered flax",sciname:"Linum carteri carteri",spcode:"Q14I",vipcode:"P01",entity_id:7206,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1539,objectid:312,listing_st:"Endangered",ch_id:96,ch_str_id:"a-96"},{comname:"Canada Lynx",sciname:"Lynx canadensis",spcode:"A073",vipcode:"V01",entity_id:24,status:"Final",leadoffice:61130,fedreg:"79FR54782 54846",pubdate:"20140912",source_id:1348,objectid:228,listing_st:"Threatened",ch_id:960,ch_str_id:"a-960"},{comname:"Northern spotted owl",sciname:"Strix occidentalis caurina",spcode:"B08B",vipcode:"V01",entity_id:142,status:"Final",leadoffice:13420,fedreg:"86FR62606 62666",pubdate:"20211110",source_id:791,objectid:65,listing_st:"Threatened",ch_id:960,ch_str_id:"a-960"},{comname:"Santa Ana sucker",sciname:"Catostomus santaanae",spcode:"E07W",vipcode:"V01",entity_id:312,status:"Final",leadoffice:11430,fedreg:"75FR77962 78027",pubdate:"20101214",source_id:676,objectid:60,listing_st:"Threatened",ch_id:961,ch_str_id:"a-961"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:961,ch_str_id:"a-961"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:961,ch_str_id:"a-961"},{comname:"Santa Ana sucker",sciname:"Catostomus santaanae",spcode:"E07W",vipcode:"V01",entity_id:312,status:"Final",leadoffice:11430,fedreg:"75FR77962 78027",pubdate:"20101214",source_id:676,objectid:60,listing_st:"Threatened",ch_id:962,ch_str_id:"a-962"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:962,ch_str_id:"a-962"},{comname:"Santa Ana sucker",sciname:"Catostomus santaanae",spcode:"E07W",vipcode:"V01",entity_id:312,status:"Final",leadoffice:11430,fedreg:"75FR77962 78027",pubdate:"20101214",source_id:676,objectid:60,listing_st:"Threatened",ch_id:963,ch_str_id:"a-963"},{comname:"Least Bell's vireo",sciname:"Vireo bellii pusillus",spcode:"B067",vipcode:"V01",entity_id:123,status:"Final",leadoffice:11430,fedreg:"59FR4845 4867",pubdate:"19940202",source_id:665,objectid:51,listing_st:"Endangered",ch_id:963,ch_str_id:"a-963"},{comname:"Gierisch mallow",sciname:"Sphaeralcea gierischii",spcode:"Q3LJ",vipcode:"P01",entity_id:9929,status:"Final",leadoffice:22410,fedreg:"78FR49165 49183",pubdate:"20130813",source_id:1523,objectid:299,listing_st:"Endangered",ch_id:964,ch_str_id:"a-964"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:964,ch_str_id:"a-964"},{comname:"Dakota Skipper",sciname:"Hesperia dacotae",spcode:"I011",vipcode:"I01",entity_id:3412,status:"Final",leadoffice:32410,fedreg:"80FR59247 59384",pubdate:"20151001",source_id:1479,objectid:272,listing_st:"Threatened",ch_id:965,ch_str_id:"a-965"},{comname:"Poweshiek skipperling",sciname:"Oarisma poweshiek",spcode:"I0W1",vipcode:"I01",entity_id:10147,status:"Final",leadoffice:32410,fedreg:"80FR59247 59384",pubdate:"20151001",source_id:1480,objectid:273,listing_st:"Endangered",ch_id:965,ch_str_id:"a-965"},{comname:"Humpback chub",sciname:"Gila cypha",spcode:"E000",vipcode:"V01",entity_id:209,status:"Final",leadoffice:65115,fedreg:"59FR13374 13400",pubdate:"19940321",source_id:15,objectid:6,listing_st:"Threatened",ch_id:966,ch_str_id:"a-966"},{comname:"Mexican spotted owl",sciname:"Strix occidentalis lucida",spcode:"B074",vipcode:"V01",entity_id:129,status:"Final",leadoffice:22410,fedreg:"69FR53182 53298",pubdate:"20040831",source_id:20,objectid:9,listing_st:"Threatened",ch_id:966,ch_str_id:"a-966"},{comname:"San Bernardino bluegrass",sciname:"Poa atropurpurea",spcode:"Q1I9",vipcode:"P01",entity_id:594,status:"Final",leadoffice:11430,fedreg:"73FR47706 47767",pubdate:"20080814",source_id:1333,objectid:218,listing_st:"Endangered",ch_id:967,ch_str_id:"a-967"},{comname:"California taraxacum",sciname:"Taraxacum californicum",spcode:"Q1SB",vipcode:"P01",entity_id:614,status:"Final",leadoffice:11430,fedreg:"73FR47706 47767",pubdate:"20080814",source_id:1334,objectid:219,listing_st:"Endangered",ch_id:967,ch_str_id:"a-967"},{comname:"Bear Valley sandwort",sciname:"Arenaria ursina",spcode:"Q03Z",vipcode:"P01",entity_id:506,status:"Final",leadoffice:11430,fedreg:"72FR73092 73178",pubdate:"20071226",source_id:1329,objectid:215,listing_st:"Threatened",ch_id:967,ch_str_id:"a-967"},{comname:"Southern mountain wild-buckwheat",sciname:"Eriogonum kennedyi var. austromontanum",spcode:"Q0S7",vipcode:"P01",entity_id:548,status:"Final",leadoffice:11430,fedreg:"72FR73092 73178",pubdate:"20071226",source_id:1328,objectid:214,listing_st:"Threatened",ch_id:967,ch_str_id:"a-967"},{comname:"Ash-grey paintbrush",sciname:"Castilleja cinerea",spcode:"Q0CL",vipcode:"P01",entity_id:523,status:"Final",leadoffice:11430,fedreg:"72FR73092 73178",pubdate:"20071226",source_id:1330,objectid:216,listing_st:"Threatened",ch_id:967,ch_str_id:"a-967"},{comname:"San Diego ambrosia",sciname:"Ambrosia pumila",spcode:"Q01H",vipcode:"P01",entity_id:500,status:"Final",leadoffice:11430,fedreg:"75FR74546 74604",pubdate:"20101130",source_id:1364,objectid:239,listing_st:"Endangered",ch_id:968,ch_str_id:"a-968"},{comname:"Quino checkerspot butterfly",sciname:"Euphydryas editha quino (=E. e. wrighti)",spcode:"I00P",vipcode:"I01",entity_id:426,status:"Final",leadoffice:11430,fedreg:"74FR28776 28862",pubdate:"20090617",source_id:1078,objectid:123,listing_st:"Endangered",ch_id:968,ch_str_id:"a-968"},{comname:"Braunton's milk-vetch",sciname:"Astragalus brauntonii",spcode:"Q05E",vipcode:"P01",entity_id:507,status:"Final",leadoffice:11440,fedreg:"71FR66374 66423",pubdate:"20061114",source_id:1319,objectid:206,listing_st:"Endangered",ch_id:969,ch_str_id:"a-969"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:969,ch_str_id:"a-969"},{comname:"Cape Sable Thoroughwort",sciname:"Chromolaena frustrata",spcode:"Q3HJ",vipcode:"P01",entity_id:8336,status:"Final",leadoffice:41411,fedreg:"79FR1551 1590",pubdate:"20140108",source_id:1534,objectid:308,listing_st:"Endangered",ch_id:97,ch_str_id:"a-97"},{comname:"Florida semaphore Cactus",sciname:"Consolea corallicola",spcode:"Q3HT",vipcode:"P01",entity_id:1525,status:"Final",leadoffice:41411,fedreg:"81FR3865 3925",pubdate:"20160122",source_id:1963,objectid:688,listing_st:"Endangered",ch_id:97,ch_str_id:"a-97"},{comname:"Loggerhead sea turtle",sciname:"Caretta caretta",spcode:"C00U",vipcode:"V02",entity_id:9707,status:"Final",leadoffice:41411,fedreg:"79FR39756 39854",pubdate:"20140710",source_id:1511,objectid:691,listing_st:"Threatened",ch_id:97,ch_str_id:"a-97"},{comname:"Thread-leaved brodiaea",sciname:"Brodiaea filifolia",spcode:"Q09H",vipcode:"P01",entity_id:516,status:"Final",leadoffice:11430,fedreg:"76FR6848 6925",pubdate:"20110208",source_id:678,objectid:61,listing_st:"Threatened",ch_id:970,ch_str_id:"a-970"},{comname:"Arroyo (=arroyo southwestern) toad",sciname:"Anaxyrus californicus",spcode:"D020",vipcode:"V01",entity_id:204,status:"Final",leadoffice:11440,fedreg:"76FR7245 7467",pubdate:"20110209",source_id:656,objectid:44,listing_st:"Endangered",ch_id:970,ch_str_id:"a-970"},{comname:"La Graciosa thistle",sciname:"Cirsium loncholepis",spcode:"Q0FE",vipcode:"P01",entity_id:531,status:"Final",leadoffice:11440,fedreg:"74FR56978 57046",pubdate:"20091103",source_id:956,objectid:83,listing_st:"Endangered",ch_id:971,ch_str_id:"a-971"},{comname:"Tidewater goby",sciname:"Eucyclogobius newberryi",spcode:"E071",vipcode:"V01",entity_id:306,status:"Final",leadoffice:11440,fedreg:"78FR8745 8819",pubdate:"20130206",source_id:679,objectid:62,listing_st:"Endangered",ch_id:971,ch_str_id:"a-971"},{comname:"La Graciosa thistle",sciname:"Cirsium loncholepis",spcode:"Q0FE",vipcode:"P01",entity_id:531,status:"Final",leadoffice:11440,fedreg:"74FR56978 57046",pubdate:"20091103",source_id:956,objectid:83,listing_st:"Endangered",ch_id:972,ch_str_id:"a-972"},{comname:"Western Snowy Plover",sciname:"Charadrius nivosus nivosus",spcode:"B07C",vipcode:"V01",entity_id:132,status:"Final",leadoffice:11331,fedreg:"77FR36727 36869",pubdate:"20120619",source_id:890,objectid:73,listing_st:"Threatened",ch_id:972,ch_str_id:"a-972"},{comname:"Yellow larkspur",sciname:"Delphinium luteum",spcode:"Q0M2",vipcode:"P01",entity_id:540,status:"Final",leadoffice:11420,fedreg:"68FR12834 12863",pubdate:"20030318",source_id:1064,objectid:113,listing_st:"Endangered",ch_id:973,ch_str_id:"a-973"},{comname:"Tidewater goby",sciname:"Eucyclogobius newberryi",spcode:"E071",vipcode:"V01",entity_id:306,status:"Final",leadoffice:11440,fedreg:"78FR8745 8819",pubdate:"20130206",source_id:679,objectid:62,listing_st:"Endangered",ch_id:973,ch_str_id:"a-973"},{comname:"Lyon's pentachaeta",sciname:"Pentachaeta lyonii",spcode:"Q1EA",vipcode:"P01",entity_id:586,status:"Final",leadoffice:11440,fedreg:"71FR66374 66423",pubdate:"20061114",source_id:1320,objectid:207,listing_st:"Endangered",ch_id:974,ch_str_id:"a-974"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:974,ch_str_id:"a-974"},{comname:"Lyon's pentachaeta",sciname:"Pentachaeta lyonii",spcode:"Q1EA",vipcode:"P01",entity_id:586,status:"Final",leadoffice:11440,fedreg:"71FR66374 66423",pubdate:"20061114",source_id:1320,objectid:207,listing_st:"Endangered",ch_id:975,ch_str_id:"a-975"},{comname:"Riverside fairy shrimp",sciname:"Streptocephalus woottoni",spcode:"K03F",vipcode:"I01",entity_id:492,status:"Final",leadoffice:11430,fedreg:"77FR72069 72140",pubdate:"20121204",source_id:673,objectid:57,listing_st:"Endangered",ch_id:975,ch_str_id:"a-975"},{comname:"Holmgren milk-vetch",sciname:"Astragalus holmgreniorum",spcode:"Q2NC",vipcode:"P01",entity_id:1020,status:"Final",leadoffice:65411,fedreg:"71FR77972 78012",pubdate:"20061227",source_id:1358,objectid:234,listing_st:"Endangered",ch_id:976,ch_str_id:"a-976"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:976,ch_str_id:"a-976"},{comname:"Desert tortoise",sciname:"Gopherus agassizii",spcode:"C04L",vipcode:"V05",entity_id:185,status:"Final",leadoffice:84321,fedreg:"59FR5820 5866",pubdate:"19940208",source_id:664,objectid:50,listing_st:"Threatened",ch_id:977,ch_str_id:"a-977"},{comname:"Shivwits milk-vetch",sciname:"Astragalus ampullarioides",spcode:"Q2ZA",vipcode:"P01",entity_id:1088,status:"Final",leadoffice:65411,fedreg:"71FR77972 78012",pubdate:"20061227",source_id:1359,objectid:235,listing_st:"Endangered",ch_id:977,ch_str_id:"a-977"},{comname:"Desert tortoise",sciname:"Gopherus agassizii",spcode:"C04L",vipcode:"V05",entity_id:185,status:"Final",leadoffice:84321,fedreg:"59FR5820 5866",pubdate:"19940208",source_id:664,objectid:50,listing_st:"Threatened",ch_id:978,ch_str_id:"a-978"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:978,ch_str_id:"a-978"},{comname:"Desert tortoise",sciname:"Gopherus agassizii",spcode:"C04L",vipcode:"V05",entity_id:185,status:"Final",leadoffice:84321,fedreg:"59FR5820 5866",pubdate:"19940208",source_id:664,objectid:50,listing_st:"Threatened",ch_id:979,ch_str_id:"a-979"},{comname:"Lane Mountain milk-vetch",sciname:"Astragalus jaegerianus",spcode:"Q064",vipcode:"P01",entity_id:510,status:"Final",leadoffice:11430,fedreg:"76FR29108 29129",pubdate:"20110519",source_id:1388,objectid:255,listing_st:"Endangered",ch_id:979,ch_str_id:"a-979"},{comname:"Florida semaphore Cactus",sciname:"Consolea corallicola",spcode:"Q3HT",vipcode:"P01",entity_id:1525,status:"Final",leadoffice:41411,fedreg:"81FR3865 3925",pubdate:"20160122",source_id:1963,objectid:688,listing_st:"Endangered",ch_id:98,ch_str_id:"a-98"},{comname:"Florida leafwing Butterfly",sciname:"Anaea troglodyta floridalis",spcode:"I087",vipcode:"I01",entity_id:8083,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1531,objectid:306,listing_st:"Endangered",ch_id:98,ch_str_id:"a-98"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:98,ch_str_id:"a-98"},{comname:"Shivwits milk-vetch",sciname:"Astragalus ampullarioides",spcode:"Q2ZA",vipcode:"P01",entity_id:1088,status:"Final",leadoffice:65411,fedreg:"71FR77972 78012",pubdate:"20061227",source_id:1359,objectid:235,listing_st:"Endangered",ch_id:980,ch_str_id:"a-980"},{comname:"Mexican spotted owl",sciname:"Strix occidentalis lucida",spcode:"B074",vipcode:"V01",entity_id:129,status:"Final",leadoffice:22410,fedreg:"69FR53182 53298",pubdate:"20040831",source_id:20,objectid:9,listing_st:"Threatened",ch_id:980,ch_str_id:"a-980"},{comname:"Gaviota Tarplant",sciname:"Deinandra increscens ssp. villosa",spcode:"Q340",vipcode:"P01",entity_id:1119,status:"Final",leadoffice:11440,fedreg:"67FR67968 68001",pubdate:"20021107",source_id:957,objectid:84,listing_st:"Endangered",ch_id:981,ch_str_id:"a-981"},{comname:"Tidewater goby",sciname:"Eucyclogobius newberryi",spcode:"E071",vipcode:"V01",entity_id:306,status:"Final",leadoffice:11440,fedreg:"78FR8745 8819",pubdate:"20130206",source_id:679,objectid:62,listing_st:"Endangered",ch_id:981,ch_str_id:"a-981"},{comname:"Monterey spineflower",sciname:"Chorizanthe pungens var. pungens",spcode:"Q271",vipcode:"P01",entity_id:903,status:"Final",leadoffice:11440,fedreg:"73FR1525",pubdate:"20080109",source_id:964,objectid:90,listing_st:"Threatened",ch_id:982,ch_str_id:"a-982"},{comname:"Western Snowy Plover",sciname:"Charadrius nivosus nivosus",spcode:"B07C",vipcode:"V01",entity_id:132,status:"Final",leadoffice:11331,fedreg:"77FR36727 36869",pubdate:"20120619",source_id:890,objectid:73,listing_st:"Threatened",ch_id:982,ch_str_id:"a-982"},{comname:"Morro shoulderband (=Banded dune) snail",sciname:"Helminthoglypta walkeriana",spcode:"G00D",vipcode:"I01",entity_id:387,status:"Final",leadoffice:11440,fedreg:"66FR9233 9246",pubdate:"20010207",source_id:965,objectid:91,listing_st:"Threatened",ch_id:983,ch_str_id:"a-983"},{comname:"Tidewater goby",sciname:"Eucyclogobius newberryi",spcode:"E071",vipcode:"V01",entity_id:306,status:"Final",leadoffice:11440,fedreg:"78FR8745 8819",pubdate:"20130206",source_id:679,objectid:62,listing_st:"Endangered",ch_id:983,ch_str_id:"a-983"},{comname:"Morro shoulderband (=Banded dune) snail",sciname:"Helminthoglypta walkeriana",spcode:"G00D",vipcode:"I01",entity_id:387,status:"Final",leadoffice:11440,fedreg:"66FR9233 9246",pubdate:"20010207",source_id:965,objectid:91,listing_st:"Threatened",ch_id:984,ch_str_id:"a-984"},{comname:"Western Snowy Plover",sciname:"Charadrius nivosus nivosus",spcode:"B07C",vipcode:"V01",entity_id:132,status:"Final",leadoffice:11331,fedreg:"77FR36727 36869",pubdate:"20120619",source_id:890,objectid:73,listing_st:"Threatened",ch_id:984,ch_str_id:"a-984"},{comname:"Pacific Marten, Coastal Distinct Population Segment",sciname:"Martes caurina",spcode:"A0JI",vipcode:"V01",entity_id:10078,status:"Final",leadoffice:11331,fedreg:"89FR46576 46616",pubdate:"20240529",source_id:2014,objectid:733,listing_st:"Threatened",ch_id:985,ch_str_id:"a-985"},{comname:"Western Snowy Plover",sciname:"Charadrius nivosus nivosus",spcode:"B07C",vipcode:"V01",entity_id:132,status:"Final",leadoffice:11331,fedreg:"77FR36727 36869",pubdate:"20120619",source_id:890,objectid:73,listing_st:"Threatened",ch_id:985,ch_str_id:"a-985"},{comname:"Morro Bay kangaroo rat",sciname:"Dipodomys heermanni morroensis",spcode:"A03X",vipcode:"V01",entity_id:16,status:"Final",leadoffice:11440,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:963,objectid:89,listing_st:"Endangered",ch_id:986,ch_str_id:"a-986"},{comname:"Western Snowy Plover",sciname:"Charadrius nivosus nivosus",spcode:"B07C",vipcode:"V01",entity_id:132,status:"Final",leadoffice:11331,fedreg:"77FR36727 36869",pubdate:"20120619",source_id:890,objectid:73,listing_st:"Threatened",ch_id:986,ch_str_id:"a-986"},{comname:"Tidewater goby",sciname:"Eucyclogobius newberryi",spcode:"E071",vipcode:"V01",entity_id:306,status:"Final",leadoffice:11440,fedreg:"78FR8745 8819",pubdate:"20130206",source_id:679,objectid:62,listing_st:"Endangered",ch_id:987,ch_str_id:"a-987"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:987,ch_str_id:"a-987"},{comname:"Tidewater goby",sciname:"Eucyclogobius newberryi",spcode:"E071",vipcode:"V01",entity_id:306,status:"Final",leadoffice:11440,fedreg:"78FR8745 8819",pubdate:"20130206",source_id:679,objectid:62,listing_st:"Endangered",ch_id:988,ch_str_id:"a-988"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:988,ch_str_id:"a-988"},{comname:"Tidewater goby",sciname:"Eucyclogobius newberryi",spcode:"E071",vipcode:"V01",entity_id:306,status:"Final",leadoffice:11440,fedreg:"78FR8745 8819",pubdate:"20130206",source_id:679,objectid:62,listing_st:"Endangered",ch_id:989,ch_str_id:"a-989"},{comname:"Western Snowy Plover",sciname:"Charadrius nivosus nivosus",spcode:"B07C",vipcode:"V01",entity_id:132,status:"Final",leadoffice:11331,fedreg:"77FR36727 36869",pubdate:"20120619",source_id:890,objectid:73,listing_st:"Threatened",ch_id:989,ch_str_id:"a-989"},{comname:"Carter's small-flowered flax",sciname:"Linum carteri carteri",spcode:"Q14I",vipcode:"P01",entity_id:7206,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1539,objectid:312,listing_st:"Endangered",ch_id:99,ch_str_id:"a-99"},{comname:"Miami tiger beetle",sciname:"Cicindelidia floridana",spcode:"I0XA",vipcode:"I01",entity_id:10909,status:"Final",leadoffice:41411,fedreg:"88FR33194 33238",pubdate:"20230523",source_id:2009,objectid:729,listing_st:"Endangered",ch_id:99,ch_str_id:"a-99"},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:99,ch_str_id:"a-99"},{comname:"Three Forks Springsnail",sciname:"Pyrgulopsis trivialis",spcode:"G051",vipcode:"I01",entity_id:4766,status:"Final",leadoffice:22410,fedreg:"77FR23060 23092",pubdate:"20120417",source_id:1458,objectid:263,listing_st:"Endangered",ch_id:990,ch_str_id:"a-990"},{comname:"Mexican spotted owl",sciname:"Strix occidentalis lucida",spcode:"B074",vipcode:"V01",entity_id:129,status:"Final",leadoffice:22410,fedreg:"69FR53182 53298",pubdate:"20040831",source_id:20,objectid:9,listing_st:"Threatened",ch_id:990,ch_str_id:"a-990"},{comname:"California condor",sciname:"Gymnogyps californianus",spcode:"B002",vipcode:"V01",entity_id:66,status:"Final",leadoffice:11670,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:953,objectid:81,listing_st:"Endangered",ch_id:991,ch_str_id:"a-991"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:991,ch_str_id:"a-991"},{comname:"California condor",sciname:"Gymnogyps californianus",spcode:"B002",vipcode:"V01",entity_id:66,status:"Final",leadoffice:11670,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:953,objectid:81,listing_st:"Endangered",ch_id:992,ch_str_id:"a-992"},{comname:"Arroyo (=arroyo southwestern) toad",sciname:"Anaxyrus californicus",spcode:"D020",vipcode:"V01",entity_id:204,status:"Final",leadoffice:11440,fedreg:"76FR7245 7467",pubdate:"20110209",source_id:656,objectid:44,listing_st:"Endangered",ch_id:992,ch_str_id:"a-992"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:993,ch_str_id:"a-993"},{comname:"Quino checkerspot butterfly",sciname:"Euphydryas editha quino (=E. e. wrighti)",spcode:"I00P",vipcode:"I01",entity_id:426,status:"Final",leadoffice:11430,fedreg:"74FR28776 28862",pubdate:"20090617",source_id:1078,objectid:123,listing_st:"Endangered",ch_id:993,ch_str_id:"a-993"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:994,ch_str_id:"a-994"},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:994,ch_str_id:"a-994"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:995,ch_str_id:"a-995"},{comname:"San Bernardino Merriam's kangaroo rat",sciname:"Dipodomys merriami parvus",spcode:"A0G8",vipcode:"V01",entity_id:63,status:"Final",leadoffice:11430,fedreg:"67FR19812 19845",pubdate:"20020423",source_id:674,objectid:58,listing_st:"Endangered",ch_id:995,ch_str_id:"a-995"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:996,ch_str_id:"a-996"},{comname:"Ash Meadows gumplant",sciname:"Grindelia fraxinipratensis",spcode:"Q2AM",vipcode:"P01",entity_id:941,status:"Final",leadoffice:84321,fedreg:"50FR20777 20794",pubdate:"19850520",source_id:1128,objectid:155,listing_st:"Threatened",ch_id:996,ch_str_id:"a-996"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:997,ch_str_id:"a-997"},{comname:"New Mexico meadow jumping mouse",sciname:"Zapus hudsonius luteus",spcode:"A0BX",vipcode:"V01",entity_id:5210,status:"Final",leadoffice:22420,fedreg:"81FR14263 14325",pubdate:"20160316",source_id:1510,objectid:294,listing_st:"Endangered",ch_id:997,ch_str_id:"a-997"},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:998,ch_str_id:"a-998"},{comname:"Western Snowy Plover",sciname:"Charadrius nivosus nivosus",spcode:"B07C",vipcode:"V01",entity_id:132,status:"Final",leadoffice:11331,fedreg:"77FR36727 36869",pubdate:"20120619",source_id:890,objectid:73,listing_st:"Threatened",ch_id:998,ch_str_id:"a-998"},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:999,ch_str_id:"a-999"},{comname:"Palos Verdes blue butterfly",sciname:"Glaucopsyche lygdamus palosverdesensis",spcode:"I01B",vipcode:"I01",entity_id:432,status:"Final",leadoffice:11430,fedreg:"45FR44939 44942",pubdate:"19800702",source_id:668,objectid:54,listing_st:"Endangered",ch_id:999,ch_str_id:"a-999"},{comname:"rim rock crowned snake",sciname:"Tantilla oolitica",spcode:"C042",vipcode:"V01",entity_id:5944,status:"Proposed",leadoffice:43910,fedreg:"87FR62614 62674",pubdate:"20221014",source_id:2048,objectid:766,listing_st:"Proposed Endangered",ch_id:null,ch_str_id:""},{comname:"Florida bonneted bat",sciname:"Eumops floridanus",spcode:"A0JB",vipcode:"V01",entity_id:9725,status:"Final",leadoffice:41411,fedreg:"89FR16624 16681",pubdate:"20240307",source_id:1979,objectid:697,listing_st:"Endangered",ch_id:null,ch_str_id:""},{comname:"Florida leafwing Butterfly",sciname:"Anaea troglodyta floridalis",spcode:"I087",vipcode:"I01",entity_id:8083,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1531,objectid:306,listing_st:"Endangered",ch_id:null,ch_str_id:""},{comname:"Miami tiger beetle",sciname:"Cicindelidia floridana",spcode:"I0XA",vipcode:"I01",entity_id:10909,status:"Final",leadoffice:41411,fedreg:"88FR33194 33238",pubdate:"20230523",source_id:2009,objectid:729,listing_st:"Endangered",ch_id:null,ch_str_id:""},{comname:"Bartram's hairstreak Butterfly",sciname:"Strymon acis bartrami",spcode:"I07G",vipcode:"I01",entity_id:5067,status:"Final",leadoffice:41411,fedreg:"79FR47179 47220",pubdate:"20140812",source_id:1547,objectid:315,listing_st:"Endangered",ch_id:null,ch_str_id:""},{comname:"Carter's small-flowered flax",sciname:"Linum carteri carteri",spcode:"Q14I",vipcode:"P01",entity_id:7206,status:"Final",leadoffice:41411,fedreg:"80FR49845 49886",pubdate:"20150817",source_id:1539,objectid:312,listing_st:"Endangered",ch_id:null,ch_str_id:""},{comname:"Pecos assiminea snail",sciname:"Assiminea pecos",spcode:"G03K",vipcode:"I01",entity_id:1245,status:"Final",leadoffice:22420,fedreg:"76FR33036 33064",pubdate:"20110607",source_id:950,objectid:79,listing_st:"Endangered",ch_id:null,ch_str_id:""},{comname:"Chupadera springsnail",sciname:"Pyrgulopsis chupaderae",spcode:"G03S",vipcode:"I01",entity_id:4162,status:"Final",leadoffice:22420,fedreg:"77FR41088 41106",pubdate:"20120712",source_id:1548,objectid:316,listing_st:"Endangered",ch_id:null,ch_str_id:""},{comname:"Quitobaquito tryonia",sciname:"Tryonia quitobaquitae",spcode:"G05K",vipcode:"I01",entity_id:2722,status:"Proposed",leadoffice:0,fedreg:"88FR62725 62747",pubdate:"20230913",source_id:2085,objectid:796,listing_st:"Proposed Endangered",ch_id:null,ch_str_id:""},{comname:"Nevin's barberry",sciname:"Berberis nevinii",spcode:"Q08G",vipcode:"P01",entity_id:514,status:"Final",leadoffice:11430,fedreg:"73FR8412 8440",pubdate:"20080213",source_id:1336,objectid:221,listing_st:"Endangered",ch_id:null,ch_str_id:""},{comname:"Quino checkerspot butterfly",sciname:"Euphydryas editha quino (=E. e. wrighti)",spcode:"I00P",vipcode:"I01",entity_id:426,status:"Final",leadoffice:11430,fedreg:"74FR28776 28862",pubdate:"20090617",source_id:1078,objectid:123,listing_st:"Endangered",ch_id:null,ch_str_id:""},{comname:"Beautiful shiner",sciname:"Cyprinella formosa",spcode:"E04B",vipcode:"V01",entity_id:276,status:"Final",leadoffice:22523,fedreg:"49FR34490 34497",pubdate:"19840831",source_id:41,objectid:22,listing_st:"Threatened",ch_id:null,ch_str_id:""},{comname:"Yaqui catfish",sciname:"Ictalurus pricei",spcode:"E02H",vipcode:"V01",entity_id:259,status:"Final",leadoffice:22523,fedreg:"49FR34490 34497",pubdate:"19840831",source_id:41,objectid:22,listing_st:"Threatened",ch_id:null,ch_str_id:""},{comname:"Yaqui chub",sciname:"Gila purpurea",spcode:"E034",vipcode:"V01",entity_id:263,status:"Final",leadoffice:22523,fedreg:"49FR34490 34497",pubdate:"19840831",source_id:41,objectid:22,listing_st:"Endangered",ch_id:null,ch_str_id:""},{comname:"San Bernardino springsnail",sciname:"Pyrgulopsis bernardina",spcode:"G05E",vipcode:"I01",entity_id:1380,status:"Final",leadoffice:22410,fedreg:"77FR23060 23092",pubdate:"20120417",source_id:1459,objectid:264,listing_st:"Threatened",ch_id:null,ch_str_id:""},{comname:"Solano grass",sciname:"Tuctoria mucronata",spcode:"Q23L",vipcode:"P01",entity_id:859,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1093,objectid:138,listing_st:"Endangered",ch_id:null,ch_str_id:""},{comname:"Colusa grass",sciname:"Neostapfia colusana",spcode:"Q19I",vipcode:"P01",entity_id:580,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1088,objectid:133,listing_st:"Threatened",ch_id:null,ch_str_id:""},{comname:"Vernal pool tadpole shrimp",sciname:"Lepidurus packardi",spcode:"K048",vipcode:"I01",entity_id:494,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1095,objectid:140,listing_st:"Endangered",ch_id:null,ch_str_id:""},{comname:"Delta smelt",sciname:"Hypomesus transpacificus",spcode:"E070",vipcode:"V01",entity_id:305,status:"Final",leadoffice:81410,fedreg:"59FR65256 65279",pubdate:"19941219",source_id:1065,objectid:114,listing_st:"Threatened",ch_id:null,ch_str_id:""},{comname:"Navajo sedge",sciname:"Carex specuicola",spcode:"Q1U1",vipcode:"P01",entity_id:656,status:"Final",leadoffice:22410,fedreg:"50FR19370 19374",pubdate:"19850508",source_id:22,objectid:11,listing_st:"Threatened",ch_id:null,ch_str_id:""},{comname:"Alabama cavefish",sciname:"Speoplatyrhinus poulsoni",spcode:"E011",vipcode:"V01",entity_id:236,status:"Final",leadoffice:43410,fedreg:"42FR45526 45530",pubdate:"19770909",source_id:1392,objectid:257,listing_st:"Endangered",ch_id:null,ch_str_id:""},{comname:"Gaviota Tarplant",sciname:"Deinandra increscens ssp. villosa",spcode:"Q340",vipcode:"P01",entity_id:1119,status:"Final",leadoffice:11440,fedreg:"67FR67968 68001",pubdate:"20021107",source_id:957,objectid:84,listing_st:"Endangered",ch_id:null,ch_str_id:""},{comname:"Tidewater goby",sciname:"Eucyclogobius newberryi",spcode:"E071",vipcode:"V01",entity_id:306,status:"Final",leadoffice:11440,fedreg:"78FR8745 8819",pubdate:"20130206",source_id:679,objectid:62,listing_st:"Endangered",ch_id:null,ch_str_id:""},{comname:"California red-legged frog",sciname:"Rana draytonii",spcode:"D02D",vipcode:"V01",entity_id:205,status:"Final",leadoffice:11420,fedreg:"75FR12816 12959",pubdate:"20100317",source_id:1062,objectid:111,listing_st:"Threatened",ch_id:null,ch_str_id:""},{comname:"Chiricahua leopard frog",sciname:"Rana chiricahuensis",spcode:"D02F",vipcode:"V01",entity_id:206,status:"Final",leadoffice:22410,fedreg:"77FR16324 16424",pubdate:"20120320",source_id:1454,objectid:261,listing_st:"Threatened",ch_id:null,ch_str_id:""},{comname:"Northern Mexican gartersnake",sciname:"Thamnophis eques megalops",spcode:"C04Q",vipcode:"V01",entity_id:1783,status:"Final",leadoffice:22410,fedreg:"86FR22518 22580",pubdate:"20210428",source_id:1526,objectid:302,listing_st:"Threatened",ch_id:null,ch_str_id:""},{comname:"Mexican spotted owl",sciname:"Strix occidentalis lucida",spcode:"B074",vipcode:"V01",entity_id:129,status:"Final",leadoffice:22410,fedreg:"69FR53182 53298",pubdate:"20040831",source_id:20,objectid:9,listing_st:"Threatened",ch_id:null,ch_str_id:""},{comname:"Otay tarplant",sciname:"Deinandra (=Hemizonia) conjugens",spcode:"Q0YQ",vipcode:"P01",entity_id:559,status:"Final",leadoffice:11430,fedreg:"67FR76030 76053",pubdate:"20021210",source_id:667,objectid:53,listing_st:"Threatened",ch_id:null,ch_str_id:""},{comname:"Spreading navarretia",sciname:"Navarretia fossalis",spcode:"Q2E7",vipcode:"P01",entity_id:972,status:"Final",leadoffice:11430,fedreg:"75FR62192 62255",pubdate:"20101007",source_id:910,objectid:74,listing_st:"Threatened",ch_id:null,ch_str_id:""},{comname:"Jaguar",sciname:"Panthera onca",spcode:"A040",vipcode:"V01",entity_id:18,status:"Final",leadoffice:22410,fedreg:"89FR46822 46824",pubdate:"20240530",source_id:2010,objectid:730,listing_st:"Endangered",ch_id:null,ch_str_id:""},{comname:"beardless chinchweed",sciname:"Pectis imberbis",spcode:"Q2Q9",vipcode:"P01",entity_id:2884,status:"Final",leadoffice:22410,fedreg:"86FR31830 31868",pubdate:"20210615",source_id:1971,objectid:692,listing_st:"Endangered",ch_id:null,ch_str_id:""},{comname:"Wright's marsh thistle",sciname:"Cirsium wrightii",spcode:"Q3N3",vipcode:"P01",entity_id:9965,status:"Final",leadoffice:22420,fedreg:"88FR25208 25249",pubdate:"20230425",source_id:2054,objectid:772,listing_st:"Threatened",ch_id:null,ch_str_id:""},{comname:"Sacramento Mountains checkerspot Butterfly",sciname:"Euphydryas anicia cloudcrofti",spcode:"I0RK",vipcode:"I01",entity_id:1260,status:"Proposed",leadoffice:22420,fedreg:"88FR54263 54288",pubdate:"20230810",source_id:2077,objectid:782,listing_st:"Endangered",ch_id:null,ch_str_id:""},{comname:"New Mexico meadow jumping mouse",sciname:"Zapus hudsonius luteus",spcode:"A0BX",vipcode:"V01",entity_id:5210,status:"Final",leadoffice:22420,fedreg:"81FR14263 14325",pubdate:"20160316",source_id:1510,objectid:294,listing_st:"Endangered",ch_id:null,ch_str_id:""},{comname:"San Diego ambrosia",sciname:"Ambrosia pumila",spcode:"Q01H",vipcode:"P01",entity_id:500,status:"Final",leadoffice:11430,fedreg:"75FR74546 74604",pubdate:"20101130",source_id:1364,objectid:239,listing_st:"Endangered",ch_id:null,ch_str_id:""},{comname:"Southwestern willow flycatcher",sciname:"Empidonax traillii extimus",spcode:"B094",vipcode:"V01",entity_id:149,status:"Final",leadoffice:22410,fedreg:"78FR344 534",pubdate:"20130103",source_id:792,objectid:66,listing_st:"Endangered",ch_id:null,ch_str_id:""},{comname:"Coastal California gnatcatcher",sciname:"Polioptila californica californica",spcode:"B08X",vipcode:"V01",entity_id:145,status:"Final",leadoffice:11430,fedreg:"72FR72010 72213",pubdate:"20071219",source_id:992,objectid:97,listing_st:"Threatened",ch_id:null,ch_str_id:""},{comname:"Least Bell's vireo",sciname:"Vireo bellii pusillus",spcode:"B067",vipcode:"V01",entity_id:123,status:"Final",leadoffice:11430,fedreg:"59FR4845 4867",pubdate:"19940202",source_id:665,objectid:51,listing_st:"Endangered",ch_id:null,ch_str_id:""},{comname:"Lassics lupine",sciname:"Lupinus constancei",spcode:"Q2PS",vipcode:"P01",entity_id:3295,status:"Final",leadoffice:11331,fedreg:"88FR69074 69098",pubdate:"20231005",source_id:2087,objectid:805,listing_st:"Endangered",ch_id:null,ch_str_id:""},{comname:"Northern spotted owl",sciname:"Strix occidentalis caurina",spcode:"B08B",vipcode:"V01",entity_id:142,status:"Final",leadoffice:13420,fedreg:"86FR62606 62666",pubdate:"20211110",source_id:791,objectid:65,listing_st:"Threatened",ch_id:null,ch_str_id:""},{comname:"Contra Costa goldfields",sciname:"Lasthenia conjugens",spcode:"Q122",vipcode:"P01",entity_id:566,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1085,objectid:130,listing_st:"Endangered",ch_id:null,ch_str_id:""},{comname:"Vernal pool fairy shrimp",sciname:"Branchinecta lynchi",spcode:"K03G",vipcode:"I01",entity_id:493,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1094,objectid:139,listing_st:"Threatened",ch_id:null,ch_str_id:""},{comname:"Suisun thistle",sciname:"Cirsium hydrophilum var. hydrophilum",spcode:"Q0FC",vipcode:"P01",entity_id:530,status:"Final",leadoffice:81410,fedreg:"72FR18518 18553",pubdate:"20070412",source_id:1374,objectid:245,listing_st:"Endangered",ch_id:null,ch_str_id:""},{comname:"Soft bird's-beak",sciname:"Cordylanthus mollis ssp. mollis",spcode:"Q0GT",vipcode:"P01",entity_id:534,status:"Final",leadoffice:81410,fedreg:"72FR18518 18553",pubdate:"20070412",source_id:1375,objectid:246,listing_st:"Endangered",ch_id:null,ch_str_id:""},{comname:"Conservancy fairy shrimp",sciname:"Branchinecta conservatio",spcode:"K03D",vipcode:"I01",entity_id:490,status:"Final",leadoffice:11420,fedreg:"71FR7118 7316",pubdate:"20060210",source_id:1083,objectid:128,listing_st:"Endangered",ch_id:null,ch_str_id:""},{comname:"Marbled Murrelet",sciname:"Brachyramphus marmoratus",spcode:"B08C",vipcode:"V01",entity_id:143,status:"Final",leadoffice:13410,fedreg:"81FR51348 51370",pubdate:"20160804",source_id:810,objectid:67,listing_st:"Threatened",ch_id:null,ch_str_id:""},{comname:"Oregon silverspot butterfly",sciname:"Speyeria zerene hippolyta",spcode:"I01A",vipcode:"I01",entity_id:431,status:"Final",leadoffice:13420,fedreg:"45FR44935 44939",pubdate:"19800702",source_id:1164,objectid:182,listing_st:"Threatened",ch_id:null,ch_str_id:""},{comname:"Yellowfin madtom",sciname:"Noturus flavipinnis",spcode:"E01Y",vipcode:"V01",entity_id:247,status:"Final",leadoffice:42430,fedreg:"42FR47840 47845",pubdate:"19770922",source_id:2023,objectid:743,listing_st:"Threatened",ch_id:null,ch_str_id:""},{comname:"Sickle darter",sciname:"Percina williamsi",spcode:"E0CX",vipcode:"V01",entity_id:10823,status:"Proposed",leadoffice:40120,fedreg:"88FR4128 4150",pubdate:"20230124",source_id:2050,objectid:768,listing_st:"Threatened",ch_id:null,ch_str_id:""},{comname:"Oyster mussel",sciname:"Epioblasma capsaeformis",spcode:"F01T",vipcode:"I01",entity_id:358,status:"Final",leadoffice:42430,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2039,objectid:757,listing_st:"Endangered",ch_id:null,ch_str_id:""},{comname:"Cumberlandian combshell",sciname:"Epioblasma brevidens",spcode:"F01F",vipcode:"I01",entity_id:353,status:"Final",leadoffice:42430,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2038,objectid:756,listing_st:"Endangered",ch_id:null,ch_str_id:""},{comname:"Purple bean",sciname:"Villosa perpurpurea",spcode:"F001",vipcode:"I01",entity_id:318,status:"Final",leadoffice:51413,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2027,objectid:747,listing_st:"Endangered",ch_id:null,ch_str_id:""},{comname:"Rough rabbitsfoot",sciname:"Quadrula cylindrica strigillata",spcode:"F00V",vipcode:"I01",entity_id:344,status:"Final",leadoffice:51413,fedreg:"69FR53136 53180",pubdate:"20040831",source_id:2028,objectid:748,listing_st:"Endangered",ch_id:null,ch_str_id:""},{comname:"Longsolid",sciname:"Fusconaia subrotunda",spcode:"F04V",vipcode:"I01",entity_id:10838,status:"Final",leadoffice:42431,fedreg:"88FR14794 14869",pubdate:"20230309",source_id:2059,objectid:777,listing_st:"Threatened",ch_id:null,ch_str_id:""}]},rx=e=>{const t=e[0]||0,i=e[1]||0,a=t+i;return 100*i/a},vh=e=>{let t;try{t=JSON.parse(e)}catch{t=e}return t},UT=(e,t,i,a,l,c,y,n,x,C)=>{const k=e/100;console.log("conversion rate",e,k),console.log("albedo",c,y,n,x,C,l);function O(B,L,V,G,Q){const Y=G*Q,J=Math.min(Y,1);return{afc:V*J,fractionConversionAvoided:J,acresConversionAvoided:B*J}}try{if(c){const B=l+y*x+n*C;console.log("adjustedTonsCo2PerAcre",B);const L=O(a,B,i,k,t);return console.log("albedoAdjAfc",L),L}else return O(a,l,i,k,t)}catch(B){return console.log("AFC calculation error",B),0}},GT=(e,t,i)=>{console.log("AFC ROI calculation",e,t,i);const a=i/e,l=1e6/a,c=t/100*i/e,y=i*t/100;return{usd_per_ton_c:Yn(a),usd_per_ton_c_forests:Yn(c),usd_total_forests:Yn(y),tons_c_per_1m_usd:Yn(l)}},ax=e=>{if(console.log("formatting opportunities metrics",e),e){const t=e.c_unprot_for_c,i=e.c_unprot_for_c_dist,a=e.c_albedo2crop,l=e.c_albedo2dev,c=()=>e.c_unprot_for_c_dist*e.area_ac,y=()=>e.c_unprot_for_c*e.area_ac,n=()=>c()+e.c_albedo2crop*e.area_ac,x=()=>c()+e.c_albedo2dev*e.area_ac,C=()=>{if(typeof e.c_unprot_for_extent=="number")return Yn(e.c_unprot_for_extent);{const Y=rx(e.c_unprot_for_extent);return Yn(Y)}},k=()=>C().raw/100*e.area_ac,O=()=>c()/k(),B=()=>({min:e.t_conv_past_all_min_p,max:e.t_conv_past_all_max_p,mean:e.t_conv_past_all_mean_p,user:e.t_conv_past_all_mean_p}),L=e.land_cost,V=Y=>(console.log("privateUnprotected",vF(Y),Y),L*Y.area_ac*vF(Y).percent/100),G=e.opp_forest_legacy_areas,Q=()=>{let Y;typeof G=="number"?Y=G:Y=rx(G);const J=()=>Y<1?"The area contains no overlap with forest legacy areas, indicating forest protection is not currently eligible for the Forest Legacy Program.":Y>0?`The area contains ${Y}% overlap with forest legacy areas, indicating forest protection may be eligible for the Forest Legacy Program. Project tracts must additionally have a minimum of 75% forestland, or a plan to reforest.`:"Some forest legacy areas";return{percent:Math.round(Y),area_ac:Y*e.area_ac/100,string:J()}};return{areaAc:Yn(e.area_ac),carbonMean:t,carbonMeanPerForestAcre:Yn(O()),carbonDistMean:Yn(i),carbonTotalDist:Yn(c()),carbonTotalNoDist:y(),carbonTotalDistAlbedo2Crop:Yn(n()),carbonTotalDistAlbedo2Dev:Yn(x()),conversionRate:B(),includeAlbedo:!1,albedo2DevMean:Yn(ox(l)),albedo2CropMean:Yn(ox(a)),albedo2DevWeight:1,albedo2CropWeight:0,unprotectedForestPercent:C(),unprotectedForestAcres:B2(k()),landCostMean:Yn(L),landCostTotal:Yn(V(e)),forestLegacySummary:Q()}}else return{}},sx=e=>{if(e){const t=e.cob_f2f_imp_r,i=()=>{const x=e.cob_rcn_resil_cls/1e3;return{value:x,string:x<-.5?"Least":x>=-.5&&x<.5?"Avg":x>=.5&&x<1.5?"More":x>=1.5?"Most":"Unknown"}},a=()=>typeof e.cob_rcn_1=="number"?e.cob_rcn_1:rx(e.cob_rcn_1),l=()=>Yn(a()/100*e.area_ac),c=()=>{const x=vh(e.cob_rcn_network);let C=0;for(const[L,V]of Object.entries(x))C+=V;const k=zp.cob_rcn_network_sort,O=[],B=["1","5","13","8"];for(const[L,V]of Object.entries(k)){let G=100*x[L]/C;const Q={percent:tu(G)||0,area_ac:Math.round(G/100*e.area_ac),label:V.name,sort:V.sort,color:V.color,key:L};B.includes(Q.key)||(console.log("rcnCls",O.key),O.push(Q))}return O.sort((L,V)=>L.sort-V.sort),O},y=()=>{const x=vh(e.cob_crit_hab),C=Object.keys(x),k=[],O=zp.critical_habitat;let B=0;for(const[G,Q]of Object.entries(x))B+=Q;for(const G in x){const Q=100*x[G]/B,Y=Q/100*e.area_ac,J=O.filter(re=>re.ch_id==G);J.forEach(re=>{re.area_ac=Math.round(Y),re.percent=tu(Q),re.raster_cls=G}),G!=-1&&k.push(...J)}const L=k.reduce((G,Q)=>{if(G[Q.entity_id]){const Y=G[Q.entity_id].area_ac+Q.area_ac,J=G[Q.entity_id].percent+Q.percent;return G[Q.entity_id].area_ac=Y,G[Q.entity_id].percent=J,G}else return G[Q.entity_id]=Q,G},{}),V=Object.values(L);return V.sort((G,Q)=>Q.area_ac-G.area_ac),C.length===0?[]:V},n=()=>{const x=t;return x<20?"Very Low":x<40?"Low":x<60?"Moderate":x<80?"High":"Very High"};return{waterProvisionIndexMean:Math.round(t),waterProvisionClass:n(),rcnResilienceScore:i(),rcnPercent:Yn(a()).value,rcnAcres:l(),rcnClasses:c(),rcnRaw:vh(e.cob_rcn_network),criticalHabitatRaw:vh(e.cob_crit_hab),criticalHabitat:y(),criticalHabitatNumber:y().length}}else return{}},vF=e=>{try{const t=BV(e).filter(i=>i.label==="Private unprotected")[0];return t||{percent:0,area_ac:0,label:"Private unprotected"}}catch(t){return console.log("Error filtering landOwnership",t),{percent:0,area_ac:0,label:"Private unprotected"}}},BV=e=>{let t=vh(e.padus_mgr);const i=zp.padus_mgr_sort,a=[];let l=0;for(const[c,y]of Object.entries(t))l+=y;for(const[c,y]of Object.entries(t)){let n=100*y/l;const x={percent:tu(n),area_ac:Math.round(n/100*e.area_ac),label:i[c].name,color:i[c].color,sort:i[c].sort};y>0&&a.push(x)}return a.sort((c,y)=>y.percent-c.percent),[...a]},cx=e=>{if(e){const t=()=>{let y=vh(e.padus_mgr);const n=zp.padus_mgr_sort,x=[];let C=0;for(const[k,O]of Object.entries(y))C+=O;for(const[k,O]of Object.entries(y)){let B=100*O/C;const L={percent:tu(B),area_ac:Math.round(B/100*e.area_ac),label:n[k].name,color:n[k].color,sort:n[k].sort};O>0&&x.push(L)}return x.sort((k,O)=>O.percent-k.percent),[...x]},i=()=>{try{const y=t().filter(n=>n.label==="Private unprotected")[0];return y||{percent:0,area_ac:0,label:"Private unprotected"}}catch(y){return console.log("Error filtering landOwnership",y),{percent:0,area_ac:0,label:"Private unprotected"}}},a=()=>{let y=vh(e.t_rpa_megaregion);if(y[0]==100)return!1;{const n=Object.keys(y).find(k=>k!=0),x=zp.t_rpa_megaregion[n],C=`The area is located in the <strong>${x} megaregion</strong>, one of a dozen regions in the U.S. that share common economic and natural resource systems, tied together by common transportation systems, which may face greater population growth and development pressures in the future. References: <a href="https://www.lincolninst.edu/publications/articles/2022-10-promise-of-megaregions-combat-urgent-challenges/">Lincoln Institute of Land Policy</a>, <a href="https://rpa.org/work/reports/defining-u-s-megaregions">Regional Plan Association</a>, <a href="https://www.fhwa.dot.gov/planning/megaregions/">FHA</a>.`;return x===void 0?{megaregion:null,string:"The area is not in a megaregion"}:{megaregion:x,string:C}}},l=()=>({min:e.t_conv_past_all_min_p,max:e.t_conv_past_all_max_p,mean:e.t_conv_past_all_mean_p,user:e.t_conv_past_all_mean_p}),c=()=>{const y=e.t_cpi_i;return y<20?"Very Low":y<40?"Low":y<60?"Moderate":y<80?"High":"Very High"};return{landOwnership:t(),privateUnprotected:i(),conversionPressureIndex:Math.round(e.t_cpi_i),conversionPressureClass:c(),megaregion:a(),historicConversion:l()}}else return{}},fc=pu("dataSummaryStore",()=>{const e=ai(null);let t=ai({min:.1,max:.5,mean:.3,user:.3});const i=ai(25),a=25,l=C=>{C.include_albedo=!1,C.data_opportunities=ax(C),C.data_cobenefits=sx(C),C.data_threats=cx(C),e.value=C,t.value=C.conversionRateDefault},c=Li(()=>{if(!e.value)return null;const C=zp.stateNames,k=e.value.states.split(",").map(O=>C[O]);return{area_id:e.value.area_id,area_id_simple:e.value.area_id.split("_")[1],area_type:e.value.area_id.split("_")[0],area_name:e.value.area_name,states_abbr:e.value.states,state_names:k,area_ac:B2(e.value.area_ac)}}),y=Li(()=>{const C=ax(e.value);return console.log("ops",C),C}),n=Li(()=>sx(e.value)),x=Li(()=>cx(e.value));return{activeArea:e,setActiveArea:l,locationInfo:c,conversionRate:t,commitmentPeriod:i,defaultCommitmentPeriod:a,opportunities:y,cobenefits:n,threats:x}});var Nn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function j2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function jV(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var i=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var l=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(i,a,l.get?l:{enumerable:!0,get:function(){return e[a]}})}),i}var HT={exports:{}};(function(e,t){(function(i,a){e.exports=a()})(Nn,function(){var i,a,l;function c(n,x){if(!i)i=x;else if(!a)a=x;else{var C="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+i+")(sharedChunk); ("+a+")(sharedChunk); self.onerror = null;",k={};i(k),l=x(k),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(l.workerUrl=window.URL.createObjectURL(new Blob([C],{type:"text/javascript"})))}}c(["exports"],function(n){function x(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var C,k={},O={};function B(){if(C)return O;C=1,Object.defineProperty(O,"__esModule",{value:!0}),O.setMatrixArrayType=function(g){O.ARRAY_TYPE=o=g},O.toRadian=function(g){return g*h},O.equals=function(g,f){return Math.abs(g-f)<=u*Math.max(1,Math.abs(g),Math.abs(f))},O.RANDOM=O.ARRAY_TYPE=O.EPSILON=void 0;var u=1e-6;O.EPSILON=u;var o=typeof Float32Array<"u"?Float32Array:Array;O.ARRAY_TYPE=o;var s=Math.random;O.RANDOM=s;var h=Math.PI/180;return Math.hypot||(Math.hypot=function(){for(var g=0,f=arguments.length;f--;)g+=arguments[f]*arguments[f];return Math.sqrt(g)}),O}var L,V={};function G(){if(L)return V;function u(f){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},u(f)}L=1,Object.defineProperty(V,"__esModule",{value:!0}),V.create=function(){var f=new o.ARRAY_TYPE(4);return o.ARRAY_TYPE!=Float32Array&&(f[1]=0,f[2]=0),f[0]=1,f[3]=1,f},V.clone=function(f){var _=new o.ARRAY_TYPE(4);return _[0]=f[0],_[1]=f[1],_[2]=f[2],_[3]=f[3],_},V.copy=function(f,_){return f[0]=_[0],f[1]=_[1],f[2]=_[2],f[3]=_[3],f},V.identity=function(f){return f[0]=1,f[1]=0,f[2]=0,f[3]=1,f},V.fromValues=function(f,_,F,R){var M=new o.ARRAY_TYPE(4);return M[0]=f,M[1]=_,M[2]=F,M[3]=R,M},V.set=function(f,_,F,R,M){return f[0]=_,f[1]=F,f[2]=R,f[3]=M,f},V.transpose=function(f,_){if(f===_){var F=_[1];f[1]=_[2],f[2]=F}else f[0]=_[0],f[1]=_[2],f[2]=_[1],f[3]=_[3];return f},V.invert=function(f,_){var F=_[0],R=_[1],M=_[2],v=_[3],T=F*v-M*R;return T?(f[0]=v*(T=1/T),f[1]=-R*T,f[2]=-M*T,f[3]=F*T,f):null},V.adjoint=function(f,_){var F=_[0];return f[0]=_[3],f[1]=-_[1],f[2]=-_[2],f[3]=F,f},V.determinant=function(f){return f[0]*f[3]-f[2]*f[1]},V.multiply=h,V.rotate=function(f,_,F){var R=_[0],M=_[1],v=_[2],T=_[3],I=Math.sin(F),S=Math.cos(F);return f[0]=R*S+v*I,f[1]=M*S+T*I,f[2]=R*-I+v*S,f[3]=M*-I+T*S,f},V.scale=function(f,_,F){var R=_[1],M=_[2],v=_[3],T=F[0],I=F[1];return f[0]=_[0]*T,f[1]=R*T,f[2]=M*I,f[3]=v*I,f},V.fromRotation=function(f,_){var F=Math.sin(_),R=Math.cos(_);return f[0]=R,f[1]=F,f[2]=-F,f[3]=R,f},V.fromScaling=function(f,_){return f[0]=_[0],f[1]=0,f[2]=0,f[3]=_[1],f},V.str=function(f){return"mat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},V.frob=function(f){return Math.hypot(f[0],f[1],f[2],f[3])},V.LDU=function(f,_,F,R){return f[2]=R[2]/R[0],F[0]=R[0],F[1]=R[1],F[3]=R[3]-f[2]*F[1],[f,_,F]},V.add=function(f,_,F){return f[0]=_[0]+F[0],f[1]=_[1]+F[1],f[2]=_[2]+F[2],f[3]=_[3]+F[3],f},V.subtract=g,V.exactEquals=function(f,_){return f[0]===_[0]&&f[1]===_[1]&&f[2]===_[2]&&f[3]===_[3]},V.equals=function(f,_){var F=f[0],R=f[1],M=f[2],v=f[3],T=_[0],I=_[1],S=_[2],P=_[3];return Math.abs(F-T)<=o.EPSILON*Math.max(1,Math.abs(F),Math.abs(T))&&Math.abs(R-I)<=o.EPSILON*Math.max(1,Math.abs(R),Math.abs(I))&&Math.abs(M-S)<=o.EPSILON*Math.max(1,Math.abs(M),Math.abs(S))&&Math.abs(v-P)<=o.EPSILON*Math.max(1,Math.abs(v),Math.abs(P))},V.multiplyScalar=function(f,_,F){return f[0]=_[0]*F,f[1]=_[1]*F,f[2]=_[2]*F,f[3]=_[3]*F,f},V.multiplyScalarAndAdd=function(f,_,F,R){return f[0]=_[0]+F[0]*R,f[1]=_[1]+F[1]*R,f[2]=_[2]+F[2]*R,f[3]=_[3]+F[3]*R,f},V.sub=V.mul=void 0;var o=function(f,_){if(f&&f.__esModule)return f;if(f===null||u(f)!=="object"&&typeof f!="function")return{default:f};var F=s(void 0);if(F&&F.has(f))return F.get(f);var R={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in f)if(v!=="default"&&Object.prototype.hasOwnProperty.call(f,v)){var T=M?Object.getOwnPropertyDescriptor(f,v):null;T&&(T.get||T.set)?Object.defineProperty(R,v,T):R[v]=f[v]}return R.default=f,F&&F.set(f,R),R}(B());function s(f){if(typeof WeakMap!="function")return null;var _=new WeakMap,F=new WeakMap;return(s=function(R){return R?F:_})(f)}function h(f,_,F){var R=_[0],M=_[1],v=_[2],T=_[3],I=F[0],S=F[1],P=F[2],D=F[3];return f[0]=R*I+v*S,f[1]=M*I+T*S,f[2]=R*P+v*D,f[3]=M*P+T*D,f}function g(f,_,F){return f[0]=_[0]-F[0],f[1]=_[1]-F[1],f[2]=_[2]-F[2],f[3]=_[3]-F[3],f}return V.mul=h,V.sub=g,V}var Q,Y={};function J(){if(Q)return Y;function u(f){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},u(f)}Q=1,Object.defineProperty(Y,"__esModule",{value:!0}),Y.create=function(){var f=new o.ARRAY_TYPE(6);return o.ARRAY_TYPE!=Float32Array&&(f[1]=0,f[2]=0,f[4]=0,f[5]=0),f[0]=1,f[3]=1,f},Y.clone=function(f){var _=new o.ARRAY_TYPE(6);return _[0]=f[0],_[1]=f[1],_[2]=f[2],_[3]=f[3],_[4]=f[4],_[5]=f[5],_},Y.copy=function(f,_){return f[0]=_[0],f[1]=_[1],f[2]=_[2],f[3]=_[3],f[4]=_[4],f[5]=_[5],f},Y.identity=function(f){return f[0]=1,f[1]=0,f[2]=0,f[3]=1,f[4]=0,f[5]=0,f},Y.fromValues=function(f,_,F,R,M,v){var T=new o.ARRAY_TYPE(6);return T[0]=f,T[1]=_,T[2]=F,T[3]=R,T[4]=M,T[5]=v,T},Y.set=function(f,_,F,R,M,v,T){return f[0]=_,f[1]=F,f[2]=R,f[3]=M,f[4]=v,f[5]=T,f},Y.invert=function(f,_){var F=_[0],R=_[1],M=_[2],v=_[3],T=_[4],I=_[5],S=F*v-R*M;return S?(f[0]=v*(S=1/S),f[1]=-R*S,f[2]=-M*S,f[3]=F*S,f[4]=(M*I-v*T)*S,f[5]=(R*T-F*I)*S,f):null},Y.determinant=function(f){return f[0]*f[3]-f[1]*f[2]},Y.multiply=h,Y.rotate=function(f,_,F){var R=_[0],M=_[1],v=_[2],T=_[3],I=_[4],S=_[5],P=Math.sin(F),D=Math.cos(F);return f[0]=R*D+v*P,f[1]=M*D+T*P,f[2]=R*-P+v*D,f[3]=M*-P+T*D,f[4]=I,f[5]=S,f},Y.scale=function(f,_,F){var R=_[1],M=_[2],v=_[3],T=_[4],I=_[5],S=F[0],P=F[1];return f[0]=_[0]*S,f[1]=R*S,f[2]=M*P,f[3]=v*P,f[4]=T,f[5]=I,f},Y.translate=function(f,_,F){var R=_[0],M=_[1],v=_[2],T=_[3],I=_[4],S=_[5],P=F[0],D=F[1];return f[0]=R,f[1]=M,f[2]=v,f[3]=T,f[4]=R*P+v*D+I,f[5]=M*P+T*D+S,f},Y.fromRotation=function(f,_){var F=Math.sin(_),R=Math.cos(_);return f[0]=R,f[1]=F,f[2]=-F,f[3]=R,f[4]=0,f[5]=0,f},Y.fromScaling=function(f,_){return f[0]=_[0],f[1]=0,f[2]=0,f[3]=_[1],f[4]=0,f[5]=0,f},Y.fromTranslation=function(f,_){return f[0]=1,f[1]=0,f[2]=0,f[3]=1,f[4]=_[0],f[5]=_[1],f},Y.str=function(f){return"mat2d("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+")"},Y.frob=function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],1)},Y.add=function(f,_,F){return f[0]=_[0]+F[0],f[1]=_[1]+F[1],f[2]=_[2]+F[2],f[3]=_[3]+F[3],f[4]=_[4]+F[4],f[5]=_[5]+F[5],f},Y.subtract=g,Y.multiplyScalar=function(f,_,F){return f[0]=_[0]*F,f[1]=_[1]*F,f[2]=_[2]*F,f[3]=_[3]*F,f[4]=_[4]*F,f[5]=_[5]*F,f},Y.multiplyScalarAndAdd=function(f,_,F,R){return f[0]=_[0]+F[0]*R,f[1]=_[1]+F[1]*R,f[2]=_[2]+F[2]*R,f[3]=_[3]+F[3]*R,f[4]=_[4]+F[4]*R,f[5]=_[5]+F[5]*R,f},Y.exactEquals=function(f,_){return f[0]===_[0]&&f[1]===_[1]&&f[2]===_[2]&&f[3]===_[3]&&f[4]===_[4]&&f[5]===_[5]},Y.equals=function(f,_){var F=f[0],R=f[1],M=f[2],v=f[3],T=f[4],I=f[5],S=_[0],P=_[1],D=_[2],N=_[3],U=_[4],Z=_[5];return Math.abs(F-S)<=o.EPSILON*Math.max(1,Math.abs(F),Math.abs(S))&&Math.abs(R-P)<=o.EPSILON*Math.max(1,Math.abs(R),Math.abs(P))&&Math.abs(M-D)<=o.EPSILON*Math.max(1,Math.abs(M),Math.abs(D))&&Math.abs(v-N)<=o.EPSILON*Math.max(1,Math.abs(v),Math.abs(N))&&Math.abs(T-U)<=o.EPSILON*Math.max(1,Math.abs(T),Math.abs(U))&&Math.abs(I-Z)<=o.EPSILON*Math.max(1,Math.abs(I),Math.abs(Z))},Y.sub=Y.mul=void 0;var o=function(f,_){if(f&&f.__esModule)return f;if(f===null||u(f)!=="object"&&typeof f!="function")return{default:f};var F=s(void 0);if(F&&F.has(f))return F.get(f);var R={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in f)if(v!=="default"&&Object.prototype.hasOwnProperty.call(f,v)){var T=M?Object.getOwnPropertyDescriptor(f,v):null;T&&(T.get||T.set)?Object.defineProperty(R,v,T):R[v]=f[v]}return R.default=f,F&&F.set(f,R),R}(B());function s(f){if(typeof WeakMap!="function")return null;var _=new WeakMap,F=new WeakMap;return(s=function(R){return R?F:_})(f)}function h(f,_,F){var R=_[0],M=_[1],v=_[2],T=_[3],I=_[4],S=_[5],P=F[0],D=F[1],N=F[2],U=F[3],Z=F[4],X=F[5];return f[0]=R*P+v*D,f[1]=M*P+T*D,f[2]=R*N+v*U,f[3]=M*N+T*U,f[4]=R*Z+v*X+I,f[5]=M*Z+T*X+S,f}function g(f,_,F){return f[0]=_[0]-F[0],f[1]=_[1]-F[1],f[2]=_[2]-F[2],f[3]=_[3]-F[3],f[4]=_[4]-F[4],f[5]=_[5]-F[5],f}return Y.mul=h,Y.sub=g,Y}var re,ce={};function he(){if(re)return ce;function u(f){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},u(f)}re=1,Object.defineProperty(ce,"__esModule",{value:!0}),ce.create=function(){var f=new o.ARRAY_TYPE(9);return o.ARRAY_TYPE!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[5]=0,f[6]=0,f[7]=0),f[0]=1,f[4]=1,f[8]=1,f},ce.fromMat4=function(f,_){return f[0]=_[0],f[1]=_[1],f[2]=_[2],f[3]=_[4],f[4]=_[5],f[5]=_[6],f[6]=_[8],f[7]=_[9],f[8]=_[10],f},ce.clone=function(f){var _=new o.ARRAY_TYPE(9);return _[0]=f[0],_[1]=f[1],_[2]=f[2],_[3]=f[3],_[4]=f[4],_[5]=f[5],_[6]=f[6],_[7]=f[7],_[8]=f[8],_},ce.copy=function(f,_){return f[0]=_[0],f[1]=_[1],f[2]=_[2],f[3]=_[3],f[4]=_[4],f[5]=_[5],f[6]=_[6],f[7]=_[7],f[8]=_[8],f},ce.fromValues=function(f,_,F,R,M,v,T,I,S){var P=new o.ARRAY_TYPE(9);return P[0]=f,P[1]=_,P[2]=F,P[3]=R,P[4]=M,P[5]=v,P[6]=T,P[7]=I,P[8]=S,P},ce.set=function(f,_,F,R,M,v,T,I,S,P){return f[0]=_,f[1]=F,f[2]=R,f[3]=M,f[4]=v,f[5]=T,f[6]=I,f[7]=S,f[8]=P,f},ce.identity=function(f){return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=1,f[5]=0,f[6]=0,f[7]=0,f[8]=1,f},ce.transpose=function(f,_){if(f===_){var F=_[1],R=_[2],M=_[5];f[1]=_[3],f[2]=_[6],f[3]=F,f[5]=_[7],f[6]=R,f[7]=M}else f[0]=_[0],f[1]=_[3],f[2]=_[6],f[3]=_[1],f[4]=_[4],f[5]=_[7],f[6]=_[2],f[7]=_[5],f[8]=_[8];return f},ce.invert=function(f,_){var F=_[0],R=_[1],M=_[2],v=_[3],T=_[4],I=_[5],S=_[6],P=_[7],D=_[8],N=D*T-I*P,U=-D*v+I*S,Z=P*v-T*S,X=F*N+R*U+M*Z;return X?(f[0]=N*(X=1/X),f[1]=(-D*R+M*P)*X,f[2]=(I*R-M*T)*X,f[3]=U*X,f[4]=(D*F-M*S)*X,f[5]=(-I*F+M*v)*X,f[6]=Z*X,f[7]=(-P*F+R*S)*X,f[8]=(T*F-R*v)*X,f):null},ce.adjoint=function(f,_){var F=_[0],R=_[1],M=_[2],v=_[3],T=_[4],I=_[5],S=_[6],P=_[7],D=_[8];return f[0]=T*D-I*P,f[1]=M*P-R*D,f[2]=R*I-M*T,f[3]=I*S-v*D,f[4]=F*D-M*S,f[5]=M*v-F*I,f[6]=v*P-T*S,f[7]=R*S-F*P,f[8]=F*T-R*v,f},ce.determinant=function(f){var _=f[3],F=f[4],R=f[5],M=f[6],v=f[7],T=f[8];return f[0]*(T*F-R*v)+f[1]*(-T*_+R*M)+f[2]*(v*_-F*M)},ce.multiply=h,ce.translate=function(f,_,F){var R=_[0],M=_[1],v=_[2],T=_[3],I=_[4],S=_[5],P=_[6],D=_[7],N=_[8],U=F[0],Z=F[1];return f[0]=R,f[1]=M,f[2]=v,f[3]=T,f[4]=I,f[5]=S,f[6]=U*R+Z*T+P,f[7]=U*M+Z*I+D,f[8]=U*v+Z*S+N,f},ce.rotate=function(f,_,F){var R=_[0],M=_[1],v=_[2],T=_[3],I=_[4],S=_[5],P=_[6],D=_[7],N=_[8],U=Math.sin(F),Z=Math.cos(F);return f[0]=Z*R+U*T,f[1]=Z*M+U*I,f[2]=Z*v+U*S,f[3]=Z*T-U*R,f[4]=Z*I-U*M,f[5]=Z*S-U*v,f[6]=P,f[7]=D,f[8]=N,f},ce.scale=function(f,_,F){var R=F[0],M=F[1];return f[0]=R*_[0],f[1]=R*_[1],f[2]=R*_[2],f[3]=M*_[3],f[4]=M*_[4],f[5]=M*_[5],f[6]=_[6],f[7]=_[7],f[8]=_[8],f},ce.fromTranslation=function(f,_){return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=1,f[5]=0,f[6]=_[0],f[7]=_[1],f[8]=1,f},ce.fromRotation=function(f,_){var F=Math.sin(_),R=Math.cos(_);return f[0]=R,f[1]=F,f[2]=0,f[3]=-F,f[4]=R,f[5]=0,f[6]=0,f[7]=0,f[8]=1,f},ce.fromScaling=function(f,_){return f[0]=_[0],f[1]=0,f[2]=0,f[3]=0,f[4]=_[1],f[5]=0,f[6]=0,f[7]=0,f[8]=1,f},ce.fromMat2d=function(f,_){return f[0]=_[0],f[1]=_[1],f[2]=0,f[3]=_[2],f[4]=_[3],f[5]=0,f[6]=_[4],f[7]=_[5],f[8]=1,f},ce.fromQuat=function(f,_){var F=_[0],R=_[1],M=_[2],v=_[3],T=F+F,I=R+R,S=M+M,P=F*T,D=R*T,N=R*I,U=M*T,Z=M*I,X=M*S,q=v*T,te=v*I,ie=v*S;return f[0]=1-N-X,f[3]=D-ie,f[6]=U+te,f[1]=D+ie,f[4]=1-P-X,f[7]=Z-q,f[2]=U-te,f[5]=Z+q,f[8]=1-P-N,f},ce.normalFromMat4=function(f,_){var F=_[0],R=_[1],M=_[2],v=_[3],T=_[4],I=_[5],S=_[6],P=_[7],D=_[8],N=_[9],U=_[10],Z=_[11],X=_[12],q=_[13],te=_[14],ie=_[15],de=F*I-R*T,Ee=F*S-M*T,be=F*P-v*T,xe=R*S-M*I,Ve=R*P-v*I,ve=M*P-v*S,Be=D*q-N*X,We=D*te-U*X,Ke=D*ie-Z*X,tt=N*te-U*q,ht=N*ie-Z*q,mt=U*ie-Z*te,lt=de*mt-Ee*ht+be*tt+xe*Ke-Ve*We+ve*Be;return lt?(f[0]=(I*mt-S*ht+P*tt)*(lt=1/lt),f[1]=(S*Ke-T*mt-P*We)*lt,f[2]=(T*ht-I*Ke+P*Be)*lt,f[3]=(M*ht-R*mt-v*tt)*lt,f[4]=(F*mt-M*Ke+v*We)*lt,f[5]=(R*Ke-F*ht-v*Be)*lt,f[6]=(q*ve-te*Ve+ie*xe)*lt,f[7]=(te*be-X*ve-ie*Ee)*lt,f[8]=(X*Ve-q*be+ie*de)*lt,f):null},ce.projection=function(f,_,F){return f[0]=2/_,f[1]=0,f[2]=0,f[3]=0,f[4]=-2/F,f[5]=0,f[6]=-1,f[7]=1,f[8]=1,f},ce.str=function(f){return"mat3("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+")"},ce.frob=function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8])},ce.add=function(f,_,F){return f[0]=_[0]+F[0],f[1]=_[1]+F[1],f[2]=_[2]+F[2],f[3]=_[3]+F[3],f[4]=_[4]+F[4],f[5]=_[5]+F[5],f[6]=_[6]+F[6],f[7]=_[7]+F[7],f[8]=_[8]+F[8],f},ce.subtract=g,ce.multiplyScalar=function(f,_,F){return f[0]=_[0]*F,f[1]=_[1]*F,f[2]=_[2]*F,f[3]=_[3]*F,f[4]=_[4]*F,f[5]=_[5]*F,f[6]=_[6]*F,f[7]=_[7]*F,f[8]=_[8]*F,f},ce.multiplyScalarAndAdd=function(f,_,F,R){return f[0]=_[0]+F[0]*R,f[1]=_[1]+F[1]*R,f[2]=_[2]+F[2]*R,f[3]=_[3]+F[3]*R,f[4]=_[4]+F[4]*R,f[5]=_[5]+F[5]*R,f[6]=_[6]+F[6]*R,f[7]=_[7]+F[7]*R,f[8]=_[8]+F[8]*R,f},ce.exactEquals=function(f,_){return f[0]===_[0]&&f[1]===_[1]&&f[2]===_[2]&&f[3]===_[3]&&f[4]===_[4]&&f[5]===_[5]&&f[6]===_[6]&&f[7]===_[7]&&f[8]===_[8]},ce.equals=function(f,_){var F=f[0],R=f[1],M=f[2],v=f[3],T=f[4],I=f[5],S=f[6],P=f[7],D=f[8],N=_[0],U=_[1],Z=_[2],X=_[3],q=_[4],te=_[5],ie=_[6],de=_[7],Ee=_[8];return Math.abs(F-N)<=o.EPSILON*Math.max(1,Math.abs(F),Math.abs(N))&&Math.abs(R-U)<=o.EPSILON*Math.max(1,Math.abs(R),Math.abs(U))&&Math.abs(M-Z)<=o.EPSILON*Math.max(1,Math.abs(M),Math.abs(Z))&&Math.abs(v-X)<=o.EPSILON*Math.max(1,Math.abs(v),Math.abs(X))&&Math.abs(T-q)<=o.EPSILON*Math.max(1,Math.abs(T),Math.abs(q))&&Math.abs(I-te)<=o.EPSILON*Math.max(1,Math.abs(I),Math.abs(te))&&Math.abs(S-ie)<=o.EPSILON*Math.max(1,Math.abs(S),Math.abs(ie))&&Math.abs(P-de)<=o.EPSILON*Math.max(1,Math.abs(P),Math.abs(de))&&Math.abs(D-Ee)<=o.EPSILON*Math.max(1,Math.abs(D),Math.abs(Ee))},ce.sub=ce.mul=void 0;var o=function(f,_){if(f&&f.__esModule)return f;if(f===null||u(f)!=="object"&&typeof f!="function")return{default:f};var F=s(void 0);if(F&&F.has(f))return F.get(f);var R={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in f)if(v!=="default"&&Object.prototype.hasOwnProperty.call(f,v)){var T=M?Object.getOwnPropertyDescriptor(f,v):null;T&&(T.get||T.set)?Object.defineProperty(R,v,T):R[v]=f[v]}return R.default=f,F&&F.set(f,R),R}(B());function s(f){if(typeof WeakMap!="function")return null;var _=new WeakMap,F=new WeakMap;return(s=function(R){return R?F:_})(f)}function h(f,_,F){var R=_[0],M=_[1],v=_[2],T=_[3],I=_[4],S=_[5],P=_[6],D=_[7],N=_[8],U=F[0],Z=F[1],X=F[2],q=F[3],te=F[4],ie=F[5],de=F[6],Ee=F[7],be=F[8];return f[0]=U*R+Z*T+X*P,f[1]=U*M+Z*I+X*D,f[2]=U*v+Z*S+X*N,f[3]=q*R+te*T+ie*P,f[4]=q*M+te*I+ie*D,f[5]=q*v+te*S+ie*N,f[6]=de*R+Ee*T+be*P,f[7]=de*M+Ee*I+be*D,f[8]=de*v+Ee*S+be*N,f}function g(f,_,F){return f[0]=_[0]-F[0],f[1]=_[1]-F[1],f[2]=_[2]-F[2],f[3]=_[3]-F[3],f[4]=_[4]-F[4],f[5]=_[5]-F[5],f[6]=_[6]-F[6],f[7]=_[7]-F[7],f[8]=_[8]-F[8],f}return ce.mul=h,ce.sub=g,ce}var we,pe={};function De(){if(we)return pe;function u(v){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},u(v)}we=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.create=function(){var v=new o.ARRAY_TYPE(16);return o.ARRAY_TYPE!=Float32Array&&(v[1]=0,v[2]=0,v[3]=0,v[4]=0,v[6]=0,v[7]=0,v[8]=0,v[9]=0,v[11]=0,v[12]=0,v[13]=0,v[14]=0),v[0]=1,v[5]=1,v[10]=1,v[15]=1,v},pe.clone=function(v){var T=new o.ARRAY_TYPE(16);return T[0]=v[0],T[1]=v[1],T[2]=v[2],T[3]=v[3],T[4]=v[4],T[5]=v[5],T[6]=v[6],T[7]=v[7],T[8]=v[8],T[9]=v[9],T[10]=v[10],T[11]=v[11],T[12]=v[12],T[13]=v[13],T[14]=v[14],T[15]=v[15],T},pe.copy=function(v,T){return v[0]=T[0],v[1]=T[1],v[2]=T[2],v[3]=T[3],v[4]=T[4],v[5]=T[5],v[6]=T[6],v[7]=T[7],v[8]=T[8],v[9]=T[9],v[10]=T[10],v[11]=T[11],v[12]=T[12],v[13]=T[13],v[14]=T[14],v[15]=T[15],v},pe.fromValues=function(v,T,I,S,P,D,N,U,Z,X,q,te,ie,de,Ee,be){var xe=new o.ARRAY_TYPE(16);return xe[0]=v,xe[1]=T,xe[2]=I,xe[3]=S,xe[4]=P,xe[5]=D,xe[6]=N,xe[7]=U,xe[8]=Z,xe[9]=X,xe[10]=q,xe[11]=te,xe[12]=ie,xe[13]=de,xe[14]=Ee,xe[15]=be,xe},pe.set=function(v,T,I,S,P,D,N,U,Z,X,q,te,ie,de,Ee,be,xe){return v[0]=T,v[1]=I,v[2]=S,v[3]=P,v[4]=D,v[5]=N,v[6]=U,v[7]=Z,v[8]=X,v[9]=q,v[10]=te,v[11]=ie,v[12]=de,v[13]=Ee,v[14]=be,v[15]=xe,v},pe.identity=h,pe.transpose=function(v,T){if(v===T){var I=T[1],S=T[2],P=T[3],D=T[6],N=T[7],U=T[11];v[1]=T[4],v[2]=T[8],v[3]=T[12],v[4]=I,v[6]=T[9],v[7]=T[13],v[8]=S,v[9]=D,v[11]=T[14],v[12]=P,v[13]=N,v[14]=U}else v[0]=T[0],v[1]=T[4],v[2]=T[8],v[3]=T[12],v[4]=T[1],v[5]=T[5],v[6]=T[9],v[7]=T[13],v[8]=T[2],v[9]=T[6],v[10]=T[10],v[11]=T[14],v[12]=T[3],v[13]=T[7],v[14]=T[11],v[15]=T[15];return v},pe.invert=function(v,T){var I=T[0],S=T[1],P=T[2],D=T[3],N=T[4],U=T[5],Z=T[6],X=T[7],q=T[8],te=T[9],ie=T[10],de=T[11],Ee=T[12],be=T[13],xe=T[14],Ve=T[15],ve=I*U-S*N,Be=I*Z-P*N,We=I*X-D*N,Ke=S*Z-P*U,tt=S*X-D*U,ht=P*X-D*Z,mt=q*be-te*Ee,lt=q*xe-ie*Ee,Pt=q*Ve-de*Ee,Nt=te*xe-ie*be,wt=te*Ve-de*be,ci=ie*Ve-de*xe,Jt=ve*ci-Be*wt+We*Nt+Ke*Pt-tt*lt+ht*mt;return Jt?(v[0]=(U*ci-Z*wt+X*Nt)*(Jt=1/Jt),v[1]=(P*wt-S*ci-D*Nt)*Jt,v[2]=(be*ht-xe*tt+Ve*Ke)*Jt,v[3]=(ie*tt-te*ht-de*Ke)*Jt,v[4]=(Z*Pt-N*ci-X*lt)*Jt,v[5]=(I*ci-P*Pt+D*lt)*Jt,v[6]=(xe*We-Ee*ht-Ve*Be)*Jt,v[7]=(q*ht-ie*We+de*Be)*Jt,v[8]=(N*wt-U*Pt+X*mt)*Jt,v[9]=(S*Pt-I*wt-D*mt)*Jt,v[10]=(Ee*tt-be*We+Ve*ve)*Jt,v[11]=(te*We-q*tt-de*ve)*Jt,v[12]=(U*lt-N*Nt-Z*mt)*Jt,v[13]=(I*Nt-S*lt+P*mt)*Jt,v[14]=(be*Be-Ee*Ke-xe*ve)*Jt,v[15]=(q*Ke-te*Be+ie*ve)*Jt,v):null},pe.adjoint=function(v,T){var I=T[0],S=T[1],P=T[2],D=T[3],N=T[4],U=T[5],Z=T[6],X=T[7],q=T[8],te=T[9],ie=T[10],de=T[11],Ee=T[12],be=T[13],xe=T[14],Ve=T[15];return v[0]=U*(ie*Ve-de*xe)-te*(Z*Ve-X*xe)+be*(Z*de-X*ie),v[1]=-(S*(ie*Ve-de*xe)-te*(P*Ve-D*xe)+be*(P*de-D*ie)),v[2]=S*(Z*Ve-X*xe)-U*(P*Ve-D*xe)+be*(P*X-D*Z),v[3]=-(S*(Z*de-X*ie)-U*(P*de-D*ie)+te*(P*X-D*Z)),v[4]=-(N*(ie*Ve-de*xe)-q*(Z*Ve-X*xe)+Ee*(Z*de-X*ie)),v[5]=I*(ie*Ve-de*xe)-q*(P*Ve-D*xe)+Ee*(P*de-D*ie),v[6]=-(I*(Z*Ve-X*xe)-N*(P*Ve-D*xe)+Ee*(P*X-D*Z)),v[7]=I*(Z*de-X*ie)-N*(P*de-D*ie)+q*(P*X-D*Z),v[8]=N*(te*Ve-de*be)-q*(U*Ve-X*be)+Ee*(U*de-X*te),v[9]=-(I*(te*Ve-de*be)-q*(S*Ve-D*be)+Ee*(S*de-D*te)),v[10]=I*(U*Ve-X*be)-N*(S*Ve-D*be)+Ee*(S*X-D*U),v[11]=-(I*(U*de-X*te)-N*(S*de-D*te)+q*(S*X-D*U)),v[12]=-(N*(te*xe-ie*be)-q*(U*xe-Z*be)+Ee*(U*ie-Z*te)),v[13]=I*(te*xe-ie*be)-q*(S*xe-P*be)+Ee*(S*ie-P*te),v[14]=-(I*(U*xe-Z*be)-N*(S*xe-P*be)+Ee*(S*Z-P*U)),v[15]=I*(U*ie-Z*te)-N*(S*ie-P*te)+q*(S*Z-P*U),v},pe.determinant=function(v){var T=v[0],I=v[1],S=v[2],P=v[3],D=v[4],N=v[5],U=v[6],Z=v[7],X=v[8],q=v[9],te=v[10],ie=v[11],de=v[12],Ee=v[13],be=v[14],xe=v[15];return(T*N-I*D)*(te*xe-ie*be)-(T*U-S*D)*(q*xe-ie*Ee)+(T*Z-P*D)*(q*be-te*Ee)+(I*U-S*N)*(X*xe-ie*de)-(I*Z-P*N)*(X*be-te*de)+(S*Z-P*U)*(X*Ee-q*de)},pe.multiply=g,pe.translate=function(v,T,I){var S,P,D,N,U,Z,X,q,te,ie,de,Ee,be=I[0],xe=I[1],Ve=I[2];return T===v?(v[12]=T[0]*be+T[4]*xe+T[8]*Ve+T[12],v[13]=T[1]*be+T[5]*xe+T[9]*Ve+T[13],v[14]=T[2]*be+T[6]*xe+T[10]*Ve+T[14],v[15]=T[3]*be+T[7]*xe+T[11]*Ve+T[15]):(P=T[1],D=T[2],N=T[3],U=T[4],Z=T[5],X=T[6],q=T[7],te=T[8],ie=T[9],de=T[10],Ee=T[11],v[0]=S=T[0],v[1]=P,v[2]=D,v[3]=N,v[4]=U,v[5]=Z,v[6]=X,v[7]=q,v[8]=te,v[9]=ie,v[10]=de,v[11]=Ee,v[12]=S*be+U*xe+te*Ve+T[12],v[13]=P*be+Z*xe+ie*Ve+T[13],v[14]=D*be+X*xe+de*Ve+T[14],v[15]=N*be+q*xe+Ee*Ve+T[15]),v},pe.scale=function(v,T,I){var S=I[0],P=I[1],D=I[2];return v[0]=T[0]*S,v[1]=T[1]*S,v[2]=T[2]*S,v[3]=T[3]*S,v[4]=T[4]*P,v[5]=T[5]*P,v[6]=T[6]*P,v[7]=T[7]*P,v[8]=T[8]*D,v[9]=T[9]*D,v[10]=T[10]*D,v[11]=T[11]*D,v[12]=T[12],v[13]=T[13],v[14]=T[14],v[15]=T[15],v},pe.rotate=function(v,T,I,S){var P,D,N,U,Z,X,q,te,ie,de,Ee,be,xe,Ve,ve,Be,We,Ke,tt,ht,mt,lt,Pt,Nt,wt=S[0],ci=S[1],Jt=S[2],qt=Math.hypot(wt,ci,Jt);return qt<o.EPSILON?null:(wt*=qt=1/qt,ci*=qt,Jt*=qt,P=Math.sin(I),D=Math.cos(I),Z=T[1],X=T[2],q=T[3],ie=T[5],de=T[6],Ee=T[7],xe=T[9],Ve=T[10],ve=T[11],Be=wt*wt*(N=1-D)+D,tt=wt*ci*N-Jt*P,ht=ci*ci*N+D,mt=Jt*ci*N+wt*P,lt=wt*Jt*N+ci*P,Pt=ci*Jt*N-wt*P,Nt=Jt*Jt*N+D,v[0]=(U=T[0])*Be+(te=T[4])*(We=ci*wt*N+Jt*P)+(be=T[8])*(Ke=Jt*wt*N-ci*P),v[1]=Z*Be+ie*We+xe*Ke,v[2]=X*Be+de*We+Ve*Ke,v[3]=q*Be+Ee*We+ve*Ke,v[4]=U*tt+te*ht+be*mt,v[5]=Z*tt+ie*ht+xe*mt,v[6]=X*tt+de*ht+Ve*mt,v[7]=q*tt+Ee*ht+ve*mt,v[8]=U*lt+te*Pt+be*Nt,v[9]=Z*lt+ie*Pt+xe*Nt,v[10]=X*lt+de*Pt+Ve*Nt,v[11]=q*lt+Ee*Pt+ve*Nt,T!==v&&(v[12]=T[12],v[13]=T[13],v[14]=T[14],v[15]=T[15]),v)},pe.rotateX=function(v,T,I){var S=Math.sin(I),P=Math.cos(I),D=T[4],N=T[5],U=T[6],Z=T[7],X=T[8],q=T[9],te=T[10],ie=T[11];return T!==v&&(v[0]=T[0],v[1]=T[1],v[2]=T[2],v[3]=T[3],v[12]=T[12],v[13]=T[13],v[14]=T[14],v[15]=T[15]),v[4]=D*P+X*S,v[5]=N*P+q*S,v[6]=U*P+te*S,v[7]=Z*P+ie*S,v[8]=X*P-D*S,v[9]=q*P-N*S,v[10]=te*P-U*S,v[11]=ie*P-Z*S,v},pe.rotateY=function(v,T,I){var S=Math.sin(I),P=Math.cos(I),D=T[0],N=T[1],U=T[2],Z=T[3],X=T[8],q=T[9],te=T[10],ie=T[11];return T!==v&&(v[4]=T[4],v[5]=T[5],v[6]=T[6],v[7]=T[7],v[12]=T[12],v[13]=T[13],v[14]=T[14],v[15]=T[15]),v[0]=D*P-X*S,v[1]=N*P-q*S,v[2]=U*P-te*S,v[3]=Z*P-ie*S,v[8]=D*S+X*P,v[9]=N*S+q*P,v[10]=U*S+te*P,v[11]=Z*S+ie*P,v},pe.rotateZ=function(v,T,I){var S=Math.sin(I),P=Math.cos(I),D=T[0],N=T[1],U=T[2],Z=T[3],X=T[4],q=T[5],te=T[6],ie=T[7];return T!==v&&(v[8]=T[8],v[9]=T[9],v[10]=T[10],v[11]=T[11],v[12]=T[12],v[13]=T[13],v[14]=T[14],v[15]=T[15]),v[0]=D*P+X*S,v[1]=N*P+q*S,v[2]=U*P+te*S,v[3]=Z*P+ie*S,v[4]=X*P-D*S,v[5]=q*P-N*S,v[6]=te*P-U*S,v[7]=ie*P-Z*S,v},pe.fromTranslation=function(v,T){return v[0]=1,v[1]=0,v[2]=0,v[3]=0,v[4]=0,v[5]=1,v[6]=0,v[7]=0,v[8]=0,v[9]=0,v[10]=1,v[11]=0,v[12]=T[0],v[13]=T[1],v[14]=T[2],v[15]=1,v},pe.fromScaling=function(v,T){return v[0]=T[0],v[1]=0,v[2]=0,v[3]=0,v[4]=0,v[5]=T[1],v[6]=0,v[7]=0,v[8]=0,v[9]=0,v[10]=T[2],v[11]=0,v[12]=0,v[13]=0,v[14]=0,v[15]=1,v},pe.fromRotation=function(v,T,I){var S,P,D,N=I[0],U=I[1],Z=I[2],X=Math.hypot(N,U,Z);return X<o.EPSILON?null:(N*=X=1/X,U*=X,Z*=X,S=Math.sin(T),P=Math.cos(T),v[0]=N*N*(D=1-P)+P,v[1]=U*N*D+Z*S,v[2]=Z*N*D-U*S,v[3]=0,v[4]=N*U*D-Z*S,v[5]=U*U*D+P,v[6]=Z*U*D+N*S,v[7]=0,v[8]=N*Z*D+U*S,v[9]=U*Z*D-N*S,v[10]=Z*Z*D+P,v[11]=0,v[12]=0,v[13]=0,v[14]=0,v[15]=1,v)},pe.fromXRotation=function(v,T){var I=Math.sin(T),S=Math.cos(T);return v[0]=1,v[1]=0,v[2]=0,v[3]=0,v[4]=0,v[5]=S,v[6]=I,v[7]=0,v[8]=0,v[9]=-I,v[10]=S,v[11]=0,v[12]=0,v[13]=0,v[14]=0,v[15]=1,v},pe.fromYRotation=function(v,T){var I=Math.sin(T),S=Math.cos(T);return v[0]=S,v[1]=0,v[2]=-I,v[3]=0,v[4]=0,v[5]=1,v[6]=0,v[7]=0,v[8]=I,v[9]=0,v[10]=S,v[11]=0,v[12]=0,v[13]=0,v[14]=0,v[15]=1,v},pe.fromZRotation=function(v,T){var I=Math.sin(T),S=Math.cos(T);return v[0]=S,v[1]=I,v[2]=0,v[3]=0,v[4]=-I,v[5]=S,v[6]=0,v[7]=0,v[8]=0,v[9]=0,v[10]=1,v[11]=0,v[12]=0,v[13]=0,v[14]=0,v[15]=1,v},pe.fromRotationTranslation=f,pe.fromQuat2=function(v,T){var I=new o.ARRAY_TYPE(3),S=-T[0],P=-T[1],D=-T[2],N=T[3],U=T[4],Z=T[5],X=T[6],q=T[7],te=S*S+P*P+D*D+N*N;return te>0?(I[0]=2*(U*N+q*S+Z*D-X*P)/te,I[1]=2*(Z*N+q*P+X*S-U*D)/te,I[2]=2*(X*N+q*D+U*P-Z*S)/te):(I[0]=2*(U*N+q*S+Z*D-X*P),I[1]=2*(Z*N+q*P+X*S-U*D),I[2]=2*(X*N+q*D+U*P-Z*S)),f(v,T,I),v},pe.getTranslation=function(v,T){return v[0]=T[12],v[1]=T[13],v[2]=T[14],v},pe.getScaling=_,pe.getRotation=function(v,T){var I=new o.ARRAY_TYPE(3);_(I,T);var S=1/I[0],P=1/I[1],D=1/I[2],N=T[0]*S,U=T[1]*P,Z=T[2]*D,X=T[4]*S,q=T[5]*P,te=T[6]*D,ie=T[8]*S,de=T[9]*P,Ee=T[10]*D,be=N+q+Ee,xe=0;return be>0?(xe=2*Math.sqrt(be+1),v[3]=.25*xe,v[0]=(te-de)/xe,v[1]=(ie-Z)/xe,v[2]=(U-X)/xe):N>q&&N>Ee?(xe=2*Math.sqrt(1+N-q-Ee),v[3]=(te-de)/xe,v[0]=.25*xe,v[1]=(U+X)/xe,v[2]=(ie+Z)/xe):q>Ee?(xe=2*Math.sqrt(1+q-N-Ee),v[3]=(ie-Z)/xe,v[0]=(U+X)/xe,v[1]=.25*xe,v[2]=(te+de)/xe):(xe=2*Math.sqrt(1+Ee-N-q),v[3]=(U-X)/xe,v[0]=(ie+Z)/xe,v[1]=(te+de)/xe,v[2]=.25*xe),v},pe.fromRotationTranslationScale=function(v,T,I,S){var P=T[0],D=T[1],N=T[2],U=T[3],Z=P+P,X=D+D,q=N+N,te=P*Z,ie=P*X,de=P*q,Ee=D*X,be=D*q,xe=N*q,Ve=U*Z,ve=U*X,Be=U*q,We=S[0],Ke=S[1],tt=S[2];return v[0]=(1-(Ee+xe))*We,v[1]=(ie+Be)*We,v[2]=(de-ve)*We,v[3]=0,v[4]=(ie-Be)*Ke,v[5]=(1-(te+xe))*Ke,v[6]=(be+Ve)*Ke,v[7]=0,v[8]=(de+ve)*tt,v[9]=(be-Ve)*tt,v[10]=(1-(te+Ee))*tt,v[11]=0,v[12]=I[0],v[13]=I[1],v[14]=I[2],v[15]=1,v},pe.fromRotationTranslationScaleOrigin=function(v,T,I,S,P){var D=T[0],N=T[1],U=T[2],Z=T[3],X=D+D,q=N+N,te=U+U,ie=D*X,de=D*q,Ee=D*te,be=N*q,xe=N*te,Ve=U*te,ve=Z*X,Be=Z*q,We=Z*te,Ke=S[0],tt=S[1],ht=S[2],mt=P[0],lt=P[1],Pt=P[2],Nt=(1-(be+Ve))*Ke,wt=(de+We)*Ke,ci=(Ee-Be)*Ke,Jt=(de-We)*tt,qt=(1-(ie+Ve))*tt,zt=(xe+ve)*tt,Ci=(Ee+Be)*ht,si=(xe-ve)*ht,pi=(1-(ie+be))*ht;return v[0]=Nt,v[1]=wt,v[2]=ci,v[3]=0,v[4]=Jt,v[5]=qt,v[6]=zt,v[7]=0,v[8]=Ci,v[9]=si,v[10]=pi,v[11]=0,v[12]=I[0]+mt-(Nt*mt+Jt*lt+Ci*Pt),v[13]=I[1]+lt-(wt*mt+qt*lt+si*Pt),v[14]=I[2]+Pt-(ci*mt+zt*lt+pi*Pt),v[15]=1,v},pe.fromQuat=function(v,T){var I=T[0],S=T[1],P=T[2],D=T[3],N=I+I,U=S+S,Z=P+P,X=I*N,q=S*N,te=S*U,ie=P*N,de=P*U,Ee=P*Z,be=D*N,xe=D*U,Ve=D*Z;return v[0]=1-te-Ee,v[1]=q+Ve,v[2]=ie-xe,v[3]=0,v[4]=q-Ve,v[5]=1-X-Ee,v[6]=de+be,v[7]=0,v[8]=ie+xe,v[9]=de-be,v[10]=1-X-te,v[11]=0,v[12]=0,v[13]=0,v[14]=0,v[15]=1,v},pe.frustum=function(v,T,I,S,P,D,N){var U=1/(I-T),Z=1/(P-S),X=1/(D-N);return v[0]=2*D*U,v[1]=0,v[2]=0,v[3]=0,v[4]=0,v[5]=2*D*Z,v[6]=0,v[7]=0,v[8]=(I+T)*U,v[9]=(P+S)*Z,v[10]=(N+D)*X,v[11]=-1,v[12]=0,v[13]=0,v[14]=N*D*2*X,v[15]=0,v},pe.perspectiveNO=F,pe.perspectiveZO=function(v,T,I,S,P){var D,N=1/Math.tan(T/2);return v[0]=N/I,v[1]=0,v[2]=0,v[3]=0,v[4]=0,v[5]=N,v[6]=0,v[7]=0,v[8]=0,v[9]=0,v[11]=-1,v[12]=0,v[13]=0,v[15]=0,P!=null&&P!==1/0?(v[10]=P*(D=1/(S-P)),v[14]=P*S*D):(v[10]=-1,v[14]=-S),v},pe.perspectiveFromFieldOfView=function(v,T,I,S){var P=Math.tan(T.upDegrees*Math.PI/180),D=Math.tan(T.downDegrees*Math.PI/180),N=Math.tan(T.leftDegrees*Math.PI/180),U=Math.tan(T.rightDegrees*Math.PI/180),Z=2/(N+U),X=2/(P+D);return v[0]=Z,v[1]=0,v[2]=0,v[3]=0,v[4]=0,v[5]=X,v[6]=0,v[7]=0,v[8]=-(N-U)*Z*.5,v[9]=(P-D)*X*.5,v[10]=S/(I-S),v[11]=-1,v[12]=0,v[13]=0,v[14]=S*I/(I-S),v[15]=0,v},pe.orthoNO=R,pe.orthoZO=function(v,T,I,S,P,D,N){var U=1/(T-I),Z=1/(S-P),X=1/(D-N);return v[0]=-2*U,v[1]=0,v[2]=0,v[3]=0,v[4]=0,v[5]=-2*Z,v[6]=0,v[7]=0,v[8]=0,v[9]=0,v[10]=X,v[11]=0,v[12]=(T+I)*U,v[13]=(P+S)*Z,v[14]=D*X,v[15]=1,v},pe.lookAt=function(v,T,I,S){var P,D,N,U,Z,X,q,te,ie,de,Ee=T[0],be=T[1],xe=T[2],Ve=S[0],ve=S[1],Be=S[2],We=I[0],Ke=I[1],tt=I[2];return Math.abs(Ee-We)<o.EPSILON&&Math.abs(be-Ke)<o.EPSILON&&Math.abs(xe-tt)<o.EPSILON?h(v):(q=Ee-We,te=be-Ke,ie=xe-tt,P=ve*(ie*=de=1/Math.hypot(q,te,ie))-Be*(te*=de),D=Be*(q*=de)-Ve*ie,N=Ve*te-ve*q,(de=Math.hypot(P,D,N))?(P*=de=1/de,D*=de,N*=de):(P=0,D=0,N=0),U=te*N-ie*D,Z=ie*P-q*N,X=q*D-te*P,(de=Math.hypot(U,Z,X))?(U*=de=1/de,Z*=de,X*=de):(U=0,Z=0,X=0),v[0]=P,v[1]=U,v[2]=q,v[3]=0,v[4]=D,v[5]=Z,v[6]=te,v[7]=0,v[8]=N,v[9]=X,v[10]=ie,v[11]=0,v[12]=-(P*Ee+D*be+N*xe),v[13]=-(U*Ee+Z*be+X*xe),v[14]=-(q*Ee+te*be+ie*xe),v[15]=1,v)},pe.targetTo=function(v,T,I,S){var P=T[0],D=T[1],N=T[2],U=S[0],Z=S[1],X=S[2],q=P-I[0],te=D-I[1],ie=N-I[2],de=q*q+te*te+ie*ie;de>0&&(q*=de=1/Math.sqrt(de),te*=de,ie*=de);var Ee=Z*ie-X*te,be=X*q-U*ie,xe=U*te-Z*q;return(de=Ee*Ee+be*be+xe*xe)>0&&(Ee*=de=1/Math.sqrt(de),be*=de,xe*=de),v[0]=Ee,v[1]=be,v[2]=xe,v[3]=0,v[4]=te*xe-ie*be,v[5]=ie*Ee-q*xe,v[6]=q*be-te*Ee,v[7]=0,v[8]=q,v[9]=te,v[10]=ie,v[11]=0,v[12]=P,v[13]=D,v[14]=N,v[15]=1,v},pe.str=function(v){return"mat4("+v[0]+", "+v[1]+", "+v[2]+", "+v[3]+", "+v[4]+", "+v[5]+", "+v[6]+", "+v[7]+", "+v[8]+", "+v[9]+", "+v[10]+", "+v[11]+", "+v[12]+", "+v[13]+", "+v[14]+", "+v[15]+")"},pe.frob=function(v){return Math.hypot(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15])},pe.add=function(v,T,I){return v[0]=T[0]+I[0],v[1]=T[1]+I[1],v[2]=T[2]+I[2],v[3]=T[3]+I[3],v[4]=T[4]+I[4],v[5]=T[5]+I[5],v[6]=T[6]+I[6],v[7]=T[7]+I[7],v[8]=T[8]+I[8],v[9]=T[9]+I[9],v[10]=T[10]+I[10],v[11]=T[11]+I[11],v[12]=T[12]+I[12],v[13]=T[13]+I[13],v[14]=T[14]+I[14],v[15]=T[15]+I[15],v},pe.subtract=M,pe.multiplyScalar=function(v,T,I){return v[0]=T[0]*I,v[1]=T[1]*I,v[2]=T[2]*I,v[3]=T[3]*I,v[4]=T[4]*I,v[5]=T[5]*I,v[6]=T[6]*I,v[7]=T[7]*I,v[8]=T[8]*I,v[9]=T[9]*I,v[10]=T[10]*I,v[11]=T[11]*I,v[12]=T[12]*I,v[13]=T[13]*I,v[14]=T[14]*I,v[15]=T[15]*I,v},pe.multiplyScalarAndAdd=function(v,T,I,S){return v[0]=T[0]+I[0]*S,v[1]=T[1]+I[1]*S,v[2]=T[2]+I[2]*S,v[3]=T[3]+I[3]*S,v[4]=T[4]+I[4]*S,v[5]=T[5]+I[5]*S,v[6]=T[6]+I[6]*S,v[7]=T[7]+I[7]*S,v[8]=T[8]+I[8]*S,v[9]=T[9]+I[9]*S,v[10]=T[10]+I[10]*S,v[11]=T[11]+I[11]*S,v[12]=T[12]+I[12]*S,v[13]=T[13]+I[13]*S,v[14]=T[14]+I[14]*S,v[15]=T[15]+I[15]*S,v},pe.exactEquals=function(v,T){return v[0]===T[0]&&v[1]===T[1]&&v[2]===T[2]&&v[3]===T[3]&&v[4]===T[4]&&v[5]===T[5]&&v[6]===T[6]&&v[7]===T[7]&&v[8]===T[8]&&v[9]===T[9]&&v[10]===T[10]&&v[11]===T[11]&&v[12]===T[12]&&v[13]===T[13]&&v[14]===T[14]&&v[15]===T[15]},pe.equals=function(v,T){var I=v[0],S=v[1],P=v[2],D=v[3],N=v[4],U=v[5],Z=v[6],X=v[7],q=v[8],te=v[9],ie=v[10],de=v[11],Ee=v[12],be=v[13],xe=v[14],Ve=v[15],ve=T[0],Be=T[1],We=T[2],Ke=T[3],tt=T[4],ht=T[5],mt=T[6],lt=T[7],Pt=T[8],Nt=T[9],wt=T[10],ci=T[11],Jt=T[12],qt=T[13],zt=T[14],Ci=T[15];return Math.abs(I-ve)<=o.EPSILON*Math.max(1,Math.abs(I),Math.abs(ve))&&Math.abs(S-Be)<=o.EPSILON*Math.max(1,Math.abs(S),Math.abs(Be))&&Math.abs(P-We)<=o.EPSILON*Math.max(1,Math.abs(P),Math.abs(We))&&Math.abs(D-Ke)<=o.EPSILON*Math.max(1,Math.abs(D),Math.abs(Ke))&&Math.abs(N-tt)<=o.EPSILON*Math.max(1,Math.abs(N),Math.abs(tt))&&Math.abs(U-ht)<=o.EPSILON*Math.max(1,Math.abs(U),Math.abs(ht))&&Math.abs(Z-mt)<=o.EPSILON*Math.max(1,Math.abs(Z),Math.abs(mt))&&Math.abs(X-lt)<=o.EPSILON*Math.max(1,Math.abs(X),Math.abs(lt))&&Math.abs(q-Pt)<=o.EPSILON*Math.max(1,Math.abs(q),Math.abs(Pt))&&Math.abs(te-Nt)<=o.EPSILON*Math.max(1,Math.abs(te),Math.abs(Nt))&&Math.abs(ie-wt)<=o.EPSILON*Math.max(1,Math.abs(ie),Math.abs(wt))&&Math.abs(de-ci)<=o.EPSILON*Math.max(1,Math.abs(de),Math.abs(ci))&&Math.abs(Ee-Jt)<=o.EPSILON*Math.max(1,Math.abs(Ee),Math.abs(Jt))&&Math.abs(be-qt)<=o.EPSILON*Math.max(1,Math.abs(be),Math.abs(qt))&&Math.abs(xe-zt)<=o.EPSILON*Math.max(1,Math.abs(xe),Math.abs(zt))&&Math.abs(Ve-Ci)<=o.EPSILON*Math.max(1,Math.abs(Ve),Math.abs(Ci))},pe.sub=pe.mul=pe.ortho=pe.perspective=void 0;var o=function(v,T){if(v&&v.__esModule)return v;if(v===null||u(v)!=="object"&&typeof v!="function")return{default:v};var I=s(void 0);if(I&&I.has(v))return I.get(v);var S={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var D in v)if(D!=="default"&&Object.prototype.hasOwnProperty.call(v,D)){var N=P?Object.getOwnPropertyDescriptor(v,D):null;N&&(N.get||N.set)?Object.defineProperty(S,D,N):S[D]=v[D]}return S.default=v,I&&I.set(v,S),S}(B());function s(v){if(typeof WeakMap!="function")return null;var T=new WeakMap,I=new WeakMap;return(s=function(S){return S?I:T})(v)}function h(v){return v[0]=1,v[1]=0,v[2]=0,v[3]=0,v[4]=0,v[5]=1,v[6]=0,v[7]=0,v[8]=0,v[9]=0,v[10]=1,v[11]=0,v[12]=0,v[13]=0,v[14]=0,v[15]=1,v}function g(v,T,I){var S=T[0],P=T[1],D=T[2],N=T[3],U=T[4],Z=T[5],X=T[6],q=T[7],te=T[8],ie=T[9],de=T[10],Ee=T[11],be=T[12],xe=T[13],Ve=T[14],ve=T[15],Be=I[0],We=I[1],Ke=I[2],tt=I[3];return v[0]=Be*S+We*U+Ke*te+tt*be,v[1]=Be*P+We*Z+Ke*ie+tt*xe,v[2]=Be*D+We*X+Ke*de+tt*Ve,v[3]=Be*N+We*q+Ke*Ee+tt*ve,v[4]=(Be=I[4])*S+(We=I[5])*U+(Ke=I[6])*te+(tt=I[7])*be,v[5]=Be*P+We*Z+Ke*ie+tt*xe,v[6]=Be*D+We*X+Ke*de+tt*Ve,v[7]=Be*N+We*q+Ke*Ee+tt*ve,v[8]=(Be=I[8])*S+(We=I[9])*U+(Ke=I[10])*te+(tt=I[11])*be,v[9]=Be*P+We*Z+Ke*ie+tt*xe,v[10]=Be*D+We*X+Ke*de+tt*Ve,v[11]=Be*N+We*q+Ke*Ee+tt*ve,v[12]=(Be=I[12])*S+(We=I[13])*U+(Ke=I[14])*te+(tt=I[15])*be,v[13]=Be*P+We*Z+Ke*ie+tt*xe,v[14]=Be*D+We*X+Ke*de+tt*Ve,v[15]=Be*N+We*q+Ke*Ee+tt*ve,v}function f(v,T,I){var S=T[0],P=T[1],D=T[2],N=T[3],U=S+S,Z=P+P,X=D+D,q=S*U,te=S*Z,ie=S*X,de=P*Z,Ee=P*X,be=D*X,xe=N*U,Ve=N*Z,ve=N*X;return v[0]=1-(de+be),v[1]=te+ve,v[2]=ie-Ve,v[3]=0,v[4]=te-ve,v[5]=1-(q+be),v[6]=Ee+xe,v[7]=0,v[8]=ie+Ve,v[9]=Ee-xe,v[10]=1-(q+de),v[11]=0,v[12]=I[0],v[13]=I[1],v[14]=I[2],v[15]=1,v}function _(v,T){var I=T[4],S=T[5],P=T[6],D=T[8],N=T[9],U=T[10];return v[0]=Math.hypot(T[0],T[1],T[2]),v[1]=Math.hypot(I,S,P),v[2]=Math.hypot(D,N,U),v}function F(v,T,I,S,P){var D,N=1/Math.tan(T/2);return v[0]=N/I,v[1]=0,v[2]=0,v[3]=0,v[4]=0,v[5]=N,v[6]=0,v[7]=0,v[8]=0,v[9]=0,v[11]=-1,v[12]=0,v[13]=0,v[15]=0,P!=null&&P!==1/0?(v[10]=(P+S)*(D=1/(S-P)),v[14]=2*P*S*D):(v[10]=-1,v[14]=-2*S),v}function R(v,T,I,S,P,D,N){var U=1/(T-I),Z=1/(S-P),X=1/(D-N);return v[0]=-2*U,v[1]=0,v[2]=0,v[3]=0,v[4]=0,v[5]=-2*Z,v[6]=0,v[7]=0,v[8]=0,v[9]=0,v[10]=2*X,v[11]=0,v[12]=(T+I)*U,v[13]=(P+S)*Z,v[14]=(N+D)*X,v[15]=1,v}function M(v,T,I){return v[0]=T[0]-I[0],v[1]=T[1]-I[1],v[2]=T[2]-I[2],v[3]=T[3]-I[3],v[4]=T[4]-I[4],v[5]=T[5]-I[5],v[6]=T[6]-I[6],v[7]=T[7]-I[7],v[8]=T[8]-I[8],v[9]=T[9]-I[9],v[10]=T[10]-I[10],v[11]=T[11]-I[11],v[12]=T[12]-I[12],v[13]=T[13]-I[13],v[14]=T[14]-I[14],v[15]=T[15]-I[15],v}return pe.perspective=F,pe.ortho=R,pe.mul=g,pe.sub=M,pe}var Ae,Ne={},it={};function ye(){if(Ae)return it;function u(P){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},u(P)}Ae=1,Object.defineProperty(it,"__esModule",{value:!0}),it.create=h,it.clone=function(P){var D=new o.ARRAY_TYPE(3);return D[0]=P[0],D[1]=P[1],D[2]=P[2],D},it.length=g,it.fromValues=function(P,D,N){var U=new o.ARRAY_TYPE(3);return U[0]=P,U[1]=D,U[2]=N,U},it.copy=function(P,D){return P[0]=D[0],P[1]=D[1],P[2]=D[2],P},it.set=function(P,D,N,U){return P[0]=D,P[1]=N,P[2]=U,P},it.add=function(P,D,N){return P[0]=D[0]+N[0],P[1]=D[1]+N[1],P[2]=D[2]+N[2],P},it.subtract=f,it.multiply=_,it.divide=F,it.ceil=function(P,D){return P[0]=Math.ceil(D[0]),P[1]=Math.ceil(D[1]),P[2]=Math.ceil(D[2]),P},it.floor=function(P,D){return P[0]=Math.floor(D[0]),P[1]=Math.floor(D[1]),P[2]=Math.floor(D[2]),P},it.min=function(P,D,N){return P[0]=Math.min(D[0],N[0]),P[1]=Math.min(D[1],N[1]),P[2]=Math.min(D[2],N[2]),P},it.max=function(P,D,N){return P[0]=Math.max(D[0],N[0]),P[1]=Math.max(D[1],N[1]),P[2]=Math.max(D[2],N[2]),P},it.round=function(P,D){return P[0]=Math.round(D[0]),P[1]=Math.round(D[1]),P[2]=Math.round(D[2]),P},it.scale=function(P,D,N){return P[0]=D[0]*N,P[1]=D[1]*N,P[2]=D[2]*N,P},it.scaleAndAdd=function(P,D,N,U){return P[0]=D[0]+N[0]*U,P[1]=D[1]+N[1]*U,P[2]=D[2]+N[2]*U,P},it.distance=R,it.squaredDistance=M,it.squaredLength=v,it.negate=function(P,D){return P[0]=-D[0],P[1]=-D[1],P[2]=-D[2],P},it.inverse=function(P,D){return P[0]=1/D[0],P[1]=1/D[1],P[2]=1/D[2],P},it.normalize=function(P,D){var N=D[0],U=D[1],Z=D[2],X=N*N+U*U+Z*Z;return X>0&&(X=1/Math.sqrt(X)),P[0]=D[0]*X,P[1]=D[1]*X,P[2]=D[2]*X,P},it.dot=T,it.cross=function(P,D,N){var U=D[0],Z=D[1],X=D[2],q=N[0],te=N[1],ie=N[2];return P[0]=Z*ie-X*te,P[1]=X*q-U*ie,P[2]=U*te-Z*q,P},it.lerp=function(P,D,N,U){var Z=D[0],X=D[1],q=D[2];return P[0]=Z+U*(N[0]-Z),P[1]=X+U*(N[1]-X),P[2]=q+U*(N[2]-q),P},it.hermite=function(P,D,N,U,Z,X){var q=X*X,te=q*(2*X-3)+1,ie=q*(X-2)+X,de=q*(X-1),Ee=q*(3-2*X);return P[0]=D[0]*te+N[0]*ie+U[0]*de+Z[0]*Ee,P[1]=D[1]*te+N[1]*ie+U[1]*de+Z[1]*Ee,P[2]=D[2]*te+N[2]*ie+U[2]*de+Z[2]*Ee,P},it.bezier=function(P,D,N,U,Z,X){var q=1-X,te=q*q,ie=X*X,de=te*q,Ee=3*X*te,be=3*ie*q,xe=ie*X;return P[0]=D[0]*de+N[0]*Ee+U[0]*be+Z[0]*xe,P[1]=D[1]*de+N[1]*Ee+U[1]*be+Z[1]*xe,P[2]=D[2]*de+N[2]*Ee+U[2]*be+Z[2]*xe,P},it.random=function(P,D){D=D||1;var N=2*o.RANDOM()*Math.PI,U=2*o.RANDOM()-1,Z=Math.sqrt(1-U*U)*D;return P[0]=Math.cos(N)*Z,P[1]=Math.sin(N)*Z,P[2]=U*D,P},it.transformMat4=function(P,D,N){var U=D[0],Z=D[1],X=D[2],q=N[3]*U+N[7]*Z+N[11]*X+N[15];return P[0]=(N[0]*U+N[4]*Z+N[8]*X+N[12])/(q=q||1),P[1]=(N[1]*U+N[5]*Z+N[9]*X+N[13])/q,P[2]=(N[2]*U+N[6]*Z+N[10]*X+N[14])/q,P},it.transformMat3=function(P,D,N){var U=D[0],Z=D[1],X=D[2];return P[0]=U*N[0]+Z*N[3]+X*N[6],P[1]=U*N[1]+Z*N[4]+X*N[7],P[2]=U*N[2]+Z*N[5]+X*N[8],P},it.transformQuat=function(P,D,N){var U=N[0],Z=N[1],X=N[2],q=D[0],te=D[1],ie=D[2],de=Z*ie-X*te,Ee=X*q-U*ie,be=U*te-Z*q,xe=Z*be-X*Ee,Ve=X*de-U*be,ve=U*Ee-Z*de,Be=2*N[3];return Ee*=Be,be*=Be,Ve*=2,ve*=2,P[0]=q+(de*=Be)+(xe*=2),P[1]=te+Ee+Ve,P[2]=ie+be+ve,P},it.rotateX=function(P,D,N,U){var Z=[],X=[];return Z[0]=D[0]-N[0],Z[1]=D[1]-N[1],Z[2]=D[2]-N[2],X[0]=Z[0],X[1]=Z[1]*Math.cos(U)-Z[2]*Math.sin(U),X[2]=Z[1]*Math.sin(U)+Z[2]*Math.cos(U),P[0]=X[0]+N[0],P[1]=X[1]+N[1],P[2]=X[2]+N[2],P},it.rotateY=function(P,D,N,U){var Z=[],X=[];return Z[0]=D[0]-N[0],Z[1]=D[1]-N[1],Z[2]=D[2]-N[2],X[0]=Z[2]*Math.sin(U)+Z[0]*Math.cos(U),X[1]=Z[1],X[2]=Z[2]*Math.cos(U)-Z[0]*Math.sin(U),P[0]=X[0]+N[0],P[1]=X[1]+N[1],P[2]=X[2]+N[2],P},it.rotateZ=function(P,D,N,U){var Z=[],X=[];return Z[0]=D[0]-N[0],Z[1]=D[1]-N[1],Z[2]=D[2]-N[2],X[0]=Z[0]*Math.cos(U)-Z[1]*Math.sin(U),X[1]=Z[0]*Math.sin(U)+Z[1]*Math.cos(U),X[2]=Z[2],P[0]=X[0]+N[0],P[1]=X[1]+N[1],P[2]=X[2]+N[2],P},it.angle=function(P,D){var N=P[0],U=P[1],Z=P[2],X=D[0],q=D[1],te=D[2],ie=Math.sqrt(N*N+U*U+Z*Z)*Math.sqrt(X*X+q*q+te*te),de=ie&&T(P,D)/ie;return Math.acos(Math.min(Math.max(de,-1),1))},it.zero=function(P){return P[0]=0,P[1]=0,P[2]=0,P},it.str=function(P){return"vec3("+P[0]+", "+P[1]+", "+P[2]+")"},it.exactEquals=function(P,D){return P[0]===D[0]&&P[1]===D[1]&&P[2]===D[2]},it.equals=function(P,D){var N=P[0],U=P[1],Z=P[2],X=D[0],q=D[1],te=D[2];return Math.abs(N-X)<=o.EPSILON*Math.max(1,Math.abs(N),Math.abs(X))&&Math.abs(U-q)<=o.EPSILON*Math.max(1,Math.abs(U),Math.abs(q))&&Math.abs(Z-te)<=o.EPSILON*Math.max(1,Math.abs(Z),Math.abs(te))},it.forEach=it.sqrLen=it.len=it.sqrDist=it.dist=it.div=it.mul=it.sub=void 0;var o=function(P,D){if(P&&P.__esModule)return P;if(P===null||u(P)!=="object"&&typeof P!="function")return{default:P};var N=s(void 0);if(N&&N.has(P))return N.get(P);var U={},Z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var X in P)if(X!=="default"&&Object.prototype.hasOwnProperty.call(P,X)){var q=Z?Object.getOwnPropertyDescriptor(P,X):null;q&&(q.get||q.set)?Object.defineProperty(U,X,q):U[X]=P[X]}return U.default=P,N&&N.set(P,U),U}(B());function s(P){if(typeof WeakMap!="function")return null;var D=new WeakMap,N=new WeakMap;return(s=function(U){return U?N:D})(P)}function h(){var P=new o.ARRAY_TYPE(3);return o.ARRAY_TYPE!=Float32Array&&(P[0]=0,P[1]=0,P[2]=0),P}function g(P){return Math.hypot(P[0],P[1],P[2])}function f(P,D,N){return P[0]=D[0]-N[0],P[1]=D[1]-N[1],P[2]=D[2]-N[2],P}function _(P,D,N){return P[0]=D[0]*N[0],P[1]=D[1]*N[1],P[2]=D[2]*N[2],P}function F(P,D,N){return P[0]=D[0]/N[0],P[1]=D[1]/N[1],P[2]=D[2]/N[2],P}function R(P,D){return Math.hypot(D[0]-P[0],D[1]-P[1],D[2]-P[2])}function M(P,D){var N=D[0]-P[0],U=D[1]-P[1],Z=D[2]-P[2];return N*N+U*U+Z*Z}function v(P){var D=P[0],N=P[1],U=P[2];return D*D+N*N+U*U}function T(P,D){return P[0]*D[0]+P[1]*D[1]+P[2]*D[2]}it.sub=f,it.mul=_,it.div=F,it.dist=R,it.sqrDist=M,it.len=g,it.sqrLen=v;var I,S=(I=h(),function(P,D,N,U,Z,X){var q,te;for(D||(D=3),N||(N=0),te=U?Math.min(U*D+N,P.length):P.length,q=N;q<te;q+=D)I[0]=P[q],I[1]=P[q+1],I[2]=P[q+2],Z(I,I,X),P[q]=I[0],P[q+1]=I[1],P[q+2]=I[2];return P});return it.forEach=S,it}var Oe,ue,ct={};function Ct(){if(Oe)return ct;function u(S){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},u(S)}Oe=1,Object.defineProperty(ct,"__esModule",{value:!0}),ct.create=h,ct.clone=function(S){var P=new o.ARRAY_TYPE(4);return P[0]=S[0],P[1]=S[1],P[2]=S[2],P[3]=S[3],P},ct.fromValues=function(S,P,D,N){var U=new o.ARRAY_TYPE(4);return U[0]=S,U[1]=P,U[2]=D,U[3]=N,U},ct.copy=function(S,P){return S[0]=P[0],S[1]=P[1],S[2]=P[2],S[3]=P[3],S},ct.set=function(S,P,D,N,U){return S[0]=P,S[1]=D,S[2]=N,S[3]=U,S},ct.add=function(S,P,D){return S[0]=P[0]+D[0],S[1]=P[1]+D[1],S[2]=P[2]+D[2],S[3]=P[3]+D[3],S},ct.subtract=g,ct.multiply=f,ct.divide=_,ct.ceil=function(S,P){return S[0]=Math.ceil(P[0]),S[1]=Math.ceil(P[1]),S[2]=Math.ceil(P[2]),S[3]=Math.ceil(P[3]),S},ct.floor=function(S,P){return S[0]=Math.floor(P[0]),S[1]=Math.floor(P[1]),S[2]=Math.floor(P[2]),S[3]=Math.floor(P[3]),S},ct.min=function(S,P,D){return S[0]=Math.min(P[0],D[0]),S[1]=Math.min(P[1],D[1]),S[2]=Math.min(P[2],D[2]),S[3]=Math.min(P[3],D[3]),S},ct.max=function(S,P,D){return S[0]=Math.max(P[0],D[0]),S[1]=Math.max(P[1],D[1]),S[2]=Math.max(P[2],D[2]),S[3]=Math.max(P[3],D[3]),S},ct.round=function(S,P){return S[0]=Math.round(P[0]),S[1]=Math.round(P[1]),S[2]=Math.round(P[2]),S[3]=Math.round(P[3]),S},ct.scale=function(S,P,D){return S[0]=P[0]*D,S[1]=P[1]*D,S[2]=P[2]*D,S[3]=P[3]*D,S},ct.scaleAndAdd=function(S,P,D,N){return S[0]=P[0]+D[0]*N,S[1]=P[1]+D[1]*N,S[2]=P[2]+D[2]*N,S[3]=P[3]+D[3]*N,S},ct.distance=F,ct.squaredDistance=R,ct.length=M,ct.squaredLength=v,ct.negate=function(S,P){return S[0]=-P[0],S[1]=-P[1],S[2]=-P[2],S[3]=-P[3],S},ct.inverse=function(S,P){return S[0]=1/P[0],S[1]=1/P[1],S[2]=1/P[2],S[3]=1/P[3],S},ct.normalize=function(S,P){var D=P[0],N=P[1],U=P[2],Z=P[3],X=D*D+N*N+U*U+Z*Z;return X>0&&(X=1/Math.sqrt(X)),S[0]=D*X,S[1]=N*X,S[2]=U*X,S[3]=Z*X,S},ct.dot=function(S,P){return S[0]*P[0]+S[1]*P[1]+S[2]*P[2]+S[3]*P[3]},ct.cross=function(S,P,D,N){var U=D[0]*N[1]-D[1]*N[0],Z=D[0]*N[2]-D[2]*N[0],X=D[0]*N[3]-D[3]*N[0],q=D[1]*N[2]-D[2]*N[1],te=D[1]*N[3]-D[3]*N[1],ie=D[2]*N[3]-D[3]*N[2],de=P[0],Ee=P[1],be=P[2],xe=P[3];return S[0]=Ee*ie-be*te+xe*q,S[1]=-de*ie+be*X-xe*Z,S[2]=de*te-Ee*X+xe*U,S[3]=-de*q+Ee*Z-be*U,S},ct.lerp=function(S,P,D,N){var U=P[0],Z=P[1],X=P[2],q=P[3];return S[0]=U+N*(D[0]-U),S[1]=Z+N*(D[1]-Z),S[2]=X+N*(D[2]-X),S[3]=q+N*(D[3]-q),S},ct.random=function(S,P){var D,N,U,Z,X,q;P=P||1;do X=(D=2*o.RANDOM()-1)*D+(N=2*o.RANDOM()-1)*N;while(X>=1);do q=(U=2*o.RANDOM()-1)*U+(Z=2*o.RANDOM()-1)*Z;while(q>=1);var te=Math.sqrt((1-X)/q);return S[0]=P*D,S[1]=P*N,S[2]=P*U*te,S[3]=P*Z*te,S},ct.transformMat4=function(S,P,D){var N=P[0],U=P[1],Z=P[2],X=P[3];return S[0]=D[0]*N+D[4]*U+D[8]*Z+D[12]*X,S[1]=D[1]*N+D[5]*U+D[9]*Z+D[13]*X,S[2]=D[2]*N+D[6]*U+D[10]*Z+D[14]*X,S[3]=D[3]*N+D[7]*U+D[11]*Z+D[15]*X,S},ct.transformQuat=function(S,P,D){var N=P[0],U=P[1],Z=P[2],X=D[0],q=D[1],te=D[2],ie=D[3],de=ie*N+q*Z-te*U,Ee=ie*U+te*N-X*Z,be=ie*Z+X*U-q*N,xe=-X*N-q*U-te*Z;return S[0]=de*ie+xe*-X+Ee*-te-be*-q,S[1]=Ee*ie+xe*-q+be*-X-de*-te,S[2]=be*ie+xe*-te+de*-q-Ee*-X,S[3]=P[3],S},ct.zero=function(S){return S[0]=0,S[1]=0,S[2]=0,S[3]=0,S},ct.str=function(S){return"vec4("+S[0]+", "+S[1]+", "+S[2]+", "+S[3]+")"},ct.exactEquals=function(S,P){return S[0]===P[0]&&S[1]===P[1]&&S[2]===P[2]&&S[3]===P[3]},ct.equals=function(S,P){var D=S[0],N=S[1],U=S[2],Z=S[3],X=P[0],q=P[1],te=P[2],ie=P[3];return Math.abs(D-X)<=o.EPSILON*Math.max(1,Math.abs(D),Math.abs(X))&&Math.abs(N-q)<=o.EPSILON*Math.max(1,Math.abs(N),Math.abs(q))&&Math.abs(U-te)<=o.EPSILON*Math.max(1,Math.abs(U),Math.abs(te))&&Math.abs(Z-ie)<=o.EPSILON*Math.max(1,Math.abs(Z),Math.abs(ie))},ct.forEach=ct.sqrLen=ct.len=ct.sqrDist=ct.dist=ct.div=ct.mul=ct.sub=void 0;var o=function(S,P){if(S&&S.__esModule)return S;if(S===null||u(S)!=="object"&&typeof S!="function")return{default:S};var D=s(void 0);if(D&&D.has(S))return D.get(S);var N={},U=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Z in S)if(Z!=="default"&&Object.prototype.hasOwnProperty.call(S,Z)){var X=U?Object.getOwnPropertyDescriptor(S,Z):null;X&&(X.get||X.set)?Object.defineProperty(N,Z,X):N[Z]=S[Z]}return N.default=S,D&&D.set(S,N),N}(B());function s(S){if(typeof WeakMap!="function")return null;var P=new WeakMap,D=new WeakMap;return(s=function(N){return N?D:P})(S)}function h(){var S=new o.ARRAY_TYPE(4);return o.ARRAY_TYPE!=Float32Array&&(S[0]=0,S[1]=0,S[2]=0,S[3]=0),S}function g(S,P,D){return S[0]=P[0]-D[0],S[1]=P[1]-D[1],S[2]=P[2]-D[2],S[3]=P[3]-D[3],S}function f(S,P,D){return S[0]=P[0]*D[0],S[1]=P[1]*D[1],S[2]=P[2]*D[2],S[3]=P[3]*D[3],S}function _(S,P,D){return S[0]=P[0]/D[0],S[1]=P[1]/D[1],S[2]=P[2]/D[2],S[3]=P[3]/D[3],S}function F(S,P){return Math.hypot(P[0]-S[0],P[1]-S[1],P[2]-S[2],P[3]-S[3])}function R(S,P){var D=P[0]-S[0],N=P[1]-S[1],U=P[2]-S[2],Z=P[3]-S[3];return D*D+N*N+U*U+Z*Z}function M(S){return Math.hypot(S[0],S[1],S[2],S[3])}function v(S){var P=S[0],D=S[1],N=S[2],U=S[3];return P*P+D*D+N*N+U*U}ct.sub=g,ct.mul=f,ct.div=_,ct.dist=F,ct.sqrDist=R,ct.len=M,ct.sqrLen=v;var T,I=(T=h(),function(S,P,D,N,U,Z){var X,q;for(P||(P=4),D||(D=0),q=N?Math.min(N*P+D,S.length):S.length,X=D;X<q;X+=P)T[0]=S[X],T[1]=S[X+1],T[2]=S[X+2],T[3]=S[X+3],U(T,T,Z),S[X]=T[0],S[X+1]=T[1],S[X+2]=T[2],S[X+3]=T[3];return S});return ct.forEach=I,ct}function pt(){if(ue)return Ne;function u(ve){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Be){return typeof Be}:function(Be){return Be&&typeof Symbol=="function"&&Be.constructor===Symbol&&Be!==Symbol.prototype?"symbol":typeof Be},u(ve)}ue=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.create=F,Ne.identity=function(ve){return ve[0]=0,ve[1]=0,ve[2]=0,ve[3]=1,ve},Ne.setAxisAngle=R,Ne.getAxisAngle=function(ve,Be){var We=2*Math.acos(Be[3]),Ke=Math.sin(We/2);return Ke>o.EPSILON?(ve[0]=Be[0]/Ke,ve[1]=Be[1]/Ke,ve[2]=Be[2]/Ke):(ve[0]=1,ve[1]=0,ve[2]=0),We},Ne.getAngle=function(ve,Be){var We=D(ve,Be);return Math.acos(2*We*We-1)},Ne.multiply=M,Ne.rotateX=function(ve,Be,We){We*=.5;var Ke=Be[0],tt=Be[1],ht=Be[2],mt=Be[3],lt=Math.sin(We),Pt=Math.cos(We);return ve[0]=Ke*Pt+mt*lt,ve[1]=tt*Pt+ht*lt,ve[2]=ht*Pt-tt*lt,ve[3]=mt*Pt-Ke*lt,ve},Ne.rotateY=function(ve,Be,We){We*=.5;var Ke=Be[0],tt=Be[1],ht=Be[2],mt=Be[3],lt=Math.sin(We),Pt=Math.cos(We);return ve[0]=Ke*Pt-ht*lt,ve[1]=tt*Pt+mt*lt,ve[2]=ht*Pt+Ke*lt,ve[3]=mt*Pt-tt*lt,ve},Ne.rotateZ=function(ve,Be,We){We*=.5;var Ke=Be[0],tt=Be[1],ht=Be[2],mt=Be[3],lt=Math.sin(We),Pt=Math.cos(We);return ve[0]=Ke*Pt+tt*lt,ve[1]=tt*Pt-Ke*lt,ve[2]=ht*Pt+mt*lt,ve[3]=mt*Pt-ht*lt,ve},Ne.calculateW=function(ve,Be){var We=Be[0],Ke=Be[1],tt=Be[2];return ve[0]=We,ve[1]=Ke,ve[2]=tt,ve[3]=Math.sqrt(Math.abs(1-We*We-Ke*Ke-tt*tt)),ve},Ne.exp=v,Ne.ln=T,Ne.pow=function(ve,Be,We){return T(ve,Be),P(ve,ve,We),v(ve,ve),ve},Ne.slerp=I,Ne.random=function(ve){var Be=o.RANDOM(),We=o.RANDOM(),Ke=o.RANDOM(),tt=Math.sqrt(1-Be),ht=Math.sqrt(Be);return ve[0]=tt*Math.sin(2*Math.PI*We),ve[1]=tt*Math.cos(2*Math.PI*We),ve[2]=ht*Math.sin(2*Math.PI*Ke),ve[3]=ht*Math.cos(2*Math.PI*Ke),ve},Ne.invert=function(ve,Be){var We=Be[0],Ke=Be[1],tt=Be[2],ht=Be[3],mt=We*We+Ke*Ke+tt*tt+ht*ht,lt=mt?1/mt:0;return ve[0]=-We*lt,ve[1]=-Ke*lt,ve[2]=-tt*lt,ve[3]=ht*lt,ve},Ne.conjugate=function(ve,Be){return ve[0]=-Be[0],ve[1]=-Be[1],ve[2]=-Be[2],ve[3]=Be[3],ve},Ne.fromMat3=S,Ne.fromEuler=function(ve,Be,We,Ke){var tt=.5*Math.PI/180;Be*=tt,We*=tt,Ke*=tt;var ht=Math.sin(Be),mt=Math.cos(Be),lt=Math.sin(We),Pt=Math.cos(We),Nt=Math.sin(Ke),wt=Math.cos(Ke);return ve[0]=ht*Pt*wt-mt*lt*Nt,ve[1]=mt*lt*wt+ht*Pt*Nt,ve[2]=mt*Pt*Nt-ht*lt*wt,ve[3]=mt*Pt*wt+ht*lt*Nt,ve},Ne.str=function(ve){return"quat("+ve[0]+", "+ve[1]+", "+ve[2]+", "+ve[3]+")"},Ne.setAxes=Ne.sqlerp=Ne.rotationTo=Ne.equals=Ne.exactEquals=Ne.normalize=Ne.sqrLen=Ne.squaredLength=Ne.len=Ne.length=Ne.lerp=Ne.dot=Ne.scale=Ne.mul=Ne.add=Ne.set=Ne.copy=Ne.fromValues=Ne.clone=void 0;var o=_(B()),s=_(he()),h=_(ye()),g=_(Ct());function f(ve){if(typeof WeakMap!="function")return null;var Be=new WeakMap,We=new WeakMap;return(f=function(Ke){return Ke?We:Be})(ve)}function _(ve,Be){if(ve&&ve.__esModule)return ve;if(ve===null||u(ve)!=="object"&&typeof ve!="function")return{default:ve};var We=f(Be);if(We&&We.has(ve))return We.get(ve);var Ke={},tt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ht in ve)if(ht!=="default"&&Object.prototype.hasOwnProperty.call(ve,ht)){var mt=tt?Object.getOwnPropertyDescriptor(ve,ht):null;mt&&(mt.get||mt.set)?Object.defineProperty(Ke,ht,mt):Ke[ht]=ve[ht]}return Ke.default=ve,We&&We.set(ve,Ke),Ke}function F(){var ve=new o.ARRAY_TYPE(4);return o.ARRAY_TYPE!=Float32Array&&(ve[0]=0,ve[1]=0,ve[2]=0),ve[3]=1,ve}function R(ve,Be,We){We*=.5;var Ke=Math.sin(We);return ve[0]=Ke*Be[0],ve[1]=Ke*Be[1],ve[2]=Ke*Be[2],ve[3]=Math.cos(We),ve}function M(ve,Be,We){var Ke=Be[0],tt=Be[1],ht=Be[2],mt=Be[3],lt=We[0],Pt=We[1],Nt=We[2],wt=We[3];return ve[0]=Ke*wt+mt*lt+tt*Nt-ht*Pt,ve[1]=tt*wt+mt*Pt+ht*lt-Ke*Nt,ve[2]=ht*wt+mt*Nt+Ke*Pt-tt*lt,ve[3]=mt*wt-Ke*lt-tt*Pt-ht*Nt,ve}function v(ve,Be){var We=Be[0],Ke=Be[1],tt=Be[2],ht=Be[3],mt=Math.sqrt(We*We+Ke*Ke+tt*tt),lt=Math.exp(ht),Pt=mt>0?lt*Math.sin(mt)/mt:0;return ve[0]=We*Pt,ve[1]=Ke*Pt,ve[2]=tt*Pt,ve[3]=lt*Math.cos(mt),ve}function T(ve,Be){var We=Be[0],Ke=Be[1],tt=Be[2],ht=Be[3],mt=Math.sqrt(We*We+Ke*Ke+tt*tt),lt=mt>0?Math.atan2(mt,ht)/mt:0;return ve[0]=We*lt,ve[1]=Ke*lt,ve[2]=tt*lt,ve[3]=.5*Math.log(We*We+Ke*Ke+tt*tt+ht*ht),ve}function I(ve,Be,We,Ke){var tt,ht,mt,lt,Pt,Nt=Be[0],wt=Be[1],ci=Be[2],Jt=Be[3],qt=We[0],zt=We[1],Ci=We[2],si=We[3];return(ht=Nt*qt+wt*zt+ci*Ci+Jt*si)<0&&(ht=-ht,qt=-qt,zt=-zt,Ci=-Ci,si=-si),1-ht>o.EPSILON?(tt=Math.acos(ht),mt=Math.sin(tt),lt=Math.sin((1-Ke)*tt)/mt,Pt=Math.sin(Ke*tt)/mt):(lt=1-Ke,Pt=Ke),ve[0]=lt*Nt+Pt*qt,ve[1]=lt*wt+Pt*zt,ve[2]=lt*ci+Pt*Ci,ve[3]=lt*Jt+Pt*si,ve}function S(ve,Be){var We,Ke=Be[0]+Be[4]+Be[8];if(Ke>0)We=Math.sqrt(Ke+1),ve[3]=.5*We,ve[0]=(Be[5]-Be[7])*(We=.5/We),ve[1]=(Be[6]-Be[2])*We,ve[2]=(Be[1]-Be[3])*We;else{var tt=0;Be[4]>Be[0]&&(tt=1),Be[8]>Be[3*tt+tt]&&(tt=2);var ht=(tt+1)%3,mt=(tt+2)%3;We=Math.sqrt(Be[3*tt+tt]-Be[3*ht+ht]-Be[3*mt+mt]+1),ve[tt]=.5*We,ve[3]=(Be[3*ht+mt]-Be[3*mt+ht])*(We=.5/We),ve[ht]=(Be[3*ht+tt]+Be[3*tt+ht])*We,ve[mt]=(Be[3*mt+tt]+Be[3*tt+mt])*We}return ve}Ne.clone=g.clone,Ne.fromValues=g.fromValues,Ne.copy=g.copy,Ne.set=g.set,Ne.add=g.add,Ne.mul=M;var P=g.scale;Ne.scale=P;var D=g.dot;Ne.dot=D,Ne.lerp=g.lerp;var N=g.length;Ne.length=N,Ne.len=N;var U=g.squaredLength;Ne.squaredLength=U,Ne.sqrLen=U;var Z=g.normalize;Ne.normalize=Z,Ne.exactEquals=g.exactEquals,Ne.equals=g.equals;var X,q,te,ie=(X=h.create(),q=h.fromValues(1,0,0),te=h.fromValues(0,1,0),function(ve,Be,We){var Ke=h.dot(Be,We);return Ke<-.999999?(h.cross(X,q,Be),h.len(X)<1e-6&&h.cross(X,te,Be),h.normalize(X,X),R(ve,X,Math.PI),ve):Ke>.999999?(ve[0]=0,ve[1]=0,ve[2]=0,ve[3]=1,ve):(h.cross(X,Be,We),ve[0]=X[0],ve[1]=X[1],ve[2]=X[2],ve[3]=1+Ke,Z(ve,ve))});Ne.rotationTo=ie;var de,Ee,be=(de=F(),Ee=F(),function(ve,Be,We,Ke,tt,ht){return I(de,Be,tt,ht),I(Ee,We,Ke,ht),I(ve,de,Ee,2*ht*(1-ht)),ve});Ne.sqlerp=be;var xe,Ve=(xe=s.create(),function(ve,Be,We,Ke){return xe[0]=We[0],xe[3]=We[1],xe[6]=We[2],xe[1]=Ke[0],xe[4]=Ke[1],xe[7]=Ke[2],xe[2]=-Be[0],xe[5]=-Be[1],xe[8]=-Be[2],Z(ve,S(ve,xe))});return Ne.setAxes=Ve,Ne}var Ut,vt={};function Bt(){if(Ut)return vt;function u(I){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},u(I)}Ut=1,Object.defineProperty(vt,"__esModule",{value:!0}),vt.create=function(){var I=new o.ARRAY_TYPE(8);return o.ARRAY_TYPE!=Float32Array&&(I[0]=0,I[1]=0,I[2]=0,I[4]=0,I[5]=0,I[6]=0,I[7]=0),I[3]=1,I},vt.clone=function(I){var S=new o.ARRAY_TYPE(8);return S[0]=I[0],S[1]=I[1],S[2]=I[2],S[3]=I[3],S[4]=I[4],S[5]=I[5],S[6]=I[6],S[7]=I[7],S},vt.fromValues=function(I,S,P,D,N,U,Z,X){var q=new o.ARRAY_TYPE(8);return q[0]=I,q[1]=S,q[2]=P,q[3]=D,q[4]=N,q[5]=U,q[6]=Z,q[7]=X,q},vt.fromRotationTranslationValues=function(I,S,P,D,N,U,Z){var X=new o.ARRAY_TYPE(8);X[0]=I,X[1]=S,X[2]=P,X[3]=D;var q=.5*N,te=.5*U,ie=.5*Z;return X[4]=q*D+te*P-ie*S,X[5]=te*D+ie*I-q*P,X[6]=ie*D+q*S-te*I,X[7]=-q*I-te*S-ie*P,X},vt.fromRotationTranslation=_,vt.fromTranslation=function(I,S){return I[0]=0,I[1]=0,I[2]=0,I[3]=1,I[4]=.5*S[0],I[5]=.5*S[1],I[6]=.5*S[2],I[7]=0,I},vt.fromRotation=function(I,S){return I[0]=S[0],I[1]=S[1],I[2]=S[2],I[3]=S[3],I[4]=0,I[5]=0,I[6]=0,I[7]=0,I},vt.fromMat4=function(I,S){var P=s.create();h.getRotation(P,S);var D=new o.ARRAY_TYPE(3);return h.getTranslation(D,S),_(I,P,D),I},vt.copy=F,vt.identity=function(I){return I[0]=0,I[1]=0,I[2]=0,I[3]=1,I[4]=0,I[5]=0,I[6]=0,I[7]=0,I},vt.set=function(I,S,P,D,N,U,Z,X,q){return I[0]=S,I[1]=P,I[2]=D,I[3]=N,I[4]=U,I[5]=Z,I[6]=X,I[7]=q,I},vt.getDual=function(I,S){return I[0]=S[4],I[1]=S[5],I[2]=S[6],I[3]=S[7],I},vt.setDual=function(I,S){return I[4]=S[0],I[5]=S[1],I[6]=S[2],I[7]=S[3],I},vt.getTranslation=function(I,S){var P=S[4],D=S[5],N=S[6],U=S[7],Z=-S[0],X=-S[1],q=-S[2],te=S[3];return I[0]=2*(P*te+U*Z+D*q-N*X),I[1]=2*(D*te+U*X+N*Z-P*q),I[2]=2*(N*te+U*q+P*X-D*Z),I},vt.translate=function(I,S,P){var D=S[0],N=S[1],U=S[2],Z=S[3],X=.5*P[0],q=.5*P[1],te=.5*P[2],ie=S[4],de=S[5],Ee=S[6],be=S[7];return I[0]=D,I[1]=N,I[2]=U,I[3]=Z,I[4]=Z*X+N*te-U*q+ie,I[5]=Z*q+U*X-D*te+de,I[6]=Z*te+D*q-N*X+Ee,I[7]=-D*X-N*q-U*te+be,I},vt.rotateX=function(I,S,P){var D=-S[0],N=-S[1],U=-S[2],Z=S[3],X=S[4],q=S[5],te=S[6],ie=S[7],de=X*Z+ie*D+q*U-te*N,Ee=q*Z+ie*N+te*D-X*U,be=te*Z+ie*U+X*N-q*D,xe=ie*Z-X*D-q*N-te*U;return s.rotateX(I,S,P),I[4]=de*(Z=I[3])+xe*(D=I[0])+Ee*(U=I[2])-be*(N=I[1]),I[5]=Ee*Z+xe*N+be*D-de*U,I[6]=be*Z+xe*U+de*N-Ee*D,I[7]=xe*Z-de*D-Ee*N-be*U,I},vt.rotateY=function(I,S,P){var D=-S[0],N=-S[1],U=-S[2],Z=S[3],X=S[4],q=S[5],te=S[6],ie=S[7],de=X*Z+ie*D+q*U-te*N,Ee=q*Z+ie*N+te*D-X*U,be=te*Z+ie*U+X*N-q*D,xe=ie*Z-X*D-q*N-te*U;return s.rotateY(I,S,P),I[4]=de*(Z=I[3])+xe*(D=I[0])+Ee*(U=I[2])-be*(N=I[1]),I[5]=Ee*Z+xe*N+be*D-de*U,I[6]=be*Z+xe*U+de*N-Ee*D,I[7]=xe*Z-de*D-Ee*N-be*U,I},vt.rotateZ=function(I,S,P){var D=-S[0],N=-S[1],U=-S[2],Z=S[3],X=S[4],q=S[5],te=S[6],ie=S[7],de=X*Z+ie*D+q*U-te*N,Ee=q*Z+ie*N+te*D-X*U,be=te*Z+ie*U+X*N-q*D,xe=ie*Z-X*D-q*N-te*U;return s.rotateZ(I,S,P),I[4]=de*(Z=I[3])+xe*(D=I[0])+Ee*(U=I[2])-be*(N=I[1]),I[5]=Ee*Z+xe*N+be*D-de*U,I[6]=be*Z+xe*U+de*N-Ee*D,I[7]=xe*Z-de*D-Ee*N-be*U,I},vt.rotateByQuatAppend=function(I,S,P){var D=P[0],N=P[1],U=P[2],Z=P[3],X=S[0],q=S[1],te=S[2],ie=S[3];return I[0]=X*Z+ie*D+q*U-te*N,I[1]=q*Z+ie*N+te*D-X*U,I[2]=te*Z+ie*U+X*N-q*D,I[3]=ie*Z-X*D-q*N-te*U,I[4]=(X=S[4])*Z+(ie=S[7])*D+(q=S[5])*U-(te=S[6])*N,I[5]=q*Z+ie*N+te*D-X*U,I[6]=te*Z+ie*U+X*N-q*D,I[7]=ie*Z-X*D-q*N-te*U,I},vt.rotateByQuatPrepend=function(I,S,P){var D=S[0],N=S[1],U=S[2],Z=S[3],X=P[0],q=P[1],te=P[2],ie=P[3];return I[0]=D*ie+Z*X+N*te-U*q,I[1]=N*ie+Z*q+U*X-D*te,I[2]=U*ie+Z*te+D*q-N*X,I[3]=Z*ie-D*X-N*q-U*te,I[4]=D*(ie=P[7])+Z*(X=P[4])+N*(te=P[6])-U*(q=P[5]),I[5]=N*ie+Z*q+U*X-D*te,I[6]=U*ie+Z*te+D*q-N*X,I[7]=Z*ie-D*X-N*q-U*te,I},vt.rotateAroundAxis=function(I,S,P,D){if(Math.abs(D)<o.EPSILON)return F(I,S);var N=Math.hypot(P[0],P[1],P[2]);D*=.5;var U=Math.sin(D),Z=U*P[0]/N,X=U*P[1]/N,q=U*P[2]/N,te=Math.cos(D),ie=S[0],de=S[1],Ee=S[2],be=S[3];I[0]=ie*te+be*Z+de*q-Ee*X,I[1]=de*te+be*X+Ee*Z-ie*q,I[2]=Ee*te+be*q+ie*X-de*Z,I[3]=be*te-ie*Z-de*X-Ee*q;var xe=S[4],Ve=S[5],ve=S[6],Be=S[7];return I[4]=xe*te+Be*Z+Ve*q-ve*X,I[5]=Ve*te+Be*X+ve*Z-xe*q,I[6]=ve*te+Be*q+xe*X-Ve*Z,I[7]=Be*te-xe*Z-Ve*X-ve*q,I},vt.add=function(I,S,P){return I[0]=S[0]+P[0],I[1]=S[1]+P[1],I[2]=S[2]+P[2],I[3]=S[3]+P[3],I[4]=S[4]+P[4],I[5]=S[5]+P[5],I[6]=S[6]+P[6],I[7]=S[7]+P[7],I},vt.multiply=R,vt.scale=function(I,S,P){return I[0]=S[0]*P,I[1]=S[1]*P,I[2]=S[2]*P,I[3]=S[3]*P,I[4]=S[4]*P,I[5]=S[5]*P,I[6]=S[6]*P,I[7]=S[7]*P,I},vt.lerp=function(I,S,P,D){var N=1-D;return M(S,P)<0&&(D=-D),I[0]=S[0]*N+P[0]*D,I[1]=S[1]*N+P[1]*D,I[2]=S[2]*N+P[2]*D,I[3]=S[3]*N+P[3]*D,I[4]=S[4]*N+P[4]*D,I[5]=S[5]*N+P[5]*D,I[6]=S[6]*N+P[6]*D,I[7]=S[7]*N+P[7]*D,I},vt.invert=function(I,S){var P=T(S);return I[0]=-S[0]/P,I[1]=-S[1]/P,I[2]=-S[2]/P,I[3]=S[3]/P,I[4]=-S[4]/P,I[5]=-S[5]/P,I[6]=-S[6]/P,I[7]=S[7]/P,I},vt.conjugate=function(I,S){return I[0]=-S[0],I[1]=-S[1],I[2]=-S[2],I[3]=S[3],I[4]=-S[4],I[5]=-S[5],I[6]=-S[6],I[7]=S[7],I},vt.normalize=function(I,S){var P=T(S);if(P>0){P=Math.sqrt(P);var D=S[0]/P,N=S[1]/P,U=S[2]/P,Z=S[3]/P,X=S[4],q=S[5],te=S[6],ie=S[7],de=D*X+N*q+U*te+Z*ie;I[0]=D,I[1]=N,I[2]=U,I[3]=Z,I[4]=(X-D*de)/P,I[5]=(q-N*de)/P,I[6]=(te-U*de)/P,I[7]=(ie-Z*de)/P}return I},vt.str=function(I){return"quat2("+I[0]+", "+I[1]+", "+I[2]+", "+I[3]+", "+I[4]+", "+I[5]+", "+I[6]+", "+I[7]+")"},vt.exactEquals=function(I,S){return I[0]===S[0]&&I[1]===S[1]&&I[2]===S[2]&&I[3]===S[3]&&I[4]===S[4]&&I[5]===S[5]&&I[6]===S[6]&&I[7]===S[7]},vt.equals=function(I,S){var P=I[0],D=I[1],N=I[2],U=I[3],Z=I[4],X=I[5],q=I[6],te=I[7],ie=S[0],de=S[1],Ee=S[2],be=S[3],xe=S[4],Ve=S[5],ve=S[6],Be=S[7];return Math.abs(P-ie)<=o.EPSILON*Math.max(1,Math.abs(P),Math.abs(ie))&&Math.abs(D-de)<=o.EPSILON*Math.max(1,Math.abs(D),Math.abs(de))&&Math.abs(N-Ee)<=o.EPSILON*Math.max(1,Math.abs(N),Math.abs(Ee))&&Math.abs(U-be)<=o.EPSILON*Math.max(1,Math.abs(U),Math.abs(be))&&Math.abs(Z-xe)<=o.EPSILON*Math.max(1,Math.abs(Z),Math.abs(xe))&&Math.abs(X-Ve)<=o.EPSILON*Math.max(1,Math.abs(X),Math.abs(Ve))&&Math.abs(q-ve)<=o.EPSILON*Math.max(1,Math.abs(q),Math.abs(ve))&&Math.abs(te-Be)<=o.EPSILON*Math.max(1,Math.abs(te),Math.abs(Be))},vt.sqrLen=vt.squaredLength=vt.len=vt.length=vt.dot=vt.mul=vt.setReal=vt.getReal=void 0;var o=f(B()),s=f(pt()),h=f(De());function g(I){if(typeof WeakMap!="function")return null;var S=new WeakMap,P=new WeakMap;return(g=function(D){return D?P:S})(I)}function f(I,S){if(I&&I.__esModule)return I;if(I===null||u(I)!=="object"&&typeof I!="function")return{default:I};var P=g(S);if(P&&P.has(I))return P.get(I);var D={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var U in I)if(U!=="default"&&Object.prototype.hasOwnProperty.call(I,U)){var Z=N?Object.getOwnPropertyDescriptor(I,U):null;Z&&(Z.get||Z.set)?Object.defineProperty(D,U,Z):D[U]=I[U]}return D.default=I,P&&P.set(I,D),D}function _(I,S,P){var D=.5*P[0],N=.5*P[1],U=.5*P[2],Z=S[0],X=S[1],q=S[2],te=S[3];return I[0]=Z,I[1]=X,I[2]=q,I[3]=te,I[4]=D*te+N*q-U*X,I[5]=N*te+U*Z-D*q,I[6]=U*te+D*X-N*Z,I[7]=-D*Z-N*X-U*q,I}function F(I,S){return I[0]=S[0],I[1]=S[1],I[2]=S[2],I[3]=S[3],I[4]=S[4],I[5]=S[5],I[6]=S[6],I[7]=S[7],I}function R(I,S,P){var D=S[0],N=S[1],U=S[2],Z=S[3],X=P[4],q=P[5],te=P[6],ie=P[7],de=S[4],Ee=S[5],be=S[6],xe=S[7],Ve=P[0],ve=P[1],Be=P[2],We=P[3];return I[0]=D*We+Z*Ve+N*Be-U*ve,I[1]=N*We+Z*ve+U*Ve-D*Be,I[2]=U*We+Z*Be+D*ve-N*Ve,I[3]=Z*We-D*Ve-N*ve-U*Be,I[4]=D*ie+Z*X+N*te-U*q+de*We+xe*Ve+Ee*Be-be*ve,I[5]=N*ie+Z*q+U*X-D*te+Ee*We+xe*ve+be*Ve-de*Be,I[6]=U*ie+Z*te+D*q-N*X+be*We+xe*Be+de*ve-Ee*Ve,I[7]=Z*ie-D*X-N*q-U*te+xe*We-de*Ve-Ee*ve-be*Be,I}vt.getReal=s.copy,vt.setReal=s.copy,vt.mul=R;var M=s.dot;vt.dot=M;var v=s.length;vt.length=v,vt.len=v;var T=s.squaredLength;return vt.squaredLength=T,vt.sqrLen=T,vt}var It,St,Wt={};function ui(){if(It)return Wt;function u(S){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},u(S)}It=1,Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.create=h,Wt.clone=function(S){var P=new o.ARRAY_TYPE(2);return P[0]=S[0],P[1]=S[1],P},Wt.fromValues=function(S,P){var D=new o.ARRAY_TYPE(2);return D[0]=S,D[1]=P,D},Wt.copy=function(S,P){return S[0]=P[0],S[1]=P[1],S},Wt.set=function(S,P,D){return S[0]=P,S[1]=D,S},Wt.add=function(S,P,D){return S[0]=P[0]+D[0],S[1]=P[1]+D[1],S},Wt.subtract=g,Wt.multiply=f,Wt.divide=_,Wt.ceil=function(S,P){return S[0]=Math.ceil(P[0]),S[1]=Math.ceil(P[1]),S},Wt.floor=function(S,P){return S[0]=Math.floor(P[0]),S[1]=Math.floor(P[1]),S},Wt.min=function(S,P,D){return S[0]=Math.min(P[0],D[0]),S[1]=Math.min(P[1],D[1]),S},Wt.max=function(S,P,D){return S[0]=Math.max(P[0],D[0]),S[1]=Math.max(P[1],D[1]),S},Wt.round=function(S,P){return S[0]=Math.round(P[0]),S[1]=Math.round(P[1]),S},Wt.scale=function(S,P,D){return S[0]=P[0]*D,S[1]=P[1]*D,S},Wt.scaleAndAdd=function(S,P,D,N){return S[0]=P[0]+D[0]*N,S[1]=P[1]+D[1]*N,S},Wt.distance=F,Wt.squaredDistance=R,Wt.length=M,Wt.squaredLength=v,Wt.negate=function(S,P){return S[0]=-P[0],S[1]=-P[1],S},Wt.inverse=function(S,P){return S[0]=1/P[0],S[1]=1/P[1],S},Wt.normalize=function(S,P){var D=P[0],N=P[1],U=D*D+N*N;return U>0&&(U=1/Math.sqrt(U)),S[0]=P[0]*U,S[1]=P[1]*U,S},Wt.dot=function(S,P){return S[0]*P[0]+S[1]*P[1]},Wt.cross=function(S,P,D){var N=P[0]*D[1]-P[1]*D[0];return S[0]=S[1]=0,S[2]=N,S},Wt.lerp=function(S,P,D,N){var U=P[0],Z=P[1];return S[0]=U+N*(D[0]-U),S[1]=Z+N*(D[1]-Z),S},Wt.random=function(S,P){P=P||1;var D=2*o.RANDOM()*Math.PI;return S[0]=Math.cos(D)*P,S[1]=Math.sin(D)*P,S},Wt.transformMat2=function(S,P,D){var N=P[0],U=P[1];return S[0]=D[0]*N+D[2]*U,S[1]=D[1]*N+D[3]*U,S},Wt.transformMat2d=function(S,P,D){var N=P[0],U=P[1];return S[0]=D[0]*N+D[2]*U+D[4],S[1]=D[1]*N+D[3]*U+D[5],S},Wt.transformMat3=function(S,P,D){var N=P[0],U=P[1];return S[0]=D[0]*N+D[3]*U+D[6],S[1]=D[1]*N+D[4]*U+D[7],S},Wt.transformMat4=function(S,P,D){var N=P[0],U=P[1];return S[0]=D[0]*N+D[4]*U+D[12],S[1]=D[1]*N+D[5]*U+D[13],S},Wt.rotate=function(S,P,D,N){var U=P[0]-D[0],Z=P[1]-D[1],X=Math.sin(N),q=Math.cos(N);return S[0]=U*q-Z*X+D[0],S[1]=U*X+Z*q+D[1],S},Wt.angle=function(S,P){var D=S[0],N=S[1],U=P[0],Z=P[1],X=Math.sqrt(D*D+N*N)*Math.sqrt(U*U+Z*Z);return Math.acos(Math.min(Math.max(X&&(D*U+N*Z)/X,-1),1))},Wt.zero=function(S){return S[0]=0,S[1]=0,S},Wt.str=function(S){return"vec2("+S[0]+", "+S[1]+")"},Wt.exactEquals=function(S,P){return S[0]===P[0]&&S[1]===P[1]},Wt.equals=function(S,P){var D=S[0],N=S[1],U=P[0],Z=P[1];return Math.abs(D-U)<=o.EPSILON*Math.max(1,Math.abs(D),Math.abs(U))&&Math.abs(N-Z)<=o.EPSILON*Math.max(1,Math.abs(N),Math.abs(Z))},Wt.forEach=Wt.sqrLen=Wt.sqrDist=Wt.dist=Wt.div=Wt.mul=Wt.sub=Wt.len=void 0;var o=function(S,P){if(S&&S.__esModule)return S;if(S===null||u(S)!=="object"&&typeof S!="function")return{default:S};var D=s(void 0);if(D&&D.has(S))return D.get(S);var N={},U=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Z in S)if(Z!=="default"&&Object.prototype.hasOwnProperty.call(S,Z)){var X=U?Object.getOwnPropertyDescriptor(S,Z):null;X&&(X.get||X.set)?Object.defineProperty(N,Z,X):N[Z]=S[Z]}return N.default=S,D&&D.set(S,N),N}(B());function s(S){if(typeof WeakMap!="function")return null;var P=new WeakMap,D=new WeakMap;return(s=function(N){return N?D:P})(S)}function h(){var S=new o.ARRAY_TYPE(2);return o.ARRAY_TYPE!=Float32Array&&(S[0]=0,S[1]=0),S}function g(S,P,D){return S[0]=P[0]-D[0],S[1]=P[1]-D[1],S}function f(S,P,D){return S[0]=P[0]*D[0],S[1]=P[1]*D[1],S}function _(S,P,D){return S[0]=P[0]/D[0],S[1]=P[1]/D[1],S}function F(S,P){return Math.hypot(P[0]-S[0],P[1]-S[1])}function R(S,P){var D=P[0]-S[0],N=P[1]-S[1];return D*D+N*N}function M(S){return Math.hypot(S[0],S[1])}function v(S){var P=S[0],D=S[1];return P*P+D*D}Wt.len=M,Wt.sub=g,Wt.mul=f,Wt.div=_,Wt.dist=F,Wt.sqrDist=R,Wt.sqrLen=v;var T,I=(T=h(),function(S,P,D,N,U,Z){var X,q;for(P||(P=2),D||(D=0),q=N?Math.min(N*P+D,S.length):S.length,X=D;X<q;X+=P)T[0]=S[X],T[1]=S[X+1],U(T,T,Z),S[X]=T[0],S[X+1]=T[1];return S});return Wt.forEach=I,Wt}function di(){if(St)return k;function u(S){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},u(S)}St=1,Object.defineProperty(k,"__esModule",{value:!0}),k.vec4=k.vec3=k.vec2=k.quat2=k.quat=k.mat4=k.mat3=k.mat2d=k.mat2=k.glMatrix=void 0;var o=I(B());k.glMatrix=o;var s=I(G());k.mat2=s;var h=I(J());k.mat2d=h;var g=I(he());k.mat3=g;var f=I(De());k.mat4=f;var _=I(pt());k.quat=_;var F=I(Bt());k.quat2=F;var R=I(ui());k.vec2=R;var M=I(ye());k.vec3=M;var v=I(Ct());function T(S){if(typeof WeakMap!="function")return null;var P=new WeakMap,D=new WeakMap;return(T=function(N){return N?D:P})(S)}function I(S,P){if(S&&S.__esModule)return S;if(S===null||u(S)!=="object"&&typeof S!="function")return{default:S};var D=T(P);if(D&&D.has(S))return D.get(S);var N={},U=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Z in S)if(Z!=="default"&&Object.prototype.hasOwnProperty.call(S,Z)){var X=U?Object.getOwnPropertyDescriptor(S,Z):null;X&&(X.get||X.set)?Object.defineProperty(N,Z,X):N[Z]=S[Z]}return N.default=S,D&&D.set(S,N),N}return k.vec4=v,k}var Ji,$t,ii,ni,Re=di(),zi=function(){if($t)return Ji;function u(o,s,h,g){this.cx=3*o,this.bx=3*(h-o)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*s,this.by=3*(g-s)-this.cy,this.ay=1-this.cy-this.by,this.p1x=o,this.p1y=s,this.p2x=h,this.p2y=g}return $t=1,Ji=u,u.prototype={sampleCurveX:function(o){return((this.ax*o+this.bx)*o+this.cx)*o},sampleCurveY:function(o){return((this.ay*o+this.by)*o+this.cy)*o},sampleCurveDerivativeX:function(o){return(3*this.ax*o+2*this.bx)*o+this.cx},solveCurveX:function(o,s){if(s===void 0&&(s=1e-6),o<0)return 0;if(o>1)return 1;for(var h=o,g=0;g<8;g++){var f=this.sampleCurveX(h)-o;if(Math.abs(f)<s)return h;var _=this.sampleCurveDerivativeX(h);if(Math.abs(_)<1e-6)break;h-=f/_}var F=0,R=1;for(h=o,g=0;g<20&&(f=this.sampleCurveX(h),!(Math.abs(f-o)<s));g++)o>f?F=h:R=h,h=.5*(R-F)+F;return h},solve:function(o,s){return this.sampleCurveY(this.solveCurveX(o,s))}},Ji}(),hn=x(zi);function ze(){if(ni)return ii;function u(o,s){this.x=o,this.y=s}return ni=1,ii=u,u.prototype={clone:function(){return new u(this.x,this.y)},add:function(o){return this.clone()._add(o)},sub:function(o){return this.clone()._sub(o)},multByPoint:function(o){return this.clone()._multByPoint(o)},divByPoint:function(o){return this.clone()._divByPoint(o)},mult:function(o){return this.clone()._mult(o)},div:function(o){return this.clone()._div(o)},rotate:function(o){return this.clone()._rotate(o)},rotateAround:function(o,s){return this.clone()._rotateAround(o,s)},matMult:function(o){return this.clone()._matMult(o)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(o){return this.x===o.x&&this.y===o.y},dist:function(o){return Math.sqrt(this.distSqr(o))},distSqr:function(o){var s=o.x-this.x,h=o.y-this.y;return s*s+h*h},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(o){return Math.atan2(this.y-o.y,this.x-o.x)},angleWith:function(o){return this.angleWithSep(o.x,o.y)},angleWithSep:function(o,s){return Math.atan2(this.x*s-this.y*o,this.x*o+this.y*s)},_matMult:function(o){var s=o[2]*this.x+o[3]*this.y;return this.x=o[0]*this.x+o[1]*this.y,this.y=s,this},_add:function(o){return this.x+=o.x,this.y+=o.y,this},_sub:function(o){return this.x-=o.x,this.y-=o.y,this},_mult:function(o){return this.x*=o,this.y*=o,this},_div:function(o){return this.x/=o,this.y/=o,this},_multByPoint:function(o){return this.x*=o.x,this.y*=o.y,this},_divByPoint:function(o){return this.x/=o.x,this.y/=o.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var o=this.y;return this.y=this.x,this.x=-o,this},_rotate:function(o){var s=Math.cos(o),h=Math.sin(o),g=h*this.x+s*this.y;return this.x=s*this.x-h*this.y,this.y=g,this},_rotateAround:function(o,s){var h=Math.cos(o),g=Math.sin(o),f=s.y+g*(this.x-s.x)+h*(this.y-s.y);return this.x=s.x+h*(this.x-s.x)-g*(this.y-s.y),this.y=f,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},u.convert=function(o){return o instanceof u?o:Array.isArray(o)?new u(o[0],o[1]):o},ii}var K=x(ze());function et(u,o){if(Array.isArray(u)){if(!Array.isArray(o)||u.length!==o.length)return!1;for(let s=0;s<u.length;s++)if(!et(u[s],o[s]))return!1;return!0}if(typeof u=="object"&&u!==null&&o!==null){if(typeof o!="object"||Object.keys(u).length!==Object.keys(o).length)return!1;for(const s in u)if(!et(u[s],o[s]))return!1;return!0}return u===o}const ot=Math.PI/180,Te=180/Math.PI;function _e(u){return u*ot}function Ye(u){return u*Te}const qe=[[0,0],[1,0],[1,1],[0,1]];function rt(u){if(u<=0)return 0;if(u>=1)return 1;const o=u*u,s=o*u;return 4*(u<.5?s:3*(u-o)+s-.75)}function Ge(u,o,s,h){const g=new hn(u,o,s,h);return function(f){return g.solve(f)}}const Mt=Ge(.25,.1,.25,1);function nt(u,o,s){return Math.min(s,Math.max(o,u))}function Et(u,o,s){return(s=nt((s-u)/(o-u),0,1))*s*(3-2*s)}function Xt(u,o,s){const h=s-o,g=((u-o)%h+h)%h+o;return g===o?s:g}function Ti(u,o,s){if(!u.length)return s(null,[]);let h=u.length;const g=new Array(u.length);let f=null;u.forEach((_,F)=>{o(_,(R,M)=>{R&&(f=R),g[F]=M,--h==0&&s(f,g)})})}function wi(u,...o){for(const s of o)for(const h in s)u[h]=s[h];return u}let Ui=1;function uo(){return Ui++}function jn(u){return u<=1?1:Math.pow(2,Math.ceil(Math.log(u)/Math.LN2))}function go(u,o){u.forEach(s=>{o[s]&&(o[s]=o[s].bind(o))})}function sn(u,o){return u.indexOf(o,u.length-o.length)!==-1}function or(u,o,s){const h={};for(const g in u)h[g]=o.call(this,u[g],g,u);return h}function Or(u,o,s){const h={};for(const g in u)o.call(this,u[g],g,u)&&(h[g]=u[g]);return h}function Ln(u){return Array.isArray(u)?u.map(Ln):typeof u=="object"&&u?or(u,Ln):u}const Mo={};function an(u){Mo[u]||(typeof console<"u"&&console.warn(u),Mo[u]=!0)}function Aa(u,o,s){return(s.y-u.y)*(o.x-u.x)>(o.y-u.y)*(s.x-u.x)}function Ml(u){let o=0;for(let s,h,g=0,f=u.length,_=f-1;g<f;_=g++)s=u[g],h=u[_],o+=(h.x-s.x)*(s.y+h.y);return o}function Lr([u,o,s]){const h=_e(o+90),g=_e(s);return{x:u*Math.cos(h)*Math.sin(g),y:u*Math.sin(h)*Math.sin(g),z:u*Math.cos(g),azimuthal:o,polar:s}}function fa(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function hs(u){const o={};if(u.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(s,h,g,f)=>{const _=g||f;return o[h]=!_||_.toLowerCase(),""}),o["max-age"]){const s=parseInt(o["max-age"],10);isNaN(s)?delete o["max-age"]:o["max-age"]=s}return o}let vu=null;function Al(u,o){return[u[4*o],u[4*o+1],u[4*o+2],u[4*o+3]]}function xu(u,o,s,h){for(;o<s;){const g=o+s>>1;u[g]<h?o=g+1:s=g}return o}function xt(u,o,s,h){for(;o<s;){const g=o+s>>1;u[g]<=h?o=g+1:s=g}return o}function le(u){return u>0?1/(1.001-u):1+u}function fe(u){return u>0?1-1/(1.001-u):-u}const ke={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){if(!ke.API_URL)return null;try{const u=new URL(ke.API_URL);return u.hostname==="api.mapbox.cn"?"https://events.mapbox.cn/events/v2":u.hostname==="api.mapbox.com"?"https://events.mapbox.com/events/v2":null}catch{return null}},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",RASTERARRAYS_URL_PREFIX:"rasterarrays/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,DEFAULT_STYLE:"mapbox://styles/mapbox/standard",MAX_PARALLEL_IMAGE_REQUESTS:16,DRACO_URL:"https://api.mapbox.com/mapbox-gl-js/draco_decoder_gltf_v1.5.6.wasm",MESHOPT_URL:"https://api.mapbox.com/mapbox-gl-js/meshopt_base_v0.20.wasm",MESHOPT_SIMD_URL:"https://api.mapbox.com/mapbox-gl-js/meshopt_simd_v0.20.wasm",GLYPHS_URL:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf",TILES3D_URL_PREFIX:"3dtiles/v1"};function Xe(u){return ke.API_URL_REGEX.test(u)}function je(u){return ke.API_SPRITE_REGEX.test(u)}let at,yt,ut,bt,Tt,Rt;function Ht(){return at==null&&(at=self.OffscreenCanvas&&new OffscreenCanvas(1,1).getContext("2d")&&typeof self.createImageBitmap=="function"),at}const oi={now:()=>bt!==void 0?bt:performance.now(),setNow(u){bt=u},restoreNow(){bt=void 0},frame(u){const o=requestAnimationFrame(u);return{cancel:()=>cancelAnimationFrame(o)}},getImageData(u,o=0){const{width:s,height:h}=u;Tt||(Tt=document.createElement("canvas"));const g=Tt.getContext("2d",{willReadFrequently:!0});if(!g)throw new Error("failed to create canvas 2d context");return(s>Tt.width||h>Tt.height)&&(Tt.width=s,Tt.height=h),g.clearRect(-o,-o,s+2*o,h+2*o),g.drawImage(u,0,0,s,h),g.getImageData(-o,-o,s+2*o,h+2*o)},resolveURL:u=>(yt||(yt=document.createElement("a")),yt.href=u,yt.href),get devicePixelRatio(){return window.devicePixelRatio},get prefersReducedMotion(){return!!window.matchMedia&&(ut==null&&(ut=window.matchMedia("(prefers-reduced-motion: reduce)")),ut.matches)},hasCanvasFingerprintNoise(){if(Rt!==void 0)return Rt;if(!Ht())return Rt=!1,!1;const u=new OffscreenCanvas(85,1),o=u.getContext("2d",{willReadFrequently:!0});let s=0;for(let g=0;g<u.width;++g)o.fillStyle=`rgba(${s++},${s++},${s++}, 255)`,o.fillRect(g,0,1,1);const h=o.getImageData(0,0,u.width,u.height);s=0;for(let g=0;g<h.data.length;++g)if(g%4!=3&&s++!==h.data[g])return Rt=!0,!0;return Rt=!1,!1}};function _i(u,o){const s=u.indexOf("?");if(s<0)return`${u}?${new URLSearchParams(o).toString()}`;const h=new URLSearchParams(u.slice(s));for(const g in o)h.set(g,o[g]);return`${u.slice(0,s)}?${h.toString()}`}function ji(u,o={persistentParams:[]}){const s=u.indexOf("?");if(s<0)return u;const h=new URLSearchParams,g=new URLSearchParams(u.slice(s));for(const _ of o.persistentParams){const F=g.get(_);F&&h.set(_,F)}const f=h.toString();return`${u.slice(0,s)}${f.length>0?`?${f}`:""}`}const Gi="mapbox-tiles";let Hi=500,Vi=50;const kn=["language","worldview","jobid"];let yn,Yi;function Un(){try{return caches}catch{}}function ro(){const u=Un();u&&yn==null&&(yn=u.open(Gi))}let lr=1/0;const yr={supported:!1,testSupport:function(u){!vc&&br&&(fs?Uh(u):Yo=u)}};let Yo,br,vc=!1,fs=!1;const $h=typeof self<"u"?self:{};function Uh(u){const o=u.createTexture();u.bindTexture(u.TEXTURE_2D,o);try{if(u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,u.UNSIGNED_BYTE,br),u.isContextLost())return;yr.supported=!0}catch{}u.deleteTexture(o),vc=!0}$h.document&&(br=$h.document.createElement("img"),br.onload=function(){Yo&&Uh(Yo),Yo=null,fs=!0},br.onerror=function(){vc=!0,Yo=null},br.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const Gh={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image",Model:"Model"};typeof Object.freeze=="function"&&Object.freeze(Gh);class c0 extends Error{constructor(o,s,h){s===401&&Xe(h)&&(o+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(o),this.status=s,this.url=h}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const l0=fa()?()=>self.worker&&self.worker.referrer:()=>(location.protocol==="blob:"?parent:self).location.href,Ol=function(u,o){if(!(/^file:/.test(s=u.url)||/^file:/.test(l0())&&!/^\w+:/.test(s))){if(self.fetch&&self.Request&&self.AbortController&&Request.prototype.hasOwnProperty("signal"))return function(h,g){const f=new AbortController,_=new Request(h.url,{method:h.method||"GET",body:h.body,credentials:h.credentials,headers:h.headers,referrer:l0(),referrerPolicy:h.referrerPolicy,signal:f.signal});let F=!1,R=!1;const M=(v=_.url).indexOf("sku=")>0&&Xe(v);var v;h.type==="json"&&_.headers.set("Accept","application/json");const T=(S,P,D)=>{if(R)return;if(S&&S.message!=="SecurityError"&&an(S.toString()),P&&D)return I(P);const N=Date.now();fetch(_).then(U=>{if(U.ok){const Z=M?U.clone():null;return I(U,Z,N)}return g(new c0(U.statusText,U.status,h.url))}).catch(U=>{U.name!=="AbortError"&&g(new Error(`${U.message} ${h.url}`))})},I=(S,P,D)=>{(h.type==="arrayBuffer"?S.arrayBuffer():h.type==="json"?S.json():S.text()).then(N=>{R||(P&&D&&function(U,Z,X){if(ro(),yn==null)return;const q=hs(Z.headers.get("Cache-Control")||"");if(q["no-store"])return;const te={status:Z.status,statusText:Z.statusText,headers:new Headers};Z.headers.forEach((Ee,be)=>te.headers.set(be,Ee)),q["max-age"]&&te.headers.set("Expires",new Date(X+1e3*q["max-age"]).toUTCString());const ie=te.headers.get("Expires");if(!ie||new Date(ie).getTime()-X<42e4)return;let de=ji(U.url,{persistentParams:kn});if(Z.status===206){const Ee=U.headers.get("Range");if(!Ee)return;te.status=200,de=_i(de,{range:Ee})}(function(Ee,be){if(Yi===void 0)try{new Response(new ReadableStream),Yi=!0}catch{Yi=!1}Yi?be(Ee.body):Ee.blob().then(be)})(Z,Ee=>{const be=new Response((xe=Z.status)!==200&&xe!==404&&[101,103,204,205,304].includes(xe)?null:Ee,te);var xe;ro(),yn!=null&&yn.then(Ve=>Ve.put(de,be)).catch(Ve=>an(Ve.message))})}(_,P,D),F=!0,g(null,N,S.headers.get("Cache-Control"),S.headers.get("Expires")))}).catch(N=>{R||g(new Error(N.message))})};return M?function(S,P){if(ro(),yn==null)return P(null);yn.then(D=>{let N=ji(S.url,{persistentParams:kn});const U=S.headers.get("Range");U&&(N=_i(N,{range:U})),D.match(N).then(Z=>{const X=function(q){if(!q)return!1;const te=new Date(q.headers.get("Expires")||0),ie=hs(q.headers.get("Cache-Control")||"");return te>Date.now()&&!ie["no-cache"]}(Z);D.delete(N),X&&D.put(N,Z.clone()),P(null,Z,X)}).catch(P)}).catch(P)}(_,T):T(null,null),{cancel:()=>{R=!0,F||f.abort()}}}(u,o);if(fa()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",u,o,void 0,!0)}var s;return function(h,g){const f=new XMLHttpRequest;f.open(h.method||"GET",h.url,!0),h.type==="arrayBuffer"&&(f.responseType="arraybuffer");for(const _ in h.headers)f.setRequestHeader(_,h.headers[_]);return h.type==="json"&&(f.responseType="text",f.setRequestHeader("Accept","application/json")),f.withCredentials=h.credentials==="include",f.onerror=()=>{g(new Error(f.statusText))},f.onload=()=>{if((f.status>=200&&f.status<300||f.status===0)&&f.response!==null){let _=f.response;if(h.type==="json")try{_=JSON.parse(f.response)}catch(F){return g(F)}g(null,_,f.getResponseHeader("Cache-Control"),f.getResponseHeader("Expires"))}else g(new c0(f.statusText,f.status,h.url))},f.send(h.body),{cancel:()=>f.abort()}}(u,o)},Ll=function(u,o){return Ol(wi(u,{type:"arrayBuffer"}),o)};function Oa(u){const o=document.createElement("a");return o.href=u,o.protocol===location.protocol&&o.host===location.host}const Ka="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let Za,Xr;Za=[],Xr=0;const ps=function(u,o){if(yr.supported&&(u.headers||(u.headers={}),u.headers.accept="image/webp,*/*"),Xr>=ke.MAX_PARALLEL_IMAGE_REQUESTS){const f={requestParameters:u,callback:o,cancelled:!1,cancel(){this.cancelled=!0}};return Za.push(f),f}Xr++;let s=!1;const h=()=>{if(!s)for(s=!0,Xr--;Za.length&&Xr<ke.MAX_PARALLEL_IMAGE_REQUESTS;){const f=Za.shift(),{requestParameters:_,callback:F,cancelled:R}=f;R||(f.cancel=ps(_,F).cancel)}},g=Ll(u,(f,_,F,R)=>{h(),f?o(f):_&&(self.createImageBitmap?function(M,v){const T=new Blob([new Uint8Array(M)],{type:"image/png"});createImageBitmap(T).then(I=>{v(null,I)}).catch(I=>{v(new Error(`Could not load image because of ${I.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(_,(M,v)=>o(M,v,F,R)):function(M,v){const T=new Image;T.onload=()=>{v(null,T),URL.revokeObjectURL(T.src),T.onload=null,requestAnimationFrame(()=>{T.src=Ka})},T.onerror=()=>v(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const I=new Blob([new Uint8Array(M)],{type:"image/png"});T.src=M.byteLength?URL.createObjectURL(I):Ka}(_,(M,v)=>o(M,v,F,R)))});return{cancel:()=>{g.cancel(),h()}}};var wu,d0,u0,ms={exports:{}},Hh={exports:{}},r_={exports:{}},nv=function(){if(u0)return ms.exports;u0=1;var u=(wu||(wu=1,Hh.exports=function(s,h){var g,f,_,F,R,M,v,T;for(f=s.length-(g=3&s.length),_=h,R=3432918353,M=461845907,T=0;T<f;)v=255&s.charCodeAt(T)|(255&s.charCodeAt(++T))<<8|(255&s.charCodeAt(++T))<<16|(255&s.charCodeAt(++T))<<24,++T,_=27492+(65535&(F=5*(65535&(_=(_^=v=(65535&(v=(v=(65535&v)*R+(((v>>>16)*R&65535)<<16)&4294967295)<<15|v>>>17))*M+(((v>>>16)*M&65535)<<16)&4294967295)<<13|_>>>19))+((5*(_>>>16)&65535)<<16)&4294967295))+((58964+(F>>>16)&65535)<<16);switch(v=0,g){case 3:v^=(255&s.charCodeAt(T+2))<<16;case 2:v^=(255&s.charCodeAt(T+1))<<8;case 1:_^=v=(65535&(v=(v=(65535&(v^=255&s.charCodeAt(T)))*R+(((v>>>16)*R&65535)<<16)&4294967295)<<15|v>>>17))*M+(((v>>>16)*M&65535)<<16)&4294967295}return _^=s.length,_=2246822507*(65535&(_^=_>>>16))+((2246822507*(_>>>16)&65535)<<16)&4294967295,_=3266489909*(65535&(_^=_>>>13))+((3266489909*(_>>>16)&65535)<<16)&4294967295,(_^=_>>>16)>>>0}),Hh.exports),o=(d0||(d0=1,r_.exports=function(s,h){for(var g,f=s.length,_=h^f,F=0;f>=4;)g=1540483477*(65535&(g=255&s.charCodeAt(F)|(255&s.charCodeAt(++F))<<8|(255&s.charCodeAt(++F))<<16|(255&s.charCodeAt(++F))<<24))+((1540483477*(g>>>16)&65535)<<16),_=1540483477*(65535&_)+((1540483477*(_>>>16)&65535)<<16)^(g=1540483477*(65535&(g^=g>>>24))+((1540483477*(g>>>16)&65535)<<16)),f-=4,++F;switch(f){case 3:_^=(255&s.charCodeAt(F+2))<<16;case 2:_^=(255&s.charCodeAt(F+1))<<8;case 1:_=1540483477*(65535&(_^=255&s.charCodeAt(F)))+((1540483477*(_>>>16)&65535)<<16)}return _=1540483477*(65535&(_^=_>>>13))+((1540483477*(_>>>16)&65535)<<16),(_^=_>>>15)>>>0}),r_.exports);return ms.exports=u,ms.exports.murmur3=u,ms.exports.murmur2=o,ms.exports}(),Jr=x(nv);class xc{constructor(o,...s){wi(this,s[0]||{}),this.type=o}}class Fu extends xc{constructor(o,s={}){super("error",wi({error:o},s))}}function Dl(u,o,s){s[u]&&s[u].indexOf(o)!==-1||(s[u]=s[u]||[],s[u].push(o))}function h0(u,o,s){if(s&&s[u]){const h=s[u].indexOf(o);h!==-1&&s[u].splice(h,1)}}class Bl{on(o,s){return this._listeners=this._listeners||{},Dl(o,s,this._listeners),this}off(o,s){return h0(o,s,this._listeners),h0(o,s,this._oneTimeListeners),this}once(o,s){return s?(this._oneTimeListeners=this._oneTimeListeners||{},Dl(o,s,this._oneTimeListeners),this):new Promise(h=>this.once(o,h))}fire(o,s){const h=typeof o=="string"?new xc(o,s):o,g=h.type;if(this.listens(g)){h.target=this;const f=this._listeners&&this._listeners[g]?this._listeners[g].slice():[];for(const R of f)R.call(this,h);const _=this._oneTimeListeners&&this._oneTimeListeners[g]?this._oneTimeListeners[g].slice():[];for(const R of _)h0(g,R,this._oneTimeListeners),R.call(this,h);const F=this._eventedParent;F&&(wi(h,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),F.fire(h))}else h instanceof Fu&&console.error(h.error);return this}listens(o){return!!(this._listeners&&this._listeners[o]&&this._listeners[o].length>0||this._oneTimeListeners&&this._oneTimeListeners[o]&&this._oneTimeListeners[o].length>0||this._eventedParent&&this._eventedParent.listens(o))}setEventedParent(o,s){return this._eventedParent=o,this._eventedParentData=s,this}}var f0,bn={},p0=function(){if(f0)return bn;f0=1;var u={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function o(f){return(f=Math.round(f))<0?0:f>255?255:f}function s(f){return o(f[f.length-1]==="%"?parseFloat(f)/100*255:parseInt(f))}function h(f){return(_=f[f.length-1]==="%"?parseFloat(f)/100:parseFloat(f))<0?0:_>1?1:_;var _}function g(f,_,F){return F<0?F+=1:F>1&&(F-=1),6*F<1?f+(_-f)*F*6:2*F<1?_:3*F<2?f+(_-f)*(2/3-F)*6:f}try{bn.parseCSSColor=function(f){var _,F=f.replace(/ /g,"").toLowerCase();if(F in u)return u[F].slice();if(F[0]==="#")return F.length===4?(_=parseInt(F.substr(1),16))>=0&&_<=4095?[(3840&_)>>4|(3840&_)>>8,240&_|(240&_)>>4,15&_|(15&_)<<4,1]:null:F.length===7&&(_=parseInt(F.substr(1),16))>=0&&_<=16777215?[(16711680&_)>>16,(65280&_)>>8,255&_,1]:null;var R=F.indexOf("("),M=F.indexOf(")");if(R!==-1&&M+1===F.length){var v=F.substr(0,R),T=F.substr(R+1,M-(R+1)).split(","),I=1;switch(v){case"rgba":if(T.length!==4)return null;I=h(T.pop());case"rgb":return T.length!==3?null:[s(T[0]),s(T[1]),s(T[2]),I];case"hsla":if(T.length!==4)return null;I=h(T.pop());case"hsl":if(T.length!==3)return null;var S=(parseFloat(T[0])%360+360)%360/360,P=h(T[1]),D=h(T[2]),N=D<=.5?D*(P+1):D+P-D*P,U=2*D-N;return[o(255*g(U,N,S+1/3)),o(255*g(U,N,S)),o(255*g(U,N,S-1/3)),I];default:return null}}return null}}catch{}return bn}();class Dn{constructor(o,s,h,g=1){this.r=o,this.g=s,this.b=h,this.a=g}static parse(o){if(!o)return;if(o instanceof Dn)return o;if(typeof o!="string")return;const s=p0.parseCSSColor(o);return s?new Dn(s[0]/255*s[3],s[1]/255*s[3],s[2]/255*s[3],s[3]):void 0}toString(){const[o,s,h,g]=this.a===0?[0,0,0,0]:[255*this.r/this.a,255*this.g/this.a,255*this.b/this.a,this.a];return`rgba(${Math.round(o)},${Math.round(s)},${Math.round(h)},${g})`}toRenderColor(o){const{r:s,g:h,b:g,a:f}=this;return new ov(o,s,h,g,f)}}class ov{constructor(o,s,h,g,f){if(o){const _=o.image.height,F=_*_;s=f===0?0:s/f*(_-1),h=f===0?0:h/f*(_-1),g=f===0?0:g/f*(_-1);const R=Math.floor(s),M=Math.floor(h),v=Math.floor(g),T=Math.ceil(s),I=Math.ceil(h),S=Math.ceil(g),P=s-R,D=h-M,N=g-v,U=o.image.data,Z=4*(R+M*F+v*_),X=4*(R+M*F+S*_),q=4*(R+I*F+v*_),te=4*(R+I*F+S*_),ie=4*(T+M*F+v*_),de=4*(T+M*F+S*_),Ee=4*(T+I*F+v*_),be=4*(T+I*F+S*_);if(Z<0||be>=U.length)throw new Error("out of range");this.r=Oi(Oi(Oi(U[Z],U[X],N),Oi(U[q],U[te],N),D),Oi(Oi(U[ie],U[de],N),Oi(U[Ee],U[be],N),D),P)/255*f,this.g=Oi(Oi(Oi(U[Z+1],U[X+1],N),Oi(U[q+1],U[te+1],N),D),Oi(Oi(U[ie+1],U[de+1],N),Oi(U[Ee+1],U[be+1],N),D),P)/255*f,this.b=Oi(Oi(Oi(U[Z+2],U[X+2],N),Oi(U[q+2],U[te+2],N),D),Oi(Oi(U[ie+2],U[de+2],N),Oi(U[Ee+2],U[be+2],N),D),P)/255*f,this.a=f}else this.r=s,this.g=h,this.b=g,this.a=f}toArray(){const{r:o,g:s,b:h,a:g}=this;return g===0?[0,0,0,0]:[255*o/g,255*s/g,255*h/g,g]}toArray01(){const{r:o,g:s,b:h,a:g}=this;return g===0?[0,0,0,0]:[o/g,s/g,h/g,g]}toArray01Scaled(o){const{r:s,g:h,b:g,a:f}=this;return f===0?[0,0,0]:[s/f*o,h/f*o,g/f*o]}toArray01PremultipliedAlpha(){const{r:o,g:s,b:h,a:g}=this;return[o,s,h,g]}toArray01Linear(){const{r:o,g:s,b:h,a:g}=this;return g===0?[0,0,0,0]:[Math.pow(o/g,2.2),Math.pow(s/g,2.2),Math.pow(h/g,2.2),g]}}function Oi(u,o,s){return u*(1-s)+o*s}function Cu(u,o,s){return u.map((h,g)=>Oi(h,o[g],s))}Dn.black=new Dn(0,0,0,1),Dn.white=new Dn(1,1,1,1),Dn.transparent=new Dn(0,0,0,0),Dn.red=new Dn(1,0,0,1),Dn.blue=new Dn(0,0,1,1);var Qc=Object.freeze({__proto__:null,array:Cu,color:function(u,o,s){return new Dn(Oi(u.r,o.r,s),Oi(u.g,o.g,s),Oi(u.b,o.b,s),Oi(u.a,o.a,s))},number:Oi});function jl(u,...o){for(const s of o)for(const h in s)u[h]=s[h];return u}class Qa extends Error{constructor(o,s){super(s),this.message=s,this.key=o}}class qh{constructor(o,s=[]){this.parent=o,this.bindings={};for(const[h,g]of s)this.bindings[h]=g}concat(o){return new qh(this,o)}get(o){if(this.bindings[o])return this.bindings[o];if(this.parent)return this.parent.get(o);throw new Error(`${o} not found in scope.`)}has(o){return!!this.bindings[o]||!!this.parent&&this.parent.has(o)}}const Xa={kind:"null"},gi={kind:"number"},fn={kind:"string"},pn={kind:"boolean"},Yr={kind:"color"},Dr={kind:"object"},gn={kind:"value"},Wh={kind:"collator"},zl={kind:"formatted"},Vl={kind:"resolvedImage"};function $r(u,o){return{kind:"array",itemType:u,N:o}}function Ao(u){if(u.kind==="array"){const o=Ao(u.itemType);return typeof u.N=="number"?`array<${o}, ${u.N}>`:u.itemType.kind==="value"?"array":`array<${o}>`}return u.kind}const a_=[Xa,gi,fn,pn,Yr,zl,Dr,$r(gn),Vl];function Nl(u,o){if(o.kind==="error")return null;if(u.kind==="array"){if(o.kind==="array"&&(o.N===0&&o.itemType.kind==="value"||!Nl(u.itemType,o.itemType))&&(typeof u.N!="number"||u.N===o.N))return null}else{if(u.kind===o.kind)return null;if(u.kind==="value"){for(const s of a_)if(!Nl(s,o))return null}}return`Expected ${Ao(u)} but found ${Ao(o)} instead.`}function $l(u,o){return o.some(s=>s.kind===u.kind)}function gs(u,o){return o.some(s=>s==="null"?u===null:s==="array"?Array.isArray(u):s==="object"?u&&!Array.isArray(u)&&typeof u=="object":s===typeof u)}class Kh{constructor(o,s,h){this.sensitivity=o?s?"variant":"case":s?"accent":"base",this.locale=h,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(o,s){return this.collator.compare(o,s)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class pa{constructor(o,s,h,g,f){this.text=o.normalize?o.normalize():o,this.image=s,this.scale=h,this.fontStack=g,this.textColor=f}}class Br{constructor(o){this.sections=o}static fromString(o){return new Br([new pa(o,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(o=>o.text.length!==0||o.image&&o.image.namePrimary.length!==0)}static factory(o){return o instanceof Br?o:Br.fromString(o)}toString(){return this.sections.length===0?"":this.sections.map(o=>o.text).join("")}serialize(){const o=["format"];for(const s of this.sections){if(s.image){o.push(["image",s.image.namePrimary]);continue}o.push(s.text);const h={};s.fontStack&&(h["text-font"]=["literal",s.fontStack.split(",")]),s.scale&&(h["font-scale"]=s.scale),s.textColor&&(h["text-color"]=["rgba"].concat(s.textColor.toRenderColor(null).toArray())),o.push(h)}return o}}class Ur{constructor(o){this.namePrimary=o.namePrimary,o.nameSecondary&&(this.nameSecondary=o.nameSecondary),this.available=o.available}toString(){return this.nameSecondary?`[${this.namePrimary},${this.nameSecondary}]`:this.namePrimary}static fromString(o,s){return o?new Ur({namePrimary:o,nameSecondary:s,available:!1}):null}serialize(){return this.nameSecondary?["image",this.namePrimary,this.nameSecondary]:["image",this.namePrimary]}}function s_(u,o,s,h){return typeof u=="number"&&u>=0&&u<=255&&typeof o=="number"&&o>=0&&o<=255&&typeof s=="number"&&s>=0&&s<=255?h===void 0||typeof h=="number"&&h>=0&&h<=1?null:`Invalid rgba value [${[u,o,s,h].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof h=="number"?[u,o,s,h]:[u,o,s]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function wc(u){if(u===null||typeof u=="string"||typeof u=="boolean"||typeof u=="number"||u instanceof Dn||u instanceof Kh||u instanceof Br||u instanceof Ur)return!0;if(Array.isArray(u)){for(const o of u)if(!wc(o))return!1;return!0}if(typeof u=="object"){for(const o in u)if(!wc(u[o]))return!1;return!0}return!1}function qo(u){if(u===null)return Xa;if(typeof u=="string")return fn;if(typeof u=="boolean")return pn;if(typeof u=="number")return gi;if(u instanceof Dn)return Yr;if(u instanceof Kh)return Wh;if(u instanceof Br)return zl;if(u instanceof Ur)return Vl;if(Array.isArray(u)){const o=u.length;let s;for(const h of u){const g=qo(h);if(s){if(s===g)continue;s=gn;break}s=g}return $r(s||gn,o)}return Dr}function Gr(u){const o=typeof u;return u===null?"":o==="string"||o==="number"||o==="boolean"?String(u):u instanceof Dn||u instanceof Br||u instanceof Ur?u.toString():JSON.stringify(u)}class Ja{constructor(o,s){this.type=o,this.value=s}static parse(o,s){if(o.length!==2)return s.error(`'literal' expression requires exactly one argument, but found ${o.length-1} instead.`);if(!wc(o[1]))return s.error("invalid value");const h=o[1];let g=qo(h);const f=s.expectedType;return g.kind!=="array"||g.N!==0||!f||f.kind!=="array"||typeof f.N=="number"&&f.N!==0||(g=f),new Ja(g,h)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Dn?["rgba"].concat(this.value.toRenderColor(null).toArray()):this.value instanceof Br?this.value.serialize():this.value}}class dr{constructor(o){this.name="ExpressionEvaluationError",this.message=o}toJSON(){return this.message}}const m0={string:fn,number:gi,boolean:pn,object:Dr};class Ya{constructor(o,s){this.type=o,this.args=s}static parse(o,s){if(o.length<2)return s.error("Expected at least one argument.");let h,g=1;const f=o[0];if(f==="array"){let F,R;if(o.length>2){const M=o[1];if(typeof M!="string"||!(M in m0)||M==="object")return s.error('The item type argument of "array" must be one of string, number, boolean',1);F=m0[M],g++}else F=gn;if(o.length>3){if(o[2]!==null&&(typeof o[2]!="number"||o[2]<0||o[2]!==Math.floor(o[2])))return s.error('The length argument to "array" must be a positive integer literal',2);R=o[2],g++}h=$r(F,R)}else h=m0[f];const _=[];for(;g<o.length;g++){const F=s.parse(o[g],g,gn);if(!F)return null;_.push(F)}return new Ya(h,_)}evaluate(o){for(let s=0;s<this.args.length;s++){const h=this.args[s].evaluate(o);if(!Nl(this.type,qo(h)))return h;if(s===this.args.length-1)throw new dr(`The expression ${JSON.stringify(this.args[s].serialize())} evaluated to ${Ao(qo(h))} but was expected to be of type ${Ao(this.type)}.`)}return null}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every(o=>o.outputDefined())}serialize(){const o=this.type,s=[o.kind];if(o.kind==="array"){const h=o.itemType;if(h.kind==="string"||h.kind==="number"||h.kind==="boolean"){s.push(h.kind);const g=o.N;(typeof g=="number"||this.args.length>1)&&s.push(g)}}return s.concat(this.args.map(h=>h.serialize()))}}class Ul{constructor(o){this.type=zl,this.sections=o}static parse(o,s){if(o.length<2)return s.error("Expected at least one argument.");const h=o[1];if(!Array.isArray(h)&&typeof h=="object")return s.error("First argument must be an image or text section.");const g=[];let f=!1;for(let _=1;_<=o.length-1;++_){const F=o[_];if(f&&typeof F=="object"&&!Array.isArray(F)){f=!1;let R=null;if(F["font-scale"]&&(R=s.parseObjectValue(F["font-scale"],_,"font-scale",gi),!R))return null;let M=null;if(F["text-font"]&&(M=s.parseObjectValue(F["text-font"],_,"text-font",$r(fn)),!M))return null;let v=null;if(F["text-color"]&&(v=s.parseObjectValue(F["text-color"],_,"text-color",Yr),!v))return null;const T=g[g.length-1];T.scale=R,T.font=M,T.textColor=v}else{const R=s.parse(o[_],_,gn);if(!R)return null;const M=R.type.kind;if(M!=="string"&&M!=="value"&&M!=="null"&&M!=="resolvedImage")return s.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");f=!0,g.push({content:R,scale:null,font:null,textColor:null})}}return new Ul(g)}evaluate(o){return new Br(this.sections.map(s=>{const h=s.content.evaluate(o);return qo(h)===Vl?new pa("",h,null,null,null):new pa(Gr(h),null,s.scale?s.scale.evaluate(o):null,s.font?s.font.evaluate(o).join(","):null,s.textColor?s.textColor.evaluate(o):null)}))}eachChild(o){for(const s of this.sections)o(s.content),s.scale&&o(s.scale),s.font&&o(s.font),s.textColor&&o(s.textColor)}outputDefined(){return!1}serialize(){const o=["format"];for(const s of this.sections){o.push(s.content.serialize());const h={};s.scale&&(h["font-scale"]=s.scale.serialize()),s.font&&(h["text-font"]=s.font.serialize()),s.textColor&&(h["text-color"]=s.textColor.serialize()),o.push(h)}return o}}class Xc{constructor(o,s){this.type=Vl,this.inputPrimary=o,this.inputSecondary=s}static parse(o,s){if(o.length<2)return s.error("Expected two or more arguments.");const h=s.parse(o[1],1,fn);if(!h)return s.error("No image name provided.");if(o.length===2)return new Xc(h);const g=s.parse(o[2],1,fn);return g?new Xc(h,g):s.error("Secondary image variant is not a string.")}evaluate(o){const s=Ur.fromString(this.inputPrimary.evaluate(o),this.inputSecondary?this.inputSecondary.evaluate(o):void 0);return s&&o.availableImages&&(s.available=o.availableImages.indexOf(s.namePrimary)>-1,s.nameSecondary&&s.available&&o.availableImages&&(s.available=o.availableImages.indexOf(s.nameSecondary)>-1)),s}eachChild(o){o(this.inputPrimary),this.inputSecondary&&o(this.inputSecondary)}outputDefined(){return!1}serialize(){return this.inputSecondary?["image",this.inputPrimary.serialize(),this.inputSecondary.serialize()]:["image",this.inputPrimary.serialize()]}}function Jc(u){return u instanceof Number?"number":u instanceof String?"string":u instanceof Boolean?"boolean":Array.isArray(u)?"array":u===null?"null":typeof u}const Zh={"to-boolean":pn,"to-color":Yr,"to-number":gi,"to-string":fn};class js{constructor(o,s){this.type=o,this.args=s}static parse(o,s){if(o.length<2)return s.error("Expected at least one argument.");const h=o[0],g=[];let f=Xa;if(h==="to-array"){if(!Array.isArray(o[1]))return null;const _=o[1].length;if(s.expectedType){if(s.expectedType.kind!=="array")return s.error(`Expected ${s.expectedType.kind} but found array.`);f=$r(s.expectedType.itemType,_)}else{if(!(_>0&&wc(o[1][0])))return null;f=$r(qo(o[1][0]),_)}for(let F=0;F<_;F++){const R=o[1][F];let M;if(Jc(R)==="array")M=s.parse(R,void 0,f.itemType);else{const v=Jc(R);if(v!==f.itemType.kind)return s.error(`Expected ${f.itemType.kind} but found ${v}.`);M=s.registry.literal.parse(["literal",R===void 0?null:R],s)}if(!M)return null;g.push(M)}}else{if((h==="to-boolean"||h==="to-string")&&o.length!==2)return s.error("Expected one argument.");f=Zh[h];for(let _=1;_<o.length;_++){const F=s.parse(o[_],_,gn);if(!F)return null;g.push(F)}}return new js(f,g)}evaluate(o){if(this.type.kind==="boolean")return!!this.args[0].evaluate(o);if(this.type.kind==="color"){let s,h;for(const g of this.args){if(s=g.evaluate(o),h=null,s instanceof Dn)return s;if(typeof s=="string"){const f=o.parseColor(s);if(f)return f}else if(Array.isArray(s)&&(h=s.length<3||s.length>4?`Invalid rbga value ${JSON.stringify(s)}: expected an array containing either three or four numeric values.`:s_(s[0],s[1],s[2],s[3]),!h))return new Dn(s[0]/255,s[1]/255,s[2]/255,s[3])}throw new dr(h||`Could not parse color from value '${typeof s=="string"?s:String(JSON.stringify(s))}'`)}if(this.type.kind==="number"){let s=null;for(const h of this.args){if(s=h.evaluate(o),s===null)return 0;const g=Number(s);if(!isNaN(g))return g}throw new dr(`Could not convert ${JSON.stringify(s)} to number.`)}return this.type.kind==="formatted"?Br.fromString(Gr(this.args[0].evaluate(o))):this.type.kind==="resolvedImage"?Ur.fromString(Gr(this.args[0].evaluate(o))):this.type.kind==="array"?this.args.map(s=>s.evaluate(o)):Gr(this.args[0].evaluate(o))}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every(o=>o.outputDefined())}serialize(){if(this.type.kind==="formatted")return new Ul([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Xc(this.args[0]).serialize();const o=this.type.kind==="array"?[]:[`to-${this.type.kind}`];return this.eachChild(s=>{o.push(s.serialize())}),o}}const rv=["Unknown","Point","LineString","Polygon"];class c_{constructor(o,s){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null,this.scope=o,this.options=s}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?rv[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}measureLight(o){return this.globals.brightness||0}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const o=this.featureDistanceData.center,s=this.featureDistanceData.scale,{x:h,y:g}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(h*s-o[0])+this.featureDistanceData.bearing[1]*(g*s-o[1])}return 0}parseColor(o){let s=this._parseColorCache[o];return s||(s=this._parseColorCache[o]=Dn.parse(o)),s}getConfig(o){return this.options?this.options.get(o):null}}class ea{constructor(o,s,h,g,f){this.name=o,this.type=s,this._evaluate=h,this.args=g,this._overloadIndex=f}evaluate(o){if(!this._evaluate){const s=ea.definitions[this.name];this._evaluate=Array.isArray(s)?s[2]:s.overloads[this._overloadIndex][1]}return this._evaluate(o,this.args)}eachChild(o){this.args.forEach(o)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(o=>o.serialize()))}static parse(o,s){const h=o[0],g=ea.definitions[h];if(!g)return s.error(`Unknown expression "${h}". If you wanted a literal array, use ["literal", [...]].`,0);const f=Array.isArray(g)?g[0]:g.type,_=Array.isArray(g)?[[g[1],g[2]]]:g.overloads,F=[];let R=null,M=-1;for(const[v,T]of _){if(Array.isArray(v)&&v.length!==o.length-1)continue;F.push(v),M++,R=new v_(s.registry,s.path,null,s.scope,void 0,s._scope,s.options);const I=[];let S=!1;for(let P=1;P<o.length;P++){const D=o[P],N=Array.isArray(v)?v[P-1]:v.type,U=R.parse(D,1+I.length,N);if(!U){S=!0;break}I.push(U)}if(!S)if(Array.isArray(v)&&v.length!==I.length)R.error(`Expected ${v.length} arguments, but found ${I.length} instead.`);else{for(let P=0;P<I.length;P++){const D=Array.isArray(v)?v[P]:v.type,N=I[P];R.concat(P+1).checkSubtype(D,N.type)}if(R.errors.length===0)return new ea(h,f,T,I,M)}}if(F.length===1)s.errors.push(...R.errors);else{const v=(F.length?F:_.map(([I])=>I)).map(av).join(" | "),T=[];for(let I=1;I<o.length;I++){const S=s.parse(o[I],1+T.length);if(!S)return null;T.push(Ao(S.type))}s.error(`Expected arguments of type ${v}, but found (${T.join(", ")}) instead.`)}return null}static register(o,s){ea.definitions=s;for(const h in s)o[h]=ea}}function av(u){return Array.isArray(u)?`(${u.map(Ao).join(", ")})`:`(${Ao(u.type)}...)`}class Qh{constructor(o,s,h){this.type=Wh,this.locale=h,this.caseSensitive=o,this.diacriticSensitive=s}static parse(o,s){if(o.length!==2)return s.error("Expected one argument.");const h=o[1];if(typeof h!="object"||Array.isArray(h))return s.error("Collator options argument must be an object.");const g=h["case-sensitive"]===void 0?s.parse(!1,1,pn):s.parseObjectValue(h["case-sensitive"],1,"case-sensitive",pn);if(!g)return null;const f=h["diacritic-sensitive"]===void 0?s.parse(!1,1,pn):s.parseObjectValue(h["diacritic-sensitive"],1,"diacritic-sensitive",pn);if(!f)return null;let _=null;return h.locale&&(_=s.parseObjectValue(h.locale,1,"locale",fn),!_)?null:new Qh(g,f,_)}evaluate(o){return new Kh(this.caseSensitive.evaluate(o),this.diacriticSensitive.evaluate(o),this.locale?this.locale.evaluate(o):null)}eachChild(o){o(this.caseSensitive),o(this.diacriticSensitive),this.locale&&o(this.locale)}outputDefined(){return!1}serialize(){const o={};return o["case-sensitive"]=this.caseSensitive.serialize(),o["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(o.locale=this.locale.serialize()),["collator",o]}}function l_(u,o,s=0,h=u.length-1,g=Hl){for(;h>s;){if(h-s>600){const R=h-s+1,M=o-s+1,v=Math.log(R),T=.5*Math.exp(2*v/3),I=.5*Math.sqrt(v*T*(R-T)/R)*(M-R/2<0?-1:1);l_(u,o,Math.max(s,Math.floor(o-M*T/R+I)),Math.min(h,Math.floor(o+(R-M)*T/R+I)),g)}const f=u[o];let _=s,F=h;for(Gl(u,s,o),g(u[h],f)>0&&Gl(u,s,h);_<F;){for(Gl(u,_,F),_++,F--;g(u[_],f)<0;)_++;for(;g(u[F],f)>0;)F--}g(u[s],f)===0?Gl(u,s,F):(F++,Gl(u,F,h)),F<=o&&(s=F+1),o<=F&&(h=F-1)}}function Gl(u,o,s){const h=u[o];u[o]=u[s],u[s]=h}function Hl(u,o){return u<o?-1:u>o?1:0}function sv(u){let o=0;for(let s,h,g=0,f=u.length,_=f-1;g<f;_=g++)s=u[g],h=u[_],o+=(h.x-s.x)*(s.y+h.y);return o}function Eu(u,o){u[0]=Math.min(u[0],o[0]),u[1]=Math.min(u[1],o[1]),u[2]=Math.max(u[2],o[0]),u[3]=Math.max(u[3],o[1])}function Yc(u,o){return!(u[0]<=o[0]||u[2]>=o[2]||u[1]<=o[1]||u[3]>=o[3])}function cv(u,o,s){const h=u[0]-o[0],g=u[1]-o[1],f=u[0]-s[0],_=u[1]-s[1];return h*_-f*g==0&&h*f<=0&&g*_<=0}function ql(u,o,s=!1){let h=!1;for(let F=0,R=o.length;F<R;F++){const M=o[F];for(let v=0,T=M.length,I=T-1;v<T;I=v++){const S=M[I],P=M[v];if(cv(u,S,P))return s;(f=S)[1]>(g=u)[1]!=(_=P)[1]>g[1]&&g[0]<(_[0]-f[0])*(g[1]-f[1])/(_[1]-f[1])+f[0]&&(h=!h)}}var g,f,_;return h}function d_(u,o,s,h){const g=h[0]-s[0],f=h[1]-s[1],_=(u[0]-s[0])*f-g*(u[1]-s[1]),F=(o[0]-s[0])*f-g*(o[1]-s[1]);return _>0&&F<0||_<0&&F>0}function Xh(u,o,s,h){return(g=[h[0]-s[0],h[1]-s[1]])[0]*(f=[o[0]-u[0],o[1]-u[1]])[1]-g[1]*f[0]!=0&&!(!d_(u,o,s,h)||!d_(s,h,u,o));var g,f}const ma=8192;function rn(u,o){const s=(180+u[0])/360,h=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u[1]*Math.PI/360)))/360,g=Math.pow(2,o.z);return[Math.round(s*g*ma),Math.round(h*g*ma)]}function Pi(u,o){for(let s=0;s<o.length;s++)if(ql(u,o[s]))return!0;return!1}function g0(u,o,s){for(const h of s)for(let g=0,f=h.length,_=f-1;g<f;_=g++)if(Xh(u,o,h[_],h[g]))return!0;return!1}function qi(u,o){for(let s=0;s<u.length;++s)if(!ql(u[s],o))return!1;for(let s=0;s<u.length-1;++s)if(g0(u[s],u[s+1],o))return!1;return!0}function _0(u,o){for(let s=0;s<o.length;s++)if(qi(u,o[s]))return!0;return!1}function Su(u,o,s){const h=[];for(let g=0;g<u.length;g++){const f=[];for(let _=0;_<u[g].length;_++){const F=rn(u[g][_],s);Eu(o,F),f.push(F)}h.push(f)}return h}function Ni(u,o,s){const h=[];for(let g=0;g<u.length;g++){const f=Su(u[g],o,s);h.push(f)}return h}function y0(u,o,s,h){if(u[0]<s[0]||u[0]>s[2]){const g=.5*h;let f=u[0]-s[0]>g?-h:s[0]-u[0]>g?h:0;f===0&&(f=u[0]-s[2]>g?-h:s[2]-u[0]>g?h:0),u[0]+=f}Eu(o,u)}function Jh(u,o,s,h){const g=Math.pow(2,h.z)*ma,f=[h.x*ma,h.y*ma],_=[];if(!u)return _;for(const F of u)for(const R of F){const M=[R.x+f[0],R.y+f[1]];y0(M,o,s,g),_.push(M)}return _}function b0(u,o,s,h){const g=Math.pow(2,h.z)*ma,f=[h.x*ma,h.y*ma],_=[];if(!u)return _;for(const R of u){const M=[];for(const v of R){const T=[v.x+f[0],v.y+f[1]];Eu(o,T),M.push(T)}_.push(M)}if(o[2]-o[0]<=g/2){(F=o)[0]=F[1]=1/0,F[2]=F[3]=-1/0;for(const R of _)for(const M of R)y0(M,o,s,g)}var F;return _}class Fc{constructor(o,s){this.type=pn,this.geojson=o,this.geometries=s}static parse(o,s){if(o.length!==2)return s.error(`'within' expression requires exactly one argument, but found ${o.length-1} instead.`);if(wc(o[1])){const h=o[1];if(h.type==="FeatureCollection")for(let g=0;g<h.features.length;++g){const f=h.features[g].geometry.type;if(f==="Polygon"||f==="MultiPolygon")return new Fc(h,h.features[g].geometry)}else if(h.type==="Feature"){const g=h.geometry.type;if(g==="Polygon"||g==="MultiPolygon")return new Fc(h,h.geometry)}else if(h.type==="Polygon"||h.type==="MultiPolygon")return new Fc(h,h)}return s.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(o){if(o.geometry()!=null&&o.canonicalID()!=null){if(o.geometryType()==="Point")return function(s,h){const g=[1/0,1/0,-1/0,-1/0],f=[1/0,1/0,-1/0,-1/0],_=s.canonicalID();if(!_)return!1;if(h.type==="Polygon"){const F=Su(h.coordinates,f,_),R=Jh(s.geometry(),g,f,_);if(!Yc(g,f))return!1;for(const M of R)if(!ql(M,F))return!1}if(h.type==="MultiPolygon"){const F=Ni(h.coordinates,f,_),R=Jh(s.geometry(),g,f,_);if(!Yc(g,f))return!1;for(const M of R)if(!Pi(M,F))return!1}return!0}(o,this.geometries);if(o.geometryType()==="LineString")return function(s,h){const g=[1/0,1/0,-1/0,-1/0],f=[1/0,1/0,-1/0,-1/0],_=s.canonicalID();if(!_)return!1;if(h.type==="Polygon"){const F=Su(h.coordinates,f,_),R=b0(s.geometry(),g,f,_);if(!Yc(g,f))return!1;for(const M of R)if(!qi(M,F))return!1}if(h.type==="MultiPolygon"){const F=Ni(h.coordinates,f,_),R=b0(s.geometry(),g,f,_);if(!Yc(g,f))return!1;for(const M of R)if(!_0(M,F))return!1}return!0}(o,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}const el={kilometers:1,miles:1e3/1609.344,nauticalmiles:1e3/1852,meters:1e3,metres:1e3,yards:1e3/.9144,feet:1e3/.3048,inches:1e3/.0254},Fr=1/298.257223563,Yh=Fr*(2-Fr),Wl=Math.PI/180;class Kl{static fromTile(o,s,h){const g=Math.PI*(1-2*(o+.5)/Math.pow(2,s)),f=Math.atan(.5*(Math.exp(g)-Math.exp(-g)))/Wl;return new Kl(f,h)}static get units(){return el}constructor(o,s){if(o===void 0)throw new Error("No latitude given.");if(s&&!el[s])throw new Error(`Unknown unit ${s}. Use one of: ${Object.keys(el).join(", ")}`);const h=6378.137*Wl*(s?el[s]:1),g=Math.cos(o*Wl),f=1/(1-Yh*(1-g*g)),_=Math.sqrt(f);this.kx=h*_*g,this.ky=h*_*f*(1-Yh)}distance(o,s){const h=Fo(o[0]-s[0])*this.kx,g=(o[1]-s[1])*this.ky;return Math.sqrt(h*h+g*g)}bearing(o,s){const h=Fo(s[0]-o[0])*this.kx;return Math.atan2(h,(s[1]-o[1])*this.ky)/Wl}destination(o,s,h){const g=h*Wl;return this.offset(o,Math.sin(g)*s,Math.cos(g)*s)}offset(o,s,h){return[o[0]+s/this.kx,o[1]+h/this.ky]}lineDistance(o){let s=0;for(let h=0;h<o.length-1;h++)s+=this.distance(o[h],o[h+1]);return s}area(o){let s=0;for(let h=0;h<o.length;h++){const g=o[h];for(let f=0,_=g.length,F=_-1;f<_;F=f++)s+=Fo(g[f][0]-g[F][0])*(g[f][1]+g[F][1])*(h?-1:1)}return Math.abs(s)/2*this.kx*this.ky}along(o,s){let h=0;if(s<=0)return o[0];for(let g=0;g<o.length-1;g++){const f=o[g],_=o[g+1],F=this.distance(f,_);if(h+=F,h>s)return zs(f,_,(s-(h-F))/F)}return o[o.length-1]}pointToSegmentDistance(o,s,h){let[g,f]=s,_=Fo(h[0]-g)*this.kx,F=(h[1]-f)*this.ky;if(_!==0||F!==0){const R=(Fo(o[0]-g)*this.kx*_+(o[1]-f)*this.ky*F)/(_*_+F*F);R>1?(g=h[0],f=h[1]):R>0&&(g+=_/this.kx*R,f+=F/this.ky*R)}return _=Fo(o[0]-g)*this.kx,F=(o[1]-f)*this.ky,Math.sqrt(_*_+F*F)}pointOnLine(o,s){let h=1/0,g=o[0][0],f=o[0][1],_=0,F=0;for(let R=0;R<o.length-1;R++){let M=o[R][0],v=o[R][1],T=Fo(o[R+1][0]-M)*this.kx,I=(o[R+1][1]-v)*this.ky,S=0;T===0&&I===0||(S=(Fo(s[0]-M)*this.kx*T+(s[1]-v)*this.ky*I)/(T*T+I*I),S>1?(M=o[R+1][0],v=o[R+1][1]):S>0&&(M+=T/this.kx*S,v+=I/this.ky*S)),T=Fo(s[0]-M)*this.kx,I=(s[1]-v)*this.ky;const P=T*T+I*I;P<h&&(h=P,g=M,f=v,_=R,F=S)}return{point:[g,f],index:_,t:Math.max(0,Math.min(1,F))}}lineSlice(o,s,h){let g=this.pointOnLine(h,o),f=this.pointOnLine(h,s);if(g.index>f.index||g.index===f.index&&g.t>f.t){const M=g;g=f,f=M}const _=[g.point],F=g.index+1,R=f.index;!ef(h[F],_[0])&&F<=R&&_.push(h[F]);for(let M=F+1;M<=R;M++)_.push(h[M]);return ef(h[R],f.point)||_.push(f.point),_}lineSliceAlong(o,s,h){let g=0;const f=[];for(let _=0;_<h.length-1;_++){const F=h[_],R=h[_+1],M=this.distance(F,R);if(g+=M,g>o&&f.length===0&&f.push(zs(F,R,(o-(g-M))/M)),g>=s)return f.push(zs(F,R,(s-(g-M))/M)),f;g>o&&f.push(R)}return f}bufferPoint(o,s){const h=s/this.ky,g=s/this.kx;return[o[0]-g,o[1]-h,o[0]+g,o[1]+h]}bufferBBox(o,s){const h=s/this.ky,g=s/this.kx;return[o[0]-g,o[1]-h,o[2]+g,o[3]+h]}insideBBox(o,s){return Fo(o[0]-s[0])>=0&&Fo(o[0]-s[2])<=0&&o[1]>=s[1]&&o[1]<=s[3]}}function ef(u,o){return u[0]===o[0]&&u[1]===o[1]}function zs(u,o,s){const h=Fo(o[0]-u[0]);return[u[0]+h*s,u[1]+(o[1]-u[1])*s]}function Fo(u){for(;u<-180;)u+=360;for(;u>180;)u-=360;return u}class v0{constructor(o=[],s=(h,g)=>h<g?-1:h>g?1:0){if(this.data=o,this.length=this.data.length,this.compare=s,this.length>0)for(let h=(this.length>>1)-1;h>=0;h--)this._down(h)}push(o){this.data.push(o),this._up(this.length++)}pop(){if(this.length===0)return;const o=this.data[0],s=this.data.pop();return--this.length>0&&(this.data[0]=s,this._down(0)),o}peek(){return this.data[0]}_up(o){const{data:s,compare:h}=this,g=s[o];for(;o>0;){const f=o-1>>1,_=s[f];if(h(g,_)>=0)break;s[o]=_,o=f}s[o]=g}_down(o){const{data:s,compare:h}=this,g=this.length>>1,f=s[o];for(;o<g;){let _=1+(o<<1);const F=_+1;if(F<this.length&&h(s[F],s[_])<0&&(_=F),h(s[_],f)>=0)break;s[o]=s[_],o=_}s[o]=f}}var Yt=8192;function u_(u,o){return o.dist-u.dist}const Zl=100,tf=50;function nf(u){const o=[1/0,1/0,-1/0,-1/0];if(o.length!==u.length)return!1;for(let s=0;s<o.length;s++)if(o[s]!==u[s])return!1;return!0}function of(u){return u[1]-u[0]+1}function Vs(u,o){const s=u[1]>=u[0]&&u[1]<o;return s||console.warn("Distance Expression: Index is out of range"),s}function x0(u,o){if(u[0]>u[1])return[null,null];const s=of(u);if(o){if(s===2)return[u,null];const h=Math.floor(s/2);return[[u[0],u[0]+h],[u[0]+h,u[1]]]}{if(s===1)return[u,null];const h=Math.floor(s/2)-1;return[[u[0],u[0]+h],[u[0]+h+1,u[1]]]}}function ga(u,o){const s=[1/0,1/0,-1/0,-1/0];if(!Vs(o,u.length))return s;for(let h=o[0];h<=o[1];++h)Eu(s,u[h]);return s}function rf(u){const o=[1/0,1/0,-1/0,-1/0];for(let s=0;s<u.length;++s)for(let h=0;h<u[s].length;++h)Eu(o,u[s][h]);return o}function Ql(u,o,s){if(nf(u)||nf(o))return NaN;let h=0,g=0;return u[2]<o[0]&&(h=o[0]-u[2]),u[0]>o[2]&&(h=u[0]-o[2]),u[1]>o[3]&&(g=u[1]-o[3]),u[3]<o[1]&&(g=o[1]-u[3]),s.distance([0,0],[h,g])}function h_(u){return 360*u-180}function f_(u){return 360/Math.PI*Math.atan(Math.exp((180-360*u)*Math.PI/180))-90}function _a(u,o){const s=Math.pow(2,o.z),h=(u.y/Yt+o.y)/s;return[h_((u.x/Yt+o.x)/s),f_(h)]}function p_(u,o){const s=[];for(let h=0;h<u.length;++h)s.push(_a(u[h],o));return s}function w0(u,o,s){const h=s.pointOnLine(o,u).point;return s.distance(u,h)}function F0(u,o,s,h,g){const f=s.slice(h[0],h[1]+1);let _=1/0;for(let F=o[0];F<=o[1];++F)if((_=Math.min(_,w0(u[F],f,g)))===0)return 0;return _}function af(u,o,s,h,g){const f=Math.min(g.pointToSegmentDistance(u,s,h),g.pointToSegmentDistance(o,s,h)),_=Math.min(g.pointToSegmentDistance(s,u,o),g.pointToSegmentDistance(h,u,o));return Math.min(f,_)}function m_(u,o,s,h,g){if(!Vs(o,u.length)||!Vs(h,s.length))return NaN;let f=1/0;for(let _=o[0];_<o[1];++_)for(let F=h[0];F<h[1];++F){if(Xh(u[_],u[_+1],s[F],s[F+1]))return 0;f=Math.min(f,af(u[_],u[_+1],s[F],s[F+1],g))}return f}function g_(u,o,s,h,g){if(!Vs(o,u.length)||!Vs(h,s.length))return NaN;let f=1/0;for(let _=o[0];_<=o[1];++_)for(let F=h[0];F<=h[1];++F)if((f=Math.min(f,g.distance(u[_],s[F])))===0)return f;return f}function __(u,o,s){if(ql(u,o,!0))return 0;let h=1/0;for(const g of o){const f=g.length;if(f<2)return console.warn("Distance Expression: Invalid polygon!"),NaN;if(g[0]!==g[f-1]&&(h=Math.min(h,s.pointToSegmentDistance(u,g[f-1],g[0])))===0||(h=Math.min(h,w0(u,g,s)))===0)return h}return h}function y_(u,o,s,h){if(!Vs(o,u.length))return NaN;for(let f=o[0];f<=o[1];++f)if(ql(u[f],s,!0))return 0;let g=1/0;for(let f=o[0];f<o[1];++f)for(const _ of s)for(let F=0,R=_.length,M=R-1;F<R;M=F++){if(Xh(u[f],u[f+1],_[M],_[F]))return 0;g=Math.min(g,af(u[f],u[f+1],_[M],_[F],h))}return g}function C0(u,o){for(const s of u)for(let h=0;h<=s.length-1;++h)if(ql(s[h],o,!0))return!0;return!1}function b_(u,o,s,h=1/0){const g=rf(u),f=rf(o);if(h!==1/0&&Ql(g,f,s)>=h)return h;if(Yc(g,f)){if(C0(u,o))return 0}else if(C0(o,u))return 0;let _=h;for(const F of u)for(let R=0,M=F.length,v=M-1;R<M;v=R++)for(const T of o)for(let I=0,S=T.length,P=S-1;I<S;P=I++){if(Xh(F[v],F[R],T[P],T[I]))return 0;_=Math.min(_,af(F[v],F[R],T[P],T[I],s))}return _}function Tu(u,o,s,h,g,f,_){if(f===null||_===null)return;const F=Ql(ga(h,f),ga(g,_),s);F<o&&u.push({dist:F,range1:f,range2:_})}function sf(u,o,s,h,g=1/0){let f=Math.min(h.distance(u[0],s[0][0]),g);if(f===0)return f;const _=new v0([{dist:0,range1:[0,u.length-1],range2:[0,0]}],u_),F=o?tf:Zl,R=rf(s);for(;_.length;){const M=_.pop();if(M.dist>=f)continue;const v=M.range1;if(of(v)<=F){if(!Vs(v,u.length))return NaN;if(o){const T=y_(u,v,s,h);if((f=Math.min(f,T))===0)return f}else for(let T=v[0];T<=v[1];++T){const I=__(u[T],s,h);if((f=Math.min(f,I))===0)return f}}else{const T=x0(v,o);if(T[0]!==null){const I=Ql(ga(u,T[0]),R,h);I<f&&_.push({dist:I,range1:T[0],range2:[0,0]})}if(T[1]!==null){const I=Ql(ga(u,T[1]),R,h);I<f&&_.push({dist:I,range1:T[1],range2:[0,0]})}}}return f}function Ru(u,o,s,h,g,f=1/0){let _=Math.min(f,g.distance(u[0],s[0]));if(_===0)return _;const F=new v0([{dist:0,range1:[0,u.length-1],range2:[0,s.length-1]}],u_),R=o?tf:Zl,M=h?tf:Zl;for(;F.length;){const v=F.pop();if(v.dist>=_)continue;const T=v.range1,I=v.range2;if(of(T)<=R&&of(I)<=M){if(!Vs(T,u.length)||!Vs(I,s.length))return NaN;if(o&&h?_=Math.min(_,m_(u,T,s,I,g)):o||h?o&&!h?_=Math.min(_,F0(s,I,u,T,g)):!o&&h&&(_=Math.min(_,F0(u,T,s,I,g))):_=Math.min(_,g_(u,T,s,I,g)),_===0)return _}else{const S=x0(T,o),P=x0(I,h);Tu(F,_,g,u,s,S[0],P[0]),Tu(F,_,g,u,s,S[0],P[1]),Tu(F,_,g,u,s,S[1],P[0]),Tu(F,_,g,u,s,S[1],P[1])}}return _}function Xl(u,o,s,h,g=1/0){let f=g;const _=ga(u,[0,u.length-1]);for(const F of s)if(!(f!==1/0&&Ql(_,ga(F,[0,F.length-1]),h)>=f)&&(f=Math.min(f,Ru(u,o,F,!0,h,f)),f===0))return f;return f}function Pu(u,o,s,h,g=1/0){let f=g;const _=ga(u,[0,u.length-1]);for(const F of s){if(f!==1/0&&Ql(_,rf(F),h)>=f)continue;const R=sf(u,o,F,h,f);if(isNaN(R))return R;if((f=Math.min(f,R))===0)return f}return f}function cf(u){return u==="Point"||u==="MultiPoint"||u==="LineString"||u==="MultiLineString"||u==="Polygon"||u==="MultiPolygon"}class Cc{constructor(o,s){this.type=gi,this.geojson=o,this.geometries=s}static parse(o,s){if(o.length!==2)return s.error(`'distance' expression requires either one argument, but found ' ${o.length-1} instead.`);if(wc(o[1])){const h=o[1];if(h.type==="FeatureCollection"){for(let g=0;g<h.features.length;++g)if(cf(h.features[g].geometry.type))return new Cc(h,h.features[g].geometry)}else if(h.type==="Feature"){if(cf(h.geometry.type))return new Cc(h,h.geometry)}else if(cf(h.type))return new Cc(h,h)}return s.error("'distance' expression needs to be an array with format ['Distance', GeoJSONObj].")}evaluate(o){const s=o.geometry(),h=o.canonicalID();if(s!=null&&h!=null){if(o.geometryType()==="Point")return function(g,f,_){const F=[];for(const M of g)for(const v of M)F.push(_a(v,f));const R=new Kl(F[0][1],"meters");return _.type==="Point"||_.type==="MultiPoint"||_.type==="LineString"?Ru(F,!1,_.type==="Point"?[_.coordinates]:_.coordinates,_.type==="LineString",R):_.type==="MultiLineString"?Xl(F,!1,_.coordinates,R):_.type==="Polygon"||_.type==="MultiPolygon"?Pu(F,!1,_.type==="Polygon"?[_.coordinates]:_.coordinates,R):null}(s,h,this.geometries);if(o.geometryType()==="LineString")return function(g,f,_){const F=[];for(const M of g){const v=[];for(const T of M)v.push(_a(T,f));F.push(v)}const R=new Kl(F[0][0][1],"meters");if(_.type==="Point"||_.type==="MultiPoint"||_.type==="LineString")return Xl(_.type==="Point"?[_.coordinates]:_.coordinates,_.type==="LineString",F,R);if(_.type==="MultiLineString"){let M=1/0;for(let v=0;v<_.coordinates.length;v++){const T=Xl(_.coordinates[v],!0,F,R,M);if(isNaN(T))return T;if((M=Math.min(M,T))===0)return M}return M}if(_.type==="Polygon"||_.type==="MultiPolygon"){let M=1/0;for(let v=0;v<F.length;v++){const T=Pu(F[v],!0,_.type==="Polygon"?[_.coordinates]:_.coordinates,R,M);if(isNaN(T))return T;if((M=Math.min(M,T))===0)return M}return M}return null}(s,h,this.geometries);if(o.geometryType()==="Polygon")return function(g,f,_){const F=[];for(const M of function(v,T){const I=v.length;if(I<=1)return[v];const S=[];let P,D;for(let N=0;N<I;N++){const U=sv(v[N]);U!==0&&(v[N].area=Math.abs(U),D===void 0&&(D=U<0),D===U<0?(P&&S.push(P),P=[v[N]]):P.push(v[N]))}return P&&S.push(P),S}(g)){const v=[];for(let T=0;T<M.length;++T)v.push(p_(M[T],f));F.push(v)}const R=new Kl(F[0][0][0][1],"meters");if(_.type==="Point"||_.type==="MultiPoint"||_.type==="LineString")return Pu(_.type==="Point"?[_.coordinates]:_.coordinates,_.type==="LineString",F,R);if(_.type==="MultiLineString"){let M=1/0;for(let v=0;v<_.coordinates.length;v++){const T=Pu(_.coordinates[v],!0,F,R,M);if(isNaN(T))return T;if((M=Math.min(M,T))===0)return M}return M}return _.type==="Polygon"||_.type==="MultiPolygon"?function(M,v,T){let I=1/0;for(const S of M)for(const P of v){const D=b_(S,P,T,I);if(isNaN(D))return D;if((I=Math.min(I,D))===0)return I}return I}(_.type==="Polygon"?[_.coordinates]:_.coordinates,F,R):null}(s,h,this.geometries);console.warn("Distance Expression: currently only evaluates valid Point/LineString/Polygon geometries.")}else console.warn("Distance Expression: requirs valid feature and canonical information.");return null}eachChild(){}outputDefined(){return!0}serialize(){return["distance",this.geojson]}}function Ec(u,o){switch(u){case"string":return Gr(o);case"number":return+o;case"boolean":return!!o;case"color":return Dn.parse(o);case"formatted":return Br.fromString(Gr(o));case"resolvedImage":return Ur.fromString(Gr(o))}return o}function dn(u,o,s,h){return h!==void 0&&(u=h*Math.round(u/h)),o!==void 0&&u<o&&(u=o),s!==void 0&&u>s&&(u=s),u}class Jl{constructor(o,s,h){this.type=o,this.key=s,this.scope=h}static parse(o,s){let h=s.expectedType;if(h==null&&(h=gn),o.length<2||o.length>3)return s.error("Invalid number of arguments for 'config' expression.");const g=s.parse(o[1],1);if(!(g instanceof Ja))return s.error("Key name of 'config' expression must be a string literal.");if(o.length>=3){const f=s.parse(o[2],2);return f instanceof Ja?new Jl(h,Gr(g.value),Gr(f.value)):s.error("Scope of 'config' expression must be a string literal.")}return new Jl(h,Gr(g.value))}evaluate(o){const s=[this.key,this.scope,o.scope].filter(Boolean).join(""),h=o.getConfig(s);if(!h)return null;const{type:g,value:f,values:_,minValue:F,maxValue:R,stepValue:M}=h,v=h.default.evaluate(o);let T=v;if(f){const I=o.scope;o.scope=(I||"").split("").slice(1).join(""),T=f.evaluate(o),o.scope=I}return g&&(T=Ec(g,T)),T===void 0||F===void 0&&R===void 0&&M===void 0||(typeof T=="number"?T=dn(T,F,R,M):Array.isArray(T)&&(T=T.map(I=>typeof I=="number"?dn(I,F,R,M):I))),f!==void 0&&T!==void 0&&_&&!_.includes(T)&&(T=v,g&&(T=Ec(g,T))),(g&&g!==this.type||T!==void 0&&qo(T)!==this.type)&&(T=Ec(this.type.kind,T)),T}eachChild(){}outputDefined(){return!1}serialize(){const o=["config",this.key];return this.scope&&o.concat(this.key),o}}function Iu(u){if(u instanceof ea&&(u.name==="get"&&u.args.length===1||u.name==="feature-state"||u.name==="has"&&u.args.length===1||u.name==="properties"||u.name==="geometry-type"||u.name==="id"||/^filter-/.test(u.name))||u instanceof Fc||u instanceof Cc)return!1;let o=!0;return u.eachChild(s=>{o&&!Iu(s)&&(o=!1)}),o}function lf(u){if(u instanceof ea&&u.name==="feature-state")return!1;let o=!0;return u.eachChild(s=>{o&&!lf(s)&&(o=!1)}),o}function ku(u){if(u instanceof Jl)return new Set([u.key]);let o=new Set;return u.eachChild(s=>{o=new Set([...o,...ku(s)])}),o}function Yl(u,o){if(u instanceof ea&&o.indexOf(u.name)>=0)return!1;let s=!0;return u.eachChild(h=>{s&&!Yl(h,o)&&(s=!1)}),s}class Kn{constructor(o,s){this.type=s.type,this.name=o,this.boundExpression=s}static parse(o,s){if(o.length!==2||typeof o[1]!="string")return s.error("'var' expression requires exactly one string literal argument.");const h=o[1];return s.scope.has(h)?new Kn(h,s.scope.get(h)):s.error(`Unknown variable "${h}". Make sure "${h}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(o){return this.boundExpression.evaluate(o)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class E0{constructor(o,s=[],h,g=new qh,f=[],_,F){this.registry=o,this.path=s,this.key=s.map(R=>typeof R=="string"?`['${R}']`:`[${R}]`).join(""),this.scope=g,this.errors=f,this.expectedType=h,this._scope=_,this.options=F}parse(o,s,h,g,f={}){return s||h?this.concat(s,null,h,g)._parse(o,f):this._parse(o,f)}parseObjectValue(o,s,h,g,f,_={}){return this.concat(s,h,g,f)._parse(o,_)}_parse(o,s){function h(g,f,_){return _==="assert"?new Ya(f,[g]):_==="coerce"?new js(f,[g]):g}if(o!==null&&typeof o!="string"&&typeof o!="boolean"&&typeof o!="number"||(o=["literal",o]),Array.isArray(o)){if(o.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const g=typeof o[0]=="string"?this.registry[o[0]]:void 0;if(g){let f=g.parse(o,this);if(!f)return null;if(this.expectedType){const _=this.expectedType,F=f.type;if(_.kind!=="string"&&_.kind!=="number"&&_.kind!=="boolean"&&_.kind!=="object"&&_.kind!=="array"||F.kind!=="value")if(_.kind!=="color"&&_.kind!=="formatted"&&_.kind!=="resolvedImage"||F.kind!=="value"&&F.kind!=="string"){if(this.checkSubtype(_,F))return null}else f=h(f,_,s.typeAnnotation||"coerce");else f=h(f,_,s.typeAnnotation||"assert")}if(!(f instanceof Ja)&&f.type.kind!=="resolvedImage"&&S0(f)){const _=new c_(this._scope,this.options);try{f=new Ja(f.type,f.evaluate(_))}catch(F){return this.error(F.message),null}}return f}return js.parse(["to-array",o],this)}return this.error(o===void 0?"'undefined' value invalid. Use null instead.":typeof o=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof o} instead.`)}concat(o,s,h,g){let f=typeof o=="number"?this.path.concat(o):this.path;f=typeof s=="string"?f.concat(s):f;const _=g?this.scope.concat(g):this.scope;return new E0(this.registry,f,h||null,_,this.errors,this._scope,this.options)}error(o,...s){const h=`${this.key}${s.map(g=>`[${g}]`).join("")}`;this.errors.push(new Qa(h,o))}checkSubtype(o,s){const h=Nl(o,s);return h&&this.error(h),h}}var v_=E0;function S0(u){if(u instanceof Kn)return S0(u.boundExpression);if(u instanceof ea&&u.name==="error"||u instanceof Qh||u instanceof Fc||u instanceof Cc||u instanceof Jl)return!1;const o=u instanceof js||u instanceof Ya;let s=!0;return u.eachChild(h=>{s=o?s&&S0(h):s&&h instanceof Ja}),!!s&&Iu(u)&&Yl(u,["zoom","heatmap-density","line-progress","raster-value","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center","measure-light","raster-particle-speed"])}function df(u,o){const s=u.length-1;let h,g,f=0,_=s,F=0;for(;f<=_;)if(F=Math.floor((f+_)/2),h=u[F],g=u[F+1],h<=o){if(F===s||o<g)return F;f=F+1}else{if(!(h>o))throw new dr("Input is not a number.");_=F-1}return 0}class Mu{constructor(o,s,h){this.type=o,this.input=s,this.labels=[],this.outputs=[];for(const[g,f]of h)this.labels.push(g),this.outputs.push(f)}static parse(o,s){if(o.length-1<4)return s.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if((o.length-1)%2!=0)return s.error("Expected an even number of arguments.");const h=s.parse(o[1],1,gi);if(!h)return null;const g=[];let f=null;s.expectedType&&s.expectedType.kind!=="value"&&(f=s.expectedType);for(let _=1;_<o.length;_+=2){const F=_===1?-1/0:o[_],R=o[_+1],M=_,v=_+1;if(typeof F!="number")return s.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',M);if(g.length&&g[g.length-1][0]>=F)return s.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',M);const T=s.parse(R,v,f);if(!T)return null;f=f||T.type,g.push([F,T])}return new Mu(f,h,g)}evaluate(o){const s=this.labels,h=this.outputs;if(s.length===1)return h[0].evaluate(o);const g=this.input.evaluate(o);if(g<=s[0])return h[0].evaluate(o);const f=s.length;return g>=s[f-1]?h[f-1].evaluate(o):h[df(s,g)].evaluate(o)}eachChild(o){o(this.input);for(const s of this.outputs)o(s)}outputDefined(){return this.outputs.every(o=>o.outputDefined())}serialize(){const o=["step",this.input.serialize()];for(let s=0;s<this.labels.length;s++)s>0&&o.push(this.labels[s]),o.push(this.outputs[s].serialize());return o}}const x_=.95047,w_=1.08883,F_=4/29,ed=6/29,C_=3*ed*ed,lv=ed*ed*ed,dv=Math.PI/180,uv=180/Math.PI;function T0(u){return u>lv?Math.pow(u,1/3):u/C_+F_}function R0(u){return u>ed?u*u*u:C_*(u-F_)}function P0(u){return 255*(u<=.0031308?12.92*u:1.055*Math.pow(u,1/2.4)-.055)}function I0(u){return(u/=255)<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4)}function E_(u){const o=I0(u.r),s=I0(u.g),h=I0(u.b),g=T0((.4124564*o+.3575761*s+.1804375*h)/x_),f=T0((.2126729*o+.7151522*s+.072175*h)/1);return{l:116*f-16,a:500*(g-f),b:200*(f-T0((.0193339*o+.119192*s+.9503041*h)/w_)),alpha:u.a}}function S_(u){let o=(u.l+16)/116,s=isNaN(u.a)?o:o+u.a/500,h=isNaN(u.b)?o:o-u.b/200;return o=1*R0(o),s=x_*R0(s),h=w_*R0(h),new Dn(P0(3.2404542*s-1.5371385*o-.4985314*h),P0(-.969266*s+1.8760108*o+.041556*h),P0(.0556434*s-.2040259*o+1.0572252*h),u.alpha)}function hv(u,o,s){const h=o-u;return u+s*(h>180||h<-180?h-360*Math.round(h/360):h)}const Au={forward:E_,reverse:S_,interpolate:function(u,o,s){return{l:Oi(u.l,o.l,s),a:Oi(u.a,o.a,s),b:Oi(u.b,o.b,s),alpha:Oi(u.alpha,o.alpha,s)}}},Ou={forward:function(u){const{l:o,a:s,b:h}=E_(u),g=Math.atan2(h,s)*uv;return{h:g<0?g+360:g,c:Math.sqrt(s*s+h*h),l:o,alpha:u.a}},reverse:function(u){const o=u.h*dv,s=u.c;return S_({l:u.l,a:Math.cos(o)*s,b:Math.sin(o)*s,alpha:u.alpha})},interpolate:function(u,o,s){return{h:hv(u.h,o.h,s),c:Oi(u.c,o.c,s),l:Oi(u.l,o.l,s),alpha:Oi(u.alpha,o.alpha,s)}}};var T_=Object.freeze({__proto__:null,hcl:Ou,lab:Au});class ya{constructor(o,s,h,g,f){this.type=o,this.operator=s,this.interpolation=h,this.input=g,this.labels=[],this.outputs=[];for(const[_,F]of f)this.labels.push(_),this.outputs.push(F)}static interpolationFactor(o,s,h,g){let f=0;if(o.name==="exponential")f=k0(s,o.base,h,g);else if(o.name==="linear")f=k0(s,1,h,g);else if(o.name==="cubic-bezier"){const _=o.controlPoints;f=new hn(_[0],_[1],_[2],_[3]).solve(k0(s,1,h,g))}return f}static parse(o,s){let[h,g,f,..._]=o;if(!Array.isArray(g)||g.length===0)return s.error("Expected an interpolation type expression.",1);if(g[0]==="linear")g={name:"linear"};else if(g[0]==="exponential"){const M=g[1];if(typeof M!="number")return s.error("Exponential interpolation requires a numeric base.",1,1);g={name:"exponential",base:M}}else{if(g[0]!=="cubic-bezier")return s.error(`Unknown interpolation type ${String(g[0])}`,1,0);{const M=g.slice(1);if(M.length!==4||M.some(v=>typeof v!="number"||v<0||v>1))return s.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);g={name:"cubic-bezier",controlPoints:M}}}if(o.length-1<4)return s.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if((o.length-1)%2!=0)return s.error("Expected an even number of arguments.");if(f=s.parse(f,2,gi),!f)return null;const F=[];let R=null;h==="interpolate-hcl"||h==="interpolate-lab"?R=Yr:s.expectedType&&s.expectedType.kind!=="value"&&(R=s.expectedType);for(let M=0;M<_.length;M+=2){const v=_[M],T=_[M+1],I=M+3,S=M+4;if(typeof v!="number")return s.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',I);if(F.length&&F[F.length-1][0]>=v)return s.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',I);const P=s.parse(T,S,R);if(!P)return null;R=R||P.type,F.push([v,P])}return R.kind==="number"||R.kind==="color"||R.kind==="array"&&R.itemType.kind==="number"&&typeof R.N=="number"?new ya(R,h,g,f,F):s.error(`Type ${Ao(R)} is not interpolatable.`)}evaluate(o){const s=this.labels,h=this.outputs;if(s.length===1)return h[0].evaluate(o);const g=this.input.evaluate(o);if(g<=s[0])return h[0].evaluate(o);const f=s.length;if(g>=s[f-1])return h[f-1].evaluate(o);const _=df(s,g),F=ya.interpolationFactor(this.interpolation,g,s[_],s[_+1]),R=h[_].evaluate(o),M=h[_+1].evaluate(o);return this.operator==="interpolate"?Qc[this.type.kind.toLowerCase()](R,M,F):this.operator==="interpolate-hcl"?Ou.reverse(Ou.interpolate(Ou.forward(R),Ou.forward(M),F)):Au.reverse(Au.interpolate(Au.forward(R),Au.forward(M),F))}eachChild(o){o(this.input);for(const s of this.outputs)o(s)}outputDefined(){return this.outputs.every(o=>o.outputDefined())}serialize(){let o;o=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const s=[this.operator,o,this.input.serialize()];for(let h=0;h<this.labels.length;h++)s.push(this.labels[h],this.outputs[h].serialize());return s}}function k0(u,o,s,h){const g=h-s,f=u-s;return g===0?0:o===1?f/g:(Math.pow(o,f)-1)/(Math.pow(o,g)-1)}class uf{constructor(o,s){this.type=o,this.args=s}static parse(o,s){if(o.length<2)return s.error("Expectected at least one argument.");let h=null;const g=s.expectedType;g&&g.kind!=="value"&&(h=g);const f=[];for(const F of o.slice(1)){const R=s.parse(F,1+f.length,h,void 0,{typeAnnotation:"omit"});if(!R)return null;h=h||R.type,f.push(R)}const _=g&&f.some(F=>Nl(g,F.type));return new uf(_?gn:h,f)}evaluate(o){let s,h=null,g=0;for(const f of this.args){if(g++,h=f.evaluate(o),h&&h instanceof Ur&&!h.available&&(s||(s=h),h=null,g===this.args.length))return s;if(h!==null)break}return h}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every(o=>o.outputDefined())}serialize(){const o=["coalesce"];return this.eachChild(s=>{o.push(s.serialize())}),o}}class hf{constructor(o,s){this.type=s.type,this.bindings=[].concat(o),this.result=s}evaluate(o){return this.result.evaluate(o)}eachChild(o){for(const s of this.bindings)o(s[1]);o(this.result)}static parse(o,s){if(o.length<4)return s.error(`Expected at least 3 arguments, but found ${o.length-1} instead.`);const h=[];for(let f=1;f<o.length-1;f+=2){const _=o[f];if(typeof _!="string")return s.error(`Expected string, but found ${typeof _} instead.`,f);if(/[^a-zA-Z0-9_]/.test(_))return s.error("Variable names must contain only alphanumeric characters or '_'.",f);const F=s.parse(o[f+1],f+1);if(!F)return null;h.push([_,F])}const g=s.parse(o[o.length-1],o.length-1,s.expectedType,h);return g?new hf(h,g):null}outputDefined(){return this.result.outputDefined()}serialize(){const o=["let"];for(const[s,h]of this.bindings)o.push(s,h.serialize());return o.push(this.result.serialize()),o}}class M0{constructor(o,s,h){this.type=o,this.index=s,this.input=h}static parse(o,s){if(o.length!==3)return s.error(`Expected 2 arguments, but found ${o.length-1} instead.`);const h=s.parse(o[1],1,gi),g=s.parse(o[2],2,$r(s.expectedType||gn));return h&&g?new M0(g.type.itemType,h,g):null}evaluate(o){const s=this.index.evaluate(o),h=this.input.evaluate(o);if(s<0)throw new dr(`Array index out of bounds: ${s} < 0.`);if(s>h.length-1)throw new dr(`Array index out of bounds: ${s} > ${h.length-1}.`);if(s===Math.floor(s))return h[s];const g=Math.floor(s),f=Math.ceil(s),_=h[g],F=h[f];if(typeof _!="number"||typeof F!="number")throw new dr(`Cannot interpolate between non-number values at index ${s}.`);const R=s-g;return _*(1-R)+F*R}eachChild(o){o(this.index),o(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class A0{constructor(o,s){this.type=pn,this.needle=o,this.haystack=s}static parse(o,s){if(o.length!==3)return s.error(`Expected 2 arguments, but found ${o.length-1} instead.`);const h=s.parse(o[1],1,gn),g=s.parse(o[2],2,gn);return h&&g?$l(h.type,[pn,fn,gi,Xa,gn])?new A0(h,g):s.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ao(h.type)} instead`):null}evaluate(o){const s=this.needle.evaluate(o),h=this.haystack.evaluate(o);if(h==null)return!1;if(!gs(s,["boolean","string","number","null"]))throw new dr(`Expected first argument to be of type boolean, string, number or null, but found ${Ao(qo(s))} instead.`);if(!gs(h,["string","array"]))throw new dr(`Expected second argument to be of type array or string, but found ${Ao(qo(h))} instead.`);return h.indexOf(s)>=0}eachChild(o){o(this.needle),o(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class ff{constructor(o,s,h){this.type=gi,this.needle=o,this.haystack=s,this.fromIndex=h}static parse(o,s){if(o.length<=2||o.length>=5)return s.error(`Expected 3 or 4 arguments, but found ${o.length-1} instead.`);const h=s.parse(o[1],1,gn),g=s.parse(o[2],2,gn);if(!h||!g)return null;if(!$l(h.type,[pn,fn,gi,Xa,gn]))return s.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ao(h.type)} instead`);if(o.length===4){const f=s.parse(o[3],3,gi);return f?new ff(h,g,f):null}return new ff(h,g)}evaluate(o){const s=this.needle.evaluate(o),h=this.haystack.evaluate(o);if(!gs(s,["boolean","string","number","null"]))throw new dr(`Expected first argument to be of type boolean, string, number or null, but found ${Ao(qo(s))} instead.`);if(!gs(h,["string","array"]))throw new dr(`Expected second argument to be of type array or string, but found ${Ao(qo(h))} instead.`);if(this.fromIndex){const g=this.fromIndex.evaluate(o);return h.indexOf(s,g)}return h.indexOf(s)}eachChild(o){o(this.needle),o(this.haystack),this.fromIndex&&o(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const o=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),o]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class O0{constructor(o,s,h,g,f,_){this.inputType=o,this.type=s,this.input=h,this.cases=g,this.outputs=f,this.otherwise=_}static parse(o,s){if(o.length<5)return s.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if(o.length%2!=1)return s.error("Expected an even number of arguments.");let h,g;s.expectedType&&s.expectedType.kind!=="value"&&(g=s.expectedType);const f={},_=[];for(let M=2;M<o.length-1;M+=2){let v=o[M];const T=o[M+1];Array.isArray(v)||(v=[v]);const I=s.concat(M);if(v.length===0)return I.error("Expected at least one branch label.");for(const P of v){if(typeof P!="number"&&typeof P!="string")return I.error("Branch labels must be numbers or strings.");if(typeof P=="number"&&Math.abs(P)>Number.MAX_SAFE_INTEGER)return I.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof P=="number"&&Math.floor(P)!==P)return I.error("Numeric branch labels must be integer values.");if(h){if(I.checkSubtype(h,qo(P)))return null}else h=qo(P);if(f[String(P)]!==void 0)return I.error("Branch labels must be unique.");f[String(P)]=_.length}const S=s.parse(T,M,g);if(!S)return null;g=g||S.type,_.push(S)}const F=s.parse(o[1],1,gn);if(!F)return null;const R=s.parse(o[o.length-1],o.length-1,g);return R?F.type.kind!=="value"&&s.concat(1).checkSubtype(h,F.type)?null:new O0(h,g,F,f,_,R):null}evaluate(o){const s=this.input.evaluate(o);return(qo(s)===this.inputType&&this.outputs[this.cases[s]]||this.otherwise).evaluate(o)}eachChild(o){o(this.input),this.outputs.forEach(o),o(this.otherwise)}outputDefined(){return this.outputs.every(o=>o.outputDefined())&&this.otherwise.outputDefined()}serialize(){const o=["match",this.input.serialize()],s=Object.keys(this.cases).sort(),h=[],g={};for(const _ of s){const F=g[this.cases[_]];F===void 0?(g[this.cases[_]]=h.length,h.push([this.cases[_],[_]])):h[F][1].push(_)}const f=_=>this.inputType.kind==="number"?Number(_):_;for(const[_,F]of h)o.push(F.length===1?f(F[0]):F.map(f)),o.push(this.outputs[_].serialize());return o.push(this.otherwise.serialize()),o}}class Lu{constructor(o,s,h){this.type=o,this.branches=s,this.otherwise=h}static parse(o,s){if(o.length<4)return s.error(`Expected at least 3 arguments, but found only ${o.length-1}.`);if(o.length%2!=0)return s.error("Expected an odd number of arguments.");let h;s.expectedType&&s.expectedType.kind!=="value"&&(h=s.expectedType);const g=[];for(let _=1;_<o.length-1;_+=2){const F=s.parse(o[_],_,pn);if(!F)return null;const R=s.parse(o[_+1],_+1,h);if(!R)return null;g.push([F,R]),h=h||R.type}const f=s.parse(o[o.length-1],o.length-1,h);return f?new Lu(h,g,f):null}evaluate(o){for(const[s,h]of this.branches)if(s.evaluate(o))return h.evaluate(o);return this.otherwise.evaluate(o)}eachChild(o){for(const[s,h]of this.branches)o(s),o(h);o(this.otherwise)}outputDefined(){return this.branches.every(([o,s])=>s.outputDefined())&&this.otherwise.outputDefined()}serialize(){const o=["case"];return this.eachChild(s=>{o.push(s.serialize())}),o}}class pf{constructor(o,s,h,g){this.type=o,this.input=s,this.beginIndex=h,this.endIndex=g}static parse(o,s){if(o.length<=2||o.length>=5)return s.error(`Expected 3 or 4 arguments, but found ${o.length-1} instead.`);const h=s.parse(o[1],1,gn),g=s.parse(o[2],2,gi);if(!h||!g)return null;if(!$l(h.type,[$r(gn),fn,gn]))return s.error(`Expected first argument to be of type array or string, but found ${Ao(h.type)} instead`);if(o.length===4){const f=s.parse(o[3],3,gi);return f?new pf(h.type,h,g,f):null}return new pf(h.type,h,g)}evaluate(o){const s=this.input.evaluate(o),h=this.beginIndex.evaluate(o);if(!gs(s,["string","array"]))throw new dr(`Expected first argument to be of type array or string, but found ${Ao(qo(s))} instead.`);if(this.endIndex){const g=this.endIndex.evaluate(o);return s.slice(h,g)}return s.slice(h)}eachChild(o){o(this.input),o(this.beginIndex),this.endIndex&&o(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const o=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),o]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}function L0(u,o){return u==="=="||u==="!="?o.kind==="boolean"||o.kind==="string"||o.kind==="number"||o.kind==="null"||o.kind==="value":o.kind==="string"||o.kind==="number"||o.kind==="value"}function R_(u,o,s,h){return h.compare(o,s)===0}function td(u,o,s){const h=u!=="=="&&u!=="!=";return class qT{constructor(f,_,F){this.type=pn,this.lhs=f,this.rhs=_,this.collator=F,this.hasUntypedArgument=f.type.kind==="value"||_.type.kind==="value"}static parse(f,_){if(f.length!==3&&f.length!==4)return _.error("Expected two or three arguments.");const F=f[0];let R=_.parse(f[1],1,gn);if(!R)return null;if(!L0(F,R.type))return _.concat(1).error(`"${F}" comparisons are not supported for type '${Ao(R.type)}'.`);let M=_.parse(f[2],2,gn);if(!M)return null;if(!L0(F,M.type))return _.concat(2).error(`"${F}" comparisons are not supported for type '${Ao(M.type)}'.`);if(R.type.kind!==M.type.kind&&R.type.kind!=="value"&&M.type.kind!=="value")return _.error(`Cannot compare types '${Ao(R.type)}' and '${Ao(M.type)}'.`);h&&(R.type.kind==="value"&&M.type.kind!=="value"?R=new Ya(M.type,[R]):R.type.kind!=="value"&&M.type.kind==="value"&&(M=new Ya(R.type,[M])));let v=null;if(f.length===4){if(R.type.kind!=="string"&&M.type.kind!=="string"&&R.type.kind!=="value"&&M.type.kind!=="value")return _.error("Cannot use collator to compare non-string types.");if(v=_.parse(f[3],3,Wh),!v)return null}return new qT(R,M,v)}evaluate(f){const _=this.lhs.evaluate(f),F=this.rhs.evaluate(f);if(h&&this.hasUntypedArgument){const R=qo(_),M=qo(F);if(R.kind!==M.kind||R.kind!=="string"&&R.kind!=="number")throw new dr(`Expected arguments for "${u}" to be (string, string) or (number, number), but found (${R.kind}, ${M.kind}) instead.`)}if(this.collator&&!h&&this.hasUntypedArgument){const R=qo(_),M=qo(F);if(R.kind!=="string"||M.kind!=="string")return o(f,_,F)}return this.collator?s(f,_,F,this.collator.evaluate(f)):o(f,_,F)}eachChild(f){f(this.lhs),f(this.rhs),this.collator&&f(this.collator)}outputDefined(){return!0}serialize(){const f=[u];return this.eachChild(_=>{f.push(_.serialize())}),f}}}const fv=td("==",function(u,o,s){return o===s},R_),P_=td("!=",function(u,o,s){return o!==s},function(u,o,s,h){return!R_(0,o,s,h)}),I_=td("<",function(u,o,s){return o<s},function(u,o,s,h){return h.compare(o,s)<0}),id=td(">",function(u,o,s){return o>s},function(u,o,s,h){return h.compare(o,s)>0}),k_=td("<=",function(u,o,s){return o<=s},function(u,o,s,h){return h.compare(o,s)<=0}),M_=td(">=",function(u,o,s){return o>=s},function(u,o,s,h){return h.compare(o,s)>=0});class D0{constructor(o,s,h,g,f,_){this.type=fn,this.number=o,this.locale=s,this.currency=h,this.unit=g,this.minFractionDigits=f,this.maxFractionDigits=_}static parse(o,s){if(o.length!==3)return s.error("Expected two arguments.");const h=s.parse(o[1],1,gi);if(!h)return null;const g=o[2];if(typeof g!="object"||Array.isArray(g))return s.error("NumberFormat options argument must be an object.");let f=null;if(g.locale&&(f=s.parseObjectValue(g.locale,2,"locale",fn),!f))return null;let _=null;if(g.currency&&(_=s.parseObjectValue(g.currency,2,"currency",fn),!_))return null;let F=null;if(g.unit&&(F=s.parseObjectValue(g.unit,2,"unit",fn),!F))return null;let R=null;if(g["min-fraction-digits"]&&(R=s.parseObjectValue(g["min-fraction-digits"],2,"min-fraction-digits",gi),!R))return null;let M=null;return g["max-fraction-digits"]&&(M=s.parseObjectValue(g["max-fraction-digits"],2,"max-fraction-digits",gi),!M)?null:new D0(h,f,_,F,R,M)}evaluate(o){return new Intl.NumberFormat(this.locale?this.locale.evaluate(o):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(o):void 0,unit:this.unit?this.unit.evaluate(o):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(o):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(o):void 0}).format(this.number.evaluate(o))}eachChild(o){o(this.number),this.locale&&o(this.locale),this.currency&&o(this.currency),this.unit&&o(this.unit),this.minFractionDigits&&o(this.minFractionDigits),this.maxFractionDigits&&o(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const o={};return this.locale&&(o.locale=this.locale.serialize()),this.currency&&(o.currency=this.currency.serialize()),this.unit&&(o.unit=this.unit.serialize()),this.minFractionDigits&&(o["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(o["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),o]}}class Du{constructor(o){this.type=gi,this.input=o}static parse(o,s){if(o.length!==2)return s.error(`Expected 1 argument, but found ${o.length-1} instead.`);const h=s.parse(o[1],1);return h?h.type.kind!=="array"&&h.type.kind!=="string"&&h.type.kind!=="value"?s.error(`Expected argument of type string or array, but found ${Ao(h.type)} instead.`):new Du(h):null}evaluate(o){const s=this.input.evaluate(o);if(typeof s=="string"||Array.isArray(s))return s.length;throw new dr(`Expected value to be of type string or array, but found ${Ao(qo(s))} instead.`)}eachChild(o){o(this.input)}outputDefined(){return!1}serialize(){const o=["length"];return this.eachChild(s=>{o.push(s.serialize())}),o}}function mf(u){return function(){u=1831565813+(u|=0)|0;let o=Math.imul(u^u>>>15,1|u);return o=o+Math.imul(o^o>>>7,61|o)^o,((o^o>>>14)>>>0)/4294967296}}const nd={"==":fv,"!=":P_,">":id,"<":I_,">=":M_,"<=":k_,array:Ya,at:M0,boolean:Ya,case:Lu,coalesce:uf,collator:Qh,format:Ul,image:Xc,in:A0,"index-of":ff,interpolate:ya,"interpolate-hcl":ya,"interpolate-lab":ya,length:Du,let:hf,literal:Ja,match:O0,number:Ya,"number-format":D0,object:Ya,slice:pf,step:Mu,string:Ya,"to-boolean":js,"to-color":js,"to-number":js,"to-string":js,var:Kn,within:Fc,distance:Cc,config:Jl};function A_(u,[o,s,h,g]){o=o.evaluate(u),s=s.evaluate(u),h=h.evaluate(u);const f=g?g.evaluate(u):1,_=s_(o,s,h,f);if(_)throw new dr(_);return new Dn(o/255*f,s/255*f,h/255*f,f)}function B0(u,[o,s,h,g]){o=o.evaluate(u),s=s.evaluate(u),h=h.evaluate(u);const f=g?g.evaluate(u):1,_=function(M,v,T,I){return typeof M=="number"&&M>=0&&M<=360?typeof v=="number"&&v>=0&&v<=100&&typeof T=="number"&&T>=0&&T<=100?I===void 0||typeof I=="number"&&I>=0&&I<=1?null:`Invalid hsla value [${[M,v,T,I].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid hsla value [${(typeof I=="number"?[M,v,T,I]:[M,v,T]).join(", ")}]: 's', and 'l' must be between 0 and 100.`:`Invalid hsla value [${(typeof I=="number"?[M,v,T,I]:[M,v,T]).join(", ")}]: 'h' must be between 0 and 360.`}(o,s,h,f);if(_)throw new dr(_);const F=`hsla(${o}, ${s}%, ${h}%, ${f})`,R=Dn.parse(F);if(!R)throw new dr(`Failed to parse HSLA color: ${F}`);return R}function j0(u,o){return u in o}function z0(u,o){const s=o[u];return s===void 0?null:s}function tl(u){return{type:u}}function O_(u){return{result:"success",value:u}}function Ns(u){return{result:"error",value:u}}function gf(u,o){return!!u&&!!u.parameters&&u.parameters.indexOf(o)>-1}function il(u){return u["property-type"]==="data-driven"}function L_(u){return gf(u.expression,"measure-light")}function V0(u){return gf(u.expression,"zoom")}function N0(u){return!!u.expression&&u.expression.interpolated}function $0(u){return typeof u=="object"&&u!==null&&!Array.isArray(u)}function D_(u){return u}function U0(u,o){const s=o.type==="color",h=u.stops&&typeof u.stops[0][0]=="object",g=h||!(h||u.property!==void 0),f=u.type||(N0(o)?"exponential":"interval");if(s&&((u=jl({},u)).stops&&(u.stops=u.stops.map(M=>[M[0],Dn.parse(M[1])])),u.default=Dn.parse(u.default?u.default:o.default)),u.colorSpace&&u.colorSpace!=="rgb"&&!T_[u.colorSpace])throw new Error(`Unknown color space: ${u.colorSpace}`);let _,F,R;if(f==="exponential")_=G0;else if(f==="interval")_=mv;else if(f==="categorical"){_=pv,F=Object.create(null);for(const M of u.stops)F[M[0]]=M[1];R=typeof u.stops[0][0]}else{if(f!=="identity")throw new Error(`Unknown function type "${f}"`);_=gv}if(h){const M={},v=[];for(let S=0;S<u.stops.length;S++){const P=u.stops[S],D=P[0].zoom;M[D]===void 0&&(M[D]={zoom:D,type:u.type,property:u.property,default:u.default,stops:[]},v.push(D)),M[D].stops.push([P[0].value,P[1]])}const T=[];for(const S of v)T.push([M[S].zoom,U0(M[S],o)]);const I={name:"linear"};return{kind:"composite",interpolationType:I,interpolationFactor:ya.interpolationFactor.bind(void 0,I),zoomStops:T.map(S=>S[0]),evaluate:({zoom:S},P)=>G0({stops:T,base:u.base},o,S).evaluate(S,P)}}if(g){const M=f==="exponential"?{name:"exponential",base:u.base!==void 0?u.base:1}:null;return{kind:"camera",interpolationType:M,interpolationFactor:ya.interpolationFactor.bind(void 0,M),zoomStops:u.stops.map(v=>v[0]),evaluate:({zoom:v})=>_(u,o,v,F,R)}}return{kind:"source",evaluate(M,v){const T=v&&v.properties?v.properties[u.property]:void 0;return T===void 0?Bu(u.default,o.default):_(u,o,T,F,R)}}}function Bu(u,o,s){return u!==void 0?u:o!==void 0?o:s!==void 0?s:void 0}function pv(u,o,s,h,g){return Bu(typeof s===g?h[s]:void 0,u.default,o.default)}function mv(u,o,s){if(Jc(s)!=="number")return Bu(u.default,o.default);const h=u.stops.length;if(h===1||s<=u.stops[0][0])return u.stops[0][1];if(s>=u.stops[h-1][0])return u.stops[h-1][1];const g=df(u.stops.map(f=>f[0]),s);return u.stops[g][1]}function G0(u,o,s){const h=u.base!==void 0?u.base:1;if(Jc(s)!=="number")return Bu(u.default,o.default);const g=u.stops.length;if(g===1||s<=u.stops[0][0])return u.stops[0][1];if(s>=u.stops[g-1][0])return u.stops[g-1][1];const f=df(u.stops.map(v=>v[0]),s),_=function(v,T,I,S){const P=S-I,D=v-I;return P===0?0:T===1?D/P:(Math.pow(T,D)-1)/(Math.pow(T,P)-1)}(s,h,u.stops[f][0],u.stops[f+1][0]),F=u.stops[f][1],R=u.stops[f+1][1];let M=Qc[o.type]||D_;if(u.colorSpace&&u.colorSpace!=="rgb"){const v=T_[u.colorSpace];M=(T,I)=>v.reverse(v.interpolate(v.forward(T),v.forward(I),_))}return typeof F.evaluate=="function"?{evaluate(...v){const T=F.evaluate.apply(void 0,v),I=R.evaluate.apply(void 0,v);if(T!==void 0&&I!==void 0)return M(T,I,_)}}:M(F,R,_)}function gv(u,o,s){return o.type==="color"?s=Dn.parse(s):o.type==="formatted"?s=Br.fromString(s.toString()):o.type==="resolvedImage"?s=Ur.fromString(s.toString()):Jc(s)===o.type||o.type==="enum"&&o.values[s]||(s=void 0),Bu(s,u.default,o.default)}ea.register(nd,{error:[{kind:"error"},[fn],(u,[o])=>{throw new dr(o.evaluate(u))}],typeof:[fn,[gn],(u,[o])=>Ao(qo(o.evaluate(u)))],"to-rgba":[$r(gi,4),[Yr],(u,[o])=>o.evaluate(u).toRenderColor(null).toArray()],rgb:[Yr,[gi,gi,gi],A_],rgba:[Yr,[gi,gi,gi,gi],A_],hsl:[Yr,[gi,gi,gi],B0],hsla:[Yr,[gi,gi,gi,gi],B0],has:{type:pn,overloads:[[[fn],(u,[o])=>j0(o.evaluate(u),u.properties())],[[fn,Dr],(u,[o,s])=>j0(o.evaluate(u),s.evaluate(u))]]},get:{type:gn,overloads:[[[fn],(u,[o])=>z0(o.evaluate(u),u.properties())],[[fn,Dr],(u,[o,s])=>z0(o.evaluate(u),s.evaluate(u))]]},"feature-state":[gn,[fn],(u,[o])=>z0(o.evaluate(u),u.featureState||{})],properties:[Dr,[],u=>u.properties()],"geometry-type":[fn,[],u=>u.geometryType()],id:[gn,[],u=>u.id()],zoom:[gi,[],u=>u.globals.zoom],pitch:[gi,[],u=>u.globals.pitch||0],"distance-from-center":[gi,[],u=>u.distanceFromCenter()],"measure-light":[gi,[fn],(u,[o])=>u.measureLight(o.evaluate(u))],"heatmap-density":[gi,[],u=>u.globals.heatmapDensity||0],"line-progress":[gi,[],u=>u.globals.lineProgress||0],"raster-value":[gi,[],u=>u.globals.rasterValue||0],"raster-particle-speed":[gi,[],u=>u.globals.rasterParticleSpeed||0],"sky-radial-progress":[gi,[],u=>u.globals.skyRadialProgress||0],accumulated:[gn,[],u=>u.globals.accumulated===void 0?null:u.globals.accumulated],"+":[gi,tl(gi),(u,o)=>{let s=0;for(const h of o)s+=h.evaluate(u);return s}],"*":[gi,tl(gi),(u,o)=>{let s=1;for(const h of o)s*=h.evaluate(u);return s}],"-":{type:gi,overloads:[[[gi,gi],(u,[o,s])=>o.evaluate(u)-s.evaluate(u)],[[gi],(u,[o])=>-o.evaluate(u)]]},"/":[gi,[gi,gi],(u,[o,s])=>o.evaluate(u)/s.evaluate(u)],"%":[gi,[gi,gi],(u,[o,s])=>o.evaluate(u)%s.evaluate(u)],ln2:[gi,[],()=>Math.LN2],pi:[gi,[],()=>Math.PI],e:[gi,[],()=>Math.E],"^":[gi,[gi,gi],(u,[o,s])=>Math.pow(o.evaluate(u),s.evaluate(u))],sqrt:[gi,[gi],(u,[o])=>Math.sqrt(o.evaluate(u))],log10:[gi,[gi],(u,[o])=>Math.log(o.evaluate(u))/Math.LN10],ln:[gi,[gi],(u,[o])=>Math.log(o.evaluate(u))],log2:[gi,[gi],(u,[o])=>Math.log(o.evaluate(u))/Math.LN2],sin:[gi,[gi],(u,[o])=>Math.sin(o.evaluate(u))],cos:[gi,[gi],(u,[o])=>Math.cos(o.evaluate(u))],tan:[gi,[gi],(u,[o])=>Math.tan(o.evaluate(u))],asin:[gi,[gi],(u,[o])=>Math.asin(o.evaluate(u))],acos:[gi,[gi],(u,[o])=>Math.acos(o.evaluate(u))],atan:[gi,[gi],(u,[o])=>Math.atan(o.evaluate(u))],min:[gi,tl(gi),(u,o)=>Math.min(...o.map(s=>s.evaluate(u)))],max:[gi,tl(gi),(u,o)=>Math.max(...o.map(s=>s.evaluate(u)))],abs:[gi,[gi],(u,[o])=>Math.abs(o.evaluate(u))],round:[gi,[gi],(u,[o])=>{const s=o.evaluate(u);return s<0?-Math.round(-s):Math.round(s)}],floor:[gi,[gi],(u,[o])=>Math.floor(o.evaluate(u))],ceil:[gi,[gi],(u,[o])=>Math.ceil(o.evaluate(u))],"filter-==":[pn,[fn,gn],(u,[o,s])=>u.properties()[o.value]===s.value],"filter-id-==":[pn,[gn],(u,[o])=>u.id()===o.value],"filter-type-==":[pn,[fn],(u,[o])=>u.geometryType()===o.value],"filter-<":[pn,[fn,gn],(u,[o,s])=>{const h=u.properties()[o.value],g=s.value;return typeof h==typeof g&&h<g}],"filter-id-<":[pn,[gn],(u,[o])=>{const s=u.id(),h=o.value;return typeof s==typeof h&&s<h}],"filter->":[pn,[fn,gn],(u,[o,s])=>{const h=u.properties()[o.value],g=s.value;return typeof h==typeof g&&h>g}],"filter-id->":[pn,[gn],(u,[o])=>{const s=u.id(),h=o.value;return typeof s==typeof h&&s>h}],"filter-<=":[pn,[fn,gn],(u,[o,s])=>{const h=u.properties()[o.value],g=s.value;return typeof h==typeof g&&h<=g}],"filter-id-<=":[pn,[gn],(u,[o])=>{const s=u.id(),h=o.value;return typeof s==typeof h&&s<=h}],"filter->=":[pn,[fn,gn],(u,[o,s])=>{const h=u.properties()[o.value],g=s.value;return typeof h==typeof g&&h>=g}],"filter-id->=":[pn,[gn],(u,[o])=>{const s=u.id(),h=o.value;return typeof s==typeof h&&s>=h}],"filter-has":[pn,[gn],(u,[o])=>o.value in u.properties()],"filter-has-id":[pn,[],u=>u.id()!==null&&u.id()!==void 0],"filter-type-in":[pn,[$r(fn)],(u,[o])=>o.value.indexOf(u.geometryType())>=0],"filter-id-in":[pn,[$r(gn)],(u,[o])=>o.value.indexOf(u.id())>=0],"filter-in-small":[pn,[fn,$r(gn)],(u,[o,s])=>s.value.indexOf(u.properties()[o.value])>=0],"filter-in-large":[pn,[fn,$r(gn)],(u,[o,s])=>function(h,g,f,_){for(;f<=_;){const F=f+_>>1;if(g[F]===h)return!0;g[F]>h?_=F-1:f=F+1}return!1}(u.properties()[o.value],s.value,0,s.value.length-1)],all:{type:pn,overloads:[[[pn,pn],(u,[o,s])=>o.evaluate(u)&&s.evaluate(u)],[tl(pn),(u,o)=>{for(const s of o)if(!s.evaluate(u))return!1;return!0}]]},any:{type:pn,overloads:[[[pn,pn],(u,[o,s])=>o.evaluate(u)||s.evaluate(u)],[tl(pn),(u,o)=>{for(const s of o)if(s.evaluate(u))return!0;return!1}]]},"!":[pn,[pn],(u,[o])=>!o.evaluate(u)],"is-supported-script":[pn,[fn],(u,[o])=>{const s=u.globals&&u.globals.isSupportedScript;return!s||s(o.evaluate(u))}],upcase:[fn,[fn],(u,[o])=>o.evaluate(u).toUpperCase()],downcase:[fn,[fn],(u,[o])=>o.evaluate(u).toLowerCase()],concat:[fn,tl(gn),(u,o)=>o.map(s=>Gr(s.evaluate(u))).join("")],"resolved-locale":[fn,[Wh],(u,[o])=>o.evaluate(u).resolvedLocale()],random:[gi,[gi,gi,gn],(u,o)=>{const[s,h,g]=o.map(_=>_.evaluate(u));if(s>h||s===h)return s;let f;if(typeof g=="string")f=function(_){let F=0;if(_.length===0)return F;for(let R=0;R<_.length;R++)F=(F<<5)-F+_.charCodeAt(R),F|=0;return F}(g);else{if(typeof g!="number")throw new dr(`Invalid seed input: ${g}`);f=g}return s+mf(f)()*(h-s)}]});class H0{constructor(o,s,h,g){this.expression=o,this._warningHistory={},this._evaluator=new c_(h,g),this._defaultValue=s?function(f){return f.type==="color"&&($0(f.default)||Array.isArray(f.default))?new Dn(0,0,0,0):f.type==="color"?Dn.parse(f.default)||null:f.default===void 0?null:f.default}(s):null,this._enumValues=s&&s.type==="enum"?s.values:null,this.configDependencies=ku(o)}evaluateWithoutErrorHandling(o,s,h,g,f,_,F,R){return this._evaluator.globals=o,this._evaluator.feature=s,this._evaluator.featureState=h,this._evaluator.canonical=g||null,this._evaluator.availableImages=f||null,this._evaluator.formattedSection=_,this._evaluator.featureTileCoord=F||null,this._evaluator.featureDistanceData=R||null,this.expression.evaluate(this._evaluator)}evaluate(o,s,h,g,f,_,F,R){this._evaluator.globals=o,this._evaluator.feature=s||null,this._evaluator.featureState=h||null,this._evaluator.canonical=g||null,this._evaluator.availableImages=f||null,this._evaluator.formattedSection=_||null,this._evaluator.featureTileCoord=F||null,this._evaluator.featureDistanceData=R||null;try{const M=this.expression.evaluate(this._evaluator);if(M==null||typeof M=="number"&&M!=M)return this._defaultValue;if(this._enumValues&&!(M in this._enumValues))throw new dr(`Expected value to be one of ${Object.keys(this._enumValues).map(v=>JSON.stringify(v)).join(", ")}, but found ${JSON.stringify(M)} instead.`);return M}catch(M){return this._warningHistory[M.message]||(this._warningHistory[M.message]=!0,typeof console<"u"&&console.warn(`Failed to evaluate expression "${JSON.stringify(this.expression.serialize())}". ${M.message}`)),this._defaultValue}}}function _f(u){return Array.isArray(u)&&u.length>0&&typeof u[0]=="string"&&u[0]in nd}function od(u,o,s,h){const g=new v_(nd,[],o?function(_){const F={color:Yr,string:fn,number:gi,enum:fn,boolean:pn,formatted:zl,resolvedImage:Vl};return _.type==="array"?$r(F[_.value]||gn,_.length):F[_.type]}(o):void 0,void 0,void 0,s,h),f=g.parse(u,void 0,void 0,void 0,o&&o.type==="string"?{typeAnnotation:"coerce"}:void 0);return f?O_(new H0(f,o,s,h)):Ns(g.errors)}class yf{constructor(o,s,h){this.kind=o,this._styleExpression=s,this.isLightConstant=h,this.isStateDependent=o!=="constant"&&!lf(s.expression),this.configDependencies=ku(s.expression)}evaluateWithoutErrorHandling(o,s,h,g,f,_){return this._styleExpression.evaluateWithoutErrorHandling(o,s,h,g,f,_)}evaluate(o,s,h,g,f,_){return this._styleExpression.evaluate(o,s,h,g,f,_)}}class ju{constructor(o,s,h,g,f){this.kind=o,this.zoomStops=h,this._styleExpression=s,this.isStateDependent=o!=="camera"&&!lf(s.expression),this.isLightConstant=f,this.configDependencies=ku(s.expression),this.interpolationType=g}evaluateWithoutErrorHandling(o,s,h,g,f,_){return this._styleExpression.evaluateWithoutErrorHandling(o,s,h,g,f,_)}evaluate(o,s,h,g,f,_){return this._styleExpression.evaluate(o,s,h,g,f,_)}interpolationFactor(o,s,h){return this.interpolationType?ya.interpolationFactor(this.interpolationType,o,s,h):0}}function nl(u,o,s,h){if((u=od(u,o,s,h)).result==="error")return u;const g=u.value.expression,f=Iu(g);if(!f&&!il(o))return Ns([new Qa("","data expressions not supported")]);const _=Yl(g,["zoom","pitch","distance-from-center"]);if(!_&&!V0(o))return Ns([new Qa("","zoom expressions not supported")]);const F=Yl(g,["measure-light"]);if(!F&&!L_(o))return Ns([new Qa("","measure-light expression not supported")]);const R=Yl(g,["line-progress"]);if(!R&&!function(T){return gf(T.expression,"line-progress")}(o))return Ns([new Qa("","line-progress expression not supported")]);const M=o.expression&&o.expression.relaxZoomRestriction,v=vf(g);return v||_||M?v instanceof Qa?Ns([v]):v instanceof ya&&!N0(o)?Ns([new Qa("",'"interpolate" expressions cannot be used with this property')]):O_(v?new ju(f&&R?"camera":"composite",u.value,v.labels,v instanceof ya?v.interpolation:void 0,F):new yf(f&&R?"constant":"source",u.value,F)):Ns([new Qa("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression, or in the properties of atmosphere.')])}class bf{constructor(o,s){this._parameters=o,this._specification=s,jl(this,U0(this._parameters,this._specification))}static deserialize(o){return new bf(o._parameters,o._specification)}static serialize(o){return{_parameters:o._parameters,_specification:o._specification}}}function vf(u){let o=null;if(u instanceof hf)o=vf(u.result);else if(u instanceof uf){for(const s of u.args)if(o=vf(s),o)break}else(u instanceof Mu||u instanceof ya)&&u.input instanceof ea&&u.input.name==="zoom"&&(o=u);return o instanceof Qa||u.eachChild(s=>{const h=vf(s);h instanceof Qa?o=h:o&&h&&o!==h&&(o=new Qa("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),o}var q0,W0,B_=function(){if(W0)return q0;W0=1,q0=o;var u=3;function o(s,h,g){var f=this.cells=[];if(s instanceof ArrayBuffer){this.arrayBuffer=s;var _=new Int32Array(this.arrayBuffer);s=_[0],this.d=(h=_[1])+2*(g=_[2]);for(var F=0;F<this.d*this.d;F++){var R=_[u+F],M=_[u+F+1];f.push(R===M?null:_.subarray(R,M))}var v=_[u+f.length+1];this.keys=_.subarray(_[u+f.length],v),this.bboxes=_.subarray(v),this.insert=this._insertReadonly}else{this.d=h+2*g;for(var T=0;T<this.d*this.d;T++)f.push([]);this.keys=[],this.bboxes=[]}this.n=h,this.extent=s,this.padding=g,this.scale=h/s,this.uid=0;var I=g/h*s;this.min=-I,this.max=s+I}return o.prototype.insert=function(s,h,g,f,_){this._forEachCell(h,g,f,_,this._insertCell,this.uid++),this.keys.push(s),this.bboxes.push(h),this.bboxes.push(g),this.bboxes.push(f),this.bboxes.push(_)},o.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},o.prototype._insertCell=function(s,h,g,f,_,F){this.cells[_].push(F)},o.prototype.query=function(s,h,g,f,_){var F=this.min,R=this.max;if(s<=F&&h<=F&&R<=g&&R<=f&&!_)return Array.prototype.slice.call(this.keys);var M=[];return this._forEachCell(s,h,g,f,this._queryCell,M,{},_),M},o.prototype._queryCell=function(s,h,g,f,_,F,R,M){var v=this.cells[_];if(v!==null)for(var T=this.keys,I=this.bboxes,S=0;S<v.length;S++){var P=v[S];if(R[P]===void 0){var D=4*P;(M?M(I[D+0],I[D+1],I[D+2],I[D+3]):s<=I[D+2]&&h<=I[D+3]&&g>=I[D+0]&&f>=I[D+1])?(R[P]=!0,F.push(T[P])):R[P]=!1}}},o.prototype._forEachCell=function(s,h,g,f,_,F,R,M){for(var v=this._convertToCellCoord(s),T=this._convertToCellCoord(h),I=this._convertToCellCoord(g),S=this._convertToCellCoord(f),P=v;P<=I;P++)for(var D=T;D<=S;D++){var N=this.d*D+P;if((!M||M(this._convertFromCellCoord(P),this._convertFromCellCoord(D),this._convertFromCellCoord(P+1),this._convertFromCellCoord(D+1)))&&_.call(this,s,h,g,f,N,F,R,M))return}},o.prototype._convertFromCellCoord=function(s){return(s-this.padding)/this.scale},o.prototype._convertToCellCoord=function(s){return Math.max(0,Math.min(this.d-1,Math.floor(s*this.scale)+this.padding))},o.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var s=this.cells,h=u+this.cells.length+1+1,g=0,f=0;f<this.cells.length;f++)g+=this.cells[f].length;var _=new Int32Array(h+g+this.keys.length+this.bboxes.length);_[0]=this.extent,_[1]=this.n,_[2]=this.padding;for(var F=h,R=0;R<s.length;R++){var M=s[R];_[u+R]=F,_.set(M,F),F+=M.length}return _[u+s.length]=F,_.set(this.keys,F),_[u+s.length+1]=F+=this.keys.length,_.set(this.bboxes,F),F+=this.bboxes.length,_.buffer},q0}(),ol=x(B_);const zu={};function hi(u,o,s={}){Object.defineProperty(u,"_classRegistryKey",{value:o,writable:!1}),zu[o]={klass:u,omit:s.omit||[]}}hi(Object,"Object"),ol.serialize=function(u,o){const s=u.toArrayBuffer();return o&&o.add(s),{buffer:s}},ol.deserialize=function(u){return new ol(u.buffer)},Object.defineProperty(ol,"name",{value:"Grid"}),hi(ol,"Grid"),hi(Dn,"Color"),hi(Error,"Error"),hi(Br,"Formatted"),hi(pa,"FormattedSection"),hi(c0,"AJAXError"),hi(Ur,"ResolvedImage"),hi(bf,"StylePropertyFunction"),hi(H0,"StyleExpression",{omit:["_evaluator"]}),hi(ju,"ZoomDependentExpression"),hi(yf,"ZoomConstantExpression"),hi(ea,"CompoundExpression",{omit:["_evaluate"]});for(const u in nd)zu[nd[u]._classRegistryKey]||hi(nd[u],`Expression${u}`);function xf(u){return u&&typeof ArrayBuffer<"u"&&(u instanceof ArrayBuffer||u.constructor&&u.constructor.name==="ArrayBuffer")}function K0(u){return self.ImageBitmap&&u instanceof ImageBitmap}function rl(u,o){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp)return u;if(xf(u)||K0(u))return o&&o.add(u),u;if(ArrayBuffer.isView(u)){const s=u;return o&&o.add(s.buffer),s}if(u instanceof ImageData)return o&&o.add(u.data.buffer),u;if(Array.isArray(u)){const s=[];for(const h of u)s.push(rl(h,o));return s}if(u instanceof Map){const s={$name:"Map"};for(const[h,g]of u.entries())s[h]=rl(g);return s}if(u instanceof Set){const s={$name:"Set"};let h=0;for(const g of u.values())s[++h]=rl(g);return s}if(typeof u=="object"){const s=u.constructor,h=s._classRegistryKey;if(!h)throw new Error(`can't serialize object of unregistered class ${h}`);const g=s.serialize?s.serialize(u,o):{};if(!s.serialize){for(const f in u)u.hasOwnProperty(f)&&(zu[h].omit.indexOf(f)>=0||(g[f]=rl(u[f],o)));u instanceof Error&&(g.message=u.message)}if(g.$name)throw new Error("$name property is reserved for worker serialization logic.");return h!=="Object"&&(g.$name=h),g}throw new Error("can't serialize object of type "+typeof u)}function ta(u){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||xf(u)||K0(u)||ArrayBuffer.isView(u)||u instanceof ImageData)return u;if(Array.isArray(u))return u.map(ta);if(typeof u=="object"){const o=u.$name||"Object";if(o==="Map"){const g=new Map;for(const f of Object.keys(u))f!=="$name"&&g.set(f,ta(u[f]));return g}if(o==="Set"){const g=new Set;for(const f of Object.keys(u))f!=="$name"&&g.add(ta(u[f]));return g}const{klass:s}=zu[o];if(!s)throw new Error(`can't deserialize unregistered class ${o}`);if(s.deserialize)return s.deserialize(u);const h=Object.create(s.prototype);for(const g of Object.keys(u))g!=="$name"&&(h[g]=ta(u[g]));return h}throw new Error("can't deserialize object of type "+typeof u)}const vi={"Latin-1 Supplement":u=>u>=128&&u<=255,Arabic:u=>u>=1536&&u<=1791,"Arabic Supplement":u=>u>=1872&&u<=1919,"Arabic Extended-A":u=>u>=2208&&u<=2303,"Hangul Jamo":u=>u>=4352&&u<=4607,"Unified Canadian Aboriginal Syllabics":u=>u>=5120&&u<=5759,Khmer:u=>u>=6016&&u<=6143,"Unified Canadian Aboriginal Syllabics Extended":u=>u>=6320&&u<=6399,"General Punctuation":u=>u>=8192&&u<=8303,"Letterlike Symbols":u=>u>=8448&&u<=8527,"Number Forms":u=>u>=8528&&u<=8591,"Miscellaneous Technical":u=>u>=8960&&u<=9215,"Control Pictures":u=>u>=9216&&u<=9279,"Optical Character Recognition":u=>u>=9280&&u<=9311,"Enclosed Alphanumerics":u=>u>=9312&&u<=9471,"Geometric Shapes":u=>u>=9632&&u<=9727,"Miscellaneous Symbols":u=>u>=9728&&u<=9983,"Miscellaneous Symbols and Arrows":u=>u>=11008&&u<=11263,"CJK Radicals Supplement":u=>u>=11904&&u<=12031,"Kangxi Radicals":u=>u>=12032&&u<=12255,"Ideographic Description Characters":u=>u>=12272&&u<=12287,"CJK Symbols and Punctuation":u=>u>=12288&&u<=12351,Hiragana:u=>u>=12352&&u<=12447,Katakana:u=>u>=12448&&u<=12543,Bopomofo:u=>u>=12544&&u<=12591,"Hangul Compatibility Jamo":u=>u>=12592&&u<=12687,Kanbun:u=>u>=12688&&u<=12703,"Bopomofo Extended":u=>u>=12704&&u<=12735,"CJK Strokes":u=>u>=12736&&u<=12783,"Katakana Phonetic Extensions":u=>u>=12784&&u<=12799,"Enclosed CJK Letters and Months":u=>u>=12800&&u<=13055,"CJK Compatibility":u=>u>=13056&&u<=13311,"CJK Unified Ideographs Extension A":u=>u>=13312&&u<=19903,"Yijing Hexagram Symbols":u=>u>=19904&&u<=19967,"CJK Unified Ideographs":u=>u>=19968&&u<=40959,"Yi Syllables":u=>u>=40960&&u<=42127,"Yi Radicals":u=>u>=42128&&u<=42191,"Hangul Jamo Extended-A":u=>u>=43360&&u<=43391,"Hangul Syllables":u=>u>=44032&&u<=55215,"Hangul Jamo Extended-B":u=>u>=55216&&u<=55295,"Private Use Area":u=>u>=57344&&u<=63743,"CJK Compatibility Ideographs":u=>u>=63744&&u<=64255,"Arabic Presentation Forms-A":u=>u>=64336&&u<=65023,"Vertical Forms":u=>u>=65040&&u<=65055,"CJK Compatibility Forms":u=>u>=65072&&u<=65103,"Small Form Variants":u=>u>=65104&&u<=65135,"Arabic Presentation Forms-B":u=>u>=65136&&u<=65279,"Halfwidth and Fullwidth Forms":u=>u>=65280&&u<=65519,Osage:u=>u>=66736&&u<=66815,"CJK Unified Ideographs Extension B":u=>u>=131072&&u<=173791};function Z0(u){for(const o of u)if(rd(o.charCodeAt(0)))return!0;return!1}function j_(u){for(const o of u)if(!_v(o.charCodeAt(0)))return!1;return!0}function _v(u){return!(vi.Arabic(u)||vi["Arabic Supplement"](u)||vi["Arabic Extended-A"](u)||vi["Arabic Presentation Forms-A"](u)||vi["Arabic Presentation Forms-B"](u))}function rd(u){return!(u!==746&&u!==747&&(u<4352||!(vi["Bopomofo Extended"](u)||vi.Bopomofo(u)||vi["CJK Compatibility Forms"](u)&&!(u>=65097&&u<=65103)||vi["CJK Compatibility Ideographs"](u)||vi["CJK Compatibility"](u)||vi["CJK Radicals Supplement"](u)||vi["CJK Strokes"](u)||!(!vi["CJK Symbols and Punctuation"](u)||u>=12296&&u<=12305||u>=12308&&u<=12319||u===12336)||vi["CJK Unified Ideographs Extension A"](u)||vi["CJK Unified Ideographs"](u)||vi["Enclosed CJK Letters and Months"](u)||vi["Hangul Compatibility Jamo"](u)||vi["Hangul Jamo Extended-A"](u)||vi["Hangul Jamo Extended-B"](u)||vi["Hangul Jamo"](u)||vi["Hangul Syllables"](u)||vi.Hiragana(u)||vi["Ideographic Description Characters"](u)||vi.Kanbun(u)||vi["Kangxi Radicals"](u)||vi["Katakana Phonetic Extensions"](u)||vi.Katakana(u)&&u!==12540||!(!vi["Halfwidth and Fullwidth Forms"](u)||u===65288||u===65289||u===65293||u>=65306&&u<=65310||u===65339||u===65341||u===65343||u>=65371&&u<=65503||u===65507||u>=65512&&u<=65519)||!(!vi["Small Form Variants"](u)||u>=65112&&u<=65118||u>=65123&&u<=65126)||vi["Unified Canadian Aboriginal Syllabics"](u)||vi["Unified Canadian Aboriginal Syllabics Extended"](u)||vi["Vertical Forms"](u)||vi["Yijing Hexagram Symbols"](u)||vi["Yi Syllables"](u)||vi["Yi Radicals"](u))))}function Q0(u){return!(rd(u)||function(o){return!!(vi["Latin-1 Supplement"](o)&&(o===167||o===169||o===174||o===177||o===188||o===189||o===190||o===215||o===247)||vi["General Punctuation"](o)&&(o===8214||o===8224||o===8225||o===8240||o===8241||o===8251||o===8252||o===8258||o===8263||o===8264||o===8265||o===8273)||vi["Letterlike Symbols"](o)||vi["Number Forms"](o)||vi["Miscellaneous Technical"](o)&&(o>=8960&&o<=8967||o>=8972&&o<=8991||o>=8996&&o<=9e3||o===9003||o>=9085&&o<=9114||o>=9150&&o<=9165||o===9167||o>=9169&&o<=9179||o>=9186&&o<=9215)||vi["Control Pictures"](o)&&o!==9251||vi["Optical Character Recognition"](o)||vi["Enclosed Alphanumerics"](o)||vi["Geometric Shapes"](o)||vi["Miscellaneous Symbols"](o)&&!(o>=9754&&o<=9759)||vi["Miscellaneous Symbols and Arrows"](o)&&(o>=11026&&o<=11055||o>=11088&&o<=11097||o>=11192&&o<=11243)||vi["CJK Symbols and Punctuation"](o)||vi.Katakana(o)||vi["Private Use Area"](o)||vi["CJK Compatibility Forms"](o)||vi["Small Form Variants"](o)||vi["Halfwidth and Fullwidth Forms"](o)||o===8734||o===8756||o===8757||o>=9984&&o<=10087||o>=10102&&o<=10131||o===65532||o===65533)}(u))}function Vu(u){return u>=1424&&u<=2303||vi["Arabic Presentation Forms-A"](u)||vi["Arabic Presentation Forms-B"](u)}function z_(u,o){return!(!o&&Vu(u)||u>=2304&&u<=3583||u>=3840&&u<=4255||vi.Khmer(u))}function yv(u){for(const o of u)if(Vu(o.charCodeAt(0)))return!0;return!1}const X0="deferred",Nu="loading",$u="loaded";let wf=null,Cr="unavailable",ba=null;const V_=function(u){u&&typeof u=="string"&&u.indexOf("NetworkError")>-1&&(Cr="error"),wf&&wf(u)};function J0(){Y0.fire(new xc("pluginStateChange",{pluginStatus:Cr,pluginURL:ba}))}const Y0=new Bl,em=function(){return Cr},N_=function(){if(Cr!==X0||!ba)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Cr=Nu,J0(),ba&&Ll({url:ba},u=>{u?V_(u):(Cr=$u,J0())})},va={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Cr===$u||va.applyArabicShaping!=null,isLoading:()=>Cr===Nu,setState(u){Cr=u.pluginStatus,ba=u.pluginURL},isParsed:()=>va.applyArabicShaping!=null&&va.processBidirectionalText!=null&&va.processStyledBidirectionalText!=null,getPluginURL:()=>ba};class _o{constructor(o,s){this.zoom=o,s?(this.now=s.now,this.fadeDuration=s.fadeDuration,this.transition=s.transition,this.pitch=s.pitch,this.brightness=s.brightness):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0,this.brightness=0)}isSupportedScript(o){return function(s,h){for(const g of s)if(!z_(g.charCodeAt(0),h))return!1;return!0}(o,va.isLoaded())}}class Ff{constructor(o,s,h,g){this.property=o,this.value=s,this.expression=function(f,_,F,R){if($0(f))return new bf(f,_);if(_f(f)||Array.isArray(f)&&f.length>0){const M=nl(f,_,F,R);if(M.result==="error")throw new Error(M.value.map(v=>`${v.key}: ${v.message}`).join(", "));return M.value}{let M=f;return typeof f=="string"&&_.type==="color"&&(M=Dn.parse(f)),{kind:"constant",configDependencies:new Set,evaluate:()=>M}}}(s===void 0?o.specification.default:s,o.specification,h,g)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(o,s,h){return this.property.possiblyEvaluate(this,o,s,h)}}class tm{constructor(o,s,h){this.property=o,this.value=new Ff(o,void 0,s,h)}transitioned(o,s){return new U_(this.property,this.value,s,wi({},o.transition,this.transition),o.now)}untransitioned(){return new U_(this.property,this.value,null,{},0)}}class $_{constructor(o,s,h){this._properties=o,this._values=Object.create(o.defaultTransitionablePropertyValues),this._scope=s,this._options=h,this.configDependencies=new Set}getValue(o){return Ln(this._values[o].value.value)}setValue(o,s){this._values.hasOwnProperty(o)||(this._values[o]=new tm(this._values[o].property,this._scope,this._options)),this._values[o].value=new Ff(this._values[o].property,s===null?void 0:Ln(s),this._scope,this._options),this._values[o].value.expression.configDependencies&&(this.configDependencies=new Set([...this.configDependencies,...this._values[o].value.expression.configDependencies]))}setTransitionOrValue(o,s){s&&(this._options=s);const h=this._properties.properties;if(o)for(const g in o){const f=o[g];if(sn(g,"-transition")){const _=g.slice(0,-11);h[_]&&this.setTransition(_,f)}else h.hasOwnProperty(g)&&this.setValue(g,f)}}getTransition(o){return Ln(this._values[o].transition)}setTransition(o,s){this._values.hasOwnProperty(o)||(this._values[o]=new tm(this._values[o].property)),this._values[o].transition=Ln(s)||void 0}serialize(){const o={};for(const s of Object.keys(this._values)){const h=this.getValue(s);h!==void 0&&(o[s]=h);const g=this.getTransition(s);g!==void 0&&(o[`${s}-transition`]=g)}return o}transitioned(o,s){const h=new G_(this._properties);for(const g of Object.keys(this._values))h._values[g]=this._values[g].transitioned(o,s._values[g]);return h}untransitioned(){const o=new G_(this._properties);for(const s of Object.keys(this._values))o._values[s]=this._values[s].untransitioned();return o}}class U_{constructor(o,s,h,g,f){const _=g.delay||0,F=g.duration||0;f=f||0,this.property=o,this.value=s,this.begin=f+_,this.end=this.begin+F,o.specification.transition&&(g.delay||g.duration)&&(this.prior=h)}possiblyEvaluate(o,s,h){const g=o.now||0,f=this.value.possiblyEvaluate(o,s,h),_=this.prior;if(_){if(g>this.end)return this.prior=null,f;if(this.value.isDataDriven())return this.prior=null,f;if(g<this.begin)return _.possiblyEvaluate(o,s,h);{const F=(g-this.begin)/(this.end-this.begin);return this.property.interpolate(_.possiblyEvaluate(o,s,h),f,rt(F))}}return f}}class G_{constructor(o){this._properties=o,this._values=Object.create(o.defaultTransitioningPropertyValues)}possiblyEvaluate(o,s,h){const g=new sd(this._properties);for(const f of Object.keys(this._values))g._values[f]=this._values[f].possiblyEvaluate(o,s,h);return g}hasTransition(){for(const o of Object.keys(this._values))if(this._values[o].prior)return!0;return!1}}class bv{constructor(o,s,h){this._properties=o,this._values=Object.create(o.defaultPropertyValues),this._scope=s,this._options=h,this.configDependencies=new Set}getValue(o){return Ln(this._values[o].value)}setValue(o,s){this._values[o]=new Ff(this._values[o].property,s===null?void 0:Ln(s),this._scope,this._options),this._values[o].expression.configDependencies&&(this.configDependencies=new Set([...this.configDependencies,...this._values[o].expression.configDependencies]))}serialize(){const o={};for(const s of Object.keys(this._values)){const h=this.getValue(s);h!==void 0&&(o[s]=h)}return o}possiblyEvaluate(o,s,h){const g=new sd(this._properties);for(const f of Object.keys(this._values))g._values[f]=this._values[f].possiblyEvaluate(o,s,h);return g}}class ad{constructor(o,s,h){this.property=o,this.value=s,this.parameters=h}isConstant(){return this.value.kind==="constant"}constantOr(o){return this.value.kind==="constant"?this.value.value:o}evaluate(o,s,h,g){return this.property.evaluate(this.value,this.parameters,o,s,h,g)}}class sd{constructor(o){this._properties=o,this._values=Object.create(o.defaultPossiblyEvaluatedValues)}get(o){return this._values[o]}}class Kt{constructor(o){this.specification=o}possiblyEvaluate(o,s){return o.expression.evaluate(s)}interpolate(o,s,h){const g=Qc[this.specification.type];return g?g(o,s,h):o}}class xi{constructor(o,s){this.specification=o,this.overrides=s}possiblyEvaluate(o,s,h,g){return new ad(this,o.expression.kind==="constant"||o.expression.kind==="camera"?{kind:"constant",value:o.expression.evaluate(s,null,{},h,g)}:o.expression,s)}interpolate(o,s,h){if(o.value.kind!=="constant"||s.value.kind!=="constant")return o;if(o.value.value===void 0||s.value.value===void 0)return new ad(this,{kind:"constant",value:void 0},o.parameters);const g=Qc[this.specification.type];return g?new ad(this,{kind:"constant",value:g(o.value.value,s.value.value,h)},o.parameters):o}evaluate(o,s,h,g,f,_){return o.kind==="constant"?o.value:o.evaluate(s,h,g,f,_)}}class cd{constructor(o){this.specification=o}possiblyEvaluate(o,s,h,g){return!!o.expression.evaluate(s,null,{},h,g)}interpolate(){return!1}}class io{constructor(o){this.properties=o,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const s=new _o(0,{});for(const h in o){const g=o[h];g.specification.overridable&&this.overridableProperties.push(h);const f=this.defaultPropertyValues[h]=new Ff(g,void 0),_=this.defaultTransitionablePropertyValues[h]=new tm(g);this.defaultTransitioningPropertyValues[h]=_.untransitioned(),this.defaultPossiblyEvaluatedValues[h]=f.possiblyEvaluate(s)}}}hi(xi,"DataDrivenProperty"),hi(Kt,"DataConstantProperty"),hi(cd,"ColorRampProperty");var ft=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"fragment":{"type":"boolean"},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360},"pitch":{"type":"number","default":0},"light":{"type":"light"},"lights":{"required":false,"type":"array","value":"light-3d"},"terrain":{"type":"terrain","optional":true},"fog":{"type":"fog"},"camera":{"type":"camera"},"color-theme":{"type":"colorTheme"},"imports":{"type":"array","value":"import"},"schema":{"type":"schema"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string","default":"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"},"models":{"type":"models"},"featuresets":{"experimental":true,"type":"featuresets"}},"featuresets":{"experimental":true,"*":{"type":"featureset"}},"featureset":{"experimental":true,"metadata":{"type":"*"},"selectors":{"type":"array","value":"selector"}},"selector":{"experimental":true,"layer":{"type":"string","required":true},"properties":{"type":"selectorProperty","required":false},"featureNamespace":{"type":"string","required":false}},"selectorProperty":{"experimental":true,"*":{"type":"*"}},"model":{"type":"string","required":true},"import":{"id":{"type":"string","required":true},"url":{"type":"string","required":true},"config":{"type":"config"},"data":{"type":"$root"}},"config":{"*":{"type":"*"}},"schema":{"*":{"type":"option"}},"option":{"default":{"type":"*","property-type":"data-constant","expression":{},"required":true},"type":{"type":"enum","values":{"string":1,"number":1,"boolean":1,"color":1}},"array":{"type":"boolean"},"minValue":{"type":"number"},"maxValue":{"type":"number"},"stepValue":{"type":"number"},"values":{"type":"array","value":"*"},"metadata":{"type":"*"}},"models":{"*":{"type":"model"}},"light-3d":{"id":{"type":"string","required":true},"properties":{"type":"properties"},"type":{"type":"enum","values":{"ambient":{},"directional":{},"flat":{}}}},"properties":["properties_light_directional","properties_light_ambient","properties_light_flat"],"properties_light_directional":{"direction":{"type":"array","default":[210,30],"minimum":[0,0],"maximum":[360,90],"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"cast-shadows":{"type":"boolean","default":false,"property-type":"data-constant"},"shadow-intensity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"properties_light_ambient":{"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"properties_light_flat":{"anchor":{"type":"enum","default":"viewport","values":{"map":1,"viewport":1},"property-type":"data-constant","expression":{"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_raster_array","source_geojson","source_video","source_image","source_model"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":1,"tms":1},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"scheme":{"type":"enum","values":{"xyz":1,"tms":1},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":1,"mapbox":1},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_array":{"experimental":true,"type":{"required":true,"type":"enum","values":{"raster-array":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"attribution":{"type":"string"},"rasterLayers":{"type":"*"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":1}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"minzoom":{"type":"number","default":0},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"},"dynamic":{"type":"boolean","default":false}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":1}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":1}},"url":{"required":false,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_model":{"type":{"required":true,"type":"enum","values":{"model":1,"batched-model":1}},"maxzoom":{"type":"number","default":18},"minzoom":{"type":"number","default":0},"tiles":{"type":"array","value":"string"}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"raster-particle":{"experimental":true},"hillshade":{},"model":{"experimental":true},"background":{},"sky":{},"slot":{},"clip":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"slot":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_clip","layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_raster-particle","layout_hillshade","layout_background","layout_sky","layout_model"],"layout_background":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_model":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"model-id":{"type":"string","default":"","property-type":"data-driven","expression":{"parameters":["zoom","feature"]}}},"layout_clip":{"clip-layer-types":{"type":"array","value":"enum","values":{"model":1,"symbol":1},"default":[],"expression":{},"property-type":"data-constant","experimental":true},"clip-layer-scope":{"type":"array","value":"string","default":[],"expression":{},"property-type":"data-constant","experimental":true}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"fill-elevation-reference":{"type":"enum","values":{"none":1,"hd-road-base":1,"hd-road-markup":1},"default":"none","experimental":true,"private":true,"expression":{},"property-type":"data-constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","experimental":true,"default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":1,"round":1,"square":1},"default":"butt","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":1,"round":1,"miter":1,"none":1},"default":"miter","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-z-offset":{"type":"number","experimental":true,"default":0,"expression":{"parameters":["zoom","feature","line-progress"]},"property-type":"data-driven"},"line-elevation-reference":{"type":"enum","values":{"none":1,"sea":1,"ground":1,"hd-road-markup":1},"default":"none","experimental":true,"expression":{},"property-type":"data-constant"},"line-cross-slope":{"type":"number","experimental":true,"expression":{},"property-type":"constant"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":1,"line":1,"line-center":1},"default":"point","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":1,"viewport-y":1,"source":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-z-elevate":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-elevation-reference":{"type":"enum","values":{"sea":1,"ground":1,"hd-road-markup":1},"default":"ground","experimental":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-size-scale-range":{"type":"array","value":"number","length":2,"default":[0.8,2],"minimum":0.1,"maximum":10,"experimental":true,"private":true,"expression":{},"property-type":"data-constant"},"icon-text-fit":{"type":"enum","values":{"none":1,"width":1,"height":1,"both":1},"default":"none","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size-scale-range":{"type":"array","value":"number","length":2,"default":[0.8,2],"minimum":0.1,"maximum":10,"experimental":true,"private":true,"expression":{},"property-type":"data-constant"},"text-max-width":{"type":"number","default":10,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":1,"left":1,"center":1,"right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","default":0,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":1,"vertical":1},"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":1,"uppercase":1,"lowercase":1},"default":"none","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","length":2,"default":[0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_raster-particle":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_hillshade":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_raster":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_raster-particle":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_clip":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_model":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":1,"!=":1,">":1,">=":1,"<":1,"<=":1,"in":1,"!in":1,"all":1,"any":1,"none":1,"has":1,"!has":1}},"geometry_type":{"type":"enum","values":{"Point":1,"LineString":1,"Polygon":1}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":1,"exponential":1,"interval":1,"categorical":1},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":1,"lab":1,"hcl":1},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vertical-range":{"type":"array","default":[0,0],"minimum":0,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}}},"snow":{"density":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"opacity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vignette":{"type":"number","property-type":"data-constant","default":0,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"centerThinning":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"direction":{"type":"array","default":[0,90],"minimum":0,"maximum":360,"length":2,"value":"number","property-type":"data-constant","transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}}},"rain":{"density":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"opacity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vignette":{"type":"number","property-type":"data-constant","default":0,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"centerThinning":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"direction":{"type":"array","default":[0,80],"minimum":0,"maximum":360,"length":2,"value":"number","property-type":"data-constant","transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}}},"camera":{"camera-projection":{"type":"enum","values":{"perspective":1,"orthographic":1},"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"default":"perspective","property-type":"data-constant"}},"colorTheme":{"data":{"type":"string","property-type":"data-constant","expression":{}}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":1,"viewport":1},"property-type":"data-constant","expression":{"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":1,"equalEarth":1,"equirectangular":1,"lambertConformalConic":1,"mercator":1,"naturalEarth":1,"winkelTripel":1,"globe":1},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_raster-particle","paint_hillshade","paint_background","paint_sky","paint_model"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"fill-z-offset":{"type":"number","default":0,"minimum":0,"transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-height-alignment":{"type":"enum","experimental":true,"values":{"terrain":1,"flat":1},"default":"flat","property-type":"data-constant"},"fill-extrusion-base-alignment":{"type":"enum","experimental":true,"values":{"terrain":1,"flat":1},"default":"terrain","property-type":"data-constant"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-wall-radius":{"property-type":"data-constant","type":"number","experimental":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-ground-radius":{"property-type":"data-constant","type":"number","experimental":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-ground-attenuation":{"property-type":"data-constant","type":"number","experimental":true,"default":0.69,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-flood-light-color":{"property-type":"data-constant","type":"color","experimental":true,"default":"#ffffff","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]}},"fill-extrusion-flood-light-intensity":{"property-type":"data-constant","type":"number","experimental":true,"default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]}},"fill-extrusion-flood-light-wall-radius":{"property-type":"data-driven","type":"number","experimental":true,"default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["feature","feature-state"]}},"fill-extrusion-flood-light-ground-radius":{"property-type":"data-driven","type":"number","experimental":true,"default":0,"transition":true,"expression":{"interpolated":true,"parameters":["feature","feature-state"]}},"fill-extrusion-flood-light-ground-attenuation":{"property-type":"data-constant","type":"number","experimental":true,"default":0.69,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-vertical-scale":{"property-type":"data-constant","type":"number","experimental":true,"default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-rounded-roof":{"property-type":"data-constant","type":"boolean","default":true,"experimental":true,"expression":{"parameters":["zoom"]}},"fill-extrusion-cutoff-fade-range":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"fill-extrusion-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light","feature-state"]},"property-type":"data-driven"},"fill-extrusion-line-width":{"type":"number","default":0,"minimum":0,"transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-extrusion-cast-shadows":{"type":"boolean","default":true,"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"property-type":"constant"},"line-trim-fade-range":{"type":"array","value":"number","experimental":true,"length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"line-trim-color":{"type":"color","experimental":true,"default":"transparent","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"line-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"line-border-width":{"type":"number","private":true,"default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-border-color":{"type":"color","private":true,"default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-occlusion-opacity":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"property-type":"data-constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1},"default":"viewport","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-occlusion-opacity":{"type":"number","minimum":0,"maximum":1,"default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-emissive-strength":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light","feature-state"]},"property-type":"data-driven"},"text-emissive-strength":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-image-cross-fade":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"transition":true},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-occlusion-opacity":{"type":"number","minimum":0,"maximum":1,"default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-color-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"expression":{},"property-type":"data-constant"},"icon-color-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"expression":{},"property-type":"data-constant"},"icon-color-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"icon-color-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"symbol-z-offset":{"type":"number","default":0,"minimum":0,"transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-color":{"type":"color","expression":{"interpolated":true,"parameters":["raster-value"]},"property-type":"color-ramp"},"raster-color-mix":{"type":"array","default":[0.2126,0.7152,0.0722,0],"length":4,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"raster-color-range":{"type":"array","length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":1,"nearest":1},"default":"linear","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"raster-array-band":{"type":"string","required":false,"experimental":true,"property-type":"data-constant"},"raster-elevation":{"type":"number","default":0,"minimum":0,"transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster-particle":{"raster-particle-array-band":{"type":"string","required":false,"property-type":"data-constant"},"raster-particle-count":{"type":"number","default":512,"minimum":1,"property-type":"data-constant"},"raster-particle-color":{"type":"color","expression":{"interpolated":true,"parameters":["raster-particle-speed"]},"property-type":"color-ramp"},"raster-particle-max-speed":{"type":"number","default":1,"minimum":1,"property-type":"data-constant"},"raster-particle-speed-factor":{"type":"number","default":0.2,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-particle-fade-opacity-factor":{"type":"number","default":0.98,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-particle-reset-rate-factor":{"type":"number","default":0.8,"minimum":0,"maximum":1,"property-type":"data-constant"},"raster-particle-elevation":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"viewport","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_background":{"background-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":[]},"property-type":"data-constant"},"background-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":1,"atmosphere":1},"default":"atmosphere","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"minimum":[0,0],"maximum":[360,180],"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","default":10,"minimum":0,"maximum":100,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","value":"number","default":[0,0],"length":2,"minimum":[0,0],"maximum":[360,180],"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","default":90,"minimum":0,"maximum":180,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_model":{"model-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"model-rotation":{"type":"array","value":"number","length":3,"default":[0,0,0],"period":360,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-scale":{"type":"array","value":"number","length":3,"default":[1,1,1],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-translation":{"type":"array","value":"number","length":3,"default":[0,0,0],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-color":{"type":"color","default":"#ffffff","property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light","zoom"]},"transition":true},"model-color-mix-intensity":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-type":{"type":"enum","values":{"common-3d":1,"location-indicator":1},"default":"common-3d","property-type":"data-constant"},"model-cast-shadows":{"type":"boolean","default":true,"property-type":"data-constant"},"model-receive-shadows":{"type":"boolean","default":true,"property-type":"data-constant"},"model-ambient-occlusion-intensity":{"type":"number","default":1,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant","transition":true},"model-emissive-strength":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":5,"expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-roughness":{"type":"number","default":1,"minimum":0,"maximum":1,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state"]},"transition":true},"model-height-based-emissive-strength-multiplier":{"type":"array","default":[1,1,1,1,0],"length":5,"value":"number","property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-cutoff-fade-range":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"model-front-cutoff":{"type":"array","private":true,"value":"number","property-type":"data-constant","expression":{"interpolated":true,"parameters":["zoom"]},"length":3,"default":[0,0,1],"minimum":[0,0,0],"maximum":[1,1,1]}},"transition":{"duration":{"type":"number","default":300,"minimum":0},"delay":{"type":"number","default":0,"minimum":0}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function im(u){return u instanceof Number||u instanceof String||u instanceof Boolean?u.valueOf():u}function al(u){if(Array.isArray(u))return u.map(al);if(u instanceof Object&&!(u instanceof Number||u instanceof String||u instanceof Boolean)){const o={};for(const s in u)o[s]=al(u[s]);return o}return im(u)}function nm(u){if(u===!0||u===!1)return!0;if(!Array.isArray(u)||u.length===0)return!1;switch(u[0]){case"has":return u.length>=2&&u[1]!=="$id"&&u[1]!=="$type";case"in":return u.length>=3&&(typeof u[1]!="string"||Array.isArray(u[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return u.length!==3||Array.isArray(u[1])||Array.isArray(u[2]);case"any":case"all":for(const o of u.slice(1))if(!nm(o)&&typeof o!="boolean")return!1;return!0;default:return!0}}function Cf(u,o="",s=null,h="fill"){if(u==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};nm(u)||(u=Ef(u));const g=u;let f=!0;try{f=function(v){if(!es(v))return v;let T=al(v);return om(T),T=$s(T),T}(g)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(g,null,2)}
        `)}let _=null,F=null;if(h!=="background"&&h!=="sky"&&h!=="slot"){F=ft[`filter_${h}`];const v=od(f,F,o,s);if(v.result==="error")throw new Error(v.value.map(T=>`${T.key}: ${T.message}`).join(", "));_=(T,I,S)=>v.value.evaluate(T,I,{},S)}let R=null,M=null;if(f!==g){const v=od(g,F,o,s);if(v.result==="error")throw new Error(v.value.map(T=>`${T.key}: ${T.message}`).join(", "));R=(T,I,S,P,D)=>v.value.evaluate(T,I,{},S,void 0,void 0,P,D),M=!Iu(v.value.expression)}return{filter:_,dynamicFilter:R||void 0,needGeometry:H_(f),needFeature:!!M}}function $s(u){if(!Array.isArray(u))return u;const o=function(s){if(vv.has(s[0])){for(let h=1;h<s.length;h++)if(es(s[h]))return!0}return s}(u);return o===!0?o:o.map(s=>$s(s))}function om(u){let o=!1;const s=[];if(u[0]==="case"){for(let h=1;h<u.length-1;h+=2)o=o||es(u[h]),s.push(u[h+1]);s.push(u[u.length-1])}else if(u[0]==="match"){o=o||es(u[1]);for(let h=2;h<u.length-1;h+=2)s.push(u[h+1]);s.push(u[u.length-1])}else if(u[0]==="step"){o=o||es(u[1]);for(let h=1;h<u.length-1;h+=2)s.push(u[h+1])}o&&(u.length=0,u.push("any",...s));for(let h=1;h<u.length;h++)om(u[h])}function es(u){if(!Array.isArray(u))return!1;if((o=u[0])==="pitch"||o==="distance-from-center")return!0;var o;for(let s=1;s<u.length;s++)if(es(u[s]))return!0;return!1}const vv=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function xv(u,o){return u<o?-1:u>o?1:0}function H_(u){if(!Array.isArray(u))return!1;if(u[0]==="within"||u[0]==="distance")return!0;for(let o=1;o<u.length;o++)if(H_(u[o]))return!0;return!1}function Ef(u){if(!u)return!0;const o=u[0];return u.length<=1?o!=="any":o==="=="?rm(u[1],u[2],"=="):o==="!="?sl(rm(u[1],u[2],"==")):o==="<"||o===">"||o==="<="||o===">="?rm(u[1],u[2],o):o==="any"?(s=u.slice(1),["any"].concat(s.map(Ef))):o==="all"?["all"].concat(u.slice(1).map(Ef)):o==="none"?["all"].concat(u.slice(1).map(Ef).map(sl)):o==="in"?am(u[1],u.slice(2)):o==="!in"?sl(am(u[1],u.slice(2))):o==="has"?Sf(u[1]):o!=="!has"||sl(Sf(u[1]));var s}function rm(u,o,s){switch(u){case"$type":return[`filter-type-${s}`,o];case"$id":return[`filter-id-${s}`,o];default:return[`filter-${s}`,u,o]}}function am(u,o){if(o.length===0)return!1;switch(u){case"$type":return["filter-type-in",["literal",o]];case"$id":return["filter-id-in",["literal",o]];default:return o.length>200&&!o.some(s=>typeof s!=typeof o[0])?["filter-in-large",u,["literal",o.sort(xv)]]:["filter-in-small",u,["literal",o]]}}function Sf(u){switch(u){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",u]}}function sl(u){return["!",u]}const Uu="";function Tf(u,o){return o?`${u}${Uu}${o}`:u}const q_="-transition",_s=new Set(["fill","line","background","hillshade","raster"]);class Hr extends Bl{constructor(o,s,h,g,f){if(super(),this.id=o.id,this.fqid=Tf(this.id,h),this.type=o.type,this.scope=h,this.lut=g,this.options=f,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,this.configDependencies=new Set,o.type!=="custom"){if(this.metadata=o.metadata,this.minzoom=o.minzoom,this.maxzoom=o.maxzoom,o.type&&o.type!=="background"&&o.type!=="sky"&&o.type!=="slot"){this.source=o.source,this.sourceLayer=o["source-layer"],this.filter=o.filter;const _=od(this.filter,ft[`filter_${o.type}`]);_.result!=="error"&&(this.configDependencies=new Set([...this.configDependencies,..._.value.configDependencies]))}if(o.slot&&(this.slot=o.slot),s.layout&&(this._unevaluatedLayout=new bv(s.layout,this.scope,f),this.configDependencies=new Set([...this.configDependencies,...this._unevaluatedLayout.configDependencies])),s.paint){this._transitionablePaint=new $_(s.paint,this.scope,f);for(const _ in o.paint)this.setPaintProperty(_,o.paint[_]);for(const _ in o.layout)this.setLayoutProperty(_,o.layout[_]);this.configDependencies=new Set([...this.configDependencies,...this._transitionablePaint.configDependencies]),this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new sd(s.paint)}}}onAdd(o){}onRemove(o){}isDraped(o){return!this.is3D()&&_s.has(this.type)}getLayoutProperty(o){return o==="visibility"?this.visibility:this._unevaluatedLayout.getValue(o)}setLayoutProperty(o,s){if(this.type==="custom"&&o==="visibility")return void(this.visibility=s);const h=this._unevaluatedLayout;h._properties.properties[o]&&(h.setValue(o,s),this.configDependencies=new Set([...this.configDependencies,...h.configDependencies]),o==="visibility"&&this.possiblyEvaluateVisibility())}possiblyEvaluateVisibility(){this._unevaluatedLayout._values.visibility&&(this.visibility=this._unevaluatedLayout._values.visibility.possiblyEvaluate({zoom:0}))}getPaintProperty(o){return sn(o,q_)?this._transitionablePaint.getTransition(o.slice(0,-11)):this._transitionablePaint.getValue(o)}setPaintProperty(o,s){const h=this._transitionablePaint,g=h._properties.properties;if(sn(o,q_)){const T=o.slice(0,-11);return g[T]&&h.setTransition(T,s||void 0),!1}if(!g[o])return!1;const f=h._values[o],_=f.value.isDataDriven(),F=f.value;h.setValue(o,s),this.configDependencies=new Set([...this.configDependencies,...h.configDependencies]),this._handleSpecialPaintPropertyUpdate(o);const R=h._values[o].value,M=R.isDataDriven(),v=sn(o,"pattern")||o==="line-dasharray";return M||_||v||this._handleOverridablePaintPropertyUpdate(o,F,R)}_handleSpecialPaintPropertyUpdate(o){}getProgramIds(){return null}getDefaultProgramParams(o,s,h){return null}_handleOverridablePaintPropertyUpdate(o,s,h){return!1}isHidden(o){return!!(this.minzoom&&o<this.minzoom)||!!(this.maxzoom&&o>=this.maxzoom)||this.visibility==="none"}updateTransitions(o){this._transitioningPaint=this._transitionablePaint.transitioned(o,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(o,s){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(o,void 0,s)),this.paint=this._transitioningPaint.possiblyEvaluate(o,void 0,s)}serialize(){return Or({id:this.id,type:this.type,slot:this.slot,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()},(o,s)=>!(o===void 0||s==="layout"&&!Object.keys(o).length||s==="paint"&&!Object.keys(o).length))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}hasShadowPass(){return!1}canCastShadows(){return!1}hasLightBeamPass(){return!1}cutoffRange(){return 0}tileCoverLift(){return 0}resize(){}isStateDependent(){for(const o in this.paint._values){const s=this.paint.get(o);if(s instanceof ad&&il(s.property.specification)&&(s.value.kind==="source"||s.value.kind==="composite")&&s.value.isStateDependent)return!0}return!1}compileFilter(o){this._filterCompiled||(this._featureFilter=Cf(this.filter,this.scope,o),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}getLayerRenderingStats(){return this._stats}resetLayerRenderingStats(o){this._stats&&(o.renderPass==="shadow"?this._stats.numRenderedVerticesInShadowPass=0:this._stats.numRenderedVerticesInTransparentPass=0)}queryRadius(o){}queryIntersectsFeature(o,s,h,g,f,_,F,R,M){}queryIntersectsMatchingFeature(o,s,h,g){}}const W_={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Gu{constructor(o,s){this._structArray=o,this._pos1=s*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class no{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(o,s){return o._trim(),s&&(o.isTransferred=!0,s.add(o.arrayBuffer)),{length:o.length,arrayBuffer:o.arrayBuffer}}static deserialize(o){const s=Object.create(this.prototype);return s.arrayBuffer=o.arrayBuffer,s.length=o.length,s.capacity=o.arrayBuffer.byteLength/s.bytesPerElement,s._refreshViews(),s}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(o){this.reserve(o),this.length=o}reserve(o){if(o>this.capacity){this.capacity=Math.max(o,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const s=this.uint8;this._refreshViews(),s&&this.uint8.set(s)}}_refreshViews(){throw new Error("StructArray#_refreshViews() must be implemented by each concrete StructArray layout")}emplace(...o){throw new Error("StructArray#emplace() must be implemented by each concrete StructArray layout")}emplaceBack(...o){throw new Error("StructArray#emplaceBack() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function xn(u,o=1){let s=0,h=0;return{members:u.map(g=>{const f=W_[g.type].BYTES_PER_ELEMENT,_=s=K_(s,Math.max(o,f)),F=g.components||1;return h=Math.max(h,f),s+=f*F,{name:g.name,type:g.type,components:F,offset:_}}),size:K_(s,Math.max(h,o)),alignment:o}}function K_(u,o){return Math.ceil(u/o)*o}class Sc extends no{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,s){const h=this.length;return this.resize(h+1),this.emplace(h,o,s)}emplace(o,s,h){const g=2*o;return this.int16[g+0]=s,this.int16[g+1]=h,o}}Sc.prototype.bytesPerElement=4,hi(Sc,"StructArrayLayout2i4");class Rf extends no{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,s,h){const g=this.length;return this.resize(g+1),this.emplace(g,o,s,h)}emplace(o,s,h,g){const f=3*o;return this.int16[f+0]=s,this.int16[f+1]=h,this.int16[f+2]=g,o}}Rf.prototype.bytesPerElement=6,hi(Rf,"StructArrayLayout3i6");class ld extends no{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,s,h,g){const f=this.length;return this.resize(f+1),this.emplace(f,o,s,h,g)}emplace(o,s,h,g,f){const _=4*o;return this.int16[_+0]=s,this.int16[_+1]=h,this.int16[_+2]=g,this.int16[_+3]=f,o}}ld.prototype.bytesPerElement=8,hi(ld,"StructArrayLayout4i8");class sm extends no{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,s,h,g,f){const _=this.length;return this.resize(_+1),this.emplace(_,o,s,h,g,f)}emplace(o,s,h,g,f,_){const F=5*o;return this.int16[F+0]=s,this.int16[F+1]=h,this.int16[F+2]=g,this.int16[F+3]=f,this.int16[F+4]=_,o}}sm.prototype.bytesPerElement=10,hi(sm,"StructArrayLayout5i10");class Hu extends no{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,s,h,g,f,_,F){const R=this.length;return this.resize(R+1),this.emplace(R,o,s,h,g,f,_,F)}emplace(o,s,h,g,f,_,F,R){const M=6*o,v=12*o,T=3*o;return this.int16[M+0]=s,this.int16[M+1]=h,this.uint8[v+4]=g,this.uint8[v+5]=f,this.uint8[v+6]=_,this.uint8[v+7]=F,this.float32[T+2]=R,o}}Hu.prototype.bytesPerElement=12,hi(Hu,"StructArrayLayout2i4ub1f12");class Us extends no{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,s,h,g){const f=this.length;return this.resize(f+1),this.emplace(f,o,s,h,g)}emplace(o,s,h,g,f){const _=4*o;return this.float32[_+0]=s,this.float32[_+1]=h,this.float32[_+2]=g,this.float32[_+3]=f,o}}Us.prototype.bytesPerElement=16,hi(Us,"StructArrayLayout4f16");class Tc extends no{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,s,h){const g=this.length;return this.resize(g+1),this.emplace(g,o,s,h)}emplace(o,s,h,g){const f=3*o;return this.float32[f+0]=s,this.float32[f+1]=h,this.float32[f+2]=g,o}}Tc.prototype.bytesPerElement=12,hi(Tc,"StructArrayLayout3f12");class Gs extends no{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,s,h,g,f){const _=this.length;return this.resize(_+1),this.emplace(_,o,s,h,g,f)}emplace(o,s,h,g,f,_){const F=6*o,R=3*o;return this.uint16[F+0]=s,this.uint16[F+1]=h,this.uint16[F+2]=g,this.uint16[F+3]=f,this.float32[R+2]=_,o}}Gs.prototype.bytesPerElement=12,hi(Gs,"StructArrayLayout4ui1f12");class Pf extends no{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,s,h,g){const f=this.length;return this.resize(f+1),this.emplace(f,o,s,h,g)}emplace(o,s,h,g,f){const _=4*o;return this.uint16[_+0]=s,this.uint16[_+1]=h,this.uint16[_+2]=g,this.uint16[_+3]=f,o}}Pf.prototype.bytesPerElement=8,hi(Pf,"StructArrayLayout4ui8");class qu extends no{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,s,h,g,f,_){const F=this.length;return this.resize(F+1),this.emplace(F,o,s,h,g,f,_)}emplace(o,s,h,g,f,_,F){const R=6*o;return this.int16[R+0]=s,this.int16[R+1]=h,this.int16[R+2]=g,this.int16[R+3]=f,this.int16[R+4]=_,this.int16[R+5]=F,o}}qu.prototype.bytesPerElement=12,hi(qu,"StructArrayLayout6i12");class dd extends no{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,s,h,g,f,_,F,R,M,v,T,I){const S=this.length;return this.resize(S+1),this.emplace(S,o,s,h,g,f,_,F,R,M,v,T,I)}emplace(o,s,h,g,f,_,F,R,M,v,T,I,S){const P=12*o;return this.int16[P+0]=s,this.int16[P+1]=h,this.int16[P+2]=g,this.int16[P+3]=f,this.uint16[P+4]=_,this.uint16[P+5]=F,this.uint16[P+6]=R,this.uint16[P+7]=M,this.int16[P+8]=v,this.int16[P+9]=T,this.int16[P+10]=I,this.int16[P+11]=S,o}}dd.prototype.bytesPerElement=24,hi(dd,"StructArrayLayout4i4ui4i24");class cm extends no{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,s,h,g,f,_){const F=this.length;return this.resize(F+1),this.emplace(F,o,s,h,g,f,_)}emplace(o,s,h,g,f,_,F){const R=10*o,M=5*o;return this.int16[R+0]=s,this.int16[R+1]=h,this.int16[R+2]=g,this.float32[M+2]=f,this.float32[M+3]=_,this.float32[M+4]=F,o}}cm.prototype.bytesPerElement=20,hi(cm,"StructArrayLayout3i3f20");class lm extends no{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(o){const s=this.length;return this.resize(s+1),this.emplace(s,o)}emplace(o,s){return this.uint32[1*o+0]=s,o}}lm.prototype.bytesPerElement=4,hi(lm,"StructArrayLayout1ul4");class Rc extends no{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,s){const h=this.length;return this.resize(h+1),this.emplace(h,o,s)}emplace(o,s,h){const g=2*o;return this.uint16[g+0]=s,this.uint16[g+1]=h,o}}Rc.prototype.bytesPerElement=4,hi(Rc,"StructArrayLayout2ui4");class dm extends no{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,s,h,g,f,_,F,R,M,v,T,I,S){const P=this.length;return this.resize(P+1),this.emplace(P,o,s,h,g,f,_,F,R,M,v,T,I,S)}emplace(o,s,h,g,f,_,F,R,M,v,T,I,S,P){const D=20*o,N=10*o;return this.int16[D+0]=s,this.int16[D+1]=h,this.int16[D+2]=g,this.int16[D+3]=f,this.int16[D+4]=_,this.float32[N+3]=F,this.float32[N+4]=R,this.float32[N+5]=M,this.float32[N+6]=v,this.int16[D+14]=T,this.uint32[N+8]=I,this.uint16[D+18]=S,this.uint16[D+19]=P,o}}dm.prototype.bytesPerElement=40,hi(dm,"StructArrayLayout5i4f1i1ul2ui40");class If extends no{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,s,h,g,f,_,F){const R=this.length;return this.resize(R+1),this.emplace(R,o,s,h,g,f,_,F)}emplace(o,s,h,g,f,_,F,R){const M=8*o;return this.int16[M+0]=s,this.int16[M+1]=h,this.int16[M+2]=g,this.int16[M+4]=f,this.int16[M+5]=_,this.int16[M+6]=F,this.int16[M+7]=R,o}}If.prototype.bytesPerElement=16,hi(If,"StructArrayLayout3i2i2i16");class ud extends no{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,s,h,g,f){const _=this.length;return this.resize(_+1),this.emplace(_,o,s,h,g,f)}emplace(o,s,h,g,f,_){const F=4*o,R=8*o;return this.float32[F+0]=s,this.float32[F+1]=h,this.float32[F+2]=g,this.int16[R+6]=f,this.int16[R+7]=_,o}}ud.prototype.bytesPerElement=16,hi(ud,"StructArrayLayout2f1f2i16");class hd extends no{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,s,h,g,f,_){const F=this.length;return this.resize(F+1),this.emplace(F,o,s,h,g,f,_)}emplace(o,s,h,g,f,_,F){const R=20*o,M=5*o;return this.uint8[R+0]=s,this.uint8[R+1]=h,this.float32[M+1]=g,this.float32[M+2]=f,this.float32[M+3]=_,this.float32[M+4]=F,o}}hd.prototype.bytesPerElement=20,hi(hd,"StructArrayLayout2ub4f20");class fo extends no{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,s,h){const g=this.length;return this.resize(g+1),this.emplace(g,o,s,h)}emplace(o,s,h,g){const f=3*o;return this.uint16[f+0]=s,this.uint16[f+1]=h,this.uint16[f+2]=g,o}}fo.prototype.bytesPerElement=6,hi(fo,"StructArrayLayout3ui6");class fd extends no{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(o,s,h,g,f,_,F,R,M,v,T,I,S,P,D,N,U,Z,X,q,te){const ie=this.length;return this.resize(ie+1),this.emplace(ie,o,s,h,g,f,_,F,R,M,v,T,I,S,P,D,N,U,Z,X,q,te)}emplace(o,s,h,g,f,_,F,R,M,v,T,I,S,P,D,N,U,Z,X,q,te,ie){const de=30*o,Ee=15*o,be=60*o;return this.int16[de+0]=s,this.int16[de+1]=h,this.int16[de+2]=g,this.float32[Ee+2]=f,this.float32[Ee+3]=_,this.uint16[de+8]=F,this.uint16[de+9]=R,this.uint32[Ee+5]=M,this.uint32[Ee+6]=v,this.uint32[Ee+7]=T,this.uint16[de+16]=I,this.uint16[de+17]=S,this.uint16[de+18]=P,this.float32[Ee+10]=D,this.float32[Ee+11]=N,this.uint8[be+48]=U,this.uint8[be+49]=Z,this.uint8[be+50]=X,this.uint32[Ee+13]=q,this.int16[de+28]=te,this.uint8[be+58]=ie,o}}fd.prototype.bytesPerElement=60,hi(fd,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class um extends no{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(o,s,h,g,f,_,F,R,M,v,T,I,S,P,D,N,U,Z,X,q,te,ie,de,Ee,be,xe,Ve,ve,Be,We,Ke,tt){const ht=this.length;return this.resize(ht+1),this.emplace(ht,o,s,h,g,f,_,F,R,M,v,T,I,S,P,D,N,U,Z,X,q,te,ie,de,Ee,be,xe,Ve,ve,Be,We,Ke,tt)}emplace(o,s,h,g,f,_,F,R,M,v,T,I,S,P,D,N,U,Z,X,q,te,ie,de,Ee,be,xe,Ve,ve,Be,We,Ke,tt,ht){const mt=20*o,lt=40*o,Pt=80*o;return this.float32[mt+0]=s,this.float32[mt+1]=h,this.int16[lt+4]=g,this.int16[lt+5]=f,this.int16[lt+6]=_,this.int16[lt+7]=F,this.int16[lt+8]=R,this.int16[lt+9]=M,this.int16[lt+10]=v,this.int16[lt+11]=T,this.int16[lt+12]=I,this.uint16[lt+13]=S,this.uint16[lt+14]=P,this.uint16[lt+15]=D,this.uint16[lt+16]=N,this.uint16[lt+17]=U,this.uint16[lt+18]=Z,this.uint16[lt+19]=X,this.uint16[lt+20]=q,this.uint16[lt+21]=te,this.uint16[lt+22]=ie,this.uint16[lt+23]=de,this.uint16[lt+24]=Ee,this.uint16[lt+25]=be,this.uint16[lt+26]=xe,this.uint16[lt+27]=Ve,this.uint32[mt+14]=ve,this.float32[mt+15]=Be,this.float32[mt+16]=We,this.float32[mt+17]=Ke,this.float32[mt+18]=tt,this.uint8[Pt+76]=ht,o}}um.prototype.bytesPerElement=80,hi(um,"StructArrayLayout2f9i15ui1ul4f1ub80");class pd extends no{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o){const s=this.length;return this.resize(s+1),this.emplace(s,o)}emplace(o,s){return this.float32[1*o+0]=s,o}}pd.prototype.bytesPerElement=4,hi(pd,"StructArrayLayout1f4");class cl extends no{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,s,h,g,f){const _=this.length;return this.resize(_+1),this.emplace(_,o,s,h,g,f)}emplace(o,s,h,g,f,_){const F=5*o;return this.float32[F+0]=s,this.float32[F+1]=h,this.float32[F+2]=g,this.float32[F+3]=f,this.float32[F+4]=_,o}}cl.prototype.bytesPerElement=20,hi(cl,"StructArrayLayout5f20");class hm extends no{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,s,h,g,f,_,F){const R=this.length;return this.resize(R+1),this.emplace(R,o,s,h,g,f,_,F)}emplace(o,s,h,g,f,_,F,R){const M=7*o;return this.float32[M+0]=s,this.float32[M+1]=h,this.float32[M+2]=g,this.float32[M+3]=f,this.float32[M+4]=_,this.float32[M+5]=F,this.float32[M+6]=R,o}}hm.prototype.bytesPerElement=28,hi(hm,"StructArrayLayout7f28");class kf extends no{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,s,h,g,f,_,F,R,M,v,T){const I=this.length;return this.resize(I+1),this.emplace(I,o,s,h,g,f,_,F,R,M,v,T)}emplace(o,s,h,g,f,_,F,R,M,v,T,I){const S=11*o;return this.float32[S+0]=s,this.float32[S+1]=h,this.float32[S+2]=g,this.float32[S+3]=f,this.float32[S+4]=_,this.float32[S+5]=F,this.float32[S+6]=R,this.float32[S+7]=M,this.float32[S+8]=v,this.float32[S+9]=T,this.float32[S+10]=I,o}}kf.prototype.bytesPerElement=44,hi(kf,"StructArrayLayout11f44");class Z_ extends no{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,s,h,g,f,_,F,R,M){const v=this.length;return this.resize(v+1),this.emplace(v,o,s,h,g,f,_,F,R,M)}emplace(o,s,h,g,f,_,F,R,M,v){const T=9*o;return this.float32[T+0]=s,this.float32[T+1]=h,this.float32[T+2]=g,this.float32[T+3]=f,this.float32[T+4]=_,this.float32[T+5]=F,this.float32[T+6]=R,this.float32[T+7]=M,this.float32[T+8]=v,o}}Z_.prototype.bytesPerElement=36,hi(Z_,"StructArrayLayout9f36");class Wu extends no{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,s,h,g){const f=this.length;return this.resize(f+1),this.emplace(f,o,s,h,g)}emplace(o,s,h,g,f){const _=6*o;return this.uint32[3*o+0]=s,this.uint16[_+2]=h,this.uint16[_+3]=g,this.uint16[_+4]=f,o}}Wu.prototype.bytesPerElement=12,hi(Wu,"StructArrayLayout1ul3ui12");class fm extends no{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o){const s=this.length;return this.resize(s+1),this.emplace(s,o)}emplace(o,s){return this.uint16[1*o+0]=s,o}}fm.prototype.bytesPerElement=2,hi(fm,"StructArrayLayout1ui2");class Ku extends no{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,s){const h=this.length;return this.resize(h+1),this.emplace(h,o,s)}emplace(o,s,h){const g=2*o;return this.float32[g+0]=s,this.float32[g+1]=h,o}}Ku.prototype.bytesPerElement=8,hi(Ku,"StructArrayLayout2f8");class Zu extends no{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,s,h,g,f,_,F,R,M,v,T,I,S,P,D,N){const U=this.length;return this.resize(U+1),this.emplace(U,o,s,h,g,f,_,F,R,M,v,T,I,S,P,D,N)}emplace(o,s,h,g,f,_,F,R,M,v,T,I,S,P,D,N,U){const Z=16*o;return this.float32[Z+0]=s,this.float32[Z+1]=h,this.float32[Z+2]=g,this.float32[Z+3]=f,this.float32[Z+4]=_,this.float32[Z+5]=F,this.float32[Z+6]=R,this.float32[Z+7]=M,this.float32[Z+8]=v,this.float32[Z+9]=T,this.float32[Z+10]=I,this.float32[Z+11]=S,this.float32[Z+12]=P,this.float32[Z+13]=D,this.float32[Z+14]=N,this.float32[Z+15]=U,o}}Zu.prototype.bytesPerElement=64,hi(Zu,"StructArrayLayout16f64");class Mf extends no{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,s,h,g,f,_,F){const R=this.length;return this.resize(R+1),this.emplace(R,o,s,h,g,f,_,F)}emplace(o,s,h,g,f,_,F,R){const M=10*o,v=5*o;return this.uint16[M+0]=s,this.uint16[M+1]=h,this.uint16[M+2]=g,this.uint16[M+3]=f,this.float32[v+2]=_,this.float32[v+3]=F,this.float32[v+4]=R,o}}Mf.prototype.bytesPerElement=20,hi(Mf,"StructArrayLayout4ui3f20");class Af extends no{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o){const s=this.length;return this.resize(s+1),this.emplace(s,o)}emplace(o,s){return this.int16[1*o+0]=s,o}}Af.prototype.bytesPerElement=2,hi(Af,"StructArrayLayout1i2");class Of extends no{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer)}emplaceBack(o){const s=this.length;return this.resize(s+1),this.emplace(s,o)}emplace(o,s){return this.uint8[1*o+0]=s,o}}Of.prototype.bytesPerElement=1,hi(Of,"StructArrayLayout1ub1");class Q_ extends Gu{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}Q_.prototype.size=40;class Lf extends dm{get(o){return new Q_(this,o)}}hi(Lf,"CollisionBoxArray");class Qu extends Gu{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(o){this._structArray.uint8[this._pos1+49]=o}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(o){this._structArray.uint8[this._pos1+50]=o}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(o){this._structArray.uint32[this._pos4+13]=o}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(o){this._structArray.uint8[this._pos1+58]=o}}Qu.prototype.size=60;class pm extends fd{get(o){return new Qu(this,o)}}hi(pm,"PlacedSymbolArray");class X_ extends Gu{get tileAnchorX(){return this._structArray.float32[this._pos4+0]}get tileAnchorY(){return this._structArray.float32[this._pos4+1]}get projectedAnchorX(){return this._structArray.int16[this._pos2+4]}get projectedAnchorY(){return this._structArray.int16[this._pos2+5]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+6]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+7]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+11]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get key(){return this._structArray.uint16[this._pos2+13]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+14]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+15]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+17]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+19]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+21]}get featureIndex(){return this._structArray.uint16[this._pos2+22]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+23]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numIconVertices(){return this._structArray.uint16[this._pos2+25]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+26]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+27]}get crossTileID(){return this._structArray.uint32[this._pos4+14]}set crossTileID(o){this._structArray.uint32[this._pos4+14]=o}get textOffset0(){return this._structArray.float32[this._pos4+15]}get textOffset1(){return this._structArray.float32[this._pos4+16]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+17]}get zOffset(){return this._structArray.float32[this._pos4+18]}set zOffset(o){this._structArray.float32[this._pos4+18]=o}get hasIconTextFit(){return this._structArray.uint8[this._pos1+76]}}X_.prototype.size=80;class mm extends um{get(o){return new X_(this,o)}}hi(mm,"SymbolInstanceArray");class J_ extends pd{getoffsetX(o){return this.float32[1*o+0]}}hi(J_,"GlyphOffsetArray");class Df extends Sc{getx(o){return this.int16[2*o+0]}gety(o){return this.int16[2*o+1]}}hi(Df,"SymbolLineVertexArray");class Y_ extends Gu{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}Y_.prototype.size=12;class ey extends Wu{get(o){return new Y_(this,o)}}hi(ey,"FeatureIndexArray");class ty extends Rc{geta_centroid_pos0(o){return this.uint16[2*o+0]}geta_centroid_pos1(o){return this.uint16[2*o+1]}}hi(ty,"FillExtrusionCentroidArray");class iy extends Gu{get a_join_normal_inside0(){return this._structArray.int16[this._pos2+0]}get a_join_normal_inside1(){return this._structArray.int16[this._pos2+1]}get a_join_normal_inside2(){return this._structArray.int16[this._pos2+2]}}iy.prototype.size=6;class gm extends Rf{get(o){return new iy(this,o)}}hi(gm,"FillExtrusionWallArray");const wv=xn([{name:"a_pos",components:2,type:"Int16"}],4),Fv=xn([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class Po{constructor(o=[]){this.segments=o}_prepareSegment(o,s,h,g){let f=this.segments[this.segments.length-1];return o>Po.MAX_VERTEX_ARRAY_LENGTH&&an(`Max vertices per segment is ${Po.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${o}`),(!f||f.vertexLength+o>Po.MAX_VERTEX_ARRAY_LENGTH||f.sortKey!==g)&&(f={vertexOffset:s,primitiveOffset:h,vertexLength:0,primitiveLength:0},g!==void 0&&(f.sortKey=g),this.segments.push(f)),f}prepareSegment(o,s,h,g){return this._prepareSegment(o,s.length,h.length,g)}get(){return this.segments}destroy(){for(const o of this.segments)for(const s in o.vaos)o.vaos[s].destroy()}static simpleSegment(o,s,h,g){return new Po([{vertexOffset:o,primitiveOffset:s,vertexLength:h,primitiveLength:g,vaos:{},sortKey:0}])}}function ny(u,o){return 256*(u=nt(Math.floor(u),0,255))+nt(Math.floor(o),0,255)}Po.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,hi(Po,"SegmentVector");const Cv=xn([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),Ev=xn([{name:"a_dash",components:4,type:"Uint16"}]);class Xu{constructor(){this.ids=[],this.uniqueIds=[],this.positions=[],this.indexed=!1}add(o,s,h,g){this.ids.push(oy(o)),this.positions.push(s,h,g)}eachPosition(o,s){const h=oy(o);let g=0,f=this.ids.length-1;for(;g<f;){const _=g+f>>1;this.ids[_]>=h?f=_:g=_+1}for(;this.ids[g]===h;)s(this.positions[3*g],this.positions[3*g+1],this.positions[3*g+2]),g++}static serialize(o,s){const h=new Float64Array(o.ids),g=new Uint32Array(o.positions);return md(h,g,0,h.length-1),s&&(s.add(h.buffer),s.add(g.buffer)),{ids:h,positions:g}}static deserialize(o){const s=new Xu;let h;s.ids=o.ids,s.positions=o.positions;for(const g of s.ids)g!==h&&s.uniqueIds.push(g),h=g;return s.indexed=!0,s}}function oy(u){const o=+u;return!isNaN(o)&&Number.MIN_SAFE_INTEGER<=o&&o<=Number.MAX_SAFE_INTEGER?o:Jr(String(u))}function md(u,o,s,h){for(;s<h;){const g=u[s+h>>1];let f=s-1,_=h+1;for(;;){do f++;while(u[f]<g);do _--;while(u[_]>g);if(f>=_)break;Bf(u,f,_),Bf(o,3*f,3*_),Bf(o,3*f+1,3*_+1),Bf(o,3*f+2,3*_+2)}_-s<h-_?(md(u,o,s,_),s=_+1):(md(u,o,_+1,h),h=_)}}function Bf(u,o,s){const h=u[o];u[o]=u[s],u[s]=h}hi(Xu,"FeaturePositionMap");class Hs{constructor(o){this.gl=o.gl,this.initialized=!1}fetchUniformLocation(o,s){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(o,s),this.initialized=!0),!!this.location}set(o,s,h){throw new Error("Uniform#set() must be implemented by each concrete Uniform")}}class ll extends Hs{constructor(o){super(o),this.current=0}set(o,s,h){this.fetchUniformLocation(o,s)&&this.current!==h&&(this.current=h,this.gl.uniform1i(this.location,h))}}class rr extends Hs{constructor(o){super(o),this.current=0}set(o,s,h){this.fetchUniformLocation(o,s)&&this.current!==h&&(this.current=h,this.gl.uniform1f(this.location,h))}}class ys extends Hs{constructor(o){super(o),this.current=[0,0]}set(o,s,h){this.fetchUniformLocation(o,s)&&(h[0]===this.current[0]&&h[1]===this.current[1]||(this.current=h,this.gl.uniform2f(this.location,h[0],h[1])))}}class _m extends Hs{constructor(o){super(o),this.current=[0,0,0]}set(o,s,h){this.fetchUniformLocation(o,s)&&(h[0]===this.current[0]&&h[1]===this.current[1]&&h[2]===this.current[2]||(this.current=h,this.gl.uniform3f(this.location,h[0],h[1],h[2])))}}class jf extends Hs{constructor(o){super(o),this.current=[0,0,0,0]}set(o,s,h){this.fetchUniformLocation(o,s)&&(h[0]===this.current[0]&&h[1]===this.current[1]&&h[2]===this.current[2]&&h[3]===this.current[3]||(this.current=h,this.gl.uniform4f(this.location,h[0],h[1],h[2],h[3])))}}class ym extends Hs{constructor(o){super(o),this.current=Dn.transparent.toRenderColor(null)}set(o,s,h){this.fetchUniformLocation(o,s)&&(h.r===this.current.r&&h.g===this.current.g&&h.b===this.current.b&&h.a===this.current.a||(this.current=h,this.gl.uniform4f(this.location,h.r,h.g,h.b,h.a)))}}const ry=new Float32Array(16);class Ju extends Hs{constructor(o){super(o),this.current=ry}set(o,s,h){if(this.fetchUniformLocation(o,s)){if(h[12]!==this.current[12]||h[0]!==this.current[0])return this.current=h,void this.gl.uniformMatrix4fv(this.location,!1,h);for(let g=1;g<16;g++)if(h[g]!==this.current[g]){this.current=h,this.gl.uniformMatrix4fv(this.location,!1,h);break}}}}const Sv=new Float32Array(9),ay=new Float32Array(4);class zf extends Hs{constructor(o){super(o),this.current=ay}set(o,s,h){if(this.fetchUniformLocation(o,s)){for(let g=0;g<4;g++)if(h[g]!==this.current[g]){this.current=h,this.gl.uniformMatrix2fv(this.location,!1,h);break}}}}function bm(u){return[ny(255*u.r,255*u.g),ny(255*u.b,255*u.a)]}class Yu{constructor(o,s,h,g){this.value=o,this.uniformNames=s.map(f=>`u_${f}`),this.type=h,this.context=g}setUniform(o,s,h,g,f){const _=g.constantOr(this.value);s.set(o,f,_ instanceof Dn?_.toRenderColor(this.context.lut):_)}getBinding(o,s){return this.type==="color"?new ym(o):new rr(o)}}class gd{constructor(o,s){this.uniformNames=s.map(h=>`u_${h}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(o){this.pixelRatio=o.pixelRatio||1,this.pattern=o.tl.concat(o.br)}setUniform(o,s,h,g,f){const _=f==="u_pattern"||f==="u_dash"?this.pattern:f==="u_pixel_ratio"?this.pixelRatio:null;_&&s.set(o,f,_)}getBinding(o,s){return s==="u_pattern"||s==="u_dash"?new jf(o):new rr(o)}}class qs{constructor(o,s,h,g){this.expression=o,this.type=h,this.maxValue=0,this.paintVertexAttributes=s.map(f=>({name:`a_${f}`,type:"Float32",components:h==="color"?2:1,offset:0})),this.paintVertexArray=new g}populatePaintArray(o,s,h,g,f,_,F){const R=this.paintVertexArray.length,M=this.expression.evaluate(new _o(0,{brightness:_}),s,{},f,g,F);this.paintVertexArray.resize(o),this._setPaintValue(R,o,M,this.context)}updatePaintArray(o,s,h,g,f,_,F){const R=this.expression.evaluate({zoom:0,brightness:F},h,g,void 0,f);this._setPaintValue(o,s,R,this.context)}_setPaintValue(o,s,h,g){if(this.type==="color"){const f=bm(h.toRenderColor(g.lut));for(let _=o;_<s;_++)this.paintVertexArray.emplace(_,f[0],f[1])}else{for(let f=o;f<s;f++)this.paintVertexArray.emplace(f,h);this.maxValue=Math.max(this.maxValue,Math.abs(h))}}upload(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class ts{constructor(o,s,h,g,f,_){this.expression=o,this.uniformNames=s.map(F=>`u_${F}_t`),this.type=h,this.useIntegerZoom=g,this.context=f,this.maxValue=0,this.paintVertexAttributes=s.map(F=>({name:`a_${F}`,type:"Float32",components:h==="color"?4:2,offset:0})),this.paintVertexArray=new _}populatePaintArray(o,s,h,g,f,_,F){const R=this.expression.evaluate(new _o(this.context.zoom,{brightness:_}),s,{},f,g,F),M=this.expression.evaluate(new _o(this.context.zoom+1,{brightness:_}),s,{},f,g,F),v=this.paintVertexArray.length;this.paintVertexArray.resize(o),this._setPaintValue(v,o,R,M,this.context)}updatePaintArray(o,s,h,g,f,_,F){const R=this.expression.evaluate({zoom:this.context.zoom,brightness:F},h,g,void 0,f),M=this.expression.evaluate({zoom:this.context.zoom+1,brightness:F},h,g,void 0,f);this._setPaintValue(o,s,R,M,this.context)}_setPaintValue(o,s,h,g,f){if(this.type==="color"){const _=bm(h.toRenderColor(f.lut)),F=bm(h.toRenderColor(f.lut));for(let R=o;R<s;R++)this.paintVertexArray.emplace(R,_[0],_[1],F[0],F[1])}else{for(let _=o;_<s;_++)this.paintVertexArray.emplace(_,h,g);this.maxValue=Math.max(this.maxValue,Math.abs(h),Math.abs(g))}}upload(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(o,s,h,g,f){const _=this.useIntegerZoom?Math.floor(h.zoom):h.zoom,F=nt(this.expression.interpolationFactor(_,this.context.zoom,this.context.zoom+1),0,1);s.set(o,f,F)}getBinding(o,s){return new rr(o)}}class Ws{constructor(o,s,h,g,f){this.expression=o,this.layerId=f,this.paintVertexAttributes=(h==="array"?Ev:Cv).members;for(let _=0;_<s.length;++_);this.paintVertexArray=new g}populatePaintArray(o,s,h,g){const f=this.paintVertexArray.length;this.paintVertexArray.resize(o),this._setPaintValues(f,o,s.patterns&&s.patterns[this.layerId],h)}updatePaintArray(o,s,h,g,f,_,F){this._setPaintValues(o,s,h.patterns&&h.patterns[this.layerId],_)}_setPaintValues(o,s,h,g){if(!g||!h)return;const f=g[h];if(!f)return;const{tl:_,br:F,pixelRatio:R}=f;for(let M=o;M<s;M++)this.paintVertexArray.emplace(M,_[0],_[1],F[0],F[1],R)}upload(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ks{constructor(o,s,h=()=>!0){this.binders={},this._buffers=[],this.context=s;const g=[];for(const f in o.paint._values){const _=o.paint.get(f);if(!h(f)||!(_ instanceof ad&&il(_.property.specification)))continue;const F=Rv(f,o.type),R=_.value,M=_.property.specification.type,v=!!_.property.useIntegerZoom,T=f==="line-dasharray"||f.endsWith("pattern"),I=f==="line-dasharray"&&o.layout.get("line-cap").value.kind!=="constant";if(R.kind!=="constant"||I)if(R.kind==="source"||I||T){const S=sy(f,M,"source");this.binders[f]=T?new Ws(R,F,M,S,o.id):new qs(R,F,M,S),g.push(`/a_${f}`)}else{const S=sy(f,M,"composite");this.binders[f]=new ts(R,F,M,v,s,S),g.push(`/z_${f}`)}else this.binders[f]=T?new gd(R.value,F):new Yu(R.value,F,M,s),g.push(`/u_${f}`)}this.cacheKey=g.sort().join("")}getMaxValue(o){const s=this.binders[o];return s instanceof qs||s instanceof ts?s.maxValue:0}populatePaintArrays(o,s,h,g,f,_,F){for(const R in this.binders){const M=this.binders[R];M.context=this.context,(M instanceof qs||M instanceof ts||M instanceof Ws)&&M.populatePaintArray(o,s,h,g,f,_,F)}}setConstantPatternPositions(o){for(const s in this.binders){const h=this.binders[s];h instanceof gd&&h.setConstantPatternPositions(o)}}updatePaintArrays(o,s,h,g,f,_,F,R){let M=!1;const v=Object.keys(o),T=v.length!==0,I=T?v:s.uniqueIds;this.context.lut=f.lut;for(const S in this.binders){const P=this.binders[S];if(P.context=this.context,(P instanceof qs||P instanceof ts||P instanceof Ws)&&(P.expression.isStateDependent===!0||P.expression.isLightConstant===!1)){const D=f.paint.get(S);P.expression=D.value;for(const N of I){const U=o[N.toString()];s.eachPosition(N,(Z,X,q)=>{const te=g.feature(Z);P.updatePaintArray(X,q,te,U,_,F,R)})}if(!T)for(const N of h.uniqueIds){const U=o[N.toString()];h.eachPosition(N,(Z,X,q)=>{const te=g.feature(Z);P.updatePaintArray(X,q,te,U,_,F,R)})}M=!0}}return M}defines(){const o=[];for(const s in this.binders){const h=this.binders[s];(h instanceof Yu||h instanceof gd)&&o.push(...h.uniformNames.map(g=>`#define HAS_UNIFORM_${g}`))}return o}getBinderAttributes(){const o=[];for(const s in this.binders){const h=this.binders[s];if(h instanceof qs||h instanceof ts||h instanceof Ws)for(let g=0;g<h.paintVertexAttributes.length;g++)o.push(h.paintVertexAttributes[g].name)}return o}getBinderUniforms(){const o=[];for(const s in this.binders){const h=this.binders[s];if(h instanceof Yu||h instanceof gd||h instanceof ts)for(const g of h.uniformNames)o.push(g)}return o}getPaintVertexBuffers(){return this._buffers}getUniforms(o){const s=[];for(const h in this.binders){const g=this.binders[h];if(g instanceof Yu||g instanceof gd||g instanceof ts)for(const f of g.uniformNames)s.push({name:f,property:h,binding:g.getBinding(o,f)})}return s}setUniforms(o,s,h,g,f){for(const{name:_,property:F,binding:R}of h)this.binders[F].setUniform(o,R,f,g.get(F),_)}updatePaintBuffers(){this._buffers=[];for(const o in this.binders){const s=this.binders[o];(s instanceof qs||s instanceof ts||s instanceof Ws)&&s.paintVertexBuffer&&this._buffers.push(s.paintVertexBuffer)}}upload(o){for(const s in this.binders){const h=this.binders[s];(h instanceof qs||h instanceof ts||h instanceof Ws)&&h.upload(o)}this.updatePaintBuffers()}destroy(){for(const o in this.binders){const s=this.binders[o];(s instanceof qs||s instanceof ts||s instanceof Ws)&&s.destroy()}}}class bs{constructor(o,s,h=()=>!0){this.programConfigurations={};for(const g of o)this.programConfigurations[g.id]=new Ks(g,s,h);this.needsUpload=!1,this._featureMap=new Xu,this._featureMapWithoutIds=new Xu,this._bufferOffset=0,this._idlessCounter=0}populatePaintArrays(o,s,h,g,f,_,F,R){for(const M in this.programConfigurations)this.programConfigurations[M].populatePaintArrays(o,s,g,f,_,F,R);s.id!==void 0?this._featureMap.add(s.id,h,this._bufferOffset,o):(this._featureMapWithoutIds.add(this._idlessCounter,h,this._bufferOffset,o),this._idlessCounter+=1),this._bufferOffset=o,this.needsUpload=!0}updatePaintArrays(o,s,h,g,f,_){for(const F of h)this.needsUpload=this.programConfigurations[F.id].updatePaintArrays(o,this._featureMap,this._featureMapWithoutIds,s,F,g,f,_||0)||this.needsUpload}get(o){return this.programConfigurations[o]}upload(o){if(this.needsUpload){for(const s in this.programConfigurations)this.programConfigurations[s].upload(o);this.needsUpload=!1}}destroy(){for(const o in this.programConfigurations)this.programConfigurations[o].destroy()}}const Tv={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-occlusion-opacity":["occlusion_opacity"],"icon-occlusion-opacity":["occlusion_opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-emissive-strength":["emissive_strength"],"icon-emissive-strength":["emissive_strength"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"symbol-z-offset":["z_offset"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function Rv(u,o){return Tv[u]||[u.replace(`${o}-`,"").replace(/-/g,"_")]}const Pv={"line-pattern":{source:Gs,composite:Gs},"fill-pattern":{source:Gs,composite:Gs},"fill-extrusion-pattern":{source:Gs,composite:Gs},"line-dasharray":{source:Pf,composite:Pf}},Iv={color:{source:Ku,composite:Us},number:{source:pd,composite:Ku}};function sy(u,o,s){const h=Pv[u];return h&&h[s]||Iv[o][s]}hi(Yu,"ConstantBinder"),hi(gd,"PatternConstantBinder"),hi(qs,"SourceExpressionBinder"),hi(Ws,"PatternCompositeBinder"),hi(ts,"CompositeExpressionBinder"),hi(Ks,"ProgramConfiguration",{omit:["_buffers"]}),hi(bs,"ProgramConfigurationSet");const Er=Yt/Math.PI/2,cy=5,p=6,r=16383,d=64,m=[d,32,16],b=-Er,w=Er;function E(u,o,s,h=Er){return s=_e(s),[u*Math.sin(s)*h,-o*h,u*Math.cos(s)*h]}function A(u,o,s){return E(Math.cos(_e(u)),Math.sin(_e(u)),o,s)}const j=63710088e-1,$=2*Math.PI*j;class z{constructor(o,s){if(isNaN(o)||isNaN(s))throw new Error(`Invalid LngLat object: (${o}, ${s})`);if(this.lng=+o,this.lat=+s,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new z(Xt(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(o){const s=Math.PI/180,h=this.lat*s,g=o.lat*s,f=Math.sin(h)*Math.sin(g)+Math.cos(h)*Math.cos(g)*Math.cos((o.lng-this.lng)*s);return j*Math.acos(Math.min(f,1))}toBounds(o=0){const s=360*o/40075017,h=s/Math.cos(Math.PI/180*this.lat);return new H({lng:this.lng-h,lat:this.lat-s},{lng:this.lng+h,lat:this.lat+s})}toEcef(o){return A(this.lat,this.lng,Er+o*Er/j)}static convert(o){if(o instanceof z)return o;if(Array.isArray(o)&&(o.length===2||o.length===3))return new z(Number(o[0]),Number(o[1]));if(!Array.isArray(o)&&typeof o=="object"&&o!==null)return new z(Number("lng"in o?o.lng:o.lon),Number(o.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}class H{constructor(o,s){if(o)if(s)this.setSouthWest(o).setNorthEast(s);else if(o.length===4){const h=o;this.setSouthWest([h[0],h[1]]).setNorthEast([h[2],h[3]])}else{const h=o;this.setSouthWest(h[0]).setNorthEast(h[1])}}setNorthEast(o){return this._ne=o instanceof z?new z(o.lng,o.lat):z.convert(o),this}setSouthWest(o){return this._sw=o instanceof z?new z(o.lng,o.lat):z.convert(o),this}extend(o){const s=this._sw,h=this._ne;let g,f;if(o instanceof z)g=o,f=o;else{if(!(o instanceof H))return Array.isArray(o)?o.length===4||o.every(Array.isArray)?this.extend(H.convert(o)):this.extend(z.convert(o)):typeof o=="object"&&o!==null&&o.hasOwnProperty("lat")&&(o.hasOwnProperty("lon")||o.hasOwnProperty("lng"))?this.extend(z.convert(o)):this;if(g=o._sw,f=o._ne,!g||!f)return this}return s||h?(s.lng=Math.min(g.lng,s.lng),s.lat=Math.min(g.lat,s.lat),h.lng=Math.max(f.lng,h.lng),h.lat=Math.max(f.lat,h.lat)):(this._sw=new z(g.lng,g.lat),this._ne=new z(f.lng,f.lat)),this}getCenter(){return new z((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new z(this.getWest(),this.getNorth())}getSouthEast(){return new z(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(o){const{lng:s,lat:h}=z.convert(o);let g=this._sw.lng<=s&&s<=this._ne.lng;return this._sw.lng>this._ne.lng&&(g=this._sw.lng>=s&&s>=this._ne.lng),this._sw.lat<=h&&h<=this._ne.lat&&g}static convert(o){if(o)return o instanceof H?o:new H(o)}}const W=0,ee=25.5;function oe(u){return $*Math.cos(u*Math.PI/180)}function ne(u){return(180+u)/360}function se(u){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u*Math.PI/360)))/360}function ae(u,o){return u/oe(o)}function me(u){return 360*u-180}function Fe(u){return 360/Math.PI*Math.atan(Math.exp((180-360*u)*Math.PI/180))-90}function Ce(u,o){return u*oe(Fe(o))}const Pe=85.051129;function Me(u){return Math.cos(_e(nt(u,-Pe,Pe)))}function Ie(u,o){const s=nt(o,W,ee),h=Math.pow(2,s);return Me(u)*$/(512*h)}function Le(u){return 1/Math.cos(u*Math.PI/180)}function $e(u,o=0){const s=Math.exp(Math.PI*(1-(u.y+o/Yt)/(1<<u.z)*2));return 80150034*s/(s*s+1)/Yt/(1<<u.z)}class Qe{constructor(o,s,h=0){this.x=+o,this.y=+s,this.z=+h}static fromLngLat(o,s=0){const h=z.convert(o);return new Qe(ne(h.lng),se(h.lat),ae(s,h.lat))}toLngLat(){return new z(me(this.x),Fe(this.y))}toAltitude(){return Ce(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/$*Le(Fe(this.y))}}function He(u,o,s,h,g,f,_,F,R){const M=(o+h)/2,v=(s+g)/2,T=new K(M,v);F(T),function(I,S,P,D,N,U){const Z=P-N,X=D-U;return Math.abs((D-S)*Z-(P-I)*X)/Math.hypot(Z,X)}(T.x,T.y,f.x,f.y,_.x,_.y)>=R?(He(u,o,s,M,v,f,T,F,R),He(u,M,v,h,g,T,_,F,R)):u.push(_)}function Ue(u,o,s){let h=u[0],g=h.x,f=h.y;o(h);const _=[h];for(let F=1;F<u.length;F++){const R=u[F],{x:M,y:v}=R;o(R),He(_,g,f,M,v,h,R,o,s),g=M,f=v,h=R}return _}function gt(u,o,s,h){if(h(o,s)){const g=o.add(s)._mult(.5);gt(u,o,g,h),gt(u,g,s,h)}else u.push(s)}function Ft(u,o){let s=u[0];const h=[s];for(let g=1;g<u.length;g++){const f=u[g];gt(h,s,f,o),s=f}return h}const Dt=Math.pow(2,14)-1,Gt=-Dt-1;function Qt(u,o){const s=Math.round(u.x*o),h=Math.round(u.y*o);return u.x=nt(s,Gt,Dt),u.y=nt(h,Gt,Dt),(s<u.x||s>u.x+1||h<u.y||h>u.y+1)&&an("Geometry exceeds allowed extent, reduce your vector tile buffer size"),u}function st(u,o,s){const h=u.loadGeometry(),g=u.extent,f=Yt/g;if(o&&s&&s.projection.isReprojectedInTileSpace){const _=1<<o.z,{scale:F,x:R,y:M,projection:v}=s,T=I=>{const S=me((o.x+I.x/g)/_),P=Fe((o.y+I.y/g)/_),D=v.project(S,P);I.x=(D.x*F-R)*g,I.y=(D.y*F-M)*g};for(let I=0;I<h.length;I++)if(u.type!==1)h[I]=Ue(h[I],T,1);else{const S=[];for(const P of h[I])P.x<0||P.x>=g||P.y<0||P.y>=g||(T(P),S.push(P));h[I]=S}}for(const _ of h)for(const F of _)Qt(F,f);return h}function Ot(u,o){return{type:u.type,id:u.id,properties:u.properties,geometry:o?st(u):[]}}function _t(u,o,s,h,g){u.emplaceBack(2*o+(h+1)/2,2*s+(g+1)/2)}function Lt(u,o,s){u.emplaceBack(o.x,o.y,o.z,s[0]*16384,s[1]*16384,s[2]*16384)}class jt{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(s=>s.fqid),this.index=o.index,this.hasPattern=!1,this.projection=o.projection,this.layoutVertexArray=new Sc,this.indexArray=new fo,this.segments=new Po,this.programConfigurations=new bs(o.layers,{zoom:o.zoom,lut:o.lut}),this.stateDependentLayerIds=this.layers.filter(s=>s.isStateDependent()).map(s=>s.id)}updateFootprints(o,s){}populate(o,s,h,g){const f=this.layers[0],_=[];let F=null;f.type==="circle"&&(F=f.layout.get("circle-sort-key"));for(const{feature:M,id:v,index:T,sourceLayerIndex:I}of o){const S=this.layers[0]._featureFilter.needGeometry,P=Ot(M,S);if(!this.layers[0]._featureFilter.filter(new _o(this.zoom),P,h))continue;const D=F?F.evaluate(P,{},h):void 0,N={id:v,properties:M.properties,type:M.type,sourceLayerIndex:I,index:T,geometry:S?P.geometry:st(M,h,g),patterns:{},sortKey:D};_.push(N)}F&&_.sort((M,v)=>M.sortKey-v.sortKey);let R=null;g.projection.name==="globe"&&(this.globeExtVertexArray=new qu,R=g.projection);for(const M of _){const{geometry:v,index:T,sourceLayerIndex:I}=M,S=o[T].feature;this.addFeature(M,v,T,s.availableImages,h,R,s.brightness),s.featureIndex.insert(S,v,T,I,this.index)}}update(o,s,h,g,f){const _=Object.keys(o).length!==0;_&&!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(o,s,_?this.stateDependentLayers:this.layers,h,g,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,wv.members),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=o.createVertexBuffer(this.globeExtVertexArray,Fv.members))),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(o,s,h,g,f,_,F){for(const R of s)for(const M of R){const v=M.x,T=M.y;if(v<0||v>=Yt||T<0||T>=Yt)continue;if(_){const P=_.projectTilePoint(v,T,f),D=_.upVector(f,v,T),N=this.globeExtVertexArray;Lt(N,P,D),Lt(N,P,D),Lt(N,P,D),Lt(N,P,D)}const I=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,o.sortKey),S=I.vertexLength;_t(this.layoutVertexArray,v,T,-1,-1),_t(this.layoutVertexArray,v,T,1,-1),_t(this.layoutVertexArray,v,T,1,1),_t(this.layoutVertexArray,v,T,-1,1),this.indexArray.emplaceBack(S,S+1,S+2),this.indexArray.emplaceBack(S,S+2,S+3),I.vertexLength+=4,I.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,h,{},g,f,F)}}function At(u,o){for(let s=0;s<u.length;s++)if(cn(o,u[s]))return!0;for(let s=0;s<o.length;s++)if(cn(u,o[s]))return!0;return!!fi(u,o)}function ei(u,o,s){return!!cn(u,o)||!!ri(o,u,s)}function bi(u,o){if(u.length===1)return Ki(o,u[0]);for(let s=0;s<o.length;s++){const h=o[s];for(let g=0;g<h.length;g++)if(cn(u,h[g]))return!0}for(let s=0;s<u.length;s++)if(Ki(o,u[s]))return!0;for(let s=0;s<o.length;s++)if(fi(u,o[s]))return!0;return!1}function Fi(u,o,s){if(u.length>1){if(fi(u,o))return!0;for(let h=0;h<o.length;h++)if(ri(o[h],u,s))return!0}for(let h=0;h<u.length;h++)if(ri(u[h],o,s))return!0;return!1}function fi(u,o){if(u.length===0||o.length===0)return!1;for(let s=0;s<u.length-1;s++){const h=u[s],g=u[s+1];for(let f=0;f<o.length-1;f++)if(Si(h,g,o[f],o[f+1]))return!0}return!1}function Si(u,o,s,h){return Aa(u,s,h)!==Aa(o,s,h)&&Aa(u,o,s)!==Aa(u,o,h)}function ri(u,o,s){const h=s*s;if(o.length===1)return u.distSqr(o[0])<h;for(let g=1;g<o.length;g++)if(ki(u,o[g-1],o[g])<h)return!0;return!1}function ki(u,o,s){const h=o.distSqr(s);if(h===0)return u.distSqr(o);const g=((u.x-o.x)*(s.x-o.x)+(u.y-o.y)*(s.y-o.y))/h;return u.distSqr(g<0?o:g>1?s:s.sub(o)._mult(g)._add(o))}function Ki(u,o){let s,h,g,f=!1;for(let _=0;_<u.length;_++){s=u[_];for(let F=0,R=s.length-1;F<s.length;R=F++)h=s[F],g=s[R],h.y>o.y!=g.y>o.y&&o.x<(g.x-h.x)*(o.y-h.y)/(g.y-h.y)+h.x&&(f=!f)}return f}function cn(u,o){let s=!1;for(let h=0,g=u.length-1;h<u.length;g=h++){const f=u[h],_=u[g];f.y>o.y!=_.y>o.y&&o.x<(_.x-f.x)*(o.y-f.y)/(_.y-f.y)+f.x&&(s=!s)}return s}function qn(u,o,s,h,g){for(const _ of u)if(o<=_.x&&s<=_.y&&h>=_.x&&g>=_.y)return!0;const f=[new K(o,s),new K(o,g),new K(h,g),new K(h,s)];if(u.length>2){for(const _ of f)if(cn(u,_))return!0}for(let _=0;_<u.length-1;_++)if(_n(u[_],u[_+1],f))return!0;return!1}function _n(u,o,s){const h=s[0],g=s[2];if(u.x<h.x&&o.x<h.x||u.x>g.x&&o.x>g.x||u.y<h.y&&o.y<h.y||u.y>g.y&&o.y>g.y)return!1;const f=Aa(u,o,s[0]);return f!==Aa(u,o,s[1])||f!==Aa(u,o,s[2])||f!==Aa(u,o,s[3])}function Jn(u,o,s,h,g,f){let _=o.y-u.y,F=u.x-o.x;if(f=f||0){const R=_*_+F*F;if(R===0)return!0;const M=Math.sqrt(R);_/=M,F/=M}return!((s.x-u.x)*_+(s.y-u.y)*F-f<0||(h.x-u.x)*_+(h.y-u.y)*F-f<0||(g.x-u.x)*_+(g.y-u.y)*F-f<0)}function Fn(u,o,s,h,g,f,_){return!(Jn(u,o,h,g,f,_)||Jn(o,s,h,g,f,_)||Jn(s,u,h,g,f,_)||Jn(h,g,u,o,s,_)||Jn(g,f,u,o,s,_)||Jn(f,h,u,o,s,_))}function Wn(u,o,s){const h=o.paint.get(u).value;return h.kind==="constant"?h.value:s.programConfigurations.get(o.id).getMaxValue(u)}function nn(u){return Math.sqrt(u[0]*u[0]+u[1]*u[1])}function Gn(u,o,s,h,g){if(!o[0]&&!o[1])return u;const f=K.convert(o)._mult(g);s==="viewport"&&f._rotate(-h);const _=[];for(let F=0;F<u.length;F++)_.push(u[F].sub(f));return _}function zn(u,o,s,h){const g=K.convert(u)._mult(h);return o==="viewport"&&g._rotate(-s),g}let Rn,ao;hi(jt,"CircleBucket",{omit:["layers"]});var er,xa={exports:{}},La=(er||(er=1,function(u,o){(function(s){function h(f,_,F){var R=g(256*f,256*(_=Math.pow(2,F)-_-1),F),M=g(256*(f+1),256*(_+1),F);return R[0]+","+R[1]+","+M[0]+","+M[1]}function g(f,_,F){var R=2*Math.PI*6378137/256/Math.pow(2,F);return[f*R-2*Math.PI*6378137/2,_*R-2*Math.PI*6378137/2]}s.getURL=function(f,_,F,R,M,v){return v=v||{},f+"?"+["bbox="+h(F,R,M),"format="+(v.format||"image/png"),"service="+(v.service||"WMS"),"version="+(v.version||"1.1.1"),"request="+(v.request||"GetMap"),"srs="+(v.srs||"EPSG:3857"),"width="+(v.width||256),"height="+(v.height||256),"layers="+_].join("&")},s.getTileBBox=h,s.getMercCoords=g,Object.defineProperty(s,"__esModule",{value:!0})})(o)}(0,xa.exports)),xa.exports);class ar{constructor(o,s,h){this.z=o,this.x=s,this.y=h,this.key=Cn(0,o,o,s,h)}equals(o){return this.z===o.z&&this.x===o.x&&this.y===o.y}url(o,s){const h=La.getTileBBox(this.x,this.y,this.z),g=function(f,_,F){let R,M="";for(let v=f;v>0;v--)R=1<<v-1,M+=(_&R?1:0)+(F&R?2:0);return M}(this.z,this.x,this.y);return o[(this.x+this.y)%o.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(s==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",g).replace("{bbox-epsg-3857}",h)}toString(){return`${this.z}/${this.x}/${this.y}`}}class mn{constructor(o,s){this.wrap=o,this.canonical=s,this.key=Cn(o,s.z,s.z,s.x,s.y)}}class ln{constructor(o,s,h,g,f){this.overscaledZ=o,this.wrap=s,this.canonical=new ar(h,+g,+f),this.key=s===0&&o===h?this.canonical.key:Cn(s,o,h,g,f)}equals(o){return this.overscaledZ===o.overscaledZ&&this.wrap===o.wrap&&this.canonical.equals(o.canonical)}scaledTo(o){const s=this.canonical.z-o;return o>this.canonical.z?new ln(o,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ln(o,this.wrap,o,this.canonical.x>>s,this.canonical.y>>s)}calculateScaledKey(o,s=!0){if(this.overscaledZ===o&&s)return this.key;if(o>this.canonical.z)return Cn(this.wrap*+s,o,this.canonical.z,this.canonical.x,this.canonical.y);{const h=this.canonical.z-o;return Cn(this.wrap*+s,o,o,this.canonical.x>>h,this.canonical.y>>h)}}isChildOf(o){if(o.wrap!==this.wrap)return!1;const s=this.canonical.z-o.canonical.z;return o.overscaledZ===0||o.overscaledZ<this.overscaledZ&&o.canonical.z<this.canonical.z&&o.canonical.x===this.canonical.x>>s&&o.canonical.y===this.canonical.y>>s}children(o){if(this.overscaledZ>=o)return[new ln(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const s=this.canonical.z+1,h=2*this.canonical.x,g=2*this.canonical.y;return[new ln(s,this.wrap,s,h,g),new ln(s,this.wrap,s,h+1,g),new ln(s,this.wrap,s,h,g+1),new ln(s,this.wrap,s,h+1,g+1)]}isLessThan(o){return this.wrap<o.wrap||!(this.wrap>o.wrap)&&(this.overscaledZ<o.overscaledZ||!(this.overscaledZ>o.overscaledZ)&&(this.canonical.x<o.canonical.x||!(this.canonical.x>o.canonical.x)&&this.canonical.y<o.canonical.y))}wrapped(){return new ln(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(o){return new ln(this.overscaledZ,o,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new mn(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function Cn(u,o,s,h,g){const f=1<<Math.min(s,22);let _=f*(g%f)+h%f;return u&&s<22&&(_+=f*f*((u<0?-2*u-1:2*u)%(1<<2*(22-s)))),16*(32*_+s)+(o-s)}const Zn=[u=>{let o=u.canonical.x-1,s=u.wrap;return o<0&&(o=(1<<u.canonical.z)-1,s--),new ln(u.overscaledZ,s,u.canonical.z,o,u.canonical.y)},u=>{let o=u.canonical.x+1,s=u.wrap;return o===1<<u.canonical.z&&(o=0,s++),new ln(u.overscaledZ,s,u.canonical.z,o,u.canonical.y)},u=>new ln(u.overscaledZ,u.wrap,u.canonical.z,u.canonical.x,(u.canonical.y===0?1<<u.canonical.z:u.canonical.y)-1),u=>new ln(u.overscaledZ,u.wrap,u.canonical.z,u.canonical.x,u.canonical.y===(1<<u.canonical.z)-1?0:u.canonical.y+1)];hi(ar,"CanonicalTileID"),hi(ln,"OverscaledTileID",{omit:["projMatrix","expandedProjMatrix"]});const Io=xn([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:so}=Io,ur=xn([{name:"a_pos_3",components:3,type:"Int16"}]);var vs=xn([{name:"a_pos",type:"Int16",components:2}]);class ia{constructor(o,s){this.pos=o,this.dir=s}intersectsPlane(o,s,h){const g=Re.vec3.dot(s,this.dir);if(Math.abs(g)<1e-6)return!1;const f=((o[0]-this.pos[0])*s[0]+(o[1]-this.pos[1])*s[1]+(o[2]-this.pos[2])*s[2])/g;return h[0]=this.pos[0]+this.dir[0]*f,h[1]=this.pos[1]+this.dir[1]*f,h[2]=this.pos[2]+this.dir[2]*f,!0}closestPointOnSphere(o,s,h){if(Re.vec3.equals(this.pos,o)||s===0)return h[0]=h[1]=h[2]=0,!1;const[g,f,_]=this.dir,F=this.pos[0]-o[0],R=this.pos[1]-o[1],M=this.pos[2]-o[2],v=g*g+f*f+_*_,T=2*(F*g+R*f+M*_),I=T*T-4*v*(F*F+R*R+M*M-s*s);if(I<0){const S=Math.max(-T/2,0),P=F+g*S,D=R+f*S,N=M+_*S,U=Math.hypot(P,D,N);return h[0]=P*s/U,h[1]=D*s/U,h[2]=N*s/U,!1}{const S=(-T-Math.sqrt(I))/(2*v);if(S<0){const P=Math.hypot(F,R,M);return h[0]=F*s/P,h[1]=R*s/P,h[2]=M*s/P,!1}return h[0]=F+g*S,h[1]=R+f*S,h[2]=M+_*S,!0}}}class na{constructor(o,s,h,g,f){this.TL=o,this.TR=s,this.BR=h,this.BL=g,this.horizon=f}static fromInvProjectionMatrix(o,s,h){const g=[-1,1,1],f=[1,1,1],_=[1,-1,1],F=[-1,-1,1],R=Re.vec3.transformMat4(g,g,o),M=Re.vec3.transformMat4(f,f,o),v=Re.vec3.transformMat4(_,_,o),T=Re.vec3.transformMat4(F,F,o);return new na(R,M,v,T,s/h)}}function Da(u,o,s){let h=1/0,g=-1/0;const f=[];for(const _ of u){Re.vec3.sub(f,_,o);const F=Re.vec3.dot(f,s);h=Math.min(h,F),g=Math.max(g,F)}return[h,g]}function is(u,o){let s=!0;for(let h=0;h<u.planes.length;h++){const g=u.planes[h];let f=0;for(let _=0;_<o.length;_++)f+=Re.vec3.dot(g,o[_])+g[3]>=0;if(f===0)return 0;f!==o.length&&(s=!1)}return s?2:1}function oa(u,o){for(const s of u.projections){const h=Da(o,u.points[0],s.axis);if(s.projection[1]<h[0]||s.projection[0]>h[1])return 0}return 1}function Zs(u,o){let s=0;const h=[0,0,0,0];for(let g=0;g<u.length;g++)h[0]=u[g][0],h[1]=u[g][1],h[2]=u[g][2],h[3]=1,Re.vec4.dot(h,o)>=0&&s++;return s}class Ba{constructor(o,s){this.points=o||new Array(8).fill([0,0,0]),this.planes=s||new Array(6).fill([0,0,0,0]),this.bounds=Mn.fromPoints(this.points),this.projections=[],this.frustumEdges=[Re.vec3.sub([],this.points[2],this.points[3]),Re.vec3.sub([],this.points[0],this.points[3]),Re.vec3.sub([],this.points[4],this.points[0]),Re.vec3.sub([],this.points[5],this.points[1]),Re.vec3.sub([],this.points[6],this.points[2]),Re.vec3.sub([],this.points[7],this.points[3])];for(const h of this.frustumEdges){const g=[0,-h[2],h[1]],f=[h[2],0,-h[0]];this.projections.push({axis:g,projection:Da(this.points,this.points[0],g)}),this.projections.push({axis:f,projection:Da(this.points,this.points[0],f)})}}static fromInvProjectionMatrix(o,s,h,g){const f=Math.pow(2,h),_=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(M=>{const v=Re.vec4.transformMat4([],M,o),T=1/v[3]/s*f;return Re.vec4.mul(v,v,[T,T,g?1/v[3]:T,T])}),F=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(M=>{const v=Re.vec3.sub([],_[M[0]],_[M[1]]),T=Re.vec3.sub([],_[M[2]],_[M[1]]),I=Re.vec3.normalize([],Re.vec3.cross([],v,T)),S=-Re.vec3.dot(I,_[M[1]]);return I.concat(S)}),R=[];for(let M=0;M<_.length;M++)R.push([_[M][0],_[M][1],_[M][2]]);return new Ba(R,F)}intersectsPrecise(o,s,h){for(let g=0;g<s.length;g++)if(!Zs(o,s[g]))return 0;for(let g=0;g<this.planes.length;g++)if(!Zs(o,this.planes[g]))return 0;for(const g of h)for(const f of this.frustumEdges){const _=Re.vec3.cross([],g,f),F=Re.vec3.length(_);if(F===0)continue;Re.vec3.scale(_,_,1/F);const R=Da(this.points,this.points[0],_),M=Da(o,this.points[0],_);if(R[0]>M[1]||M[0]>R[1])return 0}return 1}containsPoint(o){for(const s of this.planes){const h=s[3];if(Re.vec3.dot([s[0],s[1],s[2]],o)+h<0)return!1}return!0}}class Mn{static fromPoints(o){const s=[1/0,1/0,1/0],h=[-1/0,-1/0,-1/0];for(const g of o)Re.vec3.min(s,s,g),Re.vec3.max(h,h,g);return new Mn(s,h)}static fromTileIdAndHeight(o,s,h){const g=1<<o.canonical.z,f=o.canonical.x,_=o.canonical.y;return new Mn([f/g,_/g,s],[(f+1)/g,(_+1)/g,h])}static applyTransform(o,s){const h=o.getCorners();for(let g=0;g<h.length;++g)Re.vec3.transformMat4(h[g],h[g],s);return Mn.fromPoints(h)}static applyTransformFast(o,s){const h=[s[12],s[13],s[14]],g=[...h];for(let f=0;f<3;f++)for(let _=0;_<3;_++){const F=s[4*_+f],R=F*o.min[_],M=F*o.max[_];h[f]+=Math.min(R,M),g[f]+=Math.max(R,M)}return new Mn(h,g)}static projectAabbCorners(o,s){const h=o.getCorners();for(let g=0;g<h.length;++g)Re.vec3.transformMat4(h[g],h[g],s);return h}constructor(o,s){this.min=o,this.max=s,this.center=Re.vec3.scale([],Re.vec3.add([],this.min,this.max),.5)}quadrant(o){const s=[o%2==0,o<2],h=Re.vec3.clone(this.min),g=Re.vec3.clone(this.max);for(let f=0;f<s.length;f++)h[f]=s[f]?this.min[f]:this.center[f],g[f]=s[f]?this.center[f]:this.max[f];return g[2]=this.max[2],new Mn(h,g)}distanceX(o){return Math.max(Math.min(this.max[0],o[0]),this.min[0])-o[0]}distanceY(o){return Math.max(Math.min(this.max[1],o[1]),this.min[1])-o[1]}distanceZ(o){return Math.max(Math.min(this.max[2],o[2]),this.min[2])-o[2]}getCorners(){const o=this.min,s=this.max;return[[o[0],o[1],o[2]],[s[0],o[1],o[2]],[s[0],s[1],o[2]],[o[0],s[1],o[2]],[o[0],o[1],s[2]],[s[0],o[1],s[2]],[s[0],s[1],s[2]],[o[0],s[1],s[2]]]}intersects(o){return this.intersectsAabb(o.bounds)?is(o,this.getCorners()):0}intersectsFlat(o){return this.intersectsAabb(o.bounds)?is(o,[[this.min[0],this.min[1],0],[this.max[0],this.min[1],0],[this.max[0],this.max[1],0],[this.min[0],this.max[1],0]]):0}intersectsPrecise(o,s){return s||this.intersects(o)?oa(o,this.getCorners()):0}intersectsPreciseFlat(o,s){return s||this.intersectsFlat(o)?oa(o,[[this.min[0],this.min[1],0],[this.max[0],this.min[1],0],[this.max[0],this.max[1],0],[this.min[0],this.max[1],0]]):0}intersectsAabb(o){for(let s=0;s<3;++s)if(this.min[s]>o.max[s]||o.min[s]>this.max[s])return!1;return!0}intersectsAabbXY(o){return!(this.min[0]>o.max[0]||o.min[0]>this.max[0]||this.min[1]>o.max[1]||o.min[1]>this.max[1])}encapsulate(o){for(let s=0;s<3;s++)this.min[s]=Math.min(this.min[s],o.min[s]),this.max[s]=Math.max(this.max[s],o.max[s])}encapsulatePoint(o){for(let s=0;s<3;s++)this.min[s]=Math.min(this.min[s],o[s]),this.max[s]=Math.max(this.max[s],o[s])}closestPoint(o){return[Math.max(Math.min(this.max[0],o[0]),this.min[0]),Math.max(Math.min(this.max[1],o[1]),this.min[1]),Math.max(Math.min(this.max[2],o[2]),this.min[2])]}}function _d(u){return u*Er/j}hi(Mn,"Aabb");const vm=[new Mn([b,b,b],[w,w,w]),new Mn([b,b,b],[0,0,w]),new Mn([0,b,b],[w,0,w]),new Mn([b,0,b],[0,w,w]),new Mn([0,0,b],[w,w,w])];function yd(u,o,s,h=!0){const g=Re.vec3.scale([],u._camera.position,u.worldSize),f=[o,s,1,1];Re.vec4.transformMat4(f,f,u.pixelMatrixInverse),Re.vec4.scale(f,f,1/f[3]);const _=Re.vec3.sub([],f,g),F=Re.vec3.normalize([],_),R=u.globeMatrix,M=[R[12],R[13],R[14]],v=Re.vec3.sub([],M,g),T=Re.vec3.length(v),I=Re.vec3.normalize([],v),S=u.worldSize/(2*Math.PI),P=Re.vec3.dot(I,F),D=Math.asin(S/T);if(D<Math.acos(P)){if(!h)return null;const Ve=[],ve=[];Re.vec3.scale(Ve,F,T/P),Re.vec3.normalize(ve,Re.vec3.sub(ve,Ve,v)),Re.vec3.normalize(F,Re.vec3.add(F,v,Re.vec3.scale(F,ve,Math.tan(D)*T)))}const N=[];new ia(g,F).closestPointOnSphere(M,S,N);const U=Re.vec3.normalize([],Al(R,0)),Z=Re.vec3.normalize([],Al(R,1)),X=Re.vec3.normalize([],Al(R,2)),q=Re.vec3.dot(U,N),te=Re.vec3.dot(Z,N),ie=Re.vec3.dot(X,N),de=Ye(Math.asin(-te/S));let Ee=Ye(Math.atan2(q,ie));Ee=u.center.lng+function(Ve,ve){const Be=(ve-Ve+180)%360-180;return Be<-180?Be+360:Be}(u.center.lng,Ee);const be=ne(Ee),xe=nt(se(de),0,1);return new Qe(be,xe)}class xm{constructor(o,s,h){this.a=Re.vec3.sub([],o,h),this.b=Re.vec3.sub([],s,h),this.center=h;const g=Re.vec3.normalize([],this.a),f=Re.vec3.normalize([],this.b);this.angle=Math.acos(Re.vec3.dot(g,f))}}function eh(u,o){if(u.angle===0)return null;let s;return s=u.a[o]===0?1/u.angle*.5*Math.PI:1/u.angle*Math.atan(u.b[o]/u.a[o]/Math.sin(u.angle)-1/Math.tan(u.angle)),s<0||s>1?null:function(h,g,f,_){const F=Math.sin(f);return h*(Math.sin((1-_)*f)/F)+g*(Math.sin(_*f)/F)}(u.a[o],u.b[o],u.angle,nt(s,0,1))+u.center[o]}function Pc(u){if(u.z<=1)return vm[u.z+2*u.y+u.x];const o=kv(ly(u));return Mn.fromPoints(o)}function dl(u,o,s){return Re.vec3.scale(u,u,1-s),Re.vec3.scaleAndAdd(u,u,o,s)}function E5(u,o,s){for(const h of u)Re.vec3.transformMat4(h,h,o),Re.vec3.scale(h,h,s)}function S5(u,o,s,h){const g=o/u.worldSize,f=u.globeMatrix;if(s.z<=1){const be=Pc(s).getCorners();return E5(be,f,g),Mn.fromPoints(be)}const _=ly(s,h),F=kv(_,Er+_d(u._tileCoverLift));E5(F,f,g);const R=Number.MAX_VALUE,M=[-R,-R,-R],v=[R,R,R];if(_.contains(u.center)){for(const Ve of F)Re.vec3.min(v,v,Ve),Re.vec3.max(M,M,Ve);M[2]=0;const be=u.point,xe=[be.x*g,be.y*g,0];return Re.vec3.min(v,v,xe),Re.vec3.max(M,M,xe),new Mn(v,M)}if(u._tileCoverLift>0){for(const be of F)Re.vec3.min(v,v,be),Re.vec3.max(M,M,be);return new Mn(v,M)}const T=[f[12]*g,f[13]*g,f[14]*g],I=_.getCenter(),S=nt(u.center.lat,-Pe,Pe),P=nt(I.lat,-Pe,Pe),D=ne(u.center.lng),N=se(S);let U=D-ne(I.lng);const Z=N-se(P);U>.5?U-=1:U<-.5&&(U+=1);let X=0;if(Math.abs(U)>Math.abs(Z))X=U>=0?1:3;else{X=Z>=0?0:2;const be=[f[4]*g,f[5]*g,f[6]*g],xe=-Math.sin(_e(Z>=0?_.getSouth():_.getNorth()))*Er;Re.vec3.scaleAndAdd(T,T,be,xe)}const q=F[X],te=F[(X+1)%4],ie=new xm(q,te,T),de=[eh(ie,0)||q[0],eh(ie,1)||q[1],eh(ie,2)||q[2]],Ee=bd(u.zoom);if(Ee>0){const be=function({x:Ve,y:ve,z:Be},We,Ke,tt,ht){const mt=1/(1<<Be);let lt=Ve*mt,Pt=lt+mt,Nt=ve*mt,wt=Nt+mt,ci=0;const Jt=(lt+Pt)/2-tt;return Jt>.5?ci=-1:Jt<-.5&&(ci=1),lt=((lt+ci)*We-(tt*=We))*Ke+tt,Pt=((Pt+ci)*We-tt)*Ke+tt,Nt=(Nt*We-(ht*=We))*Ke+ht,wt=(wt*We-ht)*Ke+ht,[[lt,wt,0],[Pt,wt,0],[Pt,Nt,0],[lt,Nt,0]]}(s,o,u._pixelsPerMercatorPixel,D,N);for(let Ve=0;Ve<F.length;Ve++)dl(F[Ve],be[Ve],Ee);const xe=Re.vec3.add([],be[X],be[(X+1)%4]);Re.vec3.scale(xe,xe,.5),dl(de,xe,Ee)}for(const be of F)Re.vec3.min(v,v,be),Re.vec3.max(M,M,be);return v[2]=Math.min(q[2],te[2]),Re.vec3.min(v,v,de),Re.vec3.max(M,M,de),new Mn(v,M)}function ly({x:u,y:o,z:s},h=!1){const g=1/(1<<s),f=new z(me(u*g),o===(1<<s)-1&&h?-90:Fe((o+1)*g)),_=new z(me((u+1)*g),o===0&&h?90:Fe(o*g));return new H(f,_)}function kv(u,o=Er){const s=_e(u.getNorth()),h=_e(u.getSouth()),g=Math.cos(s),f=Math.cos(h),_=Math.sin(s),F=Math.sin(h),R=u.getWest(),M=u.getEast();return[E(f,F,R,o),E(f,F,M,o),E(g,_,M,o),E(g,_,R,o)]}function wm(u,o,s,h){const g=1<<s.z,f=(u/Yt+s.x)/g;return A(Fe((o/Yt+s.y)/g),me(f),h)}function dy({min:u,max:o}){return r/Math.max(o[0]-u[0],o[1]-u[1],o[2]-u[2])}const T5=new Float64Array(16);function uy(u){const o=dy(u),s=Re.mat4.fromScaling(T5,[o,o,o]);return Re.mat4.translate(s,s,Re.vec3.negate([],u.min))}function Mv(u){const o=Re.mat4.fromTranslation(T5,u.min),s=1/dy(u);return Re.mat4.scale(o,o,[s,s,s])}function Av(u){const o=Yt/(2*Math.PI);return u/(2*Math.PI)/o}function R5(u,o){return Yt/(512*Math.pow(2,u))*dy(Pc(o))}function P5(u,o,s,h,g){const f=Av(s),_=[u,o,-s/(2*Math.PI)],F=Re.mat4.identity(new Float64Array(16));return Re.mat4.translate(F,F,_),Re.mat4.scale(F,F,[f,f,f]),Re.mat4.rotateX(F,F,_e(-g)),Re.mat4.rotateY(F,F,_e(-h)),F}function bd(u){return Et(cy,p,u)}function I5(u,o){const s=A(o.lat,o.lng),h=function(f){const _=A(f._center.lat,f._center.lng),F=Re.vec3.fromValues(0,1,0);let R=Re.vec3.cross([],F,_);const M=Re.mat4.fromRotation([],-f.angle,_);R=Re.vec3.transformMat4(R,R,M),Re.mat4.fromRotation(M,-f._pitch,R);const v=Re.vec3.normalize([],_);return Re.vec3.scale(v,v,_d(f.cameraToCenterDistance/f.pixelsPerMeter)),Re.vec3.transformMat4(v,v,M),Re.vec3.add([],_,v)}(u),g=Re.vec3.subtract([],h,s);return Re.vec3.angle(g,s)}function Ov(u,o){return I5(u,o)>Math.PI/2*1.01}const k5=_e(85),YI=Math.cos(k5),ek=Math.sin(k5),tk=Re.mat4.create(),M5=u=>{const o=[];return u.paint.get("circle-pitch-alignment")==="map"&&o.push("PITCH_WITH_MAP"),u.paint.get("circle-pitch-scale")==="map"&&o.push("SCALE_WITH_MAP"),o};function A5(u,o,s,h,g,f,_,F,R){if(f&&u.queryGeometry.isAboveHorizon)return!1;f&&(R*=u.pixelToTileUnitsFactor);const M=u.tileID.canonical,v=s.projection.upVectorScale(M,s.center.lat,s.worldSize).metersToTile;for(const T of o)for(const I of T){const S=I.add(F),P=g&&s.elevation?s.elevation.exaggeration()*g.getElevationAt(S.x,S.y,!0):0,D=s.projection.projectTilePoint(S.x,S.y,M);if(P>0){const X=s.projection.upVector(M,S.x,S.y);D.x+=X[0]*v*P,D.y+=X[1]*v*P,D.z+=X[2]*v*P}const N=f?S:ik(D.x,D.y,D.z,h),U=f?u.tilespaceRays.map(X=>ok(X,P)):u.queryGeometry.screenGeometry,Z=Re.vec4.transformMat4([],[D.x,D.y,D.z,1],h);if(!_&&f?R*=Z[3]/s.cameraToCenterDistance:_&&!f&&(R*=s.cameraToCenterDistance/Z[3]),f){const X=Fe((I.y/Yt+M.y)/(1<<M.z));R/=s.projection.pixelsPerMeter(X,1)/ae(1,X)}if(ei(U,N,R))return!0}return!1}function ik(u,o,s,h){const g=Re.vec4.transformMat4([],[u,o,s,1],h);return new K(g[0]/g[3],g[1]/g[3])}const O5=Re.vec3.fromValues(0,0,0),nk=Re.vec3.fromValues(0,0,1);function ok(u,o){const s=Re.vec3.create();return O5[2]=o,u.intersectsPlane(O5,nk,s),new K(s[0],s[1])}class L5 extends jt{}let D5,B5,j5,z5;function V5(u,{width:o,height:s},h,g){if(g){if(g instanceof Uint8ClampedArray)g=new Uint8Array(g.buffer);else if(g.length!==o*s*h)throw new RangeError("mismatched image size")}else g=new Uint8Array(o*s*h);return u.width=o,u.height=s,u.data=g,u}function N5(u,o,s){const{width:h,height:g}=o;h===u.width&&g===u.height||(Lv(u,o,{x:0,y:0},{x:0,y:0},{width:Math.min(u.width,h),height:Math.min(u.height,g)},s,null),u.width=h,u.height=g,u.data=o.data)}function Lv(u,o,s,h,g,f,_,F){if(g.width===0||g.height===0)return o;if(g.width>u.width||g.height>u.height||s.x>u.width-g.width||s.y>u.height-g.height)throw new RangeError("out of range source coordinates for image copy");if(g.width>o.width||g.height>o.height||h.x>o.width-g.width||h.y>o.height-g.height)throw new RangeError("out of range destination coordinates for image copy");const R=u.data,M=o.data,v=f===4&&F;for(let T=0;T<g.height;T++){const I=((s.y+T)*u.width+s.x)*f,S=((h.y+T)*o.width+h.x)*f;if(v)for(let P=0;P<g.width;P++){const D=I+P*f+3,N=S+P*f;M[N+0]=255,M[N+1]=255,M[N+2]=255,M[N+3]=R[D]}else if(_)for(let P=0;P<g.width;P++){const D=I+P*f,N=S+P*f,U=R[D+3],Z=new Dn(R[D+0]/255*U,R[D+1]/255*U,R[D+2]/255*U,U).toRenderColor(_).toArray();M[N+0]=Z[0],M[N+1]=Z[1],M[N+2]=Z[2],M[N+3]=Z[3]}else for(let P=0;P<g.width*f;P++)M[S+P]=R[I+P]}return o}hi(L5,"HeatmapBucket",{omit:["layers"]});class vd{constructor(o,s){V5(this,o,1,s)}resize(o){N5(this,new vd(o),1)}clone(){return new vd({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(o,s,h,g,f){Lv(o,s,h,g,f,1,null)}}class qr{constructor(o,s){V5(this,o,4,s)}resize(o){N5(this,new qr(o),4)}replace(o,s){s?this.data.set(o):this.data=o instanceof Uint8ClampedArray?new Uint8Array(o.buffer):o}clone(){return new qr({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(o,s,h,g,f,_,F){Lv(o,s,h,g,f,4,_,F)}}class $5{constructor(o,s){this.width=o.width,this.height=o.height,this.data=s instanceof Uint8Array?new Float32Array(s.buffer):s}}function Fm(u){const o={},s=u.resolution||256,h=u.clips?u.clips.length:1,g=u.image||new qr({width:s,height:h}),f=(_,F,R)=>{o[u.evaluationKey]=R;const M=u.expression.evaluate(o);M&&(g.data[_+F+0]=Math.floor(255*M.r/M.a),g.data[_+F+1]=Math.floor(255*M.g/M.a),g.data[_+F+2]=Math.floor(255*M.b/M.a),g.data[_+F+3]=Math.floor(255*M.a))};if(u.clips)for(let _=0,F=0;_<h;++_,F+=4*s)for(let R=0,M=0;R<s;R++,M+=4){const v=R/(s-1),{start:T,end:I}=u.clips[_];f(F,M,T*(1-v)+I*v)}else for(let _=0,F=0;_<s;_++,F+=4)f(0,F,_/(s-1));return g}hi(vd,"AlphaImage"),hi(qr,"RGBAImage");const rk=xn([{name:"a_pos",components:2,type:"Int16"}],4),{members:ak}=rk;function Cm(u,o,s=2){const h=o&&o.length,g=h?o[0]*s:u.length;let f=U5(u,0,g,s,!0);const _=[];if(!f||f.next===f.prev)return _;let F,R,M;if(h&&(f=function(v,T,I,S){const P=[];for(let D=0,N=T.length;D<N;D++){const U=U5(v,T[D]*S,D<N-1?T[D+1]*S:v.length,S,!1);U===U.next&&(U.steiner=!0),P.push(pk(U))}P.sort(uk);for(let D=0;D<P.length;D++)I=hk(P[D],I);return I}(u,o,f,s)),u.length>80*s){F=1/0,R=1/0;let v=-1/0,T=-1/0;for(let I=s;I<g;I+=s){const S=u[I],P=u[I+1];S<F&&(F=S),P<R&&(R=P),S>v&&(v=S),P>T&&(T=P)}M=Math.max(v-F,T-R),M=M!==0?32767/M:0}return Em(f,_,s,F,R,M,0),_}function U5(u,o,s,h,g){let f;if(g===function(_,F,R,M){let v=0;for(let T=F,I=R-M;T<R;T+=M)v+=(_[I]-_[T])*(_[T+1]+_[I+1]),I=T;return v}(u,o,s,h)>0)for(let _=o;_<s;_+=h)f=q5(_/h|0,u[_],u[_+1],f);else for(let _=s-h;_>=o;_-=h)f=q5(_/h|0,u[_],u[_+1],f);return f&&hy(f,f.next)&&(Tm(f),f=f.next),f}function th(u,o){if(!u)return u;o||(o=u);let s,h=u;do if(s=!1,h.steiner||!hy(h,h.next)&&sr(h.prev,h,h.next)!==0)h=h.next;else{if(Tm(h),h=o=h.prev,h===h.next)break;s=!0}while(s||h!==o);return o}function Em(u,o,s,h,g,f,_){if(!u)return;!_&&f&&function(R,M,v,T){let I=R;do I.z===0&&(I.z=Dv(I.x,I.y,M,v,T)),I.prevZ=I.prev,I.nextZ=I.next,I=I.next;while(I!==R);I.prevZ.nextZ=null,I.prevZ=null,function(S){let P,D=1;do{let N,U=S;S=null;let Z=null;for(P=0;U;){P++;let X=U,q=0;for(let ie=0;ie<D&&(q++,X=X.nextZ,X);ie++);let te=D;for(;q>0||te>0&&X;)q!==0&&(te===0||!X||U.z<=X.z)?(N=U,U=U.nextZ,q--):(N=X,X=X.nextZ,te--),Z?Z.nextZ=N:S=N,N.prevZ=Z,Z=N;U=X}Z.nextZ=null,D*=2}while(P>1)}(I)}(u,h,g,f);let F=u;for(;u.prev!==u.next;){const R=u.prev,M=u.next;if(f?ck(u,h,g,f):sk(u))o.push(R.i,u.i,M.i),Tm(u),u=M.next,F=M.next;else if((u=M)===F){_?_===1?Em(u=lk(th(u),o),o,s,h,g,f,2):_===2&&dk(u,o,s,h,g,f):Em(th(u),o,s,h,g,f,1);break}}}function sk(u){const o=u.prev,s=u,h=u.next;if(sr(o,s,h)>=0)return!1;const g=o.x,f=s.x,_=h.x,F=o.y,R=s.y,M=h.y,v=g<f?g<_?g:_:f<_?f:_,T=F<R?F<M?F:M:R<M?R:M,I=g>f?g>_?g:_:f>_?f:_,S=F>R?F>M?F:M:R>M?R:M;let P=h.next;for(;P!==o;){if(P.x>=v&&P.x<=I&&P.y>=T&&P.y<=S&&Vf(g,F,f,R,_,M,P.x,P.y)&&sr(P.prev,P,P.next)>=0)return!1;P=P.next}return!0}function ck(u,o,s,h){const g=u.prev,f=u,_=u.next;if(sr(g,f,_)>=0)return!1;const F=g.x,R=f.x,M=_.x,v=g.y,T=f.y,I=_.y,S=F<R?F<M?F:M:R<M?R:M,P=v<T?v<I?v:I:T<I?T:I,D=F>R?F>M?F:M:R>M?R:M,N=v>T?v>I?v:I:T>I?T:I,U=Dv(S,P,o,s,h),Z=Dv(D,N,o,s,h);let X=u.prevZ,q=u.nextZ;for(;X&&X.z>=U&&q&&q.z<=Z;){if(X.x>=S&&X.x<=D&&X.y>=P&&X.y<=N&&X!==g&&X!==_&&Vf(F,v,R,T,M,I,X.x,X.y)&&sr(X.prev,X,X.next)>=0||(X=X.prevZ,q.x>=S&&q.x<=D&&q.y>=P&&q.y<=N&&q!==g&&q!==_&&Vf(F,v,R,T,M,I,q.x,q.y)&&sr(q.prev,q,q.next)>=0))return!1;q=q.nextZ}for(;X&&X.z>=U;){if(X.x>=S&&X.x<=D&&X.y>=P&&X.y<=N&&X!==g&&X!==_&&Vf(F,v,R,T,M,I,X.x,X.y)&&sr(X.prev,X,X.next)>=0)return!1;X=X.prevZ}for(;q&&q.z<=Z;){if(q.x>=S&&q.x<=D&&q.y>=P&&q.y<=N&&q!==g&&q!==_&&Vf(F,v,R,T,M,I,q.x,q.y)&&sr(q.prev,q,q.next)>=0)return!1;q=q.nextZ}return!0}function lk(u,o){let s=u;do{const h=s.prev,g=s.next.next;!hy(h,g)&&G5(h,s,s.next,g)&&Sm(h,g)&&Sm(g,h)&&(o.push(h.i,s.i,g.i),Tm(s),Tm(s.next),s=u=g),s=s.next}while(s!==u);return th(s)}function dk(u,o,s,h,g,f){let _=u;do{let F=_.next.next;for(;F!==_.prev;){if(_.i!==F.i&&mk(_,F)){let R=H5(_,F);return _=th(_,_.next),R=th(R,R.next),Em(_,o,s,h,g,f,0),void Em(R,o,s,h,g,f,0)}F=F.next}_=_.next}while(_!==u)}function uk(u,o){return u.x-o.x}function hk(u,o){const s=function(g,f){let _=f;const F=g.x,R=g.y;let M,v=-1/0;do{if(R<=_.y&&R>=_.next.y&&_.next.y!==_.y){const D=_.x+(R-_.y)*(_.next.x-_.x)/(_.next.y-_.y);if(D<=F&&D>v&&(v=D,M=_.x<_.next.x?_:_.next,D===F))return M}_=_.next}while(_!==f);if(!M)return null;const T=M,I=M.x,S=M.y;let P=1/0;_=M;do{if(F>=_.x&&_.x>=I&&F!==_.x&&Vf(R<S?F:v,R,I,S,R<S?v:F,R,_.x,_.y)){const D=Math.abs(R-_.y)/(F-_.x);Sm(_,g)&&(D<P||D===P&&(_.x>M.x||_.x===M.x&&fk(M,_)))&&(M=_,P=D)}_=_.next}while(_!==T);return M}(u,o);if(!s)return o;const h=H5(s,u);return th(h,h.next),th(s,s.next)}function fk(u,o){return sr(u.prev,u,o.prev)<0&&sr(o.next,u,u.next)<0}function Dv(u,o,s,h,g){return(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u=(u-s)*g|0)|u<<8))|u<<4))|u<<2))|u<<1))|(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o=(o-h)*g|0)|o<<8))|o<<4))|o<<2))|o<<1))<<1}function pk(u){let o=u,s=u;do(o.x<s.x||o.x===s.x&&o.y<s.y)&&(s=o),o=o.next;while(o!==u);return s}function Vf(u,o,s,h,g,f,_,F){return(g-_)*(o-F)>=(u-_)*(f-F)&&(u-_)*(h-F)>=(s-_)*(o-F)&&(s-_)*(f-F)>=(g-_)*(h-F)}function mk(u,o){return u.next.i!==o.i&&u.prev.i!==o.i&&!function(s,h){let g=s;do{if(g.i!==s.i&&g.next.i!==s.i&&g.i!==h.i&&g.next.i!==h.i&&G5(g,g.next,s,h))return!0;g=g.next}while(g!==s);return!1}(u,o)&&(Sm(u,o)&&Sm(o,u)&&function(s,h){let g=s,f=!1;const _=(s.x+h.x)/2,F=(s.y+h.y)/2;do g.y>F!=g.next.y>F&&g.next.y!==g.y&&_<(g.next.x-g.x)*(F-g.y)/(g.next.y-g.y)+g.x&&(f=!f),g=g.next;while(g!==s);return f}(u,o)&&(sr(u.prev,u,o.prev)||sr(u,o.prev,o))||hy(u,o)&&sr(u.prev,u,u.next)>0&&sr(o.prev,o,o.next)>0)}function sr(u,o,s){return(o.y-u.y)*(s.x-o.x)-(o.x-u.x)*(s.y-o.y)}function hy(u,o){return u.x===o.x&&u.y===o.y}function G5(u,o,s,h){const g=py(sr(u,o,s)),f=py(sr(u,o,h)),_=py(sr(s,h,u)),F=py(sr(s,h,o));return g!==f&&_!==F||!(g!==0||!fy(u,s,o))||!(f!==0||!fy(u,h,o))||!(_!==0||!fy(s,u,h))||!(F!==0||!fy(s,o,h))}function fy(u,o,s){return o.x<=Math.max(u.x,s.x)&&o.x>=Math.min(u.x,s.x)&&o.y<=Math.max(u.y,s.y)&&o.y>=Math.min(u.y,s.y)}function py(u){return u>0?1:u<0?-1:0}function Sm(u,o){return sr(u.prev,u,u.next)<0?sr(u,o,u.next)>=0&&sr(u,u.prev,o)>=0:sr(u,o,u.prev)<0||sr(u,u.next,o)<0}function H5(u,o){const s=Bv(u.i,u.x,u.y),h=Bv(o.i,o.x,o.y),g=u.next,f=o.prev;return u.next=o,o.prev=u,s.next=g,g.prev=s,h.next=s,s.prev=h,f.next=h,h.prev=f,h}function q5(u,o,s,h){const g=Bv(u,o,s);return h?(g.next=h.next,g.prev=h,h.next.prev=g,h.next=g):(g.prev=g,g.next=g),g}function Tm(u){u.next.prev=u.prev,u.prev.next=u.next,u.prevZ&&(u.prevZ.nextZ=u.nextZ),u.nextZ&&(u.nextZ.prevZ=u.prevZ)}function Bv(u,o,s){return{i:u,x:o,y:s,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function my(u,o){const s=u.length;if(s<=1)return[u];const h=[];let g,f;for(let _=0;_<s;_++){const F=Ml(u[_]);F!==0&&(u[_].area=Math.abs(F),f===void 0&&(f=F<0),f===F<0?(g&&h.push(g),g=[u[_]]):g.push(u[_]))}if(g&&h.push(g),o>1)for(let _=0;_<h.length;_++)h[_].length<=o||(l_(h[_],o,1,h[_].length-1,gk),h[_]=h[_].slice(0,o));return h}function gk(u,o){return o.area-u.area}function jv(u,o,s){const h=s.patternDependencies;let g=!1;for(const f of o){const _=f.paint.get(`${u}-pattern`);_.isConstant()||(g=!0);const F=_.constantOr(null);F&&(g=!0,h[F]=!0)}return g}function zv(u,o,s,h,g){const f=g.patternDependencies;for(const _ of o){const F=_.paint.get(`${u}-pattern`).value;if(F.kind!=="constant"){let R=F.evaluate({zoom:h},s,{},g.availableImages);R=R&&R.name?R.name:R,f[R]=!0,s.patterns[_.id]=R}}return s}class Vv{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(s=>s.fqid),this.index=o.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Sc,this.indexArray=new fo,this.indexArray2=new Rc,this.programConfigurations=new bs(o.layers,{zoom:o.zoom,lut:o.lut}),this.segments=new Po,this.segments2=new Po,this.stateDependentLayerIds=this.layers.filter(s=>s.isStateDependent()).map(s=>s.id),this.projection=o.projection}updateFootprints(o,s){}populate(o,s,h,g){this.hasPattern=jv("fill",this.layers,s);const f=this.layers[0].layout.get("fill-sort-key"),_=[];for(const{feature:F,id:R,index:M,sourceLayerIndex:v}of o){const T=this.layers[0]._featureFilter.needGeometry,I=Ot(F,T);if(!this.layers[0]._featureFilter.filter(new _o(this.zoom),I,h))continue;const S=f?f.evaluate(I,{},h,s.availableImages):void 0,P={id:R,properties:F.properties,type:F.type,sourceLayerIndex:v,index:M,geometry:T?I.geometry:st(F,h,g),patterns:{},sortKey:S};_.push(P)}f&&_.sort((F,R)=>F.sortKey-R.sortKey);for(const F of _){const{geometry:R,index:M,sourceLayerIndex:v}=F;if(this.hasPattern){const T=zv("fill",this.layers,F,this.zoom,s);this.patternFeatures.push(T)}else this.addFeature(F,R,M,h,{},s.availableImages,s.brightness);s.featureIndex.insert(o[M].feature,R,M,v,this.index)}}update(o,s,h,g,f){const _=Object.keys(o).length!==0;_&&!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(o,s,_?this.stateDependentLayers:this.layers,h,g,f)}addFeatures(o,s,h,g,f,_){for(const F of this.patternFeatures)this.addFeature(F,F.geometry,F.index,s,h,g,_)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,ak),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.indexBuffer2=o.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(o,s,h,g,f,_=[],F){for(const R of my(s,500)){let M=0;for(const D of R)M+=D.length;const v=this.segments.prepareSegment(M,this.layoutVertexArray,this.indexArray),T=v.vertexLength,I=[],S=[];for(const D of R){if(D.length===0)continue;D!==R[0]&&S.push(I.length/2);const N=this.segments2.prepareSegment(D.length,this.layoutVertexArray,this.indexArray2),U=N.vertexLength;this.layoutVertexArray.emplaceBack(D[0].x,D[0].y),this.indexArray2.emplaceBack(U+D.length-1,U),I.push(D[0].x),I.push(D[0].y);for(let Z=1;Z<D.length;Z++)this.layoutVertexArray.emplaceBack(D[Z].x,D[Z].y),this.indexArray2.emplaceBack(U+Z-1,U+Z),I.push(D[Z].x),I.push(D[Z].y);N.vertexLength+=D.length,N.primitiveLength+=D.length}const P=Cm(I,S);for(let D=0;D<P.length;D+=3)this.indexArray.emplaceBack(T+P[D],T+P[D+1],T+P[D+2]);v.vertexLength+=M,v.primitiveLength+=P.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,h,f,_,g,F)}}let W5,K5,Z5,Q5;hi(Vv,"FillBucket",{omit:["layers","patternFeatures"]});class Nv{constructor(o,s,h,g){if(this.triangleCount=s.length/3,this.min=new K(0,0),this.max=new K(0,0),this.xScale=0,this.yScale=0,this.cellsX=0,this.cellsY=0,this.cells=[],this.payload=[],this.triangleCount===0||o.length===0)return;const[f,_]=[o[0].clone(),o[0].clone()];for(let T=1;T<o.length;++T){const I=o[T];f.x=Math.min(f.x,I.x),f.y=Math.min(f.y,I.y),_.x=Math.max(_.x,I.x),_.y=Math.max(_.y,I.y)}if(g){const T=Math.ceil(Math.max(_.x-f.x,_.y-f.y)/g);h=Math.max(h,T)}if(h===0)return;this.min=f,this.max=_;const F=this.max.sub(this.min);F.x=Math.max(F.x,1),F.y=Math.max(F.y,1);const R=Math.max(F.x,F.y)/h;this.cellsX=Math.max(1,Math.ceil(F.x/R)),this.cellsY=Math.max(1,Math.ceil(F.y/R)),this.xScale=1/R,this.yScale=1/R;const M=[];for(let T=0;T<this.triangleCount;T++){const I=o[s[3*T+0]].sub(this.min),S=o[s[3*T+1]].sub(this.min),P=o[s[3*T+2]].sub(this.min),D=Ic(Math.floor(Math.min(I.x,S.x,P.x)),this.xScale,this.cellsX),N=Ic(Math.floor(Math.max(I.x,S.x,P.x)),this.xScale,this.cellsX),U=Ic(Math.floor(Math.min(I.y,S.y,P.y)),this.yScale,this.cellsY),Z=Ic(Math.floor(Math.max(I.y,S.y,P.y)),this.yScale,this.cellsY),X=new K(0,0),q=new K(0,0),te=new K(0,0),ie=new K(0,0);for(let de=U;de<=Z;++de){X.y=q.y=de*R,te.y=ie.y=(de+1)*R;for(let Ee=D;Ee<=N;++Ee)X.x=te.x=Ee*R,q.x=ie.x=(Ee+1)*R,(Fn(I,S,P,X,q,ie)||Fn(I,S,P,X,ie,te))&&M.push({cellIdx:de*this.cellsX+Ee,triIdx:T})}}if(M.length===0)return;M.sort((T,I)=>T.cellIdx-I.cellIdx||T.triIdx-I.triIdx);let v=0;for(;v<M.length;){const T=M[v].cellIdx,I={start:this.payload.length,len:0};for(;v<M.length&&M[v].cellIdx===T;)++I.len,this.payload.push(M[v++].triIdx);this.cells[T]=I}}_lazyInitLookup(){this.lookup||(this.lookup=new Uint8Array(Math.ceil(this.triangleCount/8))),this.lookup.fill(0)}queryPoint(o,s){if(this.triangleCount===0||this.cells.length===0||o.x>this.max.x||this.min.x>o.x||o.y>this.max.y||this.min.y>o.y)return;const h=Ic(o.x-this.min.x,this.xScale,this.cellsX),g=Ic(o.y-this.min.y,this.yScale,this.cellsY),f=this.cells[g*this.cellsX+h];if(f){this._lazyInitLookup();for(let _=0;_<f.len;_++){const F=this.payload[f.start+_],R=Math.floor(F/8),M=1<<F%8;if(!(this.lookup[R]&M)&&(this.lookup[R]|=M,s.push(F),s.length===this.triangleCount))return}}}query(o,s,h){if(this.triangleCount===0||this.cells.length===0||o.x>this.max.x||this.min.x>s.x||o.y>this.max.y||this.min.y>s.y)return;this._lazyInitLookup();const g=Ic(o.x-this.min.x,this.xScale,this.cellsX),f=Ic(s.x-this.min.x,this.xScale,this.cellsX),_=Ic(o.y-this.min.y,this.yScale,this.cellsY),F=Ic(s.y-this.min.y,this.yScale,this.cellsY);for(let R=_;R<=F;R++)for(let M=g;M<=f;M++){const v=this.cells[R*this.cellsX+M];if(v)for(let T=0;T<v.len;T++){const I=this.payload[v.start+T],S=Math.floor(I/8),P=1<<I%8;if(!(this.lookup[S]&P)&&(this.lookup[S]|=P,h.push(I),h.length===this.triangleCount))return}}}}function Ic(u,o,s){return Math.max(0,Math.min(s-1,Math.floor(u*o)))}hi(Nv,"TriangleGridIndex");class X5{constructor(o){this.zoom=o.zoom,this.layers=o.layers,this.layerIds=this.layers.map(s=>s.fqid),this.index=o.index,this.hasPattern=!1,this.stateDependentLayerIds=this.layers.filter(s=>s.isStateDependent()).map(s=>s.id),this.footprints=[]}updateFootprints(o,s){for(const h of this.footprints)s.push({footprint:h,id:o})}populate(o,s,h,g){const f=[];for(const{feature:_,id:F,index:R,sourceLayerIndex:M}of o){const v=this.layers[0]._featureFilter.needGeometry,T=Ot(_,v);if(!this.layers[0]._featureFilter.filter(new _o(this.zoom),T,h))continue;const I={id:F,properties:_.properties,type:_.type,sourceLayerIndex:M,index:R,geometry:v?T.geometry:st(_,h,g),patterns:{}};f.push(I)}for(const _ of f){const{geometry:F,index:R,sourceLayerIndex:M}=_;this.addFeature(_,F,R,h,{},s.availableImages,s.brightness),s.featureIndex.insert(o[R].feature,F,R,M,this.index)}}isEmpty(){return this.footprints.length===0}uploadPending(){return!1}upload(o){}update(o,s,h,g,f){}destroy(){}addFeature(o,s,h,g,f,_=[],F){for(const R of my(s,2)){const M=[],v=[],T=[],I=new K(1/0,1/0),S=new K(-1/0,-1/0);for(const N of R)if(N.length!==0){N!==R[0]&&T.push(v.length/2);for(let U=0;U<N.length;U++)v.push(N[U].x),v.push(N[U].y),M.push(N[U]),I.x=Math.min(I.x,N[U].x),I.y=Math.min(I.y,N[U].y),S.x=Math.max(S.x,N[U].x),S.y=Math.max(S.y,N[U].y)}const P=Cm(v,T),D=new Nv(M,P,8,256);this.footprints.push({vertices:M,indices:P,grid:D,min:I,max:S})}}}hi(X5,"ClipBucket",{omit:["layers"]});const _k=xn([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),yk=xn([{name:"a_pos_end",components:4,type:"Int16"},{name:"a_angular_offset_factor",components:1,type:"Int16"}]),bk=xn([{name:"a_centroid_pos",components:2,type:"Uint16"}]),vk=xn([{name:"a_join_normal_inside",components:3,type:"Int16"}]),xk=xn([{name:"a_hidden_by_landmark",components:1,type:"Uint8"}]),wk=xn([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:Fk}=_k;var $v,J5,Uv,Y5,Gv,ew,tw,gy={};function iw(){if(J5)return $v;J5=1;var u=ze();function o(g,f,_,F,R){this.properties={},this.extent=_,this.type=0,this._pbf=g,this._geometry=-1,this._keys=F,this._values=R,g.readFields(s,this,f)}function s(g,f,_){g==1?f.id=_.readVarint():g==2?function(F,R){for(var M=F.readVarint()+F.pos;F.pos<M;){var v=R._keys[F.readVarint()],T=R._values[F.readVarint()];R.properties[v]=T}}(_,f):g==3?f.type=_.readVarint():g==4&&(f._geometry=_.pos)}function h(g){for(var f,_,F=0,R=0,M=g.length,v=M-1;R<M;v=R++)F+=((_=g[v]).x-(f=g[R]).x)*(f.y+_.y);return F}return $v=o,o.types=["Unknown","Point","LineString","Polygon"],o.prototype.loadGeometry=function(){var g=this._pbf;g.pos=this._geometry;for(var f,_=g.readVarint()+g.pos,F=1,R=0,M=0,v=0,T=[];g.pos<_;){if(R<=0){var I=g.readVarint();F=7&I,R=I>>3}if(R--,F===1||F===2)M+=g.readSVarint(),v+=g.readSVarint(),F===1&&(f&&T.push(f),f=[]),f.push(new u(M,v));else{if(F!==7)throw new Error("unknown command "+F);f&&f.push(f[0].clone())}}return f&&T.push(f),T},o.prototype.bbox=function(){var g=this._pbf;g.pos=this._geometry;for(var f=g.readVarint()+g.pos,_=1,F=0,R=0,M=0,v=1/0,T=-1/0,I=1/0,S=-1/0;g.pos<f;){if(F<=0){var P=g.readVarint();_=7&P,F=P>>3}if(F--,_===1||_===2)(R+=g.readSVarint())<v&&(v=R),R>T&&(T=R),(M+=g.readSVarint())<I&&(I=M),M>S&&(S=M);else if(_!==7)throw new Error("unknown command "+_)}return[v,I,T,S]},o.prototype.toGeoJSON=function(g,f,_){var F,R,M=this.extent*Math.pow(2,_),v=this.extent*g,T=this.extent*f,I=this.loadGeometry(),S=o.types[this.type];function P(U){for(var Z=0;Z<U.length;Z++){var X=U[Z];U[Z]=[360*(X.x+v)/M-180,360/Math.PI*Math.atan(Math.exp((180-360*(X.y+T)/M)*Math.PI/180))-90]}}switch(this.type){case 1:var D=[];for(F=0;F<I.length;F++)D[F]=I[F][0];P(I=D);break;case 2:for(F=0;F<I.length;F++)P(I[F]);break;case 3:for(I=function(U){var Z=U.length;if(Z<=1)return[U];for(var X,q,te=[],ie=0;ie<Z;ie++){var de=h(U[ie]);de!==0&&(q===void 0&&(q=de<0),q===de<0?(X&&te.push(X),X=[U[ie]]):X.push(U[ie]))}return X&&te.push(X),te}(I),F=0;F<I.length;F++)for(R=0;R<I[F].length;R++)P(I[F][R])}I.length===1?I=I[0]:S="Multi"+S;var N={type:"Feature",geometry:{type:S,coordinates:I},properties:this.properties};return"id"in this&&(N.id=this.id),N},$v}function nw(){if(Y5)return Uv;Y5=1;var u=iw();function o(h,g){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=h,this._keys=[],this._values=[],this._features=[],h.readFields(s,this,g),this.length=this._features.length}function s(h,g,f){h===15?g.version=f.readVarint():h===1?g.name=f.readString():h===5?g.extent=f.readVarint():h===2?g._features.push(f.pos):h===3?g._keys.push(f.readString()):h===4&&g._values.push(function(_){for(var F=null,R=_.readVarint()+_.pos;_.pos<R;){var M=_.readVarint()>>3;F=M===1?_.readString():M===2?_.readFloat():M===3?_.readDouble():M===4?_.readVarint64():M===5?_.readVarint():M===6?_.readSVarint():M===7?_.readBoolean():null}return F}(f))}return Uv=o,o.prototype.feature=function(h){if(h<0||h>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[h];var g=this._pbf.readVarint()+this._pbf.pos;return new u(this._pbf,g,this.extent,this._keys,this._values)},Uv}function ow(){return tw||(tw=1,gy.VectorTile=function(){if(ew)return Gv;ew=1;var u=nw();function o(s,h,g){if(s===3){var f=new u(g,g.readVarint()+g.pos);f.length&&(h[f.name]=f)}}return Gv=function(s,h){this.layers=s.readFields(o,{},h)},Gv}(),gy.VectorTileFeature=iw(),gy.VectorTileLayer=nw()),gy}var Nf=ow();class ih extends K{constructor(o,s,h){super(o,s),this.z=h}}class rw extends ih{constructor(o,s,h,g){super(o,s,h),this.w=g}}function _y(u,o,s,h){const g=[],f=h===0?(_,F,R,M,v,T)=>{_.push(new K(T,R+(T-F)/(M-F)*(v-R)))}:(_,F,R,M,v,T)=>{_.push(new K(F+(T-R)/(v-R)*(M-F),T))};for(const _ of u){const F=[];for(const R of _){if(R.length<=2)continue;const M=[];for(let I=0;I<R.length-1;I++){const S=R[I].x,P=R[I].y,D=R[I+1].x,N=R[I+1].y,U=h===0?S:P,Z=h===0?D:N;U<o?Z>o&&f(M,S,P,D,N,o):U>s?Z<s&&f(M,S,P,D,N,s):M.push(R[I]),Z<o&&U>=o&&f(M,S,P,D,N,o),Z>s&&U<=s&&f(M,S,P,D,N,s)}let v=R[R.length-1];const T=h===0?v.x:v.y;T>=o&&T<=s&&M.push(v),M.length&&(v=M[M.length-1],M[0].x===v.x&&M[0].y===v.y||M.push(M[0]),F.push(M))}F.length&&g.push(F)}return g}function aw(u,o,s,h){const g=s==="x"?"y":"x",f=(h-u[s])/(o[s]-u[s]);u[g]=u[g]+(o[g]-u[g])*f,u[s]=h,u.hasOwnProperty("z")&&(u.z=Oi(u.z,o.z,f)),u.hasOwnProperty("w")&&(u.w=Oi(u.w,o.w,f))}function sw(u,o,s,h){const g=s,f=h;for(const _ of["x","y"]){let F=u,R=o;F[_]>=R[_]&&(F=o,R=u),F[_]<g&&R[_]>g&&aw(F,R,_,g),F[_]<f&&R[_]>f&&aw(R,F,_,f)}}const yy=Number.MAX_SAFE_INTEGER;function cw(u,o,s,h){return u.order<o||u.order===yy||!(u.clipMask&s)||function(g,f){return f.length!==0&&f.find(_=>_===g)===void 0}(h,u.clipScope)}function by(u,o){return u.x-o.x||u.y-o.y}function lw(u,o){return by(u.min,o.min)===0&&by(u.max,o.max)===0}function Hv(u,o){return!(u.min.x>o.max.x||u.max.x<o.min.x||u.min.y>o.max.y||u.max.y<o.min.y)}function qv(u,o){if(u.length!==o.length)return!1;for(let s=0;s<u.length;s++)if(u[s].sourceId!==o[s].sourceId||!lw(u[s],o[s])||u[s].order!==o[s].order||u[s].clipMask!==o[s].clipMask||!et(u[s].clipScope,o[s].clipScope))return!1;return!0}function dw(u,o,s){const h=1/Yt,g=1/(1<<s.canonical.z),f=(o.x*h+s.canonical.x)*g+s.wrap,_=(o.y*h+s.canonical.y)*g;return{min:new K((u.x*h+s.canonical.x)*g+s.wrap,(u.y*h+s.canonical.y)*g),max:new K(f,_)}}function Ck(u,o,s){const h=1<<s.canonical.z,g=((o.x-s.wrap)*h-s.canonical.x)*Yt,f=(o.y*h-s.canonical.y)*Yt;return{min:new K(((u.x-s.wrap)*h-s.canonical.x)*Yt,(u.y*h-s.canonical.y)*Yt),max:new K(g,f)}}function uw(u,o,s,h,g,f,_){const F=u.indices,R=u.vertices,M=[];for(let v=h;v<h+g;v+=3){const T=o[s[v+0]+f],I=o[s[v+1]+f],S=o[s[v+2]+f],P=Math.min(T.x,I.x,S.x),D=Math.max(T.x,I.x,S.x),N=Math.min(T.y,I.y,S.y),U=Math.max(T.y,I.y,S.y);M.length=0,u.grid.query(new K(P,N),new K(D,U),M);for(let Z=0;Z<M.length;Z++){const X=M[Z];if(Fn(R[F[3*X+0]],R[F[3*X+1]],R[F[3*X+2]],T,I,S,_))return!0}}return!1}function hw(u,o,s,h){if(!u||!s)return!1;let g=u.vertices;if(!o.canonical.equals(h.canonical)||o.wrap!==h.wrap){if(s.vertices.length<u.vertices.length)return hw(s,h,u,o);const f=o.canonical,_=h.canonical,F=Math.pow(2,_.z-f.z);g=u.vertices.map(R=>new K((R.x+f.x*Yt)*F-_.x*Yt,(R.y+f.y*Yt)*F-_.y*Yt))}return uw(s,g,u.indices,0,u.indices.length,0,0)}function fw(u,o,s,h){const g=Math.pow(2,h.z-s.z);return new K((u+s.x*Yt)*g-h.x*Yt,(o+s.y*Yt)*g-h.y*Yt)}function pw(u,o){const s=[];o.grid.queryPoint(u,s);const h=o.indices,g=o.vertices;for(let f=0;f<s.length;f++){const _=s[f];if(cn([g[h[3*_+0]],g[h[3*_+1]],g[h[3*_+2]]],u))return!0}return!1}const Wv=[new K(0,0),new K(Yt,0),new K(Yt,Yt),new K(0,Yt)];function mw(u,o){const s=[];let h=[];if(!o||u.length<2)return[u];if(u.length===2)return _n(u[0],u[1],Wv)?[u]:[];for(let g=0;g<u.length+2;g++){const f=u[g%u.length],_=u[(g+1)%u.length],F=_n(g===0?u[u.length-1]:u[(g-1)%u.length],f,Wv),R=_n(f,_,Wv),M=F||R;M&&h.push(f),M&&R||h.length>0&&(h.length>1&&s.push(h),h=[])}return h.length>1&&s.push(h),s}const Kv=Nf.VectorTileFeature.types,Ek=["fill-extrusion-base","fill-extrusion-height","fill-extrusion-color","fill-extrusion-pattern","fill-extrusion-flood-light-wall-radius","fill-extrusion-line-width","fill-extrusion-emissive-strength"],Sk=["fill-extrusion-flood-light-ground-radius"],Tk=Math.pow(2,13),Rk=Math.pow(2,15)-1,gw=new K(0,1),xd=2147483648;function Rm(u,o,s,h,g,f,_,F){u.emplaceBack((o<<1)+_,(s<<1)+f,(Math.floor(h*Tk)<<1)+g,Math.round(F))}function Pm(u,o,s){u.emplaceBack(o.x*Yt,o.y*Yt,s?1:0)}function vy(u,o,s,h,g,f){u.emplaceBack(o.x,o.y,(s.x<<1)+h,(s.y<<1)+g,f)}function Im(u,o,s){u.emplaceBack(o.x,o.y,o.z,s[0]*16384,s[1]*16384,s[2]*16384)}class _w{constructor(){this.vertexOffset=0,this.vertexCount=0,this.indexOffset=0,this.indexCount=0}}class yw{constructor(){this.centroidXY=new K(0,0),this.vertexArrayOffset=0,this.vertexCount=0,this.groundVertexArrayOffset=0,this.groundVertexCount=0,this.flags=0,this.footprintSegIdx=-1,this.footprintSegLen=0,this.polygonSegIdx=-1,this.polygonSegLen=0,this.min=new K(Number.MAX_VALUE,Number.MAX_VALUE),this.max=new K(-Number.MAX_VALUE,-Number.MAX_VALUE),this.height=0}span(){return new K(this.max.x-this.min.x,this.max.y-this.min.y)}}class bw{constructor(){this.acc=new K(0,0),this.accCount=0,this.centroidDataIndex=0}startRing(o,s){o.min.x===Number.MAX_VALUE&&(o.min.x=o.max.x=s.x,o.min.y=o.max.y=s.y)}appendEdge(o,s,h){this.accCount++,this.acc._add(s);let g=!!this.borders;s.x<o.min.x?(o.min.x=s.x,g=!0):s.x>o.max.x&&(o.max.x=s.x,g=!0),s.y<o.min.y?(o.min.y=s.y,g=!0):s.y>o.max.y&&(o.max.y=s.y,g=!0),((s.x===0||s.x===Yt)&&s.x===h.x)!=((s.y===0||s.y===Yt)&&s.y===h.y)&&this.processBorderOverlap(s,h),g&&this.checkBorderIntersection(s,h)}checkBorderIntersection(o,s){s.x<0!=o.x<0&&this.addBorderIntersection(0,Oi(s.y,o.y,(0-s.x)/(o.x-s.x))),s.x>Yt!=o.x>Yt&&this.addBorderIntersection(1,Oi(s.y,o.y,(Yt-s.x)/(o.x-s.x))),s.y<0!=o.y<0&&this.addBorderIntersection(2,Oi(s.x,o.x,(0-s.y)/(o.y-s.y))),s.y>Yt!=o.y>Yt&&this.addBorderIntersection(3,Oi(s.x,o.x,(Yt-s.y)/(o.y-s.y)))}addBorderIntersection(o,s){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const h=this.borders[o];s<h[0]&&(h[0]=s),s>h[1]&&(h[1]=s)}processBorderOverlap(o,s){if(o.x===s.x){if(o.y===s.y)return;const h=o.x===0?0:1;this.addBorderIntersection(h,s.y),this.addBorderIntersection(h,o.y)}else{const h=o.y===0?2:3;this.addBorderIntersection(h,s.x),this.addBorderIntersection(h,o.x)}}centroid(){return this.accCount===0?new K(0,0):new K(Math.floor(Math.max(0,this.acc.x)/this.accCount),Math.floor(Math.max(0,this.acc.y)/this.accCount))}intersectsCount(){return this.borders?this.borders.reduce((o,s)=>o+ +(s[0]!==Number.MAX_VALUE),0):0}}function vw(u,o){const s=u.add(o)._unit(),h=nt(u.x*s.x+u.y*s.y,-1,1);var g,f,_;return _=Math.acos(h),Math.min(4,Math.max(-4,Math.tan(_)))/4*Rk*((g=u).x*(f=o).y-g.y*f.x<0?-1:1)}const Pk=[u=>u.x<0,u=>u.x>Yt,u=>u.y<0,u=>u.y>Yt];function Ik(u,o,s,h){const g=[4];if(h===0)return g;s._mult(h);const f=u.sub(s),_=o.sub(s),F=[u,o,f,_];for(let R=0;R<4;R++)for(const M of F)if(Pk[R](M)){g.push(R);break}return g}class xw{constructor(o){this.vertexArray=new sm,this.indexArray=new fo,this.programConfigurations=new bs(o.layers,{zoom:o.zoom,lut:o.lut},s=>Sk.includes(s)),this._segments=new Po,this.hiddenByLandmarkVertexArray=new Of,this._segmentToGroundQuads={},this._segmentToGroundQuads[0]=[],this._segmentToRegionTriCounts={},this._segmentToRegionTriCounts[0]=[0,0,0,0,0],this.regionSegments={},this.regionSegments[4]=new Po}getDefaultSegment(){return this.regionSegments[4]}hasData(){return this.vertexArray.length!==0}addData(o,s,h,g=!1){const f=o.length;if(f>2){let _=Math.max(0,this._segments.get().length-1);const F=this._segments._prepareSegment(4*f,this.vertexArray.length,2*this._segmentToGroundQuads[_].length);let R;_!==this._segments.get().length-1&&(_++,this._segmentToGroundQuads[_]=[],this._segmentToRegionTriCounts[_]=[0,0,0,0,0]);{const M=o[0],v=o[1];R=vw(M.sub(o[f-1])._perp()._unit(),v.sub(M)._perp()._unit())}for(let M=0;M<f;M++){const v=M===f-1?0:M+1,T=o[M],I=o[v],S=o[v===f-1?0:v+1],P=I.sub(T)._perp()._unit(),D=vw(P,S.sub(I)._perp()._unit()),N=R,U=D;if(Zv(T,I,s)||g&&Cw(T,s)&&Cw(I,s)){R=D;continue}const Z=F.vertexLength;vy(this.vertexArray,T,I,1,1,N),vy(this.vertexArray,T,I,1,0,N),vy(this.vertexArray,T,I,0,1,U),vy(this.vertexArray,T,I,0,0,U),F.vertexLength+=4;const X=Ik(T,I,P,h);for(const q of X)this._segmentToGroundQuads[_].push({id:Z,region:q}),this._segmentToRegionTriCounts[_][q]+=2,F.primitiveLength+=2;R=D}}}prepareBorderSegments(){if(!this.hasData())return;const o=this._segments.get(),s=o.length;for(let h=0;h<s;h++)this._segmentToGroundQuads[h].sort((g,f)=>g.region-f.region);for(let h=0;h<s;h++){const g=this._segmentToGroundQuads[h],f=o[h],_=this._segmentToRegionTriCounts[h];_.reduce((R,M)=>R+M,0);let F=0;for(let R=0;R<=4;R++){const M=_[R];if(M!==0){let v=this.regionSegments[R];v||(v=this.regionSegments[R]=new Po);const T={vertexOffset:f.vertexOffset,primitiveOffset:f.primitiveOffset+F,vertexLength:f.vertexLength,primitiveLength:M};v.get().push(T)}F+=M}for(let R=0;R<g.length;R++){const M=g[R].id;this.indexArray.emplaceBack(M,M+1,M+3),this.indexArray.emplaceBack(M,M+3,M+2)}}this._segmentToGroundQuads=null,this._segmentToRegionTriCounts=null,this._segments.destroy(),this._segments=null}addPaintPropertiesData(o,s,h,g,f,_){this.hasData()&&this.programConfigurations.populatePaintArrays(this.vertexArray.length,o,s,h,g,f,_)}upload(o){this.hasData()&&(this.vertexBuffer=o.createVertexBuffer(this.vertexArray,yk.members),this.indexBuffer=o.createIndexBuffer(this.indexArray))}uploadPaintProperties(o){this.hasData()&&this.programConfigurations.upload(o)}update(o,s,h,g,f,_){this.hasData()&&this.programConfigurations.updatePaintArrays(o,s,h,g,f,_)}updateHiddenByLandmark(o){if(!this.hasData())return;const s=o.groundVertexCount+o.groundVertexArrayOffset;if(o.groundVertexCount===0)return;const h=o.flags&xd?1:0;for(let g=o.groundVertexArrayOffset;g<s;++g)this.hiddenByLandmarkVertexArray.emplace(g,h);this._needsHiddenByLandmarkUpdate=!0}uploadHiddenByLandmark(o){this.hasData()&&this._needsHiddenByLandmarkUpdate&&(!this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexArray.length>0?this.hiddenByLandmarkVertexBuffer=o.createVertexBuffer(this.hiddenByLandmarkVertexArray,xk.members,!0):this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexBuffer.updateData(this.hiddenByLandmarkVertexArray),this._needsHiddenByLandmarkUpdate=!1)}destroy(){if(this.vertexBuffer){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexBuffer.destroy(),this._segments&&this._segments.destroy(),this.programConfigurations.destroy();for(let o=0;o<=4;o++){const s=this.regionSegments[o];s&&s.destroy()}}}}class xy{constructor(o){this.zoom=o.zoom,this.canonical=o.canonical,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(s=>s.fqid),this.index=o.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=o.projection,this.activeReplacements=[],this.replacementUpdateTime=0,this.centroidData=[],this.footprintIndices=new fo,this.footprintVertices=new Sc,this.footprintSegments=[],this.layoutVertexArray=new ld,this.centroidVertexArray=new ty,this.wallVertexArray=new gm,this.indexArray=new fo,this.programConfigurations=new bs(o.layers,{zoom:o.zoom,lut:o.lut},s=>Ek.includes(s)),this.segments=new Po,this.stateDependentLayerIds=this.layers.filter(s=>s.isStateDependent()).map(s=>s.id),this.groundEffect=new xw(o),this.maxHeight=0,this.partLookup={},this.triangleSubSegments=[],this.polygonSegments=[]}updateFootprints(o,s){}populate(o,s,h,g){this.features=[],this.hasPattern=jv("fill-extrusion",this.layers,s),this.featuresOnBorder=[],this.borderFeatureIndices=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=$e(h),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter,this.wallMode=this.layers[0].paint.get("fill-extrusion-line-width").constantOr(1)!==0;for(const{feature:f,id:_,index:F,sourceLayerIndex:R}of o){const M=this.layers[0]._featureFilter.needGeometry,v=Ot(f,M);if(!this.layers[0]._featureFilter.filter(new _o(this.zoom),v,h))continue;const T={id:_,sourceLayerIndex:R,index:F,geometry:M?v.geometry:st(f,h,g),properties:f.properties,type:f.type,patterns:{}},I=this.layoutVertexArray.length,S=Kv[T.type]==="Polygon";if(this.hasPattern)this.features.push(zv("fill-extrusion",this.layers,T,this.zoom,s));else if(this.wallMode)for(const P of T.geometry)for(const D of mw(P,S))this.addFeature(T,[D],F,h,{},s.availableImages,g,s.brightness);else this.addFeature(T,T.geometry,F,h,{},s.availableImages,g,s.brightness);s.featureIndex.insert(f,T.geometry,F,R,this.index,I)}this.sortBorders(),this.projection.name==="mercator"&&this.splitToSubtiles(),this.groundEffect.prepareBorderSegments(),this.polygonSegments.length=0}addFeatures(o,s,h,g,f,_){for(const F of this.features){const R=Kv[F.type]==="Polygon",{geometry:M}=F;if(this.wallMode)for(const v of M)for(const T of mw(v,R))this.addFeature(F,[T],F.index,s,h,g,f,_);else this.addFeature(F,M,F.index,s,h,g,f,_)}this.sortBorders(),this.projection.name==="mercator"&&this.splitToSubtiles()}update(o,s,h,g,f){const _=Object.keys(o).length!==0;if(_&&!this.stateDependentLayers.length)return;const F=_?this.stateDependentLayers:this.layers;this.programConfigurations.updatePaintArrays(o,s,F,h,g,f),this.groundEffect.update(o,s,F,h,g,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload||this.groundEffect.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,Fk),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.wallVertexBuffer=o.createVertexBuffer(this.wallVertexArray,vk.members),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=o.createVertexBuffer(this.layoutVertexExtArray,wk.members,!0)),this.groundEffect.upload(o)),this.groundEffect.uploadPaintProperties(o),this.programConfigurations.upload(o),this.uploaded=!0}uploadCentroid(o){this.groundEffect.uploadHiddenByLandmark(o),this.needsCentroidUpdate&&(!this.centroidVertexBuffer&&this.centroidVertexArray.length>0?this.centroidVertexBuffer=o.createVertexBuffer(this.centroidVertexArray,bk.members,!0):this.centroidVertexBuffer&&this.centroidVertexBuffer.updateData(this.centroidVertexArray),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.groundEffect.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(o,s,h,g,f,_,F,R){const M=this.layers[0].paint.get("fill-extrusion-flood-light-ground-radius").evaluate(o,{})/this.tileToMeter,v=[new K(0,0),new K(Yt,Yt)],T=F.projection,I=T.name==="globe",S=this.wallMode||Kv[o.type]==="Polygon",P=new bw;P.centroidDataIndex=this.centroidData.length;const D=new yw,N=this.layers[0].paint.get("fill-extrusion-base").evaluate(o,{},g)<=0,U=this.layers[0].paint.get("fill-extrusion-height").evaluate(o,{},g);let Z;if(D.height=U,D.vertexArrayOffset=this.layoutVertexArray.length,D.groundVertexArrayOffset=this.groundEffect.vertexArray.length,I&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new qu),this.wallMode){if(I)return void an("Non zero fill-extrusion-line-width is not yet supported on globe.");if(s.length!==1)return;Z=function(xe){const Ve=xe[0].x===xe[xe.length-1].x&&xe[0].y===xe[xe.length-1].y;(function(qt){let zt=0;const Ci=qt.length;for(let si=0;si<Ci;si++)zt+=(qt[(si+1)%Ci].x-qt[si].x)*(qt[(si+1)%Ci].y+qt[si].y);return zt>=0})(xe)||(xe=xe.reverse());const Be={geometry:[],joinNormals:[],indices:[]},We=[],Ke=[],tt=[];let ht=xe.length;if(ht<(Ve?3:2))return Be;for(;ht>=2&&xe[ht-1].equals(xe[ht-2]);)ht--;let mt,lt,Pt,Nt,wt,ci=0;for(;ci<ht-1&&xe[ci].equals(xe[ci+1]);)ci++;Ve&&(mt=xe[ht-2],wt=xe[ci].sub(mt)._unit()._perp());for(let qt=ci;qt<ht;qt++){if(Pt=qt===ht-1?Ve?xe[ci+1]:void 0:xe[qt+1],Pt&&xe[qt].equals(Pt))continue;wt&&(Nt=wt),mt&&(lt=mt),mt=xe[qt],wt=Pt?Pt.sub(mt)._unit()._perp():Nt,Nt=Nt||wt;let zt=Nt.add(wt);zt.x===0&&zt.y===0||zt._unit();const Ci=zt.x*wt.x+zt.y*wt.y,si=Ci!==0?1/Ci:1/0,pi=Nt.x*wt.y-Nt.y*wt.x>0;let $i="miter";const Qi=2;$i==="miter"&&si>Qi&&($i="bevel"),$i==="bevel"&&(si>100&&($i="flipbevel"),si<Qi&&($i="miter"));const Xi=(Zi,on,en,Qn)=>{const Hn=new K(Zi.x,Zi.y),Di=new K(Zi.x,Zi.y);Hn.x+=on.x*Qn,Hn.y+=on.y*Qn,Di.x-=on.x*Math.max(en,1),Di.y-=on.y*Math.max(en,1),tt.push(on),We.push(Hn),Ke.push(Di)};if($i==="miter")zt._mult(si),Xi(mt,zt,0,0);else if($i==="flipbevel")zt=wt.mult(-1),Xi(mt,zt,0,0),Xi(mt,zt.mult(-1),0,0);else{const Zi=-Math.sqrt(si*si-1),on=pi?Zi:0,en=pi?0:Zi;lt&&Xi(mt,Nt,on,en),Pt&&Xi(mt,wt,on,en)}}Be.geometry=[...We,...Ke.reverse(),We[0]],Be.joinNormals=[...tt,...tt.reverse(),tt[tt.length-1]];const Jt=Be.geometry.length-1;for(let qt=0;qt<Jt/2;qt++)if(qt+1<Jt/2){let zt=qt,Ci=qt+1,si=Jt-1-qt,pi=Jt-2-qt;zt=zt===0?Jt-1:zt-1,Ci=Ci===0?Jt-1:Ci-1,si=si===0?Jt-1:si-1,pi=pi===0?Jt-1:pi-1,Be.indices.push(si),Be.indices.push(Ci),Be.indices.push(zt),Be.indices.push(si),Be.indices.push(pi),Be.indices.push(Ci)}return Be}(s[0]),s=[Z.geometry]}const X=(xe,Ve)=>xe<(Ve.length-1)/2||xe===Ve.length-1,q=this.wallMode?[s]:my(s,500);for(let xe=q.length-1;xe>=0;xe--){const Ve=q[xe];(Ve.length===0||(te=Ve[0]).every(ve=>ve.x<=0)||te.every(ve=>ve.x>=Yt)||te.every(ve=>ve.y<=0)||te.every(ve=>ve.y>=Yt))&&q.splice(xe,1)}var te;let ie;if(I)ie=Rw(q,v,g);else{ie=[];for(const xe of q)ie.push({polygon:xe,bounds:v})}const de=S?this.edgeRadius:0,Ee=de>0&&this.zoom<17,be=(xe,Ve)=>{if(xe.length===0)return!1;const ve=xe[xe.length-1];return Ve.x===ve.x&&Ve.y===ve.y};for(const{polygon:xe,bounds:Ve}of ie){let ve=0,Be=0;for(const ht of xe)S&&!ht[0].equals(ht[ht.length-1])&&ht.push(ht[0]),Be+=S?ht.length-1:ht.length;const We=this.segments.prepareSegment((S?5:4)*Be,this.layoutVertexArray,this.indexArray);D.footprintSegIdx<0&&(D.footprintSegIdx=this.footprintSegments.length),D.polygonSegIdx<0&&(D.polygonSegIdx=this.polygonSegments.length);const Ke={triangleArrayOffset:this.indexArray.length,triangleCount:0,triangleSegIdx:this.segments.segments.length-1},tt=new _w;if(tt.vertexOffset=this.footprintVertices.length,tt.indexOffset=3*this.footprintIndices.length,tt.ringIndices=[],S){const ht=[],mt=[];ve=We.vertexLength;for(let Pt=0;Pt<xe.length;Pt++){const Nt=xe[Pt];Nt.length&&Pt!==0&&mt.push(ht.length/2);const wt=[];let ci,Jt;ci=Nt[1].sub(Nt[0])._perp()._unit(),tt.ringIndices.push(Nt.length-1);for(let qt=1;qt<Nt.length;qt++){const zt=Nt[qt],Ci=Nt[qt===Nt.length-1?1:qt+1],si=zt.clone();if(de){Jt=Ci.sub(zt)._perp()._unit();const pi=ci.add(Jt)._unit(),$i=de*Math.min(4,1/(ci.x*pi.x+ci.y*pi.y));si.x+=$i*pi.x,si.y+=$i*pi.y,si.x=Math.round(si.x),si.y=Math.round(si.y),ci=Jt}if(!N||de!==0&&!Ee||be(wt,si)||wt.push(si),Rm(this.layoutVertexArray,si.x,si.y,0,0,1,1,0),this.wallMode){const pi=X(qt,Nt);Pm(this.wallVertexArray,Z.joinNormals[qt],!pi)}We.vertexLength++,this.footprintVertices.emplaceBack(zt.x,zt.y),ht.push(zt.x,zt.y),I&&Im(this.layoutVertexExtArray,T.projectTilePoint(si.x,si.y,g),T.upVector(g,si.x,si.y))}N&&(de===0||Ee)&&(wt.length!==0&&be(wt,wt[0])&&wt.pop(),this.groundEffect.addData(wt,Ve,M))}const lt=this.wallMode?Z.indices:Cm(ht,mt);for(let Pt=0;Pt<lt.length;Pt+=3)this.footprintIndices.emplaceBack(tt.vertexOffset+lt[Pt+0],tt.vertexOffset+lt[Pt+1],tt.vertexOffset+lt[Pt+2]),this.indexArray.emplaceBack(ve+lt[Pt],ve+lt[Pt+2],ve+lt[Pt+1]),We.primitiveLength++;tt.indexCount+=lt.length,tt.vertexCount+=this.footprintVertices.length-tt.vertexOffset}for(let ht=0;ht<xe.length;ht++){const mt=xe[ht];P.startRing(D,mt[0]);let lt=mt.length>4&&Ew(mt[mt.length-2],mt[0],mt[1]),Pt=de?kk(mt[mt.length-2],mt[0],mt[1],de):0;const Nt=[];let wt,ci,Jt;ci=mt[1].sub(mt[0])._perp()._unit();let qt=!0;for(let zt=1,Ci=0;zt<mt.length;zt++){let si=mt[zt-1],pi=mt[zt];const $i=mt[zt===mt.length-1?1:zt+1];if(P.appendEdge(D,pi,si),Zv(pi,si,Ve)){de&&(ci=$i.sub(pi)._perp()._unit(),qt=!qt);continue}const Qi=pi.sub(si)._perp(),Xi=Qi.x/(Math.abs(Qi.x)+Math.abs(Qi.y)),Zi=Qi.y>0?1:0,on=si.dist(pi);if(Ci+on>32768&&(Ci=0),de){Jt=$i.sub(pi)._perp()._unit();let Di=Fw(si,pi,$i,ww(ci,Jt),de);isNaN(Di)&&(Di=0);const Pn=pi.sub(si)._unit();si=si.add(Pn.mult(Pt))._round(),pi=pi.add(Pn.mult(-Di))._round(),Pt=Di,ci=Jt,N&&this.zoom>=17&&(be(Nt,si)||Nt.push(si),be(Nt,pi)||Nt.push(pi))}const en=We.vertexLength,Qn=mt.length>4&&Ew(si,pi,$i);let Hn=Sw(Ci,lt,qt);if(Rm(this.layoutVertexArray,si.x,si.y,Xi,Zi,0,0,Hn),Rm(this.layoutVertexArray,si.x,si.y,Xi,Zi,0,1,Hn),this.wallMode){const Di=X(zt-1,mt),Pn=Z.joinNormals[zt-1];Pm(this.wallVertexArray,Pn,Di),Pm(this.wallVertexArray,Pn,Di)}if(Ci+=on,Hn=Sw(Ci,Qn,!qt),lt=Qn,Rm(this.layoutVertexArray,pi.x,pi.y,Xi,Zi,0,0,Hn),Rm(this.layoutVertexArray,pi.x,pi.y,Xi,Zi,0,1,Hn),this.wallMode){const Di=X(zt,mt),Pn=Z.joinNormals[zt];Pm(this.wallVertexArray,Pn,Di),Pm(this.wallVertexArray,Pn,Di)}if(We.vertexLength+=4,this.indexArray.emplaceBack(en+0,en+1,en+2),this.indexArray.emplaceBack(en+1,en+3,en+2),We.primitiveLength+=2,de){const Di=ve+(zt===1?mt.length-2:zt-2),Pn=zt===1?ve:Di+1;if(this.indexArray.emplaceBack(en+1,Di,en+3),this.indexArray.emplaceBack(Di,Pn,en+3),We.primitiveLength+=2,wt===void 0&&(wt=en),!Zv($i,mt[zt],Ve)){const An=zt===mt.length-1?wt:We.vertexLength;this.indexArray.emplaceBack(en+2,en+3,An),this.indexArray.emplaceBack(en+3,An+1,An),this.indexArray.emplaceBack(en+3,Pn,An+1),We.primitiveLength+=3}qt=!qt}if(I){const Di=this.layoutVertexExtArray,Pn=T.projectTilePoint(si.x,si.y,g),An=T.projectTilePoint(pi.x,pi.y,g),co=T.upVector(g,si.x,si.y),Oo=T.upVector(g,pi.x,pi.y);Im(Di,Pn,co),Im(Di,Pn,co),Im(Di,An,Oo),Im(Di,An,Oo)}}S&&(ve+=mt.length-1),N&&de&&this.zoom>=17&&(Nt.length!==0&&be(Nt,Nt[0])&&Nt.pop(),this.groundEffect.addData(Nt,Ve,M,de>0))}this.footprintSegments.push(tt),Ke.triangleCount=this.indexArray.length-Ke.triangleArrayOffset,this.polygonSegments.push(Ke),++D.footprintSegLen,++D.polygonSegLen}if(D.vertexCount=this.layoutVertexArray.length-D.vertexArrayOffset,D.groundVertexCount=this.groundEffect.vertexArray.length-D.groundVertexArrayOffset,D.vertexCount!==0){if(D.centroidXY=P.borders?gw:this.encodeCentroid(P,D),this.centroidData.push(D),P.borders){this.featuresOnBorder.push(P);const xe=this.featuresOnBorder.length-1;for(let Ve=0;Ve<P.borders.length;Ve++)P.borders[Ve][0]!==Number.MAX_VALUE&&this.borderFeatureIndices[Ve].push(xe)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,h,f,_,g,R),this.groundEffect.addPaintPropertiesData(o,h,f,_,g,R),this.maxHeight=Math.max(this.maxHeight,U)}}sortBorders(){for(let o=0;o<this.borderFeatureIndices.length;o++)this.borderFeatureIndices[o].sort((s,h)=>this.featuresOnBorder[s].borders[o][0]-this.featuresOnBorder[h].borders[o][0])}splitToSubtiles(){const o=[];for(let F=0;F<this.centroidData.length;F++){const R=this.centroidData[F],M=+(R.min.y+R.max.y>Yt),v=2*M+(+(R.min.x+R.max.x>Yt)^M);for(let T=0;T<R.polygonSegLen;T++){const I=R.polygonSegIdx+T;o.push({centroidIdx:F,subtile:v,polygonSegmentIdx:I,triangleSegmentIdx:this.polygonSegments[I].triangleSegIdx})}}const s=new fo;o.sort((F,R)=>F.triangleSegmentIdx===R.triangleSegmentIdx?F.subtile-R.subtile:F.triangleSegmentIdx-R.triangleSegmentIdx);let h=0,g=0,f=0;for(const F of o){if(F.triangleSegmentIdx!==h)break;f++}const _=o.length;for(;g!==o.length;){h=o[g].triangleSegmentIdx;let F=0,R=g,M=g;for(let v=R;v<f&&o[v].subtile===F;v++)M++;for(;R!==f;){const v=o[R];F=v.subtile;const T=this.centroidData[v.centroidIdx].min.clone(),I=this.centroidData[v.centroidIdx].max.clone(),S={vertexOffset:this.segments.segments[h].vertexOffset,primitiveOffset:s.length,vertexLength:this.segments.segments[h].vertexLength,primitiveLength:0,sortKey:void 0,vaos:{}};for(let P=R;P<M;P++){const D=o[P],N=this.polygonSegments[D.polygonSegmentIdx],U=this.centroidData[D.centroidIdx].min,Z=this.centroidData[D.centroidIdx].max,X=this.indexArray.uint16;for(let q=N.triangleArrayOffset;q<N.triangleArrayOffset+N.triangleCount;q++)s.emplaceBack(X[3*q],X[3*q+1],X[3*q+2]);S.primitiveLength+=N.triangleCount,T.x=Math.min(T.x,U.x),T.y=Math.min(T.y,U.y),I.x=Math.max(I.x,Z.x),I.y=Math.max(I.y,Z.y)}S.primitiveLength>0&&this.triangleSubSegments.push({segment:S,min:T,max:I}),R=M;for(let P=R;P<f&&o[P].subtile===o[R].subtile;P++)M++}g=f;for(let v=g;v<_&&o[v].triangleSegmentIdx===o[g].triangleSegmentIdx;v++)f++}s._trim(),this.indexArray=s}getVisibleSegments(o,s,h){const g=new Po;if(this.wallMode){for(const D of this.triangleSubSegments)g.segments.push(D.segment);return g}let f=0,_=0;const F=1<<o.canonical.z;if(s){const D=s.getMinMaxForTile(o);D&&(f=D.min,_=D.max)}_+=this.maxHeight;const R=o.toUnwrapped();let M;const v=[R.canonical.x/F+R.wrap,R.canonical.y/F],T=[(R.canonical.x+1)/F+R.wrap,(R.canonical.y+1)/F],I=(D,N,U)=>[D[0]*(1-U[0])+N[0]*U[0],D[1]*(1-U[1])+N[1]*U[1]],S=[],P=[];for(const D of this.triangleSubSegments){S[0]=D.min.x/Yt,S[1]=D.min.y/Yt,P[0]=D.max.x/Yt,P[1]=D.max.y/Yt;const N=I(v,T,S),U=I(v,T,P);if(new Mn([N[0],N[1],f],[U[0],U[1],_]).intersectsPrecise(h)===0){M&&(g.segments.push(M),M=void 0);continue}const Z=D.segment;M&&M.vertexOffset!==Z.vertexOffset&&(g.segments.push(M),M=void 0),M?(M.vertexLength+=Z.vertexLength,M.primitiveLength+=Z.primitiveLength):M={vertexOffset:Z.vertexOffset,primitiveLength:Z.primitiveLength,vertexLength:Z.vertexLength,primitiveOffset:Z.primitiveOffset,sortKey:void 0,vaos:{}}}return M&&g.segments.push(M),g}encodeCentroid(o,s){const h=o.centroid(),g=s.span(),f=Math.min(7,Math.round(g.x*this.tileToMeter/10)),_=Math.min(7,Math.round(g.y*this.tileToMeter/10));return new K(nt(h.x,1,Yt-1)<<3|f,nt(h.y,1,Yt-1)<<3|_)}encodeBorderCentroid(o){if(!o.borders)return new K(0,0);const s=o.borders,h=Number.MAX_VALUE;if(s[0][0]!==h||s[1][0]!==h){const g=s[0][0]!==h?0:1;return new K(6|(s[0][0]!==h?0:65528),(s[g][0]+s[g][1])/2<<3|6)}{const g=s[2][0]!==h?2:3;return new K((s[g][0]+s[g][1])/2<<3|6,6|(s[2][0]!==h?0:65528))}}showCentroid(o){const s=this.centroidData[o.centroidDataIndex];s.flags&=xd,s.centroidXY.x=0,s.centroidXY.y=0,this.writeCentroidToBuffer(s)}writeCentroidToBuffer(o){this.groundEffect.updateHiddenByLandmark(o);const s=o.vertexArrayOffset,h=o.vertexCount+o.vertexArrayOffset,g=o.flags&xd?gw:o.centroidXY,f=this.centroidVertexArray.geta_centroid_pos0(s);if(this.centroidVertexArray.geta_centroid_pos1(s)!==g.y||f!==g.x){for(let _=s;_<h;++_)this.centroidVertexArray.emplace(_,g.x,g.y);this.needsCentroidUpdate=!0}}createCentroidsBuffer(){this.centroidVertexArray.resize(this.layoutVertexArray.length),this.groundEffect.hiddenByLandmarkVertexArray.resize(this.groundEffect.vertexArray.length);for(const o of this.centroidData)this.writeCentroidToBuffer(o)}updateReplacement(o,s,h){if(s.updateTime===this.replacementUpdateTime)return;this.replacementUpdateTime=s.updateTime;const g=s.getReplacementRegionsForTile(o.toUnwrapped());if(qv(this.activeReplacements,g))return;if(this.activeReplacements=g,this.centroidVertexArray.length===0)this.createCentroidsBuffer();else for(const _ of this.centroidData)_.flags&=2147483647;const f=[];for(const _ of this.activeReplacements){if(_.order<h)continue;const F=Math.max(1,Math.pow(2,_.footprintTileId.canonical.z-o.canonical.z));for(const R of this.centroidData)if(!(R.flags&xd||_.min.x>R.max.x||R.min.x>_.max.x||_.min.y>R.max.y||R.min.y>_.max.y))for(let M=0;M<R.footprintSegLen;M++){const v=this.footprintSegments[R.footprintSegIdx+M];if(f.length=0,Mk(this.footprintVertices,v.vertexOffset,v.vertexCount,_.footprintTileId.canonical,o.canonical,f),uw(_.footprint,f,this.footprintIndices.uint16,v.indexOffset,v.indexCount,-v.vertexOffset,-F)){R.flags|=xd;break}}}for(const _ of this.centroidData)this.writeCentroidToBuffer(_);this.borderDoneWithNeighborZ=[-1,-1,-1,-1]}footprintContainsPoint(o,s,h){let g=!1;for(let f=0;f<h.footprintSegLen;f++){const _=this.footprintSegments[h.footprintSegIdx+f];let F=0;for(const R of _.ringIndices){for(let M=F,v=R+F-1;M<R+F;v=M++){const T=this.footprintVertices.int16[2*(M+_.vertexOffset)+0],I=this.footprintVertices.int16[2*(M+_.vertexOffset)+1],S=this.footprintVertices.int16[2*(v+_.vertexOffset)+1];I>s!=S>s&&o<(this.footprintVertices.int16[2*(v+_.vertexOffset)+0]-T)*(s-I)/(S-I)+T&&(g=!g)}F=R}}return g}getHeightAtTileCoord(o,s){let h=Number.NEGATIVE_INFINITY,g=!0;const f=4*(o+Yt)*Yt+(s+Yt);if(this.partLookup.hasOwnProperty(f)){const _=this.partLookup[f];return _?{height:_.height,hidden:!!(_.flags&xd)}:void 0}for(const _ of this.centroidData)o>_.max.x||_.min.x>o||s>_.max.y||_.min.y>s||this.footprintContainsPoint(o,s,_)&&_&&_.height>h&&(h=_.height,this.partLookup[f]=_,g=!!(_.flags&xd));if(h!==Number.NEGATIVE_INFINITY)return{height:h,hidden:g};this.partLookup[f]=void 0}}function ww(u,o){const s=u.add(o)._unit();return u.x*s.x+u.y*s.y}function kk(u,o,s,h){const g=o.sub(u)._perp()._unit(),f=s.sub(o)._perp()._unit();return Fw(u,o,s,ww(g,f),h)}function Fw(u,o,s,h,g){const f=Math.sqrt(1-h*h);return Math.min(u.dist(o)/3,o.dist(s)/3,g*f/h)}function Zv(u,o,s){return u.x<s[0].x&&o.x<s[0].x||u.x>s[1].x&&o.x>s[1].x||u.y<s[0].y&&o.y<s[0].y||u.y>s[1].y&&o.y>s[1].y}function Cw(u,o){return u.x<o[0].x||u.x>o[1].x||u.y<o[0].y||u.y>o[1].y}function Ew(u,o,s){if(u.x<0||u.x>=Yt||o.x<0||o.x>=Yt||s.x<0||s.x>=Yt)return!1;const h=s.sub(o),g=h.perp(),f=u.sub(o);return(h.x*f.x+h.y*f.y)/Math.sqrt((h.x*h.x+h.y*h.y)*(f.x*f.x+f.y*f.y))>-.866&&g.x*f.x+g.y*f.y<0}function Sw(u,o,s){const h=o?2|u:-3&u;return s?1|h:-2&h}function Tw(){const u=Math.PI/32,o=Math.tan(u),s=j;return s*Math.sqrt(1+2*o*o)-s}function Rw(u,o,s){const h=1<<s.z,g=me(s.x/h),f=me((s.x+1)/h),_=Fe(s.y/h),F=Fe((s.y+1)/h);return function(R,M,v,T,I=0,S){const P=[];if(!R.length||!v||!T)return P;const D=(ie,de)=>{for(const Ee of ie)P.push({polygon:Ee,bounds:de})},N=Math.ceil(Math.log2(v)),U=Math.ceil(Math.log2(T)),Z=N-U,X=[];for(let ie=0;ie<Math.abs(Z);ie++)X.push(Z>0?0:1);for(let ie=0;ie<Math.min(N,U);ie++)X.push(0),X.push(1);let q=R;if(q=_y(q,M[0].y-I,M[1].y+I,1),q=_y(q,M[0].x-I,M[1].x+I,0),!q.length)return P;const te=[];for(X.length?te.push({polygons:q,bounds:M,depth:0}):D(q,M);te.length;){const ie=te.pop(),de=ie.depth,Ee=X[de],be=ie.bounds[0],xe=ie.bounds[1],Ve=Ee===0?be.x:be.y,ve=Ee===0?xe.x:xe.y,Be=S?S(Ee,Ve,ve):.5*(Ve+ve),We=_y(ie.polygons,Ve-I,Be+I,Ee),Ke=_y(ie.polygons,Be-I,ve+I,Ee);if(We.length){const tt=[be,new K(Ee===0?Be:xe.x,Ee===1?Be:xe.y)];X.length>de+1?te.push({polygons:We,bounds:tt,depth:de+1}):D(We,tt)}if(Ke.length){const tt=[new K(Ee===0?Be:be.x,Ee===1?Be:be.y),xe];X.length>de+1?te.push({polygons:Ke,bounds:tt,depth:de+1}):D(Ke,tt)}}return P}(u,o,Math.ceil((f-g)/11.25),Math.ceil((_-F)/11.25),1,(R,M,v)=>{if(R===0)return .5*(M+v);{const T=Fe((s.y+M/Yt)/h);return(se(.5*(Fe((s.y+v/Yt)/h)+T))*h-s.y)*Yt}})}function Mk(u,o,s,h,g,f){const _=Math.pow(2,h.z-g.z);for(let F=0;F<s;F++){let R=u.int16[2*(F+o)+0],M=u.int16[2*(F+o)+1];R=(R+g.x*Yt)*_-h.x*Yt,M=(M+g.y*Yt)*_-h.y*Yt,f.push(new K(R,M))}}let Pw,Iw;function km(u,o){return u.x*o.x+u.y*o.y}function kw(u,o){if(u.length===1){let s=0;const h=o[s++];let g;for(;!g||h.equals(g);)if(g=o[s++],!g)return 1/0;for(;s<o.length;s++){const f=o[s],_=u[0],F=g.sub(h),R=f.sub(h),M=_.sub(h),v=km(F,F),T=km(F,R),I=km(R,R),S=km(M,F),P=km(M,R),D=v*I-T*T,N=(I*S-T*P)/D,U=(v*P-T*S)/D,Z=h.z*(1-N-U)+g.z*N+f.z*U;if(isFinite(Z))return Z}return 1/0}{let s=1/0;for(const h of o)s=Math.min(s,h.z);return s}}function Mw(u,o,s,h,g,f,_,F){const R=_*g.getElevationAt(u,o,!0,!0),M=f[0]!==0,v=M?f[1]===0?_*(f[0]/7-450):_*function(T,I,S){const P=Math.floor(I[0]/8),D=Math.floor(I[1]/8),N=10*(I[0]-8*P),U=10*(I[1]-8*D),Z=T.getElevationAt(P,D,!0,!0),X=T.getMeterToDEM(S),q=Math.floor(.5*(N*X-1)),te=Math.floor(.5*(U*X-1)),ie=T.tileCoordToPixel(P,D),de=2*q+1,Ee=2*te+1,be=function(Ke,tt,ht,mt,lt){return[Ke.getElevationAtPixel(tt,ht,!0),Ke.getElevationAtPixel(tt+lt,ht,!0),Ke.getElevationAtPixel(tt,ht+lt,!0),Ke.getElevationAtPixel(tt+mt,ht+lt,!0)]}(T,ie.x-q,ie.y-te,de,Ee),xe=Math.abs(be[0]-be[1]),Ve=Math.abs(be[2]-be[3]),ve=Math.abs(be[0]-be[2])+Math.abs(be[1]-be[3]),Be=Math.min(.25,.5*X*(xe+Ve)/de),We=Math.min(.25,.5*X*ve/Ee);return Z+Math.max(Be*N,We*U)}(g,f,F):R;return{base:R+(s===0?-1:s),top:M?Math.max(v+h,R+s+2):R+h}}hi(xy,"FillExtrusionBucket",{omit:["layers","features"]}),hi(yw,"PartData"),hi(_w,"FootprintSegment"),hi(bw,"BorderCentroidData"),hi(xw,"GroundEffect");const Ak=xn([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),Ok=xn([{name:"a_z_offset",components:1,type:"Float32"}],4),{members:Lk}=Ak,Dk=xn([{name:"a_packed",components:4,type:"Float32"}]),{members:Bk}=Dk,jk=xn([{name:"a_pattern_data",components:3,type:"Float32"}]),{members:zk}=jk;class Aw{constructor(o,s){this.width=o,this.height=s,this.nextRow=0,this.image=new vd({width:o,height:s}),this.positions={},this.uploaded=!1}getDash(o,s){const h=this.getKey(o,s);return this.positions[h]}trim(){const o=this.width,s=this.height=jn(this.nextRow);this.image.resize({width:o,height:s})}getKey(o,s){return o.join(",")+s}getDashRanges(o,s,h){const g=[];let f=o.length%2==1?-o[o.length-1]*h:0,_=o[0]*h,F=!0;g.push({left:f,right:_,isDash:F,zeroLength:o[0]===0});let R=o[0];for(let M=1;M<o.length;M++){F=!F;const v=o[M];f=R*h,R+=v,_=R*h,g.push({left:f,right:_,isDash:F,zeroLength:v===0})}return g}addRoundDash(o,s,h){const g=s/2;for(let f=-h;f<=h;f++){const _=this.width*(this.nextRow+h+f);let F=0,R=o[F];for(let M=0;M<this.width;M++){M/R.right>1&&(R=o[++F]);const v=Math.abs(M-R.left),T=Math.abs(M-R.right),I=Math.min(v,T);let S;const P=f/h*(g+1);if(R.isDash){const D=g-Math.abs(P);S=Math.sqrt(I*I+D*D)}else S=g-Math.sqrt(I*I+P*P);this.image.data[_+M]=Math.max(0,Math.min(255,S+128))}}}addRegularDash(o,s){for(let R=o.length-1;R>=0;--R){const M=o[R],v=o[R+1];M.zeroLength?o.splice(R,1):v&&v.isDash===M.isDash&&(v.left=M.left,o.splice(R,1))}const h=o[0],g=o[o.length-1];h.isDash===g.isDash&&(h.left=g.left-this.width,g.right=h.right+this.width);const f=this.width*this.nextRow;let _=0,F=o[_];for(let R=0;R<this.width;R++){R/F.right>1&&(F=o[++_]);const M=Math.abs(R-F.left),v=Math.abs(R-F.right),T=Math.min(M,v);this.image.data[f+R]=Math.max(0,Math.min(255,(F.isDash?T:-T)+s+128))}}addDash(o,s){const h=this.getKey(o,s);if(this.positions[h])return this.positions[h];const g=s==="round",f=g?7:0,_=2*f+1;if(this.nextRow+_>this.height)return an("LineAtlas out of space"),null;o.length===0&&o.push(1);let F=0;for(let v=0;v<o.length;v++)o[v]<0&&(an("Negative value is found in line dasharray, replacing values with 0"),o[v]=0),F+=o[v];if(F!==0){const v=this.width/F,T=this.getDashRanges(o,this.width,v);g?this.addRoundDash(T,v,f):this.addRegularDash(T,s==="square"?.5*v:0)}const R=this.nextRow+f;this.nextRow+=_;const M={tl:[R,f],br:[F,0]};return this.positions[h]=M,M}}hi(Aw,"LineAtlas");const Vk=Nf.VectorTileFeature.types,Nk=Math.cos(Math.PI/180*37.5),$k=Math.cos(Math.PI/180*5);class Qv{constructor(o){this.evaluationGlobals={zoom:0,lineProgress:void 0},this.zoom=o.zoom,this.evaluationGlobals.zoom=this.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(s=>s.fqid),this.index=o.index,this.projection=o.projection,this.hasPattern=!1,this.hasZOffset=!1,this.hasCrossSlope=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(s=>{this.gradients[s.id]={}}),this.layoutVertexArray=new Hu,this.layoutVertexArray2=new Us,this.patternVertexArray=new Tc,this.indexArray=new fo,this.programConfigurations=new bs(o.layers,{zoom:o.zoom,lut:o.lut}),this.segments=new Po,this.maxLineLength=0,this.zOffsetVertexArray=new pd,this.stateDependentLayerIds=this.layers.filter(s=>s.isStateDependent()).map(s=>s.id),this.tessellationStep=o.tessellationStep?o.tessellationStep:Yt/64}updateFootprints(o,s){}populate(o,s,h,g){this.hasPattern=jv("line",this.layers,s);const f=this.layers[0].layout.get("line-sort-key");this.hasZOffset=!this.layers[0].isDraped();const _=this.layers[0].layout.get("line-elevation-reference");this.hasZOffset&&_==="none"&&an(`line-elevation-reference: ground is used for the layer ${this.layerIds[0]} because non-zero line-z-offset value was found.`);const F=this.layers[0].layout.get("line-cross-slope");this.hasCrossSlope=this.hasZOffset&&F!==void 0;const R=[];for(const{feature:I,id:S,index:P,sourceLayerIndex:D}of o){const N=this.layers[0]._featureFilter.needGeometry,U=Ot(I,N);if(!this.layers[0]._featureFilter.filter(new _o(this.zoom),U,h))continue;const Z=f?f.evaluate(U,{},h):void 0,X={id:S,properties:I.properties,type:I.type,sourceLayerIndex:D,index:P,geometry:N?U.geometry:st(I,h,g),patterns:{},sortKey:Z};R.push(X)}f&&R.sort((I,S)=>I.sortKey-S.sortKey);const{lineAtlas:M,featureIndex:v}=s,T=this.addConstantDashes(M);for(const I of R){const{geometry:S,index:P,sourceLayerIndex:D}=I;if(T&&this.addFeatureDashes(I,M),this.hasPattern){const N=zv("line",this.layers,I,this.zoom,s);this.patternFeatures.push(N)}else this.addFeature(I,S,P,h,M.positions,s.availableImages,s.brightness);v.insert(o[P].feature,S,P,D,this.index)}}addConstantDashes(o){let s=!1;for(const h of this.layers){const g=h.paint.get("line-dasharray").value,f=h.layout.get("line-cap").value;if(g.kind!=="constant"||f.kind!=="constant")s=!0;else{const _=f.value,F=g.value;if(!F)continue;o.addDash(F,_)}}return s}addFeatureDashes(o,s){const h=this.zoom;for(const g of this.layers){const f=g.paint.get("line-dasharray").value,_=g.layout.get("line-cap").value;if(f.kind==="constant"&&_.kind==="constant")continue;let F,R;if(f.kind==="constant"){if(F=f.value,!F)continue}else F=f.evaluate({zoom:h},o);R=_.kind==="constant"?_.value:_.evaluate({zoom:h},o),s.addDash(F,R),o.patterns[g.id]=s.getKey(F,R)}}update(o,s,h,g,f){const _=Object.keys(o).length!==0;_&&!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(o,s,_?this.stateDependentLayers:this.layers,h,g,f)}addFeatures(o,s,h,g,f,_){for(const F of this.patternFeatures)this.addFeature(F,F.geometry,F.index,s,h,g,_)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=o.createVertexBuffer(this.layoutVertexArray2,Bk)),this.patternVertexArray.length!==0&&(this.patternVertexBuffer=o.createVertexBuffer(this.patternVertexArray,zk)),!this.zOffsetVertexBuffer&&this.zOffsetVertexArray.length>0&&(this.zOffsetVertexBuffer=o.createVertexBuffer(this.zOffsetVertexArray,Ok.members,!0)),this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,Lk),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.zOffsetVertexBuffer&&this.zOffsetVertexBuffer.destroy(),this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(o){if(o.properties&&o.properties.hasOwnProperty("mapbox_clip_start")&&o.properties.hasOwnProperty("mapbox_clip_end"))return{start:+o.properties.mapbox_clip_start,end:+o.properties.mapbox_clip_end}}addFeature(o,s,h,g,f,_,F){const R=this.layers[0].layout,M=R.get("line-join").evaluate(o,{}),v=R.get("line-cap").evaluate(o,{}),T=R.get("line-miter-limit"),I=R.get("line-round-limit");this.lineClips=this.lineFeatureClips(o),this.lineFeature=o,this.zOffsetValue=R.get("line-z-offset").value;for(const S of s)this.addLine(S,o,g,M,v,T,I);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,h,f,_,g,F)}addLine(o,s,h,g,f,_,F){this.distance=0,this.prevDistance=0,this.scaledDistance=0,this.totalDistance=0,this.totalFeatureLength=0,this.lineSoFar=0,this.currentVertex=void 0;const R=g==="none";if(this.patternJoinNone=this.hasPattern&&R,this.segmentStart=0,this.segmentStartf32=0,this.segmentPoints=[],this.lineClips){this.lineClipsArray.push(this.lineClips);for(let X=0;X<o.length-1;X++)this.totalDistance+=o[X].dist(o[X+1]);this.totalFeatureLength=this.totalDistance/(this.lineClips.end-this.lineClips.start),this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const M=Vk[s.type]==="Polygon";let v=o.length;for(;v>=2&&o[v-1].equals(o[v-2]);)v--;let T=0;for(;T<v-1&&o[T].equals(o[T+1]);)T++;if(v<(M?3:2))return;g==="bevel"&&(_=1.05);const I=this.segments.prepareSegment(10*v,this.layoutVertexArray,this.indexArray);let S,P,D,N,U,Z;this.e1=this.e2=-1,M&&(S=o[v-2],U=o[T].sub(S)._unit()._perp());for(let X=T;X<v;X++){if(D=X===v-1?M?o[T+1]:void 0:o[X+1],D&&o[X].equals(D))continue;U&&(N=U),S&&(P=S),S=o[X],Z=this.hasZOffset?this.evaluateElevationValue(P?P.dist(S):0):null,U=D?D.sub(S)._unit()._perp():N,N=N||U;const q=P&&D;let te=q?g:M||R?"butt":f;const ie=N.x*U.x+N.y*U.y;if(R){const We=function(Ke){if(Ke.patternJoinNone){const tt=Ke.segmentPoints.length/2,ht=Ke.lineSoFar-Ke.segmentStart;for(let mt=0;mt<tt;++mt){const lt=Ke.segmentPoints[2*mt+1],Pt=Math.round(Ke.segmentPoints[2*mt])+.5+.25*lt;Ke.patternVertexArray.emplaceBack(Pt,ht,Ke.segmentStart),Ke.patternVertexArray.emplaceBack(Pt,ht,Ke.segmentStart)}Ke.segmentPoints.length=0}Ke.e1=Ke.e2=-1};if(q&&ie<$k){this.updateDistance(P,S),this.addCurrentVertex(S,N,1,1,I,Z),We(this),this.addCurrentVertex(S,U,-1,-1,I,Z);continue}if(P){if(!D){this.updateDistance(P,S),this.addCurrentVertex(S,N,1,1,I,Z),We(this);continue}te="miter"}}let de=N.add(U);de.x===0&&de.y===0||de._unit();const Ee=de.x*U.x+de.y*U.y,be=Ee!==0?1/Ee:1/0,xe=2*Math.sqrt(2-2*Ee),Ve=Ee<Nk&&P&&D,ve=N.x*U.y-N.y*U.x>0,Be=this.overscaling<=16?15*Yt/(512*this.overscaling):0;if(q&&te==="round"){if(be<F)te="miter";else if(be<=2){const We=Xv(S,-10,Yt+10);te=this.hasZOffset&&(We||this.hasCrossSlope)?"miter":"fakeround"}}if(te==="miter"&&be>_&&(te="bevel"),te==="bevel"&&(be>2&&(te="flipbevel"),be<_&&(te="miter")),P&&!(te==="miter"&&Ve)&&this.updateDistance(P,S),te==="miter")if(Ve){const We=S.dist(P);if(We>2*Be){const tt=S.sub(S.sub(P)._mult(Be/We)._round());this.updateDistance(P,tt),this.addCurrentVertex(tt,N,0,0,I,Z),P=tt}this.updateDistance(P,S),de._mult(be),this.addCurrentVertex(S,de,0,0,I,Z);const Ke=S.dist(D);if(Ke>2*Be){const tt=S.add(D.sub(S)._mult(Be/Ke)._round());this.updateDistance(S,tt),this.addCurrentVertex(tt,U,0,0,I,Z),S=tt}}else de._mult(be),this.addCurrentVertex(S,de,0,0,I,Z);else if(te==="flipbevel"){if(be>100)de=U.mult(-1);else{const We=be*N.add(U).mag()/N.sub(U).mag();de._perp()._mult(We*(ve?-1:1))}this.addCurrentVertex(S,de,0,0,I,Z),this.addCurrentVertex(S,de.mult(-1),0,0,I,Z)}else if(te==="bevel"||te==="fakeround"){Z!=null&&P&&this.addCurrentVertex(S,N,-1,-1,I,Z);const We=S.dist(P)<=2*Be&&te!=="bevel",Ke=de.mult(ve?1:-1);Ke._mult(be);const tt=U.mult(ve?-1:1),ht=N.mult(ve?-1:1),mt=this.evaluateElevationValue(this.distance);if(Z==null&&(this.addHalfVertex(S,Ke.x,Ke.y,!1,!ve,0,I,mt),We||this.addHalfVertex(S,Ke.x+2*ht.x,Ke.y+2*ht.y,!1,ve,0,I,mt)),te==="fakeround"){const lt=Math.round(180*xe/Math.PI/20);this.addHalfVertex(S,ht.x,ht.y,!1,ve,0,I,mt);for(let Pt=0;Pt<lt;Pt++){let Nt=Pt/lt;if(Nt!==.5){const ci=Nt-.5;Nt+=Nt*ci*(Nt-1)*((1.0904+ie*(ie*(3.55645-1.43519*ie)-3.2452))*ci*ci+(.848013+ie*(.215638*ie-1.06021)))}const wt=tt.sub(ht)._mult(Nt)._add(ht)._unit();this.addHalfVertex(S,wt.x,wt.y,!1,ve,0,I,mt)}this.addHalfVertex(S,tt.x,tt.y,!1,ve,0,I,mt)}We||Z!=null||this.addHalfVertex(S,Ke.x+2*tt.x,Ke.y+2*tt.y,!1,ve,0,I,mt),Z!=null&&D&&this.addCurrentVertex(S,U,1,1,I,Z)}else te==="butt"?this.addCurrentVertex(S,de,0,0,I,Z):te==="square"?(P||this.addCurrentVertex(S,de,-1,-1,I,Z),this.addCurrentVertex(S,de,0,0,I,Z),P&&this.addCurrentVertex(S,de,1,1,I,Z)):te==="round"&&(P&&(this.addCurrentVertex(S,N,0,0,I,Z),this.addCurrentVertex(S,N,1,1,I,Z,!0)),D&&(this.addCurrentVertex(S,U,-1,-1,I,Z,!0),this.addCurrentVertex(S,U,0,0,I,Z)))}}addVerticesTo(o,s,h,g,f,_,F,R,M,v){const T=(s.w-o.w)/this.tessellationStep|0;let I=0;const S=this.scaledDistance;if(T>1){this.lineSoFar=o.w;const D=(s.x-o.x)/T,N=(s.y-o.y)/T,U=(s.z-o.z)/T,Z=(s.w-o.w)/T;for(let X=1;X<T;++X){o.x+=D,o.y+=N,o.z+=U,this.lineSoFar+=Z,I+=Z;const q=this.evaluateElevationValue(this.prevDistance+I);this.scaledDistance=(this.prevDistance+I)/this.totalDistance,this.addHalfVertex(o,h,g,v,!1,F,M,q),this.addHalfVertex(o,f,_,v,!0,-R,M,q)}}this.lineSoFar=s.w,this.scaledDistance=S;const P=this.evaluateElevationValue(this.distance);this.addHalfVertex(s,h,g,v,!1,F,M,P),this.addHalfVertex(s,f,_,v,!0,-R,M,P)}evaluateElevationValue(o){return this.hasZOffset?this.zOffsetValue.kind==="constant"?this.zOffsetValue.value:(this.evaluationGlobals.lineProgress=0,this.lineClips?this.evaluationGlobals.lineProgress=Math.min(1,(this.totalFeatureLength*this.lineClips.start+o)/this.totalFeatureLength):an(`line-z-offset evaluation for ${this.layerIds[0]} requires enabling 'lineMetrics' for the source.`),this.zOffsetValue.evaluate(this.evaluationGlobals,this.lineFeature)||0):void 0}addCurrentVertex(o,s,h,g,f,_,F=!1){const R=s.x+s.y*h,M=s.y-s.x*h,v=s.y*g-s.x,T=-s.y-s.x*g;if(_!=null){const S=Yt+10,P=_,D=new rw(o.x,o.y,P,this.lineSoFar),N=Xv(o,-10,S),U=this.lineSoFar,Z=this.distance;if(this.currentVertex)if(N){const X=this.currentVertexIsOutside,q=this.currentVertex,te=new rw(o.x,o.y,P,this.lineSoFar);if(sw(q,te,-10,S),!Xv(te,-10,S)){if(X){this.e1=this.e2=-1,this.distance-=q.dist(D),this.lineSoFar=q.w;const ie=this.evaluateElevationValue(q.w-this.totalFeatureLength*(this.lineClips?this.lineClips.start:0));this.addHalfVertex(q,R,M,F,!1,h,f,ie),this.addHalfVertex(q,v,T,F,!0,-g,f,ie),this.prevDistance=this.distance}this.distance=this.prevDistance+q.dist(te),this.scaledDistance=this.distance/this.totalDistance,this.addVerticesTo(q,te,R,M,v,T,h,g,f,F),this.distance=Z,this.scaledDistance=this.distance/this.totalDistance}}else{const X=this.currentVertex;if(this.currentVertexIsOutside){sw(X,D,-10,S),this.e1=this.e2=-1,this.distance-=X.dist(D),this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=X.w;const q=this.evaluateElevationValue(X.w-this.totalFeatureLength*(this.lineClips?this.lineClips.start:0));this.addHalfVertex(X,R,M,F,!1,h,f,q),this.addHalfVertex(X,v,T,F,!0,-g,f,q),this.prevDistance=this.distance,this.distance=Z,this.scaledDistance=this.distance/this.totalDistance}this.addVerticesTo(X,D,R,M,v,T,h,g,f,F)}else N||(this.addHalfVertex(o,R,M,F,!1,h,f,_),this.addHalfVertex(o,v,T,F,!0,-g,f,_));this.currentVertex=D,this.currentVertexIsOutside=N,this.lineSoFar=U}else this.addHalfVertex(o,R,M,F,!1,h,f,_),this.addHalfVertex(o,v,T,F,!0,-g,f,_)}addHalfVertex({x:o,y:s},h,g,f,_,F,R,M){this.patternJoinNone&&(this.segmentPoints.length===0&&(this.segmentStart=this.lineSoFar,this.segmentStartf32=Math.fround(this.lineSoFar)),_||this.segmentPoints.push(this.lineSoFar-this.segmentStart,F)),this.layoutVertexArray.emplaceBack((o<<1)+(f?1:0),(s<<1)+(_?1:0),Math.round(63*h)+128,Math.round(63*g)+128,1+(F===0?0:F<0?-1:1),0,this.lineSoFar-this.segmentStartf32),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const v=R.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,v),R.primitiveLength++),_?this.e2=v:this.e1=v,M!=null&&this.zOffsetVertexArray.emplaceBack(M)}updateScaledDistance(){this.lineClips?(this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=this.totalFeatureLength*this.lineClips.start+this.distance):this.lineSoFar=this.distance}updateDistance(o,s){this.prevDistance=this.distance,this.distance+=o.dist(s),this.updateScaledDistance()}}function Xv(u,o,s){return u.x<o||u.x>s||u.y<o||u.y>s}let Ow,Lw;function Dw(u,o,s){return o*(Yt/(u.tileSize*Math.pow(2,s-u.tileID.overscaledZ)))}hi(Qv,"LineBucket",{omit:["layers","patternFeatures","currentVertex","currentVertexIsOutside"]});const Bw=(u,o,s)=>(1-s)*u+s*o;function jw(u,o){return 1/Dw(u,1,o.tileZoom)}function zw(u,o,s,h){return u.translatePosMatrix(h||o.tileID.projMatrix,o,s.paint.get("line-translate"),s.paint.get("line-translate-anchor"))}const Vw=u=>{const o=[];Nw(u)&&o.push("RENDER_LINE_DASH"),u.paint.get("line-gradient")&&o.push("RENDER_LINE_GRADIENT");const s=u.paint.get("line-trim-offset");s[0]===0&&s[1]===0||o.push("RENDER_LINE_TRIM_OFFSET"),u.paint.get("line-border-width").constantOr(1)!==0&&o.push("RENDER_LINE_BORDER");const h=u.layout.get("line-join").constantOr("miter")==="none",g=!!u.paint.get("line-pattern").constantOr(1);return h&&g&&o.push("LINE_JOIN_NONE"),o};function Nw(u){const o=u.paint.get("line-dasharray").value;return o.value||o.kind!=="constant"}let Jv;const $w=()=>Jv||(Jv={layout:Ow||(Ow=new io({"line-cap":new xi(ft.layout_line["line-cap"]),"line-join":new xi(ft.layout_line["line-join"]),"line-miter-limit":new Kt(ft.layout_line["line-miter-limit"]),"line-round-limit":new Kt(ft.layout_line["line-round-limit"]),"line-sort-key":new xi(ft.layout_line["line-sort-key"]),"line-z-offset":new xi(ft.layout_line["line-z-offset"]),"line-elevation-reference":new Kt(ft.layout_line["line-elevation-reference"]),"line-cross-slope":new Kt(ft.layout_line["line-cross-slope"]),visibility:new Kt(ft.layout_line.visibility)})),paint:Lw||(Lw=new io({"line-opacity":new xi(ft.paint_line["line-opacity"]),"line-color":new xi(ft.paint_line["line-color"]),"line-translate":new Kt(ft.paint_line["line-translate"]),"line-translate-anchor":new Kt(ft.paint_line["line-translate-anchor"]),"line-width":new xi(ft.paint_line["line-width"]),"line-gap-width":new xi(ft.paint_line["line-gap-width"]),"line-offset":new xi(ft.paint_line["line-offset"]),"line-blur":new xi(ft.paint_line["line-blur"]),"line-dasharray":new xi(ft.paint_line["line-dasharray"]),"line-pattern":new xi(ft.paint_line["line-pattern"]),"line-gradient":new cd(ft.paint_line["line-gradient"]),"line-trim-offset":new Kt(ft.paint_line["line-trim-offset"]),"line-trim-fade-range":new Kt(ft.paint_line["line-trim-fade-range"]),"line-trim-color":new Kt(ft.paint_line["line-trim-color"]),"line-emissive-strength":new Kt(ft.paint_line["line-emissive-strength"]),"line-border-width":new xi(ft.paint_line["line-border-width"]),"line-border-color":new xi(ft.paint_line["line-border-color"]),"line-occlusion-opacity":new Kt(ft.paint_line["line-occlusion-opacity"])}))},Jv);class Uk extends xi{possiblyEvaluate(o,s){return s=new _o(Math.floor(s.zoom),{now:s.now,fadeDuration:s.fadeDuration,transition:s.transition}),super.possiblyEvaluate(o,s)}evaluate(o,s,h,g){return s=wi({},s,{zoom:Math.floor(s.zoom)}),super.evaluate(o,s,h,g)}}let Mm;function Uw(u,o){return o>0?o+2*u:u}const Gk=xn([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Hk=xn([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),qk=xn([{name:"a_projected_pos",components:4,type:"Float32"}],4);xn([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Wk=xn([{name:"a_auto_z_offset",components:1,type:"Float32"}],4),Kk=xn([{name:"a_texb",components:2,type:"Uint16"}]),Zk=xn([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_elevation_from_sea",components:2,type:"Float32"}]),Qk=xn([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"},{name:"a_auto_z_offset",components:1,type:"Float32"}]);xn([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Gw=xn([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Xk=xn([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);xn([{name:"triangle",components:3,type:"Uint16"}]),xn([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),xn([{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Float32",name:"zOffset"},{type:"Uint8",name:"hasIconTextFit"}]),xn([{type:"Float32",name:"offsetX"}]),xn([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var Sr=24;const Qs=128;function Yv(u,o){const{expression:s}=o;if(s.kind==="constant")return{kind:"constant",layoutSize:s.evaluate(new _o(u+1))};if(s.kind==="source")return{kind:"source"};{const{zoomStops:h,interpolationType:g}=s;let f=0;for(;f<h.length&&h[f]<=u;)f++;f=Math.max(0,f-1);let _=f;for(;_<h.length&&h[_]<u+1;)_++;_=Math.min(h.length-1,_);const F=h[f],R=h[_];return s.kind==="composite"?{kind:"composite",minZoom:F,maxZoom:R,interpolationType:g}:{kind:"camera",minZoom:F,maxZoom:R,minSize:s.evaluate(new _o(F)),maxSize:s.evaluate(new _o(R)),interpolationType:g}}}function wy(u,{uSize:o,uSizeT:s},{lowerSize:h,upperSize:g}){return u.kind==="source"?h/Qs:u.kind==="composite"?Oi(h/Qs,g/Qs,s):o}function $f(u,o,s=1){let h=0,g=0;if(u.kind==="constant")g=u.layoutSize*s;else if(u.kind!=="source"){const{interpolationType:f,minZoom:_,maxZoom:F}=u,R=f?nt(ya.interpolationFactor(f,o,_,F),0,1):0;u.kind==="camera"?g=Oi(u.minSize,u.maxSize,R)*s:h=R*s}return{uSizeT:h,uSize:g}}var Jk=Object.freeze({__proto__:null,SIZE_PACK_FACTOR:Qs,evaluateSizeForFeature:wy,evaluateSizeForZoom:$f,getSizeData:Yv});function Yk(u,o,s){return u.sections.forEach(h=>{h.text=function(g,f,_){const F=f.layout.get("text-transform").evaluate(_,{});return F==="uppercase"?g=g.toLocaleUpperCase():F==="lowercase"&&(g=g.toLocaleLowerCase()),va.applyArabicShaping&&(g=va.applyArabicShaping(g)),g}(h.text,o,s)}),u}const Am={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂","←":"↑","→":"↓"};function eM(u){return u==="︶"||u==="﹈"||u==="︸"||u==="﹄"||u==="﹂"||u==="︾"||u==="︼"||u==="︺"||u==="︘"||u==="﹀"||u==="︐"||u==="︓"||u==="︔"||u==="｀"||u==="￣"||u==="︑"||u==="︒"}function tM(u){return u==="︵"||u==="﹇"||u==="︷"||u==="﹃"||u==="﹁"||u==="︽"||u==="︻"||u==="︹"||u==="︗"||u==="︿"}var Hw,e4,qw,t4={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function iM(){return Hw||(Hw=1,t4.read=function(u,o,s,h,g){var f,_,F=8*g-h-1,R=(1<<F)-1,M=R>>1,v=-7,T=s?g-1:0,I=s?-1:1,S=u[o+T];for(T+=I,f=S&(1<<-v)-1,S>>=-v,v+=F;v>0;f=256*f+u[o+T],T+=I,v-=8);for(_=f&(1<<-v)-1,f>>=-v,v+=h;v>0;_=256*_+u[o+T],T+=I,v-=8);if(f===0)f=1-M;else{if(f===R)return _?NaN:1/0*(S?-1:1);_+=Math.pow(2,h),f-=M}return(S?-1:1)*_*Math.pow(2,f-h)},t4.write=function(u,o,s,h,g,f){var _,F,R,M=8*f-g-1,v=(1<<M)-1,T=v>>1,I=g===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=h?0:f-1,P=h?1:-1,D=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(F=isNaN(o)?1:0,_=v):(_=Math.floor(Math.log(o)/Math.LN2),o*(R=Math.pow(2,-_))<1&&(_--,R*=2),(o+=_+T>=1?I/R:I*Math.pow(2,1-T))*R>=2&&(_++,R/=2),_+T>=v?(F=0,_=v):_+T>=1?(F=(o*R-1)*Math.pow(2,g),_+=T):(F=o*Math.pow(2,T-1)*Math.pow(2,g),_=0));g>=8;u[s+S]=255&F,S+=P,F/=256,g-=8);for(_=_<<g|F,M+=g;M>0;u[s+S]=255&_,S+=P,_/=256,M-=8);u[s+S-P]|=128*D}),t4}function Ww(){if(qw)return e4;qw=1,e4=o;var u=iM();function o(q){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(q)?q:new Uint8Array(q||0),this.pos=0,this.type=0,this.length=this.buf.length}o.Varint=0,o.Fixed64=1,o.Bytes=2,o.Fixed32=5;var s=4294967296,h=1/s,g=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function f(q){return q.type===o.Bytes?q.readVarint()+q.pos:q.pos+1}function _(q,te,ie){return ie?4294967296*te+(q>>>0):4294967296*(te>>>0)+(q>>>0)}function F(q,te,ie){var de=te<=16383?1:te<=2097151?2:te<=268435455?3:Math.floor(Math.log(te)/(7*Math.LN2));ie.realloc(de);for(var Ee=ie.pos-1;Ee>=q;Ee--)ie.buf[Ee+de]=ie.buf[Ee]}function R(q,te){for(var ie=0;ie<q.length;ie++)te.writeVarint(q[ie])}function M(q,te){for(var ie=0;ie<q.length;ie++)te.writeSVarint(q[ie])}function v(q,te){for(var ie=0;ie<q.length;ie++)te.writeFloat(q[ie])}function T(q,te){for(var ie=0;ie<q.length;ie++)te.writeDouble(q[ie])}function I(q,te){for(var ie=0;ie<q.length;ie++)te.writeBoolean(q[ie])}function S(q,te){for(var ie=0;ie<q.length;ie++)te.writeFixed32(q[ie])}function P(q,te){for(var ie=0;ie<q.length;ie++)te.writeSFixed32(q[ie])}function D(q,te){for(var ie=0;ie<q.length;ie++)te.writeFixed64(q[ie])}function N(q,te){for(var ie=0;ie<q.length;ie++)te.writeSFixed64(q[ie])}function U(q,te){return(q[te]|q[te+1]<<8|q[te+2]<<16)+16777216*q[te+3]}function Z(q,te,ie){q[ie]=te,q[ie+1]=te>>>8,q[ie+2]=te>>>16,q[ie+3]=te>>>24}function X(q,te){return(q[te]|q[te+1]<<8|q[te+2]<<16)+(q[te+3]<<24)}return o.prototype={destroy:function(){this.buf=null},readFields:function(q,te,ie){for(ie=ie||this.length;this.pos<ie;){var de=this.readVarint(),Ee=de>>3,be=this.pos;this.type=7&de,q(Ee,te,this),this.pos===be&&this.skip(de)}return te},readMessage:function(q,te){return this.readFields(q,te,this.readVarint()+this.pos)},readFixed32:function(){var q=U(this.buf,this.pos);return this.pos+=4,q},readSFixed32:function(){var q=X(this.buf,this.pos);return this.pos+=4,q},readFixed64:function(){var q=U(this.buf,this.pos)+U(this.buf,this.pos+4)*s;return this.pos+=8,q},readSFixed64:function(){var q=U(this.buf,this.pos)+X(this.buf,this.pos+4)*s;return this.pos+=8,q},readFloat:function(){var q=u.read(this.buf,this.pos,!0,23,4);return this.pos+=4,q},readDouble:function(){var q=u.read(this.buf,this.pos,!0,52,8);return this.pos+=8,q},readVarint:function(q){var te,ie,de=this.buf;return te=127&(ie=de[this.pos++]),ie<128?te:(te|=(127&(ie=de[this.pos++]))<<7,ie<128?te:(te|=(127&(ie=de[this.pos++]))<<14,ie<128?te:(te|=(127&(ie=de[this.pos++]))<<21,ie<128?te:function(Ee,be,xe){var Ve,ve,Be=xe.buf;if(Ve=(112&(ve=Be[xe.pos++]))>>4,ve<128||(Ve|=(127&(ve=Be[xe.pos++]))<<3,ve<128)||(Ve|=(127&(ve=Be[xe.pos++]))<<10,ve<128)||(Ve|=(127&(ve=Be[xe.pos++]))<<17,ve<128)||(Ve|=(127&(ve=Be[xe.pos++]))<<24,ve<128)||(Ve|=(1&(ve=Be[xe.pos++]))<<31,ve<128))return _(Ee,Ve,be);throw new Error("Expected varint not more than 10 bytes")}(te|=(15&(ie=de[this.pos]))<<28,q,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var q=this.readVarint();return q%2==1?(q+1)/-2:q/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var q=this.readVarint()+this.pos,te=this.pos;return this.pos=q,q-te>=12&&g?function(ie,de,Ee){return g.decode(ie.subarray(de,Ee))}(this.buf,te,q):function(ie,de,Ee){for(var be="",xe=de;xe<Ee;){var Ve,ve,Be,We=ie[xe],Ke=null,tt=We>239?4:We>223?3:We>191?2:1;if(xe+tt>Ee)break;tt===1?We<128&&(Ke=We):tt===2?(192&(Ve=ie[xe+1]))==128&&(Ke=(31&We)<<6|63&Ve)<=127&&(Ke=null):tt===3?(ve=ie[xe+2],(192&(Ve=ie[xe+1]))==128&&(192&ve)==128&&((Ke=(15&We)<<12|(63&Ve)<<6|63&ve)<=2047||Ke>=55296&&Ke<=57343)&&(Ke=null)):tt===4&&(ve=ie[xe+2],Be=ie[xe+3],(192&(Ve=ie[xe+1]))==128&&(192&ve)==128&&(192&Be)==128&&((Ke=(15&We)<<18|(63&Ve)<<12|(63&ve)<<6|63&Be)<=65535||Ke>=1114112)&&(Ke=null)),Ke===null?(Ke=65533,tt=1):Ke>65535&&(Ke-=65536,be+=String.fromCharCode(Ke>>>10&1023|55296),Ke=56320|1023&Ke),be+=String.fromCharCode(Ke),xe+=tt}return be}(this.buf,te,q)},readBytes:function(){var q=this.readVarint()+this.pos,te=this.buf.subarray(this.pos,q);return this.pos=q,te},readPackedVarint:function(q,te){if(this.type!==o.Bytes)return q.push(this.readVarint(te));var ie=f(this);for(q=q||[];this.pos<ie;)q.push(this.readVarint(te));return q},readPackedSVarint:function(q){if(this.type!==o.Bytes)return q.push(this.readSVarint());var te=f(this);for(q=q||[];this.pos<te;)q.push(this.readSVarint());return q},readPackedBoolean:function(q){if(this.type!==o.Bytes)return q.push(this.readBoolean());var te=f(this);for(q=q||[];this.pos<te;)q.push(this.readBoolean());return q},readPackedFloat:function(q){if(this.type!==o.Bytes)return q.push(this.readFloat());var te=f(this);for(q=q||[];this.pos<te;)q.push(this.readFloat());return q},readPackedDouble:function(q){if(this.type!==o.Bytes)return q.push(this.readDouble());var te=f(this);for(q=q||[];this.pos<te;)q.push(this.readDouble());return q},readPackedFixed32:function(q){if(this.type!==o.Bytes)return q.push(this.readFixed32());var te=f(this);for(q=q||[];this.pos<te;)q.push(this.readFixed32());return q},readPackedSFixed32:function(q){if(this.type!==o.Bytes)return q.push(this.readSFixed32());var te=f(this);for(q=q||[];this.pos<te;)q.push(this.readSFixed32());return q},readPackedFixed64:function(q){if(this.type!==o.Bytes)return q.push(this.readFixed64());var te=f(this);for(q=q||[];this.pos<te;)q.push(this.readFixed64());return q},readPackedSFixed64:function(q){if(this.type!==o.Bytes)return q.push(this.readSFixed64());var te=f(this);for(q=q||[];this.pos<te;)q.push(this.readSFixed64());return q},skip:function(q){var te=7&q;if(te===o.Varint)for(;this.buf[this.pos++]>127;);else if(te===o.Bytes)this.pos=this.readVarint()+this.pos;else if(te===o.Fixed32)this.pos+=4;else{if(te!==o.Fixed64)throw new Error("Unimplemented type: "+te);this.pos+=8}},writeTag:function(q,te){this.writeVarint(q<<3|te)},realloc:function(q){for(var te=this.length||16;te<this.pos+q;)te*=2;if(te!==this.length){var ie=new Uint8Array(te);ie.set(this.buf),this.buf=ie,this.length=te}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(q){this.realloc(4),Z(this.buf,q,this.pos),this.pos+=4},writeSFixed32:function(q){this.realloc(4),Z(this.buf,q,this.pos),this.pos+=4},writeFixed64:function(q){this.realloc(8),Z(this.buf,-1&q,this.pos),Z(this.buf,Math.floor(q*h),this.pos+4),this.pos+=8},writeSFixed64:function(q){this.realloc(8),Z(this.buf,-1&q,this.pos),Z(this.buf,Math.floor(q*h),this.pos+4),this.pos+=8},writeVarint:function(q){(q=+q||0)>268435455||q<0?function(te,ie){var de,Ee;if(te>=0?(de=te%4294967296|0,Ee=te/4294967296|0):(Ee=~(-te/4294967296),4294967295^(de=~(-te%4294967296))?de=de+1|0:(de=0,Ee=Ee+1|0)),te>=18446744073709552e3||te<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");ie.realloc(10),function(be,xe,Ve){Ve.buf[Ve.pos++]=127&be|128,be>>>=7,Ve.buf[Ve.pos++]=127&be|128,be>>>=7,Ve.buf[Ve.pos++]=127&be|128,be>>>=7,Ve.buf[Ve.pos++]=127&be|128,Ve.buf[Ve.pos]=127&(be>>>=7)}(de,0,ie),function(be,xe){var Ve=(7&be)<<4;xe.buf[xe.pos++]|=Ve|((be>>>=3)?128:0),be&&(xe.buf[xe.pos++]=127&be|((be>>>=7)?128:0),be&&(xe.buf[xe.pos++]=127&be|((be>>>=7)?128:0),be&&(xe.buf[xe.pos++]=127&be|((be>>>=7)?128:0),be&&(xe.buf[xe.pos++]=127&be|((be>>>=7)?128:0),be&&(xe.buf[xe.pos++]=127&be)))))}(Ee,ie)}(q,this):(this.realloc(4),this.buf[this.pos++]=127&q|(q>127?128:0),q<=127||(this.buf[this.pos++]=127&(q>>>=7)|(q>127?128:0),q<=127||(this.buf[this.pos++]=127&(q>>>=7)|(q>127?128:0),q<=127||(this.buf[this.pos++]=q>>>7&127))))},writeSVarint:function(q){this.writeVarint(q<0?2*-q-1:2*q)},writeBoolean:function(q){this.writeVarint(!!q)},writeString:function(q){q=String(q),this.realloc(4*q.length),this.pos++;var te=this.pos;this.pos=function(de,Ee,be){for(var xe,Ve,ve=0;ve<Ee.length;ve++){if((xe=Ee.charCodeAt(ve))>55295&&xe<57344){if(!Ve){xe>56319||ve+1===Ee.length?(de[be++]=239,de[be++]=191,de[be++]=189):Ve=xe;continue}if(xe<56320){de[be++]=239,de[be++]=191,de[be++]=189,Ve=xe;continue}xe=Ve-55296<<10|xe-56320|65536,Ve=null}else Ve&&(de[be++]=239,de[be++]=191,de[be++]=189,Ve=null);xe<128?de[be++]=xe:(xe<2048?de[be++]=xe>>6|192:(xe<65536?de[be++]=xe>>12|224:(de[be++]=xe>>18|240,de[be++]=xe>>12&63|128),de[be++]=xe>>6&63|128),de[be++]=63&xe|128)}return be}(this.buf,q,this.pos);var ie=this.pos-te;ie>=128&&F(te,ie,this),this.pos=te-1,this.writeVarint(ie),this.pos+=ie},writeFloat:function(q){this.realloc(4),u.write(this.buf,q,this.pos,!0,23,4),this.pos+=4},writeDouble:function(q){this.realloc(8),u.write(this.buf,q,this.pos,!0,52,8),this.pos+=8},writeBytes:function(q){var te=q.length;this.writeVarint(te),this.realloc(te);for(var ie=0;ie<te;ie++)this.buf[this.pos++]=q[ie]},writeRawMessage:function(q,te){this.pos++;var ie=this.pos;q(te,this);var de=this.pos-ie;de>=128&&F(ie,de,this),this.pos=ie-1,this.writeVarint(de),this.pos+=de},writeMessage:function(q,te,ie){this.writeTag(q,o.Bytes),this.writeRawMessage(te,ie)},writePackedVarint:function(q,te){te.length&&this.writeMessage(q,R,te)},writePackedSVarint:function(q,te){te.length&&this.writeMessage(q,M,te)},writePackedBoolean:function(q,te){te.length&&this.writeMessage(q,I,te)},writePackedFloat:function(q,te){te.length&&this.writeMessage(q,v,te)},writePackedDouble:function(q,te){te.length&&this.writeMessage(q,T,te)},writePackedFixed32:function(q,te){te.length&&this.writeMessage(q,S,te)},writePackedSFixed32:function(q,te){te.length&&this.writeMessage(q,P,te)},writePackedFixed64:function(q,te){te.length&&this.writeMessage(q,D,te)},writePackedSFixed64:function(q,te){te.length&&this.writeMessage(q,N,te)},writeBytesField:function(q,te){this.writeTag(q,o.Bytes),this.writeBytes(te)},writeFixed32Field:function(q,te){this.writeTag(q,o.Fixed32),this.writeFixed32(te)},writeSFixed32Field:function(q,te){this.writeTag(q,o.Fixed32),this.writeSFixed32(te)},writeFixed64Field:function(q,te){this.writeTag(q,o.Fixed64),this.writeFixed64(te)},writeSFixed64Field:function(q,te){this.writeTag(q,o.Fixed64),this.writeSFixed64(te)},writeVarintField:function(q,te){this.writeTag(q,o.Varint),this.writeVarint(te)},writeSVarintField:function(q,te){this.writeTag(q,o.Varint),this.writeSVarint(te)},writeStringField:function(q,te){this.writeTag(q,o.Bytes),this.writeString(te)},writeFloatField:function(q,te){this.writeTag(q,o.Fixed32),this.writeFloat(te)},writeDoubleField:function(q,te){this.writeTag(q,o.Fixed64),this.writeDouble(te)},writeBooleanField:function(q,te){this.writeVarintField(q,!!te)}},e4}var Fy=x(Ww());const i4=3;function nM(u,o,s){o.glyphs=[],u===1&&s.readMessage(oM,o)}function oM(u,o,s){if(u===3){const{id:h,bitmap:g,width:f,height:_,left:F,top:R,advance:M}=s.readMessage(rM,{});o.glyphs.push({id:h,bitmap:new vd({width:f+2*i4,height:_+2*i4},g),metrics:{width:f,height:_,left:F,top:R,advance:M}})}else u===4?o.ascender=s.readSVarint():u===5&&(o.descender=s.readSVarint())}function rM(u,o,s){u===1?o.id=s.readVarint():u===2?o.bitmap=s.readBytes():u===3?o.width=s.readVarint():u===4?o.height=s.readVarint():u===5?o.left=s.readSVarint():u===6?o.top=s.readSVarint():u===7&&(o.advance=s.readVarint())}const Kw=i4,ns={horizontal:1,vertical:2,horizontalOnly:3};class Om{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(o,s){const h=new Om;return h.scale=o||1,h.fontStack=s,h}static forImage(o){const s=new Om;return s.imageName=o,s}}class Uf{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(o,s){const h=new Uf;for(let g=0;g<o.sections.length;g++){const f=o.sections[g];f.image?h.addImageSection(f):h.addTextSection(f,s)}return h}length(){return this.text.length}getSection(o){return this.sections[this.sectionIndex[o]]}getSections(){return this.sections}getSectionIndex(o){return this.sectionIndex[o]}getCodePoint(o){return this.text.codePointAt(o)}verticalizePunctuation(o){this.text=function(s,h){let g="";for(let f=0;f<s.length;f++){const _=s.charCodeAt(f+1)||null,F=s.charCodeAt(f-1)||null;g+=!h&&(_&&Q0(_)&&!Am[s[f+1]]||F&&Q0(F)&&!Am[s[f-1]])||!Am[s[f]]?s[f]:Am[s[f]]}return g}(this.text,o)}trim(){let o=0;for(let h=0;h<this.text.length&&Cy[this.text.charCodeAt(h)];h++)o++;let s=this.text.length;for(let h=this.text.length-1;h>=0&&h>=o&&Cy[this.text.charCodeAt(h)];h--)s--;this.text=this.text.substring(o,s),this.sectionIndex=this.sectionIndex.slice(o,s)}substring(o,s){const h=new Uf;return h.text=this.text.substring(o,s),h.sectionIndex=this.sectionIndex.slice(o,s),h.sections=this.sections,h}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((o,s)=>Math.max(o,this.sections[s].scale),0)}addTextSection(o,s){this.text+=o.text,this.sections.push(Om.forText(o.scale,o.fontStack||s));const h=this.sections.length-1;for(let g=0;g<o.text.length;++g)this.sectionIndex.push(h)}addImageSection(o){const s=o.image?o.image.namePrimary:"";if(s.length===0)return void an("Can't add FormattedSection with an empty image.");const h=this.getNextImageSectionCharCode();h?(this.text+=String.fromCodePoint(h),this.sections.push(Om.forImage(s)),this.sectionIndex.push(this.sections.length-1)):an("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function n4(u,o,s,h,g,f,_,F,R,M,v,T,I,S,P){const D=Uf.fromFeature(u,g);T===ns.vertical&&D.verticalizePunctuation(I);let N=[];const U=function(ie,de,Ee,be,xe,Ve){if(!ie)return[];const ve=[],Be=function(ht,mt,lt,Pt,Nt,wt){let ci=0;for(let Jt=0;Jt<ht.length();Jt++){const qt=ht.getSection(Jt);ci+=Zw(ht.getCodePoint(Jt),qt,Pt,Nt,mt,wt)}return ci/Math.max(1,Math.ceil(ci/lt))}(ie,de,Ee,be,xe,Ve),We=ie.text.indexOf("​")>=0;let Ke=0;for(let ht=0;ht<ie.length();ht++){const mt=ie.getSection(ht),lt=ie.getCodePoint(ht);if(Cy[lt]||(Ke+=Zw(lt,mt,be,xe,de,Ve)),ht<ie.length()-1){const Pt=!((tt=lt)<11904||!(vi["Bopomofo Extended"](tt)||vi.Bopomofo(tt)||vi["CJK Compatibility Forms"](tt)||vi["CJK Compatibility Ideographs"](tt)||vi["CJK Compatibility"](tt)||vi["CJK Radicals Supplement"](tt)||vi["CJK Strokes"](tt)||vi["CJK Symbols and Punctuation"](tt)||vi["CJK Unified Ideographs Extension A"](tt)||vi["CJK Unified Ideographs"](tt)||vi["Enclosed CJK Letters and Months"](tt)||vi["Halfwidth and Fullwidth Forms"](tt)||vi.Hiragana(tt)||vi["Ideographic Description Characters"](tt)||vi["Kangxi Radicals"](tt)||vi["Katakana Phonetic Extensions"](tt)||vi.Katakana(tt)||vi["Vertical Forms"](tt)||vi["Yi Radicals"](tt)||vi["Yi Syllables"](tt)));(aM[lt]||Pt||mt.imageName)&&ve.push(Xw(ht+1,Ke,Be,ve,sM(lt,ie.getCodePoint(ht+1),Pt&&We),!1))}}var tt;return Jw(Xw(ie.length(),Ke,Be,ve,0,!0))}(D,M,f,o,h,S),{processBidirectionalText:Z,processStyledBidirectionalText:X}=va;if(Z&&D.sections.length===1){const ie=Z(D.toString(),U);for(const de of ie){const Ee=new Uf;Ee.text=de,Ee.sections=D.sections;for(let be=0;be<de.length;be++)Ee.sectionIndex.push(0);N.push(Ee)}}else if(X){const ie=X(D.text,D.sectionIndex,U);for(const de of ie){const Ee=new Uf;Ee.text=de[0],Ee.sectionIndex=de[1],Ee.sections=D.sections,N.push(Ee)}}else N=function(ie,de){const Ee=[],be=ie.text;let xe=0;for(const Ve of de)Ee.push(ie.substring(xe,Ve)),xe=Ve;return xe<be.length&&Ee.push(ie.substring(xe,be.length)),Ee}(D,U);const q=[],te={positionedLines:q,text:D.toString(),top:v[1],bottom:v[1],left:v[0],right:v[0],writingMode:T,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(ie,de,Ee,be,xe,Ve,ve,Be,We,Ke,tt,ht){let mt=0,lt=0,Pt=0;const Nt=Be==="right"?1:Be==="left"?0:.5;let wt=!1;for(const si of xe){const pi=si.getSections();for(const $i of pi){if($i.imageName)continue;const Qi=de[$i.fontStack];if(Qi&&(wt=Qi.ascender!==void 0&&Qi.descender!==void 0,!wt))break}if(!wt)break}let ci=0;for(const si of xe){si.trim();const pi=si.getMaxScale(),$i=(pi-1)*Sr,Qi={positionedGlyphs:[],lineOffset:0};ie.positionedLines[ci]=Qi;const Xi=Qi.positionedGlyphs;let Zi=0;if(!si.length()){lt+=Ve,++ci;continue}let on=0,en=0;for(let Hn=0;Hn<si.length();Hn++){const Di=si.getSection(Hn),Pn=si.getSectionIndex(Hn),An=si.getCodePoint(Hn);let co=Di.scale,Oo=null,Ko=null,Lo=null,Co=Sr,No=0;const tr=!(We===ns.horizontal||!tt&&!rd(An)||tt&&(Cy[An]||(Jt=An,vi.Arabic(Jt)||vi["Arabic Supplement"](Jt)||vi["Arabic Extended-A"](Jt)||vi["Arabic Presentation Forms-A"](Jt)||vi["Arabic Presentation Forms-B"](Jt))));if(Di.imageName){const Tr=be[Di.imageName];if(!Tr)continue;Lo=Di.imageName,ie.iconsInText=ie.iconsInText||!0,Ko=Tr.paddedRect;const oo=Tr.displaySize;co=co*Sr/ht,Oo={width:oo[0],height:oo[1],left:0,top:-Kw,advance:tr?oo[1]:oo[0],localGlyph:!1},No=wt?-Oo.height*co:pi*Sr-17-oo[1]*co,Co=Oo.advance;const wa=(tr?oo[0]:oo[1])*co-Sr*pi;wa>0&&wa>Zi&&(Zi=wa)}else{const Tr=Ee[Di.fontStack];if(!Tr)continue;Tr[An]&&(Ko=Tr[An]);const oo=de[Di.fontStack];if(!oo)continue;const wa=oo.glyphs[An];if(!wa)continue;if(Oo=wa.metrics,Co=An!==8203?Sr:0,wt){const tc=oo.ascender!==void 0?Math.abs(oo.ascender):0,ws=oo.descender!==void 0?Math.abs(oo.descender):0,Fs=(tc+ws)*co;on<Fs&&(on=Fs,en=(tc-ws)/2*co),No=-tc*co}else No=(pi-co)*Sr-17}tr?(ie.verticalizable=!0,Xi.push({glyph:An,imageName:Lo,x:mt,y:lt+No,vertical:tr,scale:co,localGlyph:Oo.localGlyph,fontStack:Di.fontStack,sectionIndex:Pn,metrics:Oo,rect:Ko}),mt+=Co*co+Ke):(Xi.push({glyph:An,imageName:Lo,x:mt,y:lt+No,vertical:tr,scale:co,localGlyph:Oo.localGlyph,fontStack:Di.fontStack,sectionIndex:Pn,metrics:Oo,rect:Ko}),mt+=Oo.advance*co+Ke)}Xi.length!==0&&(Pt=Math.max(mt-Ke,Pt),wt?Yw(Xi,Nt,Zi,en,Ve*pi/2):Yw(Xi,Nt,Zi,0,Ve/2)),mt=0;const Qn=Ve*pi+Zi;Qi.lineOffset=Math.max(Zi,$i),lt+=Qn,++ci}var Jt;const qt=lt,{horizontalAlign:zt,verticalAlign:Ci}=o4(ve);(function(si,pi,$i,Qi,Xi,Zi){const on=(pi-$i)*Xi,en=-Zi*Qi;for(const Qn of si)for(const Hn of Qn.positionedGlyphs)Hn.x+=on,Hn.y+=en})(ie.positionedLines,Nt,zt,Ci,Pt,qt),ie.top+=-Ci*qt,ie.bottom=ie.top+qt,ie.left+=-zt*Pt,ie.right=ie.left+Pt,ie.hasBaseline=wt}(te,o,s,h,N,_,F,R,T,M,I,P),!function(ie){for(const de of ie)if(de.positionedGlyphs.length!==0)return!1;return!0}(q)&&te}const Cy={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},aM={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Zw(u,o,s,h,g,f){if(o.imageName){const _=h[o.imageName];return _?_.displaySize[0]*o.scale*Sr/f+g:0}{const _=s[o.fontStack],F=_&&_.glyphs[u];return F?F.metrics.advance*o.scale+g:0}}function Qw(u,o,s,h){const g=Math.pow(u-o,2);return h?u<o?g/2:2*g:g+Math.abs(s)*s}function sM(u,o,s){let h=0;return u===10&&(h-=1e4),s&&(h+=150),u!==40&&u!==65288||(h+=50),o!==41&&o!==65289||(h+=50),h}function Xw(u,o,s,h,g,f){let _=null,F=Qw(o,s,g,f);for(const R of h){const M=Qw(o-R.x,s,g,f)+R.badness;M<=F&&(_=R,F=M)}return{index:u,x:o,priorBreak:_,badness:F}}function Jw(u){return u?Jw(u.priorBreak).concat(u.index):[]}function o4(u){let o=.5,s=.5;switch(u){case"right":case"top-right":case"bottom-right":o=1;break;case"left":case"top-left":case"bottom-left":o=0}switch(u){case"bottom":case"bottom-right":case"bottom-left":s=1;break;case"top":case"top-right":case"top-left":s=0}return{horizontalAlign:o,verticalAlign:s}}function Yw(u,o,s,h,g){if(!(o||s||h||g))return;const f=u.length-1,_=u[f],F=(_.x+_.metrics.advance*_.scale)*o;for(let R=0;R<=f;R++)u[R].x-=F,u[R].y+=s+h+g}function cM(u,o,s,h){const{horizontalAlign:g,verticalAlign:f}=o4(h),_=s[0]-u.displaySize[0]*g,F=s[1]-u.displaySize[1]*f;return{imagePrimary:u,imageSecondary:o,top:F,bottom:F+u.displaySize[1],left:_,right:_+u.displaySize[0]}}function e7(u,o,s,h,g,f){const _=u.imagePrimary;let F;if(_.content){const N=_.content,U=_.pixelRatio||1;F=[N[0]/U,N[1]/U,_.displaySize[0]-N[2]/U,_.displaySize[1]-N[3]/U]}const R=o.left*f,M=o.right*f;let v,T,I,S;s==="width"||s==="both"?(S=g[0]+R-h[3],T=g[0]+M+h[1]):(S=g[0]+(R+M-_.displaySize[0])/2,T=S+_.displaySize[0]);const P=o.top*f,D=o.bottom*f;return s==="height"||s==="both"?(v=g[1]+P-h[0],I=g[1]+D+h[2]):(v=g[1]+(P+D-_.displaySize[1])/2,I=v+_.displaySize[1]),{imagePrimary:_,imageSecondary:void 0,top:v,right:T,bottom:I,left:S,collisionPadding:F}}class ul extends K{constructor(o,s,h,g,f){super(o,s),this.angle=g,this.z=h,f!==void 0&&(this.segment=f)}clone(){return new ul(this.x,this.y,this.z,this.angle,this.segment)}}function t7(u,o,s,h,g){if(o.segment===void 0)return!0;let f=o,_=o.segment+1,F=0;for(;F>-s/2;){if(_--,_<0)return!1;F-=u[_].dist(f),f=u[_]}F+=u[_].dist(u[_+1]),_++;const R=[];let M=0;for(;F<s/2;){const v=u[_],T=u[_+1];if(!T)return!1;let I=u[_-1].angleTo(v)-v.angleTo(T);for(I=Math.abs((I+3*Math.PI)%(2*Math.PI)-Math.PI),R.push({distance:F,angleDelta:I}),M+=I;F-R[0].distance>h;)M-=R.shift().angleDelta;if(M>g)return!1;_++,F+=v.dist(T)}return!0}function i7(u){let o=0;for(let s=0;s<u.length-1;s++)o+=u[s].dist(u[s+1]);return o}function n7(u,o,s){return u?.6*o*s:0}function o7(u,o){return Math.max(u?u.right-u.left:0,o?o.right-o.left:0)}function lM(u,o,s,h,g,f){const _=n7(s,g,f),F=o7(s,h)*f;let R=0;const M=i7(u)/2;for(let v=0;v<u.length-1;v++){const T=u[v],I=u[v+1],S=T.dist(I);if(R+S>M){const P=(M-R)/S,D=Oi(T.x,I.x,P),N=Oi(T.y,I.y,P),U=new ul(D,N,0,I.angleTo(T),v);return!_||t7(u,U,F,_,o)?U:void 0}R+=S}}function dM(u,o,s,h,g,f,_,F,R){const M=n7(h,f,_),v=o7(h,g),T=v*_,I=u[0].x===0||u[0].x===R||u[0].y===0||u[0].y===R;return o-T<o/4&&(o=T+o/4),r7(u,I?o/2*F%o:(v/2+2*f)*_*F%o,o,M,s,T,I,!1,R)}function r7(u,o,s,h,g,f,_,F,R){const M=f/2,v=i7(u);let T=0,I=o-s,S=[];for(let P=0;P<u.length-1;P++){const D=u[P],N=u[P+1],U=D.dist(N),Z=N.angleTo(D);for(;I+s<T+U;){I+=s;const X=(I-T)/U,q=Oi(D.x,N.x,X),te=Oi(D.y,N.y,X);if(q>=0&&q<R&&te>=0&&te<R&&I-M>=0&&I+M<=v){const ie=new ul(q,te,0,Z,P);h&&!t7(u,ie,f,h,g)||S.push(ie)}}T+=U}return F||S.length||_||(S=r7(u,T/2,s,h,g,f,_,!0,R)),S}function a7(u,o,s,h,g){const f=[];for(let _=0;_<u.length;_++){const F=u[_];let R;for(let M=0;M<F.length-1;M++){let v=F[M],T=F[M+1];v.x<o&&T.x<o||(v.x<o?v=new K(o,v.y+(o-v.x)/(T.x-v.x)*(T.y-v.y))._round():T.x<o&&(T=new K(o,v.y+(o-v.x)/(T.x-v.x)*(T.y-v.y))._round()),v.y<s&&T.y<s||(v.y<s?v=new K(v.x+(s-v.y)/(T.y-v.y)*(T.x-v.x),s)._round():T.y<s&&(T=new K(v.x+(s-v.y)/(T.y-v.y)*(T.x-v.x),s)._round()),v.x>=h&&T.x>=h||(v.x>=h?v=new K(h,v.y+(h-v.x)/(T.x-v.x)*(T.y-v.y))._round():T.x>=h&&(T=new K(h,v.y+(h-v.x)/(T.x-v.x)*(T.y-v.y))._round()),v.y>=g&&T.y>=g||(v.y>=g?v=new K(v.x+(g-v.y)/(T.y-v.y)*(T.x-v.x),g)._round():T.y>=g&&(T=new K(v.x+(g-v.y)/(T.y-v.y)*(T.x-v.x),g)._round()),R&&v.equals(R[R.length-1])||(R=[v],f.push(R)),R.push(T)))))}}return f}function s7(u){let o=0,s=0;for(const _ of u)o+=_.w*_.h,s=Math.max(s,_.w);u.sort((_,F)=>F.h-_.h);const h=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(o/.95)),s),h:1/0}];let g=0,f=0;for(const _ of u)for(let F=h.length-1;F>=0;F--){const R=h[F];if(!(_.w>R.w||_.h>R.h)){if(_.x=R.x,_.y=R.y,f=Math.max(f,_.y+_.h),g=Math.max(g,_.x+_.w),_.w===R.w&&_.h===R.h){const M=h.pop();F<h.length&&(h[F]=M)}else _.h===R.h?(R.x+=_.w,R.w-=_.w):_.w===R.w?(R.y+=_.h,R.h-=_.h):(h.push({x:R.x+_.w,y:R.y,w:R.w-_.w,h:_.h}),R.y+=_.h,R.h-=_.h);break}}return{w:g,h:f,fill:o/(g*f)||0}}hi(ul,"Anchor");const Lm=1;class r4{constructor(o,{pixelRatio:s,version:h,stretchX:g,stretchY:f,content:_},F){this.paddedRect=o,this.pixelRatio=s,this.stretchX=g,this.stretchY=f,this.content=_,this.version=h,this.padding=F}get tl(){return[this.paddedRect.x+this.padding,this.paddedRect.y+this.padding]}get br(){return[this.paddedRect.x+this.paddedRect.w-this.padding,this.paddedRect.y+this.paddedRect.h-this.padding]}get displaySize(){return[(this.paddedRect.w-2*this.padding)/this.pixelRatio,(this.paddedRect.h-2*this.padding)/this.pixelRatio]}}class c7{constructor(o,s,h){const g={},f={};this.haveRenderCallbacks=[];const _=[];this.addImages(o,g,Lm,_),this.addImages(s,f,2,_);const{w:F,h:R}=s7(_),M=new qr({width:F||1,height:R||1});for(const v in o){const T=o[v],I=g[v].paddedRect;qr.copy(T.data,M,{x:0,y:0},{x:I.x+Lm,y:I.y+Lm},T.data,h,T.sdf)}for(const v in s){const T=s[v],I=f[v].paddedRect;let S=f[v].padding;const P=I.x+S,D=I.y+S,N=T.data.width,U=T.data.height;S=S>1?S-1:S,qr.copy(T.data,M,{x:0,y:0},{x:P,y:D},T.data,h),qr.copy(T.data,M,{x:0,y:U-S},{x:P,y:D-S},{width:N,height:S},h),qr.copy(T.data,M,{x:0,y:0},{x:P,y:D+U},{width:N,height:S},h),qr.copy(T.data,M,{x:N-S,y:0},{x:P-S,y:D},{width:S,height:U},h),qr.copy(T.data,M,{x:0,y:0},{x:P+N,y:D},{width:S,height:U},h),qr.copy(T.data,M,{x:N-S,y:U-S},{x:P-S,y:D-S},{width:S,height:S},h),qr.copy(T.data,M,{x:0,y:U-S},{x:P+N,y:D-S},{width:S,height:S},h),qr.copy(T.data,M,{x:0,y:0},{x:P+N,y:D+U},{width:S,height:S},h),qr.copy(T.data,M,{x:N-S,y:0},{x:P-S,y:D+U},{width:S,height:S},h)}this.image=M,this.iconPositions=g,this.patternPositions=f}addImages(o,s,h,g){for(const f in o){const _=o[f],F={x:0,y:0,w:_.data.width+2*h,h:_.data.height+2*h};g.push(F),s[f]=new r4(F,_,h),_.hasRenderCallback&&this.haveRenderCallbacks.push(f)}}patchUpdatedImages(o,s,h){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(g=>o.hasImage(g,h)),o.dispatchRenderCallbacks(this.haveRenderCallbacks,h);for(const g in o.getUpdatedImages(h))this.patchUpdatedImage(this.iconPositions[g],o.getImage(g,h),s),this.patchUpdatedImage(this.patternPositions[g],o.getImage(g,h),s)}patchUpdatedImage(o,s,h){if(!o||!s||o.version===s.version)return;o.version=s.version;const[g,f]=o.tl;h.update(s.data,{position:{x:g,y:f}})}}hi(r4,"ImagePosition"),hi(c7,"ImageAtlas");const Dm=1e20;function l7(u,o,s,h,g,f,_,F,R){for(let M=o;M<o+h;M++)d7(u,s*f+M,f,g,_,F,R);for(let M=s;M<s+g;M++)d7(u,M*f+o,1,h,_,F,R)}function d7(u,o,s,h,g,f,_){f[0]=0,_[0]=-Dm,_[1]=Dm,g[0]=u[o];for(let F=1,R=0,M=0;F<h;F++){g[F]=u[o+F*s];const v=F*F;do{const T=f[R];M=(g[F]-g[T]+v-T*T)/(F-T)/2}while(M<=_[R]&&--R>-1);R++,f[R]=F,_[R]=M,_[R+1]=Dm}for(let F=0,R=0;F<h;F++){for(;_[R+1]<F;)R++;const M=f[R],v=F-M;u[o+F*s]=g[M]+v*v}}const Xs=2,a4={none:0,ideographs:1,all:2};class Gf{constructor(o,s,h){this.requestManager=o,this.localGlyphMode=s,this.localFontFamily=h,this.urls={},this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(o,s){this.urls[s]=o}getGlyphs(o,s,h){const g=[],f=this.urls[s]||ke.GLYPHS_URL;for(const _ in o)for(const F of o[_])g.push({stack:_,id:F});Ti(g,({stack:_,id:F},R)=>{let M=this.entries[_];M||(M=this.entries[_]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let v=M.glyphs[F];if(v!==void 0)return void R(null,{stack:_,id:F,glyph:v});if(v=this._tinySDF(M,_,F),v)return M.glyphs[F]=v,void R(null,{stack:_,id:F,glyph:v});const T=Math.floor(F/256);if(256*T>65535)return an("glyphs > 65535 not supported"),void R(null,{stack:_,id:F,glyph:v});if(M.ranges[T])return void R(null,{stack:_,id:F,glyph:v});let I=M.requests[T];I||(I=M.requests[T]=[],Gf.loadGlyphRange(_,T,f,this.requestManager,(S,P)=>{if(P){M.ascender=P.ascender,M.descender=P.descender;for(const D in P.glyphs)this._doesCharSupportLocalGlyph(+D)||(M.glyphs[+D]=P.glyphs[+D]);M.ranges[T]=!0}for(const D of I)D(S,P);delete M.requests[T]})),I.push((S,P)=>{S?R(S):P&&R(null,{stack:_,id:F,glyph:P.glyphs[F]||null})})},(_,F)=>{if(_)h(_);else if(F){const R={};for(const{stack:M,id:v,glyph:T}of F)R[M]===void 0&&(R[M]={}),R[M].glyphs===void 0&&(R[M].glyphs={}),R[M].glyphs[v]=T&&{id:T.id,bitmap:T.bitmap.clone(),metrics:T.metrics},R[M].ascender=this.entries[M].ascender,R[M].descender=this.entries[M].descender;h(null,R)}})}_doesCharSupportLocalGlyph(o){return this.localGlyphMode!==a4.none&&(this.localGlyphMode===a4.all?!!this.localFontFamily:!!this.localFontFamily&&(vi["CJK Unified Ideographs"](o)||vi["Hangul Syllables"](o)||vi.Hiragana(o)||vi.Katakana(o)||vi["CJK Symbols and Punctuation"](o)||vi["CJK Unified Ideographs Extension A"](o)||vi["CJK Unified Ideographs Extension B"](o)||vi.Osage(o)))}_tinySDF(o,s,h){const g=this.localFontFamily;if(!g||!this._doesCharSupportLocalGlyph(h))return;let f=o.tinySDF;if(!f){let D="400";/bold/i.test(s)?D="900":/medium/i.test(s)?D="500":/light/i.test(s)&&(D="200"),f=o.tinySDF=new Gf.TinySDF({fontFamily:g,fontWeight:D,fontSize:24*Xs,buffer:3*Xs,radius:8*Xs}),f.fontWeight=D}if(this.localGlyphs[f.fontWeight][h])return this.localGlyphs[f.fontWeight][h];const _=String.fromCodePoint(h),{data:F,width:R,height:M,glyphWidth:v,glyphHeight:T,glyphLeft:I,glyphTop:S,glyphAdvance:P}=f.draw(_);return this.localGlyphs[f.fontWeight][h]={id:h,bitmap:new vd({width:R,height:M},F),metrics:{width:v/Xs,height:T/Xs,left:I/Xs,top:S/Xs-27,advance:P/Xs,localGlyph:!0}}}}Gf.loadGlyphRange=function(u,o,s,h,g){const f=256*o,_=f+255,F=h.transformRequest(h.normalizeGlyphsURL(s).replace("{fontstack}",u).replace("{range}",`${f}-${_}`),Gh.Glyphs);Ll(F,(R,M)=>{if(R)g(R);else if(M){const v={},T=function(I){return new Fy(I).readFields(nM,{})}(M);for(const I of T.glyphs)v[I.id]=I;g(null,{glyphs:v,ascender:T.ascender,descender:T.descender})}})},Gf.TinySDF=class{constructor({fontSize:u=24,buffer:o=3,radius:s=8,cutoff:h=.25,fontFamily:g="sans-serif",fontWeight:f="normal",fontStyle:_="normal"}={}){this.buffer=o,this.cutoff=h,this.radius=s;const F=this.size=u+4*o,R=this._createCanvas(F),M=this.ctx=R.getContext("2d",{willReadFrequently:!0});M.font=`${_} ${f} ${u}px ${g}`,M.textBaseline="alphabetic",M.textAlign="left",M.fillStyle="black",this.gridOuter=new Float64Array(F*F),this.gridInner=new Float64Array(F*F),this.f=new Float64Array(F),this.z=new Float64Array(F+1),this.v=new Uint16Array(F)}_createCanvas(u){const o=document.createElement("canvas");return o.width=o.height=u,o}draw(u){const{width:o,actualBoundingBoxAscent:s,actualBoundingBoxDescent:h,actualBoundingBoxLeft:g,actualBoundingBoxRight:f}=this.ctx.measureText(u),_=Math.ceil(s),F=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(f-g))),R=Math.min(this.size-this.buffer,_+Math.ceil(h)),M=F+2*this.buffer,v=R+2*this.buffer,T=Math.max(M*v,0),I=new Uint8ClampedArray(T),S={data:I,width:M,height:v,glyphWidth:F,glyphHeight:R,glyphTop:_,glyphLeft:0,glyphAdvance:o};if(F===0||R===0)return S;const{ctx:P,buffer:D,gridInner:N,gridOuter:U}=this;P.clearRect(D,D,F,R),P.fillText(u,D,D+_);const Z=P.getImageData(D,D,F,R);U.fill(Dm,0,T),N.fill(0,0,T);for(let X=0;X<R;X++)for(let q=0;q<F;q++){const te=Z.data[4*(X*F+q)+3]/255;if(te===0)continue;const ie=(X+D)*M+q+D;if(te===1)U[ie]=0,N[ie]=Dm;else{const de=.5-te;U[ie]=de>0?de*de:0,N[ie]=de<0?de*de:0}}l7(U,0,0,M,v,M,this.f,this.v,this.z),l7(N,D,D,F,R,M,this.f,this.v,this.z);for(let X=0;X<T;X++){const q=Math.sqrt(U[X])-Math.sqrt(N[X]);I[X]=Math.round(255-255*(q/this.radius+this.cutoff))}return S}};const wd=Lm;function u7(u,o,s,h,g=1){const f=[],_=u.imagePrimary,F=_.pixelRatio,R=_.paddedRect.w-2*wd,M=_.paddedRect.h-2*wd,v=(u.right-u.left)*g,T=(u.bottom-u.top)*g,I=_.stretchX||[[0,R]],S=_.stretchY||[[0,M]],P=(ve,Be)=>ve+Be[1]-Be[0],D=I.reduce(P,0),N=S.reduce(P,0),U=R-D,Z=M-N;let X=0,q=D,te=0,ie=N,de=0,Ee=U,be=0,xe=Z;if(_.content&&h){const ve=_.content;X=Ey(I,0,ve[0]),te=Ey(S,0,ve[1]),q=Ey(I,ve[0],ve[2]),ie=Ey(S,ve[1],ve[3]),de=ve[0]-X,be=ve[1]-te,Ee=ve[2]-ve[0]-q,xe=ve[3]-ve[1]-ie}const Ve=(ve,Be,We,Ke)=>{const tt=Sy(ve.stretch-X,q,v,u.left*g),ht=Ty(ve.fixed-de,Ee,ve.stretch,D),mt=Sy(Be.stretch-te,ie,T,u.top*g),lt=Ty(Be.fixed-be,xe,Be.stretch,N),Pt=Sy(We.stretch-X,q,v,u.left*g),Nt=Ty(We.fixed-de,Ee,We.stretch,D),wt=Sy(Ke.stretch-te,ie,T,u.top*g),ci=Ty(Ke.fixed-be,xe,Ke.stretch,N),Jt=new K(tt,mt),qt=new K(Pt,mt),zt=new K(Pt,wt),Ci=new K(tt,wt),si=new K(ht/F,lt/F),pi=new K(Nt/F,ci/F),$i=o*Math.PI/180;if($i){const Qn=Math.sin($i),Hn=Math.cos($i),Di=[Hn,-Qn,Qn,Hn];Jt._matMult(Di),qt._matMult(Di),Ci._matMult(Di),zt._matMult(Di)}const Qi=ve.stretch+ve.fixed,Xi=We.stretch+We.fixed,Zi=Be.stretch+Be.fixed,on=Ke.stretch+Ke.fixed,en=u.imageSecondary;return{tl:Jt,tr:qt,bl:Ci,br:zt,texPrimary:{x:_.paddedRect.x+wd+Qi,y:_.paddedRect.y+wd+Zi,w:Xi-Qi,h:on-Zi},texSecondary:en?{x:en.paddedRect.x+wd+Qi,y:en.paddedRect.y+wd+Zi,w:Xi-Qi,h:on-Zi}:void 0,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:si,pixelOffsetBR:pi,minFontScaleX:Ee/F/v,minFontScaleY:xe/F/T,isSDF:s}};if(h&&(_.stretchX||_.stretchY)){const ve=h7(I,U,D),Be=h7(S,Z,N);for(let We=0;We<ve.length-1;We++){const Ke=ve[We],tt=ve[We+1];for(let ht=0;ht<Be.length-1;ht++)f.push(Ve(Ke,Be[ht],tt,Be[ht+1]))}}else f.push(Ve({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:R+1},{fixed:0,stretch:M+1}));return f}function Ey(u,o,s){let h=0;for(const g of u)h+=Math.max(o,Math.min(s,g[1]))-Math.max(o,Math.min(s,g[0]));return h}function h7(u,o,s){const h=[{fixed:-wd,stretch:0}];for(const[g,f]of u){const _=h[h.length-1];h.push({fixed:g-_.stretch,stretch:_.stretch}),h.push({fixed:g-_.stretch,stretch:_.stretch+(f-g)})}return h.push({fixed:o+wd,stretch:s}),h}function Sy(u,o,s,h){return u/o*s+h}function Ty(u,o,s,h){return u-o*s/h}function uM(u,o,s,h){const g=o+u.positionedLines[h].lineOffset;return h===0?s+g/2:s+(g+(o+u.positionedLines[h-1].lineOffset))/2}function hM(u,o=1,s=!1){let h=1/0,g=1/0,f=-1/0,_=-1/0;const F=u[0];for(let S=0;S<F.length;S++){const P=F[S];(!S||P.x<h)&&(h=P.x),(!S||P.y<g)&&(g=P.y),(!S||P.x>f)&&(f=P.x),(!S||P.y>_)&&(_=P.y)}const R=Math.min(f-h,_-g);let M=R/2;const v=new v0([],fM);if(R===0)return new K(h,g);for(let S=h;S<f;S+=R)for(let P=g;P<_;P+=R)v.push(new Hf(S+M,P+M,M,u));let T=function(S){let P=0,D=0,N=0;const U=S[0];for(let Z=0,X=U.length,q=X-1;Z<X;q=Z++){const te=U[Z],ie=U[q],de=te.x*ie.y-ie.x*te.y;D+=(te.x+ie.x)*de,N+=(te.y+ie.y)*de,P+=3*de}return new Hf(D/P,N/P,0,S)}(u),I=v.length;for(;v.length;){const S=v.pop();(S.d>T.d||!T.d)&&(T=S,s&&console.log("found best %d after %d probes",Math.round(1e4*S.d)/1e4,I)),S.max-T.d<=o||(M=S.h/2,v.push(new Hf(S.p.x-M,S.p.y-M,M,u)),v.push(new Hf(S.p.x+M,S.p.y-M,M,u)),v.push(new Hf(S.p.x-M,S.p.y+M,M,u)),v.push(new Hf(S.p.x+M,S.p.y+M,M,u)),I+=4)}return s&&(console.log(`num probes: ${I}`),console.log(`best distance: ${T.d}`)),T.p}function fM(u,o){return o.max-u.max}class Hf{constructor(o,s,h,g){this.p=new K(o,s),this.h=h,this.d=function(f,_){let F=!1,R=1/0;for(let M=0;M<_.length;M++){const v=_[M];for(let T=0,I=v.length,S=I-1;T<I;S=T++){const P=v[T],D=v[S];P.y>f.y!=D.y>f.y&&f.x<(D.x-P.x)*(f.y-P.y)/(D.y-P.y)+P.x&&(F=!F),R=Math.min(R,ki(f,P,D))}}return(F?1:-1)*Math.sqrt(R)}(this.p,g),this.max=this.d+this.h*Math.SQRT2}}const s4=Number.POSITIVE_INFINITY,pM=Math.sqrt(2);function f7(u,[o,s]){let h=0,g=0;if(s===s4){o<0&&(o=0);const f=o/pM;switch(u){case"top-right":case"top-left":g=f-7;break;case"bottom-right":case"bottom-left":g=7-f;break;case"bottom":g=7-o;break;case"top":g=o-7}switch(u){case"top-right":case"bottom-right":h=-f;break;case"top-left":case"bottom-left":h=f;break;case"left":h=o;break;case"right":h=-o}}else{switch(o=Math.abs(o),s=Math.abs(s),u){case"top-right":case"top-left":case"top":g=s-7;break;case"bottom-right":case"bottom-left":case"bottom":g=7-s}switch(u){case"top-right":case"bottom-right":case"right":h=-o;break;case"top-left":case"bottom-left":case"left":h=o}}return[h,g]}function c4(u){switch(u){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function mM(u,o,s,h,g,f,_,F,R,M,v,T,I,S,P){let D=f.textMaxSize.evaluate(o,{},T);D===void 0?D=_*f.textScaleFactor:D*=f.textScaleFactor;const N=u.layers[0].layout,U=N.get("icon-offset").evaluate(o,{},T),Z=m7(s.horizontal)||s.vertical,X=I.name==="globe",q=Sr,te=_*f.textScaleFactor/q,ie=u.tilePixelRatio*D/q,de=(Ke=u.overscaling,u.zoom>18&&Ke>2&&(Ke>>=1),Math.max(Yt/(512*Ke),1)*N.get("symbol-spacing")),Ee=N.get("text-padding")*u.tilePixelRatio,be=N.get("icon-padding")*u.tilePixelRatio,xe=_e(N.get("text-max-angle")),Ve=N.get("text-rotation-alignment")==="map"&&N.get("symbol-placement")!=="point",ve=N.get("icon-rotation-alignment")==="map"&&N.get("symbol-placement")!=="point",Be=N.get("symbol-placement"),We=de/2;var Ke;const tt=N.get("icon-text-fit").evaluate(o,{},T),ht=N.get("icon-text-fit-padding").evaluate(o,{},T),mt=tt!=="none";let lt;u.hasAnyIconTextFit===!1&&mt&&(u.hasAnyIconTextFit=!0),h&&mt&&(u.allowVerticalPlacement&&s.vertical&&(lt=e7(h,s.vertical,tt,ht,U,te)),Z&&(h=e7(h,Z,tt,ht,U,te)));const Pt=(Nt,wt,ci)=>{if(wt.x<0||wt.x>=Yt||wt.y<0||wt.y>=Yt)return;let Jt=null;if(X){const{x:qt,y:zt,z:Ci}=I.projectTilePoint(wt.x,wt.y,ci);Jt={anchor:new ul(qt,zt,Ci,0,void 0),up:I.upVector(ci,wt.x,wt.y)}}(function(qt,zt,Ci,si,pi,$i,Qi,Xi,Zi,on,en,Qn,Hn,Di,Pn,An,co,Oo,Ko,Lo,Co,No,tr,Tr,oo,wa,tc){const ws=qt.addToLineVertexArray(zt,si);let Fs,ah,Td,sh,t1,L8,D8,B8=0,j8=0,z8=0,V8=0,B4=-1,j4=-1;const kc={};let N8=Jr("");const ch=Ci?Ci.anchor:zt,z4=Zi.layout.get("icon-text-fit").evaluate(Co,{},oo)!=="none";let V4=0,N4=0;if(Zi._unevaluatedLayout.getValue("text-radial-offset")===void 0?[V4,N4]=Zi.layout.get("text-offset").evaluate(Co,{},oo).map(ja=>ja*Sr):(V4=Zi.layout.get("text-radial-offset").evaluate(Co,{},oo)*Sr,N4=s4),qt.allowVerticalPlacement&&pi.vertical){const ja=pi.vertical;if(Pn)L8=l4(ja),Xi&&(D8=l4(Xi));else{const za=Zi.layout.get("text-rotate").evaluate(Co,{},oo)+90;Td=Ry(on,ch,zt,en,Qn,Hn,ja,Di,za,An),Xi&&(sh=Ry(on,ch,zt,en,Qn,Hn,Xi,Oo,za))}}if($i){const ja=Zi.layout.get("icon-rotate").evaluate(Co,{},oo),za=u7($i,ja,tr,z4,No.iconScaleFactor),Yf=Xi?u7(Xi,ja,tr,z4,No.iconScaleFactor):void 0;ah=Ry(on,ch,zt,en,Qn,Hn,$i,Oo,ja),B8=4*za.length;const $8=qt.iconSizeData;let lh=null;$8.kind==="source"?(lh=[Qs*Zi.layout.get("icon-size").evaluate(Co,{},oo)*No.iconScaleFactor],lh[0]>Fd&&an(`${qt.layerIds[0]}: Value for "icon-size" is >= ${Bm}. Reduce your "icon-size".`)):$8.kind==="composite"&&(lh=[Qs*No.compositeIconSizes[0].evaluate(Co,{},oo)*No.iconScaleFactor,Qs*No.compositeIconSizes[1].evaluate(Co,{},oo)*No.iconScaleFactor],(lh[0]>Fd||lh[1]>Fd)&&an(`${qt.layerIds[0]}: Value for "icon-size" is >= ${Bm}. Reduce your "icon-size".`)),qt.addSymbols(qt.icon,za,lh,Lo,Ko,Co,!1,Ci,zt,ws.lineStartIndex,ws.lineLength,-1,Tr,oo,wa,tc),B4=qt.icon.placedSymbolArray.length-1,Yf&&(j8=4*Yf.length,qt.addSymbols(qt.icon,Yf,lh,Lo,Ko,Co,ns.vertical,Ci,zt,ws.lineStartIndex,ws.lineLength,-1,Tr,oo,wa,tc),j4=qt.icon.placedSymbolArray.length-1)}for(const ja in pi.horizontal){const za=pi.horizontal[ja];Fs||(N8=Jr(za.text),Pn?t1=l4(za):Fs=Ry(on,ch,zt,en,Qn,Hn,za,Di,Zi.layout.get("text-rotate").evaluate(Co,{},oo),An));const Yf=za.positionedLines.length===1;if(z8+=p7(qt,Ci,zt,za,Qi,Zi,Pn,Co,An,ws,pi.vertical?ns.horizontal:ns.horizontalOnly,Yf?Object.keys(pi.horizontal):[ja],kc,B4,No,Tr,oo,wa),Yf)break}pi.vertical&&(V8+=p7(qt,Ci,zt,pi.vertical,Qi,Zi,Pn,Co,An,ws,ns.vertical,["vertical"],kc,j4,No,Tr,oo,wa));let Rd=-1;const $4=(ja,za)=>ja?Math.max(ja,za):za;Rd=$4(t1,Rd),Rd=$4(L8,Rd),Rd=$4(D8,Rd);const IA=Rd>-1?1:0;qt.glyphOffsetArray.length>=65535&&an("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Co.sortKey!==void 0&&qt.addToSortKeyRanges(qt.symbolInstances.length,Co.sortKey),qt.symbolInstances.emplaceBack(zt.x,zt.y,ch.x,ch.y,ch.z,kc.right>=0?kc.right:-1,kc.center>=0?kc.center:-1,kc.left>=0?kc.left:-1,kc.vertical>=0?kc.vertical:-1,B4,j4,N8,Fs!==void 0?Fs:qt.collisionBoxArray.length,Fs!==void 0?Fs+1:qt.collisionBoxArray.length,Td!==void 0?Td:qt.collisionBoxArray.length,Td!==void 0?Td+1:qt.collisionBoxArray.length,ah!==void 0?ah:qt.collisionBoxArray.length,ah!==void 0?ah+1:qt.collisionBoxArray.length,sh||qt.collisionBoxArray.length,sh?sh+1:qt.collisionBoxArray.length,en,z8,V8,B8,j8,IA,0,V4,N4,Rd,0,z4?1:0)})(u,wt,Jt,Nt,s,h,g,lt,u.layers[0],u.collisionBoxArray,o.index,o.sourceLayerIndex,u.index,Ee,Ve,R,0,be,ve,U,o,f,M,v,T,S,P)};if(Be==="line")for(const Nt of a7(o.geometry,0,0,Yt,Yt)){const wt=dM(Nt,de,xe,s.vertical||Z,h,q,ie,u.overscaling,Yt);for(const ci of wt)Z&&gM(u,Z.text,We,ci)||Pt(Nt,ci,T)}else if(Be==="line-center"){for(const Nt of o.geometry)if(Nt.length>1){const wt=lM(Nt,xe,s.vertical||Z,h,q,ie);wt&&Pt(Nt,wt,T)}}else if(o.type==="Polygon")for(const Nt of my(o.geometry,0)){const wt=hM(Nt,16);Pt(Nt[0],new ul(wt.x,wt.y,0,0,void 0),T)}else if(o.type==="LineString")for(const Nt of o.geometry)Pt(Nt,new ul(Nt[0].x,Nt[0].y,0,0,void 0),T);else if(o.type==="Point")for(const Nt of o.geometry)for(const wt of Nt)Pt([wt],new ul(wt.x,wt.y,0,0,void 0),T)}const Bm=255,Fd=Bm*Qs;function p7(u,o,s,h,g,f,_,F,R,M,v,T,I,S,P,D,N,U){const Z=function(te,ie,de,Ee,be,xe,Ve,ve){const Be=[];if(ie.positionedLines.length===0)return Be;const We=Ee.layout.get("text-rotate").evaluate(xe,{})*Math.PI/180,Ke=function(Pt){const Nt=Pt[0],wt=Pt[1],ci=Nt*wt;return ci>0?[Nt,-wt]:ci<0?[-Nt,wt]:Nt===0?[wt,Nt]:[wt,-Nt]}(de);let tt=Math.abs(ie.top-ie.bottom);for(const Pt of ie.positionedLines)tt-=Pt.lineOffset;const ht=ie.positionedLines.length,mt=tt/ht;let lt=ie.top-de[1];for(let Pt=0;Pt<ht;++Pt){const Nt=ie.positionedLines[Pt];lt=uM(ie,mt,lt,Pt);for(const wt of Nt.positionedGlyphs){if(!wt.rect)continue;const ci=wt.rect||{};let Jt=Kw+1,qt=!0,zt=1,Ci=0;if(wt.imageName){const Lo=Ve[wt.imageName];if(!Lo)continue;if(Lo.sdf){an("SDF images are not supported in formatted text and will be ignored.");continue}qt=!1,zt=Lo.pixelRatio,Jt=Lm/zt}const si=(be||ve)&&wt.vertical,pi=wt.metrics.advance*wt.scale/2,$i=wt.metrics,Qi=wt.rect;if(Qi===null)continue;ve&&ie.verticalizable&&(Ci=wt.imageName?pi-wt.metrics.width*wt.scale/2:0);const Xi=be?[wt.x+pi,wt.y]:[0,0];let Zi=[0,0],on=[0,0],en=!1;be||(si?(on=[wt.x+pi+Ke[0],wt.y+Ke[1]-Ci],en=!0):Zi=[wt.x+pi+de[0],wt.y+de[1]-Ci]);const Qn=Qi.w*wt.scale/(zt*(wt.localGlyph?Xs:1)),Hn=Qi.h*wt.scale/(zt*(wt.localGlyph?Xs:1));let Di,Pn,An,co;if(si){const Lo=wt.y-lt,Co=new K(-pi,pi-Lo),No=-Math.PI/2,tr=new K(...on);Di=new K(-pi+Zi[0],Zi[1]),Di._rotateAround(No,Co)._add(tr),Di.x+=-Lo+pi,Di.y-=($i.left-Jt)*wt.scale;const Tr=wt.imageName?$i.advance*wt.scale:Sr*wt.scale,oo=String.fromCodePoint(wt.glyph);eM(oo)?Di.x+=(1-Jt)*wt.scale:tM(oo)?Di.x+=Tr-$i.height*wt.scale+(-Jt-1)*wt.scale:Di.x+=wt.imageName||$i.width+2*Jt===Qi.w&&$i.height+2*Jt===Qi.h?(Tr-Hn)/2:(Tr-($i.height+2*Jt)*wt.scale)/2,Pn=new K(Di.x,Di.y-Qn),An=new K(Di.x+Hn,Di.y),co=new K(Di.x+Hn,Di.y-Qn)}else{const Lo=($i.left-Jt)*wt.scale-pi+Zi[0],Co=(-$i.top-Jt)*wt.scale+Zi[1],No=Lo+Qn,tr=Co+Hn;Di=new K(Lo,Co),Pn=new K(No,Co),An=new K(Lo,tr),co=new K(No,tr)}if(We){let Lo;Lo=be?new K(0,0):en?new K(Ke[0],Ke[1]):new K(de[0],de[1]),Di._rotateAround(We,Lo),Pn._rotateAround(We,Lo),An._rotateAround(We,Lo),co._rotateAround(We,Lo)}const Oo=new K(0,0),Ko=new K(0,0);Be.push({tl:Di,tr:Pn,bl:An,br:co,texPrimary:ci,texSecondary:void 0,writingMode:ie.writingMode,glyphOffset:Xi,sectionIndex:wt.sectionIndex,isSDF:qt,pixelOffsetTL:Oo,pixelOffsetBR:Ko,minFontScaleX:0,minFontScaleY:0})}}return Be}(0,h,R,f,_,F,g,u.allowVerticalPlacement),X=u.textSizeData;let q=null;X.kind==="source"?(q=[Qs*f.layout.get("text-size").evaluate(F,{},N)*P.textScaleFactor],q[0]>Fd&&an(`${u.layerIds[0]}: Value for "text-size" is >= ${Bm}. Reduce your "text-size".`)):X.kind==="composite"&&(q=[Qs*P.compositeTextSizes[0].evaluate(F,{},N)*P.textScaleFactor,Qs*P.compositeTextSizes[1].evaluate(F,{},N)*P.textScaleFactor],(q[0]>Fd||q[1]>Fd)&&an(`${u.layerIds[0]}: Value for "text-size" is >= ${Bm}. Reduce your "text-size".`)),u.addSymbols(u.text,Z,q,R,_,F,v,o,s,M.lineStartIndex,M.lineLength,S,D,N,U,!1);for(const te of T)I[te]=u.text.placedSymbolArray.length-1;return 4*Z.length}function m7(u){for(const o in u)return u[o];return null}function Ry(u,o,s,h,g,f,_,F,R,M){let v=_.top,T=_.bottom,I=_.left,S=_.right;const P=_.collisionPadding;if(P&&(I-=P[0],v-=P[1],S+=P[2],T+=P[3]),R){const D=new K(I,v),N=new K(S,v),U=new K(I,T),Z=new K(S,T),X=_e(R);let q=new K(0,0);M&&(q=new K(M[0],M[1])),D._rotateAround(X,q),N._rotateAround(X,q),U._rotateAround(X,q),Z._rotateAround(X,q),I=Math.min(D.x,N.x,U.x,Z.x),S=Math.max(D.x,N.x,U.x,Z.x),v=Math.min(D.y,N.y,U.y,Z.y),T=Math.max(D.y,N.y,U.y,Z.y)}return u.emplaceBack(o.x,o.y,o.z,s.x,s.y,I,v,S,T,F,h,g,f),u.length-1}function l4(u){u.collisionPadding&&(u.top-=u.collisionPadding[1],u.bottom+=u.collisionPadding[3]);const o=u.bottom-u.top;return o>0?Math.max(10,o):null}function gM(u,o,s,h){const g=u.compareText;if(o in g){const f=g[o];for(let _=f.length-1;_>=0;_--)if(h.dist(f[_])<s)return!0}else g[o]=[];return g[o].push(h),!1}function g7(u,o){const s=u.fovAboveCenter,h=u.elevation?u.elevation.getMinElevationBelowMSL()*o:0,g=(u._camera.position[2]*u.worldSize-h)/Math.cos(u._pitch),f=Math.sin(s)*g/Math.sin(Math.max(Math.PI/2-u._pitch-s,.01));let _=Math.sin(u._pitch)*f+g;const F=g*(1/u._horizonShift);return u.elevation&&u.elevation.exaggeration()!==0||(_*=1+Math.max(u.zoom-17,0)),Math.min(1.01*_,F)}function jm(u,o){if(!o.isReprojectedInTileSpace)return{scale:1<<u.z,x:u.x,y:u.y,x2:u.x+1,y2:u.y+1,projection:o};const s=Math.pow(2,-u.z),h=u.x*s,g=(u.x+1)*s,f=u.y*s,_=(u.y+1)*s,F=me(h),R=me(g),M=Fe(f),v=Fe(_),T=o.project(F,M),I=o.project(R,M),S=o.project(R,v),P=o.project(F,v);let D=Math.min(T.x,I.x,S.x,P.x),N=Math.min(T.y,I.y,S.y,P.y),U=Math.max(T.x,I.x,S.x,P.x),Z=Math.max(T.y,I.y,S.y,P.y);const X=s/16;function q(ie,de,Ee,be,xe,Ve){const ve=(Ee+xe)/2,Be=(be+Ve)/2,We=o.project(me(ve),Fe(Be)),Ke=Math.max(0,D-We.x,N-We.y,We.x-U,We.y-Z);D=Math.min(D,We.x),U=Math.max(U,We.x),N=Math.min(N,We.y),Z=Math.max(Z,We.y),Ke>X&&(q(ie,We,Ee,be,ve,Be),q(We,de,ve,Be,xe,Ve))}q(T,I,h,f,g,f),q(I,S,g,f,g,_),q(S,P,g,_,h,_),q(P,T,h,_,h,f),D-=X,N-=X,U+=X,Z+=X;const te=1/Math.max(U-D,Z-N);return{scale:te,x:D*te,y:N*te,x2:U*te,y2:Z*te,projection:o}}function _7(u,{x:o,y:s},h=0){return new K(((o-h)*u.scale-u.x)*Yt,(s*u.scale-u.y)*Yt)}const _M=Re.mat4.identity(new Float32Array(16));class Cd{constructor(o){this.spec=o,this.name=o.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(o,s){return{x:0,y:0,z:0}}unproject(o,s){return new z(0,0)}projectTilePoint(o,s,h){return{x:o,y:s,z:0}}locationPoint(o,s,h=!0){return o._coordinatePoint(o.locationCoordinate(s),h)}pixelsPerMeter(o,s){return ae(1,o)*s}pixelSpaceConversion(o,s,h){return 1}farthestPixelDistance(o){return g7(o,o.pixelsPerMeter)}pointCoordinate(o,s,h,g){const f=o.horizonLineFromTop(!1),_=new K(s,Math.max(f,h));return o.rayIntersectionCoordinate(o.pointRayIntersection(_,g))}pointCoordinate3D(o,s,h){const g=new K(s,h);if(o.elevation)return o.elevation.pointCoordinate(g);{const f=this.pointCoordinate(o,g.x,g.y,0);return[f.x,f.y,f.z]}}isPointAboveHorizon(o,s){if(o.elevation&&o.elevation.visibleDemTiles.length)return!this.pointCoordinate3D(o,s.x,s.y);const h=o.horizonLineFromTop();return s.y<h}createInversionMatrix(o,s){return _M}createTileMatrix(o,s,h){let g,f,_;const F=h.canonical,R=Re.mat4.identity(new Float64Array(16));if(this.isReprojectedInTileSpace){const M=jm(F,this);g=1,f=M.x+h.wrap*M.scale,_=M.y,Re.mat4.scale(R,R,[g/M.scale,g/M.scale,o.pixelsPerMeter/s])}else g=s/o.zoomScale(F.z),f=(F.x+Math.pow(2,F.z)*h.wrap)*g,_=F.y*g;return Re.mat4.translate(R,R,[f,_,0]),Re.mat4.scale(R,R,[g/Yt,g/Yt,1]),R}upVector(o,s,h){return[0,0,1]}upVectorScale(o,s,h){return{metersToTile:1}}}class yM extends Cd{constructor(o){super(o),this.range=[4,7],this.center=o.center||[-96,37.5];const[s,h]=this.parallels=o.parallels||[29.5,45.5],g=Math.sin(_e(s));this.n=(g+Math.sin(_e(h)))/2,this.c=1+g*(2*this.n-g),this.r0=Math.sqrt(this.c)/this.n}project(o,s){const{n:h,c:g,r0:f}=this,_=_e(o-this.center[0]),F=_e(s),R=Math.sqrt(g-2*h*Math.sin(F))/h;return{x:R*Math.sin(_*h),y:R*Math.cos(_*h)-f,z:0}}unproject(o,s){const{n:h,c:g,r0:f}=this,_=f+s;let F=Math.atan2(o,Math.abs(_))*Math.sign(_);_*h<0&&(F-=Math.PI*Math.sign(o)*Math.sign(_));const R=_e(this.center[0])*h;F=Xt(F,-Math.PI-R,Math.PI-R);const M=nt(Ye(F/h)+this.center[0],-180,180),v=Math.asin(nt((g-(o*o+_*_)*h*h)/(2*h),-1,1)),T=nt(Ye(v),-Pe,Pe);return new z(M,T)}}const zm=1.340264,Vm=-.081106,Nm=893e-6,$m=.003796,Py=Math.sqrt(3)/2;class bM extends Cd{project(o,s){s=s/180*Math.PI,o=o/180*Math.PI;const h=Math.asin(Py*Math.sin(s)),g=h*h,f=g*g*g;return{x:.5*(o*Math.cos(h)/(Py*(zm+3*Vm*g+f*(7*Nm+9*$m*g)))/Math.PI+.5),y:1-.5*(h*(zm+Vm*g+f*(Nm+$m*g))/Math.PI+1),z:0}}unproject(o,s){o=(2*o-.5)*Math.PI;let h=s=(2*(1-s)-1)*Math.PI,g=h*h,f=g*g*g;for(let v,T,I,S=0;S<12&&(T=h*(zm+Vm*g+f*(Nm+$m*g))-s,I=zm+3*Vm*g+f*(7*Nm+9*$m*g),v=T/I,h=nt(h-v,-Math.PI/3,Math.PI/3),g=h*h,f=g*g*g,!(Math.abs(v)<1e-12));++S);const _=Py*o*(zm+3*Vm*g+f*(7*Nm+9*$m*g))/Math.cos(h),F=Math.asin(Math.sin(h)/Py),R=nt(180*_/Math.PI,-180,180),M=nt(180*F/Math.PI,-Pe,Pe);return new z(R,M)}}class vM extends Cd{constructor(o){super(o),this.wrap=!0,this.supportsWorldCopies=!0}project(o,s){return{x:.5+o/360,y:.5-s/360,z:0}}unproject(o,s){const h=360*(o-.5),g=nt(360*(.5-s),-Pe,Pe);return new z(h,g)}}const qf=Math.PI/2;function Iy(u){return Math.tan((qf+u)/2)}class xM extends Cd{constructor(o){super(o),this.center=o.center||[0,30];const[s,h]=this.parallels=o.parallels||[30,30];let g=_e(s),f=_e(h);this.southernCenter=g+f<0,this.southernCenter&&(g=-g,f=-f);const _=Math.cos(g),F=Iy(g);this.n=g===f?Math.sin(g):Math.log(_/Math.cos(f))/Math.log(Iy(f)/F),this.f=_*Math.pow(Iy(g),this.n)/this.n}project(o,s){s=_e(s),this.southernCenter&&(s=-s),o=_e(o-this.center[0]);const h=1e-6,{n:g,f}=this;f>0?s<-qf+h&&(s=-qf+h):s>qf-h&&(s=qf-h);const _=f/Math.pow(Iy(s),g);let F=_*Math.sin(g*o),R=f-_*Math.cos(g*o);return F=.5*(F/Math.PI+.5),R=.5*(R/Math.PI+.5),{x:F,y:this.southernCenter?R:1-R,z:0}}unproject(o,s){o=(2*o-.5)*Math.PI,this.southernCenter&&(s=1-s),s=(2*(1-s)-.5)*Math.PI;const{n:h,f:g}=this,f=g-s,_=Math.sign(f),F=Math.sign(h)*Math.sqrt(o*o+f*f);let R=Math.atan2(o,Math.abs(f))*_;f*h<0&&(R-=Math.PI*Math.sign(o)*_);const M=nt(Ye(R/h)+this.center[0],-180,180),v=nt(Ye(2*Math.atan(Math.pow(g/F,1/h))-qf),-Pe,Pe);return new z(M,this.southernCenter?-v:v)}}class y7 extends Cd{constructor(o){super(o),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(o,s){return{x:ne(o),y:se(s),z:0}}unproject(o,s){const h=me(o),g=Fe(s);return new z(h,g)}}const b7=_e(Pe);class wM extends Cd{project(o,s){const h=(s=_e(s))*s,g=h*h;return{x:.5*((o=_e(o))*(.8707-.131979*h+g*(g*(.003971*h-.001529*g)-.013791))/Math.PI+.5),y:1-.5*(s*(1.007226+h*(.015085+g*(.028874*h-.044475-.005916*g)))/Math.PI+1),z:0}}unproject(o,s){o=(2*o-.5)*Math.PI;let h=s=(2*(1-s)-1)*Math.PI,g=25,f=0,_=h*h;do{_=h*h;const M=_*_;f=(h*(1.007226+_*(.015085+M*(.028874*_-.044475-.005916*M)))-s)/(1.007226+_*(.045255+M*(.259866*_-.311325-.005916*11*M))),h=nt(h-f,-b7,b7)}while(Math.abs(f)>1e-6&&--g>0);_=h*h;const F=nt(Ye(o/(.8707+_*(_*(_*_*_*(.003971-.001529*_)-.013791)-.131979))),-180,180),R=Ye(h);return new z(F,R)}}const v7=_e(Pe);class FM extends Cd{project(o,s){s=_e(s),o=_e(o);const h=Math.cos(s),g=2/Math.PI,f=Math.acos(h*Math.cos(o/2)),_=Math.sin(f)/f,F=.5*(o*g+2*h*Math.sin(o/2)/_)||0,R=.5*(s+Math.sin(s)/_)||0;return{x:.5*(F/Math.PI+.5),y:1-.5*(R/Math.PI+1),z:0}}unproject(o,s){let h=o=(2*o-.5)*Math.PI,g=s=(2*(1-s)-1)*Math.PI,f=25;const _=1e-6;let F=0,R=0;do{const M=Math.cos(g),v=Math.sin(g),T=2*v*M,I=v*v,S=M*M,P=Math.cos(h/2),D=Math.sin(h/2),N=2*P*D,U=D*D,Z=1-S*P*P,X=Z?1/Z:0,q=Z?Math.acos(M*P)*Math.sqrt(1/Z):0,te=.5*(2*q*M*D+2*h/Math.PI)-o,ie=.5*(q*v+g)-s,de=.5*X*(S*U+q*M*P*I)+1/Math.PI,Ee=X*(N*T/4-q*v*D),be=.125*X*(T*D-q*v*S*N),xe=.5*X*(I*P+q*U*M)+.5,Ve=Ee*be-xe*de;F=(ie*Ee-te*xe)/Ve,R=(te*be-ie*de)/Ve,h=nt(h-F,-Math.PI,Math.PI),g=nt(g-R,-v7,v7)}while((Math.abs(F)>_||Math.abs(R)>_)&&--f>0);return new z(Ye(h),Ye(g))}}class x7 extends Cd{constructor(o){super(o),this.center=o.center||[0,0],this.parallels=o.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(_e(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(o,s){const{scale:h,cosPhi:g}=this;return{x:_e(o)*g*h+.5,y:-Math.sin(_e(s))/g*h+.5,z:0}}unproject(o,s){const{scale:h,cosPhi:g}=this,f=-(s-.5)/h,_=nt(Ye((o-.5)/h)/g,-180,180),F=Math.asin(nt(f*g,-1,1)),R=nt(Ye(F),-Pe,Pe);return new z(_,R)}}class CM extends y7{constructor(o){super(o),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug"],this.range=[3,5]}projectTilePoint(o,s,h){const g=wm(o,s,h),f=uy(Pc(h));return Re.vec3.transformMat4(g,g,f),{x:g[0],y:g[1],z:g[2]}}locationPoint(o,s){const h=A(s.lat,s.lng),g=Re.vec3.normalize([],h),f=o.elevation?o.elevation.getAtPointOrZero(o.locationCoordinate(s),o._centerAltitude):o._centerAltitude,_=ae(1,0)*Yt*f;Re.vec3.scaleAndAdd(h,h,g,_);const F=Re.mat4.identity(new Float64Array(16));return Re.mat4.multiply(F,o.pixelMatrix,o.globeMatrix),Re.vec3.transformMat4(h,h,F),new K(h[0],h[1])}pixelsPerMeter(o,s){return ae(1,0)*s}pixelSpaceConversion(o,s,h){const g=ae(1,o)*s,f=Oi(ae(1,45)*s,g,h);return this.pixelsPerMeter(o,s)/f}createTileMatrix(o,s,h){const g=Mv(Pc(h.canonical));return Re.mat4.multiply(new Float64Array(16),o.globeMatrix,g)}createInversionMatrix(o,s){const{center:h}=o,g=uy(Pc(s));return Re.mat4.rotateY(g,g,_e(h.lng)),Re.mat4.rotateX(g,g,_e(h.lat)),Re.mat4.scale(g,g,[o._pixelsPerMercatorPixel,o._pixelsPerMercatorPixel,1]),Float32Array.from(g)}pointCoordinate(o,s,h,g){return yd(o,s,h,!0)||new Qe(0,0)}pointCoordinate3D(o,s,h){const g=this.pointCoordinate(o,s,h,0);return[g.x,g.y,g.z]}isPointAboveHorizon(o,s){return!yd(o,s.x,s.y,!1)}farthestPixelDistance(o){const s=function(g,f){const _=g.cameraToCenterDistance,F=g._centerAltitude*f,R=g._camera,M=g._camera.forward(),v=Re.vec3.add([],Re.vec3.scale([],M,-_),[0,0,F]),T=g.worldSize/(2*Math.PI),I=[0,0,-T],S=g.width/g.height,P=Math.tan(g.fovAboveCenter),D=Re.vec3.scale([],R.up(),P),N=Re.vec3.scale([],R.right(),P*S),U=Re.vec3.normalize([],Re.vec3.add([],Re.vec3.add([],M,D),N)),Z=[];let X;if(new ia(v,U).closestPointOnSphere(I,T,Z)){const q=Re.vec3.add([],Z,I),te=Re.vec3.sub([],q,v);X=Math.cos(g.fovAboveCenter)*Re.vec3.length(te)}else{const q=Re.vec3.sub([],v,I),te=Re.vec3.sub([],I,v);Re.vec3.normalize(te,te);const ie=Re.vec3.length(q)-T;X=Math.sqrt(ie*(ie+2*T));const de=Math.acos(X/(T+ie))-Math.acos(Re.vec3.dot(M,te));X*=Math.cos(de)}return 1.01*X}(o,this.pixelsPerMeter(o.center.lat,o.worldSize)),h=bd(o.zoom);if(h>0){const g=g7(o,ae(1,o.center.lat)*o.worldSize),f=o.worldSize/(2*Math.PI),_=Math.max(o.width,o.height)/o.worldSize*Math.PI;return Oi(s,g+f*(1-Math.cos(_)),Math.pow(h,10))}return s}upVector(o,s,h){return wm(s,h,o,1)}upVectorScale(o){return{metersToTile:_d(dy(Pc(o)))}}}function w7(u){const o=u.parallels,s=!!o&&Math.abs(o[0]+o[1])<.01;switch(u.name){case"mercator":return new y7(u);case"equirectangular":return new vM(u);case"naturalEarth":return new wM(u);case"equalEarth":return new bM(u);case"winkelTripel":return new FM(u);case"albers":return s?new x7(u):new yM(u);case"lambertConformalConic":return s?new x7(u):new xM(u);case"globe":return new CM(u)}throw new Error(`Invalid projection name: ${u.name}`)}const EM=Nf.VectorTileFeature.types,SM=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function ky(u,o,s,h,g,f,_,F,R,M,v,T,I){const S=F?Math.min(Fd,Math.round(F[0])):0,P=F?Math.min(Fd,Math.round(F[1])):0;u.emplaceBack(o,s,Math.round(32*h),Math.round(32*g),f,_,(S<<1)+(R?1:0),P,16*M,16*v,256*T,256*I)}function My(u,o,s){u.emplaceBack(o,s)}function Ay(u,o,s,h,g,f,_){u.emplaceBack(o,s,h,g,f,_)}function Oy(u,o,s,h,g){u.emplaceBack(o,s,h,g),u.emplaceBack(o,s,h,g),u.emplaceBack(o,s,h,g),u.emplaceBack(o,s,h,g)}function TM(u){for(const o of u.sections)if(yv(o.text))return!0;return!1}class d4{constructor(o){this.layoutVertexArray=new dd,this.indexArray=new fo,this.programConfigurations=o,this.segments=new Po,this.dynamicLayoutVertexArray=new Us,this.opacityVertexArray=new lm,this.placedSymbolArray=new pm,this.iconTransitioningVertexArray=new Rc,this.globeExtVertexArray=new cm,this.zOffsetVertexArray=new pd}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0&&this.iconTransitioningVertexArray.length===0}upload(o,s,h,g,f){this.isEmpty()||(h&&(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,Gk.members),this.indexBuffer=o.createIndexBuffer(this.indexArray,s),this.dynamicLayoutVertexBuffer=o.createVertexBuffer(this.dynamicLayoutVertexArray,qk.members,!0),this.opacityVertexBuffer=o.createVertexBuffer(this.opacityVertexArray,SM,!0),this.iconTransitioningVertexArray.length>0&&(this.iconTransitioningVertexBuffer=o.createVertexBuffer(this.iconTransitioningVertexArray,Kk.members,!0)),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=o.createVertexBuffer(this.globeExtVertexArray,Hk.members,!0)),!this.zOffsetVertexBuffer&&(this.zOffsetVertexArray.length>0||f)&&(this.zOffsetVertexBuffer=o.createVertexBuffer(this.zOffsetVertexArray,Wk.members,!0)),this.opacityVertexBuffer.itemSize=1),(h||g)&&this.programConfigurations.upload(o))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.iconTransitioningVertexBuffer&&this.iconTransitioningVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy(),this.zOffsetVertexBuffer&&this.zOffsetVertexBuffer.destroy())}}hi(d4,"SymbolBuffers");class u4{constructor(o,s,h){this.layoutVertexArray=new o,this.layoutAttributes=s,this.indexArray=new h,this.segments=new Po,this.collisionVertexArray=new hd,this.collisionVertexArrayExt=new Us}upload(o){this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=o.createVertexBuffer(this.collisionVertexArray,Zk.members,!0),this.collisionVertexBufferExt=o.createVertexBuffer(this.collisionVertexArrayExt,Qk.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}hi(u4,"CollisionBuffers");class Ly{constructor(o){this.collisionBoxArray=o.collisionBoxArray,this.zoom=o.zoom,this.lut=o.lut,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(_=>_.fqid),this.index=o.index,this.pixelRatio=o.pixelRatio,this.sourceLayerIndex=o.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.hasAnyIconTextFit=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Re.mat4.identity([]),this.placementViewportMatrix=Re.mat4.identity([]);const s=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Yv(this.zoom,s["text-size"]),this.iconSizeData=Yv(this.zoom,s["icon-size"]);const h=this.layers[0].layout,g=h.get("symbol-sort-key"),f=h.get("symbol-z-order");this.canOverlap=h.get("text-allow-overlap")||h.get("icon-allow-overlap")||h.get("text-ignore-placement")||h.get("icon-ignore-placement"),this.sortFeaturesByKey=f!=="viewport-y"&&g.constantOr(1)!==void 0,this.sortFeaturesByY=(f==="viewport-y"||f==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=h.get("text-writing-mode").map(_=>ns[_]),this.stateDependentLayerIds=this.layers.filter(_=>_.isStateDependent()).map(_=>_.id),this.sourceID=o.sourceID,this.projection=o.projection,this.hasAnyZOffset=!1,this.zOffsetSortDirty=!1,this.zOffsetBuffersNeedUpload=h.get("symbol-z-elevate"),this.activeReplacements=[],this.replacementUpdateTime=0}createArrays(){this.text=new d4(new bs(this.layers,{zoom:this.zoom,lut:this.lut},o=>o.startsWith("text")||o.startsWith("symbol"))),this.icon=new d4(new bs(this.layers,{zoom:this.zoom,lut:this.lut},o=>o.startsWith("icon")||o.startsWith("symbol"))),this.glyphOffsetArray=new J_,this.lineVertexArray=new Df,this.symbolInstances=new mm}calculateGlyphDependencies(o,s,h,g,f){for(const _ of o){const F=_.codePointAt(0);if(F===void 0)break;if(s[F]=!0,g&&f&&F<=65535){const R=Am[_];R&&(s[R.charCodeAt(0)]=!0)}}}updateFootprints(o,s){}updateReplacement(o,s){if(s.updateTime===this.replacementUpdateTime)return!1;this.replacementUpdateTime=s.updateTime;const h=s.getReplacementRegionsForTile(o.toUnwrapped(),!0);return!qv(this.activeReplacements,h)&&(this.activeReplacements=h,!0)}populate(o,s,h,g){const f=this.layers[0],_=f.layout,F=this.projection.name==="globe",R=_.get("text-font"),M=_.get("text-field"),v=_.get("icon-image"),T=(M.value.kind!=="constant"||M.value.value instanceof Br&&!M.value.value.isEmpty()||M.value.value.toString().length>0)&&(R.value.kind!=="constant"||R.value.value.length>0),I=v.value.kind!=="constant"||!!v.value.value||Object.keys(v.parameters).length>0,S=_.get("symbol-sort-key");if(this.features=[],!T&&!I)return;const P=s.iconDependencies,D=s.glyphDependencies,N=s.availableImages,U=new _o(this.zoom);for(const{feature:Z,id:X,index:q,sourceLayerIndex:te}of o){const ie=f._featureFilter.needGeometry,de=Ot(Z,ie);if(!f._featureFilter.filter(U,de,h))continue;if(ie||(de.geometry=st(Z,h,g)),F&&Z.type!==1&&h.z<=5){const Ve=de.geometry,ve=.98078528056,Be=(We,Ke)=>{const tt=wm(We.x,We.y,h,1),ht=wm(Ke.x,Ke.y,h,1);return Re.vec3.dot(tt,ht)<ve};for(let We=0;We<Ve.length;We++)Ve[We]=Ft(Ve[We],Be)}let Ee,be;if(T){const Ve=f.getValueAndResolveTokens("text-field",de,h,N),ve=Br.factory(Ve);TM(ve)&&(this.hasRTLText=!0),(!this.hasRTLText||em()==="unavailable"||this.hasRTLText&&va.isParsed())&&(Ee=Yk(ve,f,de))}if(I){const Ve=f.getValueAndResolveTokens("icon-image",de,h,N);be=Ve instanceof Ur?Ve:Ur.fromString(Ve)}if(!Ee&&!be)continue;const xe=this.sortFeaturesByKey?S.evaluate(de,{},h):void 0;if(this.features.push({id:X,text:Ee,icon:be,index:q,sourceLayerIndex:te,geometry:de.geometry,properties:Z.properties,type:EM[Z.type],sortKey:xe}),be&&(P[be.namePrimary]=!0,be.nameSecondary&&(P[be.nameSecondary]=!0)),Ee){const Ve=R.evaluate(de,{},h).join(","),ve=_.get("text-rotation-alignment")==="map"&&_.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(ns.vertical)>=0;for(const Be of Ee.sections)if(Be.image)P[Be.image.namePrimary]=!0;else{const We=Z0(Ee.toString()),Ke=Be.fontStack||Ve,tt=D[Ke]=D[Ke]||{};this.calculateGlyphDependencies(Be.text,tt,ve,this.allowVerticalPlacement,We)}}}_.get("symbol-placement")==="line"&&(this.features=function(Z){const X={},q={},te=[];let ie=0;function de(Ve){te.push(Z[Ve]),ie++}function Ee(Ve,ve,Be){const We=q[Ve];return delete q[Ve],q[ve]=We,te[We].geometry[0].pop(),te[We].geometry[0]=te[We].geometry[0].concat(Be[0]),We}function be(Ve,ve,Be){const We=X[ve];return delete X[ve],X[Ve]=We,te[We].geometry[0].shift(),te[We].geometry[0]=Be[0].concat(te[We].geometry[0]),We}function xe(Ve,ve,Be){const We=Be?ve[0][ve[0].length-1]:ve[0][0];return`${Ve}:${We.x}:${We.y}`}for(let Ve=0;Ve<Z.length;Ve++){const ve=Z[Ve],Be=ve.geometry,We=ve.text?ve.text.toString():null;if(!We){de(Ve);continue}const Ke=xe(We,Be),tt=xe(We,Be,!0);if(Ke in q&&tt in X&&q[Ke]!==X[tt]){const ht=be(Ke,tt,Be),mt=Ee(Ke,tt,te[ht].geometry);delete X[Ke],delete q[tt],q[xe(We,te[mt].geometry,!0)]=mt,te[ht].geometry=null}else Ke in q?Ee(Ke,tt,Be):tt in X?be(Ke,tt,Be):(de(Ve),X[Ke]=ie-1,q[tt]=ie-1)}return te.filter(Ve=>Ve.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Z,X)=>Z.sortKey-X.sortKey)}update(o,s,h,g,f){const _=Object.keys(o).length!==0;if(_&&!this.stateDependentLayers.length)return;const F=_?this.stateDependentLayers:this.layers;this.text.programConfigurations.updatePaintArrays(o,s,F,h,g,f),this.icon.programConfigurations.updatePaintArrays(o,s,F,h,g,f)}updateZOffset(){const o=(f,_,F)=>{h+=_,h>f.length&&f.resize(h);for(let R=-_;R<0;R++)f.emplace(R+h,F)},s=(f,_,F)=>{g+=_,g>f.length&&f.resize(g);for(let R=-_;R<0;R++)f.emplace(R+g,F)};if(!this.zOffsetBuffersNeedUpload)return;this.zOffsetBuffersNeedUpload=!1;let h=0,g=0;for(let f=0;f<this.symbolInstances.length;f++){const _=this.symbolInstances.get(f),{numHorizontalGlyphVertices:F,numVerticalGlyphVertices:R,numIconVertices:M}=_,v=_.zOffset,T=M>0;if((F>0||R>0)&&(o(this.text.zOffsetVertexArray,F,v),o(this.text.zOffsetVertexArray,R,v)),T){const{placedIconSymbolIndex:I,verticalPlacedIconSymbolIndex:S}=_;I>=0&&s(this.icon.zOffsetVertexArray,M,v),S>=0&&s(this.icon.zOffsetVertexArray,_.numVerticalIconVertices,v)}}this.text.zOffsetVertexBuffer&&this.text.zOffsetVertexBuffer.updateData(this.text.zOffsetVertexArray),this.icon.zOffsetVertexBuffer&&this.icon.zOffsetVertexBuffer.updateData(this.icon.zOffsetVertexArray)}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(o){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(o),this.iconCollisionBox.upload(o)),this.text.upload(o,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload,this.zOffsetBuffersNeedUpload),this.icon.upload(o,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload,this.zOffsetBuffersNeedUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=w7(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(o,s){const h=this.lineVertexArray.length;if(o.segment!==void 0)for(const{x:g,y:f}of s)this.lineVertexArray.emplaceBack(g,f);return{lineStartIndex:h,lineLength:this.lineVertexArray.length-h}}addSymbols(o,s,h,g,f,_,F,R,M,v,T,I,S,P,D,N){const U=o.indexArray,Z=o.layoutVertexArray,X=o.globeExtVertexArray,q=o.segments.prepareSegment(4*s.length,Z,U,this.canOverlap?_.sortKey:void 0),te=this.glyphOffsetArray.length,ie=q.vertexLength,de=this.allowVerticalPlacement&&F===ns.vertical?Math.PI/2:0,Ee=_.text&&_.text.sections;for(let xe=0;xe<s.length;xe++){const{tl:Ve,tr:ve,bl:Be,br:We,texPrimary:Ke,texSecondary:tt,pixelOffsetTL:ht,pixelOffsetBR:mt,minFontScaleX:lt,minFontScaleY:Pt,glyphOffset:Nt,isSDF:wt,sectionIndex:ci}=s[xe],Jt=q.vertexLength,qt=Nt[1];if(ky(Z,M.x,M.y,Ve.x,qt+Ve.y,Ke.x,Ke.y,h,wt,ht.x,ht.y,lt,Pt),ky(Z,M.x,M.y,ve.x,qt+ve.y,Ke.x+Ke.w,Ke.y,h,wt,mt.x,ht.y,lt,Pt),ky(Z,M.x,M.y,Be.x,qt+Be.y,Ke.x,Ke.y+Ke.h,h,wt,ht.x,mt.y,lt,Pt),ky(Z,M.x,M.y,We.x,qt+We.y,Ke.x+Ke.w,Ke.y+Ke.h,h,wt,mt.x,mt.y,lt,Pt),R){const{x:zt,y:Ci,z:si}=R.anchor,[pi,$i,Qi]=R.up;Ay(X,zt,Ci,si,pi,$i,Qi),Ay(X,zt,Ci,si,pi,$i,Qi),Ay(X,zt,Ci,si,pi,$i,Qi),Ay(X,zt,Ci,si,pi,$i,Qi),Oy(o.dynamicLayoutVertexArray,zt,Ci,si,de)}else Oy(o.dynamicLayoutVertexArray,M.x,M.y,M.z,de);if(N){const zt=tt||Ke;My(o.iconTransitioningVertexArray,zt.x,zt.y),My(o.iconTransitioningVertexArray,zt.x+zt.w,zt.y),My(o.iconTransitioningVertexArray,zt.x,zt.y+zt.h),My(o.iconTransitioningVertexArray,zt.x+zt.w,zt.y+zt.h)}U.emplaceBack(Jt,Jt+1,Jt+2),U.emplaceBack(Jt+1,Jt+2,Jt+3),q.vertexLength+=4,q.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Nt[0]),xe!==s.length-1&&ci===s[xe+1].sectionIndex||o.programConfigurations.populatePaintArrays(Z.length,_,_.index,{},S,P,D,Ee&&Ee[ci])}const be=R?R.anchor:M;o.placedSymbolArray.emplaceBack(be.x,be.y,be.z,M.x,M.y,te,this.glyphOffsetArray.length-te,ie,v,T,M.segment,h?h[0]:0,h?h[1]:0,g[0],g[1],F,0,!1,0,I,0)}_commitLayoutVertex(o,s,h,g,f,_,F){o.emplaceBack(s,h,g,f,_,Math.round(F.x),Math.round(F.y))}_addCollisionDebugVertices(o,s,h,g,f,_,F){const R=h.segments.prepareSegment(4,h.layoutVertexArray,h.indexArray),M=R.vertexLength,v=F.tileAnchorX,T=F.tileAnchorY;for(let S=0;S<4;S++)h.collisionVertexArray.emplaceBack(0,0,0,0,0,0);this._commitDebugCollisionVertexUpdate(h.collisionVertexArrayExt,s,o.padding,F.zOffset),this._commitLayoutVertex(h.layoutVertexArray,g,f,_,v,T,new K(o.x1,o.y1)),this._commitLayoutVertex(h.layoutVertexArray,g,f,_,v,T,new K(o.x2,o.y1)),this._commitLayoutVertex(h.layoutVertexArray,g,f,_,v,T,new K(o.x2,o.y2)),this._commitLayoutVertex(h.layoutVertexArray,g,f,_,v,T,new K(o.x1,o.y2)),R.vertexLength+=4;const I=h.indexArray;I.emplaceBack(M,M+1),I.emplaceBack(M+1,M+2),I.emplaceBack(M+2,M+3),I.emplaceBack(M+3,M),R.primitiveLength+=4}_addTextDebugCollisionBoxes(o,s,h,g,f,_){for(let F=g;F<f;F++){const R=h.get(F),M=this.getSymbolInstanceTextSize(o,_,s,F);this._addCollisionDebugVertices(R,M,this.textCollisionBox,R.projectedAnchorX,R.projectedAnchorY,R.projectedAnchorZ,_)}}_addIconDebugCollisionBoxes(o,s,h,g,f,_){for(let F=g;F<f;F++){const R=h.get(F),M=this.getSymbolInstanceIconSize(o,s,_.placedIconSymbolIndex);this._addCollisionDebugVertices(R,M,this.iconCollisionBox,R.projectedAnchorX,R.projectedAnchorY,R.projectedAnchorZ,_)}}generateCollisionDebugBuffers(o,s,h){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new u4(If,Gw.members,Rc),this.iconCollisionBox=new u4(If,Gw.members,Rc);const g=$f(this.iconSizeData,o),f=$f(this.textSizeData,o,h);for(let _=0;_<this.symbolInstances.length;_++){const F=this.symbolInstances.get(_);this._addTextDebugCollisionBoxes(f,o,s,F.textBoxStartIndex,F.textBoxEndIndex,F),this._addTextDebugCollisionBoxes(f,o,s,F.verticalTextBoxStartIndex,F.verticalTextBoxEndIndex,F),this._addIconDebugCollisionBoxes(g,o,s,F.iconBoxStartIndex,F.iconBoxEndIndex,F),this._addIconDebugCollisionBoxes(g,o,s,F.verticalIconBoxStartIndex,F.verticalIconBoxEndIndex,F)}}getSymbolInstanceTextSize(o,s,h,g){const f=this.text.placedSymbolArray.get(s.rightJustifiedTextSymbolIndex>=0?s.rightJustifiedTextSymbolIndex:s.centerJustifiedTextSymbolIndex>=0?s.centerJustifiedTextSymbolIndex:s.leftJustifiedTextSymbolIndex>=0?s.leftJustifiedTextSymbolIndex:s.verticalPlacedTextSymbolIndex>=0?s.verticalPlacedTextSymbolIndex:g),_=wy(this.textSizeData,o,f)/Sr;return this.tilePixelRatio*_}getSymbolInstanceIconSize(o,s,h){const g=this.icon.placedSymbolArray.get(h),f=wy(this.iconSizeData,o,g);return this.tilePixelRatio*f}_commitDebugCollisionVertexUpdate(o,s,h,g){o.emplaceBack(s,-h,-h,g),o.emplaceBack(s,h,-h,g),o.emplaceBack(s,h,h,g),o.emplaceBack(s,-h,h,g)}_updateTextDebugCollisionBoxes(o,s,h,g,f,_,F){for(let R=g;R<f;R++){const M=h.get(R),v=this.getSymbolInstanceTextSize(o,_,s,R);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,v,M.padding,_.zOffset)}}_updateIconDebugCollisionBoxes(o,s,h,g,f,_,F){for(let R=g;R<f;R++){const M=h.get(R),v=this.getSymbolInstanceIconSize(o,s,_.placedIconSymbolIndex);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,v,M.padding,_.zOffset)}}updateCollisionDebugBuffers(o,s,h,g){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const f=$f(this.iconSizeData,o,g),_=$f(this.textSizeData,o,h);for(let F=0;F<this.symbolInstances.length;F++){const R=this.symbolInstances.get(F);this._updateTextDebugCollisionBoxes(_,o,s,R.textBoxStartIndex,R.textBoxEndIndex,R,h),this._updateTextDebugCollisionBoxes(_,o,s,R.verticalTextBoxStartIndex,R.verticalTextBoxEndIndex,R,h),this._updateIconDebugCollisionBoxes(f,o,s,R.iconBoxStartIndex,R.iconBoxEndIndex,R,g),this._updateIconDebugCollisionBoxes(f,o,s,R.verticalIconBoxStartIndex,R.verticalIconBoxEndIndex,R,g)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(o,s,h,g,f,_,F,R,M){const v={};if(s<h){const{x1:T,y1:I,x2:S,y2:P,padding:D,projectedAnchorX:N,projectedAnchorY:U,projectedAnchorZ:Z,tileAnchorX:X,tileAnchorY:q,featureIndex:te}=o.get(s);v.textBox={x1:T,y1:I,x2:S,y2:P,padding:D,projectedAnchorX:N,projectedAnchorY:U,projectedAnchorZ:Z,tileAnchorX:X,tileAnchorY:q},v.textFeatureIndex=te}if(g<f){const{x1:T,y1:I,x2:S,y2:P,padding:D,projectedAnchorX:N,projectedAnchorY:U,projectedAnchorZ:Z,tileAnchorX:X,tileAnchorY:q,featureIndex:te}=o.get(g);v.verticalTextBox={x1:T,y1:I,x2:S,y2:P,padding:D,projectedAnchorX:N,projectedAnchorY:U,projectedAnchorZ:Z,tileAnchorX:X,tileAnchorY:q},v.verticalTextFeatureIndex=te}if(_<F){const{x1:T,y1:I,x2:S,y2:P,padding:D,projectedAnchorX:N,projectedAnchorY:U,projectedAnchorZ:Z,tileAnchorX:X,tileAnchorY:q,featureIndex:te}=o.get(_);v.iconBox={x1:T,y1:I,x2:S,y2:P,padding:D,projectedAnchorX:N,projectedAnchorY:U,projectedAnchorZ:Z,tileAnchorX:X,tileAnchorY:q},v.iconFeatureIndex=te}if(R<M){const{x1:T,y1:I,x2:S,y2:P,padding:D,projectedAnchorX:N,projectedAnchorY:U,projectedAnchorZ:Z,tileAnchorX:X,tileAnchorY:q,featureIndex:te}=o.get(R);v.verticalIconBox={x1:T,y1:I,x2:S,y2:P,padding:D,projectedAnchorX:N,projectedAnchorY:U,projectedAnchorZ:Z,tileAnchorX:X,tileAnchorY:q},v.verticalIconFeatureIndex=te}return v}deserializeCollisionBoxes(o){this.collisionArrays=[];for(let s=0;s<this.symbolInstances.length;s++){const h=this.symbolInstances.get(s);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(o,h.textBoxStartIndex,h.textBoxEndIndex,h.verticalTextBoxStartIndex,h.verticalTextBoxEndIndex,h.iconBoxStartIndex,h.iconBoxEndIndex,h.verticalIconBoxStartIndex,h.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}hasIconTextFit(){return this.hasAnyIconTextFit}addIndicesForPlacedSymbol(o,s){const h=o.placedSymbolArray.get(s),g=h.vertexStartIndex+4*h.numGlyphs;for(let f=h.vertexStartIndex;f<g;f+=4)o.indexArray.emplaceBack(f,f+1,f+2),o.indexArray.emplaceBack(f+1,f+2,f+3)}getSortedSymbolIndexes(o){if(this.sortedAngle===o&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const s=Math.sin(o),h=Math.cos(o),g=[],f=[],_=[];for(let F=0;F<this.symbolInstances.length;++F){_.push(F);const R=this.symbolInstances.get(F);g.push(0|Math.round(s*R.tileAnchorX+h*R.tileAnchorY)),f.push(R.featureIndex)}return _.sort((F,R)=>g[F]-g[R]||f[R]-f[F]),_}getSortedIndexesByZOffset(){if(!this.zOffsetSortDirty)return this.symbolInstanceIndexesSortedZOffset;if(!this.symbolInstanceIndexesSortedZOffset){this.symbolInstanceIndexesSortedZOffset=[];for(let o=0;o<this.symbolInstances.length;++o)this.symbolInstanceIndexesSortedZOffset.push(o)}return this.zOffsetSortDirty=!1,this.symbolInstanceIndexesSortedZOffset.sort((o,s)=>this.symbolInstances.get(s).zOffset-this.symbolInstances.get(o).zOffset)}addToSortKeyRanges(o,s){const h=this.sortKeyRanges[this.sortKeyRanges.length-1];h&&h.sortKey===s?h.symbolInstanceEnd=o+1:this.sortKeyRanges.push({sortKey:s,symbolInstanceStart:o,symbolInstanceEnd:o+1})}sortFeatures(o){if(this.sortFeaturesByY&&this.sortedAngle!==o&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(o),this.sortedAngle=o,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const s of this.symbolInstanceIndexes){const h=this.symbolInstances.get(s);this.featureSortOrder.push(h.featureIndex);const{rightJustifiedTextSymbolIndex:g,centerJustifiedTextSymbolIndex:f,leftJustifiedTextSymbolIndex:_,verticalPlacedTextSymbolIndex:F,placedIconSymbolIndex:R,verticalPlacedIconSymbolIndex:M}=h;g>=0&&this.addIndicesForPlacedSymbol(this.text,g),f>=0&&f!==g&&this.addIndicesForPlacedSymbol(this.text,f),_>=0&&_!==f&&_!==g&&this.addIndicesForPlacedSymbol(this.text,_),F>=0&&this.addIndicesForPlacedSymbol(this.text,F),R>=0&&this.addIndicesForPlacedSymbol(this.icon,R),M>=0&&this.addIndicesForPlacedSymbol(this.icon,M)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let F7,C7,h4;hi(Ly,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),Ly.addDynamicAttributes=Oy;class E7{constructor(o){this.type=o.property.overrides?o.property.overrides.runtimeType:Xa,this.defaultValue=o}evaluate(o){if(o.formattedSection){const s=this.defaultValue.property.overrides;if(s&&s.hasOverride(o.formattedSection))return s.getOverride(o.formattedSection)}return o.feature&&o.featureState?this.defaultValue.evaluate(o.feature,o.featureState):this.defaultValue.property.specification.default}eachChild(o){this.defaultValue.isConstant()||o(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}hi(E7,"FormatSectionOverride",{omit:["defaultValue"]});const f4=()=>h4||(h4={layout:F7||(F7=new io({"symbol-placement":new Kt(ft.layout_symbol["symbol-placement"]),"symbol-spacing":new Kt(ft.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Kt(ft.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new xi(ft.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Kt(ft.layout_symbol["symbol-z-order"]),"symbol-z-elevate":new Kt(ft.layout_symbol["symbol-z-elevate"]),"symbol-elevation-reference":new Kt(ft.layout_symbol["symbol-elevation-reference"]),"icon-allow-overlap":new Kt(ft.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Kt(ft.layout_symbol["icon-ignore-placement"]),"icon-optional":new Kt(ft.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Kt(ft.layout_symbol["icon-rotation-alignment"]),"icon-size":new xi(ft.layout_symbol["icon-size"]),"icon-size-scale-range":new Kt(ft.layout_symbol["icon-size-scale-range"]),"icon-text-fit":new xi(ft.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new xi(ft.layout_symbol["icon-text-fit-padding"]),"icon-image":new xi(ft.layout_symbol["icon-image"]),"icon-rotate":new xi(ft.layout_symbol["icon-rotate"]),"icon-padding":new Kt(ft.layout_symbol["icon-padding"]),"icon-keep-upright":new Kt(ft.layout_symbol["icon-keep-upright"]),"icon-offset":new xi(ft.layout_symbol["icon-offset"]),"icon-anchor":new xi(ft.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Kt(ft.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Kt(ft.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Kt(ft.layout_symbol["text-rotation-alignment"]),"text-field":new xi(ft.layout_symbol["text-field"]),"text-font":new xi(ft.layout_symbol["text-font"]),"text-size":new xi(ft.layout_symbol["text-size"]),"text-size-scale-range":new Kt(ft.layout_symbol["text-size-scale-range"]),"text-max-width":new xi(ft.layout_symbol["text-max-width"]),"text-line-height":new xi(ft.layout_symbol["text-line-height"]),"text-letter-spacing":new xi(ft.layout_symbol["text-letter-spacing"]),"text-justify":new xi(ft.layout_symbol["text-justify"]),"text-radial-offset":new xi(ft.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Kt(ft.layout_symbol["text-variable-anchor"]),"text-anchor":new xi(ft.layout_symbol["text-anchor"]),"text-max-angle":new Kt(ft.layout_symbol["text-max-angle"]),"text-writing-mode":new Kt(ft.layout_symbol["text-writing-mode"]),"text-rotate":new xi(ft.layout_symbol["text-rotate"]),"text-padding":new Kt(ft.layout_symbol["text-padding"]),"text-keep-upright":new Kt(ft.layout_symbol["text-keep-upright"]),"text-transform":new xi(ft.layout_symbol["text-transform"]),"text-offset":new xi(ft.layout_symbol["text-offset"]),"text-allow-overlap":new Kt(ft.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Kt(ft.layout_symbol["text-ignore-placement"]),"text-optional":new Kt(ft.layout_symbol["text-optional"]),visibility:new Kt(ft.layout_symbol.visibility)})),paint:C7||(C7=new io({"icon-opacity":new xi(ft.paint_symbol["icon-opacity"]),"icon-occlusion-opacity":new xi(ft.paint_symbol["icon-occlusion-opacity"]),"icon-emissive-strength":new xi(ft.paint_symbol["icon-emissive-strength"]),"text-emissive-strength":new xi(ft.paint_symbol["text-emissive-strength"]),"icon-color":new xi(ft.paint_symbol["icon-color"]),"icon-halo-color":new xi(ft.paint_symbol["icon-halo-color"]),"icon-halo-width":new xi(ft.paint_symbol["icon-halo-width"]),"icon-halo-blur":new xi(ft.paint_symbol["icon-halo-blur"]),"icon-translate":new Kt(ft.paint_symbol["icon-translate"]),"icon-translate-anchor":new Kt(ft.paint_symbol["icon-translate-anchor"]),"icon-image-cross-fade":new xi(ft.paint_symbol["icon-image-cross-fade"]),"text-opacity":new xi(ft.paint_symbol["text-opacity"]),"text-occlusion-opacity":new xi(ft.paint_symbol["text-occlusion-opacity"]),"text-color":new xi(ft.paint_symbol["text-color"],{runtimeType:Yr,getOverride:u=>u.textColor,hasOverride:u=>!!u.textColor}),"text-halo-color":new xi(ft.paint_symbol["text-halo-color"]),"text-halo-width":new xi(ft.paint_symbol["text-halo-width"]),"text-halo-blur":new xi(ft.paint_symbol["text-halo-blur"]),"text-translate":new Kt(ft.paint_symbol["text-translate"]),"text-translate-anchor":new Kt(ft.paint_symbol["text-translate-anchor"]),"icon-color-saturation":new Kt(ft.paint_symbol["icon-color-saturation"]),"icon-color-contrast":new Kt(ft.paint_symbol["icon-color-contrast"]),"icon-color-brightness-min":new Kt(ft.paint_symbol["icon-color-brightness-min"]),"icon-color-brightness-max":new Kt(ft.paint_symbol["icon-color-brightness-max"]),"symbol-z-offset":new xi(ft.paint_symbol["symbol-z-offset"])}))},h4);class Dy extends Hr{constructor(o,s,h,g){super(o,f4(),s,h,g),this._colorAdjustmentMatrix=Re.mat4.identity([]),this.hasInitialOcclusionOpacityProperties=o.paint!==void 0&&("icon-occlusion-opacity"in o.paint||"text-occlusion-opacity"in o.paint)}recalculate(o,s){super.recalculate(o,s),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const h=this.layout.get("text-writing-mode");if(h){const g=[];for(const f of h)g.indexOf(f)<0&&g.push(f);this.layout._values["text-writing-mode"]=g}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getColorAdjustmentMatrix(o,s,h,g){return this._saturation===o&&this._contrast===s&&this._brightnessMin===h&&this._brightnessMax===g||(this._colorAdjustmentMatrix=function(f,_,F,R){f=fe(f),_=le(_);const M=Re.mat4.create(),v=f/3,T=1-2*v,I=[T,v,v,0,v,T,v,0,v,v,T,0,0,0,0,1],S=.5-.5*_,P=R-F;return Re.mat4.multiply(M,[P,0,0,0,0,P,0,0,0,0,P,0,F,F,F,1],[_,0,0,0,0,_,0,0,0,0,_,0,S,S,S,1]),Re.mat4.multiply(M,M,I),M}(o,s,h,g),this._saturation=o,this._contrast=s,this._brightnessMin=h,this._brightnessMax=g),this._colorAdjustmentMatrix}getValueAndResolveTokens(o,s,h,g){const f=this.layout.get(o).evaluate(s,{},h,g),_=this._unevaluatedLayout._values[o];return _.isDataDriven()||_f(_.value)||!f?f:function(F,R){return R.replace(/{([^{}]+)}/g,(M,v)=>v in F?String(F[v]):"")}(s.properties,f)}createBucket(o){return new Ly(o)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const o of f4().paint.overridableProperties){if(!Dy.hasPaintOverride(this.layout,o))continue;const s=this.paint.get(o),h=new E7(s),g=new H0(h,s.property.specification,this.scope,this.options);let f=null;f=s.value.kind==="constant"||s.value.kind==="source"?new yf("source",g):new ju("composite",g,s.value.zoomStops,s.value._interpolationType),this.paint._values[o]=new ad(s.property,f,s.parameters)}}_handleOverridablePaintPropertyUpdate(o,s,h){return!(!this.layout||s.isDataDriven()||h.isDataDriven())&&Dy.hasPaintOverride(this.layout,o)}static hasPaintOverride(o,s){const h=o.get("text-field"),g=f4().paint.properties[s];let f=!1;const _=F=>{for(const R of F)if(g.overrides&&g.overrides.hasOverride(R))return void(f=!0)};if(h.value.kind==="constant"&&h.value.value instanceof Br)_(h.value.value.sections);else if(h.value.kind==="source"){const F=M=>{f||(M instanceof Ja&&qo(M.value)===zl?_(M.value.sections):M instanceof Ul?_(M.sections):M.eachChild(F))},R=h.value;R._styleExpression&&F(R._styleExpression.expression)}return f}getProgramIds(){return["symbol"]}getDefaultProgramParams(o,s,h){return{config:new Ks(this,{zoom:s,lut:h}),overrideFog:!1}}}let S7,T7,R7,P7;var p4=xn([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);function m4(u){switch(u){case WebGL2RenderingContext.RGBA8:return WebGL2RenderingContext.RGBA;case WebGL2RenderingContext.DEPTH_COMPONENT16:return WebGL2RenderingContext.DEPTH_COMPONENT;case WebGL2RenderingContext.DEPTH24_STENCIL8:return WebGL2RenderingContext.DEPTH_STENCIL;case WebGL2RenderingContext.R8:case WebGL2RenderingContext.R32F:return WebGL2RenderingContext.RED}}function g4(u){switch(u){case WebGL2RenderingContext.RGBA8:return WebGL2RenderingContext.UNSIGNED_BYTE;case WebGL2RenderingContext.DEPTH_COMPONENT16:return WebGL2RenderingContext.UNSIGNED_SHORT;case WebGL2RenderingContext.DEPTH24_STENCIL8:return WebGL2RenderingContext.UNSIGNED_INT_24_8;case WebGL2RenderingContext.R8:return WebGL2RenderingContext.UNSIGNED_BYTE;case WebGL2RenderingContext.R32F:return WebGL2RenderingContext.FLOAT}}class _4{constructor(o,s,h,g){this.context=o,this.format=h,this.useMipmap=g&&g.useMipmap,this.texture=o.gl.createTexture(),this.update(s,{premultiply:g&&g.premultiply})}update(o,s){const h=o&&o instanceof HTMLVideoElement&&o.width===0?o.videoWidth:o.width,g=o&&o instanceof HTMLVideoElement&&o.height===0?o.videoHeight:o.height,{context:f}=this,{gl:_}=f,{x:F,y:R}=s&&s.position?s.position:{x:0,y:0},M=Math.max(F+h,this.size?this.size[0]:0),v=Math.max(R+g,this.size?this.size[1]:0);!this.size||this.size[0]===M&&this.size[1]===v||(_.bindTexture(_.TEXTURE_2D,null),_.deleteTexture(this.texture),this.texture=_.createTexture(),this.size=null),_.bindTexture(_.TEXTURE_2D,this.texture),f.pixelStoreUnpackFlipY.set(!1),f.pixelStoreUnpack.set(1),f.pixelStoreUnpackPremultiplyAlpha.set(this.format===_.RGBA8&&(!s||s.premultiply!==!1));const T=o instanceof HTMLImageElement||o instanceof HTMLCanvasElement||o instanceof HTMLVideoElement||o instanceof ImageData||ImageBitmap&&o instanceof ImageBitmap;if(!this.size&&M>0&&v>0){const I=this.useMipmap?Math.floor(Math.log2(Math.max(M,v)))+1:1;_.texStorage2D(_.TEXTURE_2D,I,this.format,M,v),this.size=[M,v]}if(this.size)if(T)_.texSubImage2D(_.TEXTURE_2D,0,F,R,m4(this.format),g4(this.format),o);else{const I=o.data;I&&_.texSubImage2D(_.TEXTURE_2D,0,F,R,h,g,m4(this.format),g4(this.format),I)}this.useMipmap&&_.generateMipmap(_.TEXTURE_2D)}bind(o,s,h=!1){const{context:g}=this,{gl:f}=g;f.bindTexture(f.TEXTURE_2D,this.texture),o!==this.minFilter&&(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,o),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,this.useMipmap&&!h?o===f.NEAREST?f.NEAREST_MIPMAP_NEAREST:f.LINEAR_MIPMAP_LINEAR:o),this.minFilter=o),s!==this.wrapS&&(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,s),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,s),this.wrapS=s)}bindExtraParam(o,s,h,g){const{context:f}=this,{gl:_}=f;_.bindTexture(_.TEXTURE_2D,this.texture),s!==this.magFilter&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,s),this.magFilter=s),o!==this.minFilter&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,this.useMipmap?o===_.NEAREST?_.NEAREST_MIPMAP_NEAREST:_.LINEAR_MIPMAP_LINEAR:o),this.minFilter=o),h!==this.wrapS&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,h),this.wrapS=h),g!==this.wrapT&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,g),this.wrapT=g)}destroy(){const{gl:o}=this.context;o.deleteTexture(this.texture),this.texture=null}}class By{constructor(o,s){this.context=o,this.texture=s}bind(o,s){const{context:h}=this,{gl:g}=h;g.bindTexture(g.TEXTURE_2D,this.texture),o!==this.minFilter&&(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,o),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,o),this.minFilter=o),s!==this.wrapS&&(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,s),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,s),this.wrapS=s)}}function jy(u,o,s,h,g,f,_,F){const R=[u,o,1,s,h,1,g,f,1],M=[_,F,1],v=Re.mat3.adjoint([],R),[T,I,S]=Re.vec3.transformMat3(M,M,v);return Re.mat3.multiply(R,R,[T,0,0,0,I,0,0,0,S])}function I7(u,o,s,h,g,f,_,F){const R=function(M,v,T,I,S,P,D,N){const U=jy(0,0,1,0,1,1,0,1),Z=jy(M,v,T,I,S,P,D,N),X=Re.mat3.adjoint([],U);return Re.mat3.multiply(Z,Z,X)}(u,o,s,h,g,f,_,F);return[R[2]/R[8]/Yt,R[5]/R[8]/Yt]}function zy(u){return[u[0],Math.min(Math.max(u[1],-Pe),Pe)]}class k7 extends Bl{constructor(o,s,h,g){super(),this.id=o,this.dispatcher=h,this.coordinates=s.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.onNorthPole=!1,this.onSouthPole=!1,this.setEventedParent(g),this.options=s,this._dirty=!1}load(o,s){if(this._loaded=s||!1,this.fire(new xc("dataloading",{dataType:"source"})),this.url=this.options.url,!this.url)return o&&(this.coordinates=o),this._loaded=!0,void this._finishLoading();this._imageRequest=ps(this.map._requestManager.transformRequest(this.url,Gh.Image),(h,g)=>{this._imageRequest=null,this._loaded=!0,h?this.fire(new Fu(h)):g&&(this.image=g instanceof HTMLImageElement?oi.getImageData(g):g,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,o&&(this.coordinates=o),this._finishLoading())})}loaded(){return this._loaded}updateImage(o){return o.url?(this._imageRequest&&o.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=o.url,this.load(o.coordinates,this._loaded),this):this}setTexture(o){if(!(o.handle instanceof WebGLTexture))throw new Error("The provided handle is not a WebGLTexture instance");return this.texture=new By(this.map.painter.context,o.handle),this.width=o.dimensions[0],this.height=o.dimensions[1],this._dirty=!1,this._loaded=!0,this._finishLoading(),this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new xc("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(o){this.map=o,this.load()}onRemove(o){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),!this.texture||this.texture instanceof By||this.texture.destroy(),this.boundsBuffer&&(this.boundsBuffer.destroy(),this.elevatedGlobeVertexBuffer&&this.elevatedGlobeVertexBuffer.destroy(),this.elevatedGlobeIndexBuffer&&this.elevatedGlobeIndexBuffer.destroy())}setCoordinates(o){if(this.coordinates=o,this._boundsArray=void 0,this._unsupportedCoords=!1,!o.length)return this;this.onNorthPole=!1,this.onSouthPole=!1;let s=o[0][1],h=o[0][1];for(const f of o)f[1]>h&&(h=f[1]),f[1]<s&&(s=f[1]);const g=(h+s)/2;if(g>Pe?this.onNorthPole=!0:g<-Pe&&(this.onSouthPole=!0),!this.onNorthPole&&!this.onSouthPole){const f=o.map(Qe.fromLngLat);this.tileID=function(_){let F=1/0,R=1/0,M=-1/0,v=-1/0;for(const D of _)F=Math.min(F,D.x),R=Math.min(R,D.y),M=Math.max(M,D.x),v=Math.max(v,D.y);const T=Math.max(M-F,v-R),I=Math.max(0,Math.floor(-Math.log(T)/Math.LN2)),S=Math.pow(2,I);let P=Math.floor((F+M)/2*S);return P>1&&(P-=1),new ar(I,P,Math.floor((R+v)/2*S))}(f),this.minzoom=this.maxzoom=this.tileID.z}return this.fire(new xc("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0,this._unsupportedCoords=!1}_prepareData(o){for(const U in this.tiles){const Z=this.tiles[U];Z.state!=="loaded"&&(Z.state="loaded",Z.texture=this.texture)}if(this._boundsArray||this.onNorthPole||this.onSouthPole||this._unsupportedCoords)return;const s=jm(new ar(0,0,0),this.map.transform.projection),h=[s.projection.project(this.coordinates[0][0],this.coordinates[0][1]),s.projection.project(this.coordinates[1][0],this.coordinates[1][1]),s.projection.project(this.coordinates[2][0],this.coordinates[2][1]),s.projection.project(this.coordinates[3][0],this.coordinates[3][1])];if(!function(U){const Z=U[1].x-U[0].x,X=U[1].y-U[0].y,q=U[2].x-U[1].x,te=U[2].y-U[1].y,ie=U[3].x-U[2].x,de=U[3].y-U[2].y,Ee=U[0].x-U[3].x,be=U[0].y-U[3].y,xe=Z*te-q*X,Ve=q*de-ie*te,ve=ie*be-Ee*de,Be=Ee*X-Z*be;return xe>0&&Ve>0&&ve>0&&Be>0||xe<0&&Ve<0&&ve<0&&Be<0}(h))return console.warn("Image source coordinates are defining non-convex area in the Mercator projection"),void(this._unsupportedCoords=!0);const g=jm(this.tileID,this.map.transform.projection),[f,_,F,R]=this.coordinates.map(U=>{const Z=g.projection.project(U[0],U[1]);return _7(g,Z)._round()});this.perspectiveTransform=I7(f.x,f.y,_.x,_.y,F.x,F.y,R.x,R.y);const M=this._boundsArray=new ld;M.emplaceBack(f.x,f.y,0,0),M.emplaceBack(_.x,_.y,Yt,0),M.emplaceBack(R.x,R.y,0,Yt),M.emplaceBack(F.x,F.y,Yt,Yt),this.boundsBuffer&&(this.boundsBuffer.destroy(),this.elevatedGlobeVertexBuffer&&this.elevatedGlobeVertexBuffer.destroy(),this.elevatedGlobeIndexBuffer&&this.elevatedGlobeIndexBuffer.destroy()),this.boundsBuffer=o.createVertexBuffer(M,p4.members),this.boundsSegments=Po.simpleSegment(0,0,4,2);const v=[],T=[zy((I=this.coordinates)[0]),zy(I[1]),zy(I[2]),zy(I[3])];var I;const[S,P,D,N]=function(U){let Z=U[0][0],X=Z,q=U[0][1],te=q;for(let ie=1;ie<U.length;ie++)U[ie][0]<Z?Z=U[ie][0]:U[ie][0]>X&&(X=U[ie][0]),U[ie][1]<q?q=U[ie][1]:U[ie][1]>te&&(te=U[ie][1]);return[Z,q,X-Z,te-q]}(T);{const U=new ld,[Z,X,q,te]=function(ht){let mt=ht[0].x,lt=mt,Pt=ht[0].y,Nt=Pt;for(let wt=1;wt<ht.length;wt++)ht[wt].x<mt?mt=ht[wt].x:ht[wt].x>lt&&(lt=ht[wt].x),ht[wt].y<Pt?Pt=ht[wt].y:ht[wt].y>Nt&&(Nt=ht[wt].y);return[mt,Pt,lt-mt,Nt-Pt]}(h),ie=ht=>[(ht.x-Z)/q,(ht.y-X)/te],[de,Ee,be,xe]=h.map(ie),Ve=function(ht,mt,lt,Pt,Nt,wt,ci,Jt){const qt=jy(0,0,1,0,1,1,0,1),zt=jy(ht,mt,lt,Pt,Nt,wt,ci,Jt),Ci=Re.mat3.adjoint([],zt);return Re.mat3.multiply(qt,qt,Ci)}(de[0],de[1],Ee[0],Ee[1],be[0],be[1],xe[0],xe[1]);this.elevatedGlobePerspectiveTransform=I7(de[0],de[1],Ee[0],Ee[1],be[0],be[1],xe[0],xe[1]);const ve=(ht,mt)=>{v.push(ht.lng);const lt=Math.round((ht.lng-S)/D*Yt),Pt=Math.round((ht.lat-P)/N*Yt),Nt=ie(mt),wt=Re.vec3.transformMat3([],[Nt[0],Nt[1],1],Ve),ci=Math.round(wt[0]/wt[2]*Yt),Jt=Math.round(wt[1]/wt[2]*Yt);U.emplaceBack(lt,Pt,ci,Jt)},Be=h[3].x-h[0].x,We=h[3].y-h[0].y,Ke=h[2].x-h[1].x,tt=h[2].y-h[1].y;for(let ht=0;ht<65;ht++){const mt=ht/64,lt=[h[0].x+mt*Be,h[0].y+mt*We],Pt=[h[1].x+mt*Ke,h[1].y+mt*tt],Nt=Pt[0]-lt[0],wt=Pt[1]-lt[1];for(let ci=0;ci<65;ci++){const Jt=ci/64,qt={x:lt[0]+Nt*Jt,y:lt[1]+wt*Jt,z:0};ve(s.projection.unproject(qt.x,qt.y),qt)}}this.elevatedGlobeVertexBuffer=o.createVertexBuffer(U,p4.members)}{this.maxLongitudeTriangleSize=0;let U=[],Z=new fo;const X=(q,te,ie)=>{Z.emplaceBack(q,te,ie);const de=v[q],Ee=v[te],be=v[ie],xe=Math.min(Math.min(de,Ee),be),Ve=Math.max(Math.max(de,Ee),be)-xe;Ve>this.maxLongitudeTriangleSize&&(this.maxLongitudeTriangleSize=Ve),U.push(xe+Ve/2)};for(let q=0;q<64;q++)for(let te=0;te<64;te++){const ie=65*q+te,de=ie+1,Ee=ie+65,be=Ee+1;X(ie,Ee,de),X(de,Ee,be)}[U,Z]=function(q,te){const ie=Array.from({length:q.length},(be,xe)=>xe);ie.sort((be,xe)=>q[be]-q[xe]);const de=[],Ee=new fo;for(let be=0;be<ie.length;be++){const xe=ie[be];de.push(q[xe]);const Ve=3*xe,ve=Ve+1;Ee.emplaceBack(te.uint16[Ve],te.uint16[ve],te.uint16[ve+1])}return[de,Ee]}(U,Z),this.elevatedGlobeTrianglesCenterLongitudes=U,this.elevatedGlobeIndexBuffer=o.createIndexBuffer(Z)}this.elevatedGlobeSegments=Po.simpleSegment(0,0,4225,8192),this.elevatedGlobeGridMatrix=new Float32Array([0,D/Yt,0,N/Yt,0,0,P,S,0])}prepare(){const o=Object.keys(this.tiles).length!==0;if(this.tileID&&!o)return;const s=this.map.painter.context,h=s.gl;!this._dirty||this.texture instanceof By||(this.texture?this.texture.update(this.image):(this.texture=new _4(s,this.image,h.RGBA8),this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE)),this._dirty=!1),o&&this._prepareData(s)}loadTile(o,s){this.tileID&&this.tileID.equals(o.tileID.canonical)?(this.tiles[String(o.tileID.wrap)]=o,o.buckets={},s(null)):(o.state="errored",s(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}getSegmentsForLongitude(o){const s=this.elevatedGlobeSegments;if(!this.elevatedGlobeTrianglesCenterLongitudes||!s)return null;const h=this.elevatedGlobeTrianglesCenterLongitudes;let g=(f=o+180)+360*Math.round((h[0]-f)/360);var f;const _=new Po,F=(T,I)=>{_.segments.push({vertexOffset:0,primitiveOffset:T,vertexLength:s.segments[0].vertexLength,primitiveLength:I,sortKey:void 0,vaos:{}})},R=.51*this.maxLongitudeTriangleSize;if(Math.abs(h[0]-g)<=R){const T=xt(h,0,h.length,g+R);return T===h.length||F(T,xu(h,T+1,h.length,g+360-R)-T),_}g<h[0]&&(g+=360);const M=xu(h,0,h.length,g-R);if(M===h.length)return F(0,h.length),_;F(0,M-0);const v=xt(h,M+1,h.length,g+R);return v!==h.length&&F(v,h.length-v),_}}const RM=(Math.pow(256,2)-1)/16907520;class M7 extends Hr{constructor(o,s,h,g){super(o,{layout:R7||(R7=new io({visibility:new Kt(ft.layout_raster.visibility)})),paint:P7||(P7=new io({"raster-opacity":new Kt(ft.paint_raster["raster-opacity"]),"raster-color":new cd(ft.paint_raster["raster-color"]),"raster-color-mix":new Kt(ft.paint_raster["raster-color-mix"]),"raster-color-range":new Kt(ft.paint_raster["raster-color-range"]),"raster-hue-rotate":new Kt(ft.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Kt(ft.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Kt(ft.paint_raster["raster-brightness-max"]),"raster-saturation":new Kt(ft.paint_raster["raster-saturation"]),"raster-contrast":new Kt(ft.paint_raster["raster-contrast"]),"raster-resampling":new Kt(ft.paint_raster["raster-resampling"]),"raster-fade-duration":new Kt(ft.paint_raster["raster-fade-duration"]),"raster-emissive-strength":new Kt(ft.paint_raster["raster-emissive-strength"]),"raster-array-band":new Kt(ft.paint_raster["raster-array-band"]),"raster-elevation":new Kt(ft.paint_raster["raster-elevation"])}))},s,h,g),this.updateColorRamp(),this._curRampRange=[NaN,NaN]}getProgramIds(){return["raster"]}hasColorMap(){return!!this._transitionablePaint._values["raster-color"].value.value}tileCoverLift(){return this.paint.get("raster-elevation")}isDraped(o){return!(o&&o._source instanceof k7&&(o._source.onNorthPole||o._source.onSouthPole))&&this.paint.get("raster-elevation")===0}_handleSpecialPaintPropertyUpdate(o){o!=="raster-color"&&o!=="raster-color-range"||(this._curRampRange=[NaN,NaN],this.updateColorRamp())}updateColorRamp(o){if(!this.hasColorMap()||!this._curRampRange)return;const s=this._transitionablePaint._values["raster-color"].value.expression,[h,g]=o||this._transitionablePaint._values["raster-color-range"].value.expression.evaluate({zoom:0})||[NaN,NaN];isNaN(h)&&isNaN(g)||h===this._curRampRange[0]&&g===this._curRampRange[1]||(this.colorRamp=Fm({expression:s,evaluationKey:"rasterValue",image:this.colorRamp,clips:[{start:h,end:g}],resolution:256}),this.colorRampTexture=null,this._curRampRange=[h,g])}}let A7,O7,L7,D7,B7;class j7 extends Hr{constructor(o,s,h,g){super(o,{layout:A7||(A7=new io({visibility:new Kt(ft["layout_raster-particle"].visibility)})),paint:O7||(O7=new io({"raster-particle-array-band":new Kt(ft["paint_raster-particle"]["raster-particle-array-band"]),"raster-particle-count":new Kt(ft["paint_raster-particle"]["raster-particle-count"]),"raster-particle-color":new cd(ft["paint_raster-particle"]["raster-particle-color"]),"raster-particle-max-speed":new Kt(ft["paint_raster-particle"]["raster-particle-max-speed"]),"raster-particle-speed-factor":new Kt(ft["paint_raster-particle"]["raster-particle-speed-factor"]),"raster-particle-fade-opacity-factor":new Kt(ft["paint_raster-particle"]["raster-particle-fade-opacity-factor"]),"raster-particle-reset-rate-factor":new Kt(ft["paint_raster-particle"]["raster-particle-reset-rate-factor"]),"raster-particle-elevation":new Kt(ft["paint_raster-particle"]["raster-particle-elevation"])}))},s,h,g),this._updateColorRamp(),this.lastInvalidatedAt=oi.now()}onRemove(o){this.colorRampTexture&&this.colorRampTexture.destroy(),this.tileFramebuffer&&this.tileFramebuffer.destroy(),this.particleFramebuffer&&this.particleFramebuffer.destroy()}hasColorMap(){return!!this._transitionablePaint._values["raster-particle-color"].value.value}getProgramIds(){return["rasterParticle"]}hasOffscreenPass(){return this.visibility!=="none"}isDraped(o){return!1}_handleSpecialPaintPropertyUpdate(o){o!=="raster-particle-color"&&o!=="raster-particle-max-speed"||(this._updateColorRamp(),this._invalidateAnimationState()),o==="raster-particle-count"&&this._invalidateAnimationState()}_updateColorRamp(){if(!this.hasColorMap())return;const o=this._transitionablePaint._values["raster-particle-color"].value.expression,s=this._transitionablePaint._values["raster-particle-max-speed"].value.expression.evaluate({zoom:0});this.colorRamp=Fm({expression:o,evaluationKey:"rasterParticleSpeed",image:this.colorRamp,clips:[{start:0,end:s}],resolution:256}),this.colorRampTexture=null}_invalidateAnimationState(){this.lastInvalidatedAt=oi.now()}tileCoverLift(){return this.paint.get("raster-particle-elevation")}}class PM extends Hr{constructor(o,s){super(o,{},s,null),this.implementation=o,o.slot&&(this.slot=o.slot)}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}isDraped(o){return this.implementation.renderToTile!==void 0}shouldRedrape(){return!!this.implementation.shouldRerenderTiles&&this.implementation.shouldRerenderTiles()}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(o){this.implementation.onAdd&&this.implementation.onAdd(o,o.painter.context.gl)}onRemove(o){this.implementation.onRemove&&this.implementation.onRemove(o,o.painter.context.gl)}}function y4(u,o,s){const h=[0,0,1],g=Re.quat.identity([]);return Re.quat.rotateY(g,g,s?-_e(u)+Math.PI:_e(u)),Re.quat.rotateX(g,g,-_e(o)),Re.vec3.transformQuat(h,h,g),Re.vec3.normalize(h,h)}function z7(u,o){const s=Vy(u.projection,u.zoom,u.width,u.height),h=function(f,_,F,R,M){const v=new z(F.lng-180*Ed,F.lat),T=new z(F.lng+180*Ed,F.lat),I=f.project(v.lng,v.lat),S=f.project(T.lng,T.lat),P=-Math.atan2(S.y-I.y,S.x-I.x),D=Qe.fromLngLat(F);D.y=nt(D.y,-1+Ed,1-Ed);const N=D.toLngLat(),U=f.project(N.lng,N.lat),Z=Qe.fromLngLat(N);Z.x+=Ed;const X=Z.toLngLat(),q=f.project(X.lng,X.lat),te=N7(q.x-U.x,q.y-U.y,P),ie=Qe.fromLngLat(N);ie.y+=Ed;const de=ie.toLngLat(),Ee=f.project(de.lng,de.lat),be=N7(Ee.x-U.x,Ee.y-U.y,P),xe=Math.abs(te.x)/Math.abs(be.y),Ve=Re.mat4.identity([]);Re.mat4.rotateZ(Ve,Ve,-P*(1-(M?0:R)));const ve=Re.mat4.identity([]);return Re.mat4.scale(ve,ve,[1,1-(1-xe)*R,1]),ve[4]=-be.x/be.y*R,Re.mat4.rotateZ(ve,ve,P),Re.mat4.multiply(ve,Ve,ve),ve}(u.projection,0,u.center,s,o),g=V7(u);return Re.mat4.scale(h,h,[g,g,1]),h}function V7(u){const o=u.projection,s=Vy(u.projection,u.zoom,u.width,u.height),h=b4(o,u.center),g=b4(o,z.convert(o.center));return Math.pow(2,h*s+(1-s)*g)}function Vy(u,o,s,h,g=1/0){const f=u.range;if(!f)return 0;const _=Math.min(g,Math.max(s,h)),F=Math.log(_/1024)/Math.LN2;return Et(f[0]+F,f[1]+F,o)}const Ed=1/4e4;function b4(u,o){const s=nt(o.lat,-Pe,Pe),h=new z(o.lng-180*Ed,s),g=new z(o.lng+180*Ed,s),f=u.project(h.lng,s),_=u.project(g.lng,s),F=Qe.fromLngLat(h),R=Qe.fromLngLat(g),M=_.x-f.x,v=_.y-f.y,T=R.x-F.x,I=R.y-F.y,S=Math.sqrt((T*T+I*I)/(M*M+v*v));return Math.log(S)/Math.LN2}function N7(u,o,s){const h=Math.cos(s),g=Math.sin(s);return{x:u*h-o*g,y:u*g+o*h}}function $7(u,o,s){Re.mat4.identity(u),Re.mat4.rotateZ(u,u,_e(o[2])),Re.mat4.rotateX(u,u,_e(o[0])),Re.mat4.rotateY(u,u,_e(o[1])),Re.mat4.scale(u,u,s),Re.mat4.multiply(u,u,[1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1])}function Ny(u,o,s,h,g,f,_,F){const R=[s[0]-o[0],s[1]-o[1],0],M=[h[0]-o[0],h[1]-o[1],0];if(Re.vec3.length(R)<1e-12||Re.vec3.length(M)<1e-12)return Re.quat.identity(u);const v=Re.vec3.cross([],R,M);Re.vec3.normalize(v,v),Re.vec3.subtract(M,h,o),R[2]=(f-g)*F,M[2]=(_-g)*F;const T=R;return Re.vec3.cross(T,R,M),Re.vec3.normalize(T,T),Re.quat.rotationTo(u,v,T)}function v4(u,o,s=!1){const h=bd(o.zoom),g=function(f,_,F){const R=_.worldSize,M=[f[12],f[13],f[14]],v=Fe(M[1]/R),T=me(M[0]/R),I=Re.mat4.identity([]),S=ae(1,v)*R,P=ae(1,0)*R*Ie(v,_.zoom),D=1/Av(R);let N=P*D;if(F){const q=Vy(_.projection,_.zoom,_.width,_.height,1024);N=D*_.projection.pixelSpaceConversion(_.center.lat,R,q)}const U=A(v,T);Re.vec3.add(U,U,Re.vec3.scale([],Re.vec3.normalize([],U),S*N*M[2]));const Z=function(q){const te=[q[0],q[1],q[2]];let ie=[0,1,0];const de=Re.vec3.cross([],ie,te);return Re.vec3.cross(ie,te,de),Re.vec3.squaredLength(ie)===0&&(ie=[0,1,0],Re.vec3.cross(de,te,ie)),Re.vec3.normalize(de,de),Re.vec3.normalize(ie,ie),Re.vec3.normalize(te,te),[de[0],de[1],de[2],0,ie[0],ie[1],ie[2],0,te[0],te[1],te[2],0,q[0],q[1],q[2],1]}(U);Re.mat4.scale(I,I,[N,N,N*S]),Re.mat4.translate(I,I,[-M[0],-M[1],-M[2]]);const X=Re.mat4.multiply([],_.globeMatrix,Z);return Re.mat4.multiply(X,X,I),Re.mat4.multiply(X,X,f),X}(u,o,s);if(h>0){const f=function(_,F){const R=F.worldSize,M=ae(1,0)*R*Ie(F.center.lat,F.zoom)/Av(R),v=ae(1,F.center.lat)*R,T=Re.mat4.identity([]);return Re.mat4.rotateY(T,T,_e(F.center.lng)),Re.mat4.rotateX(T,T,_e(F.center.lat)),Re.mat4.translate(T,T,[0,0,Er]),Re.mat4.scale(T,T,[M,M,M*v]),Re.mat4.translate(T,T,[F.point.x-.5*R,F.point.y-.5*R,0]),Re.mat4.multiply(T,T,_),Re.mat4.multiply(T,F.globeMatrix,T)}(u,o);return function(_,F,R){const M=(P,D,N)=>{const U=Re.vec3.length(P),Z=Re.vec3.length(D),X=dl(P,D,N);return Re.vec3.scale(X,X,1/Re.vec3.length(X)*Oi(U,Z,N))},v=M([_[0],_[1],_[2]],[F[0],F[1],F[2]],R),T=M([_[4],_[5],_[6]],[F[4],F[5],F[6]],R),I=M([_[8],_[9],_[10]],[F[8],F[9],F[10]],R),S=dl([_[12],_[13],_[14]],[F[12],F[13],F[14]],R);return[v[0],v[1],v[2],0,T[0],T[1],T[2],0,I[0],I[1],I[2],0,S[0],S[1],S[2],1]}(g,f,h)}return g}function U7(u,o,s,h){const g=Mn.projectAabbCorners(h,s);let f=Number.MAX_VALUE,_=-1;for(let M=0;M<g.length;++M){const v=g[M];v[0]=(.5*v[0]+.5)*o.width,v[1]=(.5-.5*v[1])*o.height,v[2]<f&&(_=M,f=v[2])}const F=M=>new K(g[M][0],g[M][1]);let R;switch(_){case 0:case 6:R=[F(1),F(5),F(4),F(7),F(3),F(2),F(1)];break;case 1:case 7:R=[F(0),F(4),F(5),F(6),F(2),F(3),F(0)];break;case 3:case 5:R=[F(1),F(0),F(4),F(7),F(6),F(2),F(1)];break;default:R=[F(1),F(5),F(6),F(7),F(3),F(0),F(1)]}if(At(u,R))return f}const IM=xn([{name:"a_pos_3f",components:3,type:"Float32"}]),kM=xn([{name:"a_color_3f",components:3,type:"Float32"}]),MM=xn([{name:"a_color_4f",components:4,type:"Float32"}]),AM=xn([{name:"a_uv_2f",components:2,type:"Float32"}]),OM=xn([{name:"a_normal_3f",components:3,type:"Float32"}]),LM=xn([{name:"a_normal_matrix0",components:4,type:"Float32"},{name:"a_normal_matrix1",components:4,type:"Float32"},{name:"a_normal_matrix2",components:4,type:"Float32"},{name:"a_normal_matrix3",components:4,type:"Float32"}]),DM=xn([{name:"a_pbr",components:4,type:"Uint16"},{name:"a_heightBasedEmissiveStrength",components:3,type:"Float32"}]),G7={None:0,Model:1,Symbol:2,FillExtrusion:4,All:7};class $y{constructor(o,s,h,g){this.message=(o?`${o}: `:"")+h,g&&(this.identifier=g),s!=null&&s.__line__&&(this.line=s.__line__)}}function H7(u,o){const s=u.indexOf("://")===-1;try{return new URL(u,s&&o?"http://example.com":void 0),!0}catch{return!1}}class q7{constructor(o,s){this.feature=o,this.instancedDataOffset=s,this.instancedDataCount=0,this.rotation=[0,0,0],this.scale=[1,1,1],this.translation=[0,0,0]}}class W7{constructor(){this.instancedDataArray=new Zu,this.instancesEvaluatedElevation=[],this.features=[],this.idToFeaturesIndex={}}}class x4{constructor(o){this.zoom=o.zoom,this.canonical=o.canonical,this.layers=o.layers,this.layerIds=this.layers.map(s=>s.fqid),this.projection=o.projection,this.index=o.index,this.hasZoomDependentProperties=this.layers[0].isZoomDependent(),this.stateDependentLayerIds=this.layers.filter(s=>s.isStateDependent()).map(s=>s.id),this.hasPattern=!1,this.instancesPerModel={},this.validForExaggeration=0,this.maxVerticalOffset=0,this.maxScale=0,this.maxHeight=0,this.lookupDim=this.zoom>this.canonical.z?256:this.zoom>15?75:100,this.instanceCount=0,this.terrainElevationMin=0,this.terrainElevationMax=0,this.validForDEMTile={id:null,timestamp:0},this.modelUris=[],this.modelsRequested=!1,this.activeReplacements=[],this.replacementUpdateTime=0}updateFootprints(o,s){}populate(o,s,h,g){this.tileToMeter=$e(h);const f=this.layers[0]._featureFilter.needGeometry;this.lookup=new Uint8Array(this.lookupDim*this.lookupDim);for(const{feature:_,id:F,index:R,sourceLayerIndex:M}of o){const v=F??(_.properties&&_.properties.hasOwnProperty("id")?_.properties.id:void 0),T=Ot(_,f);if(!this.layers[0]._featureFilter.filter(new _o(this.zoom),T,h))continue;const I={id:v,sourceLayerIndex:M,index:R,geometry:f?T.geometry:st(_,h,g),properties:_.properties,type:_.type,patterns:{}},S=this.addFeature(I,I.geometry,T);S&&s.featureIndex.insert(_,I.geometry,R,M,this.index,this.instancesPerModel[S].instancedDataArray.length,Yt/32)}this.lookup=null}update(o,s,h,g){for(const f in this.instancesPerModel){const _=this.instancesPerModel[f];for(const F in o)_.idToFeaturesIndex.hasOwnProperty(F)&&(this.evaluate(_.features[_.idToFeaturesIndex[F]],o[F],_,!0),this.uploaded=!1)}this.maxHeight=0}updateZoomBasedPaintProperties(){if(!this.hasZoomDependentProperties)return!1;let o=!1;for(const s in this.instancesPerModel){const h=this.instancesPerModel[s];for(const g of h.features){const f=this.layers[0],_=g.feature,F=this.canonical,R=f.paint.get("model-rotation").evaluate(_,{},F),M=f.paint.get("model-scale").evaluate(_,{},F),v=f.paint.get("model-translation").evaluate(_,{},F);Re.vec3.exactEquals(g.rotation,R)&&Re.vec3.exactEquals(g.scale,M)&&Re.vec3.exactEquals(g.translation,v)||(this.evaluate(g,g.featureStates,h,!0),o=!0)}}return o}updateReplacement(o,s,h,g){if(s.updateTime===this.replacementUpdateTime)return!1;this.replacementUpdateTime=s.updateTime;const f=s.getReplacementRegionsForTile(o.toUnwrapped(),!0);if(qv(this.activeReplacements,f))return!1;this.activeReplacements=f;let _=!1;for(const F in this.instancesPerModel){const R=this.instancesPerModel[F],M=R.instancedDataArray;for(const v of R.features){const T=v.instancedDataOffset,I=v.instancedDataCount;for(let S=0;S<I;S++){const P=16*(S+T);let D=M.float32[P+0];const N=D>Yt;D=N?D-Yt:D;const U=Math.floor(D),Z=M.float32[P+1];let X=!1;for(const q of this.activeReplacements)if(!cw(q,h,G7.Model,g)&&!(q.min.x>U||U>q.max.x||q.min.y>Z||Z>q.max.y)&&(X=pw(fw(U,Z,o.canonical,q.footprintTileId.canonical),q.footprint),X))break;M.float32[P]=X?D+Yt:D,_=_||X!==N}}}return _}isEmpty(){for(const o in this.instancesPerModel)if(this.instancesPerModel[o].instancedDataArray.length!==0)return!1;return!0}uploadPending(){return!this.uploaded}upload(o){if(!this.uploaded)for(const s in this.instancesPerModel){const h=this.instancesPerModel[s];h.instancedDataArray.length<0||h.instancedDataArray.length===0||(h.instancedDataBuffer?h.instancedDataBuffer.updateData(h.instancedDataArray):h.instancedDataBuffer=o.createVertexBuffer(h.instancedDataArray,LM.members,!0,void 0,this.instanceCount))}this.uploaded=!0}destroy(){for(const s in this.instancesPerModel){const h=this.instancesPerModel[s];h.instancedDataArray.length!==0&&h.instancedDataBuffer&&h.instancedDataBuffer.destroy()}const o=this.layers[0].modelManager;if(o&&this.modelUris)for(const s of this.modelUris)o.removeModel(s,"")}addFeature(o,s,h){const g=this.layers[0],f=g.layout.get("model-id").evaluate(h,{},this.canonical);if(!f)return an(`modelId is not evaluated for layer ${g.id} and it is not going to get rendered.`),f;H7(f,!1)&&(this.modelUris.includes(f)||this.modelUris.push(f)),this.instancesPerModel[f]||(this.instancesPerModel[f]=new W7);const _=this.instancesPerModel[f],F=_.instancedDataArray,R=new q7(h,F.length);for(const M of s)for(const v of M){if(v.x<0||v.x>=Yt||v.y<0||v.y>=Yt)continue;const T=(this.lookupDim-1)/Yt,I=this.lookupDim*(v.y*T|0)+v.x*T|0;if(this.lookup){if(this.lookup[I]!==0)continue;this.lookup[I]=1}this.instanceCount++;const S=F.length;F.resize(S+1),_.instancesEvaluatedElevation.push(0),F.float32[16*S]=v.x,F.float32[16*S+1]=v.y}return R.instancedDataCount=_.instancedDataArray.length-R.instancedDataOffset,R.instancedDataCount>0&&(o.id&&(_.idToFeaturesIndex[o.id]=_.features.length),_.features.push(R),this.evaluate(R,{},_,!1)),f}getModelUris(){return this.modelUris}evaluate(o,s,h,g){const f=this.layers[0],_=o.feature,F=this.canonical,R=o.rotation=f.paint.get("model-rotation").evaluate(_,s,F),M=o.scale=f.paint.get("model-scale").evaluate(_,s,F),v=o.translation=f.paint.get("model-translation").evaluate(_,s,F),T=f.paint.get("model-color").evaluate(_,s,F);T.a=f.paint.get("model-color-mix-intensity").evaluate(_,s,F);const I=[];this.maxVerticalOffset<v[2]&&(this.maxVerticalOffset=v[2]),this.maxScale=Math.max(Math.max(this.maxScale,M[0]),Math.max(M[1],M[2])),$7(I,R,M);const S=Math.round(100*T.a)+T.b/1.05;for(let P=0;P<o.instancedDataCount;++P){const D=o.instancedDataOffset+P,N=16*D,U=h.instancedDataArray.float32;let Z=0;g&&(Z=U[N+6]-h.instancesEvaluatedElevation[D]);const X=0|U[N+1];U[N]=(0|U[N])+T.r/1.05,U[N+1]=X+T.g/1.05,U[N+2]=S,U[N+3]=1/(F.z>10?this.tileToMeter:$e(F,X)),U[N+4]=v[0],U[N+5]=v[1],U[N+6]=v[2]+Z,U[N+7]=I[0],U[N+8]=I[1],U[N+9]=I[2],U[N+10]=I[4],U[N+11]=I[5],U[N+12]=I[6],U[N+13]=I[8],U[N+14]=I[9],U[N+15]=I[10],h.instancesEvaluatedElevation[D]=v[2]}}}let K7,Z7;hi(x4,"ModelBucket",{omit:["layers"]}),hi(W7,"PerModelAttributes"),hi(q7,"ModelFeature");const nh=64,Wf={CoordinateSpaceTile:1,CoordinateSpaceYUp:2,HasMapboxMeshFeatures:4,HasMeshoptCompression:8};function Q7(u,o,s,h,g,f,_,F,R,M=!1){const v=s.zoom,T=s.project(h),I=Ie(h.lat,v),S=1/I;Re.mat4.identity(u),Re.mat4.translate(u,u,[T.x+_[0]*S,T.y+_[1]*S,_[2]]);let P=1,D=1;const N=s.worldSize;if(M){if(s.projection.name==="mercator"){let q=0;s.elevation&&(q=s.elevation.getAtPointOrZero(new Qe(T.x/N,T.y/N),0));const te=Re.vec4.transformMat4([],[T.x,T.y,q,1],s.projMatrix)[3]/s.cameraToCenterDistance;P=te,D=te*Ie(s.center.lat,v)}else if(s.projection.name==="globe"){const q=v4(u,s),te=Re.mat4.multiply([],s.projMatrix,q),ie=[0,0,0,1];Re.vec4.transformMat4(ie,ie,te);const de=ie[3]/s.cameraToCenterDistance,Ee=bd(v),be=s.projection.pixelsPerMeter(h.lat,N)*Ie(h.lat,v),xe=s.projection.pixelsPerMeter(s.center.lat,N)*Ie(s.center.lat,v);P=de/Oi(be,Me(s.center.lat),Ee),D=de*I/be,P*=xe,D*=xe}}else P=S;Re.mat4.scale(u,u,[P,P,D]);const U=[...u],Z=o.orientation,X=[];if($7(X,[Z[0]+g[0],Z[1]+g[1],Z[2]+g[2]],f),Re.mat4.multiply(u,U,X),F&&s.elevation){let q=0;const te=[];if(R&&s.elevation){q=function(Ee,be,xe,Ve,ve){const Be=be.elevation;if(!Be)return 0;const We=Mn.projectAabbCorners(xe,Ve),Ke=ae(1,ve.lat)*be.worldSize,tt=function(Ci,si){const pi=[0,0,1],$i=[{corners:[0,1,3,2],dotProductWithUp:0},{corners:[1,5,2,6],dotProductWithUp:0},{corners:[0,4,1,5],dotProductWithUp:0},{corners:[2,6,3,7],dotProductWithUp:0},{corners:[4,7,5,6],dotProductWithUp:0},{corners:[0,3,4,7],dotProductWithUp:0}];for(const Qi of $i){const Xi=Ci[Qi.corners[0]],Zi=Ci[Qi.corners[1]],on=Ci[Qi.corners[2]],en=[Zi[0]-Xi[0],Zi[1]-Xi[1],si*(Zi[2]-Xi[2])],Qn=Re.vec3.cross(en,en,[on[0]-Xi[0],on[1]-Xi[1],si*(on[2]-Xi[2])]);Re.vec3.normalize(Qn,Qn),Qi.dotProductWithUp=Re.vec3.dot(Qn,pi)}return $i.sort((Qi,Xi)=>Qi.dotProductWithUp-Xi.dotProductWithUp),$i[0].corners}(We,Ke),ht=We[tt[0]],mt=We[tt[1]],lt=We[tt[2]],Pt=We[tt[3]],Nt=Be.getAtPointOrZero(new Qe(ht[0]/be.worldSize,ht[1]/be.worldSize),0),wt=Be.getAtPointOrZero(new Qe(mt[0]/be.worldSize,mt[1]/be.worldSize),0),ci=Be.getAtPointOrZero(new Qe(lt[0]/be.worldSize,lt[1]/be.worldSize),0),Jt=Be.getAtPointOrZero(new Qe(Pt[0]/be.worldSize,Pt[1]/be.worldSize),0),qt=(Nt+Jt)/2,zt=(wt+ci)/2;return qt>zt?wt<ci?Ny(Ee,mt,Pt,ht,wt,Jt,Nt,Ke):Ny(Ee,lt,ht,Pt,ci,Nt,Jt,Ke):Nt<Jt?Ny(Ee,ht,mt,lt,Nt,wt,ci,Ke):Ny(Ee,Pt,lt,mt,Jt,ci,wt,Ke),Math.max(qt,zt)}(te,s,o.aabb,u,h);const ie=Re.mat4.fromQuat([],te),de=Re.mat4.multiply([],ie,X);Re.mat4.multiply(u,U,de)}else q=s.elevation.getAtPointOrZero(new Qe(T.x/N,T.y/N),0);q!==0&&(u[14]+=q)}}function Um(u,o,s=!1){u.uploaded||(u.gfxTexture=new _4(o,u.image,s?o.gl.R8:o.gl.RGBA8,{useMipmap:u.sampler.minFilter>=o.gl.NEAREST_MIPMAP_NEAREST}),u.uploaded=!0,u.image=null)}function BM(u,o,s){u.indexBuffer=o.createIndexBuffer(u.indexArray,!1,!0),u.vertexBuffer=o.createVertexBuffer(u.vertexArray,IM.members,!1,!0),u.normalArray&&(u.normalBuffer=o.createVertexBuffer(u.normalArray,OM.members,!1,!0)),u.texcoordArray&&(u.texcoordBuffer=o.createVertexBuffer(u.texcoordArray,AM.members,!1,!0)),u.colorArray&&(u.colorBuffer=o.createVertexBuffer(u.colorArray,(u.colorArray.bytesPerElement===12?kM:MM).members,!1,!0)),u.featureArray&&(u.pbrBuffer=o.createVertexBuffer(u.featureArray,DM.members,!0)),u.segments=Po.simpleSegment(0,0,u.vertexArray.length,u.indexArray.length);const h=u.material;h.pbrMetallicRoughness.baseColorTexture&&Um(h.pbrMetallicRoughness.baseColorTexture,o),h.pbrMetallicRoughness.metallicRoughnessTexture&&Um(h.pbrMetallicRoughness.metallicRoughnessTexture,o),h.normalTexture&&Um(h.normalTexture,o),h.occlusionTexture&&Um(h.occlusionTexture,o,s),h.emissionTexture&&Um(h.emissionTexture,o)}function w4(u,o,s){if(u.meshes)for(const h of u.meshes)BM(h,o,s);if(u.children)for(const h of u.children)w4(h,o,s)}function Uy(u){if(u.meshes)for(const o of u.meshes)o.indexArray.destroy(),o.vertexArray.destroy(),o.colorArray&&o.colorArray.destroy(),o.normalArray&&o.normalArray.destroy(),o.texcoordArray&&o.texcoordArray.destroy(),o.featureArray&&o.featureArray.destroy();if(u.children)for(const o of u.children)Uy(o)}function F4(u){if(u.meshes)for(const s of u.meshes)s.vertexBuffer&&(s.vertexBuffer.destroy(),s.indexBuffer.destroy(),s.normalBuffer&&s.normalBuffer.destroy(),s.texcoordBuffer&&s.texcoordBuffer.destroy(),s.colorBuffer&&s.colorBuffer.destroy(),s.pbrBuffer&&s.pbrBuffer.destroy(),s.segments.destroy(),s.material&&((o=s.material).pbrMetallicRoughness.baseColorTexture&&o.pbrMetallicRoughness.baseColorTexture.gfxTexture&&o.pbrMetallicRoughness.baseColorTexture.gfxTexture.destroy(),o.pbrMetallicRoughness.metallicRoughnessTexture&&o.pbrMetallicRoughness.metallicRoughnessTexture.gfxTexture&&o.pbrMetallicRoughness.metallicRoughnessTexture.gfxTexture.destroy(),o.normalTexture&&o.normalTexture.gfxTexture&&o.normalTexture.gfxTexture.destroy(),o.emissionTexture&&o.emissionTexture.gfxTexture&&o.emissionTexture.gfxTexture.destroy(),o.occlusionTexture&&o.occlusionTexture.gfxTexture&&o.occlusionTexture.gfxTexture.destroy()));var o;if(u.children)for(const s of u.children)F4(s)}class Kf{constructor(o,s,h){this._demTile=o,this._dem=this._demTile.dem,this._scale=s,this._offset=h}static create(o,s,h){const g=h||o.findDEMTileFor(s);if(!g||!g.dem)return;const f=g.dem,_=g.tileID,F=1<<s.canonical.z-_.canonical.z;return new Kf(g,f.dim/Yt/F,[(s.canonical.x/F-_.canonical.x)*f.dim,(s.canonical.y/F-_.canonical.y)*f.dim])}tileCoordToPixel(o,s){const h=s*this._scale+this._offset[1],g=Math.floor(o*this._scale+this._offset[0]),f=Math.floor(h);return new K(g,f)}getElevationAt(o,s,h,g){const f=o*this._scale+this._offset[0],_=s*this._scale+this._offset[1],F=Math.floor(f),R=Math.floor(_),M=this._dem;return g=!!g,h?Oi(Oi(M.get(F,R,g),M.get(F,R+1,g),_-R),Oi(M.get(F+1,R,g),M.get(F+1,R+1,g),_-R),f-F):M.get(F,R,g)}getElevationAtPixel(o,s,h){return this._dem.get(o,s,!!h)}getMeterToDEM(o){return(1<<this._demTile.tileID.canonical.z)*ae(1,o)*this._dem.stride}}const C4=new Float32Array(262144),oh=new Uint8Array(262144);function X7(u){let o=0;if(u.meshes)for(const s of u.meshes)o=Math.max(o,s.aabb.max[2]);if(u.children)for(const s of u.children)o=Math.max(o,X7(s));return o}function J7(u,o,s){if(u.meshes)for(const h of u.meshes){if(h.aabb.min[0]===1/0)continue;const g=Mn.applyTransform(h.aabb,u.matrix);s.insert(o,g.min[0],g.min[1],g.max[0],g.max[1])}if(u.children)for(const h of u.children)J7(h,o,s)}const Y7=["","wall","door","roof","window","lamp","logo"];class e8{constructor(o){this.node=o,this.evaluatedRMEA=[[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[.4,1,0,1],[1,0,0,1],[1,0,0,1]],this.hiddenByReplacement=!1,this.evaluatedScale=[1,1,1],this.evaluatedColor=[],this.emissionHeightBasedParams=[],this.cameraCollisionOpacity=1,this.feature={type:"Point",id:o.id,geometry:[],properties:{height:X7(o)}},this.aabb=this._getLocalBounds()}_getLocalBounds(){if(!this.node.meshes)return new Mn([1/0,1/0,1/0],[-1/0,-1/0,-1/0]);if(!this.aabb){let o=0;const s=new Mn([1/0,1/0,1/0],[-1/0,-1/0,-1/0]);for(const h of this.node.meshes)this.node.lightMeshIndex!==o&&(h.transformedAabb=Mn.applyTransformFast(h.aabb,this.node.matrix),s.encapsulate(h.transformedAabb)),o++;this.aabb=s}return this.aabb}}class Gy{constructor(o,s,h,g,f,_,F){this.id=h,this.layers=o,this.layerIds=this.layers.map(R=>R.fqid),this.stateDependentLayerIds=this.layers.filter(R=>R.isStateDependent()).map(R=>R.id),this.modelTraits|=Wf.CoordinateSpaceTile,this.uploaded=!1,this.hasPattern=!1,g&&(this.modelTraits|=Wf.HasMapboxMeshFeatures),f&&(this.modelTraits|=Wf.HasMeshoptCompression),this.zoom=-1,this.terrainExaggeration=1,this.projection={name:"mercator"},this.replacementUpdateTime=0,this.elevationReadFromZ=255,this.brightness=_,this.dirty=!0,this.needsUpload=!1,this.nodesInfo=[];for(const R of s)this.nodesInfo.push(new e8(R)),J7(R,F.featureIndexArray.length,F.grid),F.featureIndexArray.emplaceBack(this.nodesInfo.length-1,0,F.bucketLayerIDs.length-1,0)}updateFootprints(o,s){for(const h of this.getNodesInfo()){const g=h.node;g.footprint&&s.push({footprint:g.footprint,id:o})}}update(o){const s=Object.keys(o).length!==0;if(s&&!this.stateDependentLayers.length)return;const h=s?this.stateDependentLayers:this.layers;for(const g of h)this.evaluate(g,o)}populate(){console.log("populate 3D model bucket")}uploadPending(){return!this.uploaded||this.needsUpload}upload(o){if(!this.needsUpload)return;const s=this.getNodesInfo();for(const h of s){const g=h.node;this.uploaded?this.updatePbrBuffer(g):w4(g,o,!0)}for(const h of s)Uy(h.node);this.uploaded=!0,this.needsUpload=!1}updatePbrBuffer(o){let s=!1;if(!o.meshes)return s;for(const h of o.meshes)h.pbrBuffer&&(h.pbrBuffer.updateData(h.featureArray),s=!0);return s}needsReEvaluation(o,s,h){const g=o.transform.projectionOptions,f=o.style.getBrightness(),_=this.brightness!==f;return!!(!this.uploaded||this.dirty||g.name!==this.projection.name||Gm(h.paint.get("model-color").value,_)||Gm(h.paint.get("model-color-mix-intensity").value,_)||Gm(h.paint.get("model-roughness").value,_)||Gm(h.paint.get("model-emissive-strength").value,_)||Gm(h.paint.get("model-height-based-emissive-strength-multiplier").value,_))&&(this.projection=g,this.brightness=f,!0)}evaluateScale(o,s){if(o.transform.zoom===this.zoom)return;this.zoom=o.transform.zoom;const h=this.getNodesInfo(),g=this.id.canonical;for(const f of h){const _=f.feature;f.evaluatedScale=s.paint.get("model-scale").evaluate(_,{},g)}}evaluate(o,s){const h=this.getNodesInfo();for(const g of h){if(!g.node.meshes)continue;const f=g.feature,_=s&&s[f.id],F=g.node.meshes&&g.node.meshes[0].featureData,R=g.evaluatedColor[2],M=g.evaluatedRMEA[2],v=this.id.canonical;if(g.hasTranslucentParts=!1,F){for(let T=0;T<Y7.length;T++){const I=Y7[T];I.length&&(f.properties.part=I);const S=o.paint.get("model-color").evaluate(f,_,v).toRenderColor(null),P=o.paint.get("model-color-mix-intensity").evaluate(f,_,v);g.evaluatedColor[T]=[S.r,S.g,S.b,P],g.evaluatedRMEA[T][0]=o.paint.get("model-roughness").evaluate(f,_,v),g.evaluatedRMEA[T][2]=o.paint.get("model-emissive-strength").evaluate(f,_,v),g.evaluatedRMEA[T][3]=S.a,g.emissionHeightBasedParams[T]=o.paint.get("model-height-based-emissive-strength-multiplier").evaluate(f,_,v),!g.hasTranslucentParts&&S.a<1&&(g.hasTranslucentParts=!0)}delete f.properties.part,zM(g,R!==g.evaluatedColor[2]||M!==g.evaluatedRMEA[2],this.modelTraits)}else g.evaluatedRMEA[0][2]=o.paint.get("model-emissive-strength").evaluate(f,_,v);g.evaluatedScale=o.paint.get("model-scale").evaluate(f,_,v),this.updatePbrBuffer(g.node)||(this.needsUpload=!0)}this.dirty=!1}elevationUpdate(o,s,h,g){const f=o.findDEMTileFor(h);if(f&&(f.tileID.canonical!==this.terrainTile||s!==this.terrainExaggeration)){if(f.dem&&f.tileID.overscaledZ!==this.elevationReadFromZ){this.elevationReadFromZ=f.tileID.overscaledZ;const _=Kf.create(o,h,f);if(!_)return;this.modelTraits&Wf.HasMapboxMeshFeatures&&this.updateDEM(o,_,h,g);for(const F of this.getNodesInfo()){const R=F.node;if(!R.footprint||!R.footprint.vertices||!R.footprint.vertices.length)continue;const M=R.footprint.vertices;let v=_.getElevationAt(M[0].x,M[0].y,!0,!0);for(let T=1;T<M.length;T++)v=Math.min(v,_.getElevationAt(M[T].x,M[T].y,!0,!0));R.elevation=v}}this.terrainTile=f.tileID.canonical,this.terrainExaggeration=s}}updateDEM(o,s,h,g){let f=s._dem._modifiedForSources[g];if(f===void 0&&(s._dem._modifiedForSources[g]=[],f=s._dem._modifiedForSources[g]),f.includes(h.canonical))return;const _=s._dem.dim;f.push(h.canonical);let F=!1;for(const R of this.getNodesInfo()){const M=R.node;if(!M.footprint||!M.footprint.grid)continue;const v=M.footprint.grid,T=s.tileCoordToPixel(v.min.x,v.min.y),I=s.tileCoordToPixel(v.max.x,v.max.y),S=Math.min(Math.min(_-I.y,T.x),Math.min(T.y,_-I.x));if(S<0)continue;const P=nt(S,2,5);let D=Math.max(0,T.x-P),N=Math.max(0,T.y-P),U=Math.min(I.x+P,_-1),Z=Math.min(I.y+P,_-1);for(let ie=N;ie<=Z;++ie)for(let de=D;de<=U;++de)oh[ie*_+de]=255;let X=0,q=0;for(let ie=0;ie<v.cellsY;++ie)for(let de=0;de<v.cellsX;++de){if(!v.cells[ie*v.cellsX+de])continue;const Ee=s.tileCoordToPixel(v.min.x+de/v.xScale,v.min.y+ie/v.yScale),be=s.tileCoordToPixel(v.min.x+(de+1)/v.xScale,v.min.y+(ie+1)/v.yScale);for(let xe=Ee.y;xe<=Math.min(be.y+1,_-1);++xe)for(let Ve=Ee.x;Ve<=Math.min(be.x+1,_-1);++Ve)oh[xe*_+Ve]===255&&(oh[xe*_+Ve]=0,X+=s.getElevationAtPixel(Ve,xe),q++)}const te=X/q;D=Math.max(1,T.x-P),N=Math.max(1,T.y-P),U=Math.min(I.x+P,_-2),Z=Math.min(I.y+P,_-2),F=!0;for(let ie=N;ie<=Z;++ie)for(let de=D;de<=U;++de)oh[ie*_+de]===0&&(C4[ie*_+de]=s._dem.set(de,ie,te));for(let ie=1;ie<P;++ie){D=Math.max(1,T.x-ie),N=Math.max(1,T.y-ie),U=Math.min(I.x+ie,_-2),Z=Math.min(I.y+ie,_-2);for(let de=N;de<=Z;++de)for(let Ee=D;Ee<=U;++Ee){const be=de*_+Ee;if(oh[be]===255){let xe=0,Ve=0,ve=-1,Be=-1;for(let We=-1;We<=1;++We)for(let Ke=-1;Ke<=1;++Ke){const tt=(de+We)*_+Ee+Ke;if(oh[tt]>=ie)continue;const ht=C4[tt],mt=Math.abs(ht);mt>Ve&&(xe=ht,Ve=mt,ve=Ke,Be=We)}if(Ve>.1){const We=1-(ie+.5*Math.abs(ve*Be))/P;let Ke=s._dem.get(Ee,de)+xe*We;const tt=s._dem.get(Ee+ve,de+Be),ht=s._dem.get(Ee-ve,de-Be,!0);(Ke-tt)*(Ke-ht)>0&&(Ke=(tt+ht)/2),C4[be]=s._dem.set(Ee,de,Ke),oh[be]=ie}}}}}F&&(s._demTile.needsDEMTextureUpload=!0,s._dem._timestamp=oi.now())}getNodesInfo(){return this.nodesInfo}destroy(){const o=this.getNodesInfo();for(const s of o)Uy(s.node),F4(s.node)}isEmpty(){return!this.nodesInfo.length}updateReplacement(o,s){if(s.updateTime===this.replacementUpdateTime)return;this.replacementUpdateTime=s.updateTime;const h=s.getReplacementRegionsForTile(o.toUnwrapped()),g=this.getNodesInfo();for(let f=0;f<this.nodesInfo.length;f++){const _=g[f].node;g[f].hiddenByReplacement=!!_.footprint&&!h.find(F=>F.footprint===_.footprint)}}getHeightAtTileCoord(o,s){const h=this.getNodesInfo(),g=[],f=[0,0,0],_=Re.mat4.identity([]);for(let F=0;F<this.nodesInfo.length;F++){const R=h[F],M=R.node.meshes[0],v=M.transformedAabb;if(o<v.min[0]||s<v.min[1]||o>v.max[0]||s>v.max[1])continue;if(R.node.hidden===!0)return{height:1/0,maxHeight:R.feature.properties.height,hidden:!1,verticalScale:R.evaluatedScale[2]};Re.mat4.invert(_,R.node.matrix),f[0]=o,f[1]=s,Re.vec3.transformMat4(f,f,_);const T=(f[0]-M.aabb.min[0])/(M.aabb.max[0]-M.aabb.min[0])*nh|0,I=Math.min(63,(f[1]-M.aabb.min[1])/(M.aabb.max[1]-M.aabb.min[1])*nh|0)*nh+Math.min(63,T),S=M.heightmap[I];if(!(S<0&&R.node.footprint))return R.hiddenByReplacement?void 0:{height:S,maxHeight:R.feature.properties.height,hidden:!1,verticalScale:R.evaluatedScale[2]};if(R.node.footprint.grid.query(new K(o,s),new K(o,s),g),g.length>0)return{height:void 0,maxHeight:R.feature.properties.height,hidden:R.hiddenByReplacement,verticalScale:R.evaluatedScale[2]}}}}function Gm(u,o){return!u.isLightConstant&&o}function jM(u,o,s,h,g,f,_,F){let R=(61440&o|(61440&o)>>4)>>8,M=(3840&o|(3840&o)>>4)>>4,v=240&o|(240&o)>>4;s[3]>0&&(R=Oi(R,255*s[0],s[3]),M=Oi(M,255*s[1],s[3]),v=Oi(v,255*s[2],s[3]));const T=R<<8|M,I=v<<8|Math.floor(255*h[3]),S=function(ie){const de=nt(ie,0,2);return Math.min(Math.round(.5*de*255),255)}(h[2])<<8|15*h[0]<<4|15*h[1],P=nt(g[0],0,1),D=nt(g[1],0,1),N=nt(g[2],0,1),U=nt(g[3],0,1);let Z,X,q,te;if(P!==D&&_!==f&&D!==P){const ie=_-f;X=1/(ie*(D-P)),q=-(f+ie*P)/(ie*(D-P));const de=nt(g[4],-1,1);te=Math.pow(10,de),Z=255*N<<8|255*U}else Z=65535,X=0,q=1,te=1;if(u.emplaceBack(T,I,S,Z,X,q,te),F){const ie=F.length;F.clear();for(let de=0;de<ie;de++)F.emplaceBack(T,I,S,Z,X,q,te)}}function zM(u,o,s){const h=u.node;let g=0;const f=s&Wf.HasMeshoptCompression;for(const _ of h.meshes){if(h.lights&&h.lightMeshIndex===g||!_.featureData)continue;_.featureArray=new Mf,_.featureArray.reserve(_.featureData.length);let F=o;for(const R of _.featureData){const M=f?65535&R:R>>16&65535,v=f?R>>16&65535:65535&R,T=(15&v)<8?15&v:0,I=u.evaluatedRMEA[T],S=u.evaluatedColor[T],P=u.emissionHeightBasedParams[T];let D;if(F&&T===2&&h.lights&&(D=new Mf,D.resize(10*h.lights.length)),jM(_.featureArray,M,S,I,P,_.aabb.min[2],_.aabb.max[2],D),D&&F){F=!1;const N=h.meshes[h.lightMeshIndex];N.featureArray=D,N.featureArray._trim()}}_.featureArray._trim(),g++}}hi(Gy,"Tiled3dModelBucket",{omit:["layers"]}),hi(e8,"Tiled3dModelFeature");const VM=["id","tile","layer","source","sourceLayer","state"];class Hm{constructor(o,s,h,g,f){this.type="Feature",this._vectorTileFeature=o,this._z=s,this._x=h,this._y=g,this.properties=o.properties,this.id=f}clone(){const o=new Hm(this._vectorTileFeature,this._z,this._x,this._y,this.id);return this.state&&(o.state={...this.state}),this.layer&&(o.layer={...this.layer}),this.namespace&&(o.namespace=this.namespace),o}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(o){this._geometry=o}toJSON(){const o={type:"Feature",state:void 0,geometry:this.geometry,properties:this.properties};for(const s of VM)this[s]!==void 0&&(o[s]=this[s]);return o}}function t8(u,o,s,h){const g=1<<u.z;o.lat=Fe((h/Yt+u.y)/g),o.lng=me((s/Yt+u.x)/g)}const NM={circle:class extends Hr{constructor(u,o,s,h){super(u,{layout:Rn||(Rn=new io({"circle-sort-key":new xi(ft.layout_circle["circle-sort-key"]),visibility:new Kt(ft.layout_circle.visibility)})),paint:ao||(ao=new io({"circle-radius":new xi(ft.paint_circle["circle-radius"]),"circle-color":new xi(ft.paint_circle["circle-color"]),"circle-blur":new xi(ft.paint_circle["circle-blur"]),"circle-opacity":new xi(ft.paint_circle["circle-opacity"]),"circle-translate":new Kt(ft.paint_circle["circle-translate"]),"circle-translate-anchor":new Kt(ft.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Kt(ft.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Kt(ft.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new xi(ft.paint_circle["circle-stroke-width"]),"circle-stroke-color":new xi(ft.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new xi(ft.paint_circle["circle-stroke-opacity"]),"circle-emissive-strength":new Kt(ft.paint_circle["circle-emissive-strength"])}))},o,s,h)}createBucket(u){return new jt(u)}queryRadius(u){const o=u;return Wn("circle-radius",this,o)+Wn("circle-stroke-width",this,o)+nn(this.paint.get("circle-translate"))}queryIntersectsFeature(u,o,s,h,g,f,_,F){const R=zn(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),f.angle,u.pixelToTileUnitsFactor),M=this.paint.get("circle-radius").evaluate(o,s)+this.paint.get("circle-stroke-width").evaluate(o,s);return A5(u,h,f,_,F,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",R,M)}getProgramIds(){return["circle"]}getDefaultProgramParams(u,o,s){const h=M5(this);return{config:new Ks(this,{zoom:o,lut:s}),defines:h,overrideFog:!1}}},heatmap:class extends Hr{createBucket(u){return new L5(u)}constructor(u,o,s,h){super(u,{layout:D5||(D5=new io({visibility:new Kt(ft.layout_heatmap.visibility)})),paint:B5||(B5=new io({"heatmap-radius":new xi(ft.paint_heatmap["heatmap-radius"]),"heatmap-weight":new xi(ft.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Kt(ft.paint_heatmap["heatmap-intensity"]),"heatmap-color":new cd(ft.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Kt(ft.paint_heatmap["heatmap-opacity"])}))},o,s,h),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(u){u==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Fm({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(u){return Wn("heatmap-radius",this,u)}queryIntersectsFeature(u,o,s,h,g,f,_,F){const R=this.paint.get("heatmap-radius").evaluate(o,s);return A5(u,h,f,_,F,!0,!0,new K(0,0),R)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getDefaultProgramParams(u,o,s){return u==="heatmap"?{config:new Ks(this,{zoom:o,lut:s}),overrideFog:!1}:{}}},hillshade:class extends Hr{constructor(u,o,s,h){super(u,{layout:j5||(j5=new io({visibility:new Kt(ft.layout_hillshade.visibility)})),paint:z5||(z5=new io({"hillshade-illumination-direction":new Kt(ft.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Kt(ft.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Kt(ft.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Kt(ft.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Kt(ft.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Kt(ft.paint_hillshade["hillshade-accent-color"]),"hillshade-emissive-strength":new Kt(ft.paint_hillshade["hillshade-emissive-strength"])}))},o,s,h)}shouldRedrape(){return this.hasOffscreenPass()&&this.paint.get("hillshade-illumination-anchor")==="viewport"}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}getDefaultProgramParams(u,o,s){return{overrideFog:!1}}},fill:class extends Hr{constructor(u,o,s,h){super(u,{layout:W5||(W5=new io({"fill-sort-key":new xi(ft.layout_fill["fill-sort-key"]),visibility:new Kt(ft.layout_fill.visibility),"fill-elevation-reference":new Kt(ft.layout_fill["fill-elevation-reference"])})),paint:K5||(K5=new io({"fill-antialias":new Kt(ft.paint_fill["fill-antialias"]),"fill-opacity":new xi(ft.paint_fill["fill-opacity"]),"fill-color":new xi(ft.paint_fill["fill-color"]),"fill-outline-color":new xi(ft.paint_fill["fill-outline-color"]),"fill-translate":new Kt(ft.paint_fill["fill-translate"]),"fill-translate-anchor":new Kt(ft.paint_fill["fill-translate-anchor"]),"fill-pattern":new xi(ft.paint_fill["fill-pattern"]),"fill-emissive-strength":new Kt(ft.paint_fill["fill-emissive-strength"]),"fill-z-offset":new xi(ft.paint_fill["fill-z-offset"])}))},o,s,h)}getProgramIds(){const u=this.paint.get("fill-pattern"),o=u&&u.constantOr(1),s=[o?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&s.push(o&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),s}getDefaultProgramParams(u,o,s){return{config:new Ks(this,{zoom:o,lut:s}),overrideFog:!1}}recalculate(u,o){super.recalculate(u,o);const s=this.paint._values["fill-outline-color"];s.value.kind==="constant"&&s.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(u){return new Vv(u)}queryRadius(){return nn(this.paint.get("fill-translate"))}queryIntersectsFeature(u,o,s,h,g,f){return!u.queryGeometry.isAboveHorizon&&bi(Gn(u.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),f.angle,u.pixelToTileUnitsFactor),h)}isTileClipped(){return!0}is3D(){return this.paint.get("fill-z-offset").constantOr(1)!==0}},"fill-extrusion":class extends Hr{constructor(u,o,s,h){super(u,{layout:Pw||(Pw=new io({visibility:new Kt(ft["layout_fill-extrusion"].visibility),"fill-extrusion-edge-radius":new Kt(ft["layout_fill-extrusion"]["fill-extrusion-edge-radius"])})),paint:Iw||(Iw=new io({"fill-extrusion-opacity":new Kt(ft["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new xi(ft["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Kt(ft["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Kt(ft["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new xi(ft["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new xi(ft["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new xi(ft["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-height-alignment":new Kt(ft["paint_fill-extrusion"]["fill-extrusion-height-alignment"]),"fill-extrusion-base-alignment":new Kt(ft["paint_fill-extrusion"]["fill-extrusion-base-alignment"]),"fill-extrusion-vertical-gradient":new Kt(ft["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new Kt(ft["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new Kt(ft["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"]),"fill-extrusion-ambient-occlusion-wall-radius":new Kt(ft["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-wall-radius"]),"fill-extrusion-ambient-occlusion-ground-radius":new Kt(ft["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-ground-radius"]),"fill-extrusion-ambient-occlusion-ground-attenuation":new Kt(ft["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-ground-attenuation"]),"fill-extrusion-flood-light-color":new Kt(ft["paint_fill-extrusion"]["fill-extrusion-flood-light-color"]),"fill-extrusion-flood-light-intensity":new Kt(ft["paint_fill-extrusion"]["fill-extrusion-flood-light-intensity"]),"fill-extrusion-flood-light-wall-radius":new xi(ft["paint_fill-extrusion"]["fill-extrusion-flood-light-wall-radius"]),"fill-extrusion-flood-light-ground-radius":new xi(ft["paint_fill-extrusion"]["fill-extrusion-flood-light-ground-radius"]),"fill-extrusion-flood-light-ground-attenuation":new Kt(ft["paint_fill-extrusion"]["fill-extrusion-flood-light-ground-attenuation"]),"fill-extrusion-vertical-scale":new Kt(ft["paint_fill-extrusion"]["fill-extrusion-vertical-scale"]),"fill-extrusion-rounded-roof":new Kt(ft["paint_fill-extrusion"]["fill-extrusion-rounded-roof"]),"fill-extrusion-cutoff-fade-range":new Kt(ft["paint_fill-extrusion"]["fill-extrusion-cutoff-fade-range"]),"fill-extrusion-emissive-strength":new xi(ft["paint_fill-extrusion"]["fill-extrusion-emissive-strength"]),"fill-extrusion-line-width":new xi(ft["paint_fill-extrusion"]["fill-extrusion-line-width"]),"fill-extrusion-cast-shadows":new Kt(ft["paint_fill-extrusion"]["fill-extrusion-cast-shadows"])}))},o,s,h),this._stats={numRenderedVerticesInShadowPass:0,numRenderedVerticesInTransparentPass:0}}createBucket(u){return new xy(u)}queryRadius(){return nn(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}hasShadowPass(){return this.paint.get("fill-extrusion-cast-shadows")}cutoffRange(){return this.paint.get("fill-extrusion-cutoff-fade-range")}canCastShadows(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}queryIntersectsFeature(u,o,s,h,g,f,_,F,R){const M=zn(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),f.angle,u.pixelToTileUnitsFactor),v=this.paint.get("fill-extrusion-height").evaluate(o,s),T=this.paint.get("fill-extrusion-base").evaluate(o,s),I=[0,0],S=F&&f.elevation,P=f.elevation?f.elevation.exaggeration():1,D=u.tile.getBucket(this);if(S&&D instanceof xy){const q=D.centroidVertexArray,te=R+1;te<q.length&&(I[0]=q.geta_centroid_pos0(te),I[1]=q.geta_centroid_pos1(te))}if(I[0]===0&&I[1]===1)return!1;f.projection.name==="globe"&&(h=Rw([h],[new K(0,0),new K(Yt,Yt)],u.tileID.canonical).map(q=>q.polygon).flat());const N=S?F:null,[U,Z]=function(q,te,ie,de,Ee,be,xe,Ve,ve,Be,We){return q.projection.name==="globe"?function(Ke,tt,ht,mt,lt,Pt,Nt,wt,ci,Jt,qt){const zt=[],Ci=[],si=Ke.projection.upVectorScale(qt,Ke.center.lat,Ke.worldSize).metersToTile,pi=[0,0,0,1],$i=[0,0,0,1],Qi=(Zi,on,en,Qn)=>{Zi[0]=on,Zi[1]=en,Zi[2]=Qn,Zi[3]=1},Xi=Tw();ht>0&&(ht+=Xi),mt+=Xi;for(const Zi of tt){const on=[],en=[];for(const Qn of Zi){const Hn=Qn.x+lt.x,Di=Qn.y+lt.y,Pn=Ke.projection.projectTilePoint(Hn,Di,qt),An=Ke.projection.upVector(qt,Qn.x,Qn.y);let co=ht,Oo=mt;if(Nt){const Ko=Mw(Hn,Di,ht,mt,Nt,wt,ci,Jt);co+=Ko.base,Oo+=Ko.top}ht!==0?Qi(pi,Pn.x+An[0]*si*co,Pn.y+An[1]*si*co,Pn.z+An[2]*si*co):Qi(pi,Pn.x,Pn.y,Pn.z),Qi($i,Pn.x+An[0]*si*Oo,Pn.y+An[1]*si*Oo,Pn.z+An[2]*si*Oo),Re.vec3.transformMat4(pi,pi,Pt),Re.vec3.transformMat4($i,$i,Pt),on.push(new ih(pi[0],pi[1],pi[2])),en.push(new ih($i[0],$i[1],$i[2]))}zt.push(on),Ci.push(en)}return[zt,Ci]}(q,te,ie,de,Ee,be,xe,Ve,ve,Be,We):xe?function(Ke,tt,ht,mt,lt,Pt,Nt,wt,ci){const Jt=[],qt=[],zt=[0,0,0,1];for(const Ci of Ke){const si=[],pi=[];for(const $i of Ci){const Qi=$i.x+mt.x,Xi=$i.y+mt.y,Zi=Mw(Qi,Xi,tt,ht,Pt,Nt,wt,ci);zt[0]=Qi,zt[1]=Xi,zt[2]=Zi.base,zt[3]=1,Re.vec4.transformMat4(zt,zt,lt),zt[3]=Math.max(zt[3],1e-5);const on=new ih(zt[0]/zt[3],zt[1]/zt[3],zt[2]/zt[3]);zt[0]=Qi,zt[1]=Xi,zt[2]=Zi.top,zt[3]=1,Re.vec4.transformMat4(zt,zt,lt),zt[3]=Math.max(zt[3],1e-5);const en=new ih(zt[0]/zt[3],zt[1]/zt[3],zt[2]/zt[3]);si.push(on),pi.push(en)}Jt.push(si),qt.push(pi)}return[Jt,qt]}(te,ie,de,Ee,be,xe,Ve,ve,Be):function(Ke,tt,ht,mt,lt){const Pt=[],Nt=[],wt=lt[8]*tt,ci=lt[9]*tt,Jt=lt[10]*tt,qt=lt[11]*tt,zt=lt[8]*ht,Ci=lt[9]*ht,si=lt[10]*ht,pi=lt[11]*ht;for(const $i of Ke){const Qi=[],Xi=[];for(const Zi of $i){const on=Zi.x+mt.x,en=Zi.y+mt.y,Qn=lt[0]*on+lt[4]*en+lt[12],Hn=lt[1]*on+lt[5]*en+lt[13],Di=lt[2]*on+lt[6]*en+lt[14],Pn=lt[3]*on+lt[7]*en+lt[15],An=Qn+wt,co=Hn+ci,Oo=Di+Jt,Ko=Math.max(Pn+qt,1e-5),Lo=Qn+zt,Co=Hn+Ci,No=Di+si,tr=Math.max(Pn+pi,1e-5);Qi.push(new ih(An/Ko,co/Ko,Oo/Ko)),Xi.push(new ih(Lo/tr,Co/tr,No/tr))}Pt.push(Qi),Nt.push(Xi)}return[Pt,Nt]}(te,ie,de,Ee,be)}(f,h,T,v,M,_,N,I,P,f.center.lat,u.tileID.canonical),X=u.queryGeometry;return function(q,te,ie){let de=1/0;bi(ie,te)&&(de=kw(ie,te[0]));for(let Ee=0;Ee<te.length;Ee++){const be=te[Ee],xe=q[Ee];for(let Ve=0;Ve<be.length-1;Ve++){const ve=be[Ve],Be=[ve,be[Ve+1],xe[Ve+1],xe[Ve],ve];At(ie,Be)&&(de=Math.min(de,kw(ie,Be)))}}return de!==1/0&&de}(U,Z,X.isPointQuery()?X.screenBounds:X.screenGeometry)}},line:class extends Hr{constructor(u,o,s,h){const g=$w();super(u,g,o,s,h),g.layout&&(this.layout=new sd(g.layout)),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(u){if(u==="line-gradient"){const o=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=o._styleExpression&&o._styleExpression.expression instanceof Mu,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}widthExpression(){return this._transitionablePaint._values["line-width"].value.expression}recalculate(u,o){super.recalculate(u,o),this.paint._values["line-floorwidth"]=(()=>{if(Mm)return Mm;const s=$w();return Mm=new Uk(s.paint.properties["line-width"].specification),Mm.useIntegerZoom=!0,Mm})().possiblyEvaluate(this._transitioningPaint._values["line-width"].value,u)}createBucket(u){return new Qv(u)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getDefaultProgramParams(u,o,s){const h=Vw(this);return{config:new Ks(this,{zoom:o,lut:s}),defines:h,overrideFog:!1}}queryRadius(u){const o=u,s=Uw(Wn("line-width",this,o),Wn("line-gap-width",this,o)),h=Wn("line-offset",this,o);return s/2+Math.abs(h)+nn(this.paint.get("line-translate"))}queryIntersectsFeature(u,o,s,h,g,f){if(u.queryGeometry.isAboveHorizon)return!1;const _=Gn(u.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),f.angle,u.pixelToTileUnitsFactor),F=u.pixelToTileUnitsFactor/2*Uw(this.paint.get("line-width").evaluate(o,s),this.paint.get("line-gap-width").evaluate(o,s)),R=this.paint.get("line-offset").evaluate(o,s);return R&&(h=function(M,v){const T=[],I=new K(0,0);for(let S=0;S<M.length;S++){const P=M[S],D=[];for(let N=0;N<P.length;N++){const U=P[N],Z=P[N+1],X=N===0?I:U.sub(P[N-1])._unit()._perp(),q=N===P.length-1?I:Z.sub(U)._unit()._perp(),te=X._add(q)._unit();te._mult(1/(te.x*q.x+te.y*q.y)),D.push(te._mult(v)._add(U))}T.push(D)}return T}(h,R*u.pixelToTileUnitsFactor)),function(M,v,T){for(let I=0;I<v.length;I++){const S=v[I];if(M.length>=3){for(let P=0;P<S.length;P++)if(cn(M,S[P]))return!0}if(Fi(M,S,T))return!0}return!1}(_,h,F)}isTileClipped(){return!0}isDraped(u){const o=this.layout.get("line-z-offset"),s=o.isConstant()&&!o.constantOr(0),h=this.layout.get("line-elevation-reference");return!(h==="sea"||h==="ground")&&(s||h!=="none")}},symbol:Dy,background:class extends Hr{constructor(u,o,s,h){super(u,{layout:S7||(S7=new io({visibility:new Kt(ft.layout_background.visibility)})),paint:T7||(T7=new io({"background-pitch-alignment":new Kt(ft.paint_background["background-pitch-alignment"]),"background-color":new Kt(ft.paint_background["background-color"]),"background-pattern":new Kt(ft.paint_background["background-pattern"]),"background-opacity":new Kt(ft.paint_background["background-opacity"]),"background-emissive-strength":new Kt(ft.paint_background["background-emissive-strength"])}))},o,s,h)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}getDefaultProgramParams(u,o,s){return{overrideFog:!1}}is3D(){return this.paint.get("background-pitch-alignment")==="viewport"}},raster:M7,"raster-particle":j7,sky:class extends Hr{constructor(u,o,s,h){super(u,{layout:L7||(L7=new io({visibility:new Kt(ft.layout_sky.visibility)})),paint:D7||(D7=new io({"sky-type":new Kt(ft.paint_sky["sky-type"]),"sky-atmosphere-sun":new Kt(ft.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new Kt(ft.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new Kt(ft.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new Kt(ft.paint_sky["sky-gradient-radius"]),"sky-gradient":new cd(ft.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new Kt(ft.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new Kt(ft.paint_sky["sky-atmosphere-color"]),"sky-opacity":new Kt(ft.paint_sky["sky-opacity"])}))},o,s,h),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(u){u==="sky-gradient"?this._updateColorRamp():u!=="sky-atmosphere-sun"&&u!=="sky-atmosphere-halo-color"&&u!=="sky-atmosphere-color"&&u!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=Fm({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(u){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const o=u.style.light.properties.get("position");return this._lightPosition.azimuthal!==o.azimuthal||this._lightPosition.polar!==o.polar}return!1}getCenter(u,o){if(this.paint.get("sky-type")==="atmosphere"){const h=this.paint.get("sky-atmosphere-sun"),g=!h,f=u.style.light,_=f.properties.get("position");return g&&f.properties.get("anchor")==="viewport"&&an("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),g?y4(_.azimuthal,90-_.polar,o):y4(h[0],90-h[1],o)}const s=this.paint.get("sky-gradient-center");return y4(s[0],90-s[1],o)}isSky(){return!0}markSkyboxValid(u){this._skyboxInvalidated=!1,this._lightPosition=u.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const u=this.paint.get("sky-type");return u==="atmosphere"?["skyboxCapture","skybox"]:u==="gradient"?["skyboxGradient"]:null}},slot:class extends Hr{constructor(u,o,s,h){super(u,{paint:B7||(B7=new io({}))},o,null)}},model:class extends Hr{constructor(u,o,s,h){super(u,{layout:K7||(K7=new io({visibility:new Kt(ft.layout_model.visibility),"model-id":new xi(ft.layout_model["model-id"])})),paint:Z7||(Z7=new io({"model-opacity":new Kt(ft.paint_model["model-opacity"]),"model-rotation":new xi(ft.paint_model["model-rotation"]),"model-scale":new xi(ft.paint_model["model-scale"]),"model-translation":new xi(ft.paint_model["model-translation"]),"model-color":new xi(ft.paint_model["model-color"]),"model-color-mix-intensity":new xi(ft.paint_model["model-color-mix-intensity"]),"model-type":new Kt(ft.paint_model["model-type"]),"model-cast-shadows":new Kt(ft.paint_model["model-cast-shadows"]),"model-receive-shadows":new Kt(ft.paint_model["model-receive-shadows"]),"model-ambient-occlusion-intensity":new Kt(ft.paint_model["model-ambient-occlusion-intensity"]),"model-emissive-strength":new xi(ft.paint_model["model-emissive-strength"]),"model-roughness":new xi(ft.paint_model["model-roughness"]),"model-height-based-emissive-strength-multiplier":new xi(ft.paint_model["model-height-based-emissive-strength-multiplier"]),"model-cutoff-fade-range":new Kt(ft.paint_model["model-cutoff-fade-range"]),"model-front-cutoff":new Kt(ft.paint_model["model-front-cutoff"])}))},o,s,h),this._stats={numRenderedVerticesInShadowPass:0,numRenderedVerticesInTransparentPass:0}}createBucket(u){return new x4(u)}getProgramIds(){return["model"]}is3D(){return!0}hasShadowPass(){return!0}canCastShadows(){return!0}hasLightBeamPass(){return!0}cutoffRange(){return this.paint.get("model-cutoff-fade-range")}queryRadius(u){return u instanceof Gy?Yt-1:0}queryIntersectsFeature(u,o,s,h,g,f){if(!this.modelManager)return!1;const _=this.modelManager,F=u.tile.getBucket(this);if(!(F&&F instanceof x4))return!1;const R=F;for(const M in R.instancesPerModel){const v=R.instancesPerModel[M],T=o.id!==void 0?o.id:o.properties&&o.properties.hasOwnProperty("id")?o.properties.id:void 0;if(v.idToFeaturesIndex.hasOwnProperty(T)){const I=v.features[v.idToFeaturesIndex[T]],S=_.getModel(M,this.scope);if(!S)return!1;let P=Re.mat4.create();const D=new z(0,0),N=R.canonical;let U=Number.MAX_VALUE;for(let Z=0;Z<I.instancedDataCount;++Z){const X=16*(I.instancedDataOffset+Z),q=v.instancedDataArray.float32,te=[q[X+4],q[X+5],q[X+6]];t8(N,D,q[X],0|q[X+1]),Q7(P,S,f,D,I.rotation,I.scale,te,!1,!1,!1),f.projection.name==="globe"&&(P=v4(P,f));const ie=Re.mat4.multiply([],f.projMatrix,P),de=u.queryGeometry,Ee=U7(de.isPointQuery()?de.screenBounds:de.screenGeometry,f,ie,S.aabb);Ee!=null&&(U=Math.min(Ee,U))}return U!==Number.MAX_VALUE&&U}}return!1}_handleOverridablePaintPropertyUpdate(u,o,s){return!(!this.layout||o.isDataDriven()||s.isDataDriven()||u!=="model-color"&&u!=="model-color-mix-intensity"&&u!=="model-rotation"&&u!=="model-scale"&&u!=="model-translation"&&u!=="model-emissive-strength")}_isPropertyZoomDependent(u){const o=this._transitionablePaint._values[u];return o!=null&&o.value!=null&&o.value.expression!=null&&o.value.expression instanceof ju}isZoomDependent(){return this._isPropertyZoomDependent("model-scale")||this._isPropertyZoomDependent("model-rotation")||this._isPropertyZoomDependent("model-translation")}queryIntersectsMatchingFeature(u,o,s,h){const g=u.tile,f=g.getBucket(this);let _=null,F=Number.MAX_VALUE;if(!(f&&f instanceof Gy))return{queryFeature:_,intersectionZ:F};const R=f.getNodesInfo()[o];if(R.hiddenByReplacement||!R.node.meshes||!s.filter(new _o(g.tileID.overscaledZ),R.feature,g.tileID.canonical))return{queryFeature:_,intersectionZ:F};const M=R.node,v=h.calculatePosMatrix(g.tileID.toUnwrapped(),h.worldSize),T=R.evaluatedScale;let I=0;h.elevation&&M.elevation&&(I=M.elevation*h.elevation.exaggeration()),Re.mat4.translate(v,v,[(M.anchor?M.anchor[0]:0)*(T[0]-1),(M.anchor?M.anchor[1]:0)*(T[1]-1),I]),Re.mat4.scale(v,v,T);const S=u.queryGeometry,P=S.isPointQuery()?S.screenBounds:S.screenGeometry,D=function(q){const te=Re.mat4.multiply([],v,q.matrix);Re.mat4.multiply(te,h.expandedFarZProjMatrix,te);for(let ie=0;ie<q.meshes.length;++ie){const de=q.meshes[ie];if(ie===q.lightMeshIndex)continue;const Ee=U7(P,h,te,de.aabb);Ee!=null&&(F=Math.min(Ee,F))}if(q.children)for(const ie of q.children)D(ie)};if(D(M),F===Number.MAX_VALUE)return{queryFeature:_,intersectionZ:F};const N=new z(0,0);t8(g.tileID.canonical,N,R.node.anchor[0],R.node.anchor[1]);const{z:U,x:Z,y:X}=g.tileID.canonical;return _=new Hm({},U,Z,X,R.feature.id),_.properties=R.feature.properties,_.geometry={type:"Point",coordinates:[N.lng,N.lat]},_.layer={...this.serialize(),id:this.fqid},_.state={},_.tile=g.tileID.canonical,{queryFeature:_,intersectionZ:F}}},clip:class extends Hr{constructor(u,o,s,h){super(u,{layout:Z5||(Z5=new io({"clip-layer-types":new Kt(ft.layout_clip["clip-layer-types"]),"clip-layer-scope":new Kt(ft.layout_clip["clip-layer-scope"])})),paint:Q5||(Q5=new io({}))},o,s,h)}recalculate(u,o){super.recalculate(u,o)}createBucket(u){return new X5(u)}isTileClipped(){return!0}is3D(){return!0}}};class $M{constructor(o){this._callback=o,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class UM{constructor(){this.tasks={},this.taskQueue=[],go(["process"],this),this.invoker=new $M(this.process),this.nextId=0}add(o,s){const h=this.nextId++,g=function({type:f,isSymbolTile:_,zoom:F}){return F=F||0,f==="message"?0:f!=="maybePrepare"||_?f!=="parseTile"||_?f==="parseTile"&&_?300-F:f==="maybePrepare"&&_?400-F:500:200-F:100-F}(s);if(g===0){try{o()}finally{}return null}return this.tasks[h]={fn:o,metadata:s,priority:g,id:h},this.taskQueue.push(h),this.invoker.trigger(),{cancel:()=>{delete this.tasks[h]}}}process(){try{if(this.taskQueue=this.taskQueue.filter(h=>!!this.tasks[h]),!this.taskQueue.length)return;const o=this.pick();if(o===null)return;const s=this.tasks[o];if(delete this.tasks[o],this.taskQueue.length&&this.invoker.trigger(),!s)return;s.fn()}finally{}}pick(){let o=null,s=1/0;for(let g=0;g<this.taskQueue.length;g++){const f=this.tasks[this.taskQueue[g]];f.priority<s&&(s=f.priority,o=g)}if(o===null)return null;const h=this.taskQueue[o];return this.taskQueue.splice(o,1),h}remove(){this.invoker.remove()}}class i8{constructor(o,s,h){this.target=o,this.parent=s,this.mapId=h,this.callbacks={},this.cancelCallbacks={},go(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.scheduler=new UM}send(o,s,h,g,f=!1,_){const F=Math.round(1e18*Math.random()).toString(36).substring(0,10);h&&(h.metadata=_,this.callbacks[F]=h);const R=new Set;return this.target.postMessage({id:F,type:o,hasCallback:!!h,targetMapId:g,mustQueue:f,sourceMapId:this.mapId,data:rl(s,R)},R),{cancel:()=>{h&&delete this.callbacks[F],this.target.postMessage({id:F,type:"<cancel>",targetMapId:g,sourceMapId:this.mapId})}}}receive(o){const s=o.data,h=s.id;if(h&&(!s.targetMapId||this.mapId===s.targetMapId))if(s.type==="<cancel>"){const g=this.cancelCallbacks[h];delete this.cancelCallbacks[h],g&&g.cancel()}else if(s.mustQueue||fa()){const g=this.callbacks[h],f=this.scheduler.add(()=>this.processTask(h,s),g&&g.metadata||{type:"message"});f&&(this.cancelCallbacks[h]=f)}else this.processTask(h,s)}processTask(o,s){if(delete this.cancelCallbacks[o],s.type==="<response>"){const h=this.callbacks[o];delete this.callbacks[o],h&&(s.error?h(ta(s.error)):h(null,ta(s.data)))}else{const h=new Set,g=s.hasCallback?(_,F)=>{this.target.postMessage({id:o,type:"<response>",sourceMapId:this.mapId,error:_?rl(_):null,data:rl(F,h)},h)}:()=>{},f=ta(s.data);if(this.parent[s.type])this.parent[s.type](s.sourceMapId,f,g);else if(this.parent.getWorkerSource){const _=s.type.split(".");this.parent.getWorkerSource(s.sourceMapId,_[0],f.source,f.scope)[_[1]](f,g)}else g(new Error(`Could not find function ${s.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}}class Zf{constructor(o,s){this.workerPool=o,this.actors=[],this.currentActor=0,this.id=uo();const h=this.workerPool.acquire(this.id);for(let g=0;g<h.length;g++){const f=new Zf.Actor(h[g],s,this.id);f.name=`Worker ${g}`,this.actors.push(f)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(o,s,h){Ti(this.actors,(g,f)=>{g.send(o,s,f)},h=h||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(o=>{o.remove()}),this.actors=[],this.workerPool.release(this.id)}}Zf.Actor=i8;class n8{constructor(o){this.size=o,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(o,s){const h=this.toIdx(o,s);return{min:this.minimums[h],max:this.maximums[h]}}isLeaf(o,s){return this.leaves[this.toIdx(o,s)]}toIdx(o,s){return s*this.size+o}}function o8(u,o,s,h){let g=0,f=Number.MAX_VALUE;for(let _=0;_<3;_++)if(Math.abs(h[_])<1e-15){if(s[_]<u[_]||s[_]>o[_])return null}else{const F=1/h[_];let R=(u[_]-s[_])*F,M=(o[_]-s[_])*F;if(R>M){const v=R;R=M,M=v}if(R>g&&(g=R),M<f&&(f=M),g>f)return null}return g}function r8(u,o,s,h,g,f,_,F,R,M,v){const T=h-u,I=g-o,S=f-s,P=_-u,D=F-o,N=R-s,U=v[1]*N-v[2]*D,Z=v[2]*P-v[0]*N,X=v[0]*D-v[1]*P,q=T*U+I*Z+S*X;if(Math.abs(q)<1e-15)return null;const te=1/q,ie=M[0]-u,de=M[1]-o,Ee=M[2]-s,be=(ie*U+de*Z+Ee*X)*te;if(be<0||be>1)return null;const xe=de*S-Ee*I,Ve=Ee*T-ie*S,ve=ie*I-de*T,Be=(v[0]*xe+v[1]*Ve+v[2]*ve)*te;return Be<0||be+Be>1?null:(P*xe+D*Ve+N*ve)*te}function a8(u,o,s){return(u-o)/(s-o)}function s8(u,o,s,h,g,f,_,F,R){const M=1<<s,v=f-h,T=_-g,I=(u+1)/M*v+h,S=(o+0)/M*T+g,P=(o+1)/M*T+g;F[0]=(u+0)/M*v+h,F[1]=S,R[0]=I,R[1]=P}class c8{constructor(o){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=o,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const s=function(f){const _=Math.ceil(Math.log2(f.dim/8)),F=[];let R=Math.ceil(Math.pow(2,_));const M=1/R,v=(S,P,D,N,U)=>{const Z=N?1:0,X=(S+1)*D-Z,q=P*D,te=(P+1)*D-Z;U[0]=S*D,U[1]=q,U[2]=X,U[3]=te};let T=new n8(R);const I=[];for(let S=0;S<R*R;S++){v(S%R,Math.floor(S/R),M,!1,I);const P=Sd(I[0],I[1],f),D=Sd(I[2],I[1],f),N=Sd(I[2],I[3],f),U=Sd(I[0],I[3],f);T.minimums.push(Math.min(P,D,N,U)),T.maximums.push(Math.max(P,D,N,U)),T.leaves.push(1)}for(F.push(T),R/=2;R>=1;R/=2){const S=F[F.length-1];T=new n8(R);for(let P=0;P<R*R;P++){v(P%R,Math.floor(P/R),2,!0,I);const D=S.getElevation(I[0],I[1]),N=S.getElevation(I[2],I[1]),U=S.getElevation(I[2],I[3]),Z=S.getElevation(I[0],I[3]),X=S.isLeaf(I[0],I[1]),q=S.isLeaf(I[2],I[1]),te=S.isLeaf(I[2],I[3]),ie=S.isLeaf(I[0],I[3]),de=Math.min(D.min,N.min,U.min,Z.min),Ee=Math.max(D.max,N.max,U.max,Z.max),be=X&&q&&te&&ie;T.maximums.push(Ee),T.minimums.push(de),T.leaves.push(Ee-de<=5&&be?1:0)}F.push(T)}return F}(this.dem),h=s.length-1,g=s[h];this._addNode(g.minimums[0],g.maximums[0],g.leaves[0]),this._construct(s,0,0,h,0)}raycastRoot(o,s,h,g,f,_,F=1){return o8([o,s,-100],[h,g,this.maximums[0]*F],f,_)}raycast(o,s,h,g,f,_,F=1){if(!this.nodeCount)return null;const R=this.raycastRoot(o,s,h,g,f,_,F);if(R==null)return null;const M=[],v=[],T=[],I=[],S=[{idx:0,t:R,nodex:0,nodey:0,depth:0}];for(;S.length>0;){const{idx:P,t:D,nodex:N,nodey:U,depth:Z}=S.pop();if(this.leaves[P]){s8(N,U,Z,o,s,h,g,T,I);const q=1<<Z,te=(N+0)/q,ie=(N+1)/q,de=(U+0)/q,Ee=(U+1)/q,be=Sd(te,de,this.dem)*F,xe=Sd(ie,de,this.dem)*F,Ve=Sd(ie,Ee,this.dem)*F,ve=Sd(te,Ee,this.dem)*F,Be=r8(T[0],T[1],be,I[0],T[1],xe,I[0],I[1],Ve,f,_),We=r8(I[0],I[1],Ve,T[0],I[1],ve,T[0],T[1],be,f,_),Ke=Math.min(Be!==null?Be:Number.MAX_VALUE,We!==null?We:Number.MAX_VALUE);if(Ke!==Number.MAX_VALUE)return Ke;{const tt=Re.vec3.scaleAndAdd([],f,_,D);if(l8(be,xe,ve,Ve,a8(tt[0],T[0],I[0]),a8(tt[1],T[1],I[1]))>=tt[2])return D}continue}let X=0;for(let q=0;q<this._siblingOffset.length;q++){s8((N<<1)+this._siblingOffset[q][0],(U<<1)+this._siblingOffset[q][1],Z+1,o,s,h,g,T,I),T[2]=-100,I[2]=this.maximums[this.childOffsets[P]+q]*F;const te=o8(T,I,f,_);if(te!=null){const ie=te;M[q]=ie;let de=!1;for(let Ee=0;Ee<X&&!de;Ee++)ie>=M[v[Ee]]&&(v.splice(Ee,0,q),de=!0);de||(v[X]=q),X++}}for(let q=0;q<X;q++){const te=v[q];S.push({idx:this.childOffsets[P]+te,t:M[te],nodex:(N<<1)+this._siblingOffset[te][0],nodey:(U<<1)+this._siblingOffset[te][1],depth:Z+1})}}return null}_addNode(o,s,h){return this.minimums.push(o),this.maximums.push(s),this.leaves.push(h),this.childOffsets.push(0),this.nodeCount++}_construct(o,s,h,g,f){if(o[g].isLeaf(s,h)===1)return;this.childOffsets[f]||(this.childOffsets[f]=this.nodeCount);const _=g-1,F=o[_];let R=0,M=0;for(let v=0;v<this._siblingOffset.length;v++){const T=2*s+this._siblingOffset[v][0],I=2*h+this._siblingOffset[v][1],S=F.getElevation(T,I),P=F.isLeaf(T,I),D=this._addNode(S.min,S.max,P);P&&(R|=1<<v),M||(M=D)}for(let v=0;v<this._siblingOffset.length;v++)R&1<<v||this._construct(o,2*s+this._siblingOffset[v][0],2*h+this._siblingOffset[v][1],_,M+v)}}function l8(u,o,s,h,g,f){return Oi(Oi(u,s,f),Oi(o,h,f),g)}function Sd(u,o,s){const h=s.dim,g=nt(u*h-.5,0,h-1),f=nt(o*h-.5,0,h-1),_=Math.floor(g),F=Math.floor(f),R=Math.min(_+1,h-1),M=Math.min(F+1,h-1);return l8(s.get(_,F),s.get(R,F),s.get(_,M),s.get(R,M),g-_,f-F)}const GM={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};function HM(u,o,s){return(256*u*256+256*o+s)/10-1e4}function qM(u,o,s){return 256*u+o+s/256-32768}class Hy{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(o,s,h,g=!1){if(this.uid=o,s.height!==s.width)throw new RangeError("DEM tiles must be square");if(h&&h!=="mapbox"&&h!=="terrarium")return void an(`"${h}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=s.height;const f=this.dim=s.height-2,_=new Uint32Array(s.data.buffer);if(this.pixels=new Uint8Array(s.data.buffer),this.floatView=new Float32Array(s.data.buffer),this.borderReady=g,this._modifiedForSources={},!g){for(let R=0;R<f;R++)_[this._idx(-1,R)]=_[this._idx(0,R)],_[this._idx(f,R)]=_[this._idx(f-1,R)],_[this._idx(R,-1)]=_[this._idx(R,0)],_[this._idx(R,f)]=_[this._idx(R,f-1)];_[this._idx(-1,-1)]=_[this._idx(0,0)],_[this._idx(f,-1)]=_[this._idx(f-1,0)],_[this._idx(-1,f)]=_[this._idx(0,f-1)],_[this._idx(f,f)]=_[this._idx(f-1,f-1)]}const F=h==="terrarium"?qM:HM;for(let R=0;R<_.length;++R){const M=4*R;this.floatView[R]=F(this.pixels[M],this.pixels[M+1],this.pixels[M+2])}this._timestamp=oi.now()}_buildQuadTree(){this._tree=new c8(this)}get(o,s,h=!1){h&&(o=nt(o,-1,this.dim),s=nt(s,-1,this.dim));const g=this._idx(o,s);return this.floatView[g]}set(o,s,h){const g=this._idx(o,s),f=this.floatView[g];return this.floatView[g]=h,h-f}static getUnpackVector(o){return GM[o]}_idx(o,s){if(o<-1||o>=this.dim+1||s<-1||s>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(s+1)*this.stride+(o+1)}static pack(o,s){const h=[0,0,0,0],g=Hy.getUnpackVector(s);let f=Math.floor((o+g[3])/g[2]);return h[2]=f%256,f=Math.floor(f/256),h[1]=f%256,f=Math.floor(f/256),h[0]=f,h}getPixels(){return new $5({width:this.stride,height:this.stride},this.pixels)}backfillBorder(o,s,h){if(this.dim!==o.dim)throw new Error("dem dimension mismatch");let g=s*this.dim,f=s*this.dim+this.dim,_=h*this.dim,F=h*this.dim+this.dim;switch(s){case-1:g=f-1;break;case 1:f=g+1}switch(h){case-1:_=F-1;break;case 1:F=_+1}const R=-s*this.dim,M=-h*this.dim;for(let v=_;v<F;v++)for(let T=g;T<f;T++){const I=4*this._idx(T,v),S=4*this._idx(T+R,v+M);this.pixels[I+0]=o.pixels[S+0],this.pixels[I+1]=o.pixels[S+1],this.pixels[I+2]=o.pixels[S+2],this.pixels[I+3]=o.pixels[S+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}function WM(u,o,s){u===1?o.headerLength=s.readFixed32():u===2?o.x=s.readVarint():u===3?o.y=s.readVarint():u===4?o.z=s.readVarint():u===5&&o.layers.push(function(h,g){return h.readFields(JM,{version:0,name:"",units:"",tileSize:0,buffer:0,pixelFormat:0,dataIndex:[]},g)}(s,s.readVarint()+s.pos))}function KM(u,o,s){u===1?(o.delta_filter=function(h,g){return h.readFields(ZM,{blockSize:0},g)}(s,s.readVarint()+s.pos),o.filter="delta_filter"):u===2?(s.readVarint(),o.filter="zigzag_filter"):u===3?(s.readVarint(),o.filter="bitshuffle_filter"):u===4&&(s.readVarint(),o.filter="byteshuffle_filter")}function ZM(u,o,s){u===1&&(o.blockSize=s.readVarint())}function QM(u,o,s){u===1?(s.readVarint(),o.codec="gzip_data"):u===2?(s.readVarint(),o.codec="jpeg_image"):u===3?(s.readVarint(),o.codec="webp_image"):u===4&&(s.readVarint(),o.codec="png_image")}function XM(u,o,s){let h=0,g=0;u===1?o.firstByte=s.readFixed64():u===2?o.lastByte=s.readFixed64():u===3?o.filters.push(function(f,_){return f.readFields(KM,{},_)}(s,s.readVarint()+s.pos)):u===4?o.codec=function(f,_){return f.readFields(QM,{},_)}(s,s.readVarint()+s.pos):u===5?g=s.readFloat():u===6?h=s.readFloat():u===7?o.bands.push(s.readString()):u===8?o.offset=s.readDouble():u===9&&(o.scale=s.readDouble()),o.offset===0&&(o.offset=g),o.scale===0&&(o.scale=h)}function JM(u,o,s){u===1?o.version=s.readVarint():u===2?o.name=s.readString():u===3?o.units=s.readString():u===4?o.tileSize=s.readVarint():u===5?o.buffer=s.readVarint():u===6?o.pixelFormat=s.readVarint():u===7&&o.dataIndex.push(function(h,g){return h.readFields(XM,{firstByte:0,lastByte:0,filters:[],codec:null,offset:0,scale:0,bands:[]},g)}(s,s.readVarint()+s.pos))}function YM(u,o,s){if(u===2)(function(h,g,f){h.readFields(eA,f,g)})(s,s.readVarint()+s.pos,o);else if(u===3)throw new Error("Not implemented")}function eA(u,o,s){if(u===1){let h=0;const g=s.readVarint()+s.pos;for(;s.pos<g;)o[h++]=s.readVarint()}}hi(Hy,"DEMData"),hi(c8,"DemMinMaxQuadTree",{omit:["dem"]});class tA{constructor(o){this.capacity=o,this.cache=new Map}get(o){if(!this.cache.has(o))return;const s=this.cache.get(o);return this.cache.delete(o),this.cache.set(o,s),s}put(o,s){this.cache.has(o)?this.cache.delete(o):this.cache.size===this.capacity&&this.cache.delete(this.cache.keys().next().value),this.cache.set(o,s)}}function iA(u,o){if(o.length!==4)throw new Error(`Expected data of dimension 4 but got ${o.length}.`);let s=o[3];for(let h=2;h>=1;h--){const g=h===1?1:0,f=h===2?1:0;for(let _=0;_<o[0];_++){const F=o[1]*_;for(let R=g;R<o[1];R++){const M=o[2]*(R+F);for(let v=f;v<o[2];v++){const T=o[3]*(v+M);for(let I=0;I<o[3];I++){const S=T+I;u[S]+=u[S-s]}}}}s*=o[h]}return u}function nA(u){for(let o=0,s=u.length;o<s;o++)u[o]=u[o]>>>1^-(1&u[o]);return u}function oA(u,o){switch(o){case"uint32":return u;case"uint16":for(let s=0;s<u.length;s+=2){const h=u[s],g=u[s+1];u[s]=(240&h)>>4|(61440&h)>>8|(240&g)<<4|61440&g,u[s+1]=15&h|(3840&h)>>4|(15&g)<<8|(3840&g)<<4}return u;case"uint8":for(let s=0;s<u.length;s+=4){const h=u[s],g=u[s+1],f=u[s+2],_=u[s+3];u[s+0]=(192&h)>>6|(192&g)>>4|(192&f)>>2|192&_,u[s+1]=(48&h)>>4|(48&g)>>2|48&f|(48&_)<<2,u[s+2]=(12&h)>>2|12&g|(12&f)<<2|(12&_)<<4,u[s+3]=3&h|(3&g)<<2|(3&f)<<4|(3&_)<<6}return u;default:throw new Error(`Invalid pixel format, "${o}"`)}}var os=Uint8Array,qm=Uint16Array,rA=Int32Array,d8=new os([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),u8=new os([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),aA=new os([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),h8=function(u,o){for(var s=new qm(31),h=0;h<31;++h)s[h]=o+=1<<u[h-1];var g=new rA(s[30]);for(h=1;h<30;++h)for(var f=s[h];f<s[h+1];++f)g[f]=f-s[h]<<5|h;return{b:s,r:g}},f8=h8(d8,2),p8=f8.b,sA=f8.r;p8[28]=258,sA[258]=28;for(var cA=h8(u8,0).b,m8=new qm(32768),Wo=0;Wo<32768;++Wo){var Qf=(43690&Wo)>>1|(21845&Wo)<<1;m8[Wo]=((65280&(Qf=(61680&(Qf=(52428&Qf)>>2|(13107&Qf)<<2))>>4|(3855&Qf)<<4))>>8|(255&Qf)<<8)>>1}var Wm=function(u,o,s){for(var h=u.length,g=0,f=new qm(o);g<h;++g)u[g]&&++f[u[g]-1];var _,F=new qm(o);for(g=1;g<o;++g)F[g]=F[g-1]+f[g-1]<<1;_=new qm(1<<o);var R=15-o;for(g=0;g<h;++g)if(u[g])for(var M=g<<4|u[g],v=o-u[g],T=F[u[g]-1]++<<v,I=T|(1<<v)-1;T<=I;++T)_[m8[T]>>R]=M;return _},Km=new os(288);for(Wo=0;Wo<144;++Wo)Km[Wo]=8;for(Wo=144;Wo<256;++Wo)Km[Wo]=9;for(Wo=256;Wo<280;++Wo)Km[Wo]=7;for(Wo=280;Wo<288;++Wo)Km[Wo]=8;var g8=new os(32);for(Wo=0;Wo<32;++Wo)g8[Wo]=5;var lA=Wm(Km,9),dA=Wm(g8,5),E4=function(u){for(var o=u[0],s=1;s<u.length;++s)u[s]>o&&(o=u[s]);return o},Js=function(u,o,s){var h=o/8|0;return(u[h]|u[h+1]<<8)>>(7&o)&s},S4=function(u,o){var s=o/8|0;return(u[s]|u[s+1]<<8|u[s+2]<<16)>>(7&o)},uA=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ys=function(u,o,s){var h=new Error(o||uA[u]);if(h.code=u,Error.captureStackTrace&&Error.captureStackTrace(h,Ys),!s)throw h;return h},hA=new os(0),fA=typeof TextDecoder<"u"&&new TextDecoder;try{fA.decode(hA,{stream:!0})}catch{}const pA={gzip_data:"gzip"};class xs extends Error{constructor(o){super(o),this.name="MRTError"}}const mA={0:"uint32",1:"uint32",2:"uint16",3:"uint8"},_8={uint32:1,uint16:2,uint8:4},gA={uint32:Uint32Array,uint16:Uint16Array,uint8:Uint8Array};let T4;class R4{constructor(o=5){this.x=NaN,this.y=NaN,this.z=NaN,this.layers={},this._cacheSize=o}getLayer(o){const s=this.layers[o];if(!s)throw new xs(`Layer '${o}' not found`);return s}getHeaderLength(o){const s=new Uint8Array(o),h=new DataView(o);if(s[0]!==13)throw new xs("File is not a valid MRT.");return h.getUint32(1,!0)}parseHeader(o){const s=new Uint8Array(o),h=this.getHeaderLength(o);if(s.length<h)throw new xs(`Expected header with length >= ${h} but got buffer of length ${s.length}`);const g=function(f,_){return f.readFields(WM,{headerLength:0,x:0,y:0,z:0,layers:[]},void 0)}(new T4(s.subarray(0,h)));if(!isNaN(this.x)&&(this.x!==g.x||this.y!==g.y||this.z!==g.z))throw new xs(`Invalid attempt to parse header ${g.z}/${g.x}/${g.y} for tile ${this.z}/${this.x}/${this.y}`);this.x=g.x,this.y=g.y,this.z=g.z;for(const f of g.layers)this.layers[f.name]=new _A(f,{cacheSize:this._cacheSize});return this}createDecodingTask(o){const s=[],h=this.getLayer(o.layerName);for(let g of o.blockIndices){const f=h.dataIndex[g],_=f.firstByte-o.firstByte,F=f.lastByte-o.firstByte;if(h._blocksInProgress.has(g))continue;const R={layerName:h.name,firstByte:_,lastByte:F,pixelFormat:h.pixelFormat,blockIndex:g,blockShape:[f.bands.length].concat(h.bandShape),buffer:h.buffer,codec:f.codec.codec,filters:f.filters.map(M=>M.filter)};h._blocksInProgress.add(g),s.push(R)}return new y8(s,()=>{s.forEach(g=>h._blocksInProgress.delete(g.blockIndex))},(g,f)=>{if(s.forEach(_=>h._blocksInProgress.delete(_.blockIndex)),g)throw g;f.forEach(_=>{this.getLayer(_.layerName).processDecodedData(_)})})}}class _A{constructor({version:o,name:s,units:h,tileSize:g,pixelFormat:f,buffer:_,dataIndex:F},R){if(this.version=o,this.version!==1)throw new xs(`Cannot parse raster layer encoded with MRT version ${o}`);this.name=s,this.units=h,this.tileSize=g,this.buffer=_,this.pixelFormat=mA[f],this.dataIndex=F,this.bandShape=[g+2*_,g+2*_,_8[this.pixelFormat]],this._decodedBlocks=new tA(R?R.cacheSize:5),this._blocksInProgress=new Set}get dimension(){return _8[this.pixelFormat]}get cacheSize(){return this._decodedBlocks.capacity}getBandList(){return this.dataIndex.map(({bands:o})=>o).flat()}processDecodedData(o){const s=o.blockIndex.toString();this._decodedBlocks.get(s)||this._decodedBlocks.put(s,o.data)}getBlockForBand(o){let s=0;switch(typeof o){case"string":for(const[h,g]of this.dataIndex.entries()){for(const[f,_]of g.bands.entries())if(_===o)return{bandIndex:s+f,blockIndex:h,blockBandIndex:f};s+=g.bands.length}break;case"number":for(const[h,g]of this.dataIndex.entries()){if(o>=s&&o<s+g.bands.length)return{bandIndex:o,blockIndex:h,blockBandIndex:o-s};s+=g.bands.length}break;default:throw new xs(`Invalid band \`${JSON.stringify(o)}\`. Expected string or integer.`)}throw new xs(`Band not found: ${JSON.stringify(o)}`)}getDataRange(o){let s=1/0,h=-1/0;const g=[],f=new Set;for(const _ of o){const{blockIndex:F}=this.getBlockForBand(_);if(F<0)throw new xs(`Invalid band: ${JSON.stringify(_)}`);const R=this.dataIndex[F];g.includes(F)||g.push(F),f.add(F),s=Math.min(s,R.firstByte),h=Math.max(h,R.lastByte)}if(f.size>this.cacheSize)throw new xs(`Number of blocks to decode (${f.size}) exceeds cache size (${this.cacheSize}).`);return{layerName:this.name,firstByte:s,lastByte:h,blockIndices:g}}hasBand(o){const{blockIndex:s}=this.getBlockForBand(o);return s>=0}hasDataForBand(o){const{blockIndex:s}=this.getBlockForBand(o);return s>=0&&!!this._decodedBlocks.get(s.toString())}getBandView(o){const{blockIndex:s,blockBandIndex:h}=this.getBlockForBand(o),g=this._decodedBlocks.get(s.toString());if(!g)throw new xs(`Data for band ${JSON.stringify(o)} of layer "${this.name}" not decoded.`);const f=this.dataIndex[s],_=this.bandShape.reduce((M,v)=>M*v,1),F=h*_,R=g.subarray(F,F+_);return{data:R,bytes:new Uint8Array(R.buffer).subarray(R.byteOffset,R.byteOffset+R.byteLength),tileSize:this.tileSize,buffer:this.buffer,pixelFormat:this.pixelFormat,dimension:this.dimension,offset:f.offset,scale:f.scale}}}R4.setPbf=function(u){T4=u};class y8{constructor(o,s,h){this.tasks=o,this._onCancel=s,this._onComplete=h,this._finalized=!1}cancel(){this._finalized||(this._onCancel(),this._finalized=!0)}complete(o,s){this._finalized||(this._onComplete(o,s),this._finalized=!0)}}R4.performDecoding=function(u,o){const s=new Uint8Array(u);return Promise.all(o.tasks.map(h=>{const{layerName:g,firstByte:f,lastByte:_,pixelFormat:F,blockShape:R,blockIndex:M,filters:v,codec:T}=h,I=s.subarray(f,_+1),S=new Uint32Array(R[0]*R[1]*R[2]);let P;if(T!=="gzip_data")throw new xs(`Unhandled codec: ${T}`);return P=function(D,N){if(!globalThis.DecompressionStream&&N==="gzip_data")return Promise.resolve(((q=function(de){de[0]==31&&de[1]==139&&de[2]==8||Ys(6,"invalid gzip data");var Ee=de[3],be=10;4&Ee&&(be+=2+(de[10]|de[11]<<8));for(var xe=(Ee>>3&1)+(Ee>>4&1);xe>0;xe-=!de[be++]);return be+(2&Ee)}(X=D))+8>X.length&&Ys(6,"invalid gzip data"),function(de,Ee,be,xe){var Ve=de.length;if(!Ve||Ee.f&&!Ee.l)return be||new os(0);var ve=!be,Be=ve||Ee.i!=2,We=Ee.i;ve&&(be=new os(3*Ve));var Ke,tt,ht=function(Td){var sh=be.length;if(Td>sh){var t1=new os(Math.max(2*sh,Td));t1.set(be),be=t1}},mt=Ee.f||0,lt=Ee.p||0,Pt=Ee.b||0,Nt=Ee.l,wt=Ee.d,ci=Ee.m,Jt=Ee.n,qt=8*Ve;do{if(!Nt){mt=Js(de,lt,1);var zt=Js(de,lt+1,3);if(lt+=3,!zt){var Ci=de[(Di=4+((lt+7)/8|0))-4]|de[Di-3]<<8,si=Di+Ci;if(si>Ve){We&&Ys(0);break}Be&&ht(Pt+Ci),be.set(de.subarray(Di,si),Pt),Ee.b=Pt+=Ci,Ee.p=lt=8*si,Ee.f=mt;continue}if(zt==1)Nt=lA,wt=dA,ci=9,Jt=5;else if(zt==2){var pi=Js(de,lt,31)+257,$i=Js(de,lt+10,15)+4,Qi=pi+Js(de,lt+5,31)+1;lt+=14;for(var Xi=new os(Qi),Zi=new os(19),on=0;on<$i;++on)Zi[aA[on]]=Js(de,lt+3*on,7);lt+=3*$i;var en=E4(Zi),Qn=(1<<en)-1,Hn=Wm(Zi,en);for(on=0;on<Qi;){var Di,Pn=Hn[Js(de,lt,Qn)];if(lt+=15&Pn,(Di=Pn>>4)<16)Xi[on++]=Di;else{var An=0,co=0;for(Di==16?(co=3+Js(de,lt,3),lt+=2,An=Xi[on-1]):Di==17?(co=3+Js(de,lt,7),lt+=3):Di==18&&(co=11+Js(de,lt,127),lt+=7);co--;)Xi[on++]=An}}var Oo=Xi.subarray(0,pi),Ko=Xi.subarray(pi);ci=E4(Oo),Jt=E4(Ko),Nt=Wm(Oo,ci),wt=Wm(Ko,Jt)}else Ys(1);if(lt>qt){We&&Ys(0);break}}Be&&ht(Pt+131072);for(var Lo=(1<<ci)-1,Co=(1<<Jt)-1,No=lt;;No=lt){var tr=(An=Nt[S4(de,lt)&Lo])>>4;if((lt+=15&An)>qt){We&&Ys(0);break}if(An||Ys(2),tr<256)be[Pt++]=tr;else{if(tr==256){No=lt,Nt=null;break}var Tr=tr-254;tr>264&&(Tr=Js(de,lt,(1<<(tc=d8[on=tr-257]))-1)+p8[on],lt+=tc);var oo=wt[S4(de,lt)&Co],wa=oo>>4;if(oo||Ys(3),lt+=15&oo,Ko=cA[wa],wa>3){var tc=u8[wa];Ko+=S4(de,lt)&(1<<tc)-1,lt+=tc}if(lt>qt){We&&Ys(0);break}Be&&ht(Pt+131072);var ws=Pt+Tr;if(Pt<Ko){var Fs=0-Ko,ah=Math.min(Ko,ws);for(Fs+Pt<0&&Ys(3);Pt<ah;++Pt)be[Pt]=(void 0)[Fs+Pt]}for(;Pt<ws;++Pt)be[Pt]=be[Pt-Ko]}}Ee.l=Nt,Ee.p=No,Ee.b=Pt,Ee.f=mt,Nt&&(mt=1,Ee.m=ci,Ee.d=wt,Ee.n=Jt)}while(!mt);return Pt!=be.length&&ve?(Ke=be,((tt=Pt)==null||tt>Ke.length)&&(tt=Ke.length),new os(Ke.subarray(0,tt))):be.subarray(0,Pt)}(X.subarray(q,-8),{i:2},new os(((U=X)[(Z=U.length)-4]|U[Z-3]<<8|U[Z-2]<<16|U[Z-1]<<24)>>>0))));var U,Z,X,q;const te=pA[N];if(!te)throw new Error(`Unhandled codec: ${N}`);const ie=new globalThis.DecompressionStream(te);return new Response(new Blob([D]).stream().pipeThrough(ie)).arrayBuffer().then(de=>new Uint8Array(de))}(I,T).then(D=>(function(N,U){N.readFields(YM,U)}(new T4(D),S),new gA[F](S.buffer))),P.then(D=>{for(let N=v.length-1;N>=0;N--)switch(v[N]){case"delta_filter":iA(D,R);break;case"zigzag_filter":nA(D);break;case"bitshuffle_filter":oA(D,F);break;default:throw new xs(`Unhandled filter "${v[N]}"`)}return{layerName:g,blockIndex:M,data:D}}).catch(D=>{throw D})}))},hi(y8,"MRTDecodingBatch",{omit:["_onCancel","_onComplete"]});var Zm={workerUrl:"",workerClass:null,workerParams:void 0};const P4="mapboxgl_preloaded_worker_pool";class Qm{constructor(){this.active={}}acquire(o){if(!this.workers)for(this.workers=[];this.workers.length<Qm.workerCount;)this.workers.push(Zm.workerClass!=null?new Zm.workerClass:new self.Worker(Zm.workerUrl,Zm.workerParams));return this.active[o]=!0,this.workers.slice()}release(o){delete this.active[o],this.workers&&this.numActive()===0&&(this.workers.forEach(s=>{s.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[P4]}numActive(){return Object.keys(this.active).length}}let Xm;function qy(){return Xm||(Xm=new Qm),Xm}Qm.workerCount=2;let Jm,I4,ec,Xf,k4,Jf=null;function b8(){return fa()&&self.worker&&self.worker.dracoUrl?self.worker.dracoUrl:I4||ke.DRACO_URL}function v8(){if(fa()&&self.worker&&self.worker.meshoptUrl)return self.worker.meshoptUrl;if(Xf)return Xf;const u=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]);if(typeof WebAssembly!="object")throw new Error("WebAssembly not supported, cannot instantiate meshoptimizer");return Xf=WebAssembly.validate(u)?ke.MESHOPT_SIMD_URL:ke.MESHOPT_URL,Xf}const Wy={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},yA={5120:"DT_INT8",5121:"DT_UINT8",5122:"DT_INT16",5123:"DT_UINT16",5125:"DT_UINT32",5126:"DT_FLOAT32"},Ym={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16};function x8(u,o,s){const h=s.json.bufferViews.length,g=s.buffers.length;o.bufferView=h,s.json.bufferViews[h]={buffer:g,byteLength:u.byteLength},s.buffers[g]=u}const M4="KHR_draco_mesh_compression";function bA(u,o){const s=u.extensions&&u.extensions[M4];if(!s)return;const h=new ec.Decoder,g=E8(o,s.bufferView),f=new ec.Mesh;if(!h.DecodeArrayToMesh(g,g.byteLength,f))throw new Error("Failed to decode Draco mesh");const _=o.json.accessors[u.indices],F=Wy[_.componentType],R=_.count*F.BYTES_PER_ELEMENT,M=ec._malloc(R);F===Uint16Array?h.GetTrianglesUInt16Array(f,R,M):h.GetTrianglesUInt32Array(f,R,M),x8(ec.memory.buffer.slice(M,M+R),_,o),ec._free(M);for(const v of Object.keys(s.attributes)){const T=h.GetAttributeByUniqueId(f,s.attributes[v]),I=o.json.accessors[u.attributes[v]],S=yA[I.componentType],P=I.count*Ym[I.type]*Wy[I.componentType].BYTES_PER_ELEMENT,D=ec._malloc(P);h.GetAttributeDataArrayForAllPoints(f,T,ec[S],P,D),x8(ec.memory.buffer.slice(D,D+P),I,o),ec._free(D)}h.destroy(),f.destroy(),delete u.extensions[M4]}const Ky="EXT_meshopt_compression";function vA(u,o){if(!u.extensions||!u.extensions[Ky])return;const s=u.extensions[Ky],h=new Uint8Array(o.buffers[s.buffer],s.byteOffset||0,s.byteLength||0),g=new Uint8Array(s.count*s.byteStride);k4.decodeGltfBuffer(g,s.count,s.byteStride,h,s.mode,s.filter),u.buffer=o.buffers.length,u.byteOffset=0,o.buffers[u.buffer]=g.buffer,delete u.extensions[Ky]}const w8=1179937895,F8=new TextDecoder("utf8");function C8(u,o){return new URL(u,o).href}function xA(u,o,s,h){return fetch(C8(u.uri,h)).then(g=>g.arrayBuffer()).then(g=>{o.buffers[s]=g})}function E8(u,o){const s=u.json.bufferViews[o];return new Uint8Array(u.buffers[s.buffer],s.byteOffset||0,s.byteLength)}function wA(u,o,s,h){if(u.uri){const g=C8(u.uri,h);return fetch(g).then(f=>f.blob()).then(f=>createImageBitmap(f)).then(f=>{o.images[s]=f})}if(u.bufferView!==void 0){const g=E8(o,u.bufferView),f=new Blob([g],{type:u.mimeType});return createImageBitmap(f).then(_=>{o.images[s]=_})}}function S8(u,o=0,s){const h={json:null,images:[],buffers:[]};if(new Uint32Array(u,o,1)[0]===w8){const v=new Uint32Array(u,o);let T=2;const I=(v[T++]>>2)-3,S=v[T++]>>2;if(T++,h.json=JSON.parse(F8.decode(v.subarray(T,T+S))),T+=S,T<I){const P=v[T++];T++;const D=o+(T<<2);h.buffers[0]=u.slice(D,D+P)}}else h.json=JSON.parse(F8.decode(new Uint8Array(u,o)));const{buffers:g,images:f,meshes:_,extensionsUsed:F,bufferViews:R}=h.json;let M=Promise.resolve();if(g){const v=[];for(let T=0;T<g.length;T++){const I=g[T];I.uri?v.push(xA(I,h,T,s)):h.buffers[T]||(h.buffers[T]=null)}M=Promise.all(v)}return M.then(()=>{const v=[],T=F&&F.includes(M4),I=F&&F.includes(Ky);if(T&&v.push(function(){if(!ec)return Jm??(Jm=function(S){let P,D=null;function N(){P=new Uint8Array(D.buffer)}function U(){throw new Error("Unexpected Draco error.")}const Z={a:{a:U,d:function(X,q,te){return P.copyWithin(X,q,q+te)},c:function(X){const q=P.length,te=Math.max(X>>>0,Math.ceil(1.2*q)),ie=Math.ceil((te-q)/65536);try{return D.grow(ie),N(),!0}catch{return!1}},b:U}};return(WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(S,Z):S.then(X=>X.arrayBuffer()).then(X=>WebAssembly.instantiate(X,Z))).then(X=>{const{Rb:q,Qb:te,P:ie,T:de,X:Ee,Ja:be,La:xe,Qa:Ve,Va:ve,Wa:Be,eb:We,jb:Ke,f:tt,e:ht,yb:mt,zb:lt,Ab:Pt,Bb:Nt,Db:wt,Gb:ci}=X.instance.exports;D=ht;const Jt=(()=>{let qt=0,zt=0,Ci=0,si=0;return pi=>{Ci&&(q(si),q(qt),zt+=Ci,Ci=qt=0),qt||(zt+=128,qt=te(zt));const $i=pi.length+7&-8;let Qi=qt;$i>=zt&&(Ci=$i,Qi=si=te($i));for(let Xi=0;Xi<pi.length;Xi++)P[Qi+Xi]=pi[Xi];return Qi}})();return N(),tt(),{memory:ht,_free:q,_malloc:te,Mesh:class{constructor(){this.ptr=ie()}destroy(){de(this.ptr)}},Decoder:class{constructor(){this.ptr=be()}destroy(){Ke(this.ptr)}DecodeArrayToMesh(qt,zt,Ci){const si=Jt(qt),pi=xe(this.ptr,si,zt,Ci.ptr);return!!Ee(pi)}GetAttributeByUniqueId(qt,zt){return{ptr:Ve(this.ptr,qt.ptr,zt)}}GetTrianglesUInt16Array(qt,zt,Ci){ve(this.ptr,qt.ptr,zt,Ci)}GetTrianglesUInt32Array(qt,zt,Ci){Be(this.ptr,qt.ptr,zt,Ci)}GetAttributeDataArrayForAllPoints(qt,zt,Ci,si,pi){We(this.ptr,qt.ptr,zt.ptr,Ci,si,pi)}},DT_INT8:mt(),DT_UINT8:lt(),DT_INT16:Pt(),DT_UINT16:Nt(),DT_UINT32:wt(),DT_FLOAT32:ci()}})}(fetch(b8())),Jm.then(S=>{ec=S,Jm=void 0}))}()),I&&v.push(function(){if(k4)return;const S=function(P){let D;const N=WebAssembly.instantiateStreaming(P,{}).then(X=>{D=X.instance,D.exports.__wasm_call_ctors()}),U={NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},Z={ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return{ready:N,supported:!0,decodeGltfBuffer(X,q,te,ie,de,Ee){(function(be,xe,Ve,ve,Be,We,Ke){const tt=be.exports.sbrk,ht=ve+3&-4,mt=tt(ht*Be),lt=tt(We.length),Pt=new Uint8Array(be.exports.memory.buffer);Pt.set(We,lt);const Nt=xe(mt,ve,Be,lt,We.length);if(Nt===0&&Ke&&Ke(mt,ht,Be),Ve.set(Pt.subarray(mt,mt+ve*Be)),tt(mt-tt(0)),Nt!==0)throw new Error(`Malformed buffer data: ${Nt}`)})(D,D.exports[Z[de]],X,q,te,ie,D.exports[U[Ee]])}}}(fetch(v8()));return S.ready.then(()=>{k4=S})}()),f)for(let S=0;S<f.length;S++)v.push(wA(f[S],h,S,s));return(v.length?Promise.all(v):Promise.resolve()).then(()=>{if(T&&_)for(const{primitives:S}of _)for(const P of S)bA(P,h);if(I&&_&&R)for(const S of R)vA(S,h);return h})})}function rh(u,o){const s=u.json.bufferViews[o.bufferView],h=Wy[o.componentType];return new h(u.buffers[s.buffer],(o.byteOffset||0)+(s.byteOffset||0),o.count*(s.byteStride&&s.byteStride!==Ym[o.type]*h.BYTES_PER_ELEMENT?s.byteStride/h.BYTES_PER_ELEMENT:Ym[o.type]))}function A4(u,o,s,h){const g=Wy[o.componentType],f=function(v){switch(v){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:return 1}}(g),_=u.json.bufferViews[o.bufferView],F=_.byteStride?_.byteStride/g.BYTES_PER_ELEMENT:Ym[o.type],R=s.float32,M=R.length/s.capacity;for(let v=0,T=0;v<o.count*F;v+=F,T+=M)for(let I=0;I<M;I++)R[T+I]=h[v+I]*f;s._trim()}function FA(u,o,s){const h=u.indices,g=u.attributes,f={};f.indexArray=new fo;const _=o.json.accessors[h],F=_.count/3;f.indexArray.reserve(F);const R=rh(o,_);for(let I=0;I<F;I++)f.indexArray.emplaceBack(R[3*I],R[3*I+1],R[3*I+2]);f.indexArray._trim(),f.vertexArray=new Tc;const M=o.json.accessors[g.POSITION];f.vertexArray.reserve(M.count);const v=rh(o,M);for(let I=0;I<M.count;I++)f.vertexArray.emplaceBack(v[3*I],v[3*I+1],v[3*I+2]);if(f.vertexArray._trim(),f.aabb=new Mn(M.min,M.max),f.centroid=function(I,S){const P=[0,0,0],D=I.length;if(D>0){for(let N=0;N<D;N++){const U=3*I[N];P[0]+=S[U],P[1]+=S[U+1],P[2]+=S[U+2]}P[0]/=D,P[1]/=D,P[2]/=D}return P}(R,v),g.COLOR_0!==void 0){const I=o.json.accessors[g.COLOR_0],S=Ym[I.type],P=rh(o,I);f.colorArray=S===3?new Tc:new Us,f.colorArray.resize(I.count),A4(o,I,f.colorArray,P)}if(g.NORMAL!==void 0){f.normalArray=new Tc;const I=o.json.accessors[g.NORMAL];f.normalArray.resize(I.count);const S=rh(o,I);A4(o,I,f.normalArray,S)}if(g.TEXCOORD_0!==void 0&&s.length>0){f.texcoordArray=new Ku;const I=o.json.accessors[g.TEXCOORD_0];f.texcoordArray.resize(I.count);const S=rh(o,I);A4(o,I,f.texcoordArray,S)}if(g._FEATURE_ID_RGBA4444!==void 0){const I=o.json.accessors[g._FEATURE_ID_RGBA4444];o.json.extensionsUsed&&o.json.extensionsUsed.includes("EXT_meshopt_compression")&&(f.featureData=rh(o,I))}g._FEATURE_RGBA4444!==void 0&&(f.featureData=new Uint32Array(rh(o,o.json.accessors[g._FEATURE_RGBA4444]).buffer));const T=u.material;return f.material=function(I,S){const{emissiveFactor:P=[0,0,0],alphaMode:D="OPAQUE",alphaCutoff:N=.5,normalTexture:U,occlusionTexture:Z,emissiveTexture:X,doubleSided:q}=I,{baseColorFactor:te=[1,1,1,1],metallicFactor:ie=1,roughnessFactor:de=1,baseColorTexture:Ee,metallicRoughnessTexture:be}=I.pbrMetallicRoughness||{},xe=Z?S[Z.index]:void 0;if(Z&&Z.extensions&&Z.extensions.KHR_texture_transform&&xe){const Ve=Z.extensions.KHR_texture_transform;xe.offsetScale=[Ve.offset[0],Ve.offset[1],Ve.scale[0],Ve.scale[1]]}return{pbrMetallicRoughness:{baseColorFactor:new Dn(...te),metallicFactor:ie,roughnessFactor:de,baseColorTexture:Ee?S[Ee.index]:void 0,metallicRoughnessTexture:be?S[be.index]:void 0},doubleSided:q,emissiveFactor:P,alphaMode:D,alphaCutoff:N,normalTexture:U?S[U.index]:void 0,occlusionTexture:xe,emissionTexture:X?S[X.index]:void 0,defined:I.defined===void 0}}(T!==void 0?o.json.materials[T]:{defined:!1},s),f}function T8(u,o,s){const{matrix:h,rotation:g,translation:f,scale:_,mesh:F,extras:R,children:M}=u,v={};if(v.matrix=h||Re.mat4.fromRotationTranslationScale([],g||[0,0,0,1],f||[0,0,0],_||[1,1,1]),F!==void 0){v.meshes=s[F];const T=v.anchor=[0,0];for(const I of v.meshes){const{min:S,max:P}=I.aabb;T[0]+=S[0]+P[0],T[1]+=S[1]+P[1]}T[0]=Math.floor(T[0]/v.meshes.length/2),T[1]=Math.floor(T[1]/v.meshes.length/2)}if(R&&(R.id&&(v.id=R.id),R.lights&&(v.lights=function(T){if(!T.length)return[];const I=function(U){const Z=atob(U),X=new Uint8Array(Z.length);for(let q=0;q<Z.length;q++)X[q]=Z.codePointAt(q);return X}(T),S=[],P=I.length/24,D=new Uint16Array(I.buffer),N=new Float32Array(I.buffer);for(let U=0;U<P;U++){const Z=D[2*U*6]/30,X=D[2*U*6+1]/30,q=D[2*U*6+10]/100,te=N[6*U+1],ie=N[6*U+2],de=N[6*U+3],Ee=N[6*U+4],be=de-te,xe=Ee-ie,Ve=Math.hypot(be,xe);S.push({pos:[te+.5*be,ie+.5*xe,X],normal:[xe/Ve,-be/Ve,0],width:Ve,height:Z,depth:q,points:[te,ie,de,Ee]})}return S}(R.lights))),M){const T=[];for(const I of M)T.push(T8(o.json.nodes[I],o,s));v.children=T}return v}function CA(u){if(u.vertices.length===0||u.indices.length===0)return null;const o=new Nv(u.vertices,u.indices,8,256),[s,h]=[o.min.clone(),o.max.clone()];return{vertices:u.vertices,indices:u.indices,grid:o,min:s,max:h}}function EA(u){if(!u.extras||!u.extras.ground)return null;const o=u.extras.ground;if(!o||!Array.isArray(o)||o.length===0)return null;const s=o[0];if(!s||!Array.isArray(s)||s.length===0)return null;const h=[];for(const _ of s){if(!Array.isArray(_)||_.length!==2)continue;const F=_[0],R=_[1];typeof F=="number"&&typeof R=="number"&&h.push(new K(F,R))}if(h.length<3)return null;h.length>1&&h[h.length-1].equals(h[0])&&h.pop();let g=0;for(let _=0;_<h.length;_++){const F=h[_],R=h[(_+1)%h.length],M=h[(_+2)%h.length];g+=(F.x-R.x)*(M.y-R.y)-(M.x-R.x)*(F.y-R.y)}g>0&&h.reverse();const f=Cm(h.flatMap(_=>[_.x,_.y]),[]);return f.length===0?null:{vertices:h,indices:f}}function SA(u,o){const s=[],h=[];let g=0;const f=[];for(const _ of u){g=s.length;const F=_.vertexArray.float32,R=_.indexArray.uint16;for(let M=0;M<_.vertexArray.length;M++)f[0]=F[3*M+0],f[1]=F[3*M+1],f[2]=F[3*M+2],Re.vec3.transformMat4(f,f,o),s.push(new K(f[0],f[1]));for(let M=0;M<3*_.indexArray.length;M++)h.push(R[M]+g)}if(h.length%3!=0)return null;for(let _=0;_<h.length;_+=3){const F=s[h[_+0]],R=s[h[_+1]],M=s[h[_+2]];(F.x-R.x)*(M.y-R.y)-(M.x-R.x)*(F.y-R.y)>0&&([h[_+1],h[_+2]]=[h[_+2],h[_+1]])}return{vertices:s,indices:h}}function R8(u){const o=function(R,M){const v=[],T=WebGL2RenderingContext;if(R.json.textures)for(const I of R.json.textures){const S={magFilter:T.LINEAR,minFilter:T.NEAREST,wrapS:T.REPEAT,wrapT:T.REPEAT};I.sampler!==void 0&&Object.assign(S,R.json.samplers[I.sampler]),v.push({image:M[I.source],sampler:S,uploaded:!1})}return v}(u,u.images),s=function(R,M){const v=[];for(const T of R.json.meshes){const I=[];for(const S of T.primitives)I.push(FA(S,R,M));v.push(I)}return v}(u,o),{scenes:h,scene:g,nodes:f}=u.json,_=h?h[g||0].nodes:f,F=[];for(const R of _)F.push(T8(f[R],u,s));return function(R,M,v){const T={},I=new Set;for(let S=0;S<R.length;S++){const P=v[M[S]];if(!P.extras)continue;const D=P.extras["mapbox:footprint:version"],N=P.extras["mapbox:footprint:id"];(D||N)&&I.add(S),D==="1.0.0"&&N&&(T[N]=S)}for(let S=0;S<R.length;S++){if(I.has(S))continue;const P=R[S],D=v[M[S]];if(!D.extras)continue;let N=null;P.id in T&&(N=SA(R[T[P.id]].meshes,P.matrix)),N||(N=EA(D)),N&&(P.footprint=CA(N))}if(I.size>0){const S=Array.from(I.values()).sort((P,D)=>P-D);for(let P=S.length-1;P>=0;P--)R.splice(S[P],1)}}(F,_,u.json.nodes),F}function TA(u){u.heightmap=new Float32Array(4096),u.heightmap.fill(-1);const o=u.vertexArray.float32,s=u.aabb.min[0]-1,h=u.aabb.min[1]-1,g=nh/(u.aabb.max[0]-s+2),f=nh/(u.aabb.max[1]-h+2);for(let _=0;_<o.length;_+=3){const F=o[_+2],R=(o[_+0]-s)*g|0,M=(o[_+1]-h)*f|0;F>u.heightmap[M*nh+R]&&(u.heightmap[M*nh+R]=F)}}function RA(u,o){const s={};s.indexArray=new fo,s.indexArray.reserve(4*u.length),s.vertexArray=new Tc,s.vertexArray.reserve(10*u.length),s.colorArray=new Us,s.vertexArray.reserve(10*u.length);let h=0;for(const _ of u){const F=Math.min(10,Math.max(4,1.3*_.height))*o,R=[-_.normal[1],_.normal[0],0],M=Math.min(.29,.1*_.width/_.depth),v=_.width-2*_.depth*o*(M+.01),T=Re.vec3.scaleAndAdd([],_.pos,R,v/2),I=Re.vec3.scaleAndAdd([],_.pos,R,-v/2),S=[T[0],T[1],T[2]+_.height],P=[I[0],I[1],I[2]+_.height],D=Re.vec3.scaleAndAdd([],_.normal,R,M);Re.vec3.scale(D,D,F);const N=Re.vec3.scaleAndAdd([],_.normal,R,-M);Re.vec3.scale(N,N,F),Re.vec3.add(D,T,D),Re.vec3.add(N,I,N),T[2]+=.1,I[2]+=.1,s.vertexArray.emplaceBack(D[0],D[1],D[2]),s.vertexArray.emplaceBack(N[0],N[1],N[2]),s.vertexArray.emplaceBack(T[0],T[1],T[2]),s.vertexArray.emplaceBack(I[0],I[1],I[2]),s.vertexArray.emplaceBack(S[0],S[1],S[2]),s.vertexArray.emplaceBack(P[0],P[1],P[2]),s.vertexArray.emplaceBack(T[0],T[1],T[2]),s.vertexArray.emplaceBack(I[0],I[1],I[2]),s.vertexArray.emplaceBack(D[0],D[1],D[2]),s.vertexArray.emplaceBack(N[0],N[1],N[2]);const U=v/F/2;s.colorArray.emplaceBack(-U-M,-1,U,.8),s.colorArray.emplaceBack(U+M,-1,U,.8),s.colorArray.emplaceBack(-U,0,U,1.3),s.colorArray.emplaceBack(U,0,U,1.3),s.colorArray.emplaceBack(U+M,-.8,U,.7),s.colorArray.emplaceBack(U+M,-.8,U,.7),s.colorArray.emplaceBack(0,0,U,1.3),s.colorArray.emplaceBack(0,0,U,1.3),s.colorArray.emplaceBack(U+M,-1.2,U,.8),s.colorArray.emplaceBack(U+M,-1.2,U,.8),s.indexArray.emplaceBack(6+h,4+h,8+h),s.indexArray.emplaceBack(7+h,9+h,5+h),s.indexArray.emplaceBack(0+h,1+h,2+h),s.indexArray.emplaceBack(1+h,3+h,2+h),h+=10}const g={defined:!0,emissiveFactor:[0,0,0]},f={};return f.baseColorFactor=Dn.white,g.pbrMetallicRoughness=f,s.material=g,s.aabb=new Mn([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),s}class P8{constructor(o){this._stringToNumber={},this._numberToString=[];for(let s=0;s<o.length;s++){const h=o[s];this._stringToNumber[h]=s,this._numberToString[s]=h}}encode(o){return this._stringToNumber[o]}decode(o){return this._numberToString[o]}}class I8{constructor(o,s){this.tileID=o,this.x=o.canonical.x,this.y=o.canonical.y,this.z=o.canonical.z,this.grid=new ol(Yt,16,0),this.featureIndexArray=new ey,this.promoteId=s,this.is3DTile=!1,this.serializedLayersCache=new Map}insert(o,s,h,g,f,_=0,F=0){const R=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(h,g,f,_);const M=this.grid;for(let v=0;v<s.length;v++){const T=s[v],I=[1/0,1/0,-1/0,-1/0];for(let S=0;S<T.length;S++){const P=T[S];I[0]=Math.min(I[0],P.x),I[1]=Math.min(I[1],P.y),I[2]=Math.max(I[2],P.x),I[3]=Math.max(I[3],P.y)}F!==0&&(I[0]-=F,I[1]-=F,I[2]+=F,I[3]+=F),I[0]<Yt&&I[1]<Yt&&I[2]>=0&&I[3]>=0&&M.insert(R,I[0],I[1],I[2],I[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new Nf.VectorTile(new Fy(this.rawTileData)).layers,this.sourceLayerCoder=new P8(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const o in this.vtLayers)this.vtFeatures[o]=[]}return this.vtLayers}query(o,s,h){this.loadVTLayers(),this.serializedLayersCache.clear();const g=Cf(o.filter),f=o.tileResult,_=o.transform,F=f.bufferedTilespaceBounds,R=this.grid.query(F.min.x,F.min.y,F.max.x,F.max.y,(I,S,P,D)=>qn(f.bufferedTilespaceGeometry,I,S,P,D));R.sort(PA);let M=null;_.elevation&&R.length>0&&(M=Kf.create(_.elevation,this.tileID));const v={};let T;for(let I=0;I<R.length;I++){const S=R[I];if(S===T)continue;T=S;const P=this.featureIndexArray.get(S);let D=null;if(this.is3DTile){const N=this.bucketLayerIDs[0][0],U=s[N];if(U.type!=="model")continue;const{queryFeature:Z,intersectionZ:X}=U.queryIntersectsMatchingFeature(f,P.featureIndex,g,_);Z&&this.appendToResult(v,N,P.featureIndex,Z,X)}else this.loadMatchingFeature(v,P,g,o.layers,o.availableImages,s,h,(N,U,Z,X=0)=>(D||(D=st(N,this.tileID.canonical,o.tileTransform)),U.queryIntersectsFeature(f,N,Z,D,this.z,o.transform,o.pixelPosMatrix,M,X)))}return v}loadMatchingFeature(o,s,h,g,f,_,F,R){const{featureIndex:M,bucketIndex:v,sourceLayerIndex:T,layoutVertexArrayOffset:I}=s,S=this.bucketLayerIDs[v];if(g.length&&!function(U,Z){for(let X=0;X<U.length;X++)if(Z.indexOf(U[X])>=0)return!0;return!1}(g,S))return;const P=this.sourceLayerCoder.decode(T),D=this.vtLayers[P].feature(M);if(h.needGeometry){const U=Ot(D,!0);if(!h.filter(new _o(this.tileID.overscaledZ),U,this.tileID.canonical))return}else if(!h.filter(new _o(this.tileID.overscaledZ),D))return;const N=this.getId(D,P);for(let U=0;U<S.length;U++){const Z=S[U];if(g.length&&g.indexOf(Z)<0)continue;const X=_[Z];if(!X)continue;let q={};N!==void 0&&F&&(q=F.getState(X.sourceLayer||"_geojsonTileLayer",N));const te=!R||R(D,X,q,I);if(!te)continue;const ie=new Hm(D,this.z,this.x,this.y,N);let de=this.serializedLayersCache.get(Z);de||(de=X.serialize(),de.id=Z,this.serializedLayersCache.set(Z,de)),ie.layer=wi({},de),ie.tile=this.tileID.canonical,ie.layer.paint=k8(de.paint,X.paint,D,q,f),ie.layer.layout=k8(de.layout,X.layout,D,q,f),this.appendToResult(o,Z,M,ie,te)}}appendToResult(o,s,h,g,f){let _=o[s];_===void 0&&(_=o[s]=[]),_.push({featureIndex:h,feature:g,intersectionZ:f})}lookupSymbolFeatures(o,s,h,g,f,_,F){const R={};this.loadVTLayers();const M=Cf(g);for(const v of o)this.loadMatchingFeature(R,{bucketIndex:s,sourceLayerIndex:h,featureIndex:v,layoutVertexArrayOffset:0},M,f,_,F);return R}loadFeature(o){const{featureIndex:s,sourceLayerIndex:h}=o;this.loadVTLayers();const g=this.sourceLayerCoder.decode(h),f=this.vtFeatures[g];if(f[s])return f[s];const _=this.vtLayers[g].feature(s);return f[s]=_,_}hasLayer(o){for(const s of this.bucketLayerIDs)for(const h of s)if(o===h)return!0;return!1}getId(o,s){let h=o.id;if(this.promoteId){const g=typeof this.promoteId=="string"?this.promoteId:this.promoteId[s];g!=null&&(h=o.properties[g]),typeof h=="boolean"&&(h=Number(h))}return h}}function k8(u,o,s,h,g){return or(u,(f,_)=>{const F=o instanceof sd?o.get(_):null;return F&&F.evaluate?F.evaluate(s,h,g):F})}function PA(u,o){return o-u}hi(I8,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});const M8=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class O4{static from(o){if(!(o instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[s,h]=new Uint8Array(o,0,2);if(s!==219)throw new Error("Data does not appear to be in a KDBush format.");const g=h>>4;if(g!==1)throw new Error(`Got v${g} data when expected v1.`);const f=M8[15&h];if(!f)throw new Error("Unrecognized array type.");const[_]=new Uint16Array(o,2,1),[F]=new Uint32Array(o,4,1);return new O4(F,_,f,o)}constructor(o,s=64,h=Float64Array,g){if(isNaN(o)||o<0)throw new Error(`Unpexpected numItems value: ${o}.`);this.numItems=+o,this.nodeSize=Math.min(Math.max(+s,2),65535),this.ArrayType=h,this.IndexArrayType=o<65536?Uint16Array:Uint32Array;const f=M8.indexOf(this.ArrayType),_=2*o*this.ArrayType.BYTES_PER_ELEMENT,F=o*this.IndexArrayType.BYTES_PER_ELEMENT,R=(8-F%8)%8;if(f<0)throw new Error(`Unexpected typed array class: ${h}.`);g&&g instanceof ArrayBuffer?(this.data=g,this.ids=new this.IndexArrayType(this.data,8,o),this.coords=new this.ArrayType(this.data,8+F+R,2*o),this._pos=2*o,this._finished=!0):(this.data=new ArrayBuffer(8+_+F+R),this.ids=new this.IndexArrayType(this.data,8,o),this.coords=new this.ArrayType(this.data,8+F+R,2*o),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+f]),new Uint16Array(this.data,2,1)[0]=s,new Uint32Array(this.data,4,1)[0]=o)}add(o,s){const h=this._pos>>1;return this.ids[h]=h,this.coords[this._pos++]=o,this.coords[this._pos++]=s,h}finish(){const o=this._pos>>1;if(o!==this.numItems)throw new Error(`Added ${o} items when expected ${this.numItems}.`);return L4(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(o,s,h,g){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:f,coords:_,nodeSize:F}=this,R=[0,f.length-1,0],M=[];for(;R.length;){const v=R.pop()||0,T=R.pop()||0,I=R.pop()||0;if(T-I<=F){for(let N=I;N<=T;N++){const U=_[2*N],Z=_[2*N+1];U>=o&&U<=h&&Z>=s&&Z<=g&&M.push(f[N])}continue}const S=I+T>>1,P=_[2*S],D=_[2*S+1];P>=o&&P<=h&&D>=s&&D<=g&&M.push(f[S]),(v===0?o<=P:s<=D)&&(R.push(I),R.push(S-1),R.push(1-v)),(v===0?h>=P:g>=D)&&(R.push(S+1),R.push(T),R.push(1-v))}return M}within(o,s,h){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:g,coords:f,nodeSize:_}=this,F=[0,g.length-1,0],R=[],M=h*h;for(;F.length;){const v=F.pop()||0,T=F.pop()||0,I=F.pop()||0;if(T-I<=_){for(let N=I;N<=T;N++)O8(f[2*N],f[2*N+1],o,s)<=M&&R.push(g[N]);continue}const S=I+T>>1,P=f[2*S],D=f[2*S+1];O8(P,D,o,s)<=M&&R.push(g[S]),(v===0?o-h<=P:s-h<=D)&&(F.push(I),F.push(S-1),F.push(1-v)),(v===0?o+h>=P:s+h>=D)&&(F.push(S+1),F.push(T),F.push(1-v))}return R}}function L4(u,o,s,h,g,f){if(g-h<=s)return;const _=h+g>>1;A8(u,o,_,h,g,f),L4(u,o,s,h,_-1,1-f),L4(u,o,s,_+1,g,1-f)}function A8(u,o,s,h,g,f){for(;g>h;){if(g-h>600){const M=g-h+1,v=s-h+1,T=Math.log(M),I=.5*Math.exp(2*T/3),S=.5*Math.sqrt(T*I*(M-I)/M)*(v-M/2<0?-1:1);A8(u,o,s,Math.max(h,Math.floor(s-v*I/M+S)),Math.min(g,Math.floor(s+(M-v)*I/M+S)),f)}const _=o[2*s+f];let F=h,R=g;for(e1(u,o,h,s),o[2*g+f]>_&&e1(u,o,h,g);F<R;){for(e1(u,o,F,R),F++,R--;o[2*F+f]<_;)F++;for(;o[2*R+f]>_;)R--}o[2*h+f]===_?e1(u,o,h,R):(R++,e1(u,o,R,g)),R<=s&&(h=R+1),s<=R&&(g=R-1)}}function e1(u,o,s,h){D4(u,s,h),D4(o,2*s,2*h),D4(o,2*s+1,2*h+1)}function D4(u,o,s){const h=u[o];u[o]=u[s],u[s]=h}function O8(u,o,s,h){const g=u-s,f=o-h;return g*g+f*f}n.$=$_,n.A=class extends $y{},n.B=Jc,n.C=jl,n.D=im,n.E=Bl,n.F=N0,n.G=il,n.H=V0,n.I=r4,n.J=_f,n.K=al,n.L=nl,n.M=od,n.N=lf,n.O=Yl,n.P=K,n.Q=Iu,n.R=Gh,n.S=ea,n.T=_4,n.U=p0,n.V=$y,n.W=nm,n.X=$0,n.Y=L_,n.Z=function(u){const o=u.value;let s=[];if(!o)return s;const h=Jc(o);return h!=="string"?(s=s.concat([new $y(u.key,o,`string expected, "${h}" found`)]),s):(H7(o,!0)||(s=s.concat([new $y(u.key,o,`invalid url "${o}"`)])),s)},n._=ft,n.a=function(u){return ke.API_CDN_URL_REGEX.test(u)},n.a$=Sc,n.a0=io,n.a1=Kt,n.a2=class{constructor(u){this.specification=u}possiblyEvaluate(u,o){return Lr(u.expression.evaluate(o))}interpolate(u,o,s){return{x:Oi(u.x,o.x,s),y:Oi(u.y,o.y,s),z:Oi(u.z,o.z,s),azimuthal:Oi(u.azimuthal,o.azimuthal,s),polar:Oi(u.polar,o.polar,s)}}},n.a3=_o,n.a4=ju,n.a5=Qe,n.a6=Re,n.a7=Et,n.a8=sd,n.a9=bd,n.aA=ln,n.aB=M7,n.aC=j7,n.aD=k7,n.aE=function(u,o){const s=document.createElement("video");s.muted=!0,s.onloadstart=function(){o(null,s)};for(let h=0;h<u.length;h++){const g=document.createElement("source");Oa(u[h])||(s.crossOrigin="Anonymous"),g.src=u[h],s.appendChild(g)}return{cancel:()=>{}}},n.aF=By,n.aG=function(u){return fetch(u).then(o=>o.arrayBuffer()).then(o=>S8(o,0,u))},n.aH=R8,n.aI=class{constructor(u,o,s,h){this.id=u,this.position=o!=null?new z(o[0],o[1]):new z(0,0),this.orientation=s??[0,0,0],this.nodes=h,this.uploaded=!1,this.aabb=new Mn([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),this.matrix=[]}_applyTransformations(u,o){if(Re.mat4.multiply(u.matrix,o,u.matrix),u.meshes)for(const s of u.meshes){const h=Mn.applyTransformFast(s.aabb,u.matrix);this.aabb.encapsulate(h)}if(u.children)for(const s of u.children)this._applyTransformations(s,u.matrix)}computeBoundsAndApplyParent(){const u=Re.mat4.identity([]);for(const o of this.nodes)this._applyTransformations(o,u)}computeModelMatrix(u,o,s,h,g,f,_=!1){Q7(this.matrix,this,u.transform,this.position,o,s,h,g,f,_)}upload(u){if(!this.uploaded){for(const o of this.nodes)w4(o,u);for(const o of this.nodes)Uy(o);this.uploaded=!0}}destroy(){for(const u of this.nodes)F4(u)}},n.aJ=go,n.aK=function(u){return u.indexOf(Uu)>=0},n.aL=jm,n.aM=me,n.aN=Fe,n.aO=ld,n.aP=fo,n.aQ=uo,n.aR=Lf,n.aS=Ly,n.aT=function(){va.isLoading()||va.isLoaded()||em()!=="deferred"||N_()},n.aU=Cf,n.aV=Ot,n.aW=Hm,n.aX=hs,n.aY=Qv,n.aZ=Vv,n.a_=st,n.aa=Oi,n.ab=Yt,n.ac=Cu,n.ad=class{constructor(u){this.specification=u}possiblyEvaluate(u,o){return function([s,h]){const g=Lr([1,s,h]);return{x:g.x,y:g.y,z:g.z}}(u.expression.evaluate(o))}interpolate(u,o,s){return{x:Oi(u.x,o.x,s),y:Oi(u.y,o.y,s),z:Oi(u.z,o.z,s)}}},n.ae=function(u,o,s=0,h=!0){const g=new K(s,s),f=u.sub(g),_=o.add(g),F=[f,new K(_.x,f.y),_,new K(f.x,_.y)];return h&&F.push(f.clone()),F},n.af=function(u,o){const s=[];for(let h=0;h<u.length;h++){const g=Xt(h-1,-1,u.length-1),f=Xt(h+1,-1,u.length-1),_=u[h],F=u[f],R=u[g].sub(_).unit(),M=F.sub(_).unit(),v=M.angleWithSep(R.x,R.y),T=R.add(M).unit().mult(-1*o/Math.sin(v/2));s.push(_.add(T))}return s},n.ag=_7,n.ah=qn,n.ai=function(u,o,s=0){return Re.vec3.fromValues(((o.x-s)*u.scale-u.x)*Yt,(o.y*u.scale-u.y)*Yt,Ce(o.z,o.y))},n.aj=ia,n.ak=Dw,n.al=function(u){let o=1/0,s=1/0,h=-1/0,g=-1/0;for(const f of u)o=Math.min(o,f.x),s=Math.min(s,f.y),h=Math.max(h,f.x),g=Math.max(g,f.y);return{min:new K(o,s),max:new K(h,g)}},n.am=ne,n.an=cn,n.ao=Ue,n.ap=nt,n.aq=Er,n.ar=function(u,o){const s={};for(let h=0;h<o.length;h++){const g=o[h];g in u&&(s[g]=u[g])}return s},n.as=H,n.at=se,n.au=class{constructor(u){this.entries={},this.scheduler=u}request(u,o,s,h){const g=this.entries[u]=this.entries[u]||{callbacks:[]};if(g.result){const[f,_]=g.result;return this.scheduler?this.scheduler.add(()=>{h(f,_)},o):h(f,_),()=>{}}return g.callbacks.push(h),g.cancel||(g.cancel=s((f,_)=>{g.result=[f,_];for(const F of g.callbacks)this.scheduler?this.scheduler.add(()=>{F(f,_)},o):F(f,_);setTimeout(()=>delete this.entries[u],3e3)})),()=>{g.result||(g.callbacks=g.callbacks.filter(f=>f!==h),g.callbacks.length||(g.cancel(),delete this.entries[u]))}}},n.av=Tf,n.aw=function(u,o,s){const h=JSON.stringify(u.request);return u.data&&(this.deduped.entries[h]={result:[null,u.data]}),this.deduped.request(h,{type:"parseTile",isSymbolTile:u.isSymbolTile,zoom:u.tileZoom},g=>{const f=Ll(u.request,(_,F,R,M)=>{_?g(_):F&&g(null,{vectorTile:s?void 0:new Nf.VectorTile(new Fy(F)),rawData:F,cacheControl:R,expires:M})});return()=>{f.cancel(),g()}},o)},n.ax=function(u){lr++,lr>Vi&&(u.getActor().send("enforceCacheSizeLimit",Hi),lr=0)},n.ay=Ht,n.az=function(u){return u<=1?1:Math.pow(2,Math.floor(Math.log(u)/Math.LN2))},n.b=function(u){return ke.API_FONTS_REGEX.test(u)},n.b$=na,n.b0=fm,n.b1=vs,n.b2=Po,n.b3=Cm,n.b4=p4,n.b5=function(u,o){const s=bd(o.zoom);if(s===0)return Pc(u);const h=ly(u),g=kv(h),f=ne(h.getWest())*o.worldSize,_=ne(h.getEast())*o.worldSize,F=se(h.getNorth())*o.worldSize,R=se(h.getSouth())*o.worldSize,M=[f,F,0],v=[_,F,0],T=[f,R,0],I=[_,R,0],S=Re.mat4.invert([],o.globeMatrix);return Re.vec3.transformMat4(M,M,S),Re.vec3.transformMat4(v,v,S),Re.vec3.transformMat4(T,T,S),Re.vec3.transformMat4(I,I,S),g[0]=dl(g[0],T,s),g[1]=dl(g[1],I,s),g[2]=dl(g[2],v,s),g[3]=dl(g[3],M,s),Mn.fromPoints(g)},n.b6=uy,n.b7=wm,n.b8=dl,n.b9=Rf,n.bA=Dn,n.bB=Xt,n.bC=_e,n.bD=Al,n.bE=ae,n.bF=function(u,o,s){u[4*o+0]=s[0],u[4*o+1]=s[1],u[4*o+2]=s[2],u[4*o+3]=s[3]},n.bG=Ju,n.bH=ys,n.bI=_m,n.bJ=rr,n.bK=ll,n.bL=z,n.bM=w7,n.bN=mn,n.bO=Ba,n.bP=V7,n.bQ=ar,n.bR=S5,n.bS=function(u,o,s,h,g,f,_,F,R){if(R.name==="globe")return S5(u,o,new ar(s,h,g),!1);const M=jm({z:s,x:h,y:g},R);return new Mn([(f+M.x/M.scale)*o,o*(M.y/M.scale),_],[(f+M.x2/M.scale)*o,o*(M.y2/M.scale),F])},n.bT=function(u,o,s){let h=0;for(let g=0;g<2;++g)u[g]>0&&(h+=(u[g]-0)*(u[g]-0)),o[g]<0&&(h+=(0-o[g])*(0-o[g]));return h},n.bU=Pe,n.bV=p,n.bW=function(u){const o=Re.mat4.identity(new Float64Array(16));Re.mat4.multiply(o,u.pixelMatrix,u.globeMatrix);const s=[0,b,0],h=[0,w,0];return Re.vec3.transformMat4(s,s,o),Re.vec3.transformMat4(h,h,o),[s[0]>0&&s[0]<=u.width&&s[1]>0&&s[1]<=u.height&&!Ov(u,new z(u.center.lat,90)),h[0]>0&&h[0]<=u.width&&h[1]>0&&h[1]<=u.height&&!Ov(u,new z(u.center.lat,-90))]},n.bX=function(u,o){const{scale:s}=u.tileTransform,h=s*Yt/(u.tileSize*Math.pow(2,o.zoom-u.tileID.overscaledZ+u.tileID.canonical.z));return Re.mat2.scale(new Float32Array(4),o.inverseAdjustmentMatrix,[h,h])},n.bY=Vy,n.bZ=z7,n.b_=function(u){const o=z7(u,!0);return Re.mat2.invert([],[o[0],o[1],o[4],o[5]])},n.ba=ur,n.bb=R4,n.bc=Fy,n.bd=Ll,n.be=function(u){const o=[];for(const s in u)o.push(u[s]);return o},n.bf=function(u,o){const s=[];for(const h in u)h in o||s.push(h);return s},n.bg=Ti,n.bh=["type","source","source-layer","minzoom","maxzoom","filter","layout"],n.bi=et,n.bj=function(u,o){const{x:s,y:h}=u.point,g=P5(s,h,u.worldSize/u._pixelsPerMercatorPixel,0,0);return Re.mat4.multiply(g,g,Mv(Pc(o)))},n.bk=$f,n.bl=ns,n.bm=wy,n.bn=function(u,o,s,h,g){const f=5*o+2;u.float32[f+0]=s,u.float32[f+1]=h,u.float32[f+2]=g},n.bo=Oy,n.bp=a7,n.bq=At,n.br=Sr,n.bs=cw,n.bt=G7,n.bu=fw,n.bv=pw,n.bw=c4,n.bx=f7,n.by=o4,n.bz=O4,n.c=je,n.c$=Zn,n.c0=function(u){const{x:o,y:s}=u.point,{lng:h,lat:g}=u._center;return P5(o,s,u.worldSize,h,g)},n.c1=Ye,n.c2=Cn,n.c3=cy,n.c4=function(u){const o=Math.round((u+45+360)%360/90)%4;return qe[o]},n.c5=45,n.c6=oe,n.c7=jf,n.c8=function(u,o,s){const h=Math.sqrt(u*u+o*o+s*s),g=h>0?Math.acos(s/h)*Te:0;let f=u!==0||o!==0?Math.atan2(-o,-u)*Te+90:0;return f<0&&(f+=360),[h,f,g]},n.c9=$e,n.cA=function(u){const o=Pe-5;u=nt(u,-o,o)/o*90;const s=Math.pow(Math.abs(Math.sin(_e(u))),3);return Math.round(s*(m.length-1))},n.cB=function(u,o,s,h){const g=o.getNorth(),f=o.getSouth(),_=o.getWest(),F=o.getEast(),R=1<<u.z,M=F-_,v=g-f,T=M/d,I=-v/m[s],S=[0,T,0,I,0,0,g,_,0];if(u.z>0){const P=180/h;Re.mat3.multiply(S,S,[P/M+1,0,0,0,P/v+1,0,-.5*P/T,.5*P/I,1])}return S[2]=R,S[5]=u.x,S[8]=u.y,S},n.cC=Pc,n.cD=function(u,o,s){const h=Re.mat4.identity(new Float64Array(16)),g=(o/(1<<u)-.5)*Math.PI*2;return Re.mat4.rotateY(h,s.globeMatrix,g),Float32Array.from(h)},n.cE=class{isDataAvailableAtPoint(u){const o=this._source();if(this.isUsingMockSource()||!o||u.y<0||u.y>1)return!1;const s=o.getSource().maxzoom,h=1<<s,g=Math.floor(u.x),f=Math.floor((u.x-g)*h),_=Math.floor(u.y*h),F=this.findDEMTileFor(new ln(s,g,s,f,_));return!(!F||!F.dem)}getAtPointOrZero(u,o=0){return this.getAtPoint(u,o)||0}getAtPoint(u,o,s=!0){if(this.isUsingMockSource())return null;o==null&&(o=null);const h=this._source();if(!h||u.y<0||u.y>1)return o;const g=h.getSource().maxzoom,f=1<<g,_=Math.floor(u.x),F=u.x-_,R=new ln(g,_,g,Math.floor(F*f),Math.floor(u.y*f)),M=this.findDEMTileFor(R);if(!M||!M.dem)return o;const v=M.dem,T=1<<M.tileID.canonical.z,I=(F*T-M.tileID.canonical.x)*v.dim,S=(u.y*T-M.tileID.canonical.y)*v.dim,P=Math.floor(I),D=Math.floor(S);return(s?this.exaggeration():1)*Oi(Oi(v.get(P,D),v.get(P,D+1),S-D),Oi(v.get(P+1,D),v.get(P+1,D+1),S-D),I-P)}getAtTileOffset(u,o,s){const h=1<<u.canonical.z;return this.getAtPointOrZero(new Qe(u.wrap+(u.canonical.x+o/Yt)/h,(u.canonical.y+s/Yt)/h))}getAtTileOffsetFunc(u,o,s,h){return g=>{const f=this.getAtTileOffset(u,g.x,g.y),_=h.upVector(u.canonical,g.x,g.y),F=h.upVectorScale(u.canonical,o,s).metersToTile;return Re.vec3.scale(_,_,f*F),_}}getForTilePoints(u,o,s,h){if(this.isUsingMockSource())return!1;const g=Kf.create(this,u,h);return!!g&&(o.forEach(f=>{f[2]=this.exaggeration()*g.getElevationAt(f[0],f[1],s)}),!0)}getMinMaxForTile(u){if(this.isUsingMockSource())return null;const o=this.findDEMTileFor(u);if(!o||!o.dem)return null;const s=o.dem.tree,h=o.tileID,g=1<<u.canonical.z-h.canonical.z;let f=u.canonical.x/g-h.canonical.x,_=u.canonical.y/g-h.canonical.y,F=0;for(let R=0;R<u.canonical.z-h.canonical.z&&!s.leaves[F];R++){f*=2,_*=2;const M=2*Math.floor(_)+Math.floor(f);F=s.childOffsets[F]+M,f%=1,_%=1}return{min:this.exaggeration()*s.minimums[F],max:this.exaggeration()*s.maximums[F]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(u,o,s){throw new Error("Pure virtual method called.")}pointCoordinate(u){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(u){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}getMinMaxForVisibleTiles(){const u=this.visibleDemTiles;if(u.length===0)return null;let o=!1,s=Number.MAX_VALUE,h=Number.MIN_VALUE;for(const g of u){const f=this.getMinMaxForTile(g.tileID);f&&(s=Math.min(s,f.min),h=Math.max(h,f.max),o=!0)}return o?{min:s,max:h}:null}},n.cF=$5,n.cG=_d,n.cH=function(u,o){return[Math.pow(u[0],2.2)*o,Math.pow(u[1],2.2)*o,Math.pow(u[2],2.2)*o]},n.cI=R5,n.cJ=fe,n.cK=le,n.cL=256,n.cM=function(u,o){const s=[0,0,0],h=uy(Pc(o.canonical));return Re.vec3.transformMat4(s,s,h),Re.vec3.transformMat4(s,s,u),s},n.cN=u=>({u_camera_to_center_distance:new rr(u),u_extrude_scale:new zf(u),u_device_pixel_ratio:new rr(u),u_matrix:new Ju(u),u_inv_rot_matrix:new Ju(u),u_merc_center:new ys(u),u_tile_id:new _m(u),u_zoom_transition:new rr(u),u_up_dir:new _m(u),u_emissive_strength:new rr(u)}),n.cO=u=>({u_matrix:new Ju(u),u_pixels_to_tile_units:new zf(u),u_device_pixel_ratio:new rr(u),u_units_to_pixels:new ys(u),u_dash_image:new ll(u),u_gradient_image:new ll(u),u_image_height:new rr(u),u_texsize:new ys(u),u_tile_units_to_pixels:new rr(u),u_alpha_discard_threshold:new rr(u),u_trim_offset:new ys(u),u_trim_fade_range:new ys(u),u_trim_color:new jf(u),u_emissive_strength:new rr(u),u_zbias_factor:new rr(u),u_tile_to_meter:new rr(u)}),n.cP=u=>({u_matrix:new Ju(u),u_texsize:new ys(u),u_pixels_to_tile_units:new zf(u),u_device_pixel_ratio:new rr(u),u_image:new ll(u),u_units_to_pixels:new ys(u),u_tile_units_to_pixels:new rr(u),u_alpha_discard_threshold:new rr(u),u_trim_offset:new ys(u),u_emissive_strength:new rr(u),u_zbias_factor:new rr(u),u_tile_to_meter:new rr(u)}),n.cQ=ud,n.cR=Xk,n.cS=Jk,n.cT=M5,n.cU=(u,o,s,h,g,f)=>{const _=u.transform,F=_.projection.name==="globe";let R;if(f.paint.get("circle-pitch-alignment")==="map")if(F){const v=R5(_.zoom,o.canonical)*_._pixelsPerMercatorPixel;R=Float32Array.from([v,0,0,v])}else R=_.calculatePixelsToTileUnitsMatrix(s);else R=new Float32Array([_.pixelsToGLUnits[0],0,0,_.pixelsToGLUnits[1]]);const M={u_camera_to_center_distance:u.transform.getCameraToCenterDistance(_.projection),u_matrix:u.translatePosMatrix(o.projMatrix,s,f.paint.get("circle-translate"),f.paint.get("circle-translate-anchor")),u_device_pixel_ratio:oi.devicePixelRatio,u_extrude_scale:R,u_inv_rot_matrix:tk,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0],u_emissive_strength:f.paint.get("circle-emissive-strength")};if(F){M.u_inv_rot_matrix=h,M.u_merc_center=g,M.u_tile_id=[o.canonical.x,o.canonical.y,1<<o.canonical.z],M.u_zoom_transition=bd(_.zoom);const v=g[0]*Yt,T=g[1]*Yt;M.u_up_dir=_.projection.upVector(new ar(0,0,0),v,T)}return M},n.cV=Vw,n.cW=(u,o,s,h,g,f)=>{const _=u.transform,F=_.pitch<15?Bw(.07,.7,nt((14-_.zoom)/5,0,1)):.07;return{u_matrix:zw(u,o,s,h),u_texsize:o.imageAtlasTexture?o.imageAtlasTexture.size:[0,0],u_pixels_to_tile_units:_.calculatePixelsToTileUnitsMatrix(o),u_device_pixel_ratio:g,u_image:0,u_tile_units_to_pixels:jw(o,_),u_units_to_pixels:[1/_.pixelsToGLUnits[0],1/_.pixelsToGLUnits[1]],u_alpha_discard_threshold:0,u_trim_offset:f,u_emissive_strength:s.paint.get("line-emissive-strength"),u_zbias_factor:F,u_tile_to_meter:$e(o.tileID.canonical,0)}},n.cX=(u,o,s,h,g,f,_)=>{const F=u.transform,R=F.calculatePixelsToTileUnitsMatrix(o),M=F.pitch<15?Bw(.07,.7,nt((14-F.zoom)/5,0,1)):.07;return{u_matrix:zw(u,o,s,h),u_pixels_to_tile_units:R,u_device_pixel_ratio:f,u_units_to_pixels:[1/F.pixelsToGLUnits[0],1/F.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:g,u_texsize:Nw(s)&&o.lineAtlasTexture?o.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:jw(o,u.transform),u_alpha_discard_threshold:0,u_trim_offset:_,u_trim_fade_range:s.paint.get("line-trim-fade-range"),u_trim_color:s.paint.get("line-trim-color").toRenderColor(s.lut).toArray01(),u_emissive_strength:s.paint.get("line-emissive-strength"),u_zbias_factor:M,u_tile_to_meter:$e(o.tileID.canonical,0)}},n.cY=jn,n.cZ=Fm,n.c_=Tw,n.ca=Mn,n.cb=Lr,n.cc=function(u){return[Math.pow(u[0],1/2.2),Math.pow(u[1],1/2.2),Math.pow(u[2],1/2.2)]},n.cd=function(u){return u({pluginStatus:Cr,pluginURL:ba}),Y0.on("pluginStateChange",u),u},n.ce=Zf,n.cf=qy,n.cg=Gf,n.ch=a4,n.ci=l0,n.cj=V_,n.ck=ji,n.cl=Jr,n.cm=Ln,n.cn=function(u){const o=u.indexOf(Uu);return o>=0?u.slice(0,o):u},n.co=function(u){const o=u.indexOf(Uu);return o>=0?u.slice(o+1):""},n.cp=function(u){const o=[],s=u.id;return s===void 0&&o.push({message:`layers.${s}: missing required property "id"`}),u.render===void 0&&o.push({message:`layers.${s}: missing required method "render"`}),u.renderingMode&&u.renderingMode!=="2d"&&u.renderingMode!=="3d"&&o.push({message:`layers.${s}: property "renderingMode" must be either "2d" or "3d"`}),o},n.cq=function(u,o,s,h){return u.type==="custom"?new PM(u,o):new NM[u.type](u,o,s,h)},n.cr=Or,n.cs=Y0,n.ct=Ol,n.cu=ym,n.cv=class extends Hs{constructor(u){super(u),this.current=Sv}set(u,o,s){if(this.fetchUniformLocation(u,o)){for(let h=0;h<9;h++)if(s[h]!==this.current[h]){this.current=s,this.gl.uniformMatrix3fv(this.location,!1,s);break}}}},n.cw=rt,n.cx=function(u,o,s){const h=bd(s.zoom),g=u.style.map._antialias,f=o.options.extStandardDerivativesForceOff||u.terrain&&u.terrain.exaggeration()>0;return h===0&&!g&&!f},n.cy=function(u){const o=u.pixelsPerMeter,s=o/ae(1,u.center.lat),h=Re.mat4.identity(new Float64Array(16));return Re.mat4.translate(h,h,[u.point.x,u.point.y,0]),Re.mat4.scale(h,h,[s,s,o]),Float32Array.from(h)},n.cz=ly,n.d=function(u){return ke.API_TILEJSON_REGEX.test(u)},n.d$=x,n.d0=xy,n.d1=xd,n.d2=450,n.d3=7,n.d4=RM,n.d5=xn,n.d6=Af,n.d7=256,n.d8=Mv,n.d9=Tc,n.dA=I5,n.dB=function(u){const o=[0,0,0],s=Re.mat4.identity(new Float64Array(16));return Re.mat4.multiply(s,u.pixelMatrix,u.globeMatrix),Re.vec3.transformMat4(o,o,s),new K(o[0],o[1])},n.dC=function(u,o,s=!1){if(Cr===X0||Cr===Nu||Cr===$u)throw new Error("setRTLTextPlugin cannot be called multiple times.");ba=oi.resolveURL(u),Cr=X0,wf=o,J0(),s||N_()},n.dD=em,n.dE=function(){qy().acquire(P4)},n.dF=function(){const u=Xm;u&&(u.isPreloaded()&&u.numActive()===1?(u.release(P4),Xm=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},n.dG=Qm,n.dH=function(u){const o=Un();if(!o)return;const s=o.delete(Gi);u&&s.catch(u).then(()=>u())},n.dI=Zm,n.dJ=b8,n.dK=function(u){I4=oi.resolveURL(u),Jf||(Jf=new Zf(qy(),new Bl)),Jf.broadcast("setDracoUrl",I4)},n.dL=v8,n.dM=function(u){Xf=oi.resolveURL(u),Jf||(Jf=new Zf(qy(),new Bl)),Jf.broadcast("setMeshoptUrl",Xf)},n.dN=hi,n.dO=vd,n.dP=Xs,n.dQ=P8,n.dR=I8,n.dS=Aw,n.dT=or,n.dU=c7,n.dV=function(u,o,s,h,g,f,_,F,R,M,v=1,T){u.createArrays(),u.tilePixelRatio=Yt/(512*u.overscaling),u.compareText={},u.iconsNeedLinear=!1;const I=u.layers[0].layout,S=u.layers[0]._unevaluatedLayout._values,P={};if(P.scaleFactor=v,P.textSizeScaleRange=I.get("text-size-scale-range"),P.iconSizeScaleRange=I.get("icon-size-scale-range"),P.textScaleFactor=nt(P.scaleFactor,P.textSizeScaleRange[0],P.textSizeScaleRange[1]),P.iconScaleFactor=nt(P.scaleFactor,P.iconSizeScaleRange[0],P.iconSizeScaleRange[1]),u.textSizeData.kind==="composite"){const{minZoom:Z,maxZoom:X}=u.textSizeData;P.compositeTextSizes=[S["text-size"].possiblyEvaluate(new _o(Z),F),S["text-size"].possiblyEvaluate(new _o(X),F)]}if(u.iconSizeData.kind==="composite"){const{minZoom:Z,maxZoom:X}=u.iconSizeData;P.compositeIconSizes=[S["icon-size"].possiblyEvaluate(new _o(Z),F),S["icon-size"].possiblyEvaluate(new _o(X),F)]}P.layoutTextSize=S["text-size"].possiblyEvaluate(new _o(R+1),F),P.layoutIconSize=S["icon-size"].possiblyEvaluate(new _o(R+1),F),P.textMaxSize=S["text-size"].possiblyEvaluate(new _o(18),F);const D=I.get("text-rotation-alignment")==="map"&&I.get("symbol-placement")!=="point",N=I.get("text-size");let U=!1;for(const Z of u.features)if(Z.icon&&Z.icon.nameSecondary){U=!0;break}for(const Z of u.features){const X=I.get("text-font").evaluate(Z,{},F).join(","),q=N.evaluate(Z,{},F)*P.textScaleFactor,te=P.layoutTextSize.evaluate(Z,{},F)*P.textScaleFactor,ie=(P.layoutIconSize.evaluate(Z,{},F),{horizontal:{},vertical:void 0}),de=Z.text;let Ee,be=[0,0];if(de){const ve=de.toString(),Be=I.get("text-letter-spacing").evaluate(Z,{},F)*Sr,We=I.get("text-line-height").evaluate(Z,{},F)*Sr,Ke=j_(ve)?Be:0,tt=I.get("text-anchor").evaluate(Z,{},F),ht=I.get("text-variable-anchor");if(!ht){const wt=I.get("text-radial-offset").evaluate(Z,{},F);be=wt?f7(tt,[wt*Sr,s4]):I.get("text-offset").evaluate(Z,{},F).map(ci=>ci*Sr)}let mt=D?"center":I.get("text-justify").evaluate(Z,{},F);const lt=I.get("symbol-placement")==="point",Pt=lt?I.get("text-max-width").evaluate(Z,{},F)*Sr:1/0,Nt=wt=>{u.allowVerticalPlacement&&Z0(ve)&&(ie.vertical=n4(de,o,s,g,X,Pt,We,tt,wt,Ke,be,ns.vertical,!0,te,q))};if(!D&&ht){const wt=mt==="auto"?ht.map(Jt=>c4(Jt)):[mt];let ci=!1;for(let Jt=0;Jt<wt.length;Jt++){const qt=wt[Jt];if(!ie.horizontal[qt])if(ci)ie.horizontal[qt]=ie.horizontal[0];else{const zt=n4(de,o,s,g,X,Pt,We,"center",qt,Ke,be,ns.horizontal,!1,te,q);zt&&(ie.horizontal[qt]=zt,ci=zt.positionedLines.length===1)}}Nt("left")}else{if(mt==="auto"&&(mt=c4(tt)),lt||I.get("text-writing-mode").indexOf("horizontal")>=0||!Z0(ve)){const wt=n4(de,o,s,g,X,Pt,We,tt,mt,Ke,be,ns.horizontal,!1,te,q);wt&&(ie.horizontal[mt]=wt)}Nt(lt?"left":mt)}}let xe=!1;if(Z.icon&&Z.icon.namePrimary){const ve=h[Z.icon.namePrimary];ve&&(Ee=cM(g[Z.icon.namePrimary],Z.icon.nameSecondary?g[Z.icon.nameSecondary]:void 0,I.get("icon-offset").evaluate(Z,{},F),I.get("icon-anchor").evaluate(Z,{},F)),xe=ve.sdf,u.sdfIcons===void 0?u.sdfIcons=ve.sdf:u.sdfIcons!==ve.sdf&&an("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(ve.pixelRatio!==u.pixelRatio||I.get("icon-rotate").constantOr(1)!==0)&&(u.iconsNeedLinear=!0))}const Ve=m7(ie.horizontal)||ie.vertical;u.iconsInText||(u.iconsInText=!!Ve&&Ve.iconsInText),(Ve||Ee)&&mM(u,Z,ie,Ee,h,P,te,0,be,xe,_,F,M,T,U)}f&&u.generateCollisionDebugBuffers(R,u.collisionBoxArray,P.textScaleFactor)},n.dW=Nf,n.dX=Hy,n.dY=ze,n.dZ=ow,n.d_=Ww,n.da=cl,n.db=hm,n.dc=function(u,o,s,h,g){return nt((u-o)/(s-o)*(g-h)+h,h,g)},n.dd=mf,n.de=Ie,n.df=class{constructor(u,o,s,h){this.context=u,this.format=h,this.size=s,this.texture=u.gl.createTexture();const[g,f,_]=this.size,{gl:F}=u;F.bindTexture(F.TEXTURE_3D,this.texture),u.pixelStoreUnpackFlipY.set(!1),u.pixelStoreUnpack.set(1),u.pixelStoreUnpackPremultiplyAlpha.set(!1),F.texImage3D(F.TEXTURE_3D,0,this.format,g,f,_,0,m4(this.format),g4(this.format),o.data)}bind(u,o){const{context:s}=this,{gl:h}=s;h.bindTexture(h.TEXTURE_3D,this.texture),u!==this.minFilter&&(h.texParameteri(h.TEXTURE_3D,h.TEXTURE_MAG_FILTER,u),h.texParameteri(h.TEXTURE_3D,h.TEXTURE_MIN_FILTER,u),this.minFilter=u),o!==this.wrapS&&(h.texParameteri(h.TEXTURE_3D,h.TEXTURE_WRAP_S,o),h.texParameteri(h.TEXTURE_3D,h.TEXTURE_WRAP_T,o),this.wrapS=o)}destroy(){const{gl:u}=this.context;u.deleteTexture(this.texture),this.texture=null}},n.dg=v4,n.dh=[1,1,1],n.di=Kf,n.dj=Wf,n.dk=Rc,n.dl=class{constructor(){this._updateTime=0,this._sourceIds=[],this._activeRegions=[],this._prevRegions=[],this._globalClipBounds={min:new K(1/0,1/0),max:new K(-1/0,-1/0)}}clear(){this._activeRegions.length>0&&++this._updateTime,this._activeRegions=[],this._prevRegions=[]}get updateTime(){return this._updateTime}getReplacementRegionsForTile(u,o=!1){const s=dw(new K(0,0),new K(Yt,Yt),u),h=[];if(o&&!Hv(s,this._globalClipBounds))return h;for(const g of this._activeRegions){if(g.hiddenByOverlap||!Hv(s,g))continue;const f=Ck(g.min,g.max,u);h.push({min:f.min,max:f.max,sourceId:this._sourceIds[g.priority],footprint:g.footprint,footprintTileId:g.tileId,order:g.order,clipMask:g.clipMask,clipScope:g.clipScope})}return h}setSources(u){this._setSources(u.map(o=>({getSourceId:()=>o.cache.id,getFootprints:()=>{const s=[];for(const h of o.cache.getVisibleCoordinates()){const g=o.cache.getTile(h).buckets[o.layer];g&&g.updateFootprints(h.toUnwrapped(),s)}return s},getOrder:()=>o.order,getClipMask:()=>o.clipMask,getClipScope:()=>o.clipScope})))}_addSource(u){const o=u.getFootprints();if(o.length===0)return;const s=u.getOrder(),h=u.getClipMask(),g=u.getClipScope();for(const f of o){if(!f.footprint)continue;const _=dw(f.footprint.min,f.footprint.max,f.id);this._activeRegions.push({min:_.min,max:_.max,hiddenByOverlap:!1,priority:this._sourceIds.length,tileId:f.id,footprint:f.footprint,order:s,clipMask:h,clipScope:g})}this._sourceIds.push(u.getSourceId())}_computeReplacement(){this._activeRegions.sort((o,s)=>o.priority-s.priority||by(o.min,s.min)||by(o.max,s.max)||o.order-s.order||o.clipMask-s.clipMask||function(h,g){const f=(_,F)=>_+F;return h.length-g.length||h.reduce(f,"").localeCompare(g.reduce(f,""))}(o.clipScope,s.clipScope));let u=this._activeRegions.length!==this._prevRegions.length;if(!u){let o=0;for(;!u&&o!==this._activeRegions.length;){const s=this._activeRegions[o],h=this._prevRegions[o];u=s.priority!==h.priority||!lw(s,h)||s.order!==h.order||s.clipMask!==h.clipMask||!et(s.clipScope,h.clipScope),++o}}if(u){++this._updateTime;for(const s of this._activeRegions)s.order!==yy&&(this._globalClipBounds.min.x=Math.min(this._globalClipBounds.min.x,s.min.x),this._globalClipBounds.min.y=Math.min(this._globalClipBounds.min.y,s.min.y),this._globalClipBounds.max.x=Math.max(this._globalClipBounds.max.x,s.max.x),this._globalClipBounds.max.y=Math.max(this._globalClipBounds.max.y,s.max.y));const o=s=>{const h=this._activeRegions;if(s>=h.length)return s;const g=h[s].priority;for(;s<h.length&&h[s].priority===g;)++s;return s};if(this._sourceIds.length>1){let s=0,h=o(s);for(;s!==h;){let g=s;const f=s;for(;g!==h;){const _=this._activeRegions[g];_.hiddenByOverlap=!1;for(let F=0;F<f;F++){const R=this._activeRegions[F];if(!R.hiddenByOverlap&&_.order===yy&&Hv(_,R)&&(_.hiddenByOverlap=hw(_.footprint,_.tileId,R.footprint,R.tileId),_.hiddenByOverlap))break}++g}s=h,h=o(s)}}}}_setSources(u){[this._prevRegions,this._activeRegions]=[this._activeRegions,[]],this._sourceIds=[];for(let o=u.length-1;o>=0;o--)this._addSource(u[o]);this._computeReplacement()}},n.dm=class{constructor(u){this._createGrid(u),this._createPoles(u)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const u of this._poleSegments)u.destroy();for(const u of this._gridSegments)u.withSkirts.destroy(),u.withoutSkirts.destroy()}_fillGridMeshWithLods(u,o){const s=new Sc,h=new fo,g=[],f=u+1+2,_=o[0]+1,F=o[0]+1+(1+o.length),R=(M,v,T)=>{let I=M===f-1?M-2:M===0?M:M-1;return I+=T?24575:0,[I,v]};for(let M=0;M<f;++M)s.emplaceBack(...R(M,0,!0));for(let M=0;M<_;++M)for(let v=0;v<f;++v)s.emplaceBack(...R(v,M,(v===0||v===f-1)&&!0));for(let M=0;M<o.length;++M){const v=o[M];for(let T=0;T<f;++T)s.emplaceBack(...R(T,v,!0))}for(let M=0;M<o.length;++M){const v=h.length,T=o[M]+1+2,I=new fo;for(let D=0;D<T-1;D++){const N=D===T-2,U=N?f*(F-o.length+M-D):f;for(let Z=0;Z<f-1;Z++){const X=D*f+Z;D===0||N||Z===0||Z===f-2?(I.emplaceBack(X+1,X,X+U),I.emplaceBack(X+U,X+U+1,X+1)):(h.emplaceBack(X+1,X,X+U),h.emplaceBack(X+U,X+U+1,X+1))}}const S=Po.simpleSegment(0,v,s.length,h.length-v);for(let D=0;D<I.uint16.length;D+=3)h.emplaceBack(I.uint16[D],I.uint16[D+1],I.uint16[D+2]);const P=Po.simpleSegment(0,v,s.length,h.length-v);g.push({withoutSkirts:S,withSkirts:P})}return{vertices:s,indices:h,segments:g}}_createGrid(u){const o=this._fillGridMeshWithLods(d,m);this._gridSegments=o.segments,this._gridBuffer=u.createVertexBuffer(o.vertices,vs.members),this._gridIndexBuffer=u.createIndexBuffer(o.indices,!0)}_createPoles(u){const o=new fo;for(let _=0;_<=d;_++)o.emplaceBack(0,_+1,_+2);this._poleIndexBuffer=u.createIndexBuffer(o,!0);const s=new cl,h=new cl,g=new cl,f=new cl;this._poleSegments=[];for(let _=0,F=0;_<cy;_++){const R=360/(1<<_);s.emplaceBack(0,-Er,0,.5,0),h.emplaceBack(0,-Er,0,.5,1),g.emplaceBack(0,-Er,0,.5,.5),f.emplaceBack(0,-Er,0,.5,.5);for(let M=0;M<=d;M++){let v=M/d,T=0;const I=Oi(0,R,v),[S,P,D]=E(YI,ek,I,Er);s.emplaceBack(S,P,D,v,T),h.emplaceBack(S,P,D,v,1-T);const N=_e(I);v=.5+.5*Math.sin(N),T=.5+.5*Math.cos(N),g.emplaceBack(S,P,D,v,T),f.emplaceBack(S,P,D,v,1-T)}this._poleSegments.push(Po.simpleSegment(F,0,66,64)),F+=66}this._poleNorthVertexBuffer=u.createVertexBuffer(s,so,!1),this._poleSouthVertexBuffer=u.createVertexBuffer(h,so,!1),this._texturedPoleNorthVertexBuffer=u.createVertexBuffer(g,so,!1),this._texturedPoleSouthVertexBuffer=u.createVertexBuffer(f,so,!1)}getGridBuffers(u,o){return[this._gridBuffer,this._gridIndexBuffer,o?this._gridSegments[u].withSkirts:this._gridSegments[u].withoutSkirts]}getPoleBuffers(u,o){return[o?this._texturedPoleNorthVertexBuffer:this._poleNorthVertexBuffer,o?this._texturedPoleSouthVertexBuffer:this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[u]]}},n.dn=yy,n.dp=Ge,n.dq=function(){return!!document.fullscreenElement||!!document.webkitFullscreenElement},n.dr=Mt,n.ds=Le,n.dt=A,n.du=function([u,o,s]){const h=Math.hypot(u,o,s),g=Math.atan2(u,s),f=.5*Math.PI-Math.acos(-o/h);return new z(Ye(g),Ye(f))},n.dv=b4,n.dw=j,n.dx=function(u){const o=u.navigator?u.navigator.userAgent:null;return!!function(s){if(vu==null){const h=s.navigator?s.navigator.userAgent:null;vu=!!s.safari||!(!h||!(/\b(iPad|iPhone|iPod)\b/.test(h)||h.match("Safari")&&!h.match("Chrome")))}return vu}(u)&&o&&(o.match("Version/15.4")||o.match("Version/15.5")||o.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},n.dy=function(u,o){Hi=u,Vi=o},n.dz=Ov,n.e=ke,n.e0=function(u){let o=0;if(new Uint32Array(u,0,1)[0]!==w8){const s=new Uint32Array(u,0,7),[,,h,g,f,_]=s;o=s.byteLength+g+f+_+f,(h!==u.byteLength||o>=u.byteLength)&&an("Invalid b3dm header information.")}return S8(u,o)},n.e1=function(u,o){const s=R8(u);for(const h of s){for(const g of h.meshes)TA(g);h.lights&&(h.lightMeshIndex=h.meshes.length,h.meshes.push(RA(h.lights,o)))}return s},n.e2=Gy,n.e3=i8,n.e4=va,n.e5=function(u){ro(),yn!=null&&yn.then(o=>{o.keys().then(s=>{for(let h=0;h<s.length-u;h++)o.delete(s[h])})})},n.f=function(u){return u.indexOf("mapbox:")===0},n.g=function(u,o){return Ol(wi(u,{method:"GET"}),o)},n.h=Xe,n.i=function(u){return ke.API_STYLE_REGEX.test(u)&&!je(u)},n.j=function(u){return decodeURIComponent(atob(u).split("").map(o=>"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2)).join(""))},n.k=function(u){return btoa(encodeURIComponent(u).replace(/%([0-9A-F]{2})/g,(o,s)=>String.fromCharCode(+("0x"+s))))},n.l=wi,n.m=yr,n.n=function(u,o){return Ol(wi(u,{type:"json"}),o)},n.o=ps,n.p=function(u,o){return Ol(wi(u,{method:"POST"}),o)},n.q=oi,n.r=qr,n.s=function(u){try{const o=self[u];return o.setItem("_mapbox_test_",1),o.removeItem("_mapbox_test_"),!0}catch{return!1}},n.t=Fu,n.u=function(){return function u(o){return o?(o^Math.random()*(16>>o/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,u)}()},n.v=function(u){return!!u&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(u)},n.w=an,n.x=xc,n.y=2,n.z=s7}),c(["./shared"],function(n){function x(xt){const le=xt?xt.url.toString():void 0;return le?performance.getEntriesByName(le):[]}function C(xt){if(typeof xt=="number"||typeof xt=="boolean"||typeof xt=="string"||xt==null)return JSON.stringify(xt);if(Array.isArray(xt)){let fe="[";for(const ke of xt)fe+=`${C(ke)},`;return`${fe}]`}let le="{";for(const fe of Object.keys(xt).sort())le+=`${fe}:${C(xt[fe])},`;return`${le}}`}function k(xt){let le="";for(const fe of n.bh)le+=`/${C(xt[fe])}`;return le}class O{constructor(le){this.keyCache={},this._layers={},this._layerConfigs={},le&&this.replace(le)}replace(le,fe){this._layerConfigs={},this._layers={},this.update(le,[],fe)}update(le,fe,ke){this._options=ke;for(const je of le)this._layerConfigs[je.id]=je,(this._layers[je.id]=n.cq(je,this.scope,null,this._options)).compileFilter(ke),this.keyCache[je.id]&&delete this.keyCache[je.id];for(const je of fe)delete this.keyCache[je],delete this._layerConfigs[je],delete this._layers[je];this.familiesBySource={};const Xe=function(je,at){const yt={};for(let bt=0;bt<je.length;bt++){const Tt=at&&at[je[bt].id]||k(je[bt]);at&&(at[je[bt].id]=Tt);let Rt=yt[Tt];Rt||(Rt=yt[Tt]=[]),Rt.push(je[bt])}const ut=[];for(const bt in yt)ut.push(yt[bt]);return ut}(n.be(this._layerConfigs),this.keyCache);for(const je of Xe){const at=je.map(Ht=>this._layers[Ht.id]),yt=at[0];if(yt.visibility==="none")continue;const ut=yt.source||"";let bt=this.familiesBySource[ut];bt||(bt=this.familiesBySource[ut]={});const Tt=yt.sourceLayer||"_geojsonTileLayer";let Rt=bt[Tt];Rt||(Rt=bt[Tt]=[]),Rt.push(at)}}}const B=1*n.dP;class L{constructor(le){const fe={},ke=[];for(const yt in le){const ut=le[yt],bt=fe[yt]={};for(const Tt in ut.glyphs){const Rt=ut.glyphs[+Tt];if(!Rt||Rt.bitmap.width===0||Rt.bitmap.height===0)continue;const Ht=Rt.metrics.localGlyph?B:1,oi={x:0,y:0,w:Rt.bitmap.width+2*Ht,h:Rt.bitmap.height+2*Ht};ke.push(oi),bt[Tt]=oi}}const{w:Xe,h:je}=n.z(ke),at=new n.dO({width:Xe||1,height:je||1});for(const yt in le){const ut=le[yt];for(const bt in ut.glyphs){const Tt=ut.glyphs[+bt];if(!Tt||Tt.bitmap.width===0||Tt.bitmap.height===0)continue;const Rt=fe[yt][bt],Ht=Tt.metrics.localGlyph?B:1;n.dO.copy(Tt.bitmap,at,{x:0,y:0},{x:Rt.x+Ht,y:Rt.y+Ht},Tt.bitmap)}}this.image=at,this.positions=fe}}n.dN(L,"GlyphAtlas");class V{constructor(le){this.tileID=new n.aA(le.tileID.overscaledZ,le.tileID.wrap,le.tileID.canonical.z,le.tileID.canonical.x,le.tileID.canonical.y),this.tileZoom=le.tileZoom,this.uid=le.uid,this.zoom=le.zoom,this.lut=le.lut,this.canonical=le.tileID.canonical,this.pixelRatio=le.pixelRatio,this.tileSize=le.tileSize,this.source=le.source,this.scope=le.scope,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=le.showCollisionBoxes,this.collectResourceTiming=!!le.request&&le.request.collectResourceTiming,this.promoteId=le.promoteId,this.isSymbolTile=le.isSymbolTile,this.tileTransform=n.aL(le.tileID.canonical,le.projection),this.projection=le.projection,this.worldview=le.worldview,this.localizableLayerIds=le.localizableLayerIds,this.brightness=le.brightness,this.extraShadowCaster=!!le.extraShadowCaster,this.tessellationStep=le.tessellationStep,this.scaleFactor=le.scaleFactor}parse(le,fe,ke,Xe,je){this.status="parsing",this.data=le,this.collisionBoxArray=new n.aR;const at=new n.dQ(Object.keys(le.layers).sort()),yt=new n.dR(this.tileID,this.promoteId);yt.bucketLayerIDs=[];const ut={},bt=new n.dS(256,256),Tt={featureIndex:yt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:bt,availableImages:ke,brightness:this.brightness},Rt=fe.familiesBySource[this.source];for(const Vi in Rt){const kn=le.layers[Vi];if(!kn)continue;let yn=!1,Yi=!1,Un=!1;for(const yr of Rt[Vi])yr[0].type==="symbol"?yn=!0:Yi=!0,yr[0].is3D()&&yr[0].type!=="model"&&(Un=!0);if(this.extraShadowCaster&&!Un||this.isSymbolTile===!0&&!yn||this.isSymbolTile===!1&&!Yi)continue;kn.version===1&&n.w(`Vector tile source "${this.source}" layer "${Vi}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const ro=at.encode(Vi),lr=[];for(let yr=0,Yo=0;yr<kn.length;yr++){const br=kn.feature(yr),vc=yt.getId(br,Vi);if(this.localizableLayerIds&&this.localizableLayerIds.has(Vi)){const fs=br.properties?br.properties.worldview:null;if(this.worldview&&typeof fs=="string")if(fs==="all")br.properties.$localized=!0;else{if(!fs.split(",").includes(this.worldview))continue;br.properties.$localized=!0,br.properties.worldview=this.worldview}}lr.push({feature:br,id:vc,index:Yo,sourceLayerIndex:ro}),Yo++}for(const yr of Rt[Vi]){const Yo=yr[0];(!this.extraShadowCaster||Yo.is3D()&&Yo.type!=="model")&&(this.isSymbolTile!==void 0&&Yo.type==="symbol"!==this.isSymbolTile||Yo.minzoom&&this.zoom<Math.floor(Yo.minzoom)||Yo.maxzoom&&this.zoom>=Yo.maxzoom||Yo.visibility!=="none"&&(G(yr,this.zoom,Tt.brightness,ke),(ut[Yo.id]=Yo.createBucket({index:yt.bucketLayerIDs.length,layers:yr,zoom:this.zoom,lut:this.lut,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:ro,sourceID:this.source,projection:this.projection.spec,tessellationStep:this.tessellationStep})).populate(lr,Tt,this.tileID.canonical,this.tileTransform),yt.bucketLayerIDs.push(yr.map(br=>n.av(br.id,br.scope)))))}}let Ht,oi,_i,ji;bt.trim();const Gi={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},Hi=()=>{if(Ht)return this.status="done",je(Ht);if(this.extraShadowCaster)this.status="done",je(null,{buckets:n.be(ut).filter(Vi=>!Vi.isEmpty()),featureIndex:yt,collisionBoxArray:null,glyphAtlasImage:null,lineAtlas:null,imageAtlas:null,brightness:Tt.brightness,glyphMap:null,iconMap:null,glyphPositions:null});else if(oi&&_i&&ji){const Vi=new L(oi),kn=new n.dU(_i,ji,this.lut);for(const yn in ut){const Yi=ut[yn];Yi instanceof n.aS?(G(Yi.layers,this.zoom,Tt.brightness,ke),n.dV(Yi,oi,Vi.positions,_i,kn.iconPositions,this.showCollisionBoxes,ke,this.tileID.canonical,this.tileZoom,this.projection,this.scaleFactor,this.brightness)):Yi.hasPattern&&(Yi instanceof n.aY||Yi instanceof n.aZ||Yi instanceof n.d0)&&(G(Yi.layers,this.zoom,Tt.brightness,ke),Yi.addFeatures(Tt,this.tileID.canonical,kn.patternPositions,ke,this.tileTransform,this.brightness))}this.status="done",je(null,{buckets:n.be(ut).filter(yn=>!yn.isEmpty()),featureIndex:yt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Vi.image,lineAtlas:bt,imageAtlas:kn,brightness:Tt.brightness})}};if(!this.extraShadowCaster){const Vi=n.dT(Tt.glyphDependencies,Yi=>Object.keys(Yi).map(Number));Object.keys(Vi).length?Xe.send("getGlyphs",{uid:this.uid,stacks:Vi,scope:this.scope},(Yi,Un)=>{Ht||(Ht=Yi,oi=Un,Hi())},void 0,!1,Gi):oi={};const kn=Object.keys(Tt.iconDependencies);kn.length?Xe.send("getImages",{icons:kn,source:this.source,scope:this.scope,tileID:this.tileID,type:"icons"},(Yi,Un)=>{Ht||(Ht=Yi,_i=Un,Hi())},void 0,!1,Gi):_i={};const yn=Object.keys(Tt.patternDependencies);yn.length?Xe.send("getImages",{icons:yn,source:this.source,scope:this.scope,tileID:this.tileID,type:"patterns"},(Yi,Un)=>{Ht||(Ht=Yi,ji=Un,Hi())},void 0,!1,Gi):ji={}}Hi()}}function G(xt,le,fe,ke){const Xe=new n.a3(le,{brightness:fe});for(const je of xt)je.recalculate(Xe,ke)}class Q extends n.E{constructor(le,fe,ke,Xe,je,at){super(),this.actor=le,this.layerIndex=fe,this.availableImages=ke,this.loadVectorData=je||n.aw,this.loading={},this.loaded={},this.deduped=new n.au(le.scheduler),this.isSpriteLoaded=Xe,this.scheduler=le.scheduler,this.brightness=at}loadTile(le,fe){const ke=le.uid,Xe=le&&le.request,je=Xe&&Xe.collectResourceTiming,at=this.loading[ke]=new V(le);at.abort=this.loadVectorData(le,(yt,ut)=>{const bt=!this.loading[ke];if(delete this.loading[ke],bt||yt||!ut)return at.status="done",bt||(this.loaded[ke]=at),fe(yt);const Tt=ut.rawData,Rt={};ut.expires&&(Rt.expires=ut.expires),ut.cacheControl&&(Rt.cacheControl=ut.cacheControl),at.vectorTile=ut.vectorTile||new n.dW.VectorTile(new n.bc(Tt));const Ht=()=>{at.parse(at.vectorTile,this.layerIndex,this.availableImages,this.actor,(oi,_i)=>{if(oi||!_i)return fe(oi);const ji={};if(je){const Gi=x(Xe);Gi.length>0&&(ji.resourceTiming=JSON.parse(JSON.stringify(Gi)))}fe(null,n.l({rawTileData:Tt.slice(0)},_i,Rt,ji))})};this.isSpriteLoaded?Ht():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(Ht,{type:"parseTile",isSymbolTile:le.isSymbolTile,zoom:le.tileZoom}):Ht()}),this.loaded=this.loaded||{},this.loaded[ke]=at})}reloadTile(le,fe){const ke=this.loaded,Xe=le.uid;if(ke&&ke[Xe]){const je=ke[Xe];je.scaleFactor=le.scaleFactor,je.showCollisionBoxes=le.showCollisionBoxes,je.projection=le.projection,je.brightness=le.brightness,je.tileTransform=n.aL(le.tileID.canonical,le.projection),je.extraShadowCaster=le.extraShadowCaster,je.lut=le.lut;const at=(yt,ut)=>{const bt=je.reloadCallback;bt&&(delete je.reloadCallback,je.parse(je.vectorTile,this.layerIndex,this.availableImages,this.actor,bt)),fe(yt,ut)};je.status==="parsing"?je.reloadCallback=at:je.status==="done"&&(je.vectorTile?je.parse(je.vectorTile,this.layerIndex,this.availableImages,this.actor,at):at())}else fe(null,void 0)}abortTile(le,fe){const ke=le.uid,Xe=this.loading[ke];Xe&&(Xe.abort&&Xe.abort(),delete this.loading[ke]),fe()}removeTile(le,fe){const ke=this.loaded,Xe=le.uid;ke&&ke[Xe]&&delete ke[Xe],fe()}}class Y{loadTile(le,fe){const{uid:ke,encoding:Xe,rawImageData:je,padding:at}=le,yt=ImageBitmap&&je instanceof ImageBitmap?this.getImageData(je,at):je;fe(null,new n.dX(ke,yt,Xe,at<1))}getImageData(le,fe){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(le.width,le.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=le.width,this.offscreenCanvas.height=le.height,this.offscreenCanvasContext.drawImage(le,0,0,le.width,le.height);const ke=this.offscreenCanvasContext.getImageData(-fe,-fe,le.width+2*fe,le.height+2*fe);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),ke}}n.bb.setPbf(n.bc);class J{decodeRasterArray({task:le,buffer:fe},ke){n.bb.performDecoding(fe,le).then(Xe=>{ke(null,Xe)},Xe=>{ke(Xe)})}}const re=n.dW.VectorTileFeature.prototype.toGeoJSON;class ce{constructor(le){this._feature=le,this.extent=n.ab,this.type=le.type,this.properties=le.tags,"id"in le&&!isNaN(le.id)&&(this.id=parseInt(le.id,10))}loadGeometry(){if(this._feature.type===1){const le=[];for(const fe of this._feature.geometry)le.push([new n.P(fe[0],fe[1])]);return le}{const le=[];for(const fe of this._feature.geometry){const ke=[];for(const Xe of fe)ke.push(new n.P(Xe[0],Xe[1]));le.push(ke)}return le}}toGeoJSON(le,fe,ke){return re.call(this,le,fe,ke)}}class he{constructor(le){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=n.ab,this.length=le.length,this._features=le}feature(le){return new ce(this._features[le])}}const we=64/4096,pe=128;class De{constructor(){this.features=new Map}clear(){this.features.clear()}load(le=[],fe){for(const ke of le){const Xe=ke.id;if(Xe==null)continue;let je=this.features.get(Xe);je&&this.updateCache(je,fe),ke.geometry?(je=Ne(ke),this.updateCache(je,fe),this.features.set(Xe,je)):this.features.delete(Xe),this.updateCache(je,fe)}}updateCache(le,fe){for(const{canonical:ke,uid:Xe}of Object.values(fe)){const{z:je,x:at,y:yt}=ke;Ae(le,Math.pow(2,je),at,yt)&&delete fe[Xe]}}getTile(le,fe,ke){const Xe=Math.pow(2,le),je=[];for(const at of this.features.values())Ae(at,Xe,fe,ke)&&je.push(ue(at,Xe,fe,ke));return{features:je}}getFeatures(){return[...this.features.values()]}}function Ae({minX:xt,minY:le,maxX:fe,maxY:ke},Xe,je,at){return xt<(je+1+we)/Xe&&le<(at+1+we)/Xe&&fe>(je-we)/Xe&&ke>(at-we)/Xe}function Ne(xt){const{id:le,geometry:fe,properties:ke}=xt;if(!fe)return;if(fe.type==="GeometryCollection")throw new Error("GeometryCollection not supported in dynamic mode.");const{type:Xe,coordinates:je}=fe,at={id:le,type:1,geometry:[],tags:ke,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0},yt=at.geometry;if(Xe==="Point")it(je,yt,at);else if(Xe==="MultiPoint")for(const ut of je)it(ut,yt,at);else if(Xe==="LineString")at.type=2,ye(je,yt,at);else if(Xe==="MultiLineString")at.type=2,Oe(je,yt,at);else if(Xe==="Polygon")at.type=3,Oe(je,yt,at,!0);else{if(Xe!=="MultiPolygon")throw new Error("Input data is not a valid GeoJSON object.");at.type=3;for(const ut of je)Oe(ut,yt,at,!0)}return at}function it([xt,le],fe,ke){const Xe=n.am(xt);let je=n.at(le);je=je<0?0:je>1?1:je,fe.push(Xe,je),ke.minX=Math.min(ke.minX,Xe),ke.minY=Math.min(ke.minY,je),ke.maxX=Math.max(ke.maxX,Xe),ke.maxY=Math.max(ke.maxY,je)}function ye(xt,le,fe,ke=!1,Xe=!1){const je=[];for(const at of xt)it(at,je,fe);le.push(je),ke&&function(at,yt){let ut=0;for(let bt=0,Tt=at.length,Rt=Tt-2;bt<Tt;Rt=bt,bt+=2)ut+=(at[bt]-at[Rt])*(at[bt+1]+at[Rt+1]);if(ut>0===yt)for(let bt=0,Tt=at.length;bt<Tt/2;bt+=2){const Rt=at[bt],Ht=at[bt+1];at[bt]=at[Tt-2-bt],at[bt+1]=at[Tt-1-bt],at[Tt-2-bt]=Rt,at[Tt-1-bt]=Ht}}(je,Xe)}function Oe(xt,le,fe,ke=!1){for(let Xe=0;Xe<xt.length;Xe++)ye(xt[Xe],le,fe,ke,Xe===0)}function ue(xt,le,fe,ke){const{id:Xe,type:je,geometry:at,tags:yt}=xt,ut=[];if(je===1)(function(bt,Tt,Rt,Ht,oi){for(let _i=0;_i<bt.length;_i+=2){const ji=Math.round(n.ab*(bt[_i+0]*Tt-Rt)),Gi=Math.round(n.ab*(bt[_i+1]*Tt-Ht));oi.push([ji,Gi])}})(at,le,fe,ke,ut);else for(const bt of at)ct(bt,le,fe,ke,ut);return{id:Xe,type:je,geometry:ut,tags:yt}}function ct(xt,le,fe,ke,Xe){const je=-pe,at=n.ab+pe;let yt;for(let ut=0;ut<xt.length-2;ut+=2){let bt=Math.round(n.ab*(xt[ut+0]*le-fe)),Tt=Math.round(n.ab*(xt[ut+1]*le-ke)),Rt=Math.round(n.ab*(xt[ut+2]*le-fe)),Ht=Math.round(n.ab*(xt[ut+3]*le-ke));const oi=Rt-bt,_i=Ht-Tt;bt<je&&Rt<je||(bt<je?(Tt+=Math.round(_i*((je-bt)/oi)),bt=je):Rt<je&&(Ht=Tt+Math.round(_i*((je-bt)/oi)),Rt=je),Tt<je&&Ht<je||(Tt<je?(bt+=Math.round(oi*((je-Tt)/_i)),Tt=je):Ht<je&&(Rt=bt+Math.round(oi*((je-Tt)/_i)),Ht=je),bt>=at&&Rt>=at||(bt>=at?(Tt+=Math.round(_i*((at-bt)/oi)),bt=at):Rt>=at&&(Ht=Tt+Math.round(_i*((at-bt)/oi)),Rt=at),Tt>=at&&Ht>=at||(Tt>=at?(bt+=Math.round(oi*((at-Tt)/_i)),Tt=at):Ht>=at&&(Rt=bt+Math.round(oi*((at-Tt)/_i)),Ht=at),yt&&bt===yt[yt.length-1][0]&&Tt===yt[yt.length-1][1]||(yt=[[bt,Tt]],Xe.push(yt)),yt.push([Rt,Ht])))))}}var Ct,pt,Ut,vt={exports:{}},Bt=function(){if(Ut)return vt.exports;Ut=1;var xt=n.d_(),le=function(){if(pt)return Ct;pt=1;var Tt=n.dY(),Rt=n.dZ().VectorTileFeature;function Ht(_i,ji){this.options=ji||{},this.features=_i,this.length=_i.length}function oi(_i,ji){this.id=typeof _i.id=="number"?_i.id:void 0,this.type=_i.type,this.rawGeometry=_i.type===1?[_i.geometry]:_i.geometry,this.properties=_i.tags,this.extent=ji||4096}return Ct=Ht,Ht.prototype.feature=function(_i){return new oi(this.features[_i],this.options.extent)},oi.prototype.loadGeometry=function(){var _i=this.rawGeometry;this.geometry=[];for(var ji=0;ji<_i.length;ji++){for(var Gi=_i[ji],Hi=[],Vi=0;Vi<Gi.length;Vi++)Hi.push(new Tt(Gi[Vi][0],Gi[Vi][1]));this.geometry.push(Hi)}return this.geometry},oi.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var _i=this.geometry,ji=1/0,Gi=-1/0,Hi=1/0,Vi=-1/0,kn=0;kn<_i.length;kn++)for(var yn=_i[kn],Yi=0;Yi<yn.length;Yi++){var Un=yn[Yi];ji=Math.min(ji,Un.x),Gi=Math.max(Gi,Un.x),Hi=Math.min(Hi,Un.y),Vi=Math.max(Vi,Un.y)}return[ji,Hi,Gi,Vi]},oi.prototype.toGeoJSON=Rt.prototype.toGeoJSON,Ct}();function fe(Tt){var Rt=new xt;return function(Ht,oi){for(var _i in Ht.layers)oi.writeMessage(3,ke,Ht.layers[_i])}(Tt,Rt),Rt.finish()}function ke(Tt,Rt){var Ht;Rt.writeVarintField(15,Tt.version||1),Rt.writeStringField(1,Tt.name||""),Rt.writeVarintField(5,Tt.extent||4096);var oi={keys:[],values:[],keycache:{},valuecache:{}};for(Ht=0;Ht<Tt.length;Ht++)oi.feature=Tt.feature(Ht),Rt.writeMessage(2,Xe,oi);var _i=oi.keys;for(Ht=0;Ht<_i.length;Ht++)Rt.writeStringField(3,_i[Ht]);var ji=oi.values;for(Ht=0;Ht<ji.length;Ht++)Rt.writeMessage(4,bt,ji[Ht])}function Xe(Tt,Rt){var Ht=Tt.feature;Ht.id!==void 0&&Rt.writeVarintField(1,Ht.id),Rt.writeMessage(2,je,Tt),Rt.writeVarintField(3,Ht.type),Rt.writeMessage(4,ut,Ht)}function je(Tt,Rt){var Ht=Tt.feature,oi=Tt.keys,_i=Tt.values,ji=Tt.keycache,Gi=Tt.valuecache;for(var Hi in Ht.properties){var Vi=Ht.properties[Hi],kn=ji[Hi];if(Vi!==null){kn===void 0&&(oi.push(Hi),ji[Hi]=kn=oi.length-1),Rt.writeVarint(kn);var yn=typeof Vi;yn!=="string"&&yn!=="boolean"&&yn!=="number"&&(Vi=JSON.stringify(Vi));var Yi=yn+":"+Vi,Un=Gi[Yi];Un===void 0&&(_i.push(Vi),Gi[Yi]=Un=_i.length-1),Rt.writeVarint(Un)}}}function at(Tt,Rt){return(Rt<<3)+(7&Tt)}function yt(Tt){return Tt<<1^Tt>>31}function ut(Tt,Rt){for(var Ht=Tt.loadGeometry(),oi=Tt.type,_i=0,ji=0,Gi=Ht.length,Hi=0;Hi<Gi;Hi++){var Vi=Ht[Hi],kn=1;oi===1&&(kn=Vi.length),Rt.writeVarint(at(1,kn));for(var yn=oi===3?Vi.length-1:Vi.length,Yi=0;Yi<yn;Yi++){Yi===1&&oi!==1&&Rt.writeVarint(at(2,yn-1));var Un=Vi[Yi].x-_i,ro=Vi[Yi].y-ji;Rt.writeVarint(yt(Un)),Rt.writeVarint(yt(ro)),_i+=Un,ji+=ro}oi===3&&Rt.writeVarint(at(7,1))}}function bt(Tt,Rt){var Ht=typeof Tt;Ht==="string"?Rt.writeStringField(1,Tt):Ht==="boolean"?Rt.writeBooleanField(7,Tt):Ht==="number"&&(Tt%1!=0?Rt.writeDoubleField(3,Tt):Tt<0?Rt.writeSVarintField(6,Tt):Rt.writeVarintField(5,Tt))}return vt.exports=fe,vt.exports.fromVectorTileJs=fe,vt.exports.fromGeojsonVt=function(Tt,Rt){Rt=Rt||{};var Ht={};for(var oi in Tt)Ht[oi]=new le(Tt[oi].features,Rt),Ht[oi].name=oi,Ht[oi].version=Rt.version,Ht[oi].extent=Rt.extent;return fe({layers:Ht})},vt.exports.GeoJSONWrapper=le,vt.exports}(),It=n.d$(Bt);const St={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:xt=>xt},Wt=Math.fround||(ui=new Float32Array(1),xt=>(ui[0]=+xt,ui[0]));var ui;const di=3,Ji=5,$t=6;class ii{constructor(le){this.options=Object.assign(Object.create(St),le),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(le){const{log:fe,minZoom:ke,maxZoom:Xe}=this.options;fe&&console.time("total time");const je=`prepare ${le.length} points`;fe&&console.time(je),this.points=le;const at=[];for(let ut=0;ut<le.length;ut++){const bt=le[ut];if(!bt.geometry)continue;const[Tt,Rt]=bt.geometry.coordinates,Ht=Wt(zi(Tt)),oi=Wt(hn(Rt));at.push(Ht,oi,1/0,ut,-1,1),this.options.reduce&&at.push(0)}let yt=this.trees[Xe+1]=this._createTree(at);fe&&console.timeEnd(je);for(let ut=Xe;ut>=ke;ut--){const bt=+Date.now();yt=this.trees[ut]=this._createTree(this._cluster(yt,ut)),fe&&console.log("z%d: %d clusters in %dms",ut,yt.numItems,+Date.now()-bt)}return fe&&console.timeEnd("total time"),this}getClusters(le,fe){let ke=((le[0]+180)%360+360)%360-180;const Xe=Math.max(-90,Math.min(90,le[1]));let je=le[2]===180?180:((le[2]+180)%360+360)%360-180;const at=Math.max(-90,Math.min(90,le[3]));if(le[2]-le[0]>=360)ke=-180,je=180;else if(ke>je){const Rt=this.getClusters([ke,Xe,180,at],fe),Ht=this.getClusters([-180,Xe,je,at],fe);return Rt.concat(Ht)}const yt=this.trees[this._limitZoom(fe)],ut=yt.range(zi(ke),hn(at),zi(je),hn(Xe)),bt=yt.data,Tt=[];for(const Rt of ut){const Ht=this.stride*Rt;Tt.push(bt[Ht+Ji]>1?ni(bt,Ht,this.clusterProps):this.points[bt[Ht+di]])}return Tt}getChildren(le){const fe=this._getOriginId(le),ke=this._getOriginZoom(le),Xe="No cluster with the specified id.",je=this.trees[ke];if(!je)throw new Error(Xe);const at=je.data;if(fe*this.stride>=at.length)throw new Error(Xe);const yt=this.options.radius/(this.options.extent*Math.pow(2,ke-1)),ut=je.within(at[fe*this.stride],at[fe*this.stride+1],yt),bt=[];for(const Tt of ut){const Rt=Tt*this.stride;at[Rt+4]===le&&bt.push(at[Rt+Ji]>1?ni(at,Rt,this.clusterProps):this.points[at[Rt+di]])}if(bt.length===0)throw new Error(Xe);return bt}getLeaves(le,fe,ke){const Xe=[];return this._appendLeaves(Xe,le,fe=fe||10,ke=ke||0,0),Xe}getTile(le,fe,ke){const Xe=this.trees[this._limitZoom(le)],je=Math.pow(2,le),{extent:at,radius:yt}=this.options,ut=yt/at,bt=(ke-ut)/je,Tt=(ke+1+ut)/je,Rt={features:[]};return this._addTileFeatures(Xe.range((fe-ut)/je,bt,(fe+1+ut)/je,Tt),Xe.data,fe,ke,je,Rt),fe===0&&this._addTileFeatures(Xe.range(1-ut/je,bt,1,Tt),Xe.data,je,ke,je,Rt),fe===je-1&&this._addTileFeatures(Xe.range(0,bt,ut/je,Tt),Xe.data,-1,ke,je,Rt),Rt.features.length?Rt:null}getClusterExpansionZoom(le){let fe=this._getOriginZoom(le)-1;for(;fe<=this.options.maxZoom;){const ke=this.getChildren(le);if(fe++,ke.length!==1)break;le=ke[0].properties.cluster_id}return fe}_appendLeaves(le,fe,ke,Xe,je){const at=this.getChildren(fe);for(const yt of at){const ut=yt.properties;if(ut&&ut.cluster?je+ut.point_count<=Xe?je+=ut.point_count:je=this._appendLeaves(le,ut.cluster_id,ke,Xe,je):je<Xe?je++:le.push(yt),le.length===ke)break}return je}_createTree(le){const fe=new n.bz(le.length/this.stride|0,this.options.nodeSize,Float32Array);for(let ke=0;ke<le.length;ke+=this.stride)fe.add(le[ke],le[ke+1]);return fe.finish(),fe.data=le,fe}_addTileFeatures(le,fe,ke,Xe,je,at){for(const yt of le){const ut=yt*this.stride,bt=fe[ut+Ji]>1;let Tt,Rt,Ht;if(bt)Tt=Re(fe,ut,this.clusterProps),Rt=fe[ut],Ht=fe[ut+1];else{const ji=this.points[fe[ut+di]];Tt=ji.properties;const[Gi,Hi]=ji.geometry.coordinates;Rt=zi(Gi),Ht=hn(Hi)}const oi={type:1,geometry:[[Math.round(this.options.extent*(Rt*je-ke)),Math.round(this.options.extent*(Ht*je-Xe))]],tags:Tt};let _i;_i=bt||this.options.generateId?fe[ut+di]:this.points[fe[ut+di]].id,_i!==void 0&&(oi.id=_i),at.features.push(oi)}}_limitZoom(le){return Math.max(this.options.minZoom,Math.min(Math.floor(+le),this.options.maxZoom+1))}_cluster(le,fe){const{radius:ke,extent:Xe,reduce:je,minPoints:at}=this.options,yt=ke/(Xe*Math.pow(2,fe)),ut=le.data,bt=[],Tt=this.stride;for(let Rt=0;Rt<ut.length;Rt+=Tt){if(ut[Rt+2]<=fe)continue;ut[Rt+2]=fe;const Ht=ut[Rt],oi=ut[Rt+1],_i=le.within(ut[Rt],ut[Rt+1],yt),ji=ut[Rt+Ji];let Gi=ji;for(const Hi of _i){const Vi=Hi*Tt;ut[Vi+2]>fe&&(Gi+=ut[Vi+Ji])}if(Gi>ji&&Gi>=at){let Hi,Vi=Ht*ji,kn=oi*ji,yn=-1;const Yi=(Rt/Tt<<5)+(fe+1)+this.points.length;for(const Un of _i){const ro=Un*Tt;if(ut[ro+2]<=fe)continue;ut[ro+2]=fe;const lr=ut[ro+Ji];Vi+=ut[ro]*lr,kn+=ut[ro+1]*lr,ut[ro+4]=Yi,je&&(Hi||(Hi=this._map(ut,Rt,!0),yn=this.clusterProps.length,this.clusterProps.push(Hi)),je(Hi,this._map(ut,ro)))}ut[Rt+4]=Yi,bt.push(Vi/Gi,kn/Gi,1/0,Yi,-1,Gi),je&&bt.push(yn)}else{for(let Hi=0;Hi<Tt;Hi++)bt.push(ut[Rt+Hi]);if(Gi>1)for(const Hi of _i){const Vi=Hi*Tt;if(!(ut[Vi+2]<=fe)){ut[Vi+2]=fe;for(let kn=0;kn<Tt;kn++)bt.push(ut[Vi+kn])}}}}return bt}_getOriginId(le){return le-this.points.length>>5}_getOriginZoom(le){return(le-this.points.length)%32}_map(le,fe,ke){if(le[fe+Ji]>1){const at=this.clusterProps[le[fe+$t]];return ke?Object.assign({},at):at}const Xe=this.points[le[fe+di]].properties,je=this.options.map(Xe);return ke&&je===Xe?Object.assign({},je):je}}function ni(xt,le,fe){return{type:"Feature",id:xt[le+di],properties:Re(xt,le,fe),geometry:{type:"Point",coordinates:[(ke=xt[le],360*(ke-.5)),ze(xt[le+1])]}};var ke}function Re(xt,le,fe){const ke=xt[le+Ji],Xe=ke>=1e4?`${Math.round(ke/1e3)}k`:ke>=1e3?Math.round(ke/100)/10+"k":ke,je=xt[le+$t],at=je===-1?{}:Object.assign({},fe[je]);return Object.assign(at,{cluster:!0,cluster_id:xt[le+di],point_count:ke,point_count_abbreviated:Xe})}function zi(xt){return xt/360+.5}function hn(xt){const le=Math.sin(xt*Math.PI/180),fe=.5-.25*Math.log((1+le)/(1-le))/Math.PI;return fe<0?0:fe>1?1:fe}function ze(xt){const le=(180-360*xt)*Math.PI/180;return 360*Math.atan(Math.exp(le))/Math.PI-90}function K(xt,le,fe,ke){let Xe=ke;const je=le+(fe-le>>1);let at,yt=fe-le;const ut=xt[le],bt=xt[le+1],Tt=xt[fe],Rt=xt[fe+1];for(let Ht=le+3;Ht<fe;Ht+=3){const oi=et(xt[Ht],xt[Ht+1],ut,bt,Tt,Rt);if(oi>Xe)at=Ht,Xe=oi;else if(oi===Xe){const _i=Math.abs(Ht-je);_i<yt&&(at=Ht,yt=_i)}}Xe>ke&&(at-le>3&&K(xt,le,at,ke),xt[at+2]=Xe,fe-at>3&&K(xt,at,fe,ke))}function et(xt,le,fe,ke,Xe,je){let at=Xe-fe,yt=je-ke;if(at!==0||yt!==0){const ut=((xt-fe)*at+(le-ke)*yt)/(at*at+yt*yt);ut>1?(fe=Xe,ke=je):ut>0&&(fe+=at*ut,ke+=yt*ut)}return at=xt-fe,yt=le-ke,at*at+yt*yt}function ot(xt,le,fe,ke){const Xe={id:xt??null,type:le,geometry:fe,tags:ke,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(le==="Point"||le==="MultiPoint"||le==="LineString")Te(Xe,fe);else if(le==="Polygon")Te(Xe,fe[0]);else if(le==="MultiLineString")for(const je of fe)Te(Xe,je);else if(le==="MultiPolygon")for(const je of fe)Te(Xe,je[0]);return Xe}function Te(xt,le){for(let fe=0;fe<le.length;fe+=3)xt.minX=Math.min(xt.minX,le[fe]),xt.minY=Math.min(xt.minY,le[fe+1]),xt.maxX=Math.max(xt.maxX,le[fe]),xt.maxY=Math.max(xt.maxY,le[fe+1])}function _e(xt,le,fe,ke){if(!le.geometry)return;const Xe=le.geometry.coordinates;if(Xe&&Xe.length===0)return;const je=le.geometry.type,at=Math.pow(fe.tolerance/((1<<fe.maxZoom)*fe.extent),2);let yt=[],ut=le.id;if(fe.promoteId?ut=le.properties[fe.promoteId]:fe.generateId&&(ut=ke||0),je==="Point")Ye(Xe,yt);else if(je==="MultiPoint")for(const bt of Xe)Ye(bt,yt);else if(je==="LineString")qe(Xe,yt,at,!1);else if(je==="MultiLineString"){if(fe.lineMetrics){for(const bt of Xe)yt=[],qe(bt,yt,at,!1),xt.push(ot(ut,"LineString",yt,le.properties));return}rt(Xe,yt,at,!1)}else if(je==="Polygon")rt(Xe,yt,at,!0);else{if(je!=="MultiPolygon"){if(je==="GeometryCollection"){for(const bt of le.geometry.geometries)_e(xt,{id:ut,geometry:bt,properties:le.properties},fe,ke);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const bt of Xe){const Tt=[];rt(bt,Tt,at,!0),yt.push(Tt)}}xt.push(ot(ut,je,yt,le.properties))}function Ye(xt,le){le.push(Ge(xt[0]),Mt(xt[1]),0)}function qe(xt,le,fe,ke){let Xe,je,at=0;for(let ut=0;ut<xt.length;ut++){const bt=Ge(xt[ut][0]),Tt=Mt(xt[ut][1]);le.push(bt,Tt,0),ut>0&&(at+=ke?(Xe*Tt-bt*je)/2:Math.sqrt(Math.pow(bt-Xe,2)+Math.pow(Tt-je,2))),Xe=bt,je=Tt}const yt=le.length-3;le[2]=1,K(le,0,yt,fe),le[yt+2]=1,le.size=Math.abs(at),le.start=0,le.end=le.size}function rt(xt,le,fe,ke){for(let Xe=0;Xe<xt.length;Xe++){const je=[];qe(xt[Xe],je,fe,ke),le.push(je)}}function Ge(xt){return xt/360+.5}function Mt(xt){const le=Math.sin(xt*Math.PI/180),fe=.5-.25*Math.log((1+le)/(1-le))/Math.PI;return fe<0?0:fe>1?1:fe}function nt(xt,le,fe,ke,Xe,je,at,yt){if(ke/=le,je>=(fe/=le)&&at<ke)return xt;if(at<fe||je>=ke)return null;const ut=[];for(const bt of xt){const Tt=bt.geometry;let Rt=bt.type;const Ht=Xe===0?bt.minX:bt.minY,oi=Xe===0?bt.maxX:bt.maxY;if(Ht>=fe&&oi<ke){ut.push(bt);continue}if(oi<fe||Ht>=ke)continue;let _i=[];if(Rt==="Point"||Rt==="MultiPoint")Et(Tt,_i,fe,ke,Xe);else if(Rt==="LineString")Xt(Tt,_i,fe,ke,Xe,!1,yt.lineMetrics);else if(Rt==="MultiLineString")wi(Tt,_i,fe,ke,Xe,!1);else if(Rt==="Polygon")wi(Tt,_i,fe,ke,Xe,!0);else if(Rt==="MultiPolygon")for(const ji of Tt){const Gi=[];wi(ji,Gi,fe,ke,Xe,!0),Gi.length&&_i.push(Gi)}if(_i.length){if(yt.lineMetrics&&Rt==="LineString"){for(const ji of _i)ut.push(ot(bt.id,Rt,ji,bt.tags));continue}Rt!=="LineString"&&Rt!=="MultiLineString"||(_i.length===1?(Rt="LineString",_i=_i[0]):Rt="MultiLineString"),Rt!=="Point"&&Rt!=="MultiPoint"||(Rt=_i.length===3?"Point":"MultiPoint"),ut.push(ot(bt.id,Rt,_i,bt.tags))}}return ut.length?ut:null}function Et(xt,le,fe,ke,Xe){for(let je=0;je<xt.length;je+=3){const at=xt[je+Xe];at>=fe&&at<=ke&&Ui(le,xt[je],xt[je+1],xt[je+2])}}function Xt(xt,le,fe,ke,Xe,je,at){let yt=Ti(xt);const ut=Xe===0?uo:jn;let bt,Tt,Rt=xt.start;for(let Gi=0;Gi<xt.length-3;Gi+=3){const Hi=xt[Gi],Vi=xt[Gi+1],kn=xt[Gi+2],yn=xt[Gi+3],Yi=xt[Gi+4],Un=Xe===0?Hi:Vi,ro=Xe===0?yn:Yi;let lr=!1;at&&(bt=Math.sqrt(Math.pow(Hi-yn,2)+Math.pow(Vi-Yi,2))),Un<fe?ro>fe&&(Tt=ut(yt,Hi,Vi,yn,Yi,fe),at&&(yt.start=Rt+bt*Tt)):Un>ke?ro<ke&&(Tt=ut(yt,Hi,Vi,yn,Yi,ke),at&&(yt.start=Rt+bt*Tt)):Ui(yt,Hi,Vi,kn),ro<fe&&Un>=fe&&(Tt=ut(yt,Hi,Vi,yn,Yi,fe),lr=!0),ro>ke&&Un<=ke&&(Tt=ut(yt,Hi,Vi,yn,Yi,ke),lr=!0),!je&&lr&&(at&&(yt.end=Rt+bt*Tt),le.push(yt),yt=Ti(xt)),at&&(Rt+=bt)}let Ht=xt.length-3;const oi=xt[Ht],_i=xt[Ht+1],ji=Xe===0?oi:_i;ji>=fe&&ji<=ke&&Ui(yt,oi,_i,xt[Ht+2]),Ht=yt.length-3,je&&Ht>=3&&(yt[Ht]!==yt[0]||yt[Ht+1]!==yt[1])&&Ui(yt,yt[0],yt[1],yt[2]),yt.length&&le.push(yt)}function Ti(xt){const le=[];return le.size=xt.size,le.start=xt.start,le.end=xt.end,le}function wi(xt,le,fe,ke,Xe,je){for(const at of xt)Xt(at,le,fe,ke,Xe,je,!1)}function Ui(xt,le,fe,ke){xt.push(le,fe,ke)}function uo(xt,le,fe,ke,Xe,je){const at=(je-le)/(ke-le);return Ui(xt,je,fe+(Xe-fe)*at,1),at}function jn(xt,le,fe,ke,Xe,je){const at=(je-fe)/(Xe-fe);return Ui(xt,le+(ke-le)*at,je,1),at}function go(xt,le){const fe=[];for(let ke=0;ke<xt.length;ke++){const Xe=xt[ke],je=Xe.type;let at;if(je==="Point"||je==="MultiPoint"||je==="LineString")at=sn(Xe.geometry,le);else if(je==="MultiLineString"||je==="Polygon"){at=[];for(const yt of Xe.geometry)at.push(sn(yt,le))}else if(je==="MultiPolygon"){at=[];for(const yt of Xe.geometry){const ut=[];for(const bt of yt)ut.push(sn(bt,le));at.push(ut)}}fe.push(ot(Xe.id,je,at,Xe.tags))}return fe}function sn(xt,le){const fe=[];fe.size=xt.size,xt.start!==void 0&&(fe.start=xt.start,fe.end=xt.end);for(let ke=0;ke<xt.length;ke+=3)fe.push(xt[ke]+le,xt[ke+1],xt[ke+2]);return fe}function or(xt,le){if(xt.transformed)return xt;const fe=1<<xt.z,ke=xt.x,Xe=xt.y;for(const je of xt.features){const at=je.geometry,yt=je.type;if(je.geometry=[],yt===1)for(let ut=0;ut<at.length;ut+=2)je.geometry.push(Or(at[ut],at[ut+1],le,fe,ke,Xe));else for(let ut=0;ut<at.length;ut++){const bt=[];for(let Tt=0;Tt<at[ut].length;Tt+=2)bt.push(Or(at[ut][Tt],at[ut][Tt+1],le,fe,ke,Xe));je.geometry.push(bt)}}return xt.transformed=!0,xt}function Or(xt,le,fe,ke,Xe,je){return[Math.round(fe*(xt*ke-Xe)),Math.round(fe*(le*ke-je))]}function Ln(xt,le,fe,ke,Xe){const je=le===Xe.maxZoom?0:Xe.tolerance/((1<<le)*Xe.extent),at={features:[],numPoints:0,numSimplified:0,numFeatures:xt.length,source:null,x:fe,y:ke,z:le,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const yt of xt)Mo(at,yt,je,Xe);return at}function Mo(xt,le,fe,ke){const Xe=le.geometry,je=le.type,at=[];if(xt.minX=Math.min(xt.minX,le.minX),xt.minY=Math.min(xt.minY,le.minY),xt.maxX=Math.max(xt.maxX,le.maxX),xt.maxY=Math.max(xt.maxY,le.maxY),je==="Point"||je==="MultiPoint")for(let yt=0;yt<Xe.length;yt+=3)at.push(Xe[yt],Xe[yt+1]),xt.numPoints++,xt.numSimplified++;else if(je==="LineString")an(at,Xe,xt,fe,!1,!1);else if(je==="MultiLineString"||je==="Polygon")for(let yt=0;yt<Xe.length;yt++)an(at,Xe[yt],xt,fe,je==="Polygon",yt===0);else if(je==="MultiPolygon")for(let yt=0;yt<Xe.length;yt++){const ut=Xe[yt];for(let bt=0;bt<ut.length;bt++)an(at,ut[bt],xt,fe,!0,bt===0)}if(at.length){let yt=le.tags||null;if(je==="LineString"&&ke.lineMetrics){yt={};for(const bt in le.tags)yt[bt]=le.tags[bt];yt.mapbox_clip_start=Xe.start/Xe.size,yt.mapbox_clip_end=Xe.end/Xe.size}const ut={geometry:at,type:je==="Polygon"||je==="MultiPolygon"?3:je==="LineString"||je==="MultiLineString"?2:1,tags:yt};le.id!==null&&(ut.id=le.id),xt.features.push(ut)}}function an(xt,le,fe,ke,Xe,je){const at=ke*ke;if(ke>0&&le.size<(Xe?at:ke))return void(fe.numPoints+=le.length/3);const yt=[];for(let ut=0;ut<le.length;ut+=3)(ke===0||le[ut+2]>at)&&(fe.numSimplified++,yt.push(le[ut],le[ut+1])),fe.numPoints++;Xe&&function(ut,bt){let Tt=0;for(let Rt=0,Ht=ut.length,oi=Ht-2;Rt<Ht;oi=Rt,Rt+=2)Tt+=(ut[Rt]-ut[oi])*(ut[Rt+1]+ut[oi+1]);if(Tt>0===bt)for(let Rt=0,Ht=ut.length;Rt<Ht/2;Rt+=2){const oi=ut[Rt],_i=ut[Rt+1];ut[Rt]=ut[Ht-2-Rt],ut[Rt+1]=ut[Ht-1-Rt],ut[Ht-2-Rt]=oi,ut[Ht-1-Rt]=_i}}(yt,je),xt.push(yt)}const Aa={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class Ml{constructor(le,fe){const ke=(fe=this.options=function(je,at){for(const yt in at)je[yt]=at[yt];return je}(Object.create(Aa),fe)).debug;if(ke&&console.time("preprocess data"),fe.maxZoom<0||fe.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(fe.promoteId&&fe.generateId)throw new Error("promoteId and generateId cannot be used together.");let Xe=function(je,at){const yt=[];if(je.type==="FeatureCollection")for(let ut=0;ut<je.features.length;ut++)_e(yt,je.features[ut],at,ut);else _e(yt,je.type==="Feature"?je:{geometry:je},at);return yt}(le,fe);this.tiles={},this.tileCoords=[],ke&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",fe.indexMaxZoom,fe.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Xe=function(je,at){const yt=at.buffer/at.extent;let ut=je;const bt=nt(je,1,-1-yt,yt,0,-1,2,at),Tt=nt(je,1,1-yt,2+yt,0,-1,2,at);return(bt||Tt)&&(ut=nt(je,1,-yt,1+yt,0,-1,2,at)||[],bt&&(ut=go(bt,1).concat(ut)),Tt&&(ut=ut.concat(go(Tt,-1)))),ut}(Xe,fe),Xe.length&&this.splitTile(Xe,0,0,0),ke&&(Xe.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(le,fe,ke,Xe,je,at,yt){const ut=[le,fe,ke,Xe],bt=this.options,Tt=bt.debug;for(;ut.length;){Xe=ut.pop(),ke=ut.pop(),fe=ut.pop(),le=ut.pop();const Rt=1<<fe,Ht=Lr(fe,ke,Xe);let oi=this.tiles[Ht];if(!oi&&(Tt>1&&console.time("creation"),oi=this.tiles[Ht]=Ln(le,fe,ke,Xe,bt),this.tileCoords.push({z:fe,x:ke,y:Xe}),Tt)){Tt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",fe,ke,Xe,oi.numFeatures,oi.numPoints,oi.numSimplified),console.timeEnd("creation"));const lr=`z${fe}`;this.stats[lr]=(this.stats[lr]||0)+1,this.total++}if(oi.source=le,je==null){if(fe===bt.indexMaxZoom||oi.numPoints<=bt.indexMaxPoints)continue}else{if(fe===bt.maxZoom||fe===je)continue;if(je!=null){const lr=je-fe;if(ke!==at>>lr||Xe!==yt>>lr)continue}}if(oi.source=null,le.length===0)continue;Tt>1&&console.time("clipping");const _i=.5*bt.buffer/bt.extent,ji=.5-_i,Gi=.5+_i,Hi=1+_i;let Vi=null,kn=null,yn=null,Yi=null,Un=nt(le,Rt,ke-_i,ke+Gi,0,oi.minX,oi.maxX,bt),ro=nt(le,Rt,ke+ji,ke+Hi,0,oi.minX,oi.maxX,bt);le=null,Un&&(Vi=nt(Un,Rt,Xe-_i,Xe+Gi,1,oi.minY,oi.maxY,bt),kn=nt(Un,Rt,Xe+ji,Xe+Hi,1,oi.minY,oi.maxY,bt),Un=null),ro&&(yn=nt(ro,Rt,Xe-_i,Xe+Gi,1,oi.minY,oi.maxY,bt),Yi=nt(ro,Rt,Xe+ji,Xe+Hi,1,oi.minY,oi.maxY,bt),ro=null),Tt>1&&console.timeEnd("clipping"),ut.push(Vi||[],fe+1,2*ke,2*Xe),ut.push(kn||[],fe+1,2*ke,2*Xe+1),ut.push(yn||[],fe+1,2*ke+1,2*Xe),ut.push(Yi||[],fe+1,2*ke+1,2*Xe+1)}}getTile(le,fe,ke){le=+le,fe=+fe,ke=+ke;const Xe=this.options,{extent:je,debug:at}=Xe;if(le<0||le>24)return null;const yt=1<<le,ut=Lr(le,fe=fe+yt&yt-1,ke);if(this.tiles[ut])return or(this.tiles[ut],je);at>1&&console.log("drilling down to z%d-%d-%d",le,fe,ke);let bt,Tt=le,Rt=fe,Ht=ke;for(;!bt&&Tt>0;)Tt--,Rt>>=1,Ht>>=1,bt=this.tiles[Lr(Tt,Rt,Ht)];return bt&&bt.source?(at>1&&(console.log("found parent tile z%d-%d-%d",Tt,Rt,Ht),console.time("drilling down")),this.splitTile(bt.source,Tt,Rt,Ht,le,fe,ke),at>1&&console.timeEnd("drilling down"),this.tiles[ut]?or(this.tiles[ut],je):null):null}}function Lr(xt,le,fe){return 32*((1<<xt)*fe+le)+xt}function fa(xt,le){const fe=xt.tileID.canonical;if(!this._geoJSONIndex)return void le(null,null);const ke=this._geoJSONIndex.getTile(fe.z,fe.x,fe.y);if(!ke)return void le(null,null);const Xe=new he(ke.features);let je=It(Xe);je.byteOffset===0&&je.byteLength===je.buffer.byteLength||(je=new Uint8Array(je)),le(null,{vectorTile:Xe,rawData:je.buffer})}class hs extends Q{constructor(le,fe,ke,Xe,je,at){super(le,fe,ke,Xe,fa,at),je&&(this.loadGeoJSON=je),this._dynamicIndex=new De}loadData(le,fe){const ke=le&&le.request,Xe=ke&&ke.collectResourceTiming;this.loadGeoJSON(le,(je,at)=>{if(je||!at)return fe(je);if(typeof at!="object")return fe(new Error(`Input data given to '${le.source}' is not a valid GeoJSON object.`));{try{if(le.filter){const ut=n.M(le.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(ut.result==="error")throw new Error(ut.value.map(bt=>`${bt.key}: ${bt.message}`).join(", "));at.features=at.features.filter(bt=>ut.value.evaluate({zoom:0},bt))}le.dynamic?(at.type==="Feature"&&(at={type:"FeatureCollection",features:[at]}),le.append||(this._dynamicIndex.clear(),this.loaded={}),this._dynamicIndex.load(at.features,this.loaded),le.cluster&&(at.features=this._dynamicIndex.getFeatures())):this.loaded={},this._geoJSONIndex=le.cluster?new ii(function({superclusterOptions:ut,clusterProperties:bt}){if(!bt||!ut)return ut;const Tt={},Rt={},Ht={accumulated:null,zoom:0},oi={properties:null},_i=Object.keys(bt);for(const ji of _i){const[Gi,Hi]=bt[ji],Vi=n.M(Hi),kn=n.M(typeof Gi=="string"?[Gi,["accumulated"],["get",ji]]:Gi);Tt[ji]=Vi.value,Rt[ji]=kn.value}return ut.map=ji=>{oi.properties=ji;const Gi={};for(const Hi of _i)Gi[Hi]=Tt[Hi].evaluate(Ht,oi);return Gi},ut.reduce=(ji,Gi)=>{oi.properties=Gi;for(const Hi of _i)Ht.accumulated=ji[Hi],ji[Hi]=Rt[Hi].evaluate(Ht,oi)},ut}(le)).load(at.features):le.dynamic?this._dynamicIndex:function(ut,bt){return new Ml(ut,bt)}(at,le.geojsonVtOptions)}catch(ut){return fe(ut)}const yt={};if(Xe){const ut=x(ke);ut&&(yt.resourceTiming={},yt.resourceTiming[le.source]=JSON.parse(JSON.stringify(ut)))}fe(null,yt)}})}reloadTile(le,fe){const ke=this.loaded;return ke&&ke[le.uid]?le.partial?fe(null,void 0):super.reloadTile(le,fe):this.loadTile(le,fe)}loadGeoJSON(le,fe){if(le.request)n.n(le.request,fe);else{if(typeof le.data!="string")return fe(new Error(`Input data given to '${le.source}' is not a valid GeoJSON object.`));try{return fe(null,JSON.parse(le.data))}catch{return fe(new Error(`Input data given to '${le.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(le,fe){try{fe(null,this._geoJSONIndex.getClusterExpansionZoom(le.clusterId))}catch(ke){fe(ke)}}getClusterChildren(le,fe){try{fe(null,this._geoJSONIndex.getChildren(le.clusterId))}catch(ke){fe(ke)}}getClusterLeaves(le,fe){try{fe(null,this._geoJSONIndex.getLeaves(le.clusterId,le.limit,le.offset))}catch(ke){fe(ke)}}}class vu{constructor(le,fe){this.tileID=new n.aA(le.tileID.overscaledZ,le.tileID.wrap,le.tileID.canonical.z,le.tileID.canonical.x,le.tileID.canonical.y),this.tileZoom=le.tileZoom,this.uid=le.uid,this.zoom=le.zoom,this.canonical=le.tileID.canonical,this.pixelRatio=le.pixelRatio,this.tileSize=le.tileSize,this.source=le.source,this.overscaling=this.tileID.overscaleFactor(),this.projection=le.projection,this.brightness=fe}parse(le,fe,ke,Xe){this.status="parsing";const je=new n.aA(ke.tileID.overscaledZ,ke.tileID.wrap,ke.tileID.canonical.z,ke.tileID.canonical.x,ke.tileID.canonical.y),at=[],yt=fe.familiesBySource[ke.source],ut=new n.dR(je,ke.promoteId);return ut.bucketLayerIDs=[],ut.is3DTile=!0,n.e0(le).then(bt=>{if(!bt)return Xe(new Error("Could not parse tile"));const Tt=n.e1(bt,1/n.c9(ke.tileID.canonical)),Rt=bt.json.extensionsUsed&&bt.json.extensionsUsed.includes("MAPBOX_mesh_features")||bt.json.asset.extras&&bt.json.asset.extras.MAPBOX_mesh_features,Ht=bt.json.extensionsUsed&&bt.json.extensionsUsed.includes("EXT_meshopt_compression"),oi=new n.a3(this.zoom,{brightness:this.brightness});for(const _i in yt)for(const ji of yt[_i]){const Gi=ji[0];ut.bucketLayerIDs.push(ji.map(Vi=>n.av(Vi.id,Vi.scope))),Gi.recalculate(oi,[]);const Hi=new n.e2(ji,Tt,je,Rt,Ht,this.brightness,ut);Rt||(Hi.needsUpload=!0),at.push(Hi),Hi.evaluate(Gi)}this.status="done",Xe(null,{buckets:at,featureIndex:ut,collisionBoxArray:null,glyphAtlasImage:null,lineAtlas:null,imageAtlas:null,brightness:null})}).catch(bt=>Xe(new Error(bt.message)))}}class Al{constructor(le,fe,ke,Xe,je,at){this.actor=le,this.layerIndex=fe,this.availableImages=ke,this.brightness=at,this.loading={},this.loaded={}}loadTile(le,fe){const ke=le.uid,Xe=this.loading[ke]=new vu(le,this.brightness);n.bd(le.request,(je,at)=>{const yt=!this.loading[ke];return delete this.loading[ke],yt||je?(Xe.status="done",yt||(this.loaded[ke]=Xe),fe(je)):at&&at.byteLength!==0?void Xe.parse(at,this.layerIndex,le,(ut,bt)=>{Xe.status="done",this.loaded=this.loaded||{},this.loaded[ke]=Xe,ut||!bt?fe(ut):fe(null,bt)}):(Xe.status="done",this.loaded[ke]=Xe,fe())})}reloadTile(le,fe){const ke=this.loaded,Xe=le.uid;if(ke&&ke[Xe]){const je=ke[Xe];je.projection=le.projection,je.brightness=le.brightness;const at=(yt,ut)=>{je.reloadCallback&&(delete je.reloadCallback,this.loadTile(le,fe)),fe(yt,ut)};je.status==="parsing"?je.reloadCallback=at:je.status==="done"&&this.loadTile(le,fe)}}abortTile(le,fe){const ke=le.uid;this.loading[ke]&&delete this.loading[ke],fe()}removeTile(le,fe){const ke=this.loaded,Xe=le.uid;ke&&ke[Xe]&&delete ke[Xe],fe()}}class xu{constructor(le){this.self=le,this.actor=new n.e3(le,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=n.bM({name:"mercator"}),this.workerSourceTypes={vector:Q,geojson:hs,"batched-model":Al},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(fe,ke)=>{if(this.workerSourceTypes[fe])throw new Error(`Worker source with name "${fe}" already registered.`);this.workerSourceTypes[fe]=ke},this.self.registerRTLTextPlugin=fe=>{if(n.e4.isParsed())throw new Error("RTL text plugin already registered.");n.e4.applyArabicShaping=fe.applyArabicShaping,n.e4.processBidirectionalText=fe.processBidirectionalText,n.e4.processStyledBidirectionalText=fe.processStyledBidirectionalText}}clearCaches(le,fe,ke){delete this.layerIndexes[le],delete this.availableImages[le],delete this.workerSources[le],delete this.demWorkerSources[le],delete this.rasterArrayWorkerSource,ke()}checkIfReady(le,fe,ke){ke()}setReferrer(le,fe){this.referrer=fe}spriteLoaded(le,{scope:fe,isLoaded:ke}){if(this.isSpriteLoaded[le]||(this.isSpriteLoaded[le]={}),this.isSpriteLoaded[le][fe]=ke,this.workerSources[le]&&this.workerSources[le][fe])for(const Xe in this.workerSources[le][fe]){const je=this.workerSources[le][fe][Xe];for(const at in je){const yt=je[at];yt instanceof Q&&(yt.isSpriteLoaded=ke,yt.fire(new n.x("isSpriteLoaded")))}}}setImages(le,{scope:fe,images:ke},Xe){if(this.availableImages[le]||(this.availableImages[le]={}),this.availableImages[le][fe]=ke,this.workerSources[le]&&this.workerSources[le][fe]){for(const je in this.workerSources[le][fe]){const at=this.workerSources[le][fe][je];for(const yt in at)at[yt].availableImages=ke}Xe()}else Xe()}setProjection(le,fe){this.projections[le]=n.bM(fe)}setBrightness(le,fe,ke){this.brightness=fe,ke()}setLayers(le,fe,ke){this.getLayerIndex(le,fe.scope).replace(fe.layers,fe.options),ke()}updateLayers(le,fe,ke){this.getLayerIndex(le,fe.scope).update(fe.layers,fe.removedIds,fe.options),ke()}loadTile(le,fe,ke){fe.projection=this.projections[le]||this.defaultProjection,this.getWorkerSource(le,fe.type,fe.source,fe.scope).loadTile(fe,ke)}loadDEMTile(le,fe,ke){this.getDEMWorkerSource(le,fe.source,fe.scope).loadTile(fe,ke)}decodeRasterArray(le,fe,ke){this.getRasterArrayWorkerSource().decodeRasterArray(fe,ke)}reloadTile(le,fe,ke){fe.projection=this.projections[le]||this.defaultProjection,this.getWorkerSource(le,fe.type,fe.source,fe.scope).reloadTile(fe,ke)}abortTile(le,fe,ke){this.getWorkerSource(le,fe.type,fe.source,fe.scope).abortTile(fe,ke)}removeTile(le,fe,ke){this.getWorkerSource(le,fe.type,fe.source,fe.scope).removeTile(fe,ke)}removeSource(le,fe,ke){if(!(this.workerSources[le]&&this.workerSources[le][fe.scope]&&this.workerSources[le][fe.scope][fe.type]&&this.workerSources[le][fe.scope][fe.type][fe.source]))return;const Xe=this.workerSources[le][fe.scope][fe.type][fe.source];delete this.workerSources[le][fe.scope][fe.type][fe.source],Xe.removeSource!==void 0?Xe.removeSource(fe,ke):ke()}loadWorkerSource(le,fe,ke){try{this.self.importScripts(fe.url),ke()}catch(Xe){ke(Xe.toString())}}syncRTLPluginState(le,fe,ke){try{n.e4.setState(fe);const Xe=n.e4.getPluginURL();if(n.e4.isLoaded()&&!n.e4.isParsed()&&Xe!=null){this.self.importScripts(Xe);const je=n.e4.isParsed();ke(je?void 0:new Error(`RTL Text Plugin failed to import scripts from ${Xe}`),je)}}catch(Xe){ke(Xe.toString())}}setDracoUrl(le,fe){this.dracoUrl=fe}getAvailableImages(le,fe){this.availableImages[le]||(this.availableImages[le]={});let ke=this.availableImages[le][fe];return ke||(ke=[]),ke}getLayerIndex(le,fe){this.layerIndexes[le]||(this.layerIndexes[le]={});let ke=this.layerIndexes[le][fe];return ke||(ke=this.layerIndexes[le][fe]=new O,ke.scope=fe),ke}getWorkerSource(le,fe,ke,Xe){return this.workerSources[le]||(this.workerSources[le]={}),this.workerSources[le][Xe]||(this.workerSources[le][Xe]={}),this.workerSources[le][Xe][fe]||(this.workerSources[le][Xe][fe]={}),this.isSpriteLoaded[le]||(this.isSpriteLoaded[le]={}),this.workerSources[le][Xe][fe][ke]||(this.workerSources[le][Xe][fe][ke]=new this.workerSourceTypes[fe]({send:(je,at,yt,ut,bt,Tt)=>{this.actor.send(je,at,yt,le,bt,Tt)},scheduler:this.actor.scheduler},this.getLayerIndex(le,Xe),this.getAvailableImages(le,Xe),this.isSpriteLoaded[le][Xe],void 0,this.brightness)),this.workerSources[le][Xe][fe][ke]}getDEMWorkerSource(le,fe,ke){return this.demWorkerSources[le]||(this.demWorkerSources[le]={}),this.demWorkerSources[le][ke]||(this.demWorkerSources[le][ke]={}),this.demWorkerSources[le][ke][fe]||(this.demWorkerSources[le][ke][fe]=new Y),this.demWorkerSources[le][ke][fe]}getRasterArrayWorkerSource(){return this.rasterArrayWorkerSource||(this.rasterArrayWorkerSource=new J),this.rasterArrayWorkerSource}enforceCacheSizeLimit(le,fe){n.e5(fe)}getWorkerPerformanceMetrics(le,fe,ke){ke(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new xu(self)),xu}),c(["./shared"],function(n){var x="3.8.0";const C={create:"create",load:"load",fullLoad:"fullLoad"},k={mark(p){performance.mark(p)},measure(p,r,d){performance.measure(p,r,d)}};function O(p){const r=p.name.split("?")[0];return n.a(r)&&r.includes("mapbox-gl.js")?"javascript":n.a(r)&&r.includes("mapbox-gl.css")?"css":n.b(r)?"fontRange":n.c(r)?"sprite":n.i(r)?"style":n.d(r)?"tilejson":"other"}var B,L={},V=function(){if(B)return L;function p(m){return!r(m)}function r(m){return typeof window>"u"||typeof document>"u"?"not a browser":function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var w,E,A=new Blob([""],{type:"text/javascript"}),j=URL.createObjectURL(A);try{E=new Worker(j),w=!0}catch{w=!1}return E&&E.terminate(),URL.revokeObjectURL(j),w}()?function(){var w=document.createElement("canvas");w.width=w.height=1;var E=w.getContext("2d");if(!E)return!1;var A=E.getImageData(0,0,1,1);return A&&A.width===w.width}()?(d[b=m&&m.failIfMajorPerformanceCaveat]===void 0&&(d[b]=function(w){var E,A=function(j){var $=document.createElement("canvas"),z=Object.create(p.webGLContextAttributes);return z.failIfMajorPerformanceCaveat=j,$.getContext("webgl2",z)}(w);if(!A)return!1;try{E=A.createShader(A.VERTEX_SHADER)}catch{return!1}return!(!E||A.isContextLost())&&(A.shaderSource(E,"void main() {}"),A.compileShader(E),A.getShaderParameter(E,A.COMPILE_STATUS)===!0)}(b)),d[b]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL2 support"):"insufficient Canvas/getImageData support":"insufficient worker support";var b}B=1,L.supported=p,L.notSupportedReason=r;var d={};return p.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0},L}();function G(p,r,d){const m=document.createElement(p);return r!=null&&(m.className=r),d&&d.appendChild(m),m}function Q(p,r,d){const m=document.createElementNS("http://www.w3.org/2000/svg",p);for(const b of Object.keys(r))m.setAttributeNS(null,b,String(r[b]));return d&&d.appendChild(m),m}const Y=typeof document<"u"?document.documentElement&&document.documentElement.style:null,J=Y&&Y.userSelect!==void 0?"userSelect":"WebkitUserSelect";let re;function ce(){Y&&J&&(re=Y[J],Y[J]="none")}function he(){Y&&J&&(Y[J]=re)}function we(p){p.preventDefault(),p.stopPropagation(),window.removeEventListener("click",we,!0)}function pe(){window.addEventListener("click",we,!0),window.setTimeout(()=>{window.removeEventListener("click",we,!0)},0)}function De(p,r){const d=p.getBoundingClientRect();return it(p,d,r)}function Ae(p,r){const d=p.getBoundingClientRect(),m=[];for(let b=0;b<r.length;b++)m.push(it(p,d,r[b]));return m}function Ne(p){return window.InstallTrigger!==void 0&&p.button===2&&p.ctrlKey&&window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:p.button}function it(p,r,d){const m=p.offsetWidth===r.width?1:p.offsetWidth/r.width;return new n.P((d.clientX-r.left)*m,(d.clientY-r.top)*m)}const ye="01",Oe="NO_ACCESS_TOKEN";class ue{constructor(r,d,m){this._transformRequestFn=r,this._customAccessToken=d,this._silenceAuthErrors=!!m,this._createSkuToken()}_createSkuToken(){const r=function(){let d="";for(let m=0;m<10;m++)d+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",ye,d].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=r.token,this._skuTokenExpiresAt=r.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(r,d){return this._transformRequestFn&&this._transformRequestFn(r,d)||{url:r}}normalizeStyleURL(r,d){if(!n.f(r))return r;const m=Ct(r);return m.params.push(`sdk=js-${x}`),m.path=`/styles/v1${m.path}`,this._makeAPIURL(m,this._customAccessToken||d)}normalizeGlyphsURL(r,d){if(!n.f(r))return r;const m=Ct(r);return m.path=`/fonts/v1${m.path}`,this._makeAPIURL(m,this._customAccessToken||d)}normalizeModelURL(r,d){if(!n.f(r))return r;const m=Ct(r);return m.path=`/models/v1${m.path}`,this._makeAPIURL(m,this._customAccessToken||d)}normalizeSourceURL(r,d,m,b){if(!n.f(r))return r;const w=Ct(r);return w.path=`/v4/${w.authority}.json`,w.params.push("secure"),m&&w.params.push(`language=${m}`),b&&w.params.push(`worldview=${b}`),this._makeAPIURL(w,this._customAccessToken||d)}normalizeSpriteURL(r,d,m,b){const w=Ct(r);return n.f(r)?(w.path=`/styles/v1${w.path}/sprite${d}${m}`,this._makeAPIURL(w,this._customAccessToken||b)):(w.path+=`${d}${m}`,pt(w))}normalizeTileURL(r,d,m){if(this._isSkuTokenExpired()&&this._createSkuToken(),r&&!n.f(r))return r;const b=Ct(r);b.path=b.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${d||m&&b.authority!=="raster"&&m===512?"@2x":""}${n.m.supported?".webp":"$1"}`),b.authority==="raster"?b.path=`/${n.e.RASTER_URL_PREFIX}${b.path}`:b.authority==="rasterarrays"?b.path=`/${n.e.RASTERARRAYS_URL_PREFIX}${b.path}`:b.authority==="3dtiles"?b.path=`/${n.e.TILES3D_URL_PREFIX}${b.path}`:(b.path=b.path.replace(/^.+\/v4\//,"/"),b.path=`/${n.e.TILE_URL_VERSION}${b.path}`);const w=this._customAccessToken||function(E){for(const A of E){const j=A.match(/^access_token=(.*)$/);if(j)return j[1]}return null}(b.params)||n.e.ACCESS_TOKEN;return n.e.REQUIRE_ACCESS_TOKEN&&w&&this._skuToken&&b.params.push(`sku=${this._skuToken}`),this._makeAPIURL(b,w)}canonicalizeTileURL(r,d){const m=Ct(r);if(!m.path.match(/^(\/v4\/|\/(raster|rasterarrays)\/v1\/)/)||!m.path.match(/\.[\w]+$/))return r;let b="mapbox://";m.path.match(/^\/raster\/v1\//)?b+=`raster/${m.path.replace(`/${n.e.RASTER_URL_PREFIX}/`,"")}`:m.path.match(/^\/rasterarrays\/v1\//)?b+=`rasterarrays/${m.path.replace(`/${n.e.RASTERARRAYS_URL_PREFIX}/`,"")}`:b+=`tiles/${m.path.replace(`/${n.e.TILE_URL_VERSION}/`,"")}`;let w=m.params;return d&&(w=w.filter(E=>!E.match(/^access_token=/))),w.length&&(b+=`?${w.join("&")}`),b}canonicalizeTileset(r,d){const m=!!d&&n.f(d),b=[];for(const w of r.tiles||[])n.h(w)?b.push(this.canonicalizeTileURL(w,m)):b.push(w);return b}_makeAPIURL(r,d){const m="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",b=Ct(n.e.API_URL);if(r.protocol=b.protocol,r.authority=b.authority,r.protocol==="http"){const w=r.params.indexOf("secure");w>=0&&r.params.splice(w,1)}if(b.path!=="/"&&(r.path=`${b.path}${r.path}`),!n.e.REQUIRE_ACCESS_TOKEN)return pt(r);if(d=d||n.e.ACCESS_TOKEN,!this._silenceAuthErrors){if(!d)throw new Error(`An API access token is required to use Mapbox GL. ${m}`);if(d[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${m}`)}return r.params=r.params.filter(w=>w.indexOf("access_token")===-1),r.params.push(`access_token=${d||""}`),pt(r)}}const ct=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Ct(p){const r=p.match(ct);if(!r)throw new Error("Unable to parse URL object");return{protocol:r[1],authority:r[2],path:r[3]||"/",params:r[4]?r[4].split("&"):[]}}function pt(p){const r=p.params.length?`?${p.params.join("&")}`:"";return`${p.protocol}://${p.authority}${p.path}${r}`}const Ut="mapbox.eventData";function vt(p){if(!p)return null;const r=p.split(".");if(!r||r.length!==3)return null;try{return JSON.parse(n.j(r[1]))}catch{return null}}class Bt{constructor(r){this.type=r,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(r){const d=vt(n.e.ACCESS_TOKEN);let m="";return m=d&&d.u?n.k(d.u):n.e.ACCESS_TOKEN||"",r?`${Ut}.${r}:${m}`:`${Ut}:${m}`}fetchEventData(){const r=n.s("localStorage"),d=this.getStorageKey(),m=this.getStorageKey("uuid");if(r)try{const b=localStorage.getItem(d);b&&(this.eventData=JSON.parse(b));const w=localStorage.getItem(m);w&&(this.anonId=w)}catch{n.w("Unable to read from LocalStorage")}}saveEventData(){const r=n.s("localStorage"),d=this.getStorageKey(),m=this.getStorageKey("uuid"),b=this.anonId;if(r&&b)try{localStorage.setItem(m,b),Object.keys(this.eventData).length>=1&&localStorage.setItem(d,JSON.stringify(this.eventData))}catch{n.w("Unable to write to LocalStorage")}}processRequests(r){}postEvent(r,d,m,b){if(!n.e.EVENTS_URL)return;const w=Ct(n.e.EVENTS_URL);w.params.push(`access_token=${b||n.e.ACCESS_TOKEN||""}`);const E={event:this.type,created:new Date(r).toISOString()},A=d?n.l(E,d):E,j={url:pt(w),headers:{"Content-Type":"text/plain"},body:JSON.stringify([A])};this.pendingRequest=n.p(j,$=>{this.pendingRequest=null,m($),this.saveEventData(),this.processRequests(b)})}queueRequest(r,d){this.queue.push(r),this.processRequests(d)}}const It=new class extends Bt{constructor(p){super("appUserTurnstile"),this._customAccessToken=p}postTurnstileEvent(p,r){n.e.EVENTS_URL&&n.e.ACCESS_TOKEN&&Array.isArray(p)&&p.some(d=>n.f(d)||n.h(d))&&this.queueRequest(Date.now(),r)}processRequests(p){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const r=vt(n.e.ACCESS_TOKEN),d=r?r.u:n.e.ACCESS_TOKEN;let m=d!==this.eventData.tokenU;n.v(this.anonId)||(this.anonId=n.u(),m=!0);const b=this.queue.shift();if(this.eventData.lastSuccess){const w=new Date(this.eventData.lastSuccess),E=new Date(b),A=(b-this.eventData.lastSuccess)/864e5;m=m||A>=1||A<-1||w.getDate()!==E.getDate()}else m=!0;m?this.postEvent(b,{sdkIdentifier:"mapbox-gl-js",sdkVersion:x,skuId:ye,"enabled.telemetry":!1,userId:this.anonId},w=>{w||(this.eventData.lastSuccess=b,this.eventData.tokenU=d)},p):this.processRequests()}},St=It.postTurnstileEvent.bind(It),Wt=new class extends Bt{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(p,r,d,m){this.skuToken=r,this.errorCb=m,n.e.EVENTS_URL&&(d||n.e.ACCESS_TOKEN?this.queueRequest({id:p,timestamp:Date.now()},d):this.errorCb(new Error(Oe)))}processRequests(p){if(this.pendingRequest||this.queue.length===0)return;const{id:r,timestamp:d}=this.queue.shift();r&&this.success[r]||(this.anonId||this.fetchEventData(),n.v(this.anonId)||(this.anonId=n.u()),this.postEvent(d,{sdkIdentifier:"mapbox-gl-js",sdkVersion:x,skuId:ye,skuToken:this.skuToken,userId:this.anonId},m=>{m?this.errorCb(m):r&&(this.success[r]=!0)},p))}remove(){this.errorCb=null}},ui=Wt.postMapLoadEvent.bind(Wt),di=new class extends Bt{constructor(){super("style.load"),this.eventIdPerMapInstanceMap=new Map,this.mapInstanceIdMap=new WeakMap}getMapInstanceId(p){let r=this.mapInstanceIdMap.get(p);return r||(r=n.u(),this.mapInstanceIdMap.set(p,r)),r}getEventId(p){const r=this.eventIdPerMapInstanceMap.get(p)||0;return this.eventIdPerMapInstanceMap.set(p,r+1),r}postStyleLoadEvent(p,r){const{map:d,style:m,importedStyles:b}=r;if(!n.e.EVENTS_URL||!p&&!n.e.ACCESS_TOKEN)return;const w=this.getMapInstanceId(d),E={mapInstanceId:w,eventId:this.getEventId(w),style:m};b.length&&(E.importedStyles=b),this.queueRequest({timestamp:Date.now(),payload:E},p)}processRequests(p){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:r,payload:d}=this.queue.shift();this.postEvent(r,d,()=>{},p)}},Ji=di.postStyleLoadEvent.bind(di),$t=new class extends Bt{constructor(){super("gljs.performance")}postPerformanceEvent(p,r){n.e.EVENTS_URL&&(p||n.e.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:r},p)}processRequests(p){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:r,performanceData:d}=this.queue.shift(),m=function(b){const w=performance.getEntriesByType("resource"),E=performance.getEntriesByType("mark"),A=function(ee){const oe={};if(ee){for(const ne in ee)if(ne!=="other")for(const se of ee[ne]){const ae=`${ne}ResolveRangeMin`,me=`${ne}ResolveRangeMax`,Fe=`${ne}RequestCount`,Ce=`${ne}RequestCachedCount`;oe[ae]=Math.min(oe[ae]||1/0,se.startTime),oe[me]=Math.max(oe[me]||-1/0,se.responseEnd);const Pe=Me=>{oe[Me]===void 0&&(oe[Me]=0),++oe[Me]};se.transferSize!==void 0&&se.transferSize===0&&Pe(Ce),Pe(Fe)}}return oe}(function(ee,oe){const ne={};if(ee)for(const se of ee){const ae=oe(se);ne[ae]===void 0&&(ne[ae]=[]),ne[ae].push(se)}return ne}(w,O)),j=window.devicePixelRatio,$=navigator.connection||navigator.mozConnection||navigator.webkitConnection,z=$?$.effectiveType:void 0,H={counters:[],metadata:[],attributes:[]},W=(ee,oe,ne)=>{ne!=null&&ee.push({name:oe,value:ne.toString()})};for(const ee in A)W(H.counters,ee,A[ee]);if(b.interactionRange[0]!==1/0&&b.interactionRange[1]!==-1/0&&(W(H.counters,"interactionRangeMin",b.interactionRange[0]),W(H.counters,"interactionRangeMax",b.interactionRange[1])),E)for(const ee of Object.keys(C)){const oe=C[ee],ne=E.find(se=>se.name===oe);ne&&W(H.counters,oe,ne.startTime)}return W(H.counters,"visibilityHidden",b.visibilityHidden),W(H.attributes,"style",function(ee){if(ee)for(const oe of ee){const ne=oe.name.split("?")[0];if(n.i(ne)){const se=ne.split("/").slice(-2);if(se.length===2)return`mapbox://styles/${se[0]}/${se[1]}`}}}(w)),W(H.attributes,"terrainEnabled",b.terrainEnabled?"true":"false"),W(H.attributes,"fogEnabled",b.fogEnabled?"true":"false"),W(H.attributes,"projection",b.projection),W(H.attributes,"zoom",b.zoom),W(H.metadata,"devicePixelRatio",j),W(H.metadata,"connectionEffectiveType",z),W(H.metadata,"navigatorUserAgent",navigator.userAgent),W(H.metadata,"screenWidth",window.screen.width),W(H.metadata,"screenHeight",window.screen.height),W(H.metadata,"windowWidth",window.innerWidth),W(H.metadata,"windowHeight",window.innerHeight),W(H.metadata,"mapWidth",b.width/j),W(H.metadata,"mapHeight",b.height/j),W(H.metadata,"webglRenderer",b.renderer),W(H.metadata,"webglVendor",b.vendor),W(H.metadata,"sdkVersion",x),W(H.metadata,"sdkIdentifier","mapbox-gl-js"),H}(d);for(const b of m.metadata);for(const b of m.counters);for(const b of m.attributes);this.postEvent(r,m,()=>{},p)}},ii=$t.postPerformanceEvent.bind($t),ni=new class extends Bt{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(p,r,d,m){if(!n.e.API_URL||!n.e.SESSION_PATH)return;const b=Ct(n.e.API_URL+n.e.SESSION_PATH);b.params.push(`sku=${r||""}`),b.params.push(`access_token=${m||n.e.ACCESS_TOKEN||""}`);const w={url:pt(b),headers:{"Content-Type":"text/plain"}};this.pendingRequest=n.g(w,E=>{this.pendingRequest=null,d(E),this.saveEventData(),this.processRequests(m)})}getSessionAPI(p,r,d,m){this.skuToken=r,this.errorCb=m,n.e.SESSION_PATH&&n.e.API_URL&&(d||n.e.ACCESS_TOKEN?this.queueRequest({id:p,timestamp:Date.now()},d):this.errorCb(new Error(Oe)))}processRequests(p){if(this.pendingRequest||this.queue.length===0)return;const{id:r,timestamp:d}=this.queue.shift();r&&this.success[r]||this.getSession(d,this.skuToken,m=>{m?this.errorCb(m):r&&(this.success[r]=!0)},p)}remove(){this.errorCb=null}},Re=ni.getSessionAPI.bind(ni),zi=new Set;function hn(p,r){r?zi.add(p):zi.delete(p)}class ze{constructor(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSourceCaches={},this._updatedPaintProps=new Set,this._updatedImages=new Set}isDirty(){return this._changed}setDirty(){this._changed=!0}getUpdatedSourceCaches(){return this._updatedSourceCaches}updateSourceCache(r,d){this._updatedSourceCaches[r]=d,this.setDirty()}discardSourceCacheUpdate(r){delete this._updatedSourceCaches[r]}updateLayer(r){const d=r.scope;this._updatedLayers[d]=this._updatedLayers[d]||new Set,this._updatedLayers[d].add(r.id),this.setDirty()}removeLayer(r){const d=r.scope;this._removedLayers[d]=this._removedLayers[d]||{},this._updatedLayers[d]=this._updatedLayers[d]||new Set,this._removedLayers[d][r.id]=r,this._updatedLayers[d].delete(r.id),this._updatedPaintProps.delete(r.fqid),this.setDirty()}getRemovedLayer(r){return this._removedLayers[r.scope]?this._removedLayers[r.scope][r.id]:null}discardLayerRemoval(r){this._removedLayers[r.scope]&&delete this._removedLayers[r.scope][r.id]}getLayerUpdatesByScope(){const r={};for(const d in this._updatedLayers)r[d]=r[d]||{},r[d].updatedIds=Array.from(this._updatedLayers[d].values());for(const d in this._removedLayers)r[d]=r[d]||{},r[d].removedIds=Object.keys(this._removedLayers[d]);return r}getUpdatedPaintProperties(){return this._updatedPaintProps}updatePaintProperties(r){this._updatedPaintProps.add(r.fqid),this.setDirty()}getUpdatedImages(){return Array.from(this._updatedImages.values())}updateImage(r){this._updatedImages.add(r),this.setDirty()}resetUpdatedImages(){this._updatedImages.clear()}reset(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSourceCaches={},this._updatedPaintProps.clear(),this._updatedImages.clear()}}function K(p){const{userImage:r}=p;return!!(r&&r.render&&r.render())&&(p.data.replace(new Uint8Array(r.data.buffer)),!0)}class et extends n.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded={},this.requestors=[],this.patterns={},this.atlasImage={},this.atlasTexture={},this.dirty=!0}createScope(r){this.images[r]={},this.loaded[r]=!1,this.updatedImages[r]={},this.patterns[r]={},this.callbackDispatchedThisFrame[r]={},this.atlasImage[r]=new n.r({width:1,height:1})}isLoaded(){for(const r in this.loaded)if(!this.loaded[r])return!1;return!0}setLoaded(r,d){if(this.loaded[d]!==r&&(this.loaded[d]=r,r)){for(const{ids:m,callback:b}of this.requestors)this._notify(m,d,b);this.requestors=[]}}hasImage(r,d){return!!this.getImage(r,d)}getImage(r,d){return this.images[d][r]}addImage(r,d,m){this._validate(r,m)&&(this.images[d][r]=m)}_validate(r,d){let m=!0;return this._validateStretch(d.stretchX,d.data&&d.data.width)||(this.fire(new n.t(new Error(`Image "${r}" has invalid "stretchX" value`))),m=!1),this._validateStretch(d.stretchY,d.data&&d.data.height)||(this.fire(new n.t(new Error(`Image "${r}" has invalid "stretchY" value`))),m=!1),this._validateContent(d.content,d)||(this.fire(new n.t(new Error(`Image "${r}" has invalid "content" value`))),m=!1),m}_validateStretch(r,d){if(!r)return!0;let m=0;for(const b of r){if(b[0]<m||b[1]<b[0]||d<b[1])return!1;m=b[1]}return!0}_validateContent(r,d){return!(r&&(r.length!==4||r[0]<0||d.data.width<r[0]||r[1]<0||d.data.height<r[1]||r[2]<0||d.data.width<r[2]||r[3]<0||d.data.height<r[3]||r[2]<r[0]||r[3]<r[1]))}updateImage(r,d,m){m.version=this.images[d][r].version+1,this.images[d][r]=m,this.updatedImages[d][r]=!0}removeImage(r,d){const m=this.images[d][r];delete this.images[d][r],delete this.patterns[d][r],m.userImage&&m.userImage.onRemove&&m.userImage.onRemove()}listImages(r){return Object.keys(this.images[r])}getImages(r,d,m){let b=!0;const w=!!this.loaded[d];if(!w)for(const E of r)this.images[d][E]||(b=!1);w||b?this._notify(r,d,m):this.requestors.push({ids:r,scope:d,callback:m})}getUpdatedImages(r){return this.updatedImages[r]}_notify(r,d,m){const b={};for(const w of r){this.images[d][w]||this.fire(new n.x("styleimagemissing",{id:w}));const E=this.images[d][w];E?b[w]={data:E.data.clone(),pixelRatio:E.pixelRatio,sdf:E.sdf,version:E.version,stretchX:E.stretchX,stretchY:E.stretchY,content:E.content,hasRenderCallback:!!(E.userImage&&E.userImage.render)}:n.w(`Image "${w}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}m(null,b)}getPixelSize(r){const{width:d,height:m}=this.atlasImage[r];return{width:d,height:m}}getPattern(r,d,m){const b=this.patterns[d][r],w=this.getImage(r,d);if(!w)return null;if(b&&b.position.version===w.version)return b.position;if(b)b.position.version=w.version;else{const E={w:w.data.width+2*n.y,h:w.data.height+2*n.y,x:0,y:0},A=new n.I(E,w,n.y);this.patterns[d][r]={bin:E,position:A}}return this._updatePatternAtlas(d,m),this.patterns[d][r].position}bind(r,d){const m=r.gl;let b=this.atlasTexture[d];b?this.dirty&&(b.update(this.atlasImage[d]),this.dirty=!1):(b=new n.T(r,this.atlasImage[d],m.RGBA8),this.atlasTexture[d]=b),b.bind(m.LINEAR,m.CLAMP_TO_EDGE)}_updatePatternAtlas(r,d){const m=[];for(const A in this.patterns[r])m.push(this.patterns[r][A].bin);const{w:b,h:w}=n.z(m),E=this.atlasImage[r];E.resize({width:b||1,height:w||1});for(const A in this.patterns[r]){const{bin:j,position:$}=this.patterns[r][A];let z=$.padding;const H=j.x+z,W=j.y+z,ee=this.images[r][A].data,oe=ee.width,ne=ee.height;z=z>1?z-1:z,n.r.copy(ee,E,{x:0,y:0},{x:H,y:W},{width:oe,height:ne},d),n.r.copy(ee,E,{x:0,y:ne-z},{x:H,y:W-z},{width:oe,height:z},d),n.r.copy(ee,E,{x:0,y:0},{x:H,y:W+ne},{width:oe,height:z},d),n.r.copy(ee,E,{x:oe-z,y:0},{x:H-z,y:W},{width:z,height:ne},d),n.r.copy(ee,E,{x:0,y:0},{x:H+oe,y:W},{width:z,height:ne},d),n.r.copy(ee,E,{x:oe-z,y:ne-z},{x:H-z,y:W-z},{width:z,height:z},d),n.r.copy(ee,E,{x:0,y:ne-z},{x:H+oe,y:W-z},{width:z,height:z},d),n.r.copy(ee,E,{x:0,y:0},{x:H+oe,y:W+ne},{width:z,height:z},d),n.r.copy(ee,E,{x:oe-z,y:0},{x:H-z,y:W+ne},{width:z,height:z},d)}this.dirty=!0}beginFrame(){for(const r in this.images)this.callbackDispatchedThisFrame[r]={}}dispatchRenderCallbacks(r,d){for(const m of r){if(this.callbackDispatchedThisFrame[d][m])continue;this.callbackDispatchedThisFrame[d][m]=!0;const b=this.images[d][m];K(b)&&this.updateImage(m,d,b)}}}function ot(p){const r=p.key,d=p.value,m=p.valueSpec||{},b=p.objectElementValidators||{},w=p.style,E=p.styleSpec;let A=[];const j=n.B(d);if(j!=="object")return[new n.V(r,d,`object expected, ${j} found`)];for(const $ in d){const z=$.split(".")[0];let H;b[z]?H=b[z]:m[z]?H=an:b["*"]?H=b["*"]:m["*"]&&(H=an),H?A=A.concat(H({key:(r&&`${r}.`)+$,value:d[$],valueSpec:m[z]||m["*"],style:w,styleSpec:E,object:d,objectKey:$},d)):A.push(new n.A(r,d[$],`unknown property "${$}"`))}for(const $ in m)b[$]||m[$].required&&m[$].default===void 0&&d[$]===void 0&&A.push(new n.V(r,d,`missing required property "${$}"`));return A}function Te(p){const r=p.value,d=p.valueSpec,m=p.style,b=p.styleSpec,w=p.key,E=p.arrayElementValidator||an;if(n.B(r)!=="array")return[new n.V(w,r,`array expected, ${n.B(r)} found`)];if(d.length&&r.length!==d.length)return[new n.V(w,r,`array length ${d.length} expected, length ${r.length} found`)];if(d["min-length"]&&r.length<d["min-length"])return[new n.V(w,r,`array length at least ${d["min-length"]} expected, length ${r.length} found`)];let A={type:d.value,values:d.values,minimum:d.minimum,maximum:d.maximum,function:void 0};b.$version<7&&(A.function=d.function),n.B(d.value)==="object"&&(A=d.value);let j=[];for(let $=0;$<r.length;$++)j=j.concat(E({array:r,arrayIndex:$,value:r[$],valueSpec:A,style:m,styleSpec:b,key:`${w}[${$}]`},!0));return j}function _e(p){const r=p.key,d=p.value,m=p.valueSpec;let b=n.B(d);if(b==="number"&&d!=d&&(b="NaN"),b!=="number")return[new n.V(r,d,`number expected, ${b} found`)];if("minimum"in m){let w=m.minimum;if(n.B(m.minimum)==="array"&&(w=m.minimum[p.arrayIndex]),d<w)return[new n.V(r,d,`${d} is less than the minimum value ${w}`)]}if("maximum"in m){let w=m.maximum;if(n.B(m.maximum)==="array"&&(w=m.maximum[p.arrayIndex]),d>w)return[new n.V(r,d,`${d} is greater than the maximum value ${w}`)]}return[]}function Ye(p){const r=p.valueSpec,d=n.D(p.value.type);let m,b,w,E={};const A=d!=="categorical"&&p.value.property===void 0,j=!A,$=n.B(p.value.stops)==="array"&&n.B(p.value.stops[0])==="array"&&n.B(p.value.stops[0][0])==="object",z=ot({key:p.key,value:p.value,valueSpec:p.styleSpec.function,style:p.style,styleSpec:p.styleSpec,objectElementValidators:{stops:function(ee){if(d==="identity")return[new n.V(ee.key,ee.value,'identity function may not have a "stops" property')];let oe=[];const ne=ee.value;return oe=oe.concat(Te({key:ee.key,value:ne,valueSpec:ee.valueSpec,style:ee.style,styleSpec:ee.styleSpec,arrayElementValidator:H})),n.B(ne)==="array"&&ne.length===0&&oe.push(new n.V(ee.key,ne,"array must have at least one stop")),oe},default:function(ee){return an({key:ee.key,value:ee.value,valueSpec:r,style:ee.style,styleSpec:ee.styleSpec})}}});return d==="identity"&&A&&z.push(new n.V(p.key,p.value,'missing required property "property"')),d==="identity"||p.value.stops||z.push(new n.V(p.key,p.value,'missing required property "stops"')),d==="exponential"&&p.valueSpec.expression&&!n.F(p.valueSpec)&&z.push(new n.V(p.key,p.value,"exponential functions not supported")),p.styleSpec.$version>=8&&(j&&!n.G(p.valueSpec)?z.push(new n.V(p.key,p.value,"property functions not supported")):A&&!n.H(p.valueSpec)&&z.push(new n.V(p.key,p.value,"zoom functions not supported"))),d!=="categorical"&&!$||p.value.property!==void 0||z.push(new n.V(p.key,p.value,'"property" property is required')),z;function H(ee){let oe=[];const ne=ee.value,se=ee.key;if(n.B(ne)!=="array")return[new n.V(se,ne,`array expected, ${n.B(ne)} found`)];if(ne.length!==2)return[new n.V(se,ne,`array length 2 expected, length ${ne.length} found`)];if($){if(n.B(ne[0])!=="object")return[new n.V(se,ne,`object expected, ${n.B(ne[0])} found`)];if(ne[0].zoom===void 0)return[new n.V(se,ne,"object stop key must have zoom")];if(ne[0].value===void 0)return[new n.V(se,ne,"object stop key must have value")];const ae=n.D(ne[0].zoom);if(typeof ae!="number")return[new n.V(se,ne[0].zoom,"stop zoom values must be numbers")];if(w&&w>ae)return[new n.V(se,ne[0].zoom,"stop zoom values must appear in ascending order")];ae!==w&&(w=ae,b=void 0,E={}),oe=oe.concat(ot({key:`${se}[0]`,value:ne[0],valueSpec:{zoom:{}},style:ee.style,styleSpec:ee.styleSpec,objectElementValidators:{zoom:_e,value:W}}))}else oe=oe.concat(W({key:`${se}[0]`,value:ne[0],valueSpec:{},style:ee.style,styleSpec:ee.styleSpec},ne));return n.J(n.K(ne[1]))?oe.concat([new n.V(`${se}[1]`,ne[1],"expressions are not allowed in function stops.")]):oe.concat(an({key:`${se}[1]`,value:ne[1],valueSpec:r,style:ee.style,styleSpec:ee.styleSpec}))}function W(ee,oe){const ne=n.B(ee.value),se=n.D(ee.value),ae=ee.value!==null?ee.value:oe;if(m){if(ne!==m)return[new n.V(ee.key,ae,`${ne} stop domain type must match previous stop domain type ${m}`)]}else m=ne;if(ne!=="number"&&ne!=="string"&&ne!=="boolean"&&typeof se!="number"&&typeof se!="string"&&typeof se!="boolean")return[new n.V(ee.key,ae,"stop domain value must be a number, string, or boolean")];if(ne!=="number"&&d!=="categorical"){let me=`number expected, ${ne} found`;return n.G(r)&&d===void 0&&(me+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new n.V(ee.key,ae,me)]}return d!=="categorical"||ne!=="number"||typeof se=="number"&&isFinite(se)&&Math.floor(se)===se?d!=="categorical"&&ne==="number"&&typeof se=="number"&&typeof b=="number"&&b!==void 0&&se<b?[new n.V(ee.key,ae,"stop domain values must appear in ascending order")]:(b=se,d==="categorical"&&se in E?[new n.V(ee.key,ae,"stop domain values must be unique")]:(E[se]=!0,[])):[new n.V(ee.key,ae,`integer expected, found ${String(se)}`)]}}function qe(p){const r=(p.expressionContext==="property"?n.L:n.M)(n.K(p.value),p.valueSpec);if(r.result==="error")return r.value.map(m=>new n.V(`${p.key}${m.key}`,p.value,m.message));const d=r.value.expression||r.value._styleExpression.expression;if(p.expressionContext==="property"&&p.propertyKey==="text-font"&&!d.outputDefined())return[new n.V(p.key,p.value,`Invalid data expression for "${p.propertyKey}". Output values must be contained as literals within the expression.`)];if(p.expressionContext==="property"&&p.propertyType==="layout"&&!n.N(d))return[new n.V(p.key,p.value,'"feature-state" data expressions are not supported with layout properties.')];if(p.expressionContext==="filter")return rt(d,p);if(p.expressionContext&&p.expressionContext.indexOf("cluster")===0){if(!n.O(d,["zoom","feature-state"]))return[new n.V(p.key,p.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(p.expressionContext==="cluster-initial"&&!n.Q(d))return[new n.V(p.key,p.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function rt(p,r){const d=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(r.valueSpec&&r.valueSpec.expression)for(const b of r.valueSpec.expression.parameters)d.delete(b);if(d.size===0)return[];const m=[];return p instanceof n.S&&d.has(p.name)?[new n.V(r.key,r.value,`["${p.name}"] expression is not supported in a filter for a ${r.object.type} layer with id: ${r.object.id}`)]:(p.eachChild(b=>{m.push(...rt(b,r))}),m)}function Ge(p){const r=p.key,d=p.value,m=p.valueSpec,b=[];return Array.isArray(m.values)?m.values.indexOf(n.D(d))===-1&&b.push(new n.V(r,d,`expected one of [${m.values.join(", ")}], ${JSON.stringify(d)} found`)):Object.keys(m.values).indexOf(n.D(d))===-1&&b.push(new n.V(r,d,`expected one of [${Object.keys(m.values).join(", ")}], ${JSON.stringify(d)} found`)),b}function Mt(p){return n.W(n.K(p.value))?qe(n.C({},p,{expressionContext:"filter",valueSpec:p.styleSpec[`filter_${p.layerType||"fill"}`]})):nt(p)}function nt(p){const r=p.value,d=p.key;if(n.B(r)!=="array")return[new n.V(d,r,`array expected, ${n.B(r)} found`)];const m=p.styleSpec;let b,w=[];if(r.length<1)return[new n.V(d,r,"filter array must have at least 1 element")];switch(w=w.concat(Ge({key:`${d}[0]`,value:r[0],valueSpec:m.filter_operator,style:p.style,styleSpec:p.styleSpec})),n.D(r[0])){case"<":case"<=":case">":case">=":r.length>=2&&n.D(r[1])==="$type"&&w.push(new n.V(d,r,`"$type" cannot be use with operator "${r[0]}"`));case"==":case"!=":r.length!==3&&w.push(new n.V(d,r,`filter array for operator "${r[0]}" must have 3 elements`));case"in":case"!in":r.length>=2&&(b=n.B(r[1]),b!=="string"&&w.push(new n.V(`${d}[1]`,r[1],`string expected, ${b} found`)));for(let E=2;E<r.length;E++)b=n.B(r[E]),n.D(r[1])==="$type"?w=w.concat(Ge({key:`${d}[${E}]`,value:r[E],valueSpec:m.geometry_type,style:p.style,styleSpec:p.styleSpec})):b!=="string"&&b!=="number"&&b!=="boolean"&&w.push(new n.V(`${d}[${E}]`,r[E],`string, number, or boolean expected, ${b} found`));break;case"any":case"all":case"none":for(let E=1;E<r.length;E++)w=w.concat(nt({key:`${d}[${E}]`,value:r[E],style:p.style,styleSpec:p.styleSpec}));break;case"has":case"!has":b=n.B(r[1]),r.length!==2?w.push(new n.V(d,r,`filter array for "${r[0]}" operator must have 2 elements`)):b!=="string"&&w.push(new n.V(`${d}[1]`,r[1],`string expected, ${b} found`))}return w}function Et(p,r){const d=p.key,m=p.style,b=p.layer,w=p.styleSpec,E=p.value,A=p.objectKey,j=w[`${r}_${p.layerType}`];if(!j)return[];const $=A.match(/^(.*)-transition$/);if(r==="paint"&&$&&j[$[1]]&&j[$[1]].transition)return an({key:d,value:E,valueSpec:w.transition,style:m,styleSpec:w});const z=p.valueSpec||j[A];if(!z)return[new n.A(d,E,`unknown property "${A}"`)];let H;if(n.B(E)==="string"&&n.G(z)&&!z.tokens&&(H=/^{([^}]+)}$/.exec(E))){const ee=`\`{ "type": "identity", "property": ${H?JSON.stringify(H[1]):'"_"'} }\``;return[new n.V(d,E,`"${A}" does not support interpolation syntax
Use an identity property function instead: ${ee}.`)]}const W=[];if(p.layerType==="symbol")A!=="text-field"||!m||m.glyphs||m.imports||W.push(new n.V(d,E,'use of "text-field" requires a style "glyphs" property')),A==="text-font"&&n.X(n.K(E))&&n.D(E.type)==="identity"&&W.push(new n.V(d,E,'"text-font" does not support identity functions'));else if(p.layerType==="model"&&r==="paint"&&b&&b.layout&&b.layout.hasOwnProperty("model-id")&&n.G(z)&&(n.Y(z)||n.H(z))){const ee=n.L(n.K(E),z),oe=ee.value.expression||ee.value._styleExpression.expression;oe&&!n.O(oe,["measure-light"])&&(A==="model-emissive-strength"&&n.Q(oe)&&n.N(oe)||W.push(new n.V(d,E,`${A} does not support measure-light expressions when the model layer source is vector tile or GeoJSON.`)))}return W.concat(an({key:p.key,value:E,valueSpec:z,style:m,styleSpec:w,expressionContext:"property",propertyType:r,propertyKey:A}))}function Xt(p){return Et(p,"paint")}function Ti(p){return Et(p,"layout")}function wi(p){let r=[];const d=p.value,m=p.key,b=p.style,w=p.styleSpec;d.type||d.ref||r.push(new n.V(m,d,'either "type" or "ref" is required'));let E=n.D(d.type);const A=n.D(d.ref);if(d.id){const j=n.D(d.id);for(let $=0;$<p.arrayIndex;$++){const z=b.layers[$];n.D(z.id)===j&&r.push(new n.V(m,d.id,`duplicate layer id "${d.id}", previously used at line ${z.id.__line__}`))}}if("ref"in d){let j;["type","source","source-layer","filter","layout"].forEach($=>{$ in d&&r.push(new n.V(m,d[$],`"${$}" is prohibited for ref layers`))}),b.layers.forEach($=>{n.D($.id)===A&&(j=$)}),j?j.ref?r.push(new n.V(m,d.ref,"ref cannot reference another ref layer")):E=n.D(j.type):typeof A=="string"&&r.push(new n.V(m,d.ref,`ref layer "${A}" not found`))}else if(E!=="background"&&E!=="sky"&&E!=="slot")if(d.source){const j=b.sources&&b.sources[d.source],$=j&&n.D(j.type);j?$==="vector"&&E==="raster"?r.push(new n.V(m,d.source,`layer "${d.id}" requires a raster source`)):$==="raster"&&E!=="raster"?r.push(new n.V(m,d.source,`layer "${d.id}" requires a vector source`)):$!=="vector"||d["source-layer"]?$==="raster-dem"&&E!=="hillshade"?r.push(new n.V(m,d.source,"raster-dem source can only be used with layer type 'hillshade'.")):$!=="raster-array"||["raster","raster-particle"].includes(E)?E!=="line"||!d.paint||!d.paint["line-gradient"]&&!d.paint["line-trim-offset"]||$==="geojson"&&j.lineMetrics?E==="raster-particle"&&$!=="raster-array"&&r.push(new n.V(m,d.source,`layer "${d.id}" requires a 'raster-array' source.`)):r.push(new n.V(m,d,`layer "${d.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):r.push(new n.V(m,d.source,"raster-array source can only be used with layer type 'raster'.")):r.push(new n.V(m,d,`layer "${d.id}" must specify a "source-layer"`)):r.push(new n.V(m,d.source,`source "${d.source}" not found`))}else r.push(new n.V(m,d,'missing required property "source"'));return r=r.concat(ot({key:m,value:d,valueSpec:w.layer,style:p.style,styleSpec:p.styleSpec,objectElementValidators:{"*":()=>[],type:()=>an({key:`${m}.type`,value:d.type,valueSpec:w.layer.type,style:p.style,styleSpec:p.styleSpec,object:d,objectKey:"type"}),filter:j=>Mt(n.C({layerType:E},j)),layout:j=>ot({layer:d,key:j.key,value:j.value,valueSpec:{},style:j.style,styleSpec:j.styleSpec,objectElementValidators:{"*":$=>Ti(n.C({layerType:E},$))}}),paint:j=>ot({layer:d,key:j.key,value:j.value,valueSpec:{},style:j.style,styleSpec:j.styleSpec,objectElementValidators:{"*":$=>Xt(n.C({layerType:E,layer:d},$))}})}})),r}function Ui(p){const r=p.value,d=p.key,m=n.B(r);return m!=="string"?[new n.V(d,r,`string expected, ${m} found`)]:[]}const uo={promoteId:function({key:p,value:r}){if(n.B(r)==="string")return Ui({key:p,value:r});{const d=[];for(const m in r)d.push(...Ui({key:`${p}.${m}`,value:r[m]}));return d}}};function jn(p){const r=p.value,d=p.key,m=p.styleSpec,b=p.style;if(!r.type)return[new n.V(d,r,'"type" is required')];const w=n.D(r.type);let E=[];switch(["vector","raster","raster-dem","raster-array"].includes(w)&&(r.url||r.tiles||E.push(new n.A(d,r,'Either "url" or "tiles" is required.'))),w){case"vector":case"raster":case"raster-dem":case"raster-array":return E=E.concat(ot({key:d,value:r,valueSpec:m[`source_${w.replace("-","_")}`],style:p.style,styleSpec:m,objectElementValidators:uo})),E;case"geojson":if(E=ot({key:d,value:r,valueSpec:m.source_geojson,style:b,styleSpec:m,objectElementValidators:uo}),r.cluster)for(const A in r.clusterProperties){const[j,$]=r.clusterProperties[A],z=typeof j=="string"?[j,["accumulated"],["get",A]]:j;E.push(...qe({key:`${d}.${A}.map`,value:$,expressionContext:"cluster-map"})),E.push(...qe({key:`${d}.${A}.reduce`,value:z,expressionContext:"cluster-reduce"}))}return E;case"video":return ot({key:d,value:r,valueSpec:m.source_video,style:b,styleSpec:m});case"image":return ot({key:d,value:r,valueSpec:m.source_image,style:b,styleSpec:m});case"canvas":return[new n.V(d,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ge({key:`${d}.type`,value:r.type,valueSpec:{values:go(m)},style:b,styleSpec:m})}}function go(p){return p.source.reduce((r,d)=>{const m=p[d];return m.type.type==="enum"&&(r=r.concat(Object.keys(m.type.values))),r},[])}function sn(p){const r=p.value,d=p.styleSpec,m=d.light,b=p.style;let w=[];const E=n.B(r);if(r===void 0)return w;if(E!=="object")return w=w.concat([new n.V("light",r,`object expected, ${E} found`)]),w;for(const A in r){const j=A.match(/^(.*)-transition$/);w=w.concat(j&&m[j[1]]&&m[j[1]].transition?an({key:A,value:r[A],valueSpec:d.transition,style:b,styleSpec:d}):m[A]?an({key:A,value:r[A],valueSpec:m[A],style:b,styleSpec:d}):[new n.V(A,r[A],`unknown property "${A}"`)])}return w}function or(p){const r=p.value;let d=[];if(!r)return d;const m=n.B(r);if(m!=="object")return d=d.concat([new n.V("light-3d",r,`object expected, ${m} found`)]),d;const b=p.styleSpec,w=b["light-3d"],E=p.key,A=p.style,j=p.style.lights;for(const H of["type","id"])if(!(H in r))return d=d.concat([new n.V("light-3d",r,`missing property ${H} on light`)]),d;if(r.type&&j)for(let H=0;H<p.arrayIndex;H++){const W=n.D(r.type),ee=j[H];n.D(ee.type)===W&&d.push(new n.V(E,r.id,`duplicate light type "${r.type}", previously defined at line ${ee.id.__line__}`))}const $=`properties_light_${r.type}`;if(!($ in b))return d=d.concat([new n.V("light-3d",r,`Invalid light type ${r.type}`)]),d;const z=b[$];for(const H in r)if(H==="properties"){const W=r[H],ee=n.B(W);if(ee!=="object")return d=d.concat([new n.V("properties",W,`object expected, ${ee} found`)]),d;for(const oe in W)d=d.concat(z[oe]?an({key:oe,value:W[oe],valueSpec:z[oe],style:A,styleSpec:b}):[new n.A(p.key,W[oe],`unknown property "${oe}"`)])}else{const W=H.match(/^(.*)-transition$/);d=d.concat(W&&w[W[1]]&&w[W[1]].transition?an({key:H,value:r[H],valueSpec:b.transition,style:A,styleSpec:b}):w[H]?an({key:H,value:r[H],valueSpec:w[H],style:A,styleSpec:b}):[new n.A(H,r[H],`unknown property "${H}"`)])}return d}function Or(p){const r=p.value,d=p.key,m=p.style,b=p.styleSpec,w=b.terrain;let E=[];const A=n.B(r);if(r===void 0||A==="null")return E;if(A!=="object")return E=E.concat([new n.V("terrain",r,`object expected, ${A} found`)]),E;for(const j in r){const $=j.match(/^(.*)-transition$/);E=E.concat($&&w[$[1]]&&w[$[1]].transition?an({key:j,value:r[j],valueSpec:b.transition,style:m,styleSpec:b}):w[j]?an({key:j,value:r[j],valueSpec:w[j],style:m,styleSpec:b}):[new n.A(j,r[j],`unknown property "${j}"`)])}if(r.source){const j=m.sources&&m.sources[r.source],$=j&&n.D(j.type);j?$!=="raster-dem"&&E.push(new n.V(d,r.source,`terrain cannot be used with a source of type ${String($)}, it only be used with a "raster-dem" source type`)):E.push(new n.V(d,r.source,`source "${r.source}" not found`))}else E.push(new n.V(d,r,'terrain is missing required property "source"'));return E}function Ln(p){const r=p.value,d=p.style,m=p.styleSpec,b=m.fog;let w=[];const E=n.B(r);if(r===void 0)return w;if(E!=="object")return w=w.concat([new n.V("fog",r,`object expected, ${E} found`)]),w;for(const A in r){const j=A.match(/^(.*)-transition$/);w=w.concat(j&&b[j[1]]&&b[j[1]].transition?an({key:A,value:r[A],valueSpec:m.transition,style:d,styleSpec:m}):b[A]?an({key:A,value:r[A],valueSpec:b[A],style:d,styleSpec:m}):[new n.A(A,r[A],`unknown property "${A}"`)])}return w}const Mo={"*":()=>[],array:Te,boolean:function(p){const r=p.value,d=p.key,m=n.B(r);return m!=="boolean"?[new n.V(d,r,`boolean expected, ${m} found`)]:[]},number:_e,color:function(p){const r=p.key,d=p.value,m=n.B(d);return m!=="string"?[new n.V(r,d,`color expected, ${m} found`)]:n.U.parseCSSColor(d)===null?[new n.V(r,d,`color expected, "${d}" found`)]:[]},enum:Ge,filter:Mt,function:Ye,layer:wi,object:ot,source:jn,model:n.Z,light:sn,"light-3d":or,terrain:Or,fog:Ln,string:Ui,formatted:function(p){return Ui(p).length===0?[]:qe(p)},resolvedImage:function(p){return Ui(p).length===0?[]:qe(p)},projection:function(p){const r=p.value,d=p.styleSpec,m=d.projection,b=p.style;let w=[];const E=n.B(r);if(E==="object")for(const A in r)w=w.concat(an({key:A,value:r[A],valueSpec:m[A],style:b,styleSpec:d}));else E!=="string"&&(w=w.concat([new n.V("projection",r,`object or string expected, ${E} found`)]));return w},import:function(p){const{value:r,styleSpec:d}=p,{data:m,...b}=r;Object.defineProperty(b,"__line__",{value:r.__line__,enumerable:!1});let w=ot(n.C({},p,{value:b,valueSpec:d.import}));return n.D(b.id)===""&&w.push(new n.V(`${p.key}.id`,b,"import id can't be an empty string")),m&&(w=w.concat(Ml(m,d,{key:`${p.key}.data`}))),w}};function an(p,r=!1){const d=p.value,m=p.valueSpec,b=p.styleSpec;if(m.expression&&n.X(n.D(d)))return Ye(p);if(m.expression&&n.J(n.K(d)))return qe(p);if(m.type&&Mo[m.type]){const w=Mo[m.type](p);return r===!0&&w.length>0&&n.B(p.value)==="array"?qe(p):w}return ot(n.C({},p,{valueSpec:m.type?b[m.type]:m}))}function Aa(p){const r=p.value,d=p.key,m=Ui(p);return m.length||(r.indexOf("{fontstack}")===-1&&m.push(new n.V(d,r,'"glyphs" url must include a "{fontstack}" token')),r.indexOf("{range}")===-1&&m.push(new n.V(d,r,'"glyphs" url must include a "{range}" token'))),m}function Ml(p,r=n._,d={}){return an({key:d.key||"",value:p,valueSpec:r.$root,styleSpec:r,style:p,objectElementValidators:{glyphs:Aa,"*":()=>[]}})}function Lr(p,r=n._){return je(Ml(p,r))}const fa=p=>je(jn(p)),hs=p=>je(sn(p)),vu=p=>je(or(p)),Al=p=>je(Or(p)),xu=p=>je(Ln(p)),xt=p=>je(wi(p)),le=p=>je(Mt(p)),fe=p=>je(Xt(p)),ke=p=>je(Ti(p)),Xe=p=>je(n.Z(p));function je(p){return p.slice().sort((r,d)=>r.line&&d.line?r.line-d.line:0)}function at(p,r){let d=!1;if(r&&r.length)for(const m of r)m instanceof n.A?n.w(m.message):(p.fire(new n.t(new Error(m.message))),d=!0);return d}let yt;class ut extends n.E{constructor(r,d="flat"){super(),this._transitionable=new n.$(yt||(yt=new n.a0({anchor:new n.a1(n._.light.anchor),position:new n.a2(n._.light.position),color:new n.a1(n._.light.color),intensity:new n.a1(n._.light.intensity)}))),this.setLight(r,d),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(r,d,m={}){this._validate(hs,r,m)||(this._transitionable.setTransitionOrValue(r),this.id=d)}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}_validate(r,d,m){return(!m||m.validate!==!1)&&at(this,r.call(Lr,n.l({value:d,style:{glyphs:!0,sprite:!0},styleSpec:n._})))}}let bt=class extends n.E{constructor(p,r,d,m){super(),this.scope=d,this._transitionable=new n.$(new n.a0({source:new n.a1(n._.terrain.source),exaggeration:new n.a1(n._.terrain.exaggeration)}),d,m),this._transitionable.setTransitionOrValue(p,m),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=r}get(){return this._transitionable.serialize()}set(p,r){this._transitionable.setTransitionOrValue(p,r)}updateTransitions(p){this._transitioning=this._transitionable.transitioned(p,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(p){this.properties=this._transitioning.possiblyEvaluate(p)}getExaggeration(p){return this._transitioning.possiblyEvaluate(new n.a3(p)).get("exaggeration")}getAttenuationRange(){if(!this.isZoomDependent())return null;const p=this._transitionable._values.exaggeration;if(!p)return null;const r=p.value.expression;if(!r)return null;let d=-1,m=-1,b=1;for(const w of r.zoomStops)b=r.evaluate(new n.a3(w)),b>.01?(d=w,m=-1):m=w;return b<.01&&d>0&&m>d?[d,m]:null}isZoomDependent(){const p=this._transitionable._values.exaggeration;return p!=null&&p.value!=null&&p.value.expression!=null&&p.value.expression instanceof n.a4}};const Tt=45,Rt=65,Ht=.05;function oi(p,r,d,m){const b=n.a7(Tt,Rt,d),[w,E]=_i(p,m);let A=1-Math.min(1,Math.exp((r-w)/(E-w)*-6));return A*=A*A,A=Math.min(1,1.00747*A),A*b*p.alpha}function _i(p,r){const d=.5/Math.tan(.5*r);return[p.range[0]+d,p.range[1]+d]}function ji(p,r,d,m,b){const w=n.a6.vec3.transformMat4([],[r,d,m],b.mercatorFogMatrix);return oi(p,n.a6.vec3.length(w),b.pitch,b._fov)}function Gi(p,r,d,m,b,w,E){const A=[[d,m,0],[b,m,0],[b,w,0],[d,w,0]];let j=Number.MAX_VALUE,$=-Number.MAX_VALUE;for(const z of A){const H=n.a6.vec3.transformMat4([],z,r),W=n.a6.vec3.length(H);j=Math.min(j,W),$=Math.max($,W)}return[oi(p,j,E.pitch,E._fov),oi(p,$,E.pitch,E._fov)]}class Hi extends n.E{constructor(r,d,m,b){super();const w=new n.a0({range:new n.a1(n._.fog.range),color:new n.a1(n._.fog.color),"high-color":new n.a1(n._.fog["high-color"]),"space-color":new n.a1(n._.fog["space-color"]),"horizon-blend":new n.a1(n._.fog["horizon-blend"]),"star-intensity":new n.a1(n._.fog["star-intensity"]),"vertical-range":new n.a1(n._.fog["vertical-range"])});this._transitionable=new n.$(w,m,new Map(b)),this.set(r,b),this._transitioning=this._transitionable.untransitioned(),this._transform=d,this.properties=new n.a8(w),this.scope=m}get state(){const r=this._transform,d=r.projection.name==="globe",m=n.a9(r.zoom),b=this.properties.get("range"),w=[.5,3];return{range:d?[n.aa(w[0],b[0],m),n.aa(w[1],b[1],m)]:b,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(r,d,m={}){if(this._validate(xu,r,m))return;const b=n.l({},r);for(const w of Object.keys(n._.fog))b[w]===void 0&&(b[w]=n._.fog[w].default);this._options=b,this._transitionable.setTransitionOrValue(this._options,d)}getOpacity(r){if(!this._transform.projection.supportsFog)return 0;const d=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:n.a7(Tt,Rt,r))*d.a}getOpacityAtLatLng(r,d){return this._transform.projection.supportsFog?function(m,b,w){const E=n.a5.fromLngLat(b),A=w.elevation?w.elevation.getAtPointOrZero(E):0;return ji(m,E.x,E.y,A,w)}(this.state,r,d):0}getOpacityForTile(r){if(!this._transform.projection.supportsFog)return[1,1];const d=this._transform.calculateFogTileMatrix(r.toUnwrapped());return Gi(this.state,d,0,0,n.ab,n.ab,this._transform)}getOpacityForBounds(r,d,m,b,w){return this._transform.projection.supportsFog?Gi(this.state,r,d,m,b,w,this._transform):[1,1]}getFovAdjustedRange(r){return this._transform.projection.supportsFog?_i(this.state,r):[0,1]}isVisibleOnFrustum(r){if(!this._transform.projection.supportsFog)return!1;const d=[4,5,6,7];for(const m of d){const b=r.points[m];let w;if(b[2]>=0)w=b;else{const E=r.points[m-4];w=n.ac(E,b,E[2]/(E[2]-b[2]))}if(ji(this.state,w[0],w[1],0,this._transform)>=Ht)return!0}return!1}updateConfig(r){this._transitionable.setTransitionOrValue(this._options,new Map(r))}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}_validate(r,d,m){return(!m||m.validate!==!1)&&at(this,r.call(Lr,n.l({value:d,style:{glyphs:!0,sprite:!0},styleSpec:n._})))}}class Vi extends n.E{constructor(r,d,m,b){super(),this.scope=m,this._options=r,this.properties=new n.a8(d),this._transitionable=new n.$(d,m,new Map(b)),this._transitionable.setTransitionOrValue(r.properties),this._transitioning=this._transitionable.untransitioned()}updateConfig(r){this._transitionable.setTransitionOrValue(this._options.properties,new Map(r))}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}get(){return this._options.properties=this._transitionable.serialize(),this._options}set(r,d){this._options=r,this._transitionable.setTransitionOrValue(r.properties,d)}shadowsEnabled(){return!!this.properties&&this.properties.get("cast-shadows")===!0}}let kn,yn;class Yi{constructor(r,d,m,b){this.screenBounds=r,this.cameraPoint=d,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=m,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,b)}static createFromScreenPoints(r,d){let m,b;if(r instanceof n.P||typeof r[0]=="number"){const w=n.P.convert(r);m=[w],b=d.isPointAboveHorizon(w)}else{const w=n.P.convert(r[0]),E=n.P.convert(r[1]);m=[w,E],b=n.ae(w,E).every(A=>d.isPointAboveHorizon(A))}return new Yi(m,d.getCameraPoint(),b,d)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(r){return n.ae(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],r)}bufferedCameraGeometry(r){const d=this.screenBounds[0],m=this.screenBounds.length===1?this.screenBounds[0].add(new n.P(1,1)):this.screenBounds[1],b=n.ae(d,m,0,!1);return this.cameraPoint.y>m.y&&(this.cameraPoint.x>d.x&&this.cameraPoint.x<m.x?b.splice(3,0,this.cameraPoint):this.cameraPoint.x>=m.x?b[2]=this.cameraPoint:this.cameraPoint.x<=d.x&&(b[3]=this.cameraPoint)),n.af(b,r)}bufferedCameraGeometryGlobe(r){const d=this.screenBounds[0],m=this.screenBounds.length===1?this.screenBounds[0].add(new n.P(1,1)):this.screenBounds[1],b=n.ae(d,m,r),w=this.cameraPoint.clone();switch(3*((w.y>d.y)+(w.y>m.y))+((w.x>d.x)+(w.x>m.x))){case 0:b[0]=w,b[4]=w.clone();break;case 1:b.splice(1,0,w);break;case 2:b[1]=w;break;case 3:b.splice(4,0,w);break;case 5:b.splice(2,0,w);break;case 6:b[3]=w;break;case 7:b.splice(3,0,w);break;case 8:b[2]=w}return b}containsTile(r,d,m,b=0){const w=r.queryPadding/d._pixelsPerMercatorPixel+1,E=m?this._bufferedCameraMercator(w,d):this._bufferedScreenMercator(w,d);let A=r.tileID.wrap+(E.unwrapped?b:0);const j=E.polygon.map(se=>n.ag(r.tileTransform,se,A));if(!n.ah(j,0,0,n.ab,n.ab))return;A=r.tileID.wrap+(this.screenGeometryMercator.unwrapped?b:0);const $=this.screenGeometryMercator.polygon.map(se=>n.ai(r.tileTransform,se,A)),z=$.map(se=>new n.P(se[0],se[1])),H=d.getFreeCameraOptions().position||new n.a5(0,0,0),W=n.ai(r.tileTransform,H,A),ee=$.map(se=>{const ae=n.a6.vec3.sub(se,se,W);return n.a6.vec3.normalize(ae,ae),new n.aj(W,ae)}),oe=n.ak(r,1,d.zoom)*d._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:z,tilespaceRays:ee,bufferedTilespaceGeometry:j,bufferedTilespaceBounds:(ne=n.al(j),ne.min.x=n.ap(ne.min.x,0,n.ab),ne.min.y=n.ap(ne.min.y,0,n.ab),ne.max.x=n.ap(ne.max.x,0,n.ab),ne.max.y=n.ap(ne.max.y,0,n.ab),ne),tile:r,tileID:r.tileID,pixelToTileUnitsFactor:oe};var ne}_bufferedScreenMercator(r,d){const m=lr(r);if(this._screenRaycastCache[m])return this._screenRaycastCache[m];{let b;return b=d.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(r),d):{polygon:this.bufferedScreenGeometry(r).map(w=>d.pointCoordinate3D(w)),unwrapped:!0},this._screenRaycastCache[m]=b,b}}_bufferedCameraMercator(r,d){const m=lr(r);if(this._cameraRaycastCache[m])return this._cameraRaycastCache[m];{let b;return b=d.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(r),d):{polygon:this.bufferedCameraGeometry(r).map(w=>d.pointCoordinate3D(w)),unwrapped:!0},this._cameraRaycastCache[m]=b,b}}_projectAndResample(r,d){const m=function(w,E){const A=n.a6.mat4.multiply([],E.pixelMatrix,E.globeMatrix),j=[0,-n.aq,0,1],$=[0,n.aq,0,1],z=[0,0,0,1];n.a6.vec4.transformMat4(j,j,A),n.a6.vec4.transformMat4($,$,A),n.a6.vec4.transformMat4(z,z,A);const H=new n.P(j[0]/j[3],j[1]/j[3]),W=new n.P($[0]/$[3],$[1]/$[3]),ee=n.an(w,H)&&j[3]<z[3],oe=n.an(w,W)&&$[3]<z[3];if(!ee&&!oe)return null;const ne=function(Ie,Le,$e){for(let Qe=1;Qe<Ie.length;Qe++){const He=ro(Le.pointCoordinate3D(Ie[Qe-1]).x),Ue=ro(Le.pointCoordinate3D(Ie[Qe]).x);if($e<0){if(He<Ue)return{idx:Qe,t:-He/(Ue-1-He)}}else if(Ue<He)return{idx:Qe,t:(1-He)/(Ue+1-He)}}return null}(w,E,ee?-1:1);if(!ne)return null;const{idx:se,t:ae}=ne;let me=se>1?Un(w.slice(0,se),E):[],Fe=se<w.length?Un(w.slice(se),E):[];me=me.map(Ie=>new n.P(ro(Ie.x),Ie.y)),Fe=Fe.map(Ie=>new n.P(ro(Ie.x),Ie.y));const Ce=[...me];Ce.length===0&&Ce.push(Fe[Fe.length-1]);const Pe=n.aa(Ce[Ce.length-1].y,(Fe.length===0?me[0]:Fe[0]).y,ae);let Me;return Me=ee?[new n.P(0,Pe),new n.P(0,0),new n.P(1,0),new n.P(1,Pe)]:[new n.P(1,Pe),new n.P(1,1),new n.P(0,1),new n.P(0,Pe)],Ce.push(...Me),Fe.length===0?Ce.push(me[0]):Ce.push(...Fe),{polygon:Ce.map(Ie=>new n.a5(Ie.x,Ie.y)),unwrapped:!1}}(r,d);if(m)return m;const b=function(w,E){let A=!1,j=-1/0,$=0;for(let H=0;H<w.length-1;H++)w[H].x>j&&(j=w[H].x,$=H);for(let H=0;H<w.length-1;H++){const W=($+H)%(w.length-1),ee=w[W],oe=w[W+1];Math.abs(ee.x-oe.x)>.5&&(ee.x<oe.x?(ee.x+=1,W===0&&(w[w.length-1].x+=1)):(oe.x+=1,W+1===w.length-1&&(w[0].x+=1)),A=!0)}const z=n.am(E.center.lng);return A&&z<Math.abs(z-1)&&w.forEach(H=>{H.x-=1}),{polygon:w,unwrapped:A}}(Un(r,d).map(w=>new n.P(ro(w.x),w.y)),d);return{polygon:b.polygon.map(w=>new n.a5(w.x,w.y)),unwrapped:b.unwrapped}}}function Un(p,r){return n.ao(p,d=>{const m=r.pointCoordinate3D(d);d.x=m.x,d.y=m.y},1/256)}function ro(p){return p<0?1+p%1:p%1}function lr(p){return 100*p|0}function yr(p,r,d,m,b){const w=function(A,j){if(A)return b(A);if(j){if(p.url&&j.tiles&&p.tiles&&delete p.tiles,j.variants){if(!Array.isArray(j.variants))return b(new Error("variants must be an array"));for(const z of j.variants){if(z==null||typeof z!="object"||z.constructor!==Object)return b(new Error("variant must be an object"));if(!Array.isArray(z.capabilities))return b(new Error("capabilities must be an array"));if(z.capabilities.length===1&&z.capabilities[0]==="meshopt"){j=n.l(j,z);break}}}const $=n.ar(n.l({},j,p),["tilejson","tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding","vector_layers","raster_layers","worldview_options","worldview_default","worldview"]);$.tiles=r.canonicalizeTileset($,p.url),b(null,$)}},E=function(A,j,$){if(!A)return null;if(!j&&!$)return A;$=$||A.worldview_default;const z=Object.values(A.language||{});if(z.length===0)return null;const H=Object.values(A.worldview||{});if(H.length===0)return null;const W=z.every(oe=>oe===j),ee=H.every(oe=>oe===$);return W&&ee?A:j in(A.language_options||{})||$ in(A.worldview_options||{})?null:A.language_options&&A.worldview_options?A:null}(p.data,d,m);return E?n.q.frame(()=>w(null,E)):p.url?n.n(r.transformRequest(r.normalizeSourceURL(p.url,null,d,m),n.R.Source),w):n.q.frame(()=>{const{data:A,...j}=p;w(null,j)})}class Yo{constructor(r,d,m){this.bounds=n.as.convert(this.validateBounds(r)),this.minzoom=d||0,this.maxzoom=m||24}validateBounds(r){return Array.isArray(r)&&r.length===4?[Math.max(-180,r[0]),Math.max(-90,r[1]),Math.min(180,r[2]),Math.min(90,r[3])]:[-180,-90,180,90]}contains(r){const d=Math.pow(2,r.z),m=Math.floor(n.am(this.bounds.getWest())*d),b=Math.floor(n.at(this.bounds.getNorth())*d),w=Math.ceil(n.am(this.bounds.getEast())*d),E=Math.ceil(n.at(this.bounds.getSouth())*d);return r.x>=m&&r.x<w&&r.y>=b&&r.y<E}}class br extends n.E{constructor(r,d,m,b){if(super(),this.id=r,this.dispatcher=m,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,n.l(this,n.ar(d,["url","scheme","tileSize","promoteId"])),this._options=n.l({type:"vector"},d),this._collectResourceTiming=!!d.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(b),this._tileWorkers={},this._deduped=new n.au}load(r){this._loaded=!1,this.fire(new n.x("dataloading",{dataType:"source"}));const d=Array.isArray(this.map._language)?this.map._language.join():this.map._language,m=this.map.getWorldview();this._tileJSONRequest=yr(this._options,this.map._requestManager,d,m,(b,w)=>{if(this._tileJSONRequest=null,this._loaded=!0,b)d&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${d}`),m&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${m}`),this.fire(new n.t(b));else if(w){if(n.l(this,w),this.hasWorldviews=!!w.worldview_options,w.worldview_default&&(this.worldviewDefault=w.worldview_default),w.vector_layers){this.vectorLayers=w.vector_layers,this.vectorLayerIds=[],this.localizableLayerIds=new Set;for(const E of w.vector_layers)this.vectorLayerIds.push(E.id),w.worldview&&w.worldview[E.source]&&this.localizableLayerIds.add(E.id)}w.bounds&&(this.tileBounds=new Yo(w.bounds,this.minzoom,this.maxzoom)),St(w.tiles,this.map._requestManager._customAccessToken),this.fire(new n.x("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new n.x("data",{dataType:"source",sourceDataType:"content"}))}r&&r(b)})}loaded(){return this._loaded}hasTile(r){return!this.tileBounds||this.tileBounds.contains(r.canonical)}onAdd(r){this.map=r,this.load()}reload(){this.cancelTileJSONRequest();const r=n.av(this.id,this.scope);this.load(()=>this.map.style.clearSource(r))}setTiles(r){return this._options.tiles=r,this.reload(),this}setUrl(r){return this.url=r,this._options.url=r,this.reload(),this}onRemove(r){this.cancelTileJSONRequest()}serialize(){return n.l({},this._options)}loadTile(r,d){const m=r.tileID.canonical.url(this.tiles,this.scheme),b=this.map._requestManager.normalizeTileURL(m),w=this.map._requestManager.transformRequest(b,n.R.Tile),E=this.map.style?this.map.style.getLut(this.scope):null,A=E?{image:E.image.clone()}:null,j={request:w,data:void 0,uid:r.uid,tileID:r.tileID,tileZoom:r.tileZoom,zoom:r.tileID.overscaledZ,maxZoom:this.maxzoom,lut:A,tileSize:this.tileSize*r.tileID.overscaleFactor(),type:this.type,source:this.id,scope:this.scope,pixelRatio:n.q.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:r.isSymbolTile,brightness:this.map.style&&this.map.style.getBrightness()||0,extraShadowCaster:r.isExtraShadowCaster,tessellationStep:this.map._tessellationStep,scaleFactor:this.map.getScaleFactor()};if(this.hasWorldviews&&n.f(m)&&(j.worldview=this.map.getWorldview()||this.worldviewDefault,j.localizableLayerIds=this.localizableLayerIds),j.request.collectResourceTiming=this._collectResourceTiming,r.actor&&r.state!=="expired")r.state==="loading"?r.reloadCallback=d:r.request=r.actor.send("reloadTile",j,$.bind(this));else if(r.actor=this._tileWorkers[b]=this._tileWorkers[b]||this.dispatcher.getActor(),this.dispatcher.ready)r.request=r.actor.send("loadTile",j,$.bind(this),void 0,!0);else{const z=n.aw.call({deduped:this._deduped},j,(H,W)=>{H||!W?$.call(this,H):(j.data={cacheControl:W.cacheControl,expires:W.expires,rawData:W.rawData.slice(0)},r.actor&&r.actor.send("loadTile",j,$.bind(this),void 0,!0))},!0);r.request={cancel:z}}function $(z,H){return delete r.request,r.aborted?d(null):z&&z.status!==404?d(z):(H&&H.resourceTiming&&(r.resourceTiming=H.resourceTiming),this.map._refreshExpiredTiles&&H&&r.setExpiryData(H),r.loadVectorData(H,this.map.painter),n.ax(this.dispatcher),d(null),void(r.reloadCallback&&(this.loadTile(r,r.reloadCallback),r.reloadCallback=null)))}}abortTile(r){r.request&&(r.request.cancel(),delete r.request),r.actor&&r.actor.send("abortTile",{uid:r.uid,type:this.type,source:this.id,scope:this.scope})}unloadTile(r,d){r.actor&&r.actor.send("removeTile",{uid:r.uid,type:this.type,source:this.id,scope:this.scope}),r.destroy()}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class vc extends n.E{constructor(r,d,m,b){super(),this.id=r,this.dispatcher=m,this.setEventedParent(b),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=n.l({type:"raster"},d),n.l(this,n.ar(d,["url","scheme","tileSize"]))}load(r){this._loaded=!1,this.fire(new n.x("dataloading",{dataType:"source"})),this._tileJSONRequest=yr(this._options,this.map._requestManager,null,null,(d,m)=>{this._tileJSONRequest=null,this._loaded=!0,d?this.fire(new n.t(d)):m&&(n.l(this,m),m.raster_layers&&(this.rasterLayers=m.raster_layers,this.rasterLayerIds=this.rasterLayers.map(b=>b.id)),m.bounds&&(this.tileBounds=new Yo(m.bounds,this.minzoom,this.maxzoom)),St(m.tiles),this.fire(new n.x("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new n.x("data",{dataType:"source",sourceDataType:"content"}))),r&&r(d)})}loaded(){return this._loaded}onAdd(r){this.map=r,this.load()}reload(){this.cancelTileJSONRequest();const r=n.av(this.id,this.scope);this.load(()=>this.map.style.clearSource(r))}setTiles(r){return this._options.tiles=r,this.reload(),this}setUrl(r){return this.url=r,this._options.url=r,this.reload(),this}onRemove(r){this.cancelTileJSONRequest()}serialize(){return n.l({},this._options)}hasTile(r){return!this.tileBounds||this.tileBounds.contains(r.canonical)}loadTile(r,d){const m=n.q.devicePixelRatio>=2,b=this.map._requestManager.normalizeTileURL(r.tileID.canonical.url(this.tiles,this.scheme),m,this.tileSize);r.request=n.o(this.map._requestManager.transformRequest(b,n.R.Tile),(w,E,A,j)=>(delete r.request,r.aborted?(r.state="unloaded",d(null)):w?(r.state="errored",d(w)):E?(this.map._refreshExpiredTiles&&r.setExpiryData({cacheControl:A,expires:j}),r.setTexture(E,this.map.painter),r.state="loaded",n.ax(this.dispatcher),void d(null)):d(null)))}abortTile(r,d){r.request&&(r.request.cancel(),delete r.request),d&&d()}unloadTile(r,d){r.texture&&r.texture instanceof n.T?(r.destroy(!0),r.texture&&r.texture instanceof n.T&&this.map.painter.saveTileTexture(r.texture)):r.destroy(),d&&d()}hasTransition(){return!1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class fs extends vc{constructor(r,d,m,b){super(r,d,m,b),this.type="raster-array",this.maxzoom=22,this._options=n.l({type:"raster-array"},d)}triggerRepaint(r){const d=this.map.painter._terrain,m=this.map.style.getSourceCache(this.id);d&&d.enabled&&m&&d._clearRenderCacheForTile(m.id,r.tileID),this.map.triggerRepaint()}loadTile(r,d){const m=this.map._requestManager.normalizeTileURL(r.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize),b=this.map._requestManager.transformRequest(m,n.R.Tile);r.requestParams=b,r.actor||(r.actor=this.dispatcher.getActor()),r.request=r.fetchHeader(void 0,(w,E,A,j)=>{if(delete r.request,r.aborted)return r.state="unloaded",d(null);if(w)return w.code===20?void 0:(r.state="errored",d(w));this.map._refreshExpiredTiles&&r.setExpiryData({cacheControl:A,expires:j}),r.state="empty",d(null)})}unloadTile(r,d){const m=r.texture;m&&m instanceof n.T?(r.destroy(!0),this.map.painter.saveTileTexture(m)):(r.destroy(),r.flushQueues(),r._isHeaderLoaded=!1,delete r._mrt,delete r.textureDescriptor),r.fbo&&(r.fbo.destroy(),delete r.fbo),delete r.request,delete r.requestParams,delete r.neighboringTiles,r.state="unloaded"}prepareTile(r,d,m){r._isHeaderLoaded&&(r.state!=="empty"&&(r.state="reloading"),r.fetchBand(d,m,(b,w)=>{if(b)return r.state="errored",this.fire(new n.t(b)),void this.triggerRepaint(r);w&&(r.setTexture(w,this.map.painter),r.state="loaded",this.triggerRepaint(r))}))}getInitialBand(r){if(!this.rasterLayers)return 0;const d=this.rasterLayers.find(({id:w})=>w===r),m=d&&d.fields,b=m&&m.bands&&m.bands;return b?b[0]:0}getTextureDescriptor(r,d,m){if(!r)return;const b=d.sourceLayer||this.rasterLayerIds&&this.rasterLayerIds[0];if(!b)return;let w=null;d instanceof n.aB?w=d.paint.get("raster-array-band"):d instanceof n.aC&&(w=d.paint.get("raster-particle-array-band"));const E=w||this.getInitialBand(b);if(E!=null)if(r.textureDescriptor){if(!r.updateNeeded(b,E)||m)return Object.assign({},r.textureDescriptor,{texture:r.texture})}else this.prepareTile(r,b,E)}}const $h={vector:br,raster:vc,"raster-dem":class extends vc{constructor(p,r,d,m){super(p,r,d,m),this.type="raster-dem",this.maxzoom=22,this._options=n.l({type:"raster-dem"},r),this.encoding=r.encoding||"mapbox"}loadTile(p,r){const d=this.map._requestManager.normalizeTileURL(p.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function m(b,w){b&&(p.state="errored",r(b)),w&&(p.dem=w,p.dem.onDeserialize(),p.needsHillshadePrepare=!0,p.needsDEMTextureUpload=!0,p.state="loaded",r(null))}p.request=n.o(this.map._requestManager.transformRequest(d,n.R.Tile),(function(b,w,E,A){if(delete p.request,p.aborted)p.state="unloaded",r(null);else if(b)p.state="errored",r(b);else if(w){this.map._refreshExpiredTiles&&p.setExpiryData({cacheControl:E,expires:A});const j=ImageBitmap&&w instanceof ImageBitmap&&n.ay(),$=1-(w.width-n.az(w.width))/2;$<1||p.neighboringTiles||(p.neighboringTiles=this._getNeighboringTiles(p.tileID));const z=j?w:n.q.getImageData(w,$),H={uid:p.uid,coord:p.tileID,source:this.id,scope:this.scope,rawImageData:z,encoding:this.encoding,padding:$};p.actor&&p.state!=="expired"||(p.actor=this.dispatcher.getActor(),p.actor.send("loadDEMTile",H,m.bind(this),void 0,!0))}}).bind(this))}_getNeighboringTiles(p){const r=p.canonical,d=Math.pow(2,r.z),m=(r.x-1+d)%d,b=r.x===0?p.wrap-1:p.wrap,w=(r.x+1+d)%d,E=r.x+1===d?p.wrap+1:p.wrap,A={};return A[new n.aA(p.overscaledZ,b,r.z,m,r.y).key]={backfilled:!1},A[new n.aA(p.overscaledZ,E,r.z,w,r.y).key]={backfilled:!1},r.y>0&&(A[new n.aA(p.overscaledZ,b,r.z,m,r.y-1).key]={backfilled:!1},A[new n.aA(p.overscaledZ,p.wrap,r.z,r.x,r.y-1).key]={backfilled:!1},A[new n.aA(p.overscaledZ,E,r.z,w,r.y-1).key]={backfilled:!1}),r.y+1<d&&(A[new n.aA(p.overscaledZ,b,r.z,m,r.y+1).key]={backfilled:!1},A[new n.aA(p.overscaledZ,p.wrap,r.z,r.x,r.y+1).key]={backfilled:!1},A[new n.aA(p.overscaledZ,E,r.z,w,r.y+1).key]={backfilled:!1}),A}},"raster-array":fs,geojson:class extends n.E{constructor(p,r,d,m){super(),this.id=p,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=d.getActor(),this.setEventedParent(m),this._data=r.data,this._options=n.l({},r),this._collectResourceTiming=r.collectResourceTiming,r.maxzoom!==void 0&&(this.maxzoom=r.maxzoom),r.minzoom!==void 0&&(this.minzoom=r.minzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution),this.promoteId=r.promoteId;const b=n.ab/this.tileSize;this.workerOptions=n.l({source:this.id,scope:this.scope,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(r.buffer!==void 0?r.buffer:128)*b,tolerance:(r.tolerance!==void 0?r.tolerance:.375)*b,extent:n.ab,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:r.clusterMaxZoom!==void 0?r.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,r.clusterMinPoints||2),extent:n.ab,radius:(r.clusterRadius!==void 0?r.clusterRadius:50)*b,log:!1,generateId:r.generateId||!1},clusterProperties:r.clusterProperties,filter:r.filter,dynamic:r.dynamic},r.workerOptions)}onAdd(p){this.map=p,this.setData(this._data)}setData(p){return this._data=p,this._updateWorkerData(),this}updateData(p){if(!this._options.dynamic)return this.fire(new n.t(new Error("Can't call updateData on a GeoJSON source with dynamic set to false.")));if(typeof p!="string"&&(p.type==="Feature"&&(p={type:"FeatureCollection",features:[p]}),p.type!=="FeatureCollection"))return this.fire(new n.t(new Error("Data to update should be a feature or a feature collection.")));if(this._coalesce&&typeof p!="string"&&typeof this._data!="string"&&this._data.type==="FeatureCollection"){const r=new Map;for(const d of this._data.features)r.set(d.id,d);for(const d of p.features)r.set(d.id,d);this._data.features=[...r.values()]}else this._data=p;return this._updateWorkerData(!0),this}getClusterExpansionZoom(p,r){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:p,source:this.id,scope:this.scope},r),this}getClusterChildren(p,r){return this.actor.send("geojson.getClusterChildren",{clusterId:p,source:this.id,scope:this.scope},r),this}getClusterLeaves(p,r,d,m){return this.actor.send("geojson.getClusterLeaves",{source:this.id,scope:this.scope,clusterId:p,limit:r,offset:d},m),this}_updateWorkerData(p=!1){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new n.x("dataloading",{dataType:"source"})),this._loaded=!1;const r=n.l({append:p},this.workerOptions);r.scope=this.scope;const d=this._data;typeof d=="string"?(r.request=this.map._requestManager.transformRequest(n.q.resolveURL(d),n.R.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(d),this._pendingLoad=this.actor.send(`${this.type}.loadData`,r,(m,b)=>{if(this._loaded=!0,this._pendingLoad=null,m)this.fire(new n.t(m));else{const w={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&b&&b.resourceTiming&&b.resourceTiming[this.id]&&(w.resourceTiming=b.resourceTiming[this.id]),p&&(this._partialReload=!0),this.fire(new n.x("data",w)),this._partialReload=!1,this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(p),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(p,r){const d=p.actor?"reloadTile":"loadTile";p.actor=this.actor;const m=this.map.style?this.map.style.getLut(this.scope):null,b=m?{image:m.image.clone()}:null,w=this._partialReload,E={type:this.type,uid:p.uid,tileID:p.tileID,tileZoom:p.tileZoom,zoom:p.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,lut:b,scope:this.scope,pixelRatio:n.q.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,brightness:this.map.style&&this.map.style.getBrightness()||0,scaleFactor:this.map.getScaleFactor(),partial:w};p.request=this.actor.send(d,E,(A,j)=>w&&!j?(p.state="loaded",r(null)):(delete p.request,p.destroy(),p.aborted?r(null):A?r(A):(p.loadVectorData(j,this.map.painter,d==="reloadTile"),r(null))),void 0,d==="loadTile")}abortTile(p){p.request&&(p.request.cancel(),delete p.request),p.aborted=!0}unloadTile(p,r){this.actor.send("removeTile",{uid:p.uid,type:this.type,source:this.id,scope:this.scope}),p.destroy()}onRemove(p){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return n.l({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends n.aD{constructor(p,r,d,m){super(p,r,d,m),this.roundZoom=!0,this.type="video",this.options=r}load(){this._loaded=!1;const p=this.options;this.urls=[];for(const r of p.urls)this.urls.push(this.map._requestManager.transformRequest(r,n.R.Source).url);n.aE(this.urls,(r,d)=>{this._loaded=!0,r?this.fire(new n.t(r)):d&&(this.video=d,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(p){if(this.video){const r=this.video.seekable;p<r.start(0)||p>r.end(0)?this.fire(new n.t(new n.V(`sources.${this.id}`,null,`Playback for this video can be set only between the ${r.start(0)} and ${r.end(0)}-second mark.`))):this.video.currentTime=p}}getVideo(){return this.video}onAdd(p){this.map||(this.map=p,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const p=this.map.painter.context,r=p.gl;this.texture?this.video.paused||(this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,this.video)):(this.texture=new n.T(p,this.video,r.RGBA8),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(p)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:n.aD,model:class extends n.E{constructor(p,r,d,m){super(),this.id=p,this.type="model",this.models=[],this._loaded=!1,this._options=r}load(){const p=[];for(const r in this._options.models){const d=this._options.models[r],m=n.aG(this.map._requestManager.transformRequest(d.uri,n.R.Model).url).then(b=>{if(!b)return;const w=n.aH(b),E=new n.aI(r,d.position,d.orientation,w);E.computeBoundsAndApplyParent(),this.models.push(E)}).catch(b=>{this.fire(new n.t(new Error(`Could not load model ${r} from ${d.uri}: ${b.message}`)))});p.push(m)}return Promise.allSettled(p).then(()=>{this._loaded=!0,this.fire(new n.x("data",{dataType:"source",sourceDataType:"metadata"}))}).catch(r=>{this.fire(new n.t(new Error(`Could not load models: ${r.message}`)))})}onAdd(p){this.map=p,this.load()}hasTransition(){return!1}loaded(){return this._loaded}getModels(){return this.models}loadTile(p,r){}serialize(){return{type:"model"}}},"batched-model":class extends n.E{constructor(p,r,d,m){super(),this.type="batched-model",this.id=p,this.tileSize=512,this._options=r,this.tiles=this._options.tiles,this.maxzoom=r.maxzoom||19,this.minzoom=r.minzoom||0,this.roundZoom=!0,this.usedInConflation=!0,this.dispatcher=d,this.reparseOverscaled=!1,this.scheme="xyz",this._loaded=!1,this.setEventedParent(m)}onAdd(p){this.map=p,this.load()}load(p){this._loaded=!1,this.fire(new n.x("dataloading",{dataType:"source"}));const r=Array.isArray(this.map._language)?this.map._language.join():this.map._language,d=this.map.getWorldview();this._tileJSONRequest=yr(this._options,this.map._requestManager,r,d,(m,b)=>{this._tileJSONRequest=null,this._loaded=!0,m?(r&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${r}`),d&&d.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${d}`),this.fire(new n.t(m))):b&&(n.l(this,b),b.bounds&&(this.tileBounds=new Yo(b.bounds,this.minzoom,this.maxzoom)),St(b.tiles,this.map._requestManager._customAccessToken),this.fire(new n.x("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new n.x("data",{dataType:"source",sourceDataType:"content"}))),p&&p(m)})}hasTransition(){return!1}hasTile(p){return!this.tileBounds||this.tileBounds.contains(p.canonical)}loaded(){return this._loaded}loadTile(p,r){const d=this.map._requestManager.normalizeTileURL(p.tileID.canonical.url(this.tiles,this.scheme)),m={request:this.map._requestManager.transformRequest(d,n.R.Tile),data:void 0,uid:p.uid,tileID:p.tileID,tileZoom:p.tileZoom,zoom:p.tileID.overscaledZ,tileSize:this.tileSize*p.tileID.overscaleFactor(),type:this.type,source:this.id,scope:this.scope,showCollisionBoxes:this.map.showCollisionBoxes,isSymbolTile:p.isSymbolTile,brightness:this.map.style&&this.map.style.getBrightness()||0,lut:null,maxZoom:null,promoteId:null,pixelRatio:null,scaleFactor:null};if(p.actor&&p.state!=="expired")if(p.state==="loading")p.reloadCallback=r;else{if(p.buckets){const w=Object.values(p.buckets);for(const E of w)E.dirty=!0;return void(p.state="loaded")}p.request=p.actor.send("reloadTile",m,b.bind(this))}else p.actor=this.dispatcher.getActor(),p.request=p.actor.send("loadTile",m,b.bind(this),void 0,!0);function b(w,E){return p.aborted?r(null):w&&w.status!==404?r(w):(this.map._refreshExpiredTiles&&E&&p.setExpiryData(E),p.loadModelData(E,this.map.painter),p.state="loaded",void r(null))}}serialize(){return n.l({},this._options)}},canvas:class extends n.aD{constructor(p,r,d,m){super(p,r,d,m),r.coordinates?Array.isArray(r.coordinates)&&r.coordinates.length===4&&!r.coordinates.some(b=>!Array.isArray(b)||b.length!==2||b.some(w=>typeof w!="number"))||this.fire(new n.t(new n.V(`sources.${p}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new n.t(new n.V(`sources.${p}`,null,'missing required property "coordinates"'))),r.animate&&typeof r.animate!="boolean"&&this.fire(new n.t(new n.V(`sources.${p}`,null,'optional "animate" property must be a boolean value'))),r.canvas?typeof r.canvas=="string"||r.canvas instanceof HTMLCanvasElement||this.fire(new n.t(new n.V(`sources.${p}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new n.t(new n.V(`sources.${p}`,null,'missing required property "canvas"'))),this.options=r,this.animate=r.animate===void 0||r.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new n.t(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(p){this.map=p,this.load(),this.canvas&&this.animate&&this.play()}onRemove(p){this.pause()}prepare(){let p=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,p=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,p=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const r=this.map.painter.context;this.texture?!p&&!this._playing||this.texture instanceof n.aF||this.texture.update(this.canvas,{premultiply:!0}):this.texture=new n.T(r,this.canvas,r.gl.RGBA8,{premultiply:!0}),this._prepareData(r)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const p of[this.canvas.width,this.canvas.height])if(isNaN(p)||p<=0)return!0;return!1}},custom:class extends n.E{constructor(p,r,d,m){super(),this.id=p,this.type="custom",this._dataType="raster",this._dispatcher=d,this._implementation=r,this.setEventedParent(m),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new n.t(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new n.t(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new Yo(this._implementation.bounds,this.minzoom,this.maxzoom)),r.update=this._update.bind(this),r.clearTiles=this._clearTiles.bind(this),r.coveringTiles=this._coveringTiles.bind(this),n.l(this,n.ar(r,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return n.ar(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new n.x("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new n.x("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(p){this.map=p,this._loaded=!1,this.fire(new n.x("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(p),this.load()}onRemove(p){this._implementation.onRemove&&this._implementation.onRemove(p)}hasTile(p){if(this._implementation.hasTile){const{x:r,y:d,z:m}=p.canonical;return this._implementation.hasTile({x:r,y:d,z:m})}return!this.tileBounds||this.tileBounds.contains(p.canonical)}loadTile(p,r){const{x:d,y:m,z:b}=p.tileID.canonical,w=new AbortController;p.request=Promise.resolve(this._implementation.loadTile({x:d,y:m,z:b},{signal:w.signal})).then((function(E){return delete p.request,p.aborted?(p.state="unloaded",r(null)):E===void 0?(p.state="errored",r(null)):E===null?(this.loadTileData(p,{width:this.tileSize,height:this.tileSize,data:null}),p.state="loaded",r(null)):function(A){return A instanceof ImageData||A instanceof HTMLCanvasElement||A instanceof ImageBitmap||A instanceof HTMLImageElement}(E)?(this.loadTileData(p,E),p.state="loaded",void r(null)):(p.state="errored",r(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}).bind(this)).catch(E=>{E.code!==20&&(p.state="errored",r(E))}),p.request.cancel=()=>w.abort()}loadTileData(p,r){p.setTexture(r,this.map.painter)}unloadTile(p,r){if(p.texture&&p.texture instanceof n.T?(p.destroy(!0),p.texture&&p.texture instanceof n.T&&this.map.painter.saveTileTexture(p.texture)):p.destroy(),this._implementation.unloadTile){const{x:d,y:m,z:b}=p.tileID.canonical;this._implementation.unloadTile({x:d,y:m,z:b})}r&&r()}abortTile(p,r){p.request&&p.request.cancel&&(p.request.cancel(),delete p.request),r&&r()}hasTransition(){return!1}_coveringTiles(){return this.map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(p=>({x:p.canonical.x,y:p.canonical.y,z:p.canonical.z}))}_clearTiles(){const p=n.av(this.id,this.scope);this.map.style.clearSource(p)}_update(){this.fire(new n.x("data",{dataType:"source",sourceDataType:"content"}))}}},Uh=function(p,r,d,m){const b=new $h[r.type](p,r,d,m);if(b.id!==p)throw new Error(`Expected Source id to be ${p} instead of ${b.id}`);return n.aJ(["load","abort","unload","serialize","prepare"],b),b};function Gh(p,r){const d=n.a6.mat4.identity([]);return n.a6.mat4.scale(d,d,[.5*p.width,.5*-p.height,1]),n.a6.mat4.translate(d,d,[1,-1,0]),n.a6.mat4.multiply(d,d,p.calculateProjMatrix(r.toUnwrapped())),Float32Array.from(d)}function c0(p,r,d,m,b,w,E,A,j=!1){const $=p.tilesIn(d,A,j);$.sort(Ol);const z=[];for(const W of $)z.push({wrappedTileID:W.tile.tileID.wrapped().key,queryResults:W.tile.queryRenderedFeatures(r,p._state,W,m,b,w,E,Gh(p.transform,W.tile.tileID),j)});const H=function(W){const ee={},oe={};for(const ne of W){const se=ne.queryResults,ae=ne.wrappedTileID,me=oe[ae]=oe[ae]||{};for(const Fe in se){const Ce=se[Fe],Pe=me[Fe]=me[Fe]||{},Me=ee[Fe]=ee[Fe]||[];for(const Ie of Ce)Pe[Ie.featureIndex]||(Pe[Ie.featureIndex]=!0,Me.push(Ie))}}return ee}(z);for(const W in H)H[W].forEach(ee=>{const oe=ee.feature,ne=oe.layer;ne&&ne.type!=="background"&&ne.type!=="sky"&&ne.type!=="slot"&&(n.aK(W)||(oe.source=ne.source,ne["source-layer"]&&(oe.sourceLayer=ne["source-layer"])),oe.state=oe.id!==void 0?p.getFeatureState(ne["source-layer"],oe.id):{})});return H}function l0(p,r){const d=p.getRenderableIds().map(w=>p.getTileByID(w)),m=[],b={};for(let w=0;w<d.length;w++){const E=d[w],A=E.tileID.canonical.key;b[A]||(b[A]=!0,E.querySourceFeatures(m,r))}return m}function Ol(p,r){const d=p.tileID,m=r.tileID;return d.overscaledZ-m.overscaledZ||d.canonical.y-m.canonical.y||d.wrap-m.wrap||d.canonical.x-m.canonical.x}function Ll(p,r){const d={};if(!r)return d;for(const m of p){const b=m.layerIds.map(w=>r.getLayer(w)).filter(Boolean);if(b.length!==0){m.layers=b,m.stateDependentLayerIds&&(m.stateDependentLayers=m.stateDependentLayerIds.map(w=>b.filter(E=>E.id===w)[0]));for(const w of b)d[w.fqid]=m}}return d}const Oa=32,Ka=33,Za=new Uint16Array(8184);for(let p=0;p<2046;p++){let r=p+2,d=0,m=0,b=0,w=0,E=0,A=0;for(1&r?b=w=E=Oa:d=m=A=Oa;(r>>=1)>1;){const $=d+b>>1,z=m+w>>1;1&r?(b=d,w=m,d=E,m=A):(d=b,m=w,b=E,w=A),E=$,A=z}const j=4*p;Za[j+0]=d,Za[j+1]=m,Za[j+2]=b,Za[j+3]=w}const Xr=new Uint16Array(2178),ps=new Uint8Array(1089),wu=new Uint16Array(1089);function d0(p){return p===0?-.03125:p===32?.03125:0}const u0={type:2,extent:n.ab,loadGeometry:()=>[[new n.P(0,0),new n.P(n.ab+1,0),new n.P(n.ab+1,n.ab+1),new n.P(0,n.ab+1),new n.P(0,0)]]};class ms{constructor(r,d,m,b,w){this.tileID=r,this.uid=n.aQ(),this.uses=0,this.tileSize=d,this.tileZoom=m,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=w,b&&b.style&&(this._lastUpdatedBrightness=b.style.getBrightness()),this.expiredRequestCount=0,this.state="loading",b&&b.transform&&(this.projection=b.transform.projection)}registerFadeDuration(r){const d=r+this.timeAdded;d<n.q.now()||this.fadeEndTime&&d<this.fadeEndTime||(this.fadeEndTime=d)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=n.aL(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(r,d,m){if(this.unloadVectorData(),this.state="loaded",r){r.featureIndex&&(this.latestFeatureIndex=r.featureIndex,r.rawTileData?(this.latestRawTileData=r.rawTileData,this.latestFeatureIndex.rawTileData=r.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=r.collisionBoxArray,this.buckets=Ll(r.buckets,d.style),this.hasSymbolBuckets=!1;for(const b in this.buckets){const w=this.buckets[b];if(w instanceof n.aS){if(this.hasSymbolBuckets=!0,!m)break;w.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const b in this.buckets){const w=this.buckets[b];if(w instanceof n.aS&&w.hasRTLText){this.hasRTLText=!0,n.aT();break}}this.queryPadding=0;for(const b in this.buckets){const w=this.buckets[b],E=d.style.getOwnLayer(b);if(!E)continue;const A=E.queryRadius(w);this.queryPadding=Math.max(this.queryPadding,A)}r.imageAtlas&&(this.imageAtlas=r.imageAtlas),r.glyphAtlasImage&&(this.glyphAtlasImage=r.glyphAtlasImage),r.lineAtlas&&(this.lineAtlas=r.lineAtlas),this._lastUpdatedBrightness=r.brightness}else this.collisionBoxArray=new n.aR}unloadVectorData(){if(this.hasData()){for(const r in this.buckets)this.buckets[r].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}loadModelData(r,d,m){r&&(r.resourceTiming&&(this.resourceTiming=r.resourceTiming),this.buckets={...this.buckets,...Ll(r.buckets,d.style)},r.featureIndex&&(this.latestFeatureIndex=r.featureIndex))}getBucket(r){return this.buckets[r.fqid]}upload(r){for(const b in this.buckets){const w=this.buckets[b];w.uploadPending()&&w.upload(r)}const d=r.gl,m=this.imageAtlas;if(m&&!m.uploaded){const b=!!Object.keys(m.patternPositions).length;this.imageAtlasTexture=new n.T(r,m.image,d.RGBA8,{useMipmap:b}),this.imageAtlas.uploaded=!0}this.glyphAtlasImage&&(this.glyphAtlasTexture=new n.T(r,this.glyphAtlasImage,d.R8),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new n.T(r,this.lineAtlas.image,d.R8),this.lineAtlas.uploaded=!0)}prepare(r,d,m){if(this.imageAtlas&&this.imageAtlasTexture&&this.imageAtlas.patchUpdatedImages(r,this.imageAtlasTexture,m),!d||!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData)return;const b=d.style.getBrightness();(this._lastUpdatedBrightness||b)&&(this._lastUpdatedBrightness&&b&&Math.abs(this._lastUpdatedBrightness-b)<.001||(this._lastUpdatedBrightness=b,this.updateBuckets(d)))}queryRenderedFeatures(r,d,m,b,w,E,A,j,$){return this.latestFeatureIndex&&(this.latestFeatureIndex.rawTileData||this.latestFeatureIndex.is3DTile)?this.latestFeatureIndex.query({tileResult:m,pixelPosMatrix:j,transform:A,filter:b,layers:w,availableImages:E,tileTransform:this.tileTransform},r,d):{}}querySourceFeatures(r,d){const m=this.latestFeatureIndex;if(!m||!m.rawTileData)return;const b=m.loadVTLayers(),w=d?d.sourceLayer:"",E=b._geojsonTileLayer||b[w];if(!E)return;const A=n.aU(d&&d.filter),{z:j,x:$,y:z}=this.tileID.canonical,H={z:j,x:$,y:z};for(let W=0;W<E.length;W++){const ee=E.feature(W);if(A.needGeometry){const se=n.aV(ee,!0);if(!A.filter(new n.a3(this.tileID.overscaledZ),se,this.tileID.canonical))continue}else if(!A.filter(new n.a3(this.tileID.overscaledZ),ee))continue;const oe=m.getId(ee,w),ne=new n.aW(ee,j,$,z,oe);ne.tile=H,r.push(ne)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(r){const d=this.expirationTime;if(r.cacheControl){const m=n.aX(r.cacheControl);m["max-age"]&&(this.expirationTime=Date.now()+1e3*m["max-age"])}else r.expires&&(this.expirationTime=new Date(r.expires).getTime());if(this.expirationTime){const m=Date.now();let b=!1;if(this.expirationTime>m)b=!1;else if(d)if(this.expirationTime<d)b=!0;else{const w=this.expirationTime-d;w?this.expirationTime=m+Math.max(w,3e4):b=!0}else b=!0;b?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}refreshFeatureState(r){this.latestFeatureIndex&&(this.latestFeatureIndex.rawTileData||this.latestFeatureIndex.is3DTile)&&r&&this.updateBuckets(r)}updateBuckets(r){if(!this.latestFeatureIndex)return;const d=this.latestFeatureIndex.loadVTLayers(),m=r.style.listImages(),b=r.style.getBrightness();for(const w in this.buckets){if(!r.style.hasLayer(w))continue;const E=this.buckets[w],A=E.layers[0],j=A.sourceLayer||"_geojsonTileLayer",$=d[j],z=r.style.getSourceCache(A.source,A.scope);let H={};z&&(H=z._state.getState(j,void 0)),E.update(H,$,m,this.imageAtlas&&this.imageAtlas.patternPositions||{},b),(E instanceof n.aY||E instanceof n.aZ)&&r._terrain&&r._terrain.enabled&&z&&E.programConfigurations.needsUpload&&r._terrain._clearRenderCacheForTile(z.id,this.tileID);const W=r&&r.style&&r.style.getOwnLayer(w);W&&(this.queryPadding=Math.max(this.queryPadding,W.queryRadius(E)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<n.q.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(r){this.symbolFadeHoldUntil=n.q.now()+r}setTexture(r,d){const m=d.context,b=m.gl;this.texture=this.texture||d.getTileTexture(r.width),this.texture&&this.texture instanceof n.T?this.texture.update(r):(this.texture=new n.T(m,r,b.RGBA8,{useMipmap:!0}),this.texture.bind(b.LINEAR,b.CLAMP_TO_EDGE))}setDependencies(r,d){const m={};for(const b of d)m[b]=!0;this.dependencies[r]=m}hasDependency(r,d){for(const m of r){const b=this.dependencies[m];if(b){for(const w of d)if(b[w])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(r,d){if(!d||d.name==="mercator"||this._tileDebugBuffer)return;const m=n.a_(u0,this.tileID.canonical,this.tileTransform)[0],b=new n.a$,w=new n.b0;for(let E=0;E<m.length;E++){const{x:A,y:j}=m[E];b.emplaceBack(A,j),w.emplaceBack(E)}w.emplaceBack(0),this._tileDebugIndexBuffer=r.createIndexBuffer(w),this._tileDebugBuffer=r.createVertexBuffer(b,n.b1.members),this._tileDebugSegments=n.b2.simpleSegment(0,0,b.length,w.length)}_makeTileBoundsBuffers(r,d){if(this._tileBoundsBuffer||!d||d.name==="mercator")return;const m=n.a_(u0,this.tileID.canonical,this.tileTransform)[0];let b,w;if(this.isRaster){const E=function(A,j){const $=n.aL(A,j),z=Math.pow(2,A.z);for(let se=0;se<Ka;se++)for(let ae=0;ae<Ka;ae++){const me=n.aM((A.x+(ae+d0(ae))/Oa)/z),Fe=n.aN((A.y+(se+d0(se))/Oa)/z),Ce=j.project(me,Fe),Pe=se*Ka+ae;Xr[2*Pe+0]=Math.round((Ce.x*$.scale-$.x)*n.ab),Xr[2*Pe+1]=Math.round((Ce.y*$.scale-$.y)*n.ab)}ps.fill(0),wu.fill(0);for(let se=2045;se>=0;se--){const ae=4*se,me=Za[ae+0],Fe=Za[ae+1],Ce=Za[ae+2],Pe=Za[ae+3],Me=me+Ce>>1,Ie=Fe+Pe>>1,Le=Me+Ie-Fe,$e=Ie+me-Me,Qe=Fe*Ka+me,He=Pe*Ka+Ce,Ue=Ie*Ka+Me,gt=Math.hypot((Xr[2*Qe+0]+Xr[2*He+0])/2-Xr[2*Ue+0],(Xr[2*Qe+1]+Xr[2*He+1])/2-Xr[2*Ue+1])>=16;ps[Ue]=ps[Ue]||(gt?1:0),se<1022&&(ps[Ue]=ps[Ue]||ps[(Fe+$e>>1)*Ka+(me+Le>>1)]||ps[(Pe+$e>>1)*Ka+(Ce+Le>>1)])}const H=new n.aO,W=new n.aP;let ee=0;function oe(se,ae){const me=ae*Ka+se;return wu[me]===0&&(H.emplaceBack(Xr[2*me+0],Xr[2*me+1],se*n.ab/Oa,ae*n.ab/Oa),wu[me]=++ee),wu[me]-1}function ne(se,ae,me,Fe,Ce,Pe){const Me=se+me>>1,Ie=ae+Fe>>1;if(Math.abs(se-Ce)+Math.abs(ae-Pe)>1&&ps[Ie*Ka+Me])ne(Ce,Pe,se,ae,Me,Ie),ne(me,Fe,Ce,Pe,Me,Ie);else{const Le=oe(se,ae),$e=oe(me,Fe),Qe=oe(Ce,Pe);W.emplaceBack(Le,$e,Qe)}}return ne(0,0,Oa,Oa,Oa,0),ne(Oa,Oa,0,0,0,Oa),{vertices:H,indices:W}}(this.tileID.canonical,d);b=E.vertices,w=E.indices}else{b=new n.aO,w=new n.aP;for(const{x:A,y:j}of m)b.emplaceBack(A,j,0,0);const E=n.b3(b.int16,void 0,4);for(let A=0;A<E.length;A+=3)w.emplaceBack(E[A],E[A+1],E[A+2])}this._tileBoundsBuffer=r.createVertexBuffer(b,n.b4.members),this._tileBoundsIndexBuffer=r.createIndexBuffer(w),this._tileBoundsSegments=n.b2.simpleSegment(0,0,b.length,w.length)}_makeGlobeTileDebugBuffers(r,d){const m=d.projection;if(!m||m.name!=="globe"||d.freezeTileCoverage)return;const b=this.tileID.canonical,w=n.b5(b,d),E=n.b6(w),A=n.a9(d.zoom);let j;A>0&&(j=n.a6.mat4.invert(new Float64Array(16),d.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(r,b,d,E,j,A),this._makeGlobeTileDebugTextBuffer(r,b,d,E,j,A)}_globePoint(r,d,m,b,w,E,A){let j=n.b7(r,d,m);if(E){const $=1<<m.z,z=n.am(b.center.lng),H=n.at(b.center.lat),W=(m.x+.5)/$-z;let ee=0;W>.5?ee=-1:W<-.5&&(ee=1);let oe=(r/n.ab+m.x)/$+ee,ne=(d/n.ab+m.y)/$;oe=(oe-z)*b._pixelsPerMercatorPixel+z,ne=(ne-H)*b._pixelsPerMercatorPixel+H;const se=[oe*b.worldSize,ne*b.worldSize,0];n.a6.vec3.transformMat4(se,se,E),j=n.b8(j,se,A)}return n.a6.vec3.transformMat4(j,j,w)}_makeGlobeTileDebugBorderBuffer(r,d,m,b,w,E){const A=new n.a$,j=new n.b0,$=new n.b9,z=(W,ee,oe,ne,se)=>{const ae=(oe-W)/(se-1),me=(ne-ee)/(se-1),Fe=A.length;for(let Ce=0;Ce<se;Ce++){const Pe=W+Ce*ae,Me=ee+Ce*me;A.emplaceBack(Pe,Me);const Ie=this._globePoint(Pe,Me,d,m,b,w,E);$.emplaceBack(Ie[0],Ie[1],Ie[2]),j.emplaceBack(Fe+Ce)}},H=n.ab;z(0,0,H,0,16),z(H,0,H,H,16),z(H,H,0,H,16),z(0,H,0,0,16),this._tileDebugIndexBuffer=r.createIndexBuffer(j),this._tileDebugBuffer=r.createVertexBuffer(A,n.b1.members),this._globeTileDebugBorderBuffer=r.createVertexBuffer($,n.ba.members),this._tileDebugSegments=n.b2.simpleSegment(0,0,A.length,j.length)}_makeGlobeTileDebugTextBuffer(r,d,m,b,w,E){const A=n.ab/4,j=new n.a$,$=new n.aP,z=new n.b9,H=25;$.reserve(32),j.reserve(H),z.reserve(H);const W=(ee,oe)=>H*ee+oe;for(let ee=0;ee<H;ee++){const oe=ee*A;for(let ne=0;ne<H;ne++){const se=ne*A;j.emplaceBack(se,oe);const ae=this._globePoint(se,oe,d,m,b,w,E);z.emplaceBack(ae[0],ae[1],ae[2])}}for(let ee=0;ee<4;ee++)for(let oe=0;oe<4;oe++){const ne=W(ee,oe),se=W(ee,oe+1),ae=W(ee+1,oe),me=W(ee+1,oe+1);$.emplaceBack(ne,se,ae),$.emplaceBack(ae,se,me)}this._tileDebugTextIndexBuffer=r.createIndexBuffer($),this._tileDebugTextBuffer=r.createVertexBuffer(j,n.b1.members),this._globeTileDebugTextBuffer=r.createVertexBuffer(z,n.ba.members),this._tileDebugTextSegments=n.b2.simpleSegment(0,0,H,32)}destroy(r=!1){for(const d in this.buckets)this.buckets[d].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&(this.imageAtlasTexture.destroy(),delete this.imageAtlasTexture),this.glyphAtlasTexture&&(this.glyphAtlasTexture.destroy(),delete this.glyphAtlasTexture),this.lineAtlasTexture&&(this.lineAtlasTexture.destroy(),delete this.lineAtlasTexture),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),!r&&this.texture&&this.texture instanceof n.T&&(this.texture.destroy(),delete this.texture),this.hillshadeFBO&&(this.hillshadeFBO.destroy(),delete this.hillshadeFBO),this.dem&&delete this.dem,this.neighboringTiles&&delete this.neighboringTiles,this.demTexture&&(this.demTexture.destroy(),delete this.demTexture),this.rasterParticleState&&(this.rasterParticleState.destroy(),delete this.rasterParticleState),this.latestFeatureIndex=null,this.state="unloaded"}}n.bb.setPbf(n.bc);class Hh extends ms{constructor(r,d,m,b,w){super(r,d,m,b,w),this._workQueue=[],this._fetchQueue=[],this._isHeaderLoaded=!1}setTexture(r,d){const m=d.context,b=m.gl;this.texture=this.texture||d.getTileTexture(r.width),this.texture&&this.texture instanceof n.T?this.texture.update(r,{premultiply:!1}):this.texture=new n.T(m,r,b.RGBA8,{premultiply:!1})}flushQueues(){for(;this._workQueue.length;)this._workQueue.pop()();for(;this._fetchQueue.length;)this._fetchQueue.pop()()}fetchHeader(r=16384,d){const m=this._mrt=new n.bb(30),b=Object.assign({},this.requestParams,{headers:{Range:"bytes=0-"+(r-1)}});return this.entireBuffer=null,this.request=n.bd(b,(w,E,A,j)=>{if(w)d(w);else try{const $=m.getHeaderLength(E);if($>r)return void(this.request=this.fetchHeader($,d));m.parseHeader(E),this._isHeaderLoaded=!0;let z=0;for(const H of Object.values(m.layers))z=Math.max(z,H.dataIndex[H.dataIndex.length-1].last_byte);E.byteLength>=z&&(this.entireBuffer=E),d(null,this.entireBuffer||E,A,j)}catch($){d($)}}),this.request}fetchBand(r,d,m){const b=this._mrt;if(!this._isHeaderLoaded||!b)return void m(new Error("Tile header is not ready"));const w=this.actor;if(!w)return void m(new Error("Can't fetch tile band without an actor"));let E;const A=(H,W)=>{E.complete(H,W),H?m(H):(this.updateTextureDescriptor(r,d),m(null,this.textureDescriptor&&this.textureDescriptor.img))},j=(H,W)=>{if(H)return m(H);const ee=w.send("decodeRasterArray",{buffer:W,task:E},A,void 0,!0);this._workQueue.push(()=>{ee&&ee.cancel(),E.cancel()})},$=b.getLayer(r);if(!$)return void m(new Error(`Unknown sourceLayer "${r}"`));if($.hasDataForBand(d))return this.updateTextureDescriptor(r,d),void m(null,this.textureDescriptor?this.textureDescriptor.img:null);const z=$.getDataRange([d]);if(E=b.createDecodingTask(z),!E||E.tasks.length)if(this.flushQueues(),this.entireBuffer)j(null,this.entireBuffer.slice(z.firstByte,z.lastByte+1));else{const H=Object.assign({},this.requestParams,{headers:{Range:`bytes=${z.firstByte}-${z.lastByte}`}}),W=n.bd(H,j);this._fetchQueue.push(()=>{W.cancel(),E.cancel()})}else m(null)}updateNeeded(r,d){return(!this.textureDescriptor||this.textureDescriptor.band!==d||this.textureDescriptor.layer!==r)&&this.state!=="errored"}updateTextureDescriptor(r,d){if(!this._mrt)return;const m=this._mrt.getLayer(r);if(!m||!m.hasBand(d)||!m.hasDataForBand(d))return;const{bytes:b,tileSize:w,buffer:E,offset:A,scale:j}=m.getBandView(d),$=w+2*E,z={data:b,width:$,height:$},H=this.texture;H&&H instanceof n.T&&H.update(z,{premultiply:!1}),this.textureDescriptor={layer:r,band:d,img:z,buffer:E,offset:A,tileSize:w,format:m.pixelFormat,mix:[j,256*j,65536*j,16777216*j]}}}class r_{constructor(r,d){this.max=r,this.onRemove=d,this.reset()}reset(){for(const r in this.data)for(const d of this.data[r])d.timeout&&clearTimeout(d.timeout),this.onRemove(d.value);return this.data={},this.order=[],this}add(r,d,m){const b=r.wrapped().key;this.data[b]===void 0&&(this.data[b]=[]);const w={value:d,timeout:void 0};if(m!==void 0&&(w.timeout=setTimeout(()=>{this.remove(r,w)},m)),this.data[b].push(w),this.order.push(b),this.order.length>this.max){const E=this._getAndRemoveByKey(this.order[0]);E&&this.onRemove(E)}return this}has(r){return r.wrapped().key in this.data}getAndRemove(r){return this.has(r)?this._getAndRemoveByKey(r.wrapped().key):null}_getAndRemoveByKey(r){const d=this.data[r].shift();return d.timeout&&clearTimeout(d.timeout),this.data[r].length===0&&delete this.data[r],this.order.splice(this.order.indexOf(r),1),d.value}getByKey(r){const d=this.data[r];return d?d[0].value:null}get(r){return this.has(r)?this.data[r.wrapped().key][0].value:null}remove(r,d){if(!this.has(r))return this;const m=r.wrapped().key,b=d===void 0?0:this.data[m].indexOf(d),w=this.data[m][b];return this.data[m].splice(b,1),w.timeout&&clearTimeout(w.timeout),this.data[m].length===0&&delete this.data[m],this.onRemove(w.value),this.order.splice(this.order.indexOf(m),1),this}setMaxSize(r){for(this.max=r;this.order.length>this.max;){const d=this._getAndRemoveByKey(this.order[0]);d&&this.onRemove(d)}return this}filter(r){const d=[];for(const m in this.data)for(const b of this.data[m])r(b.value)||d.push(b);for(const m of d)this.remove(m.value.tileID,m)}}class nv{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(r,d,m){const b=String(d);if(this.stateChanges[r]=this.stateChanges[r]||{},this.stateChanges[r][b]=this.stateChanges[r][b]||{},n.l(this.stateChanges[r][b],m),this.deletedStates[r]===null){this.deletedStates[r]={};for(const w in this.state[r])w!==b&&(this.deletedStates[r][w]=null)}else if(this.deletedStates[r]&&this.deletedStates[r][b]===null){this.deletedStates[r][b]={};for(const w in this.state[r][b])m[w]||(this.deletedStates[r][b][w]=null)}else for(const w in m)this.deletedStates[r]&&this.deletedStates[r][b]&&this.deletedStates[r][b][w]===null&&delete this.deletedStates[r][b][w]}removeFeatureState(r,d,m){if(this.deletedStates[r]===null)return;const b=String(d);if(this.deletedStates[r]=this.deletedStates[r]||{},m&&d!==void 0)this.deletedStates[r][b]!==null&&(this.deletedStates[r][b]=this.deletedStates[r][b]||{},this.deletedStates[r][b][m]=null);else if(d!==void 0)if(this.stateChanges[r]&&this.stateChanges[r][b])for(m in this.deletedStates[r][b]={},this.stateChanges[r][b])this.deletedStates[r][b][m]=null;else this.deletedStates[r][b]=null;else this.deletedStates[r]=null}getState(r,d){const m=this.state[r]||{},b=this.stateChanges[r]||{},w=this.deletedStates[r];if(w===null)return{};if(d!==void 0){const A=String(d),j=n.l({},m[A],b[A]);if(w){const $=w[d];if($===null)return{};for(const z in $)delete j[z]}return j}const E=n.l({},m,b);if(w)for(const A in w)delete E[A];return E}initializeTileState(r,d){r.refreshFeatureState(d)}coalesceChanges(r,d){const m={};for(const b in this.stateChanges){this.state[b]=this.state[b]||{};const w={};for(const E in this.stateChanges[b])this.state[b][E]||(this.state[b][E]={}),n.l(this.state[b][E],this.stateChanges[b][E]),w[E]=this.state[b][E];m[b]=w}for(const b in this.deletedStates){this.state[b]=this.state[b]||{};const w={};if(this.deletedStates[b]===null)for(const E in this.state[b])w[E]={},this.state[b][E]={};else for(const E in this.deletedStates[b]){if(this.deletedStates[b][E]===null)this.state[b][E]={};else if(this.state[b][E])for(const A of Object.keys(this.deletedStates[b][E]))delete this.state[b][E][A];w[E]=this.state[b][E]}m[b]=m[b]||{},n.l(m[b],w)}if(this.stateChanges={},this.deletedStates={},Object.keys(m).length!==0)for(const b in r)r[b].refreshFeatureState(d)}}class Jr extends n.E{constructor(r,d,m){super(),this.id=r,this._onlySymbols=m,d.on("data",b=>{b.dataType==="source"&&b.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&b.dataType==="source"&&b.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),d.on("error",()=>{this._sourceErrored=!0}),this._source=d,this._tiles={},this._cache=new r_(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=d.minTileCacheSize,this._maxTileCacheSize=d.maxTileCacheSize,this._loadedParentTiles={},this.castsShadows=!1,this.tileCoverLift=0,this._coveredTiles={},this._shadowCasterTiles={},this._state=new nv,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="raster-array"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(r){this.map=r,this._minTileCacheSize=this._minTileCacheSize===void 0&&r?r._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&r?r._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const r in this._tiles){const d=this._tiles[r];if(d.state!=="loaded"&&d.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const r=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,r&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(r,d){return r.isSymbolTile=this._onlySymbols,r.isExtraShadowCaster=this._shadowCasterTiles[r.tileID.key],this._source.loadTile(r,d)}_unloadTile(r){if(this._source.unloadTile)return this._source.unloadTile(r)}_abortTile(r){if(this._source.abortTile)return this._source.abortTile(r)}serialize(){return this._source.serialize()}prepare(r){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const d in this._tiles){const m=this._tiles[d];m.upload(r),m.prepare(this.map.style.imageManager,this.map?this.map.painter:null,this._source.scope)}}getIds(){return n.be(this._tiles).map(r=>r.tileID).sort(xc).map(r=>r.key)}getRenderableIds(r,d){const m=[];for(const b in this._tiles)this._isIdRenderable(+b,r,d)&&m.push(this._tiles[b]);return r?m.sort((b,w)=>{const E=b.tileID,A=w.tileID,j=new n.P(E.canonical.x,E.canonical.y)._rotate(this.transform.angle),$=new n.P(A.canonical.x,A.canonical.y)._rotate(this.transform.angle);return E.overscaledZ-A.overscaledZ||$.y-j.y||$.x-j.x}).map(b=>b.tileID.key):m.map(b=>b.tileID).sort(xc).map(b=>b.key)}hasRenderableParent(r){const d=this.findLoadedParent(r,0);return!!d&&this._isIdRenderable(d.tileID.key)}_isIdRenderable(r,d,m){return this._tiles[r]&&this._tiles[r].hasData()&&!this._coveredTiles[r]&&(d||!this._tiles[r].holdingForFade())&&(m||!this._shadowCasterTiles[r])}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const r in this._tiles)this._tiles[r].state!=="errored"&&this._reloadTile(+r,"reloading")}}_reloadTile(r,d){const m=this._tiles[r];m&&(m.state!=="loading"&&(m.state=d),this._loadTile(m,this._tileLoaded.bind(this,m,r,d)))}_tileLoaded(r,d,m,b){if(b)if(r.state="errored",b.status!==404)this._source.fire(new n.t(b,{tile:r}));else{if(this._source.fire(new n.x("data",{dataType:"source",sourceDataType:"error",sourceId:this._source.id,tile:r})),!(r.tileID.key in this._loadedParentTiles))return;if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const w=this.map.painter.terrain;this.update(this.transform,w.getScaledDemTileSize(),!0),w.resetTileLookupCache(this.id)}else this.update(this.transform)}else r.timeAdded=n.q.now(),m==="expired"&&(r.refreshedUponExpiration=!0),this._setTileReloadTimer(d,r),this._source.type==="raster-dem"&&r.dem&&this._backfillDEM(r),this._state.initializeTileState(r,this.map?this.map.painter:null),this._source.fire(new n.x("data",{dataType:"source",tile:r,coord:r.tileID,sourceCacheId:this.id}))}_backfillDEM(r){const d=this.getRenderableIds();for(let b=0;b<d.length;b++){const w=d[b];if(r.neighboringTiles&&r.neighboringTiles[w]){const E=this.getTileByID(w);m(r,E),m(E,r)}}function m(b,w){if(!b.dem||b.dem.borderReady)return;b.needsHillshadePrepare=!0,b.needsDEMTextureUpload=!0;let E=w.tileID.canonical.x-b.tileID.canonical.x;const A=w.tileID.canonical.y-b.tileID.canonical.y,j=Math.pow(2,b.tileID.canonical.z),$=w.tileID.key;E===0&&A===0||Math.abs(A)>1||(Math.abs(E)>1&&(Math.abs(E+j)===1?E+=j:Math.abs(E-j)===1&&(E-=j)),w.dem&&b.dem&&(b.dem.backfillBorder(w.dem,E,A),b.neighboringTiles&&b.neighboringTiles[$]&&(b.neighboringTiles[$].backfilled=!0)))}}getTile(r){return this.getTileByID(r.key)}getTileByID(r){return this._tiles[r]}_retainLoadedChildren(r,d,m,b){for(const w in this._tiles){let E=this._tiles[w];if(b[w]||!E.hasData()||E.tileID.overscaledZ<=d||E.tileID.overscaledZ>m)continue;let A=E.tileID;for(;E&&E.tileID.overscaledZ>d+1;){const $=E.tileID.scaledTo(E.tileID.overscaledZ-1);E=this._tiles[$.key],E&&E.hasData()&&(A=$)}let j=A;for(;j.overscaledZ>d;)if(j=j.scaledTo(j.overscaledZ-1),r[j.key]){b[A.key]=A;break}}}findLoadedParent(r,d){if(r.key in this._loadedParentTiles){const m=this._loadedParentTiles[r.key];return m&&m.tileID.overscaledZ>=d?m:null}for(let m=r.overscaledZ-1;m>=d;m--){const b=r.scaledTo(m),w=this._getLoadedTile(b);if(w)return w}}_getLoadedTile(r){const d=this._tiles[r.key];return d&&d.hasData()?d:this._cache.getByKey(this._source.reparseOverscaled?r.wrapped().key:r.canonical.key)}updateCacheSize(r,d){d=d||this._source.tileSize;const m=Math.ceil(r.width/d)+1,b=Math.ceil(r.height/d)+1,w=Math.floor(m*b*5),E=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,w):w,A=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,E):E;this._cache.setMaxSize(A)}handleWrapJump(r){const d=Math.round((r-(this._prevLng===void 0?r:this._prevLng))/360);if(this._prevLng=r,d){const m={};for(const b in this._tiles){const w=this._tiles[b];w.tileID=w.tileID.unwrapTo(w.tileID.wrap+d),m[w.tileID.key]=w}this._tiles=m;for(const b in this._timers)clearTimeout(this._timers[b]),delete this._timers[b];for(const b in this._tiles)this._setTileReloadTimer(+b,this._tiles[b])}}update(r,d,m,b){if(this.transform=r,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!m)return;this.updateCacheSize(r,d),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._shadowCasterTiles={},this._coveredTiles={};const w=this._source.type==="batched-model";let E,A=this._source.maxzoom;const j=this.map&&this.map.painter?this.map.painter._terrain:null;if(j&&j.sourceCache===this&&j.attenuationRange()){const H=j.attenuationRange()[0],W=Math.floor(H)-Math.log2(j.getDemUpscale());A>W&&(A=W)}if(this.used||this.usedForTerrain){if(this._source.tileID)E=r.getVisibleUnwrappedCoordinates(this._source.tileID).map(H=>new n.aA(H.canonical.z,H.wrap,H.canonical.z,H.canonical.x,H.canonical.y));else if(this.tileCoverLift!==0){const H=r.clone();H.tileCoverLift=this.tileCoverLift,E=H.coveringTiles({tileSize:d||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:A,roundZoom:this._source.roundZoom&&!m,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain,calculateQuadrantVisibility:w}),this._source.minzoom<=1&&r.projection.name==="globe"&&(E.push(new n.aA(1,0,1,0,0)),E.push(new n.aA(1,0,1,1,0)),E.push(new n.aA(1,0,1,0,1)),E.push(new n.aA(1,0,1,1,1)))}else if(E=r.coveringTiles({tileSize:d||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:A,roundZoom:this._source.roundZoom&&!m,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain,calculateQuadrantVisibility:w}),this._source.hasTile){const H=this._source.hasTile.bind(this._source);E=E.filter(W=>H(W))}}else E=[];if(E.length>0&&this.castsShadows&&b&&this.transform.projection.name!=="globe"&&!this.usedForTerrain&&!Fu(this._source.type)){const H=r.coveringZoomLevel({tileSize:d||this._source.tileSize,roundZoom:this._source.roundZoom&&!m}),W=Math.min(H,this._source.maxzoom);if(w){const ee=r.extendTileCover(E,W);for(const oe of ee)E.push(oe)}else{const ee=r.extendTileCover(E,W,b);for(const oe of ee)this._shadowCasterTiles[oe.key]=!0,E.push(oe)}}const $=this._updateRetainedTiles(E);if(Fu(this._source.type)&&E.length!==0){const H={},W={},ee=Object.keys($);for(const ne of ee){const se=$[ne],ae=this._tiles[ne];if(!ae||ae.fadeEndTime&&ae.fadeEndTime<=n.q.now())continue;const me=this.findLoadedParent(se,Math.max(se.overscaledZ-Jr.maxOverzooming,this._source.minzoom));me&&(this._addTile(me.tileID),H[me.tileID.key]=me.tileID),W[ne]=se}const oe=E[E.length-1].overscaledZ;for(const ne in this._tiles){const se=this._tiles[ne];if($[ne]||!se.hasData())continue;let ae=se.tileID;for(;ae.overscaledZ>oe;){ae=ae.scaledTo(ae.overscaledZ-1);const me=this._tiles[ae.key];if(me&&me.hasData()&&W[ae.key]){$[ne]=se.tileID;break}}}for(const ne in H)$[ne]||(this._coveredTiles[ne]=!0,$[ne]=H[ne])}for(const H in $)this._tiles[H].clearFadeHold();const z=n.bf(this._tiles,$);for(const H of z){const W=this._tiles[H];W.hasSymbolBuckets&&!W.holdingForFade()?W.setHoldDuration(this.map._fadeDuration):W.hasSymbolBuckets&&!W.symbolFadeFinished()||this._removeTile(+H)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const r in this._tiles)this._tiles[r].holdingForFade()&&this._removeTile(+r)}_updateRetainedTiles(r){const d={};if(r.length===0)return d;const m={},b=r.reduce(($,z)=>Math.min($,z.overscaledZ),1/0),w=r[0].overscaledZ,E=Math.max(w-Jr.maxOverzooming,this._source.minzoom),A=Math.max(w+Jr.maxUnderzooming,this._source.minzoom),j={};for(const $ of r){const z=this._addTile($);d[$.key]=$,z.hasData()||b<this._source.maxzoom&&(j[$.key]=$)}this._retainLoadedChildren(j,b,A,d);for(const $ of r){let z=this._tiles[$.key];if(z.hasData())continue;if($.canonical.z>=this._source.maxzoom){const W=$.children(this._source.maxzoom)[0],ee=this.getTile(W);if(ee&&ee.hasData()){d[W.key]=W;continue}}else{const W=$.children(this._source.maxzoom);if(d[W[0].key]&&d[W[1].key]&&d[W[2].key]&&d[W[3].key])continue}let H=z.wasRequested();for(let W=$.overscaledZ-1;W>=E;--W){const ee=$.scaledTo(W);if(m[ee.key]||(m[ee.key]=!0,z=this.getTile(ee),!z&&H&&(z=this._addTile(ee)),z&&(d[ee.key]=ee,H=z.wasRequested(),z.hasData())))break}}return d}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const r in this._tiles){const d=[];let m,b=this._tiles[r].tileID;for(;b.overscaledZ>0;){if(b.key in this._loadedParentTiles){m=this._loadedParentTiles[b.key];break}d.push(b.key);const w=b.scaledTo(b.overscaledZ-1);if(m=this._getLoadedTile(w),m)break;b=w}for(const w of d)this._loadedParentTiles[w]=m}}_addTile(r){let d=this._tiles[r.key];if(d)return d.isExtraShadowCaster!==!0||this._shadowCasterTiles[r.key]||this._reloadTile(r.key,"reloading"),d;d=this._cache.getAndRemove(r),d&&(this._setTileReloadTimer(r.key,d),d.tileID=r,this._state.initializeTileState(d,this.map?this.map.painter:null),this._cacheTimers[r.key]&&(clearTimeout(this._cacheTimers[r.key]),delete this._cacheTimers[r.key],this._setTileReloadTimer(r.key,d)));const m=!!d;if(!m){const b=this.map?this.map.painter:null,w=this._source.tileSize*r.overscaleFactor();d=this._source.type==="raster-array"?new Hh(r,w,this.transform.tileZoom,b,this._isRaster):new ms(r,w,this.transform.tileZoom,b,this._isRaster),this._loadTile(d,this._tileLoaded.bind(this,d,r.key,d.state))}return d?(d.uses++,this._tiles[r.key]=d,m||this._source.fire(new n.x("dataloading",{tile:d,coord:d.tileID,dataType:"source"})),d):null}_setTileReloadTimer(r,d){r in this._timers&&(clearTimeout(this._timers[r]),delete this._timers[r]);const m=d.getExpiryTimeout();m&&(this._timers[r]=setTimeout(()=>{this._reloadTile(r,"expired"),delete this._timers[r]},m))}_removeTile(r){const d=this._tiles[r];d&&(d.uses--,delete this._tiles[r],this._timers[r]&&(clearTimeout(this._timers[r]),delete this._timers[r]),d.uses>0||(d.hasData()&&d.state!=="reloading"||d.state==="empty"?this._cache.add(d.tileID,d,d.getExpiryTimeout()):(d.aborted=!0,this._abortTile(d),this._unloadTile(d))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const r in this._tiles)this._removeTile(+r);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(r,d,m){const b=[],w=this.transform;if(!w)return b;const E=w.projection.name==="globe",A=n.am(w.center.lng);for(const j in this._tiles){const $=this._tiles[j];if(m&&$.clearQueryDebugViz(),$.holdingForFade())continue;let z;if(E){const H=$.tileID.canonical;if(H.z===0){const W=[Math.abs(n.ap(A,...Dl(H,-1))-A),Math.abs(n.ap(A,...Dl(H,1))-A)];z=[0,2*W.indexOf(Math.min(...W))-1]}else{const W=[Math.abs(n.ap(A,...Dl(H,-1))-A),Math.abs(n.ap(A,...Dl(H,0))-A),Math.abs(n.ap(A,...Dl(H,1))-A)];z=[W.indexOf(Math.min(...W))-1]}}else z=[0];for(const H of z){const W=r.containsTile($,w,d,H);W&&b.push(W)}}return b}getShadowCasterCoordinates(){return this._getRenderableCoordinates(!1,!0)}getVisibleCoordinates(r){return this._getRenderableCoordinates(r)}_getRenderableCoordinates(r,d){const m=this.getRenderableIds(r,d).map(w=>this._tiles[w].tileID),b=this.transform.projection.name==="globe";for(const w of m)w.projMatrix=this.transform.calculateProjMatrix(w.toUnwrapped()),w.expandedProjMatrix=b?this.transform.calculateProjMatrix(w.toUnwrapped(),!1,!0):w.projMatrix;return m}sortCoordinatesByDistance(r){const d=r.slice(),m=this.transform._camera.position,b=this.transform._camera.forward(),w={};for(const E of d){const A=1/(1<<E.canonical.z);w[E.key]=((E.canonical.x+.5)*A+E.wrap-m[0])*b[0]+((E.canonical.y+.5)*A-m[1])*b[1]-m[2]*b[2]}return d.sort((E,A)=>w[E.key]-w[A.key]),d}hasTransition(){if(this._source.hasTransition())return!0;if(Fu(this._source.type))for(const r in this._tiles){const d=this._tiles[r];if(d.fadeEndTime!==void 0&&d.fadeEndTime>=n.q.now())return!0}return!1}setFeatureState(r,d,m){this._state.updateState(r=r||"_geojsonTileLayer",d,m)}removeFeatureState(r,d,m){this._state.removeFeatureState(r=r||"_geojsonTileLayer",d,m)}getFeatureState(r,d){return this._state.getState(r=r||"_geojsonTileLayer",d)}setDependencies(r,d,m){const b=this._tiles[r];b&&b.setDependencies(d,m)}reloadTilesForDependencies(r,d){for(const m in this._tiles)this._tiles[m].hasDependency(r,d)&&this._reloadTile(+m,"reloading");this._cache.filter(m=>!m.hasDependency(r,d))}_preloadTiles(r,d){if(!this._sourceLoaded){const j=()=>{this._sourceLoaded&&(this._source.off("data",j),this._preloadTiles(r,d))};return void this._source.on("data",j)}const m=new Map,b=Array.isArray(r)?r:[r],w=this.map.painter.terrain,E=this.usedForTerrain&&w?w.getScaledDemTileSize():this._source.tileSize;for(const j of b){const $=j.coveringTiles({tileSize:E,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const z of $)m.set(z.key,z);this.usedForTerrain&&j.updateElevation(!1)}const A=Array.from(m.values());n.bg(A,(j,$)=>{const z=new ms(j,this._source.tileSize*j.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(z,H=>{this._source.type==="raster-dem"&&z.dem&&this._backfillDEM(z),$(H,z)})},d)}}function xc(p,r){const d=Math.abs(2*p.wrap)-+(p.wrap<0),m=Math.abs(2*r.wrap)-+(r.wrap<0);return p.overscaledZ-r.overscaledZ||m-d||r.canonical.y-p.canonical.y||r.canonical.x-p.canonical.x}function Fu(p){return p==="raster"||p==="image"||p==="video"||p==="custom"}function Dl(p,r){const d=1<<p.z;return[p.x/d+r,(p.x+1)/d+r]}Jr.maxOverzooming=10,Jr.maxUnderzooming=3;class h0{constructor(r){this.style=r,this.layersGotHidden=!1,this.layers=[]}processLayersChanged(){this.layers=[];const r=!1,d=!1;for(const m in this.style._mergedLayers){const b=this.style._mergedLayers[m];if(b.type==="fill-extrusion")this.layers.push({layer:b,visible:r,visibilityChanged:d});else if(b.type==="model"){const w=this.style.getLayerSource(b);w&&w.type==="batched-model"&&this.layers.push({layer:b,visible:r,visibilityChanged:d})}}}onNewFrame(r){this.layersGotHidden=!1;for(const d of this.layers){const m=d.layer;let b=!1;m.type==="fill-extrusion"?b=!m.isHidden(r)&&m.paint.get("fill-extrusion-opacity")>0:m.type==="model"&&(b=!m.isHidden(r)&&m.paint.get("model-opacity")>0),this.layersGotHidden=this.layersGotHidden||!b&&d.visible,d.visible=b}}updateZOffset(r,d){this.currentBuildingBuckets=[];for(const b of this.layers){const w=b.layer,E=this.style.getLayerSourceCache(w);let A=1;w.type==="fill-extrusion"&&(A=b.visible?w.paint.get("fill-extrusion-vertical-scale"):0);let j=E?E.getTile(d):null;if(!j&&E&&d.canonical.z>E.getSource().minzoom){let $=d.scaledTo(Math.min(E.getSource().maxzoom,d.overscaledZ-1));for(;$.overscaledZ>=E.getSource().minzoom&&(j=E.getTile($),!j&&$.overscaledZ!==0);)$=$.scaledTo($.overscaledZ-1)}this.currentBuildingBuckets.push({bucket:j?j.getBucket(w):null,tileID:j?j.tileID:d,verticalScale:A})}r.hasAnyZOffset=!1;let m=!1;for(let b=0;b<r.symbolInstances.length;b++){const w=r.symbolInstances.get(b),E=w.zOffset,A=this._getHeightAtTileOffset(d,w.tileAnchorX,w.tileAnchorY);w.zOffset=A!==Number.NEGATIVE_INFINITY?A:E,m||E===w.zOffset||(m=!0),r.hasAnyZOffset||w.zOffset===0||(r.hasAnyZOffset=!0)}m&&(r.zOffsetBuffersNeedUpload=!0,r.zOffsetSortDirty=!0)}_mapCoordToOverlappingTile(r,d,m,b){let w=d,E=m;if(r.canonical.z!==b.canonical.z){const A=b.canonical,j=1/(1<<r.canonical.z-A.z);w=(d+r.canonical.x*n.ab)*j-A.x*n.ab|0,E=(m+r.canonical.y*n.ab)*j-A.y*n.ab|0}return{tileX:w,tileY:E}}_getHeightAtTileOffset(r,d,m){let b,w;for(let E=0;E<this.layers.length;++E){if(this.layers[E].layer.type!=="fill-extrusion")continue;const{bucket:A,tileID:j,verticalScale:$}=this.currentBuildingBuckets[E];if(!A)continue;const{tileX:z,tileY:H}=this._mapCoordToOverlappingTile(r,d,m,j),W=A.getHeightAtTileCoord(z,H);W&&W.height!==void 0&&(W.hidden?b=W.height:w=Math.max(W.height*$,w||0))}if(w!==void 0)return w;for(let E=0;E<this.layers.length;++E){const A=this.layers[E];if(A.layer.type!=="model"||!A.visible)continue;const{bucket:j,tileID:$}=this.currentBuildingBuckets[E];if(!j)continue;const{tileX:z,tileY:H}=this._mapCoordToOverlappingTile(r,d,m,$),W=j.getHeightAtTileCoord(z,H);if(W&&!W.hidden)return W.height===void 0&&b!==void 0?Math.min(W.maxHeight,b)*W.verticalScale:W.height?W.height*W.verticalScale:Number.NEGATIVE_INFINITY}return this.layersGotHidden?0:Number.NEGATIVE_INFINITY}}function Bl(p,r){const d={};for(const m in p)m!=="ref"&&(d[m]=p[m]);return n.bh.forEach(m=>{m in r&&(d[m]=r[m])}),d}function f0(p){p=p.slice();const r=Object.create(null);for(let d=0;d<p.length;d++)r[p[d].id]=p[d];for(let d=0;d<p.length;d++)"ref"in p[d]&&(p[d]=Bl(p[d],r[p[d].ref]));return p}const bn={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setSlot:"setSlot",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setCamera:"setCamera",setLights:"setLights",setProjection:"setProjection",addImport:"addImport",removeImport:"removeImport",updateImport:"updateImport"};function p0(p,r,d){d.push({command:bn.addSource,args:[p,r[p]]})}function Dn(p,r,d){r.push({command:bn.removeSource,args:[p]}),d[p]=!0}function ov(p,r,d,m){Dn(p,d,m),p0(p,r,d)}function Oi(p,r,d){let m;for(m in p[d])if(p[d].hasOwnProperty(m)&&m!=="data"&&!n.bi(p[d][m],r[d][m]))return!1;for(m in r[d])if(r[d].hasOwnProperty(m)&&m!=="data"&&!n.bi(p[d][m],r[d][m]))return!1;return!0}function Cu(p,r,d,m,b,w){let E;for(E in r=r||{},p=p||{})p.hasOwnProperty(E)&&(n.bi(p[E],r[E])||d.push({command:w,args:[m,E,r[E],b]}));for(E in r)r.hasOwnProperty(E)&&!p.hasOwnProperty(E)&&(n.bi(p[E],r[E])||d.push({command:w,args:[m,E,r[E],b]}))}function Qc(p){return p.id}function jl(p,r){return p[r.id]=r,p}class Qa{constructor(r,d){this.reset(r,d)}reset(r,d){this.points=r||[],this._distances=[0];for(let m=1;m<this.points.length;m++)this._distances[m]=this._distances[m-1]+this.points[m].dist(this.points[m-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(d||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(r){if(this.points.length===1)return this.points[0];r=n.ap(r,0,1);let d=1,m=this._distances[d];const b=r*this.paddedLength+this.padding;for(;m<b&&d<this._distances.length;)m=this._distances[++d];const w=d-1,E=this._distances[w],A=m-E,j=A>0?(b-E)/A:0;return this.points[w].mult(1-j).add(this.points[d].mult(j))}}class qh{constructor(r,d,m){const b=this.boxCells=[],w=this.circleCells=[];this.xCellCount=Math.ceil(r/m),this.yCellCount=Math.ceil(d/m);for(let E=0;E<this.xCellCount*this.yCellCount;E++)b.push([]),w.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=r,this.height=d,this.xScale=this.xCellCount/r,this.yScale=this.yCellCount/d,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(r,d,m,b,w){this._forEachCell(d,m,b,w,this._insertBoxCell,this.boxUid++),this.boxKeys.push(r),this.bboxes.push(d),this.bboxes.push(m),this.bboxes.push(b),this.bboxes.push(w)}insertCircle(r,d,m,b){this._forEachCell(d-b,m-b,d+b,m+b,this._insertCircleCell,this.circleUid++),this.circleKeys.push(r),this.circles.push(d),this.circles.push(m),this.circles.push(b)}_insertBoxCell(r,d,m,b,w,E){this.boxCells[w].push(E)}_insertCircleCell(r,d,m,b,w,E){this.circleCells[w].push(E)}_query(r,d,m,b,w,E){if(m<0||r>this.width||b<0||d>this.height)return!w&&[];const A=[];if(r<=0&&d<=0&&this.width<=m&&this.height<=b){if(w)return!0;for(let j=0;j<this.boxKeys.length;j++)A.push({key:this.boxKeys[j],x1:this.bboxes[4*j],y1:this.bboxes[4*j+1],x2:this.bboxes[4*j+2],y2:this.bboxes[4*j+3]});for(let j=0;j<this.circleKeys.length;j++){const $=this.circles[3*j],z=this.circles[3*j+1],H=this.circles[3*j+2];A.push({key:this.circleKeys[j],x1:$-H,y1:z-H,x2:$+H,y2:z+H})}return E?A.filter(E):A}return this._forEachCell(r,d,m,b,this._queryCell,A,{hitTest:w,seenUids:{box:{},circle:{}}},E),w?A.length>0:A}_queryCircle(r,d,m,b,w){const E=r-m,A=r+m,j=d-m,$=d+m;if(A<0||E>this.width||$<0||j>this.height)return!b&&[];const z=[];return this._forEachCell(E,j,A,$,this._queryCellCircle,z,{hitTest:b,circle:{x:r,y:d,radius:m},seenUids:{box:{},circle:{}}},w),b?z.length>0:z}query(r,d,m,b,w){return this._query(r,d,m,b,!1,w)}hitTest(r,d,m,b,w){return this._query(r,d,m,b,!0,w)}hitTestCircle(r,d,m,b){return this._queryCircle(r,d,m,!0,b)}_queryCell(r,d,m,b,w,E,A,j){const $=A.seenUids,z=this.boxCells[w];if(z!==null){const W=this.bboxes;for(const ee of z)if(!$.box[ee]){$.box[ee]=!0;const oe=4*ee;if(r<=W[oe+2]&&d<=W[oe+3]&&m>=W[oe+0]&&b>=W[oe+1]&&(!j||j(this.boxKeys[ee]))){if(A.hitTest)return E.push(!0),!0;E.push({key:this.boxKeys[ee],x1:W[oe],y1:W[oe+1],x2:W[oe+2],y2:W[oe+3]})}}}const H=this.circleCells[w];if(H!==null){const W=this.circles;for(const ee of H)if(!$.circle[ee]){$.circle[ee]=!0;const oe=3*ee;if(this._circleAndRectCollide(W[oe],W[oe+1],W[oe+2],r,d,m,b)&&(!j||j(this.circleKeys[ee]))){if(A.hitTest)return E.push(!0),!0;{const ne=W[oe],se=W[oe+1],ae=W[oe+2];E.push({key:this.circleKeys[ee],x1:ne-ae,y1:se-ae,x2:ne+ae,y2:se+ae})}}}}}_queryCellCircle(r,d,m,b,w,E,A,j){const $=A.circle,z=A.seenUids,H=this.boxCells[w];if(H!==null){const ee=this.bboxes;for(const oe of H)if(!z.box[oe]){z.box[oe]=!0;const ne=4*oe;if(this._circleAndRectCollide($.x,$.y,$.radius,ee[ne+0],ee[ne+1],ee[ne+2],ee[ne+3])&&(!j||j(this.boxKeys[oe])))return E.push(!0),!0}}const W=this.circleCells[w];if(W!==null){const ee=this.circles;for(const oe of W)if(!z.circle[oe]){z.circle[oe]=!0;const ne=3*oe;if(this._circlesCollide(ee[ne],ee[ne+1],ee[ne+2],$.x,$.y,$.radius)&&(!j||j(this.circleKeys[oe])))return E.push(!0),!0}}}_forEachCell(r,d,m,b,w,E,A,j){const $=this._convertToXCellCoord(r),z=this._convertToYCellCoord(d),H=this._convertToXCellCoord(m),W=this._convertToYCellCoord(b);for(let ee=$;ee<=H;ee++)for(let oe=z;oe<=W;oe++)if(w.call(this,r,d,m,b,this.xCellCount*oe+ee,E,A,j))return}_convertToXCellCoord(r){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(r*this.xScale)))}_convertToYCellCoord(r){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(r*this.yScale)))}_circlesCollide(r,d,m,b,w,E){const A=b-r,j=w-d,$=m+E;return $*$>A*A+j*j}_circleAndRectCollide(r,d,m,b,w,E,A){const j=(E-b)/2,$=Math.abs(r-(b+j));if($>j+m)return!1;const z=(A-w)/2,H=Math.abs(d-(w+z));if(H>z+m)return!1;if($<=j||H<=z)return!0;const W=$-j,ee=H-z;return W*W+ee*ee<=m*m}}const Xa={unknown:0,flipRequired:1,flipNotRequired:2},gi=Math.tan(85*Math.PI/180);function fn(p,r,d,m,b,w,E){const A=n.a6.mat4.create();if(d)if(w.name==="globe"){const j=n.bj(b,r);n.a6.mat4.multiply(A,A,j)}else{const j=n.a6.mat2.invert([],E);A[0]=j[0],A[1]=j[1],A[4]=j[2],A[5]=j[3],m||n.a6.mat4.rotateZ(A,A,b.angle)}else n.a6.mat4.multiply(A,b.labelPlaneMatrix,p);return A}function pn(p,r,d,m,b,w,E){const A=fn(p,r,d,m,b,w,E);return w.name==="globe"&&d||(A[2]=A[6]=A[10]=A[14]=0),A}function Yr(p,r,d,m,b,w,E){if(d){if(w.name==="globe"){const A=fn(p,r,d,m,b,w,E);return n.a6.mat4.invert(A,A),n.a6.mat4.multiply(A,p,A),A}{const A=n.a6.mat4.clone(p),j=n.a6.mat4.identity([]);return j[0]=E[0],j[1]=E[1],j[4]=E[2],j[5]=E[3],n.a6.mat4.multiply(A,A,j),m||n.a6.mat4.rotateZ(A,A,-b.angle),A}}return b.glCoordMatrix}function Dr(p,r,d,m){const b=[p,r,d,1];d?n.a6.vec4.transformMat4(b,b,m):Kh(b,b,m);const w=b[3];return b[0]/=w,b[1]/=w,b[2]/=w,b}function gn(p,r){return Math.min(.5+p/r*.5,1.5)}function Wh(p,r){const d=p[0]/p[3],m=p[1]/p[3];return d>=-r[0]&&d<=r[0]&&m>=-r[1]&&m<=r[1]}function zl(p,r,d,m,b,w,E,A,j,$){const z=d.transform,H=m?p.textSizeData:p.iconSizeData,W=n.bk(H,d.transform.zoom),ee=z.projection.name==="globe",oe=[256/d.width*2+1,256/d.height*2+1],ne=m?p.text.dynamicLayoutVertexArray:p.icon.dynamicLayoutVertexArray;ne.clear();let se=null;ee&&(se=m?p.text.globeExtVertexArray:p.icon.globeExtVertexArray);const ae=p.lineVertexArray,me=m?p.text.placedSymbolArray:p.icon.placedSymbolArray,Fe=d.transform.width/d.transform.height;let Ce,Pe=!1;for(let Me=0;Me<me.length;Me++){const Ie=me.get(Me),{numGlyphs:Le,writingMode:$e}=Ie;if($e!==n.bl.vertical||Pe||Ce===n.bl.horizontal||(Pe=!0),Ce=$e,(Ie.hidden||$e===n.bl.vertical)&&!Pe){gs(Le,ne);continue}Pe=!1;const Qe=new n.P(Ie.tileAnchorX,Ie.tileAnchorY);let{x:He,y:Ue,z:gt}=z.projection.projectTilePoint(Qe.x,Qe.y,$.canonical);if(j){const[At,ei,bi]=j(Qe);He+=At,Ue+=ei,gt+=bi}const Ft=[He,Ue,gt,1];if(n.a6.vec4.transformMat4(Ft,Ft,r),!Wh(Ft,oe)){gs(Le,ne);continue}const Dt=Ft[3],Gt=gn(d.transform.getCameraToCenterDistance(z.projection),Dt),Qt=n.bm(H,W,Ie),st=E?Qt/Gt:Qt*Gt,Ot=Dr(He,Ue,gt,b);if(Ot[3]<=0){gs(Le,ne);continue}let _t={};const Lt=E?null:j,jt=Ao(Ie,st,!1,A,r,b,w,p.glyphOffsetArray,ae,ne,se,Ot,Qe,_t,Fe,Lt,z.projection,$,E);Pe=jt.useVertical,Lt&&jt.needsFlipping&&(_t={}),(jt.notEnoughRoom||Pe||jt.needsFlipping&&Ao(Ie,st,!0,A,r,b,w,p.glyphOffsetArray,ae,ne,se,Ot,Qe,_t,Fe,Lt,z.projection,$,E).notEnoughRoom)&&gs(Le,ne)}m?(p.text.dynamicLayoutVertexBuffer.updateData(ne),se&&p.text.globeExtVertexBuffer&&p.text.globeExtVertexBuffer.updateData(se)):(p.icon.dynamicLayoutVertexBuffer.updateData(ne),se&&p.icon.globeExtVertexBuffer&&p.icon.globeExtVertexBuffer.updateData(se))}function Vl(p,r,d,m,b,w,E,A,j,$,z,H,W,ee,oe,ne){const{lineStartIndex:se,glyphStartIndex:ae,segment:me}=A,Fe=ae+A.numGlyphs,Ce=se+A.lineLength,Pe=r.getoffsetX(ae),Me=r.getoffsetX(Fe-1),Ie=$l(p*Pe,d,m,b,w,E,me,se,Ce,j,$,z,H,W,!0,ee,oe,ne);if(!Ie)return null;const Le=$l(p*Me,d,m,b,w,E,me,se,Ce,j,$,z,H,W,!0,ee,oe,ne);return Le?{first:Ie,last:Le}:null}function $r(p,r,d,m){return p===n.bl.horizontal&&Math.abs(m)>Math.abs(d)?{useVertical:!0}:p===n.bl.vertical?m>0?{needsFlipping:!0}:null:r!==Xa.unknown&&function(b,w){return b===0||Math.abs(w/b)>gi}(d,m)?r===Xa.flipRequired?{needsFlipping:!0}:null:d<0?{needsFlipping:!0}:null}function Ao(p,r,d,m,b,w,E,A,j,$,z,H,W,ee,oe,ne,se,ae,me){const Fe=r/24,Ce=p.lineOffsetX*Fe,Pe=p.lineOffsetY*Fe,{lineStartIndex:Me,glyphStartIndex:Ie,numGlyphs:Le,segment:$e,writingMode:Qe,flipState:He}=p,Ue=Me+p.lineLength,gt=Ft=>{if(z){const[st,Ot,_t]=Ft.up,Lt=$.length;n.bn(z,Lt+0,st,Ot,_t),n.bn(z,Lt+1,st,Ot,_t),n.bn(z,Lt+2,st,Ot,_t),n.bn(z,Lt+3,st,Ot,_t)}const[Dt,Gt,Qt]=Ft.point;n.bo($,Dt,Gt,Qt,Ft.angle)};if(Le>1){const Ft=Vl(Fe,A,Ce,Pe,d,H,W,p,j,w,ee,ne,!1,se,ae,me);if(!Ft)return{notEnoughRoom:!0};if(m&&!d){let[Dt,Gt,Qt]=Ft.first.point,[st,Ot,_t]=Ft.last.point;[Dt,Gt]=Dr(Dt,Gt,Qt,E),[st,Ot]=Dr(st,Ot,_t,E);const Lt=$r(Qe,He,(st-Dt)*oe,Ot-Gt);if(p.flipState=Lt&&Lt.needsFlipping?Xa.flipRequired:Xa.flipNotRequired,Lt)return Lt}gt(Ft.first);for(let Dt=Ie+1;Dt<Ie+Le-1;Dt++){const Gt=$l(Fe*A.getoffsetX(Dt),Ce,Pe,d,H,W,$e,Me,Ue,j,w,ee,ne,!1,!1,se,ae,me);if(!Gt)return $.length-=4*(Dt-Ie),{notEnoughRoom:!0};gt(Gt)}gt(Ft.last)}else{if(m&&!d){const Dt=Dr(W.x,W.y,0,b),Gt=Me+$e+1,Qt=new n.P(j.getx(Gt),j.gety(Gt)),st=Dr(Qt.x,Qt.y,0,b),Ot=st[3]>0?st:Nl(W,Qt,Dt,1,b,void 0,se,ae.canonical),_t=$r(Qe,He,(Ot[0]-Dt[0])*oe,Ot[1]-Dt[1]);if(p.flipState=_t&&_t.needsFlipping?Xa.flipRequired:Xa.flipNotRequired,_t)return _t}const Ft=$l(Fe*A.getoffsetX(Ie),Ce,Pe,d,H,W,$e,Me,Ue,j,w,ee,ne,!1,!1,se,ae,me);if(!Ft)return{notEnoughRoom:!0};gt(Ft)}return{}}function a_(p,r,d,m,b){const{x:w,y:E,z:A}=m.projectTilePoint(p.x,p.y,r);if(!b)return Dr(w,E,A,d);const[j,$,z]=b(p);return Dr(w+j,E+$,A+z,d)}function Nl(p,r,d,m,b,w,E,A){const j=a_(p.sub(r)._unit()._add(p),A,b,E,w);return n.a6.vec3.sub(j,d,j),n.a6.vec3.normalize(j,j),n.a6.vec3.scaleAndAdd(j,d,j,m)}function $l(p,r,d,m,b,w,E,A,j,$,z,H,W,ee,oe,ne,se,ae){const me=m?p-r:p+r;let Fe=me>0?1:-1,Ce=0;m&&(Fe*=-1,Ce=Math.PI),Fe<0&&(Ce+=Math.PI);let Pe=A+E+(Fe>0?0:1)|0,Me=b,Ie=b,Le=0,$e=0;const Qe=Math.abs(me),He=[],Ue=[];let gt=w,Ft=gt;const Dt=()=>Nl(Ft,gt,Ie,Qe-Le+1,z,W,ne,se.canonical);for(;Le+$e<=Qe;){if(Pe+=Fe,Pe<A||Pe>=j)return null;if(Ie=Me,Ft=gt,He.push(Ie),ee&&Ue.push(Ft),gt=new n.P($.getx(Pe),$.gety(Pe)),Me=H[Pe],!Me){const ei=a_(gt,se.canonical,z,ne,W);Me=ei[3]>0?H[Pe]=ei:Dt()}Le+=$e,$e=n.a6.vec3.distance(Ie,Me)}oe&&W&&(H[Pe]&&(Me=Dt(),$e=n.a6.vec3.distance(Ie,Me)),H[Pe]=Me);const Gt=(Qe-Le)/$e,Qt=gt.sub(Ft)._mult(Gt)._add(Ft),st=n.a6.vec3.sub([],Me,Ie),Ot=n.a6.vec3.scaleAndAdd([],Ie,st,Gt);let _t=[0,0,1],Lt=st[0],jt=st[1];if(ae&&(_t=ne.upVector(se.canonical,Qt.x,Qt.y),_t[0]!==0||_t[1]!==0||_t[2]!==1)){const ei=[_t[2],0,-_t[0]],bi=n.a6.vec3.cross([],_t,ei);n.a6.vec3.normalize(ei,ei),n.a6.vec3.normalize(bi,bi),Lt=n.a6.vec3.dot(st,ei),jt=n.a6.vec3.dot(st,bi)}if(d){const ei=n.a6.vec3.cross([],_t,st);n.a6.vec3.normalize(ei,ei),n.a6.vec3.scaleAndAdd(Ot,Ot,ei,d*Fe)}const At=Ce+Math.atan2(jt,Lt);return He.push(Ot),ee&&Ue.push(Qt),{point:Ot,angle:At,path:He,tilePath:Ue,up:_t}}function gs(p,r){const d=r.length,m=d+4*p;r.resize(m),r.float32.fill(-1/0,4*d,4*m)}function Kh(p,r,d){const m=r[0],b=r[1];return p[0]=d[0]*m+d[4]*b+d[12],p[1]=d[1]*m+d[5]*b+d[13],p[3]=d[3]*m+d[7]*b+d[15],p}const pa=100;class Br{constructor(r,d,m=new qh(r.width+200,r.height+200,25),b=new qh(r.width+200,r.height+200,25)){this.transform=r,this.grid=m,this.ignoredGrid=b,this.pitchfactor=Math.cos(r._pitch)*r.cameraToCenterDistance,this.screenRightBoundary=r.width+pa,this.screenBottomBoundary=r.height+pa,this.gridRightBoundary=r.width+200,this.gridBottomBoundary=r.height+200,this.fogState=d}placeCollisionBox(r,d,m,b,w,E,A,j){let $=m.projectedAnchorX,z=m.projectedAnchorY,H=m.projectedAnchorZ;const W=m.elevation,ee=m.tileID,oe=r.getProjection();if(W&&ee){const[Me,Ie,Le]=oe.upVector(ee.canonical,m.tileAnchorX,m.tileAnchorY),$e=oe.upVectorScale(ee.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;$+=Me*W*$e,z+=Ie*W*$e,H+=Le*W*$e}const ne=this.projectAndGetPerspectiveRatio(A,$,z,H,m.tileID,oe.name==="globe"||!!W||this.transform.pitch>0,oe),se=E*ne.perspectiveRatio,ae=(m.x1*d+b.x-m.padding)*se+ne.point.x,me=(m.y1*d+b.y-m.padding)*se+ne.point.y,Fe=(m.x2*d+b.x+m.padding)*se+ne.point.x,Ce=(m.y2*d+b.y+m.padding)*se+ne.point.y,Pe=ne.perspectiveRatio<=.55||ne.occluded;return!this.isInsideGrid(ae,me,Fe,Ce)||!w&&this.grid.hitTest(ae,me,Fe,Ce,j)||Pe?{box:[],offscreen:!1,occluded:ne.occluded}:{box:[ae,me,Fe,Ce],offscreen:this.isOffscreen(ae,me,Fe,Ce),occluded:!1}}placeCollisionCircles(r,d,m,b,w,E,A,j,$,z,H,W,ee,oe,ne){const se=[],ae=this.transform.elevation,me=r.getProjection(),Fe=ae?ae.getAtTileOffsetFunc(ne,this.transform.center.lat,this.transform.worldSize,me):null,Ce=new n.P(m.tileAnchorX,m.tileAnchorY);let{x:Pe,y:Me,z:Ie}=me.projectTilePoint(Ce.x,Ce.y,ne.canonical);if(Fe){const[Qt,st,Ot]=Fe(Ce);Pe+=Qt,Me+=st,Ie+=Ot}const Le=me.name==="globe",$e=this.projectAndGetPerspectiveRatio(A,Pe,Me,Ie,ne,Le||!!ae||this.transform.pitch>0,me),{perspectiveRatio:Qe}=$e,He=(H?E/Qe:E*Qe)/n.br,Ue=Dr(Pe,Me,Ie,j),gt=$e.signedDistanceFromCamera>0?Vl(He,w,m.lineOffsetX*He,m.lineOffsetY*He,!1,Ue,Ce,m,b,j,{},ae&&!H?Fe:null,H&&!!ae,me,ne,H):null;let Ft=!1,Dt=!1,Gt=!0;if(gt&&!$e.occluded){const Qt=.5*ee*Qe+oe,st=new n.P(-100,-100),Ot=new n.P(this.screenRightBoundary,this.screenBottomBoundary),_t=new Qa,{first:Lt,last:jt}=gt,At=Lt.path.length;let ei=[];for(let fi=At-1;fi>=1;fi--)ei.push(Lt.path[fi]);for(let fi=1;fi<jt.path.length;fi++)ei.push(jt.path[fi]);const bi=2.5*Qt;$&&(ei=ei.map(([fi,Si,ri],ki)=>(Fe&&!Le&&(ri=Fe(ki<At-1?Lt.tilePath[At-1-ki]:jt.tilePath[ki-At+2])[2]),Dr(fi,Si,ri,$))),ei.some(fi=>fi[3]<=0)&&(ei=[]));let Fi=[];if(ei.length>0){let fi=1/0,Si=-1/0,ri=1/0,ki=-1/0;for(const Ki of ei)fi=Math.min(fi,Ki[0]),ri=Math.min(ri,Ki[1]),Si=Math.max(Si,Ki[0]),ki=Math.max(ki,Ki[1]);Si>=st.x&&fi<=Ot.x&&ki>=st.y&&ri<=Ot.y&&(Fi=[ei.map(Ki=>new n.P(Ki[0],Ki[1]))],(fi<st.x||Si>Ot.x||ri<st.y||ki>Ot.y)&&(Fi=n.bp(Fi,st.x,st.y,Ot.x,Ot.y)))}for(const fi of Fi){_t.reset(fi,.25*Qt);let Si=0;Si=_t.length<=.5*Qt?1:Math.ceil(_t.paddedLength/bi)+1;for(let ri=0;ri<Si;ri++){const ki=ri/Math.max(Si-1,1),Ki=_t.lerp(ki),cn=Ki.x+pa,qn=Ki.y+pa;se.push(cn,qn,Qt,0);const _n=cn-Qt,Jn=qn-Qt,Fn=cn+Qt,Wn=qn+Qt;if(Gt=Gt&&this.isOffscreen(_n,Jn,Fn,Wn),Dt=Dt||this.isInsideGrid(_n,Jn,Fn,Wn),!d&&this.grid.hitTestCircle(cn,qn,Qt,W)&&(Ft=!0,!z))return{circles:[],offscreen:!1,collisionDetected:Ft,occluded:!1}}}}return{circles:!z&&Ft||!Dt?[]:se,offscreen:Gt,collisionDetected:Ft,occluded:$e.occluded}}queryRenderedSymbols(r){if(r.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const d=[];let m=1/0,b=1/0,w=-1/0,E=-1/0;for(const z of r){const H=new n.P(z.x+pa,z.y+pa);m=Math.min(m,H.x),b=Math.min(b,H.y),w=Math.max(w,H.x),E=Math.max(E,H.y),d.push(H)}const A=this.grid.query(m,b,w,E).concat(this.ignoredGrid.query(m,b,w,E)),j={},$={};for(const z of A){const H=z.key;if(j[H.bucketInstanceId]===void 0&&(j[H.bucketInstanceId]={}),j[H.bucketInstanceId][H.featureIndex])continue;const W=[new n.P(z.x1,z.y1),new n.P(z.x2,z.y1),new n.P(z.x2,z.y2),new n.P(z.x1,z.y2)];n.bq(d,W)&&(j[H.bucketInstanceId][H.featureIndex]=!0,$[H.bucketInstanceId]===void 0&&($[H.bucketInstanceId]=[]),$[H.bucketInstanceId].push(H.featureIndex))}return $}insertCollisionBox(r,d,m,b,w){(d?this.ignoredGrid:this.grid).insert({bucketInstanceId:m,featureIndex:b,collisionGroupID:w},r[0],r[1],r[2],r[3])}insertCollisionCircles(r,d,m,b,w){const E=d?this.ignoredGrid:this.grid,A={bucketInstanceId:m,featureIndex:b,collisionGroupID:w};for(let j=0;j<r.length;j+=4)E.insertCircle(A,r[j],r[j+1],r[j+2])}projectAndGetPerspectiveRatio(r,d,m,b,w,E,A){const j=[d,m,b,1];let $=!1;b||this.transform.pitch>0?(n.a6.vec4.transformMat4(j,j,r),this.fogState&&w&&A.name!=="globe"&&($=function(W,ee,oe,ne,se,ae){const me=ae.calculateFogTileMatrix(se),Fe=[ee,oe,ne];return n.a6.vec3.transformMat4(Fe,Fe,me),oi(W,n.a6.vec3.length(Fe),ae.pitch,ae._fov)}(this.fogState,d,m,b,w.toUnwrapped(),this.transform)>.9)):Kh(j,j,r);const z=j[3];return{point:new n.P((j[0]/z+1)/2*this.transform.width+pa,(-j[1]/z+1)/2*this.transform.height+pa),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(A)/z*.5,1.5),signedDistanceFromCamera:z,occluded:E&&j[2]>z||$}}isOffscreen(r,d,m,b){return m<pa||r>=this.screenRightBoundary||b<pa||d>this.screenBottomBoundary}isInsideGrid(r,d,m,b){return m>=0&&r<this.gridRightBoundary&&b>=0&&d<this.gridBottomBoundary}getViewportMatrix(){const r=n.a6.mat4.identity([]);return n.a6.mat4.translate(r,r,[-100,-100,0]),r}}function Ur(p,r,d){const m=r.createTileMatrix(p,p.worldSize,d.toUnwrapped());return n.a6.mat4.multiply(new Float32Array(16),p.projMatrix,m)}function s_(p,r,d){if(r.projection.name===d.projection.name)return p.projMatrix;const m=d.clone();return m.setProjection(r.projection),Ur(m,r.getProjection(),p)}function wc(p,r,d){return r.name===d.projection.name?p.projMatrix:Ur(d,r,p)}class qo{constructor(r,d,m,b){this.opacity=r?Math.max(0,Math.min(1,r.opacity+(r.placed?d:-d))):b&&m?1:0,this.placed=m}isHidden(){return this.opacity===0&&!this.placed}}class Gr{constructor(r,d,m,b,w,E=!1){this.text=new qo(r?r.text:null,d,m,w),this.icon=new qo(r?r.icon:null,d,b,w),this.clipped=E}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Ja{constructor(r,d,m,b=!1){this.text=r,this.icon=d,this.skipFade=m,this.clipped=b}}class dr{constructor(){this.invProjMatrix=n.a6.mat4.create(),this.viewportMatrix=n.a6.mat4.create(),this.circles=[]}}class m0{constructor(r,d,m,b,w){this.bucketInstanceId=r,this.featureIndex=d,this.sourceLayerIndex=m,this.bucketIndex=b,this.tileID=w}}class Ya{constructor(r){this.crossSourceCollisions=r,this.maxGroupID=0,this.collisionGroups={}}get(r){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[r]){const d=++this.maxGroupID;this.collisionGroups[r]={ID:d,predicate:m=>m.collisionGroupID===d}}return this.collisionGroups[r]}}function Ul(p,r,d,m,b){const{horizontalAlign:w,verticalAlign:E}=n.by(p),A=-(w-.5)*r,j=-(E-.5)*d,$=n.bx(p,m);return new n.P(A+$[0]*b,j+$[1]*b)}function Xc(p,r,d,m,b){const w=new n.P(p,r);return d&&w._rotate(m?b:-b),w}class Jc{constructor(r,d,m,b,w,E){this.transform=r.clone(),this.projection=r.projection.name,this.collisionIndex=new Br(this.transform,w),this.buildingIndex=E,this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=d,this.retainedQueryData={},this.collisionGroups=new Ya(m),this.collisionCircleArrays={},this.prevPlacement=b,b&&(b.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(r,d,m,b,w=1){const E=m.getBucket(d),A=m.latestFeatureIndex;if(!E||!A||d.fqid!==E.layerIds[0])return;const j=E.layers[0].layout,$=E.layers[0].paint,z=m.collisionBoxArray,H=Math.pow(2,this.transform.zoom-m.tileID.overscaledZ),W=m.tileSize/n.ab,ee=m.tileID.toUnwrapped();this.transform.setProjection(E.projection);const oe=(ne=m.tileID,se=E.getProjection(),ae=this.transform,se.name===this.projection?ae.calculateProjMatrix(ne.toUnwrapped()):Ur(ae,se,ne));var ne,se,ae;const me=j.get("text-pitch-alignment")==="map",Fe=j.get("text-rotation-alignment")==="map";d.compileFilter(d.options);const Ce=d.dynamicFilter(),Pe=d.dynamicFilterNeedsFeature(),Me=this.transform.calculatePixelsToTileUnitsMatrix(m),Ie=pn(oe,m.tileID.canonical,me,Fe,this.transform,E.getProjection(),Me);let Le=null;if(me){const Dt=Yr(oe,m.tileID.canonical,me,Fe,this.transform,E.getProjection(),Me);Le=n.a6.mat4.multiply([],this.transform.labelPlaneMatrix,Dt)}let $e=null;Ce&&m.latestFeatureIndex&&($e={unwrappedTileID:ee,dynamicFilter:Ce,dynamicFilterNeedsFeature:Pe}),this.retainedQueryData[E.bucketInstanceId]=new m0(E.bucketInstanceId,A,E.sourceLayerIndex,E.index,m.tileID);const Qe=E.layers[0].layout.get("text-size-scale-range"),He=n.ap(w,Qe[0],Qe[1]),Ue=E.layers[0].layout.get("icon-size-scale-range"),gt=n.ap(w,Ue[0],Ue[1]),Ft={bucket:E,layout:j,paint:$,posMatrix:oe,textLabelPlaneMatrix:Ie,labelToScreenMatrix:Le,clippingData:$e,scale:H,textPixelRatio:W,holdingForFade:m.holdingForFade(),collisionBoxArray:z,partiallyEvaluatedTextSize:n.bk(E.textSizeData,this.transform.zoom,He),partiallyEvaluatedIconSize:n.bk(E.iconSizeData,this.transform.zoom,gt),collisionGroup:this.collisionGroups.get(E.sourceID),latestFeatureIndex:m.latestFeatureIndex};if(b)for(const Dt of E.sortKeyRanges){const{sortKey:Gt,symbolInstanceStart:Qt,symbolInstanceEnd:st}=Dt;r.push({sortKey:Gt,symbolInstanceStart:Qt,symbolInstanceEnd:st,parameters:Ft})}else r.push({symbolInstanceStart:0,symbolInstanceEnd:E.symbolInstances.length,parameters:Ft})}attemptAnchorPlacement(r,d,m,b,w,E,A,j,$,z,H,W,ee,oe,ne,se,ae,me){const{textOffset0:Fe,textOffset1:Ce,crossTileID:Pe}=W,Me=[Fe,Ce],Ie=Ul(r,m,b,Me,w),Le=this.collisionIndex.placeCollisionBox(oe,w,d,Xc(Ie.x,Ie.y,E,A,this.transform.angle),H,j,$,z.predicate);if(se){const $e=oe.getSymbolInstanceIconSize(me,this.transform.zoom,W.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(oe,$e,se,Xc(Ie.x,Ie.y,E,A,this.transform.angle),H,j,$,z.predicate).box.length===0)return}if(Le.box.length>0){let $e;return this.prevPlacement&&this.prevPlacement.variableOffsets[Pe]&&this.prevPlacement.placements[Pe]&&this.prevPlacement.placements[Pe].text&&($e=this.prevPlacement.variableOffsets[Pe].anchor),this.variableOffsets[Pe]={textOffset:Me,width:m,height:b,anchor:r,textScale:w,prevAnchor:$e},this.markUsedJustification(oe,r,W,ne),oe.allowVerticalPlacement&&(this.markUsedOrientation(oe,ne,W),this.placedOrientations[Pe]=ne),{shift:Ie,placedGlyphBoxes:Le}}}placeLayerBucketPart(r,d,m,b,w=1){const{bucket:E,layout:A,paint:j,posMatrix:$,textLabelPlaneMatrix:z,labelToScreenMatrix:H,clippingData:W,textPixelRatio:ee,holdingForFade:oe,collisionBoxArray:ne,partiallyEvaluatedTextSize:se,partiallyEvaluatedIconSize:ae,collisionGroup:me,latestFeatureIndex:Fe}=r.parameters,Ce=A.get("text-optional"),Pe=A.get("icon-optional"),Me=A.get("text-allow-overlap"),Ie=A.get("icon-allow-overlap"),Le=A.get("text-rotation-alignment")==="map",$e=A.get("text-pitch-alignment")==="map",Qe=A.get("symbol-z-elevate"),He=j.get("symbol-z-offset"),Ue=A.get("symbol-elevation-reference")==="sea",gt=A.get("text-size-scale-range"),Ft=A.get("icon-size-scale-range"),Dt=n.ap(w,gt[0],gt[1]),Gt=n.ap(w,Ft[0],Ft[1]);this.transform.setProjection(E.projection);let Qt=Me&&(Ie||!E.hasIconData()||Pe),st=Ie&&(Me||!E.hasTextData()||Ce);const Ot=!He.isConstant();!E.collisionArrays&&ne&&E.deserializeCollisionBoxes(ne),m&&b&&E.updateCollisionDebugBuffers(this.transform.zoom,ne,Dt,Gt);const _t=(Lt,jt,At)=>{const{crossTileID:ei,numVerticalGlyphVertices:bi}=Lt;let Fi=null;if(W&&W.dynamicFilterNeedsFeature||Ot){const mn=this.retainedQueryData[E.bucketInstanceId];Fi=Fe.loadFeature({featureIndex:Lt.featureIndex,bucketIndex:mn.bucketIndex,sourceLayerIndex:mn.sourceLayerIndex,layoutVertexArrayOffset:0})}if(W&&!(0,W.dynamicFilter)({zoom:this.transform.zoom,pitch:this.transform.pitch},Fi,this.retainedQueryData[E.bucketInstanceId].tileID.canonical,new n.P(Lt.tileAnchorX,Lt.tileAnchorY),this.transform.calculateDistanceTileData(W.unwrappedTileID)))return this.placements[ei]=new Ja(!1,!1,!1,!0),void d.add(ei);const fi=He.evaluate(Fi,{});if(d.has(ei))return;if(oe)return void(this.placements[ei]=new Ja(!1,!1,!1));let Si=!1,ri=!1,ki=!0,Ki=!1,cn=!1,qn=null,_n={box:null,offscreen:null,occluded:null},Jn={box:null,offscreen:null,occluded:null},Fn=null,Wn=null,nn=null,Gn=0,zn=0,Rn=0;At.textFeatureIndex?Gn=At.textFeatureIndex:Lt.useRuntimeCollisionCircles&&(Gn=Lt.featureIndex),At.verticalTextFeatureIndex&&(zn=At.verticalTextFeatureIndex);const ao=mn=>{mn.tileID=this.retainedQueryData[E.bucketInstanceId].tileID;const ln=this.transform.elevation;mn.elevation=Ue?fi:fi+(ln?ln.getAtTileOffset(mn.tileID,mn.tileAnchorX,mn.tileAnchorY):0),mn.elevation+=Lt.zOffset},er=At.textBox;if(er){ao(er);const mn=Cn=>{let Zn=n.bl.horizontal;if(E.allowVerticalPlacement&&!Cn&&this.prevPlacement){const Io=this.prevPlacement.placedOrientations[ei];Io&&(this.placedOrientations[ei]=Io,Zn=Io,this.markUsedOrientation(E,Zn,Lt))}return Zn},ln=(Cn,Zn)=>{if(E.allowVerticalPlacement&&bi>0&&At.verticalTextBox){for(const Io of E.writingModes)if(Io===n.bl.vertical?(_n=Zn(),Jn=_n):_n=Cn(),_n&&_n.box&&_n.box.length)break}else _n=Cn()};if(A.get("text-variable-anchor")){let Cn=A.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[ei]){const so=this.prevPlacement.variableOffsets[ei];Cn.indexOf(so.anchor)>0&&(Cn=Cn.filter(ur=>ur!==so.anchor),Cn.unshift(so.anchor))}const Zn=(so,ur,vs)=>{const ia=E.getSymbolInstanceTextSize(se,Lt,this.transform.zoom,jt),na=(so.x2-so.x1)*ia+2*so.padding,Da=(so.y2-so.y1)*ia+2*so.padding,is=Lt.hasIconTextFit&&!Ie?ur:null;is&&ao(is);let oa={box:[],offscreen:!1,occluded:!1};const Zs=Me?2*Cn.length:Cn.length;for(let Ba=0;Ba<Zs;++Ba){const Mn=this.attemptAnchorPlacement(Cn[Ba%Cn.length],so,na,Da,ia,Le,$e,ee,$,me,Ba>=Cn.length,Lt,jt,E,vs,is,se,ae);if(Mn&&(oa=Mn.placedGlyphBoxes,oa&&oa.box&&oa.box.length)){Si=!0,qn=Mn.shift;break}}return oa};ln(()=>Zn(er,At.iconBox,n.bl.horizontal),()=>{const so=At.verticalTextBox;return so&&ao(so),E.allowVerticalPlacement&&!(_n&&_n.box&&_n.box.length)&&bi>0&&so?Zn(so,At.verticalIconBox,n.bl.vertical):{box:null,offscreen:null,occluded:null}}),_n&&(Si=_n.box,ki=_n.offscreen,Ki=_n.occluded);const Io=mn(!(!_n||!_n.box));if(!Si&&this.prevPlacement){const so=this.prevPlacement.variableOffsets[ei];so&&(this.variableOffsets[ei]=so,this.markUsedJustification(E,so.anchor,Lt,Io))}}else{const Cn=(Zn,Io)=>{const so=E.getSymbolInstanceTextSize(se,Lt,this.transform.zoom,jt,w),ur=this.collisionIndex.placeCollisionBox(E,so,Zn,new n.P(0,0),Me,ee,$,me.predicate);return ur&&ur.box&&ur.box.length&&(this.markUsedOrientation(E,Io,Lt),this.placedOrientations[ei]=Io),ur};ln(()=>Cn(er,n.bl.horizontal),()=>{const Zn=At.verticalTextBox;return E.allowVerticalPlacement&&bi>0&&Zn?(ao(Zn),Cn(Zn,n.bl.vertical)):{box:null,offscreen:null,occluded:null}}),mn(!!(_n&&_n.box&&_n.box.length))}}if(Fn=_n,Si=Fn&&Fn.box&&Fn.box.length>0,ki=Fn&&Fn.offscreen,Ki=Fn&&Fn.occluded,Lt.useRuntimeCollisionCircles){const mn=E.text.placedSymbolArray.get(Lt.centerJustifiedTextSymbolIndex>=0?Lt.centerJustifiedTextSymbolIndex:Lt.verticalPlacedTextSymbolIndex),ln=n.bm(E.textSizeData,se,mn),Cn=A.get("text-padding");Wn=this.collisionIndex.placeCollisionCircles(E,Me,mn,E.lineVertexArray,E.glyphOffsetArray,ln,$,z,H,m,$e,me.predicate,Lt.collisionCircleDiameter*ln/n.br,Cn,this.retainedQueryData[E.bucketInstanceId].tileID),Si=Me||Wn.circles.length>0&&!Wn.collisionDetected,ki=ki&&Wn.offscreen,Ki=Wn.occluded}if(At.iconFeatureIndex&&(Rn=At.iconFeatureIndex),At.iconBox){const mn=ln=>{ao(ln);const Cn=Lt.hasIconTextFit&&qn?Xc(qn.x,qn.y,Le,$e,this.transform.angle):new n.P(0,0),Zn=E.getSymbolInstanceIconSize(ae,this.transform.zoom,Lt.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(E,Zn,ln,Cn,Ie,ee,$,me.predicate)};Jn&&Jn.box&&Jn.box.length&&At.verticalIconBox?(nn=mn(At.verticalIconBox),ri=nn.box.length>0):(nn=mn(At.iconBox),ri=nn.box.length>0),ki=ki&&nn.offscreen,cn=nn.occluded}const xa=Ce||Lt.numHorizontalGlyphVertices===0&&bi===0,La=Pe||Lt.numIconVertices===0;if(xa||La?La?xa||(ri=ri&&Si):Si=ri&&Si:ri=Si=ri&&Si,Si&&Fn&&Fn.box&&this.collisionIndex.insertCollisionBox(Fn.box,A.get("text-ignore-placement"),E.bucketInstanceId,Jn&&Jn.box&&zn?zn:Gn,me.ID),ri&&nn&&this.collisionIndex.insertCollisionBox(nn.box,A.get("icon-ignore-placement"),E.bucketInstanceId,Rn,me.ID),Wn&&(Si&&this.collisionIndex.insertCollisionCircles(Wn.circles,A.get("text-ignore-placement"),E.bucketInstanceId,Gn,me.ID),m)){const mn=E.bucketInstanceId;let ln=this.collisionCircleArrays[mn];ln===void 0&&(ln=this.collisionCircleArrays[mn]=new dr);for(let Cn=0;Cn<Wn.circles.length;Cn+=4)ln.circles.push(Wn.circles[Cn+0]),ln.circles.push(Wn.circles[Cn+1]),ln.circles.push(Wn.circles[Cn+2]),ln.circles.push(Wn.collisionDetected?1:0)}const ar=E.projection.name!=="globe";Qt=Qt&&(ar||!Ki),st=st&&(ar||!cn),this.placements[ei]=new Ja(Si||Qt,ri||st,ki||E.justReloaded),d.add(ei)};if(Qe&&this.buildingIndex&&(this.buildingIndex.updateZOffset(E,this.retainedQueryData[E.bucketInstanceId].tileID),E.updateZOffset()),E.sortFeaturesByY){const Lt=E.getSortedSymbolIndexes(this.transform.angle);for(let jt=Lt.length-1;jt>=0;--jt){const At=Lt[jt];_t(E.symbolInstances.get(At),At,E.collisionArrays[At])}E.hasAnyZOffset&&n.w(`${E.layerIds[0]} layer symbol-z-elevate: symbols are not sorted by elevation if symbol-z-order is evaluated to viewport-y`)}else if(E.hasAnyZOffset){const Lt=E.getSortedIndexesByZOffset();for(let jt=0;jt<Lt.length;++jt){const At=Lt[jt];_t(E.symbolInstances.get(At),At,E.collisionArrays[At])}}else for(let Lt=r.symbolInstanceStart;Lt<r.symbolInstanceEnd;Lt++)_t(E.symbolInstances.get(Lt),Lt,E.collisionArrays[Lt]);if(m&&E.bucketInstanceId in this.collisionCircleArrays){const Lt=this.collisionCircleArrays[E.bucketInstanceId];n.a6.mat4.invert(Lt.invProjMatrix,$),Lt.viewportMatrix=this.collisionIndex.getViewportMatrix()}E.justReloaded=!1}markUsedJustification(r,d,m,b){const{leftJustifiedTextSymbolIndex:w,centerJustifiedTextSymbolIndex:E,rightJustifiedTextSymbolIndex:A,verticalPlacedTextSymbolIndex:j,crossTileID:$}=m,z=n.bw(d),H=b===n.bl.vertical?j:z==="left"?w:z==="center"?E:z==="right"?A:-1;w>=0&&(r.text.placedSymbolArray.get(w).crossTileID=H>=0&&w!==H?0:$),E>=0&&(r.text.placedSymbolArray.get(E).crossTileID=H>=0&&E!==H?0:$),A>=0&&(r.text.placedSymbolArray.get(A).crossTileID=H>=0&&A!==H?0:$),j>=0&&(r.text.placedSymbolArray.get(j).crossTileID=H>=0&&j!==H?0:$)}markUsedOrientation(r,d,m){const b=d===n.bl.horizontal||d===n.bl.horizontalOnly?d:0,w=d===n.bl.vertical?d:0,{leftJustifiedTextSymbolIndex:E,centerJustifiedTextSymbolIndex:A,rightJustifiedTextSymbolIndex:j,verticalPlacedTextSymbolIndex:$}=m,z=r.text.placedSymbolArray;E>=0&&(z.get(E).placedOrientation=b),A>=0&&(z.get(A).placedOrientation=b),j>=0&&(z.get(j).placedOrientation=b),$>=0&&(z.get($).placedOrientation=w)}commit(r){this.commitTime=r,this.zoomAtLastRecencyCheck=this.transform.zoom;const d=this.prevPlacement;let m=!1;this.prevZoomAdjustment=d?d.zoomAdjustment(this.transform.zoom):0;const b=d?d.symbolFadeChange(r):1,w=d?d.opacities:{},E=d?d.variableOffsets:{},A=d?d.placedOrientations:{};for(const j in this.placements){const $=this.placements[j],z=w[j];z?(this.opacities[j]=new Gr(z,b,$.text,$.icon,null,$.clipped),m=m||$.text!==z.text.placed||$.icon!==z.icon.placed):(this.opacities[j]=new Gr(null,b,$.text,$.icon,$.skipFade,$.clipped),m=m||$.text||$.icon)}for(const j in w){const $=w[j];if(!this.opacities[j]){const z=new Gr($,b,!1,!1);z.isHidden()||(this.opacities[j]=z,m=m||$.text.placed||$.icon.placed)}}for(const j in E)this.variableOffsets[j]||!this.opacities[j]||this.opacities[j].isHidden()||(this.variableOffsets[j]=E[j]);for(const j in A)this.placedOrientations[j]||!this.opacities[j]||this.opacities[j].isHidden()||(this.placedOrientations[j]=A[j]);m?this.lastPlacementChangeTime=r:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=d?d.lastPlacementChangeTime:r)}updateLayerOpacities(r,d,m,b){const w=new Set;for(const E of d){const A=E.getBucket(r);A&&E.latestFeatureIndex&&r.fqid===A.layerIds[0]&&(this.updateBucketOpacities(A,w,E,E.collisionBoxArray,m,b,E.tileID,r.scope),A.layers[0].layout.get("symbol-z-elevate")&&this.buildingIndex&&(this.buildingIndex.updateZOffset(A,E.tileID),A.updateZOffset()))}}updateBucketOpacities(r,d,m,b,w,E,A,j){r.hasTextData()&&r.text.opacityVertexArray.clear(),r.hasIconData()&&r.icon.opacityVertexArray.clear(),r.hasIconCollisionBoxData()&&r.iconCollisionBox.collisionVertexArray.clear(),r.hasTextCollisionBoxData()&&r.textCollisionBox.collisionVertexArray.clear();const $=r.layers[0].layout,z=r.layers[0].paint,H=!!r.layers[0].dynamicFilter(),W=new Gr(null,0,!1,!1,!0),ee=$.get("text-allow-overlap"),oe=$.get("icon-allow-overlap"),ne=$.get("text-variable-anchor"),se=$.get("text-rotation-alignment")==="map",ae=$.get("text-pitch-alignment")==="map",me=z.get("symbol-z-offset"),Fe=$.get("symbol-elevation-reference")==="sea",Ce=!me.isConstant(),Pe=new Gr(null,0,ee&&(oe||!r.hasIconData()||$.get("icon-optional")),oe&&(ee||!r.hasTextData()||$.get("text-optional")),!0);!r.collisionArrays&&b&&(r.hasIconCollisionBoxData()||r.hasTextCollisionBoxData())&&r.deserializeCollisionBoxes(b);const Me=(Le,$e,Qe)=>{for(let He=0;He<$e/4;He++)Le.opacityVertexArray.emplaceBack(Qe)};let Ie=0;E&&r.updateReplacement(A,E);for(let Le=0;Le<r.symbolInstances.length;Le++){const $e=r.symbolInstances.get(Le),{numHorizontalGlyphVertices:Qe,numVerticalGlyphVertices:He,crossTileID:Ue,numIconVertices:gt,tileAnchorX:Ft,tileAnchorY:Dt}=$e;let Gt=null;const Qt=this.retainedQueryData[r.bucketInstanceId];Ce&&$e&&Qt&&(Gt=m.latestFeatureIndex.loadFeature({featureIndex:$e.featureIndex,bucketIndex:Qt.bucketIndex,sourceLayerIndex:Qt.sourceLayerIndex,layoutVertexArrayOffset:0}));const st=me.evaluate(Gt,{}),Ot=d.has(Ue);let _t=this.opacities[Ue];Ot?_t=W:_t||(_t=Pe,this.opacities[Ue]=_t),d.add(Ue);const Lt=Qe>0||He>0,jt=gt>0,At=this.placedOrientations[Ue],ei=At===n.bl.vertical,bi=At===n.bl.horizontal||At===n.bl.horizontalOnly;!Lt&&!jt||_t.isHidden()||Ie++;let Fi=!1;if((Lt||jt)&&E)for(const fi of r.activeReplacements){if(n.bs(fi,w,n.bt.Symbol,j)||fi.min.x>Ft||Ft>fi.max.x||fi.min.y>Dt||Dt>fi.max.y)continue;const Si=n.bu(Ft,Dt,A.canonical,fi.footprintTileId.canonical);if(Fi=n.bv(Si,fi.footprint),Fi)break}if(Lt){const fi=Fi?Hl:Gl(_t.text);Me(r.text,Qe,ei?Hl:fi),Me(r.text,He,bi?Hl:fi);const Si=_t.text.isHidden(),{leftJustifiedTextSymbolIndex:ri,centerJustifiedTextSymbolIndex:ki,rightJustifiedTextSymbolIndex:Ki,verticalPlacedTextSymbolIndex:cn}=$e,qn=r.text.placedSymbolArray,_n=Si||ei?1:0;ri>=0&&(qn.get(ri).hidden=_n),ki>=0&&(qn.get(ki).hidden=_n),Ki>=0&&(qn.get(Ki).hidden=_n),cn>=0&&(qn.get(cn).hidden=Si||bi?1:0);const Jn=this.variableOffsets[Ue];Jn&&this.markUsedJustification(r,Jn.anchor,$e,At);const Fn=this.placedOrientations[Ue];Fn&&(this.markUsedJustification(r,"left",$e,Fn),this.markUsedOrientation(r,Fn,$e))}if(jt){const fi=Fi?Hl:Gl(_t.icon),{placedIconSymbolIndex:Si,verticalPlacedIconSymbolIndex:ri}=$e,ki=r.icon.placedSymbolArray,Ki=_t.icon.isHidden()?1:0;Si>=0&&(Me(r.icon,gt,ei?Hl:fi),ki.get(Si).hidden=Ki),ri>=0&&(Me(r.icon,$e.numVerticalIconVertices,bi?Hl:fi),ki.get(ri).hidden=Ki)}if(r.hasIconCollisionBoxData()||r.hasTextCollisionBoxData()){const fi=r.collisionArrays[Le];if(fi){let Si=new n.P(0,0),ri=!0;if(fi.textBox||fi.verticalTextBox){if(ne){const Ki=this.variableOffsets[Ue];Ki?(Si=Ul(Ki.anchor,Ki.width,Ki.height,Ki.textOffset,Ki.textScale),se&&Si._rotate(ae?this.transform.angle:-this.transform.angle)):ri=!1}H&&(ri=!_t.clipped),fi.textBox&&Zh(r.textCollisionBox.collisionVertexArray,_t.text.placed,!ri||ei,st,Fe,Si.x,Si.y),fi.verticalTextBox&&Zh(r.textCollisionBox.collisionVertexArray,_t.text.placed,!ri||bi,st,Fe,Si.x,Si.y)}const ki=ri&&!!(!bi&&fi.verticalIconBox);fi.iconBox&&Zh(r.iconCollisionBox.collisionVertexArray,_t.icon.placed,ki,st,Fe,$e.hasIconTextFit?Si.x:0,$e.hasIconTextFit?Si.y:0),fi.verticalIconBox&&Zh(r.iconCollisionBox.collisionVertexArray,_t.icon.placed,!ki,st,Fe,$e.hasIconTextFit?Si.x:0,$e.hasIconTextFit?Si.y:0)}}}if(r.fullyClipped=Ie===0,r.sortFeatures(this.transform.angle),this.retainedQueryData[r.bucketInstanceId]&&(this.retainedQueryData[r.bucketInstanceId].featureSortOrder=r.featureSortOrder),r.hasTextData()&&r.text.opacityVertexBuffer&&r.text.opacityVertexBuffer.updateData(r.text.opacityVertexArray),r.hasIconData()&&r.icon.opacityVertexBuffer&&r.icon.opacityVertexBuffer.updateData(r.icon.opacityVertexArray),r.hasIconCollisionBoxData()&&r.iconCollisionBox.collisionVertexBuffer&&r.iconCollisionBox.collisionVertexBuffer.updateData(r.iconCollisionBox.collisionVertexArray),r.hasTextCollisionBoxData()&&r.textCollisionBox.collisionVertexBuffer&&r.textCollisionBox.collisionVertexBuffer.updateData(r.textCollisionBox.collisionVertexArray),r.bucketInstanceId in this.collisionCircleArrays){const Le=this.collisionCircleArrays[r.bucketInstanceId];r.placementInvProjMatrix=Le.invProjMatrix,r.placementViewportMatrix=Le.viewportMatrix,r.collisionCircleArray=Le.circles,delete this.collisionCircleArrays[r.bucketInstanceId]}}symbolFadeChange(r){return this.fadeDuration===0?1:(r-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(r){return Math.max(0,(this.transform.zoom-r)/1.5)}hasTransitions(r){return this.stale||r-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(r,d){const m=this.zoomAtLastRecencyCheck===d?1-this.zoomAdjustment(d):1;return this.zoomAtLastRecencyCheck=d,this.commitTime+this.fadeDuration*m>r}setStale(){this.stale=!0}}function Zh(p,r,d,m,b,w,E){p.emplaceBack(r?1:0,d?1:0,w||0,E||0,m,b?1:0),p.emplaceBack(r?1:0,d?1:0,w||0,E||0,m,b?1:0),p.emplaceBack(r?1:0,d?1:0,w||0,E||0,m,b?1:0),p.emplaceBack(r?1:0,d?1:0,w||0,E||0,m,b?1:0)}const js=Math.pow(2,25),rv=Math.pow(2,24),c_=Math.pow(2,17),ea=Math.pow(2,16),av=Math.pow(2,9),Qh=Math.pow(2,8),l_=Math.pow(2,1);function Gl(p){if(p.opacity===0&&!p.placed)return 0;if(p.opacity===1&&p.placed)return 4294967295;const r=p.placed?1:0,d=Math.floor(127*p.opacity);return d*js+r*rv+d*c_+r*ea+d*av+r*Qh+d*l_+r}const Hl=0;class sv{constructor(r){this._sortAcrossTiles=r.layout.get("symbol-z-order")!=="viewport-y"&&r.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs=new Set,this._bucketParts=[]}continuePlacement(r,d,m,b,w,E){const A=this._bucketParts;for(;this._currentTileIndex<r.length;)if(d.getBucketParts(A,b,r[this._currentTileIndex],this._sortAcrossTiles,E),this._currentTileIndex++,w())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,A.sort((j,$)=>j.sortKey-$.sortKey));this._currentPartIndex<A.length;){const j=A[this._currentPartIndex];if(d.placeLayerBucketPart(j,this._seenCrossTileIDs,m,j.symbolInstanceStart===0,E),this._currentPartIndex++,w())return!0}return!1}}class Eu{constructor(r,d,m,b,w,E,A,j,$){this.placement=new Jc(r,w,E,A,j,$),this._currentPlacementIndex=d.length-1,this._forceFullPlacement=m,this._showCollisionBoxes=b,this._done=!1}isDone(){return this._done}continuePlacement(r,d,m,b,w){const E=n.q.now(),A=()=>{const j=n.q.now()-E;return!this._forceFullPlacement&&j>2};for(;this._currentPlacementIndex>=0;){const j=d[r[this._currentPlacementIndex]],$=this.placement.collisionIndex.transform.zoom;if(j.type==="symbol"&&(!j.minzoom||j.minzoom<=$)&&(!j.maxzoom||j.maxzoom>$)){const z=j,H=z.layout.get("symbol-z-elevate"),W=z.layout.get("symbol-sort-key").constantOr(1)!==void 0,ee=z.layout.get("symbol-z-order"),oe=ee==="viewport-y"||ee==="auto"&&!(ee!=="viewport-y"&&W),ne=z.layout.get("text-allow-overlap")||z.layout.get("icon-allow-overlap")||z.layout.get("text-ignore-placement")||z.layout.get("icon-ignore-placement"),se=oe&&ne,ae=this._inProgressLayer=this._inProgressLayer||new sv(z),me=n.av(j.source,j.scope);if(ae.continuePlacement(H||se?b[me]:m[me],this.placement,this._showCollisionBoxes,j,A,w))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(r){return this.placement.commit(r),this.placement}}const Yc=512/n.ab/2;class cv{constructor(r,d,m){this.tileID=r,this.bucketInstanceId=m,this.index=new n.bz(d.length,16,Int32Array),this.keys=[],this.crossTileIDs=[];const b=r.canonical.x*n.ab,w=r.canonical.y*n.ab;for(let E=0;E<d.length;E++){const{key:A,crossTileID:j,tileAnchorX:$,tileAnchorY:z}=d.get(E),H=Math.floor((b+$)*Yc),W=Math.floor((w+z)*Yc);this.index.add(H,W),this.keys.push(A),this.crossTileIDs.push(j)}this.index.finish()}findMatches(r,d,m){const b=this.tileID.canonical.z<d.canonical.z?1:Math.pow(2,this.tileID.canonical.z-d.canonical.z),w=Yc/Math.pow(2,d.canonical.z-this.tileID.canonical.z),E=d.canonical.x*n.ab,A=d.canonical.y*n.ab;for(let j=0;j<r.length;j++){const $=r.get(j);if($.crossTileID)continue;const{key:z,tileAnchorX:H,tileAnchorY:W}=$,ee=Math.floor((E+H)*w),oe=Math.floor((A+W)*w),ne=this.index.range(ee-b,oe-b,ee+b,oe+b);for(const se of ne){const ae=this.crossTileIDs[se];if(this.keys[se]===z&&!m.has(ae)){m.add(ae),$.crossTileID=ae;break}}}}}class ql{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class d_{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(r){const d=Math.round((r-this.lng)/360);if(d!==0)for(const m in this.indexes){const b=this.indexes[m],w={};for(const E in b){const A=b[E];A.tileID=A.tileID.unwrapTo(A.tileID.wrap+d),w[A.tileID.key]=A}this.indexes[m]=w}this.lng=r}addBucket(r,d,m){if(this.indexes[r.overscaledZ]&&this.indexes[r.overscaledZ][r.key]){if(this.indexes[r.overscaledZ][r.key].bucketInstanceId===d.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(r.overscaledZ,this.indexes[r.overscaledZ][r.key])}for(let w=0;w<d.symbolInstances.length;w++)d.symbolInstances.get(w).crossTileID=0;this.usedCrossTileIDs[r.overscaledZ]||(this.usedCrossTileIDs[r.overscaledZ]=new Set);const b=this.usedCrossTileIDs[r.overscaledZ];for(const w in this.indexes){const E=this.indexes[w];if(Number(w)>r.overscaledZ)for(const A in E){const j=E[A];j.tileID.isChildOf(r)&&j.findMatches(d.symbolInstances,r,b)}else{const A=E[r.scaledTo(Number(w)).key];A&&A.findMatches(d.symbolInstances,r,b)}}for(let w=0;w<d.symbolInstances.length;w++){const E=d.symbolInstances.get(w);E.crossTileID||(E.crossTileID=m.generate(),b.add(E.crossTileID))}return this.indexes[r.overscaledZ]===void 0&&(this.indexes[r.overscaledZ]={}),this.indexes[r.overscaledZ][r.key]=new cv(r,d.symbolInstances,d.bucketInstanceId),!0}removeBucketCrossTileIDs(r,d){for(const m of d.crossTileIDs)this.usedCrossTileIDs[r].delete(m)}removeStaleBuckets(r){let d=!1;for(const m in this.indexes){const b=this.indexes[m];for(const w in b)r[b[w].bucketInstanceId]||(this.removeBucketCrossTileIDs(m,b[w]),delete b[w],d=!0)}return d}}class Xh{constructor(){this.layerIndexes={},this.crossTileIDs=new ql,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(r,d,m,b){let w=this.layerIndexes[r.fqid];w===void 0&&(w=this.layerIndexes[r.fqid]=new d_);let E=!1;const A={};b.name!=="globe"&&w.handleWrapJump(m);for(const j of d){const $=j.getBucket(r);$&&r.fqid===$.layerIds[0]&&($.bucketInstanceId||($.bucketInstanceId=++this.maxBucketInstanceId),w.addBucket(j.tileID,$,this.crossTileIDs)&&(E=!0),A[$.bucketInstanceId]=!0)}return w.removeStaleBuckets(A)&&(E=!0),E}pruneUnusedLayers(r){const d={};r.forEach(m=>{d[m]=!0});for(const m in this.layerIndexes)d[m]||delete this.layerIndexes[m]}}const ma=771;class rn{constructor(r,d,m,b){this.blendFunction=r,this.blendColor=d,this.mask=m,this.blendEquation=b}}rn.Replace=[1,0,1,0],rn.disabled=new rn(rn.Replace,n.bA.transparent,[!1,!1,!1,!1]),rn.unblended=new rn(rn.Replace,n.bA.transparent,[!0,!0,!0,!0]),rn.alphaBlended=new rn([1,ma,1,ma],n.bA.transparent,[!0,!0,!0,!0]),rn.alphaBlendedNonPremultiplied=new rn([770,ma,770,ma],n.bA.transparent,[!0,!0,!0,!0]),rn.multiply=new rn([774,0,774,0],n.bA.transparent,[!0,!0,!0,!0]);class Pi{constructor(r,d,m){this.func=r,this.mask=d,this.range=m}}Pi.ReadOnly=!1,Pi.ReadWrite=!0,Pi.disabled=new Pi(519,Pi.ReadOnly,[0,1]);const g0=7680;class qi{constructor(r,d,m,b,w,E){this.test=r,this.ref=d,this.mask=m,this.fail=b,this.depthFail=w,this.pass=E}}qi.disabled=new qi({func:519,mask:0},0,0,g0,g0,g0);const _0=1029,Su=2305;class Ni{constructor(r,d,m){this.enable=r,this.mode=d,this.frontFace=m}}function y0(p,r){const d=n.bD(p,3);n.a6.mat4.fromQuat(p,r),n.bF(p,3,d)}function Jh(p,r){const d=n.a6.quat.identity([]);return n.a6.quat.rotateZ(d,d,-r),n.a6.quat.rotateX(d,d,-p),d}function b0(p,r){const d=[p[0],p[1],0],m=[r[0],r[1],0];if(n.a6.vec3.length(d)>=1e-15){const E=n.a6.vec3.normalize([],d);n.a6.vec3.scale(m,E,n.a6.vec3.dot(m,E)),r[0]=m[0],r[1]=m[1]}const b=n.a6.vec3.cross([],r,p);if(n.a6.vec3.len(b)<1e-15)return null;const w=Math.atan2(-b[1],b[0]);return Jh(Math.atan2(Math.sqrt(p[0]*p[0]+p[1]*p[1]),-p[2]),w)}Ni.disabled=new Ni(!1,_0,Su),Ni.backCCW=new Ni(!0,_0,Su),Ni.backCW=new Ni(!0,_0,2304),Ni.frontCW=new Ni(!0,1028,2304),Ni.frontCCW=new Ni(!0,1028,Su);class Fc{constructor(r,d){this.position=r,this.orientation=d}get position(){return this._position}set position(r){if(r){const d=r instanceof n.a5?r:new n.a5(r[0],r[1],r[2]);this._renderWorldCopies&&(d.x=n.bB(d.x,0,1)),this._position=d}else this._position=null}lookAtPoint(r,d){if(this.orientation=null,!this.position)return;const m=this.position,b=this._elevation?this._elevation.getAtPointOrZero(n.a5.fromLngLat(r)):0,w=n.a5.fromLngLat(r,b),E=[w.x-m.x,w.y-m.y,w.z-m.z];d||(d=[0,0,1]),d[2]=Math.abs(d[2]),this.orientation=b0(E,d)}setPitchBearing(r,d){this.orientation=Jh(n.bC(r),n.bC(-d))}}class el{constructor(r,d){this._transform=n.a6.mat4.identity([]),this.orientation=d,this.position=r}get mercatorPosition(){const r=this.position;return new n.a5(r[0],r[1],r[2])}get position(){const r=n.bD(this._transform,3);return[r[0],r[1],r[2]]}set position(r){var d;r&&n.bF(this._transform,3,[(d=r)[0],d[1],d[2],1])}get orientation(){return this._orientation}set orientation(r){this._orientation=r||n.a6.quat.identity([]),r&&y0(this._transform,this._orientation)}getPitchBearing(){const r=this.forward(),d=this.right();return{bearing:Math.atan2(-d[1],d[0]),pitch:Math.atan2(Math.sqrt(r[0]*r[0]+r[1]*r[1]),-r[2])}}setPitchBearing(r,d){this._orientation=Jh(r,d),y0(this._transform,this._orientation)}forward(){const r=n.bD(this._transform,2);return[-r[0],-r[1],-r[2]]}up(){const r=n.bD(this._transform,1);return[-r[0],-r[1],-r[2]]}right(){const r=n.bD(this._transform,0);return[r[0],r[1],r[2]]}getCameraToWorld(r,d){const m=new Float64Array(16);return n.a6.mat4.invert(m,this.getWorldToCamera(r,d)),m}getCameraToWorldMercator(){return this._transform}getWorldToCameraPosition(r,d,m){const b=this.position;n.a6.vec3.scale(b,b,-r);const w=new Float64Array(16);return n.a6.mat4.fromScaling(w,[m,m,m]),n.a6.mat4.translate(w,w,b),w[10]*=d,w}getWorldToCamera(r,d){const m=new Float64Array(16),b=new Float64Array(4),w=this.position;return n.a6.quat.conjugate(b,this._orientation),n.a6.vec3.scale(w,w,-r),n.a6.mat4.fromQuat(m,b),n.a6.mat4.translate(m,m,w),m[1]*=-1,m[5]*=-1,m[9]*=-1,m[13]*=-1,m[8]*=d,m[9]*=d,m[10]*=d,m[11]*=d,m}getCameraToClipPerspective(r,d,m,b){const w=new Float64Array(16);return n.a6.mat4.perspective(w,r,d,m,b),w}getCameraToClipOrthographic(r,d,m,b,w,E){const A=new Float64Array(16);return n.a6.mat4.ortho(A,r,d,m,b,w,E),A}getDistanceToElevation(r,d=!1){const m=r===0?0:n.bE(r,d?n.aN(this.position[1]):this.position[1]),b=this.forward();return(m-this.position[2])/b[2]}clone(){return new el([...this.position],[...this.orientation])}}const Fr={BaseColor:5,MetallicRoughness:6,Normal:7,Occlusion:8,Emission:9,LUT:10,ShadowMap0:11};class Yh{constructor(r=0,d=0,m=0,b=0){if(isNaN(r)||r<0||isNaN(d)||d<0||isNaN(m)||m<0||isNaN(b)||b<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=r,this.bottom=d,this.left=m,this.right=b}interpolate(r,d,m){return d.top!=null&&r.top!=null&&(this.top=n.aa(r.top,d.top,m)),d.bottom!=null&&r.bottom!=null&&(this.bottom=n.aa(r.bottom,d.bottom,m)),d.left!=null&&r.left!=null&&(this.left=n.aa(r.left,d.left,m)),d.right!=null&&r.right!=null&&(this.right=n.aa(r.right,d.right,m)),this}getCenter(r,d){const m=n.ap((this.left+r-this.right)/2,0,r),b=n.ap((this.top+d-this.bottom)/2,0,d);return new n.P(m,b)}equals(r){return this.top===r.top&&this.bottom===r.bottom&&this.left===r.left&&this.right===r.right}clone(){return new Yh(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}const Wl=(p,r,d)=>(1-d)*p+d*r,Kl=p=>p*p*p*p*p;class ef{constructor(r,d,m,b,w,E,A){this.tileSize=512,this._renderWorldCopies=w===void 0||w,this._minZoom=r||0,this._maxZoom=d||22,this._minPitch=m??0,this._maxPitch=b??60,this.setProjection(E),this.setMaxBounds(A),this.width=0,this.height=0,this._center=new n.bL(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Yh,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._expandedProjMatrixCache={},this._distanceTileDataCache={},this._camera=new el,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._tileCoverLift=0,this.freezeTileCoverage=!1,this._horizonShift=.1,this._orthographicProjectionAtLowPitch=!1}clone(){const r=new ef(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return r._elevation=this._elevation,r._centerAltitude=this._centerAltitude,r._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,r.tileSize=this.tileSize,r.mercatorFromTransition=this.mercatorFromTransition,r.width=this.width,r.height=this.height,r.cameraElevationReference=this.cameraElevationReference,r._center=this._center,r._setZoom(this.zoom),r._seaLevelZoom=this._seaLevelZoom,r.angle=this.angle,r._fov=this._fov,r._pitch=this._pitch,r._nearZ=this._nearZ,r._farZ=this._farZ,r._averageElevation=this._averageElevation,r._orthographicProjectionAtLowPitch=this._orthographicProjectionAtLowPitch,r._unmodified=this._unmodified,r._edgeInsets=this._edgeInsets.clone(),r._camera=this._camera.clone(),r._calcMatrices(),r.freezeTileCoverage=this.freezeTileCoverage,r.frustumCorners=this.frustumCorners,r}get isOrthographic(){return this.projection.name!=="globe"&&this._orthographicProjectionAtLowPitch&&this.pitch<15}get elevation(){return this._elevation}set elevation(r){this._elevation!==r&&(this._elevation=r,this._updateCameraOnTerrain(),this._calcMatrices())}get depthOcclusionForSymbolsAndCircles(){return this.projection.name!=="globe"&&!this.isOrthographic}updateElevation(r,d=!1){const m=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||m)&&this._updateCameraOnTerrain(),(r||m)&&this._constrainCamera(d),this._calcMatrices()}getProjection(){return n.ar(this.projection,["name","center","parallels"])}setProjection(r){this.projectionOptions=r||{name:"mercator"};const d=this.projection?this.getProjection():void 0;this.projection=n.bM(this.projectionOptions);const m=this.getProjection(),b=!n.bi(d,m);return b&&this._calcMatrices(),this.mercatorFromTransition=!1,b}setOrthographicProjectionAtLowPitch(r){return this._orthographicProjectionAtLowPitch!==r&&(this._orthographicProjectionAtLowPitch=r,this._calcMatrices(),!0)}setMercatorFromTransition(){const r=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=n.bM({name:"mercator"});const d=r!==this.projection.name;return d&&this._calcMatrices(),d}get minZoom(){return this._minZoom}set minZoom(r){this._minZoom!==r&&(this._minZoom=r,this.zoom=Math.max(this.zoom,r))}get maxZoom(){return this._maxZoom}set maxZoom(r){this._maxZoom!==r&&(this._maxZoom=r,this.zoom=Math.min(this.zoom,r))}get minPitch(){return this._minPitch}set minPitch(r){this._minPitch!==r&&(this._minPitch=r,this.pitch=Math.max(this.pitch,r))}get maxPitch(){return this._maxPitch}set maxPitch(r){this._maxPitch!==r&&(this._maxPitch=r,this.pitch=Math.min(this.pitch,r))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(r){r===void 0?r=!0:r===null&&(r=!1),this._renderWorldCopies=r}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const r=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(r))}get cameraWorldSize(){const r=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(r))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return n.bE(1,this.center.lat)*this.cameraWorldSizeForFog}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new n.P(this.width,this.height)}get bearing(){return n.bB(this.rotation,-180,180)}set bearing(r){this.rotation=r}get rotation(){return-this.angle/Math.PI*180}set rotation(r){const d=-r*Math.PI/180;this.angle!==d&&(this._unmodified=!1,this.angle=d,this._calcMatrices(),this.rotationMatrix=n.a6.mat2.create(),n.a6.mat2.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(r){const d=n.ap(r,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==d&&(this._unmodified=!1,this._pitch=d,this._calcMatrices())}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){const r=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/r)}set fov(r){r=Math.max(.01,Math.min(60,r)),this._fov!==r&&(this._unmodified=!1,this._fov=n.bC(r),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(r){this._averageElevation=r,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(r){const d=Math.min(Math.max(r,this.minZoom),this.maxZoom);this._zoom!==d&&(this._unmodified=!1,this._setZoom(d),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(r){this._zoom=r,this.scale=this.zoomScale(r),this.tileZoom=Math.floor(r),this.zoomFraction=r-this.tileZoom}get tileCoverLift(){return this._tileCoverLift}set tileCoverLift(r){this._tileCoverLift!==r&&(this._tileCoverLift=r)}_updateCameraOnTerrain(){const r=this.elevation?this.elevation.getAtPoint(this.locationCoordinate(this.center),Number.NEGATIVE_INFINITY):Number.NEGATIVE_INFINITY,d=this.elevation&&r===Number.NEGATIVE_INFINITY&&this.elevation.visibleDemTiles.length>0&&this.elevation.exaggeration()>0&&this._centerAltitudeValidForExaggeration;if(!this._elevation||r===Number.NEGATIVE_INFINITY&&(!d||!this._centerAltitude))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const m=this._elevation;d||this._centerAltitude&&this._centerAltitudeValidForExaggeration&&m.exaggeration()&&this._centerAltitudeValidForExaggeration!==m.exaggeration()?(this._centerAltitude=this._centerAltitude/this._centerAltitudeValidForExaggeration*m.exaggeration(),this._centerAltitudeValidForExaggeration=m.exaggeration()):(this._centerAltitude=r||0,this._centerAltitudeValidForExaggeration=m.exaggeration()),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const r=this._elevation,d=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],m=this.horizonLineFromTop();let b=0,w=0;for(let E=0;E<d.length;E++){const A=new n.P(d[E][0]*this.width,m+d[E][1]*(this.height-m)),j=r.pointCoordinate(A);if(!j)continue;const $=1/Math.hypot(j[0]-this._camera.position[0],j[1]-this._camera.position[1]);b+=j[3]*$,w+=$}return w===0?NaN:b/w}get center(){return this._center}set center(r){r.lat===this._center.lat&&r.lng===this._center.lng||(this._unmodified=!1,this._center=r,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const r=this._seaLevelZoom,d=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),m=this.pixelsPerMeter/this.worldSize*d,b=this._mercatorZfromZoom(r),w=this._mercatorZfromZoom(this._maxZoom),E=Math.max(b-m,w);this._setZoom(this._zoomFromMercatorZ(E))}get padding(){return this._edgeInsets.toJSON()}set padding(r){this._edgeInsets.equals(r)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,r,1),this._calcMatrices())}computeZoomRelativeTo(r){const d=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,r.toAltitude()));let m;m=r.z<this._camera.position[2]?[d.x,d.y,d.z]:[r.x,r.y,r.z];const b=n.a6.vec3.length(n.a6.vec3.sub([],this._camera.position,m));return n.ap(this._zoomFromMercatorZ(b),this._minZoom,this._maxZoom)}setFreeCameraOptions(r){if(!this.height||!r.position&&!r.orientation)return;this._updateCameraState();let d=!1;if(r.orientation&&!n.a6.quat.exactEquals(r.orientation,this._camera.orientation)&&(d=this._setCameraOrientation(r.orientation)),r.position){const m=[r.position.x,r.position.y,r.position.z];n.a6.vec3.exactEquals(m,this._camera.position)||(this._setCameraPosition(m),d=!0)}d&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const r=this._camera.position,d=new Fc;return d.position=new n.a5(r[0],r[1],r[2]),d.orientation=this._camera.orientation,d._elevation=this.elevation,d._renderWorldCopies=this.renderWorldCopies,d}_setCameraOrientation(r){if(!n.a6.quat.length(r))return!1;n.a6.quat.normalize(r,r);const d=n.a6.vec3.transformQuat([],[0,0,-1],r),m=n.a6.vec3.transformQuat([],[0,-1,0],r);if(m[2]<0)return!1;const b=b0(d,m);return!!b&&(this._camera.orientation=b,!0)}_setCameraPosition(r){const d=this.zoomScale(this.minZoom)*this.tileSize,m=this.zoomScale(this.maxZoom)*this.tileSize,b=this.cameraToCenterDistance;r[2]=n.ap(r[2],b/m,b/d),this._camera.position=r}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(r){return this._edgeInsets.equals(r)}interpolatePadding(r,d,m){this._unmodified=!1,this._edgeInsets.interpolate(r,d,m),this._constrain(),this._calcMatrices()}coveringZoomLevel(r){const d=(r.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/r.tileSize));return Math.max(0,d)}getVisibleUnwrappedCoordinates(r){const d=[new n.bN(0,r)];if(this.renderWorldCopies){const m=this.pointCoordinate(new n.P(0,0)),b=this.pointCoordinate(new n.P(this.width,0)),w=this.pointCoordinate(new n.P(this.width,this.height)),E=this.pointCoordinate(new n.P(0,this.height)),A=Math.floor(Math.min(m.x,b.x,w.x,E.x)),j=Math.floor(Math.max(m.x,b.x,w.x,E.x)),$=1;for(let z=A-$;z<=j+$;z++)z!==0&&d.push(new n.bN(z,r))}return d}isLODDisabled(r){return(!r||this.pitch<=60)&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace}extendTileCover(r,d,m){let b=[];const w=m!==void 0,E=!w;if(E&&this.zoom<d||w&&m[0]===0&&m[1]===0)return b;const A=new Set,j=(z,H,W,ee,oe)=>{const ne=n.c2(H,z,W,ee,oe);A.has(ne)||(b.push(new n.aA(z,H,W,ee,oe)),A.add(ne))};for(let z=0;z<r.length;z++){const H=r[z];if(E&&H.canonical.z!==d)continue;const W=H.canonical,ee=H.overscaledZ,oe=H.wrap,ne=1<<W.z,se=W.x+1<ne,ae=W.x>0,me=W.y+1<ne,Fe=W.y>0,Ce=H.wrap-(ae?0:1),Pe=H.wrap+(se?0:1),Me=ae?W.x-1:ne-1,Ie=se?W.x+1:0;if(w)m[0]<0?(j(ee,Pe,W.z,Ie,W.y),m[1]<0&&me&&(j(ee,oe,W.z,W.x,W.y+1),j(ee,Pe,W.z,Ie,W.y+1)),m[1]>0&&Fe&&(j(ee,oe,W.z,W.x,W.y-1),j(ee,Pe,W.z,Ie,W.y-1))):m[0]>0?(j(ee,Ce,W.z,Me,W.y),m[1]<0&&me&&(j(ee,oe,W.z,W.x,W.y+1),j(ee,Ce,W.z,Me,W.y+1)),m[1]>0&&Fe&&(j(ee,oe,W.z,W.x,W.y-1),j(ee,Ce,W.z,Me,W.y-1))):m[1]<0&&me?j(ee,oe,W.z,W.x,W.y+1):Fe&&j(ee,oe,W.z,W.x,W.y-1);else{const Le=H.visibleQuadrants;1&Le&&(j(ee,Ce,W.z,Me,W.y),Fe&&(j(ee,oe,W.z,W.x,W.y-1),j(ee,Ce,W.z,Me,W.y-1))),2&Le&&(j(ee,Pe,W.z,Ie,W.y),Fe&&(j(ee,oe,W.z,W.x,W.y-1),j(ee,Pe,W.z,Ie,W.y-1))),4&Le&&(j(ee,Ce,W.z,Me,W.y),me&&(j(ee,oe,W.z,W.x,W.y+1),j(ee,Ce,W.z,Me,W.y+1))),8&Le&&(j(ee,Pe,W.z,Ie,W.y),me&&(j(ee,oe,W.z,W.x,W.y+1),j(ee,Pe,W.z,Ie,W.y+1)))}}const $=[];for(const z of b)b.some(H=>z.isChildOf(H))||$.push(z);if(b=$.filter(z=>!r.some(H=>!!(z.overscaledZ<d&&H.isChildOf(z))||z.equals(H)||z.isChildOf(H))),E){const z=1<<d,H=this.projection.name==="globe"?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),W=[z*H.x,z*H.y],ee=4,oe=ee*ee;b=b.filter(ne=>{const se=ne.canonical.x+.5-W[0],ae=ne.canonical.y+.5-W[1];return se*se+ae*ae<oe})}return b}coveringTiles(r){let d=this.coveringZoomLevel(r);const m=d,b=this.elevation&&this.elevation.exaggeration(),w=b&&!r.isTerrainDEM,E=this.projection.name==="mercator";if(r.minzoom!==void 0&&d<r.minzoom)return[];r.maxzoom!==void 0&&d>r.maxzoom&&(d=r.maxzoom);const A=this.locationCoordinate(this.center),j=this.center.lat,$=1<<d,z=[$*A.x,$*A.y,0],H=this.projection.name==="globe",W=!H,ee=n.bO.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,d,W),oe=H?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),ne=$*n.bE(1,this.center.lat),se=this._camera.position[2]/n.bE(1,this.center.lat),ae=[$*oe.x,$*oe.y,se*(W?1:ne)],me=H||b,Fe=this.cameraToCenterDistance/r.tileSize*(r.roundZoom?1:.502),Ce=this.isLODDisabled(!0)?d:0;let Pe;if(this._elevation&&r.isTerrainDEM)Pe=1e4*this._elevation.exaggeration();else if(this._elevation){const st=this._elevation.getMinMaxForVisibleTiles();Pe=st?st.max:this._centerAltitude}else Pe=this._centerAltitude;const Me=r.isTerrainDEM?-Pe:this._elevation?this._elevation.getMinElevationBelowMSL():0,Ie=this.projection.isReprojectedInTileSpace?n.bP(this):1,Le=st=>{const _t=new n.a5(st.x+25e-6,st.y,st.z),Lt=new n.a5(st.x,st.y+25e-6,st.z),jt=st.toLngLat(),At=_t.toLngLat(),ei=Lt.toLngLat(),bi=this.locationCoordinate(jt),Fi=this.locationCoordinate(At),fi=this.locationCoordinate(ei),Si=Math.hypot(Fi.x-bi.x,Fi.y-bi.y),ri=Math.hypot(fi.x-bi.x,fi.y-bi.y);return Math.sqrt(Si*ri)*Ie/25e-6},$e=st=>{const Ot=Pe,_t=Me;return{aabb:n.bS(this,$,0,0,0,st,_t,Ot,this.projection),zoom:0,x:0,y:0,minZ:_t,maxZ:Ot,wrap:st,fullyVisible:!1}},Qe=[];let He=[];const Ue=d,gt=r.reparseOverscaled?m:d,Ft=(se-this._centerAltitude)*ne,Dt=st=>{if(!this._elevation||!st.tileID||!E)return;const Ot=this._elevation.getMinMaxForTile(st.tileID),_t=st.aabb;Ot?(_t.min[2]=Ot.min,_t.max[2]=Ot.max,_t.center[2]=(_t.min[2]+_t.max[2])/2):(st.shouldSplit=Qt(st),st.shouldSplit||(_t.min[2]=_t.max[2]=_t.center[2]=this._centerAltitude))},Gt=(st,Ot)=>{if(.707*Ot<st)return 1;const _t=Ot/st;return _t/(1.4144271570014144+(Math.pow(1.1,_t-1.4144271570014144+1)-1)/(1.1-1)-1)},Qt=st=>{if(st.zoom<Ce)return!0;if(st.zoom===Ue)return!1;if(st.shouldSplit!=null)return st.shouldSplit;const Ot=st.aabb.distanceX(ae),_t=st.aabb.distanceY(ae);let Lt=Ft,jt=1;if(H){Lt=st.aabb.distanceZ(ae);const ri=Math.pow(2,st.zoom),ki=n.aN((st.y+1)/ri),Ki=n.aN(st.y/ri),cn=Math.min(Math.max(j,ki),Ki),qn=n.c6(cn)/n.c6(j);if(jt=cn===j?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,qn/this._mercatorScaleRatio),this.zoom<=n.c3&&st.zoom===Ue-1&&qn>=.9)return!0}else if(w&&(Lt=st.aabb.distanceZ(ae)*ne),this.projection.isReprojectedInTileSpace&&m<=5){const ri=Math.pow(2,st.zoom),ki=Le(new n.a5((st.x+.5)/ri,(st.y+.5)/ri));jt=ki>.85?1:ki}if(!E){const ri=Math.sqrt(Ot*Ot+_t*_t+Lt*Lt);let ki=(1<<Ue-st.zoom)*Fe*jt;return ki*=Gt(Math.max(Lt,Ft),ri),ri<ki}let At=Number.MAX_VALUE,ei=0;const bi=st.aabb.getCorners(),Fi=[];for(const ri of bi){n.a6.vec3.sub(Fi,ri,ae),H||(w?Fi[2]*=ne:Fi[2]=Ft);const ki=n.a6.vec3.dot(Fi,this._camera.forward());ki<At&&(At=ki,ei=Math.abs(Fi[2]))}let fi=(1<<Ue-st.zoom)*Fe*jt;if(fi*=Gt(Math.max(ei,Ft),At),At<fi)return!0;const Si=st.aabb.closestPoint(z);return Si[0]===z[0]&&Si[1]===z[1]};if(this.renderWorldCopies)for(let st=1;st<=3;st++)Qe.push($e(-st)),Qe.push($e(st));for(Qe.push($e(0));Qe.length>0;){const st=Qe.pop(),Ot=st.x,_t=st.y;let Lt=st.fullyVisible;const jt=()=>this.projection.name==="globe"&&(st.y===0||st.y===(1<<st.zoom)-1);if(!Lt){let At=me?st.aabb.intersects(ee):st.aabb.intersectsFlat(ee);if(At===0&&jt()){const ei=new n.bQ(st.zoom,Ot,_t);At=n.bR(this,$,ei,!0).intersects(ee)}if(At===0)continue;Lt=At===2}if(st.zoom!==Ue&&Qt(st))for(let At=0;At<4;At++){const ei=(Ot<<1)+At%2,bi=(_t<<1)+(At>>1),Fi={aabb:E?st.aabb.quadrant(At):n.bS(this,$,st.zoom+1,ei,bi,st.wrap,st.minZ,st.maxZ,this.projection),zoom:st.zoom+1,x:ei,y:bi,wrap:st.wrap,fullyVisible:Lt,tileID:void 0,shouldSplit:void 0,minZ:st.minZ,maxZ:st.maxZ};w&&!H&&(Fi.tileID=new n.aA(st.zoom+1===Ue?gt:st.zoom+1,st.wrap,st.zoom+1,ei,bi),Dt(Fi)),Qe.push(Fi)}else{const At=st.zoom===Ue?gt:st.zoom;if(r.minzoom&&r.minzoom>At)continue;let ei=0;if(!Lt){let Si=me?st.aabb.intersectsPrecise(ee):st.aabb.intersectsPreciseFlat(ee);if(Si===0&&jt()){const ri=new n.bQ(st.zoom,Ot,_t);Si=n.bR(this,$,ri,!0).intersectsPrecise(ee)}if(Si===0)continue;if(r.calculateQuadrantVisibility)if(ee.containsPoint(st.aabb.center))ei=15;else for(let ri=0;ri<4;ri++)st.aabb.quadrant(ri).intersects(ee)!==0&&(ei|=1<<ri)}const bi=z[0]-(.5+Ot+(st.wrap<<st.zoom))*(1<<d-st.zoom),Fi=z[1]-.5-_t,fi=st.tileID?st.tileID:new n.aA(At,st.wrap,st.zoom,Ot,_t);r.calculateQuadrantVisibility&&(fi.visibleQuadrants=ei),He.push({tileID:fi,distanceSq:bi*bi+Fi*Fi})}}if(this.fogCullDistSq){const st=this.fogCullDistSq,Ot=this.horizonLineFromTop();He=He.filter(_t=>{const Lt=[0,0,0,1],jt=[n.ab,n.ab,0,1],At=this.calculateFogTileMatrix(_t.tileID.toUnwrapped());n.a6.vec4.transformMat4(Lt,Lt,At),n.a6.vec4.transformMat4(jt,jt,At);const ei=n.a6.vec4.min([],Lt,jt),bi=n.a6.vec4.max([],Lt,jt),Fi=n.bT(ei,bi);if(Fi===0)return!0;let fi=!1;const Si=this._elevation;if(Si&&Fi>st&&Ot!==0){const ri=this.calculateProjMatrix(_t.tileID.toUnwrapped());let ki;r.isTerrainDEM||(ki=Si.getMinMaxForTile(_t.tileID)),ki||(ki={min:Me,max:Pe});const Ki=n.c4(this.rotation),cn=[Ki[0]*n.ab,Ki[1]*n.ab,ki.max];n.a6.vec3.transformMat4(cn,cn,ri),fi=(1-cn[1])*this.height*.5<Ot}return Fi<st||fi})}return He.sort((st,Ot)=>st.distanceSq-Ot.distanceSq).map(st=>st.tileID)}resize(r,d){this.width=r,this.height=d,this.pixelsToGLUnits=[2/r,-2/d],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(r){return Math.pow(2,r)}scaleZoom(r){return Math.log(r)/Math.LN2}project(r){const d=n.ap(r.lat,-n.bU,n.bU),m=this.projection.project(r.lng,d);return new n.P(m.x*this.worldSize,m.y*this.worldSize)}unproject(r){return this.projection.unproject(r.x/this.worldSize,r.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/n.bE(1,this.center.lat)/this.worldSize}setLocationAtPoint(r,d){let m,b;const w=this.centerPoint;if(this.projection.name==="globe"){const A=this.worldSize;m=(d.x-w.x)/A,b=(d.y-w.y)/A}else{const A=this.pointCoordinate(d),j=this.pointCoordinate(w);m=A.x-j.x,b=A.y-j.y}const E=this.locationCoordinate(r);this.setLocation(new n.a5(E.x-m,E.y-b))}setLocation(r){this.center=this.coordinateLocation(r),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(r){return this.projection.locationPoint(this,r)}locationPoint3D(r){return this.projection.locationPoint(this,r,!0)}pointLocation(r){return this.coordinateLocation(this.pointCoordinate(r))}pointLocation3D(r){return this.coordinateLocation(this.pointCoordinate3D(r))}locationCoordinate(r,d){const m=d?n.bE(d,r.lat):void 0,b=this.projection.project(r.lng,r.lat);return new n.a5(b.x,b.y,m)}coordinateLocation(r){return this.projection.unproject(r.x,r.y)}pointRayIntersection(r,d){const m=d??this._centerAltitude,b=[r.x,r.y,0,1],w=[r.x,r.y,1,1];n.a6.vec4.transformMat4(b,b,this.pixelMatrixInverse),n.a6.vec4.transformMat4(w,w,this.pixelMatrixInverse);const E=w[3];n.a6.vec4.scale(b,b,1/b[3]),n.a6.vec4.scale(w,w,1/E);const A=b[2],j=w[2];return{p0:b,p1:w,t:A===j?0:(m-A)/(j-A)}}screenPointToMercatorRay(r){const d=[r.x,r.y,0,1],m=[r.x,r.y,1,1];return n.a6.vec4.transformMat4(d,d,this.pixelMatrixInverse),n.a6.vec4.transformMat4(m,m,this.pixelMatrixInverse),n.a6.vec4.scale(d,d,1/d[3]),n.a6.vec4.scale(m,m,1/m[3]),d[2]=n.bE(d[2],this._center.lat)*this.worldSize,m[2]=n.bE(m[2],this._center.lat)*this.worldSize,n.a6.vec4.scale(d,d,1/this.worldSize),n.a6.vec4.scale(m,m,1/this.worldSize),new n.aj([d[0],d[1],d[2]],n.a6.vec3.normalize([],n.a6.vec3.sub([],m,d)))}rayIntersectionCoordinate(r){const{p0:d,p1:m,t:b}=r,w=n.bE(d[2],this._center.lat),E=n.bE(m[2],this._center.lat);return new n.a5(n.aa(d[0],m[0],b)/this.worldSize,n.aa(d[1],m[1],b)/this.worldSize,n.aa(w,E,b))}pointCoordinate(r,d=this._centerAltitude){return this.projection.pointCoordinate(this,r.x,r.y,d)}pointCoordinate3D(r){if(!this.elevation)return this.pointCoordinate(r);let d=this.projection.pointCoordinate3D(this,r.x,r.y);if(d)return new n.a5(d[0],d[1],d[2]);let m=0,b=this.horizonLineFromTop();if(r.y>b)return this.pointCoordinate(r);const w=.02*b,E=r.clone();for(let A=0;A<10&&b-m>w;A++){E.y=n.aa(m,b,.66);const j=this.projection.pointCoordinate3D(this,E.x,E.y);j?(b=E.y,d=j):m=E.y}return d?new n.a5(d[0],d[1],d[2]):this.pointCoordinate(r)}isPointAboveHorizon(r){return this.projection.isPointAboveHorizon(this,r)}isPointOnSurface(r){if(r.y<0||r.y>this.height||r.x<0||r.x>this.width)return!1;if(this.elevation||this.zoom>=n.bV)return!this.isPointAboveHorizon(r);const d=this.pointCoordinate(r);return d.y>=0&&d.y<=1}_coordinatePoint(r,d){const m=d&&this.elevation?this.elevation.getAtPointOrZero(r,this._centerAltitude):this._centerAltitude,b=[r.x*this.worldSize,r.y*this.worldSize,m+r.toAltitude(),1];return n.a6.vec4.transformMat4(b,b,this.pixelMatrix),b[3]>0?new n.P(b[0]/b[3],b[1]/b[3]):new n.P(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){const{top:r,left:d}=this._edgeInsets,m=this.height-this._edgeInsets.bottom,b=this.width-this._edgeInsets.right,w=this.pointLocation3D(new n.P(d,r)),E=this.pointLocation3D(new n.P(b,r)),A=this.pointLocation3D(new n.P(b,m)),j=this.pointLocation3D(new n.P(d,m));let $=Math.min(w.lng,E.lng,A.lng,j.lng),z=Math.max(w.lng,E.lng,A.lng,j.lng),H=Math.min(w.lat,E.lat,A.lat,j.lat),W=Math.max(w.lat,E.lat,A.lat,j.lat);const ee=Math.pow(2,-this.zoom)/16*270,oe=this.projection.name==="globe"?1:4,ne=(se,ae,me,Fe,Ce)=>{const Pe=(se+me)/2,Me=(ae+Fe)/2,Ie=new n.P(Pe,Me),{lng:Le,lat:$e}=this.pointLocation3D(Ie),Qe=Math.max(0,$-Le,H-$e,Le-z,$e-W);$=Math.min($,Le),z=Math.max(z,Le),H=Math.min(H,$e),W=Math.max(W,$e),(Ce<oe||Qe>ee)&&(ne(se,ae,Pe,Me,Ce+1),ne(Pe,Me,me,Fe,Ce+1))};if(ne(d,r,b,r,1),ne(b,r,b,m,1),ne(b,m,d,m,1),ne(d,m,d,r,1),this.projection.name==="globe"){const[se,ae]=n.bW(this);se?(W=90,z=180,$=-180):ae&&(H=-90,z=180,$=-180)}return new n.as(new n.bL($,H),new n.bL(z,W))}_getBoundsRectangular(r,d){const{top:m,left:b}=this._edgeInsets,w=this.height-this._edgeInsets.bottom,E=this.width-this._edgeInsets.right,A=new n.P(b,m),j=new n.P(E,m),$=new n.P(E,w),z=new n.P(b,w);let H=this.pointCoordinate(A,r),W=this.pointCoordinate(j,r);const ee=this.pointCoordinate($,d),oe=this.pointCoordinate(z,d),ne=(se,ae)=>(ae.y-se.y)/(ae.x-se.x);return H.y>1&&W.y>=0?H=new n.a5((1-oe.y)/ne(oe,H)+oe.x,1):H.y<0&&W.y<=1&&(H=new n.a5(-oe.y/ne(oe,H)+oe.x,0)),W.y>1&&H.y>=0?W=new n.a5((1-ee.y)/ne(ee,W)+ee.x,1):W.y<0&&H.y<=1&&(W=new n.a5(-ee.y/ne(ee,W)+ee.x,0)),new n.as().extend(this.coordinateLocation(H)).extend(this.coordinateLocation(W)).extend(this.coordinateLocation(oe)).extend(this.coordinateLocation(ee))}_getBoundsRectangularTerrain(){const r=this.elevation;if(!r.visibleDemTiles.length||r.isUsingMockSource())return this._getBoundsRectangular(0,0);const d=r.visibleDemTiles.reduce((m,b)=>{if(b.dem){const w=b.dem.tree;m.min=Math.min(m.min,w.minimums[0]),m.max=Math.max(m.max,w.maximums[0])}return m},{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(d.min*r.exaggeration(),d.max*r.exaggeration())}getBounds(){return this.projection.name==="mercator"||this.projection.name==="equirectangular"?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(r=!0){const d=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))-this.centerOffset.y,m=this.height/2-d*(1-this._horizonShift);return r?Math.max(0,m):m}getMaxBounds(){return this.maxBounds}setMaxBounds(r){this.maxBounds=r,this.minLat=-n.bU,this.maxLat=n.bU,this.minLng=-180,this.maxLng=180,r&&(this.minLat=r.getSouth(),this.maxLat=r.getNorth(),this.minLng=r.getWest(),this.maxLng=r.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=n.am(this.minLng)*this.tileSize,this.worldMaxX=n.am(this.maxLng)*this.tileSize,this.worldMinY=n.at(this.maxLat)*this.tileSize,this.worldMaxY=n.at(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(r,d){return this.projection.createTileMatrix(this,d,r)}calculateDistanceTileData(r){const d=r.key,m=this._distanceTileDataCache;if(m[d])return m[d];const b=r.canonical,w=1/this.height,E=this.cameraWorldSize,A=E/this.zoomScale(b.z),j=(b.x+Math.pow(2,b.z)*r.wrap)*A,$=b.y*A,z=this.point;z.x*=E/this.worldSize,z.y*=E/this.worldSize;const H=this.angle,W=Math.sin(-H),ee=-Math.cos(-H);return m[d]={bearing:[W,ee],center:[(z.x-j)*w,(z.y-$)*w],scale:A/n.ab*w},m[d]}calculateFogTileMatrix(r){const d=r.key,m=this._fogTileMatrixCache;if(m[d])return m[d];const b=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,r);return n.a6.mat4.multiply(b,this.worldToFogMatrix,b),m[d]=new Float32Array(b),m[d]}calculateProjMatrix(r,d=!1,m=!1){const b=r.key;let w;if(w=m?this._expandedProjMatrixCache:d?this._alignedProjMatrixCache:this._projMatrixCache,w[b])return w[b];const E=this.calculatePosMatrix(r,this.worldSize);let A;return A=this.projection.isReprojectedInTileSpace?this.mercatorMatrix:m?this.expandedFarZProjMatrix:d?this.alignedProjMatrix:this.projMatrix,n.a6.mat4.multiply(E,A,E),w[b]=new Float32Array(E),w[b]}calculatePixelsToTileUnitsMatrix(r){const d=r.tileID.key,m=this._pixelsToTileUnitsCache;if(m[d])return m[d];const b=n.bX(r,this);return m[d]=b,m[d]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if(this.projection.name==="globe"){const r=1/this.worldSize,d=n.a6.mat4.fromScaling([],[r,r,r]);return n.a6.mat4.multiply(d,d,this.globeMatrix),d}}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const r=this._elevation;this._updateCameraState();const d=n.bE(1,this._center.lat)*this.worldSize,m=this._computeCameraPosition(d),b=this._camera.forward(),w=n.bE(1,this._center.lat);m[2]/=w,b[2]/=w,n.a6.vec3.normalize(b,b);const E=r.raycast(m,b,r.exaggeration());if(E){const A=n.a6.vec3.scaleAndAdd([],m,b,E),j=new n.a5(A[0],A[1],n.bE(A[2],n.aN(A[1]))),$=(j.z+n.a6.vec3.length([j.x-m[0],j.y-m[1],j.z-m[2]*w]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ($),this._centerAltitude=j.toAltitude(),this._center=this.coordinateLocation(j),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(r=!1){if(!this._elevation)return;const d=this._elevation,m=n.bE(1,this._center.lat)*this.worldSize,b=this._computeCameraPosition(m),w=d.getAtPointOrZero(new n.a5(...b)),E=this.pixelsPerMeter/this.worldSize*w,A=this._minimumHeightOverTerrain(),j=b[2]-E;if(j<=A)if(j<0||r){const $=this.locationCoordinate(this._center,this._centerAltitude),z=[b[0],b[1],$.z-b[2]],H=n.a6.vec3.length(z);z[2]-=(A-j)/this._pixelsPerMercatorPixel;const W=n.a6.vec3.length(z);if(W===0)return;n.a6.vec3.scale(z,z,H/W*this._pixelsPerMercatorPixel),this._camera.position=[b[0],b[1],$.z*this._pixelsPerMercatorPixel-z[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const r=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||r){const W=this.center;return W.lat=n.ap(W.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!r)&&(W.lng=n.ap(W.lng,this.minLng,this.maxLng)),this.center=W,void(this._constraining=!1)}const d=this._unmodified,{x:m,y:b}=this.point;let w=0,E=m,A=b;const j=this.width/2,$=this.height/2,z=this.worldMinY*this.scale,H=this.worldMaxY*this.scale;if(b-$<z&&(A=z+$),b+$>H&&(A=H-$),H-z<this.height&&(w=Math.max(w,this.height/(H-z)),A=(H+z)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const W=this.worldMinX*this.scale,ee=this.worldMaxX*this.scale,oe=this.worldSize/2-(W+ee)/2;E=(m+oe+this.worldSize)%this.worldSize-oe,E-j<W&&(E=W+j),E+j>ee&&(E=ee-j),ee-W<this.width&&(w=Math.max(w,this.width/(ee-W)),E=(ee+W)/2)}E===m&&A===b||(this.center=this.unproject(new n.P(E,A))),w&&(this.zoom+=this.scaleZoom(w)),this._constrainCamera(),this._unmodified=d,this._constraining=!1}_minZoomForBounds(){let r=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(r=Math.max(r,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),r}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const r=this.centerOffset,d=this.projection.name==="globe",m=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=n.bE(1,this.center.lat)/n.bE(1,n.c5));const b=n.bY(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,b),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const w=this.projection.zAxisUnit==="meters"?m:1,E=this._camera.getWorldToCamera(this.worldSize,w);let A;const j=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);if(j[8]=2*-r.x/this.width,j[9]=2*r.y/this.height,this.isOrthographic){let $e=.5*this.height/Math.tan(this._fov/2)*1*Math.tan(.5*this._fov),Qe=$e*this.aspect,He=-Qe,Ue=-$e;Qe-=r.x,He-=r.x,$e+=r.y,Ue+=r.y,A=this._camera.getCameraToClipOrthographic(He,Qe,Ue,$e,this._nearZ,this._farZ),((gt,Ft,Dt,Gt)=>{for(let Qt=0;Qt<16;Qt++)gt[Qt]=Wl(Ft[Qt],Dt[Qt],Gt)})(A,A,j,Kl(this.pitch>=15?1:this.pitch/15))}else A=j;const $=n.a6.mat4.mul([],j,E);let z=n.a6.mat4.mul([],A,E);if(this.projection.isReprojectedInTileSpace){const $e=this.locationCoordinate(this.center),Qe=n.a6.mat4.identity([]);n.a6.mat4.translate(Qe,Qe,[$e.x*this.worldSize,$e.y*this.worldSize,0]),n.a6.mat4.multiply(Qe,Qe,n.bZ(this)),n.a6.mat4.translate(Qe,Qe,[-$e.x*this.worldSize,-$e.y*this.worldSize,0]),n.a6.mat4.multiply(z,z,Qe),n.a6.mat4.multiply($,$,Qe),this.inverseAdjustmentMatrix=n.b_(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];if(this.mercatorMatrix=n.a6.mat4.scale([],z,[this.worldSize,this.worldSize,this.worldSize/w,1]),this.projMatrix=z,this.invProjMatrix=n.a6.mat4.invert(new Float64Array(16),this.projMatrix),d){const $e=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,1/0);$e[8]=2*-r.x/this.width,$e[9]=2*r.y/this.height,this.expandedFarZProjMatrix=n.a6.mat4.mul([],$e,E)}else this.expandedFarZProjMatrix=this.projMatrix;const H=n.a6.mat4.invert([],A);this.frustumCorners=n.b$.fromInvProjectionMatrix(H,this.horizonLineFromTop(),this.height),this.cameraFrustum=n.bO.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,0,!d);const W=new Float32Array(16);n.a6.mat4.identity(W),n.a6.mat4.scale(W,W,[1,-1,1]),n.a6.mat4.rotateX(W,W,this._pitch),n.a6.mat4.rotateZ(W,W,this.angle);const ee=n.a6.mat4.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ);this.starsProjMatrix=n.a6.mat4.clone(ee);const oe=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;ee[8]=2*-r.x/this.width,ee[9]=2*(r.y+oe)/this.height,this.skyboxMatrix=n.a6.mat4.multiply(W,ee,W);const ne=this.point,se=ne.x,ae=ne.y,me=this.width%2/2,Fe=this.height%2/2,Ce=Math.cos(this.angle),Pe=Math.sin(this.angle),Me=se-Math.round(se)+Ce*me+Pe*Fe,Ie=ae-Math.round(ae)+Ce*Fe+Pe*me,Le=new Float64Array(z);if(n.a6.mat4.translate(Le,Le,[Me>.5?Me-1:Me,Ie>.5?Ie-1:Ie,0]),this.alignedProjMatrix=Le,z=n.a6.mat4.create(),n.a6.mat4.scale(z,z,[this.width/2,-this.height/2,1]),n.a6.mat4.translate(z,z,[1,-1,0]),this.labelPlaneMatrix=z,z=n.a6.mat4.create(),n.a6.mat4.scale(z,z,[1,-1,1]),n.a6.mat4.translate(z,z,[-1,-1,0]),n.a6.mat4.scale(z,z,[2/this.width,2/this.height,1]),this.glCoordMatrix=z,this.pixelMatrix=n.a6.mat4.multiply(new Float64Array(16),this.labelPlaneMatrix,$),this._calcFogMatrices(),this._distanceTileDataCache={},z=n.a6.mat4.invert(new Float64Array(16),this.pixelMatrix),!z)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=z,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=n.c0(this);const $e=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=n.a6.vec3.transformMat4($e,$e,E),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=z;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={},this._expandedProjMatrixCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const r=this.cameraWorldSizeForFog,d=this.cameraPixelsPerMeter,m=this._camera.position,b=1/this.height/this._pixelsPerMercatorPixel,w=[r,r,d];n.a6.vec3.scale(w,w,b),n.a6.vec3.scale(m,m,-1),n.a6.vec3.multiply(m,m,w);const E=n.a6.mat4.create();n.a6.mat4.translate(E,E,m),n.a6.mat4.scale(E,E,w),this.mercatorFogMatrix=E,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(r,d,b)}_computeCameraPosition(r){const d=(r=r||this.pixelsPerMeter)/this.pixelsPerMeter,m=this._camera.forward(),b=this.point,w=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*d-r/this.worldSize*this._centerAltitude;return[b.x/this.worldSize-m[0]*w,b.y/this.worldSize-m[1]*w,r/this.worldSize*this._centerAltitude-m[2]*w]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(r){const d=this._maxCameraBoundsDistance()*Math.cos(this._pitch),m=this._camera.position[2],b=r[2];let w=1;this.projection.wrap&&(this.center=this.center.wrap()),b>0&&(w=Math.min((d-m)/b,1)),this._camera.position=n.a6.vec3.scaleAndAdd([],this._camera.position,r,w),this._updateStateFromCamera()}_updateStateFromCamera(){const r=this._camera.position,d=this._camera.forward(),{pitch:m,bearing:b}=this._camera.getPitchBearing(),w=n.bE(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,E=this._mercatorZfromZoom(this._maxZoom)*Math.cos(n.bC(this._maxPitch)),A=Math.max((r[2]-w)/Math.cos(m),E),j=this._zoomFromMercatorZ(A);n.a6.vec3.scaleAndAdd(r,r,d,A),this._pitch=n.ap(m,n.bC(this.minPitch),n.bC(this.maxPitch)),this.angle=n.bB(b,-Math.PI,Math.PI),this._setZoom(n.ap(j,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new n.a5(r[0],r[1],r[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(r){return Math.pow(2,r)*this.tileSize}_mercatorZfromZoom(r){return this.cameraToCenterDistance/this._worldSizeFromZoom(r)}_minimumHeightOverTerrain(){const r=Math.min(this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom,this._maxZoom)+4;return this._mercatorZfromZoom(r)}_zoomFromMercatorZ(r){return this.scaleZoom(this.cameraToCenterDistance/(r*this.tileSize))}zoomFromMercatorZAdjusted(r){let d=0,m=n.bV,b=0,w=1/0;for(;m-d>1e-6&&m>d;){const E=d+.5*(m-d),A=this.tileSize*Math.pow(2,E),j=this.getCameraToCenterDistance(this.projection,E,A),$=this.scaleZoom(j/(r*this.tileSize)),z=Math.abs(E-$);z<w&&(w=z,b=E),E<$?d=E:m=E}return b}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(n.w("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(r,d){const m=Math.min(r.x,d.x),b=Math.max(r.x,d.x),w=Math.min(r.y,d.y),E=Math.max(r.y,d.y);if(w<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const A=[new n.P(m,w),new n.P(b,E),new n.P(m,E),new n.P(b,w)],j=this.renderWorldCopies?-3:0,$=this.renderWorldCopies?4:1;for(const z of A){const H=this.pointRayIntersection(z);if(H.t<0)return!0;const W=this.rayIntersectionCoordinate(H);if(W.x<j||W.y<0||W.x>$||W.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+n.c1(this.fovAboveCenter)>88||this.anyCornerOffEdge(new n.P(0,0),new n.P(this.width,this.height))}zoomDeltaToMovement(r,d){const m=n.a6.vec3.length(n.a6.vec3.sub([],this._camera.position,r)),b=this._zoomFromMercatorZ(m)+d;return m-this._mercatorZfromZoom(b)}getCameraPoint(){if(this.projection.name==="globe"){const r=function([d,m,b],w){const E=[d,m,b,1];n.a6.vec4.transformMat4(E,E,w);const A=E[3]=Math.max(E[3],1e-6);return E[0]/=A,E[1]/=A,E[2]/=A,E}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new n.P(r[0],r[1])}{const r=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new n.P(0,r))}}getCameraToCenterDistance(r,d=this.zoom,m=this.worldSize){const b=n.bY(r,d,this.width,this.height,1024),w=r.pixelSpaceConversion(this.center.lat,m,b);let E=.5/Math.tan(.5*this._fov)*this.height*w;return this.isOrthographic&&(E=Wl(1,E,Kl(this.pitch>=15?1:this.pitch/15))),E}getWorldToCameraMatrix(){const r=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&n.a6.mat4.multiply(r,r,this.globeMatrix),r}getFrustum(r){return n.bO.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,r,this.projection.zAxisUnit==="meters")}}const zs=(p,r)=>{if(r>0&&p.terrain&&n.w("Cutoff is currently disabled on terrain"),r<=0||p.terrain)return{shouldRenderCutoff:!1,uniformValues:{u_cutoff_params:[0,0,0,1]}};const d=p.transform,m=Math.max(Math.abs(d._zoom-(p.minCutoffZoom-1)),1),b=d.isLODDisabled(!1)?n.a7(60,45,d.pitch):n.a7(30,15,d.pitch),w=d._farZ-d._nearZ,E=r*d.height,A=((1-(j=b))*d.cameraToCenterDistance+j*(d._farZ+E))*m;var j;return{shouldRenderCutoff:b<1,uniformValues:{u_cutoff_params:[d._nearZ,d._farZ,(A-d._nearZ)/w,(A-E-d._nearZ)/w]}}},Fo={cascadeCount:2,normalOffset:3,shadowMapResolution:2048};class v0{constructor(r,d){this.aabb=r,this.lastCascade=d}}class Yt{add(r,d){const m=this.receivers[r.key];m!==void 0?(m.aabb.min[0]=Math.min(m.aabb.min[0],d.min[0]),m.aabb.min[1]=Math.min(m.aabb.min[1],d.min[1]),m.aabb.min[2]=Math.min(m.aabb.min[2],d.min[2]),m.aabb.max[0]=Math.max(m.aabb.max[0],d.max[0]),m.aabb.max[1]=Math.max(m.aabb.max[1],d.max[1]),m.aabb.max[2]=Math.max(m.aabb.max[2],d.max[2])):this.receivers[r.key]=new v0(d,null)}clear(){this.receivers={}}get(r){return this.receivers[r.key]}computeRequiredCascades(r,d,m){const b=n.ca.fromPoints(r.points);let w=0;for(const E in this.receivers){const A=this.receivers[E];if(!A||!b.intersectsAabb(A.aabb))continue;A.aabb.min=b.closestPoint(A.aabb.min),A.aabb.max=b.closestPoint(A.aabb.max);const j=A.aabb.getCorners();for(let $=0;$<m.length;$++){let z=!0;for(const H of j){const W=[H[0]*d,H[1]*d,H[2]];if(n.a6.vec3.transformMat4(W,W,m[$].matrix),W[0]<-1||W[0]>1||W[1]<-1||W[1]>1){z=!1;break}}if(A.lastCascade=$,w=Math.max(w,$),z)break}}return w+1}}class u_{constructor(r){this.painter=r,this._enabled=!1,this._shadowLayerCount=0,this._numCascadesToRender=0,this._cascades=[],this._groundShadowTiles=[],this._receivers=new Yt,this._depthMode=new Pi(r.context.gl.LEQUAL,Pi.ReadWrite,[0,1]),this._uniformValues={u_light_matrix_0:new Float32Array(16),u_light_matrix_1:new Float32Array(16),u_shadow_intensity:0,u_fade_range:[0,0],u_shadow_normal_offset:[1,1,1],u_shadow_texel_size:1,u_shadow_map_resolution:1,u_shadow_direction:[0,0,1],u_shadow_bias:[36e-5,.0012,.012],u_shadowmap_0:0,u_shadowmap_1:0},this._forceDisable=!1,this.useNormalOffset=!1,r.tp.registerParameter(this,["Shadows"],"_forceDisable",{label:"forceDisable"},()=>{this.painter.style.map.triggerRepaint()}),r.tp.registerParameter(Fo,["Shadows"],"cascadeCount",{min:1,max:2,step:1}),r.tp.registerParameter(Fo,["Shadows"],"normalOffset",{min:0,max:10,step:.05}),r.tp.registerParameter(Fo,["Shadows"],"shadowMapResolution",{min:32,max:2048,step:32}),r.tp.registerBinding(this,["Shadows"],"_numCascadesToRender",{readonly:!0,label:"numCascadesToRender"})}destroy(){for(const r of this._cascades)r.texture.destroy(),r.framebuffer.destroy();this._cascades=[]}updateShadowParameters(r,d){const m=this.painter;if(this._enabled=!1,this._shadowLayerCount=0,this._receivers.clear(),!d||!d.properties)return;const b=d.properties.get("shadow-intensity");if(!d.shadowsEnabled()||b<=0||(this._shadowLayerCount=m.style.order.reduce((oe,ne)=>{const se=m.style._mergedLayers[ne];return oe+(se.hasShadowPass()&&!se.isHidden(r.zoom)?1:0)},0),this._enabled=this._shadowLayerCount>0,!this.enabled))return;const w=m.context,E=Fo.shadowMapResolution,A=Fo.shadowMapResolution;if(this._cascades.length===0||Fo.shadowMapResolution!==this._cascades[0].texture.size[0]){this._cascades=[];for(let oe=0;oe<Fo.cascadeCount;++oe){const ne=m._shadowMapDebug,se=w.gl,ae=w.createFramebuffer(E,A,ne,"texture"),me=new n.T(w,{width:E,height:A,data:null},se.DEPTH_COMPONENT16);if(ae.depthAttachment.set(me.texture),ne){const Fe=new n.T(w,{width:E,height:A,data:null},se.RGBA8);ae.colorAttachment.set(Fe.texture)}this._cascades.push({framebuffer:ae,texture:me,matrix:[],far:0,boundingSphereRadius:0,frustum:new n.bO,scale:0})}}this.shadowDirection=tf(d);let j=0;if(r.elevation){const oe=r.elevation,ne=[1e4,-1e4];oe.visibleDemTiles.filter(se=>se.dem).forEach(se=>{const ae=se.dem.tree;ne[0]=Math.min(ne[0],ae.minimums[0]),ne[1]=Math.max(ne[1],ae.maximums[0])}),ne[0]!==1e4&&(j=(ne[1]-ne[0])*oe.exaggeration())}const $=1.5*r.cameraToCenterDistance,z=3*$,H=new Float64Array(16);for(let oe=0;oe<this._cascades.length;++oe){const ne=this._cascades[oe];let se=r.height/50,ae=1;Fo.cascadeCount===1?ae=z:oe===0?ae=$:(se=$,ae=z);const[me,Fe]=of(r,this.shadowDirection,se,ae,Fo.shadowMapResolution,j);ne.scale=r.scale,ne.matrix=me,ne.boundingSphereRadius=Fe,n.a6.mat4.invert(H,ne.matrix),ne.frustum=n.bO.fromInvProjectionMatrix(H,1,0,!0),ne.far=ae}const W=this._cascades.length-1;this._uniformValues.u_fade_range=[.75*this._cascades[W].far,this._cascades[W].far],this._uniformValues.u_shadow_intensity=b,this._uniformValues.u_shadow_direction=[this.shadowDirection[0],this.shadowDirection[1],this.shadowDirection[2]],this._uniformValues.u_shadow_texel_size=1/Fo.shadowMapResolution,this._uniformValues.u_shadow_map_resolution=Fo.shadowMapResolution,this._uniformValues.u_shadowmap_0=Fr.ShadowMap0,this._uniformValues.u_shadowmap_1=Fr.ShadowMap0+1,this._groundShadowTiles=m.transform.coveringTiles({tileSize:512,renderWorldCopies:!0});const ee=m.transform.elevation;for(const oe of this._groundShadowTiles){let ne={min:0,max:0};if(ee){const se=ee.getMinMaxForTile(oe);se&&(ne=se)}this.addShadowReceiver(oe.toUnwrapped(),ne.min,ne.max)}}get enabled(){return this._enabled&&!this._forceDisable}set enabled(r){this._enabled=r}drawShadowPass(r,d){if(!this.enabled)return;const m=this.painter,b=m.context;this._numCascadesToRender=this._receivers.computeRequiredCascades(m.transform.getFrustum(0),m.transform.worldSize,this._cascades),b.viewport.set([0,0,Fo.shadowMapResolution,Fo.shadowMapResolution]);for(let w=0;w<this._numCascadesToRender;++w){m.currentShadowCascade=w,b.bindFramebuffer.set(this._cascades[w].framebuffer.framebuffer),b.clear({color:n.bA.white,depth:1});for(const E of r.order){const A=r._mergedLayers[E];if(!A.hasShadowPass()||A.isHidden(m.transform.zoom))continue;const j=r.getLayerSourceCache(A),$=j?d[j.id]:void 0;(A.type==="model"||$&&$.length)&&m.renderLayer(m,j,A,$)}}m.currentShadowCascade=0}drawGroundShadows(){if(!this.enabled)return;const r=this.painter,d=r.style,m=r.context,b=d.directionalLight,w=d.ambientLight;if(!b||!w)return;const E=[],A=zs(r,r.longestCutoffRange);A.shouldRenderCutoff&&E.push("RENDER_CUTOFF"),E.push("RENDER_SHADOWS","DEPTH_TEXTURE"),this.useNormalOffset&&E.push("NORMAL_OFFSET");const j=nf(d,b,w),$=new Pi(m.gl.LEQUAL,Pi.ReadOnly,r.depthRangeFor3D);for(const z of this._groundShadowTiles){const H=z.toUnwrapped(),W=r.isTileAffectedByFog(z),ee=r.getOrCreateProgram("groundShadow",{defines:E,overrideFog:W});this.setupShadows(H,ee),r.uploadCommonUniforms(m,ee,H,null,A);const oe={u_matrix:r.transform.calculateProjMatrix(H),u_ground_shadow_factor:j};ee.draw(r,m.gl.TRIANGLES,$,qi.disabled,rn.multiply,Ni.disabled,oe,"ground_shadow",r.tileExtentBuffer,r.quadTriangleIndexBuffer,r.tileExtentSegments,{},r.transform.zoom,null,null)}}getShadowPassColorMode(){return this.painter._shadowMapDebug?rn.unblended:rn.disabled}getShadowPassDepthMode(){return this._depthMode}getShadowCastingLayerCount(){return this._shadowLayerCount}calculateShadowPassMatrixFromTile(r){const d=this.painter.transform,m=d.calculatePosMatrix(r,d.worldSize);return n.a6.mat4.multiply(m,this._cascades[this.painter.currentShadowCascade].matrix,m),Float32Array.from(m)}calculateShadowPassMatrixFromMatrix(r){return n.a6.mat4.multiply(r,this._cascades[this.painter.currentShadowCascade].matrix,r),Float32Array.from(r)}setupShadows(r,d,m,b=0){if(!this.enabled)return;const w=this.painter.transform,E=this.painter.context,A=E.gl,j=this._uniformValues,$=new Float64Array(16),z=w.calculatePosMatrix(r,w.worldSize);for(let H=0;H<this._cascades.length;H++)n.a6.mat4.multiply($,this._cascades[H].matrix,z),j[H===0?"u_light_matrix_0":"u_light_matrix_1"]=Float32Array.from($),E.activeTexture.set(A.TEXTURE0+Fr.ShadowMap0+H),this._cascades[H].texture.bind(A.NEAREST,A.CLAMP_TO_EDGE);if(this.useNormalOffset=!!m,this.useNormalOffset){const H=n.c9(r.canonical),W=2/w.tileSize*n.ab/Fo.shadowMapResolution,ee=W*this._cascades[0].boundingSphereRadius,oe=W*this._cascades[this._cascades.length-1].boundingSphereRadius,ne=(m==="vector-tile"?1:3)/Math.pow(2,b-r.canonical.z-(1-w.zoom+Math.floor(w.zoom)));j.u_shadow_normal_offset=[H,ee*ne,oe*ne],j.u_shadow_bias=[6e-5,.0012,.012]}else j.u_shadow_bias=[36e-5,.0012,.012];d.setShadowUniformValues(E,j)}setupShadowsFromMatrix(r,d,m=!1){if(!this.enabled)return;const b=this.painter.context,w=b.gl,E=this._uniformValues,A=new Float64Array(16);for(let j=0;j<Fo.cascadeCount;j++)n.a6.mat4.multiply(A,this._cascades[j].matrix,r),E[j===0?"u_light_matrix_0":"u_light_matrix_1"]=Float32Array.from(A),b.activeTexture.set(w.TEXTURE0+Fr.ShadowMap0+j),this._cascades[j].texture.bind(w.NEAREST,w.CLAMP_TO_EDGE);if(this.useNormalOffset=m,m){const j=Fo.normalOffset;E.u_shadow_normal_offset=[1,j,j],E.u_shadow_bias=[6e-5,.0012,.012]}else E.u_shadow_bias=[36e-5,.0012,.012];d.setShadowUniformValues(b,E)}getShadowUniformValues(){return this._uniformValues}getCurrentCascadeFrustum(){return this._cascades[this.painter.currentShadowCascade].frustum}computeSimplifiedTileShadowVolume(r,d,m,b){if(b[2]>=0)return{};const w=function(j,$,z){const H=z/(1<<j.canonical.z);return new n.ca([j.canonical.x*H+j.wrap*z,j.canonical.y*H+j.wrap*z,0],[(j.canonical.x+1)*H+j.wrap*z,(j.canonical.y+1)*H+j.wrap*z,$])}(r,d,m).getCorners(),E=d/-b[2];b[0]<0?(n.a6.vec3.add(w[0],w[0],[b[0]*E,0,0]),n.a6.vec3.add(w[3],w[3],[b[0]*E,0,0])):b[0]>0&&(n.a6.vec3.add(w[1],w[1],[b[0]*E,0,0]),n.a6.vec3.add(w[2],w[2],[b[0]*E,0,0])),b[1]<0?(n.a6.vec3.add(w[0],w[0],[0,b[1]*E,0]),n.a6.vec3.add(w[1],w[1],[0,b[1]*E,0])):b[1]>0&&(n.a6.vec3.add(w[2],w[2],[0,b[1]*E,0]),n.a6.vec3.add(w[3],w[3],[0,b[1]*E,0]));const A={};return A.vertices=w,A.planes=[Zl(w[1],w[0],w[4]),Zl(w[2],w[1],w[5]),Zl(w[3],w[2],w[6]),Zl(w[0],w[3],w[7])],A}addShadowReceiver(r,d,m){this._receivers.add(r,n.ca.fromTileIdAndHeight(r,d,m))}getMaxCascadeForTile(r){const d=this._receivers.get(r);return d&&d.lastCascade?d.lastCascade:0}}function Zl(p,r,d){const m=n.a6.vec3.sub([],d,r),b=n.a6.vec3.sub([],p,r),w=n.a6.vec3.cross([],m,b),E=n.a6.vec3.length(w);return E===0?[0,0,1,0]:(n.a6.vec3.scale(w,w,1/E),[w[0],w[1],w[2],-n.a6.vec3.dot(w,r)])}function tf(p){const r=p.properties.get("direction"),d=n.c8(r.x,r.y,r.z);d[2]=n.ap(d[2],0,75);const m=n.cb([d[0],d[1],d[2]]);return n.a6.vec3.fromValues(m.x,m.y,m.z)}function nf(p,r,d){const m=r.properties.get("color"),b=r.properties.get("intensity"),w=r.properties.get("direction"),E=[w.x,w.y,w.z],A=d.properties.get("color"),j=d.properties.get("intensity"),$=Math.max(n.a6.vec3.dot([0,0,1],E),0),z=[0,0,0];n.a6.vec3.scale(z,A.toRenderColor(p.getLut(r.scope)).toArray01Linear().slice(0,3),j);const H=[0,0,0];return n.a6.vec3.scale(H,m.toRenderColor(p.getLut(d.scope)).toArray01Linear().slice(0,3),$*b),n.cc([z[0]>0?z[0]/(z[0]+H[0]):0,z[1]>0?z[1]/(z[1]+H[1]):0,z[2]>0?z[2]/(z[2]+H[2]):0])}function of(p,r,d,m,b,w){const E=p.zoom,A=p.scale,j=p.worldSize,$=1/j,z=p.aspect,H=Math.sqrt(1+z*z)*Math.tan(.5*p.fovX),W=H*H,ee=m-d,oe=m+d;let ne,se;W>ee/oe?(ne=m,se=m*H):(ne=.5*oe*(1+W),se=.5*Math.sqrt(ee*ee+2*(m*m+d*d)*W+oe*oe*W*W));const ae=p.projection.pixelsPerMeter(p.center.lat,j),me=p._camera.getCameraToWorldMercator(),Fe=[0,0,-ne*$];n.a6.vec3.transformMat4(Fe,Fe,me);let Ce=se*$;const Pe=p._edgeInsets;if(!(Pe.left===0&&Pe.top===0&&Pe.right===0&&Pe.bottom===0||Pe.left===Pe.right&&Pe.top===Pe.bottom)){const Lt=p._camera.getWorldToCamera(p.worldSize,p.projection.zAxisUnit==="meters"?ae:1),jt=p._camera.getCameraToClipPerspective(p._fov,p.width/p.height,d,m);jt[8]=2*-p.centerOffset.x/p.width,jt[9]=2*p.centerOffset.y/p.height;const At=new Float64Array(16);n.a6.mat4.mul(At,jt,Lt);const ei=new Float64Array(16);n.a6.mat4.invert(ei,At);const bi=n.bO.fromInvProjectionMatrix(ei,j,E,!0);for(const Fi of bi.points){const fi=((Me=Fi)[0]/=A,Me[1]/=A,Me[2]=n.bE(Me[2],p._center.lat),Me);Ce=Math.max(Ce,n.a6.vec3.len(n.a6.vec3.subtract([],Fe,fi)))}}var Me;Ce*=b/(b-1);const Ie=Math.acos(r[2]),Le=Math.atan2(-r[0],-r[1]),$e=new el;$e.position=Fe,$e.setPitchBearing(Ie,Le);const Qe=$e.getWorldToCamera(j,ae),He=Ce*j,Ue=Math.min(p._mercatorZfromZoom(17)*j*-2,-2*He),gt=$e.getCameraToClipOrthographic(-He,He,-He,He,Ue,(He+w*ae)/r[2]),Ft=new Float64Array(16);n.a6.mat4.multiply(Ft,gt,Qe);const Dt=n.a6.vec3.fromValues(Math.floor(1e6*Fe[0])/1e6*j,Math.floor(1e6*Fe[1])/1e6*j,0),Gt=.5*b,Qt=[0,0,0];n.a6.vec3.transformMat4(Qt,Dt,Ft),n.a6.vec3.scale(Qt,Qt,Gt);const st=[Math.floor(Qt[0]),Math.floor(Qt[1]),Math.floor(Qt[2])],Ot=[0,0,0];n.a6.vec3.sub(Ot,Qt,st),n.a6.vec3.scale(Ot,Ot,-1/Gt);const _t=new Float64Array(16);return n.a6.mat4.identity(_t),n.a6.mat4.translate(_t,_t,Ot),n.a6.mat4.multiply(Ft,_t,Ft),[Ft,He]}class Vs extends n.E{constructor(r){super(),this.requestManager=r,this.models={"":{}},this.numModelsLoading={}}loadModel(r,d){return n.aG(this.requestManager.transformRequest(d,n.R.Model).url).then(m=>{if(!m)return;const b=n.aH(m),w=new n.aI(r,void 0,void 0,b);return w.computeBoundsAndApplyParent(),w}).catch(m=>{if(m&&m.status===404)return null;this.fire(new n.t(new Error(`Could not load model ${r} from ${d}: ${m.message}`)))})}load(r,d){this.models[d]||(this.models[d]={});const m=Object.keys(r);this.numModelsLoading[d]=(this.numModelsLoading[d]||0)+m.length;const b=[];for(const w of m)b.push(this.loadModel(w,r[w]));Promise.allSettled(b).then(w=>{for(let E=0;E<w.length;E++){const{status:A,value:j}=w[E];A==="fulfilled"&&j&&(this.models[d][m[E]]={model:j,numReferences:1})}this.numModelsLoading[d]-=m.length,this.fire(new n.x("data",{dataType:"style"}))}).catch(w=>{this.fire(new n.t(new Error(`Could not load models: ${w.message}`)))})}isLoaded(){for(const r in this.numModelsLoading)if(this.numModelsLoading[r]>0)return!1;return!0}hasModel(r,d){return!!this.getModel(r,d)}getModel(r,d){return this.models[d]||(this.models[d]={}),this.models[d][r]?this.models[d][r].model:void 0}addModel(r,d,m){this.models[m]||(this.models[m]={}),this.hasModel(r,m)&&this.models[m][r].numReferences++,this.load({[r]:this.requestManager.normalizeModelURL(d)},m)}addModels(r,d){this.models[d]||(this.models[d]={});const m={};for(const b in r)this.models[d][b]={},m[b]=this.requestManager.normalizeModelURL(r[b]);this.load(m,d)}addModelsFromBucket(r,d){this.models[d]||(this.models[d]={});const m={};for(const b of r)this.hasModel(b,d)?this.models[d][b].numReferences++:m[b]=this.requestManager.normalizeModelURL(b);this.load(m,d)}removeModel(r,d){if(this.models[d]&&this.models[d][r]&&(this.models[d][r].numReferences--,this.models[d][r].numReferences===0)){const m=this.models[d][r].model;delete this.models[d][r],m.destroy()}}listModels(r){return this.models[r]||(this.models[r]={}),Object.keys(this.models[r])}upload(r,d){this.models[d]||(this.models[d]={});for(const m in this.models[d])this.models[d][m].model&&this.models[d][m].model.upload(r.context)}}const x0=new n.a0({data:new n.a1(n._.colorTheme.data)}),ga=(p,r)=>at(p,r&&r.filter(d=>d.identifier!=="source.canvas")),rf=n.ar(bn,["addLayer","removeLayer","setLights","setPaintProperty","setLayoutProperty","setSlot","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection","setCamera","addImport","removeImport","updateImport"]),Ql=n.ar(bn,["setCenter","setZoom","setBearing","setPitch"]),h_={version:8,layers:[],sources:{}},f_={duration:300,delay:0};class _a extends n.E{constructor(r,d={}){super(),this.map=r,this.scope=d.scope||"",this.globalId=null,this.fragments=[],this.importDepth=d.importDepth||0,this.importsCache=d.importsCache||new Map,this.resolvedImports=d.resolvedImports||new Set,this.transition=n.l({},f_),this._buildingIndex=new h0(this),this.crossTileSymbolIndex=new Xh,this._mergedOrder=[],this._drapedFirstOrder=[],this._mergedLayers={},this._mergedSourceCaches={},this._mergedOtherSourceCaches={},this._mergedSymbolSourceCaches={},this._mergedLayerSelectors=new Map,this._clipLayerPresent=!1,this._has3DLayers=!1,this._hasCircleLayers=!1,this._hasSymbolLayers=!1,this._changes=d.styleChanges||new ze,this.dispatcher=d.dispatcher?d.dispatcher:new n.ce(n.cf(),this),d.imageManager?this.imageManager=d.imageManager:(this.imageManager=new et,this.imageManager.setEventedParent(this)),this.imageManager.createScope(this.scope),this.glyphManager=d.glyphManager?d.glyphManager:new n.cg(r._requestManager,d.localFontFamily?n.ch.all:d.localIdeographFontFamily?n.ch.ideographs:n.ch.none,d.localFontFamily||d.localIdeographFontFamily),d.modelManager?this.modelManager=d.modelManager:(this.modelManager=new Vs(r._requestManager),this.modelManager.setEventedParent(this)),this._layers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._precompileDone=!1,this._shouldPrecompile=!1,this._availableImages=[],this._order=[],this._markersNeedUpdate=!1,this._styleColorTheme={lut:null,lutLoading:!1,lutLoadingCorrelationID:0,colorTheme:null},this._styleColorThemeForScope={},this.options=d.configOptions?d.configOptions:new Map,this._configDependentLayers=d.configDependentLayers?d.configDependentLayers:new Set,this._config=d.config,this._initialConfig=d.initialConfig,this.dispatcher.broadcast("setReferrer",n.ci());const m=this;this._rtlTextPluginCallback=_a.registerForPluginStateChange(b=>{m.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:b.pluginStatus,pluginURL:b.pluginURL},(w,E)=>{if(n.cj(w),E&&E.every(A=>A))for(const A in m._sourceCaches){const j=m._sourceCaches[A],$=j.getSource().type;$!=="vector"&&$!=="geojson"||j.reload()}})}),this.on("data",b=>{if(b.dataType!=="source"||b.sourceDataType!=="metadata")return;const w=this.getOwnSource(b.sourceId);if(w&&w.vectorLayerIds)for(const E in this._layers){const A=this._layers[E];A.source===w.id&&this._validateLayer(A)}})}load(r){return r?(typeof r=="string"?this.loadURL(r):this.loadJSON(r),this):this}_getGlobalId(r){if(!r)return null;if(typeof r=="string"){if(n.f(r))return r;const d=n.ck(r);if(!d.startsWith("http"))try{return new URL(d,location.href).toString()}catch{return d}return d}return`json://${n.cl(JSON.stringify(r))}`}_diffStyle(r,d,m){this.globalId=this._getGlobalId(r);const b=(w,E)=>{try{E(null,this.setState(w,m))}catch(A){E(A,!1)}};if(typeof r=="string"){const w=this.map._requestManager.normalizeStyleURL(r),E=this.map._requestManager.transformRequest(w,n.R.Style);n.n(E,(A,j)=>{A?this.fire(new n.t(A)):j&&b(j,d)})}else typeof r=="object"&&b(r,d)}loadURL(r,d={}){this.fire(new n.x("dataloading",{dataType:"style"}));const m=typeof d.validate=="boolean"?d.validate:!n.f(r);this.globalId=this._getGlobalId(r),r=this.map._requestManager.normalizeStyleURL(r,d.accessToken),this.resolvedImports.add(r);const b=this.importsCache.get(r);if(b)return this._load(b,m);const w=this.map._requestManager.transformRequest(r,n.R.Style);this._request=n.n(w,(E,A)=>{if(this._request=null,E)this.fire(new n.t(E));else if(A)return this.importsCache.set(r,A),this._load(A,m)})}loadJSON(r,d={}){this.fire(new n.x("dataloading",{dataType:"style"})),this.globalId=this._getGlobalId(r),this._request=n.q.frame(()=>{this._request=null,this._load(r,d.validate!==!1)})}loadEmpty(){this.fire(new n.x("dataloading",{dataType:"style"})),this._load(h_,!1)}_loadImports(r,d,m){if(this.importDepth>=4)return n.w("Style doesn't support nesting deeper than 5"),Promise.resolve();const b=[];for(const w of r){const E=this._createFragmentStyle(w),A=new Promise(z=>{E.once("style.import.load",z),E.once("error",z)}).then(()=>this.mergeAll());if(b.push(A),this.resolvedImports.has(w.url)){E.loadEmpty();continue}const j=w.data||this.importsCache.get(w.url);j?(E.loadJSON(j,{validate:d}),this._isInternalStyle(j)&&(E.globalId=null)):w.url?E.loadURL(w.url,{validate:d}):E.loadEmpty();const $={style:E,id:w.id,config:w.config};if(m){const z=this.fragments.findIndex(({id:H})=>H===m);this.fragments=this.fragments.slice(0,z).concat($).concat(this.fragments.slice(z))}else this.fragments.push($)}return Promise.allSettled(b)}getImportGlobalIds(r=this,d=new Set){for(const m of r.fragments)m.style.globalId&&d.add(m.style.globalId),this.getImportGlobalIds(m.style,d);return[...d.values()]}_createFragmentStyle(r){const d=this.scope?n.av(r.id,this.scope):r.id;let m;const b=this._initialConfig&&this._initialConfig[d];(r.config||b)&&(m=n.l({},r.config,b));const w=new _a(this.map,{scope:d,styleChanges:this._changes,importDepth:this.importDepth+1,importsCache:this.importsCache,resolvedImports:new Set(this.resolvedImports),dispatcher:this.dispatcher,imageManager:this.imageManager,glyphManager:this.glyphManager,modelManager:this.modelManager,config:m,configOptions:this.options,configDependentLayers:this._configDependentLayers});return w.setEventedParent(this.map,{style:w}),w}_reloadImports(){this.mergeAll(),this._updateMapProjection(),this.updateConfigDependencies(),this.map._triggerCameraUpdate(this.camera),this.dispatcher.broadcast("setLayers",{layers:this._serializeLayers(this._order),scope:this.scope,options:this.options}),this._shouldPrecompile=this.map._precompilePrograms&&this.isRootStyle()}_isInternalStyle(r){return this.isRootStyle()&&(r.fragment||!!r.schema&&r.fragment!==!1)}_load(r,d){const m=r.schema;if(this._isInternalStyle(r)){const E=n.l({},h_,{imports:[{id:"basemap",data:r,url:""}]});return void this._load(E,d)}if(this.updateConfig(this._config,m),d&&ga(this,Lr(r)))return;this._loaded=!0,this.stylesheet=n.cm(r);const b=()=>{for(const $ in r.sources)this.addSource($,r.sources[$],{validate:!1,isInitialLoad:!0});r.sprite?this._loadSprite(r.sprite):(this.imageManager.setLoaded(!0,this.scope),this.dispatcher.broadcast("spriteLoaded",{scope:this.scope,isLoaded:!0})),this.glyphManager.setURL(r.glyphs,this.scope);const E=f0(this.stylesheet.layers);if(this._order=E.map($=>$.id),this.stylesheet.light&&n.w("The `light` root property is deprecated, prefer using `lights` with `flat` light type instead."),this.stylesheet.lights)if(this.stylesheet.lights.length===1&&this.stylesheet.lights[0].type==="flat"){const $=this.stylesheet.lights[0];this.light=new ut($.properties,$.id)}else this.setLights(this.stylesheet.lights);this.light||(this.light=new ut(this.stylesheet.light)),this._layers={};for(const $ of E){const z=n.cq($,this.scope,this._styleColorTheme.lut,this.options);z.configDependencies.size!==0&&this._configDependentLayers.add(z.fqid),z.setEventedParent(this,{layer:{id:z.id}}),this._layers[z.id]=z;const H=this.getOwnLayerSourceCache(z),W=!!this.directionalLight&&this.directionalLight.shadowsEnabled();H&&z.canCastShadows()&&W&&(H.castsShadows=!0)}this.stylesheet.models&&this.modelManager.addModels(this.stylesheet.models,this.scope);const A=this.stylesheet.terrain;A&&(this.checkCanvasFingerprintNoise(),this.disableElevatedTerrain||this.terrainSetForDrapingOnly()||this._createTerrain(A,1)),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this.stylesheet.transition&&this.setTransition(this.stylesheet.transition),this.fire(new n.x("data",{dataType:"style"}));const j=this.isRootStyle();r.imports?this._loadImports(r.imports,d).then(()=>{this._reloadImports(),this.fire(new n.x(j?"style.load":"style.import.load"))}):(this._reloadImports(),this.fire(new n.x(j?"style.load":"style.import.load")))},w=this.stylesheet["color-theme"];if(this._styleColorTheme.colorTheme=w,w){const E=this._evaluateColorThemeData(w);this._loadColorTheme(E).then(()=>{b()}).catch(A=>{n.w(`Couldn't load color theme from the stylesheet: ${A}`),b()})}else this._styleColorTheme.lut=null,b()}isRootStyle(){return this.importDepth===0}mergeAll(){let r,d,m,b,w,E,A,j;const $={};this.terrain&&this.terrain.scope!==this.scope&&delete this.terrain,this.forEachFragmentStyle(z=>{if(z.stylesheet){if(z.light!=null&&(r=z.light),z.stylesheet.lights)for(const H of z.stylesheet.lights)H.type==="ambient"&&z.ambientLight!=null&&(d=z.ambientLight),H.type==="directional"&&z.directionalLight!=null&&(m=z.directionalLight);b=this._prioritizeTerrain(b,z.terrain,z.stylesheet.terrain),z.stylesheet.fog&&z.fog!=null&&(w=z.fog),z.stylesheet.camera!=null&&(j=z.stylesheet.camera),z.stylesheet.projection!=null&&(E=z.stylesheet.projection),z.stylesheet.transition!=null&&(A=z.stylesheet.transition),$[z.scope]=z._styleColorTheme}}),this.light=r,this.ambientLight=d,this.directionalLight=m,this.fog=w,this._styleColorThemeForScope=$,b===null?delete this.terrain:this.terrain=b,this.camera=j||{"camera-projection":"perspective"},this.projection=E||{name:"mercator"},this.transition=n.l({},f_,A),this.mergeSources(),this.mergeLayers()}forEachFragmentStyle(r){const d=m=>{for(const b of m.fragments)d(b.style);r(m)};d(this)}_prioritizeTerrain(r,d,m){const b=r&&r.drapeRenderMode===0;return m===null?d&&d.drapeRenderMode===0?d:b?r:null:d!=null&&(!r||b||d&&d.drapeRenderMode===1)?d:r}mergeTerrain(){let r;this.terrain&&this.terrain.scope!==this.scope&&delete this.terrain,this.forEachFragmentStyle(d=>{r=this._prioritizeTerrain(r,d.terrain,d.stylesheet.terrain)}),r===null?delete this.terrain:this.terrain=r}mergeProjection(){let r;this.forEachFragmentStyle(d=>{d.stylesheet.projection!=null&&(r=d.stylesheet.projection)}),this.projection=r||{name:"mercator"}}mergeSources(){const r={},d={},m={};this.forEachFragmentStyle(b=>{for(const w in b._sourceCaches){const E=n.av(w,b.scope);r[E]=b._sourceCaches[w]}for(const w in b._otherSourceCaches){const E=n.av(w,b.scope);d[E]=b._otherSourceCaches[w]}for(const w in b._symbolSourceCaches){const E=n.av(w,b.scope);m[E]=b._symbolSourceCaches[w]}}),this._mergedSourceCaches=r,this._mergedOtherSourceCaches=d,this._mergedSymbolSourceCaches=m}mergeLayers(){const r={},d=[],m={};this._mergedSlots=[],this._has3DLayers=!1,this._hasCircleLayers=!1,this._hasSymbolLayers=!1,this._mergedLayerSelectors.clear(),this.forEachFragmentStyle(w=>{for(const A of w._order){const j=w._layers[A];if(j.type==="slot"){const $=n.cn(A);if(r[$])continue;r[$]=[]}j.slot&&r[j.slot]?r[j.slot].push(j):d.push(j)}const{featuresets:E}=w.stylesheet||{};if(E)for(const A in E){const{selectors:j}=E[A];for(const $ of j){const z=w._layers[$.layer],H=this._mergedLayerSelectors.get(z.fqid)||[];let W;if($.properties)for(const ee in $.properties){const oe=n.M($.properties[ee]);oe.result==="success"&&(W=W||{},W[ee]=oe.value)}H.push({featuresetId:A,featureNamespace:$.featureNamespace,properties:W}),this._mergedLayerSelectors.set(z.fqid,H)}}}),this._mergedOrder=[];const b=(w=[])=>{for(const E of w)if(E.type==="slot"){const A=n.cn(E.id);r[A]&&b(r[A]),this._mergedSlots.push(A)}else{const A=n.av(E.id,E.scope);this._mergedOrder.push(A),m[A]=E,E.is3D()&&(this._has3DLayers=!0),E.type==="circle"&&(this._hasCircleLayers=!0),E.type==="symbol"&&(this._hasSymbolLayers=!0),E.type==="clip"&&(this._clipLayerPresent=!0)}};b(d),this._mergedOrder.sort((w,E)=>{const A=m[w],j=m[E];return A.hasInitialOcclusionOpacityProperties?j.is3D()?1:0:A.is3D()&&j.hasInitialOcclusionOpacityProperties?-1:0}),this._mergedLayers=m,this.updateDrapeFirstLayers(),this._buildingIndex.processLayersChanged()}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}getCamera(){return this.stylesheet.camera}setCamera(r){return this.stylesheet.camera=n.l({},this.stylesheet.camera,r),this.camera=this.stylesheet.camera,this}_evaluateColorThemeData(r){return r.data?function(d,m,b){const w=n.l({},m);for(const A of Object.keys(n._.colorTheme))w[A]===void 0&&(w[A]=n._.colorTheme[A].default);const E=new n.$(x0,d,new Map(b));return E.setTransitionOrValue(w,b),E.untransitioned().possiblyEvaluate(new n.a3(0))}(this.scope,r,this.options).get("data"):null}_loadColorTheme(r){this._styleColorTheme.lutLoading=!0,this._styleColorTheme.lutLoadingCorrelationID+=1;const d=this._styleColorTheme.lutLoadingCorrelationID;return new Promise((m,b)=>{const w="data:image/png;base64,";if(!r||r.length===0)return this._styleColorTheme.lut=null,this._styleColorTheme.lutLoading=!1,void m();let E=r;E.startsWith(w)||(E=w+E);const A="mapbox-reserved-lut",j=new Image;j.src=E,j.onerror=()=>{this._styleColorTheme.lutLoading=!1,b(new Error("Failed to load image data"))},j.onload=()=>{if(this._styleColorTheme.lutLoadingCorrelationID!==d)return void m();this._styleColorTheme.lutLoading=!1;const{width:$,height:z,data:H}=n.q.getImageData(j);if(z>32)return void b(new Error("The height of the image must be less than or equal to 32 pixels."));if($!==z*z)return void b(new Error("The width of the image must be equal to the height squared."));this.getImage(A)&&this.removeImage(A),this.addImage(A,{data:new n.r({width:$,height:z},H),pixelRatio:1,sdf:!1,version:0});const W=this.imageManager.getImage(A,this.scope);W?(this._styleColorTheme.lut={image:W.data,data:r},m()):b(new Error("Missing LUT image."))}})}getLut(r){const d=this._styleColorThemeForScope[r];return d?d.lut:null}setProjection(r){r?this.stylesheet.projection=r:delete this.stylesheet.projection,this.mergeProjection(),this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?(this.getTerrain()||this.stylesheet.terrain)&&!this.disableElevatedTerrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null,0))}_updateMapProjection(){this.isRootStyle()&&(this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.projection))}_loadSprite(r){this._spriteRequest=function(d,m,b){let w,E,A;const j=n.q.devicePixelRatio>1?"@2x":"";let $=n.n(m.transformRequest(m.normalizeSpriteURL(d,j,".json"),n.R.SpriteJSON),(W,ee)=>{$=null,A||(A=W,w=ee,H())}),z=n.o(m.transformRequest(m.normalizeSpriteURL(d,j,".png"),n.R.SpriteImage),(W,ee)=>{z=null,A||(A=W,E=ee,H())});function H(){if(A)b(A);else if(w&&E){const W=n.q.getImageData(E),ee={};for(const oe in w){const{width:ne,height:se,x:ae,y:me,sdf:Fe,pixelRatio:Ce,stretchX:Pe,stretchY:Me,content:Ie}=w[oe],Le=new n.r({width:ne,height:se});n.r.copy(W,Le,{x:ae,y:me},{x:0,y:0},{width:ne,height:se},null),ee[oe]={data:Le,pixelRatio:Ce,sdf:Fe,stretchX:Pe,stretchY:Me,content:Ie}}b(null,ee)}}return{cancel(){$&&($.cancel(),$=null),z&&(z.cancel(),z=null)}}}(r,this.map._requestManager,(d,m)=>{if(this._spriteRequest=null,d)this.fire(new n.t(d));else if(m)for(const b in m)this.imageManager.addImage(b,this.scope,m[b]);this.imageManager.setLoaded(!0,this.scope),this._availableImages=this.imageManager.listImages(this.scope),this.dispatcher.broadcast("setImages",{scope:this.scope,images:this._availableImages}),this.dispatcher.broadcast("spriteLoaded",{scope:this.scope,isLoaded:!0}),this.fire(new n.x("data",{dataType:"style"}))})}_validateLayer(r){const d=this.getOwnSource(r.source);if(!d)return;const m=r.sourceLayer;m&&(d.type==="geojson"||d.vectorLayerIds&&d.vectorLayerIds.indexOf(m)===-1)&&this.fire(new n.t(new Error(`Source layer "${m}" does not exist on source "${d.id}" as specified by style layer "${r.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._changes.getUpdatedSourceCaches()).length)return!1;for(const r in this._sourceCaches)if(!this._sourceCaches[r].loaded())return!1;if(!this.imageManager.isLoaded()||!this.modelManager.isLoaded()||this._styleColorTheme.lutLoading)return!1;for(const{style:r}of this.fragments)if(!r.loaded())return!1;return!0}_serializeImports(){if(this.stylesheet.imports)return this.stylesheet.imports.map((r,d)=>{const m=this.fragments[d];return m&&m.style&&(r.data=m.style.serialize()),r})}_serializeSources(){const r={};for(const d in this._sourceCaches){const m=this._sourceCaches[d].getSource();r[m.id]||(r[m.id]=m.serialize())}return r}_serializeLayers(r){const d=[];for(const m of r){const b=this._layers[m];b&&b.type!=="custom"&&d.push(b.serialize())}return d}hasLightTransitions(){return!(!this.light||!this.light.hasTransition())||!(!this.ambientLight||!this.ambientLight.hasTransition())||!(!this.directionalLight||!this.directionalLight.hasTransition())}hasFogTransition(){return!!this.fog&&this.fog.hasTransition()}hasTransitions(){if(this.hasLightTransitions()||this.hasFogTransition())return!0;for(const r in this._sourceCaches)if(this._sourceCaches[r].hasTransition())return!0;for(const r in this._layers)if(this._layers[r].hasTransition())return!0;return!1}get order(){return this.terrain?this._drapedFirstOrder:this._mergedOrder}_getOrder(r){return r?this.order:this._mergedOrder}isLayerDraped(r){return!!this.terrain&&r.isDraped(this.getLayerSourceCache(r))}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}_checkLayer(r){const d=this.getOwnLayer(r);if(d)return d;this.fire(new n.t(new Error(`The layer '${r}' does not exist in the map's style.`)))}_checkSource(r){const d=this.getOwnSource(r);if(d)return d;this.fire(new n.t(new Error(`The source '${r}' does not exist in the map's style.`)))}precompilePrograms(r,d){const m=this.map.painter;if(m)for(let b=r.minzoom||0;b<(r.maxzoom||25.5);b++){const w=r.getProgramIds();if(w)for(const E of w){const A=r.getDefaultProgramParams(E,d.zoom,this._styleColorTheme.lut);A&&(m.style=this,this.fog&&(m._fogVisible=!0,A.overrideFog=!0,m.getOrCreateProgram(E,A)),m._fogVisible=!1,A.overrideFog=!1,m.getOrCreateProgram(E,A),(this.stylesheet.terrain||this.stylesheet.projection&&this.stylesheet.projection.name==="globe")&&(A.overrideRtt=!0,m.getOrCreateProgram(E,A)))}}}update(r){if(!this._loaded)return;this.ambientLight&&this.ambientLight.recalculate(r),this.directionalLight&&this.directionalLight.recalculate(r);const d=this.calculateLightsBrightness();r.brightness=d||0,d!==this._brightness&&(this._brightness=d,this.dispatcher.broadcast("setBrightness",d));const m=this._changes.isDirty();let b=!1;if(this._changes.isDirty()){const E=this._changes.getLayerUpdatesByScope();for(const A in E){const{updatedIds:j,removedIds:$}=E[A];(j||$)&&(this._updateWorkerLayers(A,j,$),b=!0)}this.updateSourceCaches(),this._updateTilesForChangedImages(),this.updateLayers(r),this.light&&this.light.updateTransitions(r),this.ambientLight&&this.ambientLight.updateTransitions(r),this.directionalLight&&this.directionalLight.updateTransitions(r),this.fog&&this.fog.updateTransitions(r),this._changes.reset()}const w={};for(const E in this._mergedSourceCaches){const A=this._mergedSourceCaches[E];w[E]=A.used,A.used=!1,A.tileCoverLift=0}for(const E of this._mergedOrder){const A=this._mergedLayers[E];if(A.recalculate(r,this._availableImages),!A.isHidden(r.zoom)){const j=this.getLayerSourceCache(A);j&&(j.used=!0,j.tileCoverLift=Math.max(j.tileCoverLift,A.tileCoverLift()))}!this._precompileDone&&this._shouldPrecompile&&("requestIdleCallback"in window?requestIdleCallback(()=>{this.precompilePrograms(A,r)}):this.precompilePrograms(A,r))}this._shouldPrecompile&&(this._precompileDone=!0),this.terrain&&b&&this.mergeLayers();for(const E in w){const A=this._mergedSourceCaches[E];w[E]!==A.used&&A.getSource().fire(new n.x("data",{sourceDataType:"visibility",dataType:"source",sourceId:A.getSource().id}))}this.light&&this.light.recalculate(r),this.terrain&&this.terrain.recalculate(r),this.fog&&this.fog.recalculate(r),this.z=r.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),m&&this.fire(new n.x("data",{dataType:"style"}))}_updateTilesForChangedImages(){const r=this._changes.getUpdatedImages();if(r.length){for(const d in this._sourceCaches)this._sourceCaches[d].reloadTilesForDependencies(["icons","patterns"],r);this._changes.resetUpdatedImages()}}_updateWorkerLayers(r,d,m){const b=this.getFragmentStyle(r);b&&this.dispatcher.broadcast("updateLayers",{layers:d?b._serializeLayers(d):[],scope:r,removedIds:m||[],options:b.options})}setState(r,d){if(this._checkLoaded(),ga(this,Lr(r)))return!1;(r=n.cm(r)).layers=f0(r.layers);const m=function(E,A){if(!E)return[{command:bn.setStyle,args:[A]}];let j=[];try{if(!n.bi(E.version,A.version))return[{command:bn.setStyle,args:[A]}];if(n.bi(E.center,A.center)||j.push({command:bn.setCenter,args:[A.center]}),n.bi(E.zoom,A.zoom)||j.push({command:bn.setZoom,args:[A.zoom]}),n.bi(E.bearing,A.bearing)||j.push({command:bn.setBearing,args:[A.bearing]}),n.bi(E.pitch,A.pitch)||j.push({command:bn.setPitch,args:[A.pitch]}),n.bi(E.sprite,A.sprite)||j.push({command:bn.setSprite,args:[A.sprite]}),n.bi(E.glyphs,A.glyphs)||j.push({command:bn.setGlyphs,args:[A.glyphs]}),n.bi(E.imports,A.imports)||function(ee=[],oe=[],ne){oe=oe||[];const se=(ee=ee||[]).map(Qc),ae=oe.map(Qc),me=ee.reduce(jl,{}),Fe=oe.reduce(jl,{}),Ce=se.slice();let Pe,Me,Ie,Le;for(Pe=0,Me=0;Pe<se.length;Pe++)Ie=se[Pe],Fe.hasOwnProperty(Ie)?Me++:(ne.push({command:bn.removeImport,args:[Ie]}),Ce.splice(Ce.indexOf(Ie,Me),1));for(Pe=0,Me=0;Pe<ae.length;Pe++)Ie=ae[ae.length-1-Pe],Ce[Ce.length-1-Pe]!==Ie&&(me.hasOwnProperty(Ie)?(ne.push({command:bn.removeImport,args:[Ie]}),Ce.splice(Ce.lastIndexOf(Ie,Ce.length-Me),1)):Me++,Le=Ce[Ce.length-Pe],ne.push({command:bn.addImport,args:[Fe[Ie],Le]}),Ce.splice(Ce.length-Pe,0,Ie));for(const $e of oe){const Qe=me[$e.id];Qe&&!n.bi(Qe,$e)&&ne.push({command:bn.updateImport,args:[$e.id,$e]})}}(E.imports,A.imports,j),n.bi(E.transition,A.transition)||j.push({command:bn.setTransition,args:[A.transition]}),n.bi(E.light,A.light)||j.push({command:bn.setLight,args:[A.light]}),n.bi(E.fog,A.fog)||j.push({command:bn.setFog,args:[A.fog]}),n.bi(E.projection,A.projection)||j.push({command:bn.setProjection,args:[A.projection]}),n.bi(E.lights,A.lights)||j.push({command:bn.setLights,args:[A.lights]}),n.bi(E.camera,A.camera)||j.push({command:bn.setCamera,args:[A.camera]}),!n.bi(E["color-theme"],A["color-theme"]))return[{command:bn.setStyle,args:[A]}];const $={},z=[];(function(ee,oe,ne,se){let ae;for(ae in oe=oe||{},ee=ee||{})ee.hasOwnProperty(ae)&&(oe.hasOwnProperty(ae)||Dn(ae,ne,se));for(ae in oe){if(!oe.hasOwnProperty(ae))continue;const me=oe[ae];ee.hasOwnProperty(ae)?n.bi(ee[ae],me)||(ee[ae].type==="geojson"&&me.type==="geojson"&&Oi(ee,oe,ae)?ne.push({command:bn.setGeoJSONSourceData,args:[ae,me.data]}):ov(ae,oe,ne,se)):p0(ae,oe,ne)}})(E.sources,A.sources,z,$);const H=[];E.layers&&E.layers.forEach(ee=>{ee.source&&$[ee.source]?j.push({command:bn.removeLayer,args:[ee.id]}):H.push(ee)});let W=E.terrain;W&&$[W.source]&&(j.push({command:bn.setTerrain,args:[void 0]}),W=void 0),j=j.concat(z),n.bi(W,A.terrain)||j.push({command:bn.setTerrain,args:[A.terrain]}),function(ee,oe,ne){oe=oe||[];const se=(ee=ee||[]).map(Qc),ae=oe.map(Qc),me=ee.reduce(jl,{}),Fe=oe.reduce(jl,{}),Ce=se.slice(),Pe=Object.create(null);let Me,Ie,Le,$e,Qe,He,Ue;for(Me=0,Ie=0;Me<se.length;Me++)Le=se[Me],Fe.hasOwnProperty(Le)?Ie++:(ne.push({command:bn.removeLayer,args:[Le]}),Ce.splice(Ce.indexOf(Le,Ie),1));for(Me=0,Ie=0;Me<ae.length;Me++)Le=ae[ae.length-1-Me],Ce[Ce.length-1-Me]!==Le&&(me.hasOwnProperty(Le)?(ne.push({command:bn.removeLayer,args:[Le]}),Ce.splice(Ce.lastIndexOf(Le,Ce.length-Ie),1)):Ie++,He=Ce[Ce.length-Me],ne.push({command:bn.addLayer,args:[Fe[Le],He]}),Ce.splice(Ce.length-Me,0,Le),Pe[Le]=!0);for(Me=0;Me<ae.length;Me++)if(Le=ae[Me],$e=me[Le],Qe=Fe[Le],!Pe[Le]&&!n.bi($e,Qe))if(n.bi($e.source,Qe.source)&&n.bi($e["source-layer"],Qe["source-layer"])&&n.bi($e.type,Qe.type)){for(Ue in Cu($e.layout,Qe.layout,ne,Le,null,bn.setLayoutProperty),Cu($e.paint,Qe.paint,ne,Le,null,bn.setPaintProperty),n.bi($e.slot,Qe.slot)||ne.push({command:bn.setSlot,args:[Le,Qe.slot]}),n.bi($e.filter,Qe.filter)||ne.push({command:bn.setFilter,args:[Le,Qe.filter]}),n.bi($e.minzoom,Qe.minzoom)&&n.bi($e.maxzoom,Qe.maxzoom)||ne.push({command:bn.setLayerZoomRange,args:[Le,Qe.minzoom,Qe.maxzoom]}),$e)$e.hasOwnProperty(Ue)&&Ue!=="layout"&&Ue!=="paint"&&Ue!=="filter"&&Ue!=="metadata"&&Ue!=="minzoom"&&Ue!=="maxzoom"&&Ue!=="slot"&&(Ue.indexOf("paint.")===0?Cu($e[Ue],Qe[Ue],ne,Le,Ue.slice(6),bn.setPaintProperty):n.bi($e[Ue],Qe[Ue])||ne.push({command:bn.setLayerProperty,args:[Le,Ue,Qe[Ue]]}));for(Ue in Qe)Qe.hasOwnProperty(Ue)&&!$e.hasOwnProperty(Ue)&&Ue!=="layout"&&Ue!=="paint"&&Ue!=="filter"&&Ue!=="metadata"&&Ue!=="minzoom"&&Ue!=="maxzoom"&&Ue!=="slot"&&(Ue.indexOf("paint.")===0?Cu($e[Ue],Qe[Ue],ne,Le,Ue.slice(6),bn.setPaintProperty):n.bi($e[Ue],Qe[Ue])||ne.push({command:bn.setLayerProperty,args:[Le,Ue,Qe[Ue]]}))}else ne.push({command:bn.removeLayer,args:[Le]}),He=Ce[Ce.lastIndexOf(Le)+1],ne.push({command:bn.addLayer,args:[Qe,He]})}(H,A.layers,j)}catch($){console.warn("Unable to compute style diff:",$),j=[{command:bn.setStyle,args:[A]}]}return j}(this.serialize(),r).filter(E=>!(E.command in Ql));if(m.length===0)return!1;const b=m.filter(E=>!(E.command in rf));if(b.length>0)throw new Error(`Unimplemented: ${b.map(E=>E.command).join(", ")}.`);const w=[];return m.forEach(E=>{w.push(this[E.command].apply(this,E.args))}),d&&Promise.all(w).then(d),this.stylesheet=r,this.mergeAll(),this.dispatcher.broadcast("setLayers",{layers:this._serializeLayers(this._order),scope:this.scope,options:this.options}),!0}addImage(r,d){return this.getImage(r)?this.fire(new n.t(new Error("An image with this name already exists."))):(this.imageManager.addImage(r,this.scope,d),this._afterImageUpdated(r),this)}updateImage(r,d){this.imageManager.updateImage(r,this.scope,d)}getImage(r){return this.imageManager.getImage(r,this.scope)}removeImage(r){return this.getImage(r)?(this.imageManager.removeImage(r,this.scope),this._afterImageUpdated(r),this):this.fire(new n.t(new Error("No image with this name exists.")))}_afterImageUpdated(r){this._availableImages=this.imageManager.listImages(this.scope),this._changes.updateImage(r),this.dispatcher.broadcast("setImages",{scope:this.scope,images:this._availableImages}),this.fire(new n.x("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addModel(r,d,m={}){return this._checkLoaded(),this._validate(Xe,`models.${r}`,d,null,m)||(this.modelManager.addModel(r,d,this.scope),this._changes.setDirty()),this}hasModel(r){return this.modelManager.hasModel(r,this.scope)}removeModel(r){return this.hasModel(r)?(this.modelManager.removeModel(r,this.scope),this):this.fire(new n.t(new Error("No model with this ID exists.")))}listModels(){return this._checkLoaded(),this.modelManager.listModels(this.scope)}addSource(r,d,m={}){if(this._checkLoaded(),this.getOwnSource(r)!==void 0)throw new Error(`There is already a source with ID "${r}".`);if(!d.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(d).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(d.type)>=0&&this._validate(fa,`sources.${r}`,d,null,m))return;this.map&&this.map._collectResourceTiming&&(d.collectResourceTiming=!0);const b=Uh(r,d,this.dispatcher,this);b.scope=this.scope,b.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(b.id),source:b.serialize(),sourceId:b.id}));const w=E=>{const A=(E?"symbol:":"other:")+b.id,j=n.av(A,this.scope),$=this._sourceCaches[A]=new Jr(j,b,E);(E?this._symbolSourceCaches:this._otherSourceCaches)[b.id]=$,$.onAdd(this.map)};w(!1),d.type!=="vector"&&d.type!=="geojson"||w(!0),b.onAdd&&b.onAdd(this.map),m.isInitialLoad||(this.mergeSources(),this._changes.setDirty())}removeSource(r){this._checkLoaded();const d=this.getOwnSource(r);if(!d)throw new Error("There is no source with this ID");for(const b in this._layers)if(this._layers[b].source===r)return this.fire(new n.t(new Error(`Source "${r}" cannot be removed while layer "${b}" is using it.`)));if(this.terrain&&this.terrain.scope===this.scope&&this.terrain.get().source===r)return this.fire(new n.t(new Error(`Source "${r}" cannot be removed while terrain is using it.`)));const m=this.getOwnSourceCaches(r);for(const b of m){const w=n.cn(b.id);delete this._sourceCaches[w],this._changes.discardSourceCacheUpdate(b.id),b.fire(new n.x("data",{sourceDataType:"metadata",dataType:"source",sourceId:b.getSource().id})),b.setEventedParent(null),b.clearTiles()}return delete this._otherSourceCaches[r],delete this._symbolSourceCaches[r],this.mergeSources(),d.setEventedParent(null),d.onRemove&&d.onRemove(this.map),this._changes.setDirty(),this}setGeoJSONSourceData(r,d){this._checkLoaded(),this.getOwnSource(r).setData(d),this._changes.setDirty()}getOwnSource(r){const d=this.getOwnSourceCache(r);return d&&d.getSource()}getOwnSources(){const r=[];for(const d in this._otherSourceCaches){const m=this.getOwnSourceCache(d);m&&r.push(m.getSource())}return r}areTilesLoaded(){const r=this._mergedSourceCaches;for(const d in r){const m=r[d]._tiles;for(const b in m){const w=m[b];if(w.state!=="loaded"&&w.state!=="errored")return!1}}return!0}setLights(r){if(this._checkLoaded(),!r)return delete this.ambientLight,void delete this.directionalLight;const d=this._getTransitionParameters();for(const b of r){if(this._validate(vu,"lights",b))return;switch(b.type){case"ambient":if(this.ambientLight){const w=this.ambientLight;w.set(b),w.updateTransitions(d)}else this.ambientLight=new Vi(b,kn||(kn=new n.a0({color:new n.a1(n._.properties_light_ambient.color),intensity:new n.a1(n._.properties_light_ambient.intensity)})),this.scope,this.options);break;case"directional":if(this.directionalLight){const w=this.directionalLight;w.set(b),w.updateTransitions(d)}else this.directionalLight=new Vi(b,yn||(yn=new n.a0({direction:new n.ad(n._.properties_light_directional.direction),color:new n.a1(n._.properties_light_directional.color),intensity:new n.a1(n._.properties_light_directional.intensity),"cast-shadows":new n.a1(n._.properties_light_directional["cast-shadows"]),"shadow-intensity":new n.a1(n._.properties_light_directional["shadow-intensity"])})),this.scope,this.options)}}const m=new n.a3(this.z||0,d);this.ambientLight&&this.ambientLight.recalculate(m),this.directionalLight&&this.directionalLight.recalculate(m),this._brightness=this.calculateLightsBrightness(),this.dispatcher.broadcast("setBrightness",this._brightness)}calculateLightsBrightness(){const r=this.directionalLight,d=this.ambientLight;if(!r||!d)return;const m=W=>.2126*(W[0]<=.03928?W[0]/12.92:Math.pow((W[0]+.055)/1.055,2.4))+.7152*(W[1]<=.03928?W[1]/12.92:Math.pow((W[1]+.055)/1.055,2.4))+.0722*(W[2]<=.03928?W[2]/12.92:Math.pow((W[2]+.055)/1.055,2.4)),b=r.properties.get("color").toRenderColor(null).toArray01(),w=r.properties.get("intensity"),E=r.properties.get("direction"),A=1-n.c8(E.x,E.y,E.z)[2]/90,j=m(b)*w*A,$=d.properties.get("color").toRenderColor(null).toArray01(),z=d.properties.get("intensity"),H=m($)*z;return Number(((j+H)/2).toFixed(6))}getBrightness(){return this._brightness}getLights(){if(!this.enable3dLights())return null;const r=[];return this.directionalLight&&r.push(this.directionalLight.get()),this.ambientLight&&r.push(this.ambientLight.get()),r}enable3dLights(){return!!this.ambientLight&&!!this.directionalLight}getFragmentStyle(r){if(!r)return this;if(n.aK(r)){const d=n.co(r),m=this.fragments.find(({id:w})=>w===d);if(!m)throw new Error(`Style import '${r}' not found`);const b=n.cn(r);return m.style.getFragmentStyle(b)}{const d=this.fragments.find(({id:m})=>m===r);if(!d)throw new Error(`Style import '${r}' not found`);return d.style}}getFeaturesetDescriptors(r){const d=this.getFragmentStyle(r);if(!d||!d.stylesheet.featuresets)return[];const m=[];for(const b in d.stylesheet.featuresets)m.push({featuresetId:b,importId:d.scope?d.scope:void 0});return m}getFeaturesetLayers(r,d){const m=this.getFragmentStyle(d),b=m.stylesheet.featuresets;if(!b||!b[r])return this.fire(new n.t(new Error(`The featureset '${r}' does not exist in the map's style and cannot be queried.`))),[];const w=[];for(const E of b[r].selectors){const A=m.getOwnLayer(E.layer);A&&w.push(A)}return w}getConfigProperty(r,d){const m=this.getFragmentStyle(r);if(!m)return null;const b=n.av(d,m.scope),w=m.options.get(b),E=w?w.value||w.default:null;return E?E.serialize():null}setConfigProperty(r,d,m){const b=this.getFragmentStyle(r);if(!b)return;const w=b.stylesheet.schema;if(!w||!w[d])return;const E=n.M(m);if(E.result!=="success")return void ga(this,E.value);const A=E.value.expression,j=n.av(d,b.scope),$=b.options.get(j);if(!$)return;let z;const{minValue:H,maxValue:W,stepValue:ee,type:oe,values:ne}=w[d],se=n.M(w[d].default);se.result==="success"&&(z=se.value.expression),z?(this.options.set(j,{...$,value:A,default:z,minValue:H,maxValue:W,stepValue:ee,type:oe,values:ne}),this.updateConfigDependencies(d)):this.fire(new n.t(new Error(`No schema defined for the config option "${d}" in the "${r}" fragment.`)))}getConfig(r){const d=this.getFragmentStyle(r);if(!d)return null;const m=d.stylesheet.schema;if(!m)return null;const b={};for(const w in m){const E=n.av(w,d.scope),A=d.options.get(E),j=A?A.value||A.default:null;b[w]=j?j.serialize():null}return b}setConfig(r,d){const m=this.getFragmentStyle(r);m&&(m.updateConfig(d,m.stylesheet.schema),this.updateConfigDependencies())}getSchema(r){const d=this.getFragmentStyle(r);return d?d.stylesheet.schema:null}setSchema(r,d){const m=this.getFragmentStyle(r);m&&(m.stylesheet.schema=d,m.updateConfig(m._config,d),this.updateConfigDependencies())}updateConfig(r,d){if(this._config=r,r||d)if(d)for(const m in d){let b,w;const E=n.M(d[m].default);if(E.result==="success"&&(b=E.value.expression),r&&r[m]!==void 0){const W=n.M(r[m]);W.result==="success"&&(w=W.value.expression)}const{minValue:A,maxValue:j,stepValue:$,type:z,values:H}=d[m];if(b){const W=n.av(m,this.scope);this.options.set(W,{default:b,value:w,minValue:A,maxValue:j,stepValue:$,type:z,values:H})}else this.fire(new n.t(new Error(`No schema defined for config option "${m}".`)))}else this.fire(new n.t(new Error("Attempting to set config for a style without schema.")))}updateConfigDependencies(r){for(const d of this._configDependentLayers){const m=this.getLayer(d);if(m){if(r&&!m.configDependencies.has(r))continue;m.possiblyEvaluateVisibility(),this._updateLayer(m)}}this.ambientLight&&this.ambientLight.updateConfig(this.options),this.directionalLight&&this.directionalLight.updateConfig(this.options),this.fog&&this.fog.updateConfig(this.options),this.forEachFragmentStyle(d=>{if(d._styleColorTheme.colorTheme){const m=d._evaluateColorThemeData(d._styleColorTheme.colorTheme);(!d._styleColorTheme.lut&&m!==""||d._styleColorTheme.lut&&m!==d._styleColorTheme.lut.data)&&d.setColorTheme(d._styleColorTheme.colorTheme)}}),this._changes.setDirty()}addLayer(r,d,m={}){this._checkLoaded();const b=r.id;if(this._layers[b])return void this.fire(new n.t(new Error(`Layer with id "${b}" already exists on this map`)));let w;if(r.type==="custom"){if(ga(this,n.cp(r)))return;w=n.cq(r,this.scope,this._styleColorTheme.lut,this.options)}else{if(typeof r.source=="object"&&(this.addSource(b,r.source),r=n.cm(r),r=n.l(r,{source:b})),this._validate(xt,`layers.${b}`,r,{arrayIndex:-1},m))return;w=n.cq(r,this.scope,this._styleColorTheme.lut,this.options),this._validateLayer(w),w.setEventedParent(this,{layer:{id:b}})}w.configDependencies.size!==0&&this._configDependentLayers.add(w.fqid);let E=this._order.length;if(d){const z=this._order.indexOf(d);if(z===-1)return void this.fire(new n.t(new Error(`Layer with id "${d}" does not exist on this map.`)));w.slot===this._layers[d].slot?E=z:n.w(`Layer with id "${d}" has a different slot. Layers can only be rearranged within the same slot.`)}this._order.splice(E,0,b),this._layerOrderChanged=!0,this._layers[b]=w;const A=this.getOwnLayerSourceCache(w),j=!!this.directionalLight&&this.directionalLight.shadowsEnabled();A&&w.canCastShadows()&&j&&(A.castsShadows=!0);const $=this._changes.getRemovedLayer(w);if($&&w.source&&A&&w.type!=="custom"){this._changes.discardLayerRemoval(w);const z=n.av(w.source,w.scope);$.type!==w.type?this._changes.updateSourceCache(z,"clear"):(this._changes.updateSourceCache(z,"reload"),A.pause())}this._updateLayer(w),w.onAdd&&w.onAdd(this.map),w.scope=this.scope,this.mergeLayers()}moveLayer(r,d){this._checkLoaded();const m=this._checkLayer(r);if(!m||r===d)return;const b=this._order.indexOf(r);this._order.splice(b,1);let w=this._order.length;if(d){const E=this._order.indexOf(d);if(E===-1)return void this.fire(new n.t(new Error(`Layer with id "${d}" does not exist on this map.`)));m.slot===this._layers[d].slot?w=E:n.w(`Layer with id "${d}" has a different slot. Layers can only be rearranged within the same slot.`)}this._order.splice(w,0,r),this._changes.setDirty(),this._layerOrderChanged=!0,this.mergeLayers()}removeLayer(r){this._checkLoaded();const d=this._checkLayer(r);if(!d)return;d.setEventedParent(null);const m=this._order.indexOf(r);this._order.splice(m,1),delete this._layers[r],this._changes.setDirty(),this._layerOrderChanged=!0,this._configDependentLayers.delete(d.fqid),this._changes.removeLayer(d);const b=this.getOwnLayerSourceCache(d);if(b&&b.castsShadows){let w=!1;for(const E in this._layers)if(this._layers[E].source===d.source&&this._layers[E].canCastShadows()){w=!0;break}b.castsShadows=w}d.onRemove&&d.onRemove(this.map),this.mergeLayers()}getOwnLayer(r){return this._layers[r]}hasLayer(r){return r in this._mergedLayers}hasLayerType(r){for(const d in this._layers)if(this._layers[d].type===r)return!0;return!1}setLayerZoomRange(r,d,m){this._checkLoaded();const b=this._checkLayer(r);b&&(b.minzoom===d&&b.maxzoom===m||(d!=null&&(b.minzoom=d),m!=null&&(b.maxzoom=m),this._updateLayer(b)))}getSlots(){return this._checkLoaded(),this._mergedSlots}setSlot(r,d){this._checkLoaded();const m=this._checkLayer(r);m&&m.slot!==d&&(m.slot=d,this._updateLayer(m))}setFilter(r,d,m={}){this._checkLoaded();const b=this._checkLayer(r);if(b&&!n.bi(b.filter,d))return d==null?(b.filter=void 0,void this._updateLayer(b)):void(this._validate(le,`layers.${b.id}.filter`,d,{layerType:b.type},m)||(b.filter=n.cm(d),this._updateLayer(b)))}getFilter(r){const d=this._checkLayer(r);if(d)return n.cm(d.filter)}setLayoutProperty(r,d,m,b={}){this._checkLoaded();const w=this._checkLayer(r);if(w&&!n.bi(w.getLayoutProperty(d),m)){if(m!=null&&(!b||b.validate!==!1)&&ga(w,ke.call(Lr,{key:`layers.${r}.layout.${d}`,layerType:w.type,objectKey:d,value:m,styleSpec:n._,style:{glyphs:!0,sprite:!0}})))return;w.setLayoutProperty(d,m),w.configDependencies.size!==0&&this._configDependentLayers.add(w.fqid),this._updateLayer(w)}}getLayoutProperty(r,d){const m=this._checkLayer(r);if(m)return m.getLayoutProperty(d)}setPaintProperty(r,d,m,b={}){this._checkLoaded();const w=this._checkLayer(r);if(!w||n.bi(w.getPaintProperty(d),m)||m!=null&&(!b||b.validate!==!1)&&ga(w,fe.call(Lr,{key:`layers.${r}.paint.${d}`,layerType:w.type,objectKey:d,value:m,styleSpec:n._})))return;const E=w.setPaintProperty(d,m);w.configDependencies.size!==0&&this._configDependentLayers.add(w.fqid),E&&this._updateLayer(w),this._changes.updatePaintProperties(w)}getPaintProperty(r,d){const m=this._checkLayer(r);if(m)return m.getPaintProperty(d)}setFeatureState(r,d){this._checkLoaded();const m=r.featureset;if(m){if("featuresetId"in m){const $=this.getFragmentStyle(m.importId),z=$.getFeaturesetLayers(m.featuresetId);for(const{source:H,sourceLayer:W}of z)$.setFeatureState({id:r.id,source:H,sourceLayer:W},d)}else if("layerId"in m){const $=this.getLayer(m.layerId);this.setFeatureState({id:r.id,source:$.source,sourceLayer:$.sourceLayer},d)}return}const b=r.source,w=r.sourceLayer,E=this._checkSource(b);if(!E)return;const A=E.type;if(A==="geojson"&&w)return void this.fire(new n.t(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(A==="vector"&&!w)return void this.fire(new n.t(new Error("The sourceLayer parameter must be provided for vector source types.")));r.id===void 0&&this.fire(new n.t(new Error("The feature id parameter must be provided.")));const j=this.getOwnSourceCaches(b);for(const $ of j)$.setFeatureState(w,r.id,d)}removeFeatureState(r,d){this._checkLoaded();const m=r.featureset;if(m){if("featuresetId"in m){const $=this.getFragmentStyle(m.importId),z=$.getFeaturesetLayers(m.featuresetId);for(const{source:H,sourceLayer:W}of z)$.removeFeatureState({id:r.id,source:H,sourceLayer:W},d)}else if("layerId"in m){const $=this.getLayer(m.layerId);this.removeFeatureState({id:r.id,source:$.source,sourceLayer:$.sourceLayer},d)}return}const b=r.source,w=this._checkSource(b);if(!w)return;const E=w.type,A=E==="vector"?r.sourceLayer:void 0;if(E==="vector"&&!A)return void this.fire(new n.t(new Error("The sourceLayer parameter must be provided for vector source types.")));if(d&&typeof r.id!="string"&&typeof r.id!="number")return void this.fire(new n.t(new Error("A feature id is required to remove its specific state property.")));const j=this.getOwnSourceCaches(b);for(const $ of j)$.removeFeatureState(A,r.id,d)}getFeatureState(r){this._checkLoaded();const d=r.featureset;if(d){let E;if("featuresetId"in d){const A=this.getFragmentStyle(d.importId),j=A.getFeaturesetLayers(d.featuresetId);for(const{source:$,sourceLayer:z}of j){const H=A.getFeatureState({id:r.id,source:$,sourceLayer:z});if(H&&!E)E=H;else if(!n.bi(E,H))return void this.fire(new n.t(new Error("The same feature id exists in multiple sources in the featureset, but their feature states are not consistent through the sources.")))}}else if("layerId"in r){const A=this.getLayer(d.layerId);E=this.getFeatureState({id:r.id,source:A.source,sourceLayer:A.sourceLayer})}return E}const m=r.source,b=r.sourceLayer,w=this._checkSource(m);if(w){if(w.type!=="vector"||b)return r.id===void 0&&this.fire(new n.t(new Error("The feature id parameter must be provided."))),this.getOwnSourceCaches(m)[0].getFeatureState(b,r.id);this.fire(new n.t(new Error("The sourceLayer parameter must be provided for vector source types.")))}}setTransition(r){return this.stylesheet.transition=n.l({},this.stylesheet.transition,r),this.transition=this.stylesheet.transition,this}getTransition(){return n.l({},this.stylesheet.transition)}serialize(){this._checkLoaded();const r=this.getTerrain(),d=r&&this.terrain&&this.terrain.scope===this.scope?r:this.stylesheet.terrain;return n.cr({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,fragment:this.stylesheet.fragment,imports:this._serializeImports(),schema:this.stylesheet.schema,camera:this.stylesheet.camera,light:this.stylesheet.light,lights:this.stylesheet.lights,terrain:d,fog:this.stylesheet.fog,center:this.stylesheet.center,"color-theme":this.stylesheet["color-theme"],zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:this._serializeSources(),layers:this._serializeLayers(this._order)},m=>m!==void 0)}_updateFilteredLayers(r){for(const d of Object.values(this._mergedLayers))r(d)&&this._updateLayer(d)}_updateLayer(r){this._changes.updateLayer(r);const d=this.getLayerSourceCache(r),m=n.av(r.source,r.scope),b=this._changes.getUpdatedSourceCaches();r.source&&!b[m]&&d&&d.getSource().type!=="raster"&&(this._changes.updateSourceCache(m,"reload"),d.pause()),r.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(r){const d=A=>this._mergedLayers[A].is3D(),m=this.order,b={},w=[];for(let A=m.length-1;A>=0;A--){const j=m[A];if(d(j)){b[j]=A;for(const $ of r){const z=$[j];if(z)for(const H of z)w.push(H)}}}w.sort((A,j)=>j.intersectionZ-A.intersectionZ);const E=[];for(let A=m.length-1;A>=0;A--){const j=m[A];if(d(j))for(let $=w.length-1;$>=0;$--){const z=w[$].feature;if(z.layer&&b[z.layer.id]<A)break;E.push(z),w.pop()}else for(const $ of r){const z=$[j];if(z)for(const H of z)E.push(H.feature)}}return E}queryRenderedFeatures(r,d,m){d&&!Array.isArray(d)&&d.filter&&this._validate(le,"queryRenderedFeatures.filter",d.filter,null,d);let b,w=!1;const E=new Set;if(d&&d.layers){if(!Array.isArray(d.layers))return this.fire(new n.t(new Error("parameters.layers must be an Array."))),[];b=[];for(const z of d.layers){const H=this._mergedLayers[z];if(!H)return this.fire(new n.t(new Error(`The layer '${z}' does not exist in the map's style and cannot be queried for features.`))),[];H.is3D()&&(w=!0),E.add(H.source),b.push(z)}}else w=this.has3DLayers();const A=this._queryRenderedFeatures(r,m,{layerIds:b,filter:d.filter,has3DLayers:w,includedSources:E}),j=this._flattenAndSortRenderedFeatures(A),$=[];for(const z of j)n.co(z.layer.id)===this.scope&&$.push(z);return $}queryRenderedFeaturesForInteractions(r,d,m){let b=[];for(const{featureset:j,filter:$,radius:z}of d){let H=!1;const W=[],ee=new Set;if("featuresetId"in j){const ne=this.getFeaturesetLayers(j.featuresetId,j.importId);if(ne.length===0)continue;for(const se of ne)se.is3D()&&(H=!0),ee.add(se.source),W.push(se.fqid)}else if("layerId"in j){const ne=this._mergedLayers[j.layerId];if(!ne)return this.fire(new n.t(new Error(`The layer '${j.layerId}' does not exist in the map's style and cannot be queried for features.`))),[];ne.is3D()&&(H=!0),ee.add(ne.source),W.push(j.layerId)}let oe=r;if(z)if(r instanceof n.P||typeof r[0]=="number"){const ne=n.P.convert(r);oe=[[ne.x-z,ne.y-z],[ne.x+z,ne.y+z]]}else{const ne=n.P.convert(r[0]),se=n.P.convert(r[1]);oe=[[ne.x-z,ne.y-z],[se.x+z,se.y+z]]}b=b.concat(this._queryRenderedFeatures(oe,m,{layerIds:W,filter:$,has3DLayers:H,includedSources:ee}))}const w=this._flattenAndSortRenderedFeatures(b),E=(j,$,z)=>{const H=j.clone();if(delete H.layer,H.featureset=$,z&&z.featureNamespace&&(H.namespace=z.featureNamespace),z&&z.properties){const W={},ee=this.map.transform.zoom;for(const oe of Object.keys(z.properties)){const ne=z.properties[oe].evaluate({zoom:ee},j._vectorTileFeature,j.state,j.tile,this._availableImages);ne!=null&&(W[oe]=ne)}H.properties=W}return H},A=[];for(const j of w){const $=j.layer.id,z=n.cn($),H=n.co($);for(const{featureset:W}of d){if("layerId"in W&&W.layerId!==$)continue;if("layerId"in W&&W.layerId===$){const oe=E(j,W);A.push(oe);continue}if("featuresetId"in W&&(W.importId!==H||!this.getFeaturesetLayers(W.featuresetId,W.importId).map(oe=>oe.id).includes(z)))continue;const ee=this._mergedLayerSelectors.get($)||[];for(const oe of ee){const ne=E(j,W,oe);A.push(ne)}}}return A}_queryRenderedFeatures(r,d,m){const{layerIds:b,filter:w,has3DLayers:E,includedSources:A}=m,j=[],$=Yi.createFromScreenPoints(r,d);for(const z in this._mergedSourceCaches){if(!this._mergedSourceCaches[z].getSource())continue;const H=this._mergedSourceCaches[z].getSource().id;b&&!A.has(H)||j.push(c0(this._mergedSourceCaches[z],this._mergedLayers,$,w,b||[],this._availableImages,d,E,!!this.map._showQueryGeometry))}return this.placement&&j.push(function(z,H,W,ee,oe,ne,se,ae){const me={},Fe=se.queryRenderedSymbols(W),Ce=[];for(const Pe of Object.keys(Fe).map(Number))Ce.push(ae[Pe]);Ce.sort(Ol);for(const Pe of Ce){const Me=Pe.featureIndex.lookupSymbolFeatures(Fe[Pe.bucketInstanceId],Pe.bucketIndex,Pe.sourceLayerIndex,ee,oe,ne,z);for(const Ie in Me){const Le=me[Ie]=me[Ie]||[],$e=Me[Ie];$e.sort((Qe,He)=>{const Ue=Pe.featureSortOrder;if(Ue){const gt=Ue.indexOf(Qe.featureIndex);return Ue.indexOf(He.featureIndex)-gt}return He.featureIndex-Qe.featureIndex});for(const Qe of $e)Le.push(Qe)}}for(const Pe in me)me[Pe].forEach(Me=>{const Ie=Me.feature,Le=z[Pe],$e=H(Le);if(!$e)return;const Qe=$e.getFeatureState(Ie.layer["source-layer"],Ie.id);Ie.state=Qe,n.aK(Le.id)||(Ie.source=Ie.layer.source,Ie.layer["source-layer"]&&(Ie.sourceLayer=Ie.layer["source-layer"]))});return me}(this._mergedLayers,this.getLayerSourceCache.bind(this),$.screenGeometry,w,b||[],this._availableImages,this.placement.collisionIndex,this.placement.retainedQueryData)),j}querySourceFeatures(r,d){const m=d&&d.filter;m&&this._validate(le,"querySourceFeatures.filter",m,null,d);let b=[];const w=this.getOwnSourceCaches(r);for(const E of w)b=b.concat(l0(E,d));return b}addSourceType(r,d,m){return _a.getSourceType(r)?m(new Error(`A source type called "${r}" already exists.`)):(_a.setSourceType(r,d),d.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:r,url:d.workerSourceURL},m):m(null,null))}getFlatLight(){return this.light.getLight()}setFlatLight(r,d,m={}){this._checkLoaded();const b=this.light.getLight();let w=!1;for(const A in r)if(!n.bi(r[A],b[A])){w=!0;break}if(!w)return;const E=this._getTransitionParameters();this.light.setLight(r,d,m),this.light.updateTransitions(E)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}checkCanvasFingerprintNoise(){this.disableElevatedTerrain===void 0&&(this.disableElevatedTerrain=n.q.hasCanvasFingerprintNoise(),this.disableElevatedTerrain&&n.w("Terrain and hillshade are disabled because of Canvas2D limitations when fingerprinting protection is enabled (e.g. in private browsing mode)."))}setTerrain(r,d=1){if(this._checkLoaded(),!r)return this.terrainSetForDrapingOnly()||(delete this.terrain,this.map.transform.projection.requiresDraping&&this.setTerrainForDraping()),d===0&&delete this.terrain,r===null?this.stylesheet.terrain=null:delete this.stylesheet.terrain,this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);this.checkCanvasFingerprintNoise();let m=r;const b=r.source==null;if(d===1){if(this.disableElevatedTerrain)return;if(typeof m.source=="object"){const A="terrain-dem-src";this.addSource(A,m.source),m=n.cm(m),m=n.l(m,{source:A})}const w=n.l({},m),E={};if(this.terrain&&b){w.source=this.terrain.get().source;const A=this.terrain?this.getFragmentStyle(this.terrain.scope):null;A&&(E.style=A.serialize())}if(this._validate(Al,"terrain",w,E))return}if(!this.terrain||this.terrain.scope!==this.scope&&!b||this.terrain&&d!==this.terrain.drapeRenderMode){if(!m)return;this._createTerrain(m,d),this.fire(new n.x("data",{dataType:"style"}))}else{const w=this.terrain,E=w.get();for(const A of Object.keys(n._.terrain))!m.hasOwnProperty(A)&&n._.terrain[A].default&&(m[A]=n._.terrain[A].default);for(const A in r)if(!n.bi(r[A],E[A])){w.set(r,this.options),this.stylesheet.terrain=r;const j=this._getTransitionParameters({duration:0});w.updateTransitions(j),this.fire(new n.x("data",{dataType:"style"}));break}}this.mergeTerrain(),this.updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(r){const d=this.fog=new Hi(r,this.map.transform,this.scope,this.options);this.stylesheet.fog=d.get();const m=this._getTransitionParameters({duration:0});d.updateTransitions(m)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const r of this.map._markers)r._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(r){if(this._checkLoaded(),!r)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const d=this.fog;if(!n.bi(d.get(),r)){d.set(r,this.options),this.stylesheet.fog=d.get();const m=this._getTransitionParameters({duration:0});d.updateTransitions(m)}}else this._createFog(r);this._markersNeedUpdate=!0}setColorTheme(r){this._checkLoaded();const d=()=>{for(const b in this._layers)this._layers[b].lut=this._styleColorTheme.lut;for(const b in this._sourceCaches)this._sourceCaches[b].clearTiles()};if(this._styleColorTheme.colorTheme=r,!r)return this._styleColorTheme.lut=null,void d();const m=this._evaluateColorThemeData(r);this._loadColorTheme(m).then(()=>{this.fire(new n.x("colorthemeset")),d()}).catch(b=>{n.w(`Couldn't set color theme: ${b}`)})}_getTransitionParameters(r){return{now:n.q.now(),transition:n.l(this.transition,r)}}updateDrapeFirstLayers(){if(!this.terrain)return;const r=[],d=[];for(const m of this._mergedOrder)this.isLayerDraped(this._mergedLayers[m])?r.push(m):d.push(m);this._drapedFirstOrder=[],this._drapedFirstOrder.push(...r),this._drapedFirstOrder.push(...d)}_createTerrain(r,d){const m=this.terrain=new bt(r,d,this.scope,this.options);d===1&&(this.stylesheet.terrain=r),this.mergeTerrain(),this.updateDrapeFirstLayers(),this._force3DLayerUpdate();const b=this._getTransitionParameters({duration:0});m.updateTransitions(b)}_force3DLayerUpdate(){for(const r in this._layers){const d=this._layers[r];d.type==="fill-extrusion"&&this._updateLayer(d)}}_forceSymbolLayerUpdate(){for(const r in this._layers){const d=this._layers[r];d.type==="symbol"&&this._updateLayer(d)}}_validate(r,d,m,b,w={}){if(w&&w.validate===!1)return!1;const E=n.l({},this.serialize());return ga(this,r.call(Lr,n.l({key:d,style:E,value:m,styleSpec:n._},b)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),n.cs.off("pluginStateChange",this._rtlTextPluginCallback);for(const r in this._mergedLayers)this._mergedLayers[r].setEventedParent(null);for(const r in this._mergedSourceCaches)this._mergedSourceCaches[r].clearTiles(),this._mergedSourceCaches[r].setEventedParent(null);this.setEventedParent(null),delete this.fog,delete this.terrain,delete this.ambientLight,delete this.directionalLight,this.isRootStyle()&&(this.imageManager.setEventedParent(null),this.modelManager.setEventedParent(null),this.dispatcher.remove())}clearSource(r){const d=this.getSourceCaches(r);for(const m of d)m.clearTiles()}clearSources(){for(const r in this._mergedSourceCaches)this._mergedSourceCaches[r].clearTiles()}reloadSource(r){const d=this.getSourceCaches(r);for(const m of d)m.resume(),m.reload()}reloadSources(){for(const r of this.getSources())r.reload&&r.reload()}updateSources(r){let d;this.directionalLight&&(d=tf(this.directionalLight));for(const m in this._mergedSourceCaches)this._mergedSourceCaches[m].update(r,void 0,void 0,d)}_generateCollisionBoxes(){for(const r in this._sourceCaches){const d=this._sourceCaches[r];d.resume(),d.reload()}}_updatePlacement(r,d,m,b,w,E,A=!1){let j=!1,$=!1;const z={},H={};for(const W of this._mergedOrder){const ee=this._mergedLayers[W];if(ee.type!=="symbol")continue;const oe=n.av(ee.source,ee.scope);let ne=z[oe];if(!ne){const ae=this.getLayerSourceCache(ee);if(!ae)continue;const me=ae.getRenderableIds(!0).map(Fe=>ae.getTileByID(Fe));H[oe]=me.slice(),ne=z[oe]=me.sort((Fe,Ce)=>Ce.tileID.overscaledZ-Fe.tileID.overscaledZ||(Fe.tileID.isLessThan(Ce.tileID)?-1:1))}const se=this.crossTileSymbolIndex.addLayer(ee,ne,d.center.lng,d.projection);j=j||se}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._mergedOrder),A=A||this._layerOrderChanged||b===0,this._layerOrderChanged&&this.fire(new n.x("neworder")),(A||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(n.q.now(),d.zoom))&&(this.pauseablePlacement=new Eu(d,this._mergedOrder,A,m,b,w,this.placement,this.fog&&d.projection.supportsFog?this.fog.state:null,this._buildingIndex),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._mergedOrder,this._mergedLayers,z,H,this.map.painter.scaleFactor),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(n.q.now()),$=!0),j&&this.pauseablePlacement.placement.setStale()),$||j){this._buildingIndex.onNewFrame(d.zoom);for(let W=0;W<this._mergedOrder.length;W++){const ee=this._mergedLayers[this._mergedOrder[W]];if(ee.type!=="symbol")continue;const oe=this.isLayerClipped(ee);this.placement.updateLayerOpacities(ee,z[n.av(ee.source,ee.scope)],W,oe?E:null)}}return{needsRerender:!this.pauseablePlacement.isDone()||this.placement.hasTransitions(n.q.now())}}_releaseSymbolFadeTiles(){for(const r in this._sourceCaches)this._sourceCaches[r].releaseSymbolFadeTiles()}addImport(r,d){this._checkLoaded();const m=this.stylesheet.imports=this.stylesheet.imports||[];if(m.findIndex(({id:w})=>w===r.id)!==-1)return void this.fire(new n.t(new Error(`Import with id '${r.id}' already exists in the map's style.`)));if(!d)return m.push(r),this._loadImports([r],!0);const b=m.findIndex(({id:w})=>w===d);return b===-1&&this.fire(new n.t(new Error(`Import with id "${d}" does not exist on this map.`))),this.stylesheet.imports=m.slice(0,b).concat(r).concat(m.slice(b)),this._loadImports([r],!0,d)}updateImport(r,d){this._checkLoaded();const m=this.stylesheet.imports||[],b=this.getImportIndex(r);return b===-1?this:typeof d=="string"?(this.setImportUrl(r,d),this):(d.url&&d.url!==m[b].url&&this.setImportUrl(r,d.url),n.bi(d.config,m[b].config)||this.setImportConfig(r,d.config),n.bi(d.data,m[b].data)||this.setImportData(r,d.data),this)}moveImport(r,d){this._checkLoaded();let m=this.stylesheet.imports||[];const b=this.getImportIndex(r);if(b===-1)return this;const w=this.getImportIndex(d);if(w===-1)return this;const E=m[b],A=this.fragments[b];return m=m.filter(({id:j})=>j!==r),this.fragments=this.fragments.filter(({id:j})=>j!==r),this.stylesheet.imports=m.slice(0,w).concat(E).concat(m.slice(w)),this.fragments=this.fragments.slice(0,w).concat(A).concat(this.fragments.slice(w)),this.mergeLayers(),this}setImportUrl(r,d){this._checkLoaded();const m=this.stylesheet.imports||[],b=this.getImportIndex(r);if(b===-1)return this;m[b].url=d;const w=this.fragments[b];return w.style=this._createFragmentStyle(m[b]),w.style.on("style.import.load",()=>this.mergeAll()),w.style.loadURL(d),this}setImportData(r,d){this._checkLoaded();const m=this.getImportIndex(r),b=this.stylesheet.imports||[];return m===-1?this:d?(this.fragments[m].style.setState(d),this._reloadImports(),this):(delete b[m].data,this.setImportUrl(r,b[m].url))}setImportConfig(r,d){this._checkLoaded();const m=this.getImportIndex(r),b=this.stylesheet.imports||[];if(m===-1)return this;d?b[m].config=d:delete b[m].config;const w=this.fragments[m],E=w.style.stylesheet&&w.style.stylesheet.schema;return w.config=d,w.style.updateConfig(d,E),this.updateConfigDependencies(),this}removeImport(r){this._checkLoaded();const d=this.stylesheet.imports||[],m=this.getImportIndex(r);m!==-1&&(d.splice(m,1),this.fragments[m].style._remove(),this.fragments.splice(m,1),this._reloadImports())}getImportIndex(r){const d=(this.stylesheet.imports||[]).findIndex(m=>m.id===r);return d===-1&&this.fire(new n.t(new Error(`Import '${r}' does not exist in the map's style and cannot be updated.`))),d}getLayer(r){return this._mergedLayers[r]}getSources(){const r=[];for(const d in this._mergedOtherSourceCaches){const m=this._mergedOtherSourceCaches[d];m&&r.push(m.getSource())}return r}getSource(r,d){const m=this.getSourceCache(r,d);return m&&m.getSource()}getLayerSource(r){const d=this.getLayerSourceCache(r);return d&&d.getSource()}getSourceCache(r,d){const m=n.av(r,d);return this._mergedOtherSourceCaches[m]}getLayerSourceCache(r){const d=n.av(r.source,r.scope);return r.type==="symbol"?this._mergedSymbolSourceCaches[d]:this._mergedOtherSourceCaches[d]}getSourceCaches(r){if(r==null)return Object.values(this._mergedSourceCaches);const d=[];return this._mergedOtherSourceCaches[r]&&d.push(this._mergedOtherSourceCaches[r]),this._mergedSymbolSourceCaches[r]&&d.push(this._mergedSymbolSourceCaches[r]),d}updateSourceCaches(){const r=this._changes.getUpdatedSourceCaches();for(const d in r){const m=r[d];m==="reload"?this.reloadSource(d):m==="clear"&&this.clearSource(d)}}updateLayers(r){const d=this._changes.getUpdatedPaintProperties();for(const m of d){const b=this.getLayer(m);b&&b.updateTransitions(r)}}getImages(r,d,m){this.imageManager.getImages(d.icons,d.scope,m),this._updateTilesForChangedImages();const b=w=>{w&&w.setDependencies(d.tileID.key,d.type,d.icons)};b(this._otherSourceCaches[d.source]),b(this._symbolSourceCaches[d.source])}getGlyphs(r,d,m){this.glyphManager.getGlyphs(d.stacks,d.scope,m)}getResource(r,d,m){return n.ct(d,m)}getOwnSourceCache(r){return this._otherSourceCaches[r]}getOwnLayerSourceCache(r){return r.type==="symbol"?this._symbolSourceCaches[r.source]:this._otherSourceCaches[r.source]}getOwnSourceCaches(r){const d=[];return this._otherSourceCaches[r]&&d.push(this._otherSourceCaches[r]),this._symbolSourceCaches[r]&&d.push(this._symbolSourceCaches[r]),d}_isSourceCacheLoaded(r){const d=this.getOwnSourceCaches(r);return d.length===0?(this.fire(new n.t(new Error(`There is no source with ID '${r}'`))),!1):d.every(m=>m.loaded())}has3DLayers(){return this._has3DLayers}hasSymbolLayers(){return this._hasSymbolLayers}hasCircleLayers(){return this._hasCircleLayers}isLayerClipped(r,d){if(!this._clipLayerPresent&&r.type!=="fill-extrusion")return!1;const m=r.type==="fill-extrusion"&&r.sourceLayer==="building";if(r.is3D()){if(m||d&&d.type==="batched-model"||r.type==="model")return!0}else if(r.type==="symbol")return!0;return!1}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.fragments.forEach(r=>{r.style._remove()}),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}_a.getSourceType=function(p){return $h[p]},_a.setSourceType=function(p,r){$h[p]=r},_a.registerForPluginStateChange=n.cd;var p_=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#ifdef RENDER_CUTOFF
float cutoff_opacity(vec4 cutoff_params,float depth) {float near=cutoff_params.x;float far=cutoff_params.y;float cutoffStart=cutoff_params.z;float cutoffEnd=cutoff_params.w;float linearDepth=(depth-near)/(far-near);return clamp((linearDepth-cutoffStart)/(cutoffEnd-cutoffStart),0.0,1.0);}
#endif`,w0=`
out vec4 glFragColor;highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}
#ifdef INDICATOR_CUTOUT
uniform vec2 u_indicator_cutout_centers;uniform vec4 u_indicator_cutout_params;
#endif
vec4 applyCutout(vec4 color) {
#ifdef INDICATOR_CUTOUT
float holeMinOpacity=u_indicator_cutout_params.x;float holeRadius=max(u_indicator_cutout_params.y,0.0);float holeAspectRatio=u_indicator_cutout_params.z;float fadeStart=u_indicator_cutout_params.w;float distA=distance(vec2(gl_FragCoord.x,gl_FragCoord.y*holeAspectRatio),vec2(u_indicator_cutout_centers[0],u_indicator_cutout_centers[1]*holeAspectRatio));return color*min(smoothstep(fadeStart,holeRadius,distA)+holeMinOpacity,1.0);
#else
return color;
#endif
}
#ifdef DEBUG_WIREFRAME
#define HANDLE_WIREFRAME_DEBUG \\
glFragColor=vec4(0.7,0.0,0.0,0.7); \\
gl_FragDepth=gl_FragCoord.z-0.0001;
#else
#define HANDLE_WIREFRAME_DEBUG
#endif
#ifdef RENDER_CUTOFF
uniform highp vec4 u_cutoff_params;in float v_cutoff_opacity;
#endif
vec4 textureLodCustom(sampler2D image,highp vec2 pos,highp vec2 lod_coord) {highp vec2 size=vec2(textureSize(image,0));highp vec2 dx=dFdx(lod_coord.xy*size);highp vec2 dy=dFdy(lod_coord.xy*size);highp float delta_max_sqr=max(dot(dx,dx),dot(dy,dy));highp float lod=0.5*log2(delta_max_sqr);return textureLod(image,pos,lod);}vec4 applyLUT(highp sampler3D lut,vec4 col) {vec3 size=vec3(textureSize(lut,0));vec3 uvw=(col.rbg*float(size-1.0)+0.5)/size;return vec4(texture(lut,uvw).rgb,col.a);}vec3 applyLUT(highp sampler3D lut,vec3 col) {return applyLUT(lut,vec4(col,1.0)).rgb;}`,F0=`
#define EXTENT 8192.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const vec2 units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (units_to_pixels*pos+offset)/pattern_size;}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {return get_pattern_pos(pixel_coord_upper,pixel_coord_lower,pattern_size,vec2(tile_units_to_pixels),pos);}float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(PI/4.0+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}
#ifdef RENDER_CUTOFF
uniform vec4 u_cutoff_params;out float v_cutoff_opacity;
#endif
const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);const float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)
{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}`,af="in highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;out highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",m_=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
#ifdef TERRAIN
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture(u_dem,pos).r;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=texture(u_dem,pos).r;float tr=texture(u_dem,pos+vec2(dd,0)).r;float bl=texture(u_dem,pos+vec2(0,dd)).r;float br=texture(u_dem,pos+vec2(dd,dd)).r;return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture(u_dem_prev,pos).r;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=texture(u_dem_prev,pos).r;float tr=texture(u_dem_prev,pos+vec2(dd,0)).r;float bl=texture(u_dem_prev,pos+vec2(0,dd)).r;float br=texture(u_dem_prev,pos+vec2(dd,dd)).r;return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
vec4 fourSample(vec2 pos,vec2 off) {float tl=texture(u_dem,pos).r;float tr=texture(u_dem,pos+vec2(off.x,0.0)).r;float bl=texture(u_dem,pos+vec2(0.0,off.y)).r;float br=texture(u_dem,pos+off).r;return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }
#endif
#ifdef DEPTH_OCCLUSION
uniform highp sampler2D u_depth;uniform highp vec2 u_depth_size_inv;uniform highp vec2 u_depth_range_unpack;uniform highp float u_occluder_half_size;uniform highp float u_occlusion_depth_offset;
#ifdef DEPTH_D24
float unpack_depth(float depth) {return depth*u_depth_range_unpack.x+u_depth_range_unpack.y;}vec4 unpack_depth4(vec4 depth) {return depth*u_depth_range_unpack.x+vec4(u_depth_range_unpack.y);}
#else
highp float unpack_depth_rgba(vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}
#endif
bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;
#ifdef DEPTH_D24
float depth=unpack_depth(texture(u_depth,(coord.xy+1.0)*0.5).r);
#else
float depth=unpack_depth_rgba(texture(u_depth,(coord.xy+1.0)*0.5));
#endif
return coord.z+u_occlusion_depth_offset > depth;}highp vec4 getCornerDepths(vec2 coord) {highp vec3 df=vec3(u_occluder_half_size*u_depth_size_inv,0.0);highp vec2 uv=0.5*coord.xy+0.5;
#ifdef DEPTH_D24
highp vec4 depth=vec4(
texture(u_depth,uv-df.xz).r,texture(u_depth,uv+df.xz).r,texture(u_depth,uv-df.zy).r,texture(u_depth,uv+df.zy).r
);depth=unpack_depth4(depth);
#else
highp vec4 depth=vec4(
unpack_depth_rgba(texture(u_depth,uv-df.xz)),unpack_depth_rgba(texture(u_depth,uv+df.xz)),unpack_depth_rgba(texture(u_depth,uv-df.zy)),unpack_depth_rgba(texture(u_depth,uv+df.zy))
);
#endif
return depth;}highp float occlusionFadeMultiSample(vec4 frag) {highp vec3 coord=frag.xyz/frag.w;highp vec2 uv=0.5*coord.xy+0.5;int NX=3;int NY=4;highp vec2 df=u_occluder_half_size*u_depth_size_inv;highp vec2 oneStep=2.0*u_occluder_half_size*u_depth_size_inv/vec2(NX-1,NY-1);highp float res=0.0;for (int y=0; y < NY;++y) {for (int x=0; x < NX;++x) {
#ifdef DEPTH_D24
highp float depth=unpack_depth(texture(u_depth,uv-df+vec2(float(x)*oneStep.x,float(y)*oneStep.y)).r);
#else
highp float depth=unpack_depth_rgba(texture(u_depth,uv-df+vec2(float(x)*oneStep.x,float(y)*oneStep.y)));
#endif
res+=1.0-clamp(300.0*(coord.z+u_occlusion_depth_offset-depth),0.0,1.0);}}res=clamp(2.0*res/float(NX*NY)-0.5,0.0,1.0);return res;}highp float occlusionFade(vec4 frag) {highp vec3 coord=frag.xyz/frag.w;highp vec4 depth=getCornerDepths(coord.xy);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z+u_occlusion_depth_offset)-depth),0.0,1.0));}
#else
bool isOccluded(vec4 frag) { return false; }highp float occlusionFade(vec4 frag) { return 1.0; }highp float occlusionFadeMultiSample(vec4 frag) { return 1.0; }
#endif//DEPTH_OCCLUSION`,g_=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;out vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,__=`highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}
#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump vec2 u_fog_vertical_limit;uniform mediump float u_fog_temporal_offset;in vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos,float opacity_limit) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,min(opacity,opacity_limit));}vec3 fog_apply(vec3 color,vec3 pos) {return fog_apply(color,pos,1.0);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec4 fog_apply_premultiplied(vec4 color,vec3 pos,float heightMeters) {float verticalProgress=(u_fog_vertical_limit.x > 0.0 || u_fog_vertical_limit.y > 0.0) ? smoothstep(u_fog_vertical_limit.x,u_fog_vertical_limit.y,heightMeters) : 0.0;float opacityLimit=1.0-smoothstep(0.9,1.0,fog_opacity(pos));return mix(fog_apply_premultiplied(color,pos),color,min(verticalProgress,opacityLimit));}vec3 fog_dither(vec3 color) {
#ifdef FOG_DITHERING
vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);
#else
return color;
#endif
}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`,y_=`#ifdef RASTER_ARRAY
uniform highp sampler2D u_image0;uniform sampler2D u_image1;const vec4 NODATA=vec4(1);ivec4 _raTexLinearCoord(highp vec2 texCoord,highp vec2 texResolution,out highp vec2 fxy) {texCoord=texCoord*texResolution-0.5;fxy=fract(texCoord);texCoord-=fxy;return ivec4(texCoord.xxyy+vec2(1.5,0.5).xyxy);}vec2 _raTexLinearMix(highp vec2 fxy,highp vec4 colorMix,highp float colorOffset,highp vec4 t00,highp vec4 t10,highp vec4 t01,highp vec4 t11) {vec2 c00=t00==NODATA ? vec2(0) : vec2(colorOffset+dot(t00,colorMix),1);vec2 c10=t10==NODATA ? vec2(0) : vec2(colorOffset+dot(t10,colorMix),1);vec2 c01=t01==NODATA ? vec2(0) : vec2(colorOffset+dot(t01,colorMix),1);vec2 c11=t11==NODATA ? vec2(0) : vec2(colorOffset+dot(t11,colorMix),1);return mix(mix(c01,c11,fxy.x),mix(c00,c10,fxy.x),fxy.y);}vec2 raTexture2D_image0_linear(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec2 fxy;ivec4 c=_raTexLinearCoord(texCoord,texResolution,fxy);return _raTexLinearMix(fxy,colorMix,colorOffset,texelFetch(u_image0,c.yz,0),texelFetch(u_image0,c.xz,0),texelFetch(u_image0,c.yw,0),texelFetch(u_image0,c.xw,0)
);}vec2 raTexture2D_image1_linear(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec2 fxy;ivec4 c=_raTexLinearCoord(texCoord,texResolution,fxy);return _raTexLinearMix(fxy,colorMix,colorOffset,texelFetch(u_image1,c.yz,0),texelFetch(u_image1,c.xz,0),texelFetch(u_image1,c.yw,0),texelFetch(u_image1,c.xw,0)
);}vec2 raTexture2D_image0_nearest(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec4 t=texelFetch(u_image0,ivec2(texCoord*texResolution),0);return t==NODATA ? vec2(0) : vec2(colorOffset+dot(t,colorMix),1);}vec2 raTexture2D_image1_nearest(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec4 t=texelFetch(u_image1,ivec2(texCoord*texResolution),0);return t==NODATA ? vec2(0) : vec2(colorOffset+dot(t,colorMix),1);}
#endif`,C0=`#ifdef RASTER_ARRAY
uniform sampler2D u_velocity;uniform mediump vec2 u_velocity_res;uniform mediump float u_max_speed;const vec4 NO_DATA=vec4(1);const vec2 INVALID_VELOCITY=vec2(-1);uniform highp vec2 u_uv_offset;uniform highp float u_data_offset;uniform highp vec2 u_data_scale;ivec4 rasterArrayLinearCoord(highp vec2 texCoord,highp vec2 texResolution,out highp vec2 fxy) {texCoord=texCoord*texResolution-0.5;fxy=fract(texCoord);texCoord-=fxy;return ivec4(texCoord.xxyy+vec2(1.5,0.5).xyxy);}highp vec2 lookup_velocity(highp vec2 uv) {uv=u_uv_offset.x+u_uv_offset.y*uv;highp vec2 fxy;ivec4 c=rasterArrayLinearCoord(uv,u_velocity_res,fxy);highp vec4 tl=texelFetch(u_velocity,c.yz,0);highp vec4 tr=texelFetch(u_velocity,c.xz,0);highp vec4 bl=texelFetch(u_velocity,c.yw,0);highp vec4 br=texelFetch(u_velocity,c.xw,0);if (tl==NO_DATA) {return INVALID_VELOCITY;}if (tr==NO_DATA) {return INVALID_VELOCITY;}if (bl==NO_DATA) {return INVALID_VELOCITY;}if (br==NO_DATA) {return INVALID_VELOCITY;}highp vec4 t=mix(mix(bl,br,fxy.x),mix(tl,tr,fxy.x),fxy.y);highp vec2 velocity=u_data_offset+vec2(dot(t.rg,u_data_scale),dot(t.ba,u_data_scale));velocity.y=-velocity.y;velocity/=max(u_max_speed,length(velocity));return velocity;}
#endif
uniform highp float u_particle_pos_scale;uniform highp vec2 u_particle_pos_offset;highp vec4 pack_pos_to_rgba(highp vec2 p) {highp vec2 v=(p+u_particle_pos_offset)/u_particle_pos_scale;highp vec4 r=vec4(v.x,fract(v.x*255.0),v.y,fract(v.y*255.0));return vec4(r.x-r.y/255.0,r.y,r.z-r.w/255.0,r.w);}highp vec2 unpack_pos_from_rgba(highp vec4 v) {v=floor(v*255.0+0.5)/255.0;highp vec2 p=vec2(v.x+(v.y/255.0),v.z+(v.w/255.0));return u_particle_pos_scale*p-u_particle_pos_offset;}`,b_=`#ifdef RENDER_SHADOWS
uniform mediump vec3 u_shadow_direction;uniform highp vec3 u_shadow_normal_offset;vec3 shadow_normal_offset(vec3 normal) {float tileInMeters=u_shadow_normal_offset[0];vec3 n=vec3(-normal.xy,tileInMeters*normal.z);float dotScale=min(1.0-dot(normal,u_shadow_direction),1.0)*0.5+0.5;return n*dotScale;}vec3 shadow_normal_offset_model(vec3 normal) {vec3 transformed_normal=vec3(-normal.xy,normal.z);float NDotL=dot(normalize(transformed_normal),u_shadow_direction);float dotScale=min(1.0-NDotL,1.0)*0.5+0.5;return normal*dotScale;}float shadow_normal_offset_multiplier0() {return u_shadow_normal_offset[1];}float shadow_normal_offset_multiplier1() {return u_shadow_normal_offset[2];}
#endif//RENDER_SHADOWS`,Tu=`#ifdef RENDER_SHADOWS
#ifdef DEPTH_TEXTURE
uniform highp sampler2D u_shadowmap_0;uniform highp sampler2D u_shadowmap_1;
#else
uniform sampler2D u_shadowmap_0;uniform sampler2D u_shadowmap_1;
#endif
uniform float u_shadow_intensity;uniform float u_shadow_map_resolution;uniform float u_shadow_texel_size;uniform highp vec3 u_shadow_normal_offset;uniform vec2 u_fade_range;uniform mediump vec3 u_shadow_direction;uniform highp vec3 u_shadow_bias;highp float shadow_sample_1(highp vec2 uv,highp float compare) {highp float shadow_depth;
#ifdef DEPTH_TEXTURE
shadow_depth=texture(u_shadowmap_1,uv).r;
#else
shadow_depth=unpack_depth(texture(u_shadowmap_1,uv))*0.5+0.5;
#endif
return step(shadow_depth,compare);}highp float shadow_sample_0(highp vec2 uv,highp float compare) {highp float shadow_depth;
#ifdef DEPTH_TEXTURE
shadow_depth=texture(u_shadowmap_0,uv).r;
#else
shadow_depth=unpack_depth(texture(u_shadowmap_0,uv))*0.5+0.5;
#endif
return step(shadow_depth,compare);}float shadow_occlusion_1(highp vec4 pos,highp float bias) {highp vec2 uv=pos.xy;return shadow_sample_1(uv,pos.z-bias);}float shadow_occlusion_0(highp vec4 pos,highp float bias) {highp float compare0=pos.z-bias;
#ifdef TEXTURE_GATHER
highp vec2 uv=pos.xy;highp vec4 samples=textureGather(u_shadowmap_0,uv,0);lowp vec4 stepSamples=step(samples,vec4(compare0));
#else
highp vec2 uv00=pos.xy-vec2(0.5*u_shadow_texel_size);highp vec2 uv10=uv00+vec2(u_shadow_texel_size,0.0);highp vec2 uv01=uv00+vec2(0.0,u_shadow_texel_size);highp vec2 uv11=uv01+vec2(u_shadow_texel_size,0.0);lowp vec4 stepSamples=vec4(
shadow_sample_0(uv01,compare0),shadow_sample_0(uv11,compare0),shadow_sample_0(uv10,compare0),shadow_sample_0(uv00,compare0)
);
#endif
vec2 f=fract(pos.xy*u_shadow_map_resolution-vec2(0.5));lowp vec2 lerpx=mix(stepSamples.wx,stepSamples.zy,f.xx);return mix(lerpx.x,lerpx.y,f.y);}float shadow_occlusion(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth,highp float bias) {
#ifdef SHADOWS_SINGLE_CASCADE
light_view_pos0.xyz=light_view_pos0.xyz/light_view_pos0.w*0.5+0.5;return shadow_occlusion_0(light_view_pos0,bias);
#else
light_view_pos0.xyz/=light_view_pos0.w;light_view_pos1.xyz/=light_view_pos1.w;vec4 uv=vec4(light_view_pos0.xy,light_view_pos1.xy);vec4 abs_bounds=abs(uv);if (abs_bounds.x < 1.0 && abs_bounds.y < 1.0) {light_view_pos0.xyz=light_view_pos0.xyz*0.5+0.5;return shadow_occlusion_0(light_view_pos0,bias);}if (abs_bounds.z >=1.0 || abs_bounds.w >=1.0) {return 0.0;}light_view_pos1.xyz=light_view_pos1.xyz*0.5+0.5;float occlusion1=shadow_occlusion_1(light_view_pos1,bias);return mix(occlusion1,0.0,smoothstep(u_fade_range.x,u_fade_range.y,view_depth));
#endif
}highp float calculate_shadow_bias(float NDotL) {
#ifdef NORMAL_OFFSET
return 0.5*u_shadow_bias.x;
#else
return 0.5*(u_shadow_bias.x+clamp(u_shadow_bias.y*tan(acos(NDotL)),0.0,u_shadow_bias.z));
#endif
}float shadowed_light_factor_normal(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float NDotL=dot(N,u_shadow_direction);float bias=calculate_shadow_bias(NDotL);float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}float shadowed_light_factor_normal_opacity(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth,float shadow_opacity) {float NDotL=dot(N,u_shadow_direction);float bias=calculate_shadow_bias(NDotL);float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias)*shadow_opacity;return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}float shadowed_light_factor_normal_unbiased(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float NDotL=dot(N,u_shadow_direction);float bias=0.0;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}float shadowed_light_factor(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float bias=0.0;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return 1.0-(u_shadow_intensity*occlusion);}float shadow_occlusion(float ndotl,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float bias=calculate_shadow_bias(ndotl);return shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);}
#endif`;const sf=[];Ec(p_,sf),Ec(F0,sf),Ec(w0,sf);const Ru={"_prelude_fog.vertex.glsl":g_,"_prelude_terrain.vertex.glsl":m_,"_prelude_shadow.vertex.glsl":b_,"_prelude_fog.fragment.glsl":__,"_prelude_shadow.fragment.glsl":Tu,"_prelude_lighting.glsl":`
#ifdef LIGHTING_3D_MODE
uniform mediump vec3 u_lighting_ambient_color;uniform mediump vec3 u_lighting_directional_dir;uniform mediump vec3 u_lighting_directional_color;uniform mediump vec3 u_ground_radiance;float calculate_ambient_directional_factor(vec3 normal) {float NdotL=dot(normal,u_lighting_directional_dir);const float factor_reduction_max=0.3;float dir_luminance=dot(u_lighting_directional_color,vec3(0.2126,0.7152,0.0722));float directional_factor_min=1.0-factor_reduction_max*min(dir_luminance,1.0);float ambient_directional_factor=mix(directional_factor_min,1.0,min((NdotL+1.0),1.0));const float vertical_factor_min=0.92;float vertical_factor=mix(vertical_factor_min,1.0,normal.z*0.5+0.5);return vertical_factor*ambient_directional_factor;}vec3 linearProduct(vec3 srgbIn,vec3 k) {return srgbIn*pow(k,vec3(1./2.2));}vec3 apply_lighting(vec3 color,vec3 normal,float dir_factor) {float ambient_directional_factor=calculate_ambient_directional_factor(normal);vec3 ambient_contrib=ambient_directional_factor*u_lighting_ambient_color;vec3 directional_contrib=u_lighting_directional_color*dir_factor;return linearProduct(color,ambient_contrib+directional_contrib);}vec4 apply_lighting(vec4 color,vec3 normal,float dir_factor) {return vec4(apply_lighting(color.rgb,normal,dir_factor),color.a);}vec3 apply_lighting(vec3 color,vec3 normal) {float dir_factor=max(dot(normal,u_lighting_directional_dir),0.0);return apply_lighting(color.rgb,normal,dir_factor);}vec4 apply_lighting(vec4 color,vec3 normal) {float dir_factor=max(dot(normal,u_lighting_directional_dir),0.0);return vec4(apply_lighting(color.rgb,normal,dir_factor),color.a);}vec3 apply_lighting_ground(vec3 color) {return color*u_ground_radiance;}vec4 apply_lighting_ground(vec4 color) {return vec4(apply_lighting_ground(color.rgb),color.a);}float calculate_NdotL(vec3 normal) {const float ext=0.70710678118;return (clamp(dot(normal,u_lighting_directional_dir),-ext,1.0)+ext)/(1.0+ext);}vec4 apply_lighting_with_emission_ground(vec4 color,float emissive_strength) {return mix(apply_lighting_ground(color),color,emissive_strength);}vec3 compute_flood_lighting(vec3 flood_light_color,float fully_occluded_factor,float occlusion,vec3 ground_shadow_factor) {vec3 fully_occluded_color=flood_light_color*mix(ground_shadow_factor,vec3(1.0),fully_occluded_factor);float occlusion_ramp=smoothstep(0.0,0.2,1.0-occlusion);return mix(fully_occluded_color,flood_light_color,occlusion_ramp);}vec3 compute_emissive_draped(vec3 unlit_color,float fully_occluded_factor,float occlusion,vec3 ground_shadow_factor) {vec3 fully_occluded_color=unlit_color*mix(ground_shadow_factor,vec3(1.0),fully_occluded_factor);return mix(fully_occluded_color,unlit_color,1.0-occlusion);}
#endif//LIGHTING_3D_MODE`,"_prelude_raster_array.glsl":y_,"_prelude_raster_particle.glsl":C0},Xl={};dn("",m_),dn(__,g_),dn(Tu,b_),dn(y_,""),dn(C0,"");const Pu=dn(w0,F0),cf=p_;var Cc={background:dn(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
in vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_lighting.glsl"
in vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform mediump vec4 u_color;out vec4 v_color;uniform float u_emissive_strength;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting_with_emission_ground(u_color,u_emissive_strength);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:dn(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform float u_emissive_strength;uniform sampler2D u_image;in highp vec2 v_pos;void main() {highp vec2 imagecoord=mod(v_pos,1.0);highp vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=textureLodCustom(u_image,pos,v_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec2 u_pattern_units_to_pixels;in vec2 a_pos;out highp vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_pattern_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:dn(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
uniform float u_emissive_strength;void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float blur_positive=blur < 0.0 ? 0.0 : 1.0;lowp float antialiasblur=v_data.z;float extrude_length=length(extrude)+antialiasblur*(1.0-blur_positive);float antialiased_blur=-max(abs(blur),antialiasblur);float opacity_t=smoothstep((1.0-blur_positive)*antialiased_blur,blur_positive*antialiased_blur,extrude_length-1.0)-smoothstep(0.0,antialiasblur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
glFragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:dn("void main() {glFragColor=vec4(1.0);}","in vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:dn(`#include "_prelude_fog.fragment.glsl"
uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);glFragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {glFragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_terrain.vertex.glsl"
#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:dn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));glFragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(0.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,"in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:dn("in float v_placed;in float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);glFragColor =mix(red,blue,step(0.5,v_placed))*0.5;glFragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`#include "_prelude_terrain.vertex.glsl"
in vec3 a_pos;in vec2 a_anchor_pos;in vec2 a_extrude;in vec2 a_placed;in vec2 a_shift;in vec2 a_elevation_from_sea;in float a_size_scale;in vec2 a_padding;in float a_auto_z_offset;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;out float v_placed;out float v_notUsed;void main() {float feature_elevation=a_elevation_from_sea.x+a_auto_z_offset;float terrain_elevation=(a_elevation_from_sea.y==1.0 ? 0.0 : elevation(a_anchor_pos));vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*(feature_elevation+terrain_elevation),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:dn("in float v_radius;in vec2 v_extrude;in float v_perspective_ratio;in float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);glFragColor=color*alpha*opacity_t;}",`in vec2 a_pos_2f;in float a_radius;in vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;out float v_radius;out vec2 v_extrude;out float v_perspective_ratio;out float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:dn("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);glFragColor=mix(u_color,overlay_color,overlay_color.a);}",`#include "_prelude_terrain.vertex.glsl"
in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;
#endif
out vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:dn(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
uniform float u_emissive_strength;
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
in vec2 a_pos;
#ifdef ELEVATED_ROADS
in float a_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp float z_offset
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp float z_offset
#ifdef ELEVATED_ROADS
z_offset+=a_road_z_offset;
#endif
float hidden=float(opacity==0.0);gl_Position=mix(u_matrix*vec4(a_pos,z_offset,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
vec3 shd_pos0=vec3(a_pos,z_offset);vec3 shd_pos1=vec3(a_pos,z_offset);
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:dn(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
in highp vec2 v_pos;uniform float u_emissive_strength;
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
in vec2 a_pos;
#ifdef ELEVATED_ROADS
in float a_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
uniform mat4 u_matrix;uniform vec2 u_world;out highp vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp float z_offset
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp float z_offset
#ifdef ELEVATED_ROADS
z_offset+=a_road_z_offset;
#endif
float hidden=float(opacity==0.0);gl_Position=mix(u_matrix*vec4(a_pos,z_offset,1),AWAY,hidden);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef RENDER_SHADOWS
vec3 shd_pos0=vec3(a_pos,z_offset);vec3 shd_pos1=vec3(a_pos,z_offset);
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:dn(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_emissive_strength;
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
in highp vec2 v_pos;in highp vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;highp vec2 imagecoord=mod(v_pos,1.0);highp vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);highp vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;
#ifdef ELEVATED_ROADS
in float a_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
out highp vec2 v_pos;out highp vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define highp float z_offset
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize highp float z_offset
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;
#ifdef ELEVATED_ROADS
z_offset+=a_road_z_offset;
#endif
float hidden=float(opacity==0.0);gl_Position=mix(u_matrix*vec4(a_pos,z_offset,1),AWAY,hidden);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef RENDER_SHADOWS
vec3 shd_pos0=vec3(a_pos,z_offset);vec3 shd_pos1=vec3(a_pos,z_offset);
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:dn(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;in highp vec2 v_pos;uniform float u_emissive_strength;
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;highp vec2 imagecoord=mod(v_pos,1.0);highp vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);highp vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;
#ifdef ELEVATED_ROADS
in float a_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
out highp vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define highp float z_offset
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize highp float z_offset
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;
#ifdef ELEVATED_ROADS
z_offset+=a_road_z_offset;
#endif
float hidden=float(opacity==0.0);gl_Position=mix(u_matrix*vec4(a_pos,z_offset,1),AWAY,hidden);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef RENDER_SHADOWS
vec3 shd_pos0=vec3(a_pos,z_offset);vec3 shd_pos1=vec3(a_pos,z_offset);
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:dn(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
in vec4 v_color;in vec4 v_flat;
#ifdef RENDER_SHADOWS
in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;
#endif
uniform lowp float u_opacity;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;in vec2 v_ao;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
in vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
in highp vec3 v_normal;
#endif
uniform vec3 u_flood_light_color;uniform highp float u_vertical_scale;uniform float u_flood_light_intensity;uniform vec3 u_ground_shadow_factor;
#if defined(LIGHTING_3D_MODE) && defined(FLOOD_LIGHT)
in float v_flood_radius;in float v_has_floodlight;
#endif
in float v_height;
#pragma mapbox: define highp float emissive_strength
void main() {
#pragma mapbox: initialize highp float emissive_strength
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
vec3 normal=normalize(v_normal);
#endif
float z;vec4 color=v_color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);
#ifdef LIGHTING_3D_MODE
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#else
color=mix(v_color,v_roof_color,z);
#endif
#endif
float h=max(0.0,v_height);float ao_shade=1.0;
#ifdef FAUX_AO
float intensity=u_ao[0];float h_floors=h/(u_ao[1]*u_vertical_scale);float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);ao_shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);ao_shade*=mix(1.0,x_shade*x_shade*x_shade,concave);
#ifdef LIGHTING_3D_MODE
#ifdef FLOOD_LIGHT
color.rgb*=mix(ao_shade,1.0,v_has_floodlight);
#else
color.rgb*=ao_shade;
#endif
#else
color.rgb*=ao_shade;
#endif
#endif
#ifdef LIGHTING_3D_MODE
float flood_radiance=0.0;
#ifdef FLOOD_LIGHT
flood_radiance=(1.0-min(h/v_flood_radius,1.0))*u_flood_light_intensity*v_has_floodlight;
#endif
#ifdef RENDER_SHADOWS
#ifdef FLOOD_LIGHT
float ndotl_unclamped=dot(normal,u_shadow_direction);float ndotl=max(0.0,ndotl_unclamped);float occlusion=ndotl_unclamped < 0.0 ? 1.0 : shadow_occlusion(ndotl,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);vec3 litColor=apply_lighting(color.rgb,normal,(1.0-u_shadow_intensity*occlusion)*ndotl);vec3 floodLitColor=compute_flood_lighting(u_flood_light_color*u_opacity,1.0-u_shadow_intensity,occlusion,u_ground_shadow_factor);color.rgb=mix(litColor,floodLitColor,flood_radiance);
#else
float shadowed_lighting_factor;
#ifdef RENDER_CUTOFF
shadowed_lighting_factor=shadowed_light_factor_normal_opacity(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w,v_cutoff_opacity);if (v_cutoff_opacity==0.0) {discard;}
#else
shadowed_lighting_factor=shadowed_light_factor_normal(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);
#endif
color.rgb=apply_lighting(color.rgb,normal,shadowed_lighting_factor);
#endif
#else
color.rgb=apply_lighting(color.rgb,normal);
#ifdef FLOOD_LIGHT
color.rgb=mix(color.rgb,u_flood_light_color*u_opacity,flood_radiance);
#endif
#endif
color.rgb=mix(color.rgb,v_flat.rgb,emissive_strength);color*=u_opacity;
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos,h));
#endif
#ifdef INDICATOR_CUTOUT
color=applyCutout(color);
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
#include "_prelude_lighting.glsl"
uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;uniform float u_width_scale;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#ifdef RENDER_WALL_MODE
in vec3 a_join_normal_inside;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
#ifdef TERRAIN
uniform int u_height_type;uniform int u_base_type;
#endif
uniform highp float u_vertical_scale;out vec4 v_color;out vec4 v_flat;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
out vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
out highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;out vec2 v_ao;
#endif
#if defined(LIGHTING_3D_MODE) && defined(FLOOD_LIGHT)
out float v_flood_radius;out float v_has_floodlight;
#endif
out float v_height;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
#pragma mapbox: define highp float flood_light_wall_radius
#pragma mapbox: define highp float line_width
#pragma mapbox: define highp float emissive_strength
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize highp float flood_light_wall_radius
#pragma mapbox: initialize highp float line_width
#pragma mapbox: initialize highp float emissive_strength
base*=u_vertical_scale;height*=u_vertical_scale;vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
v_normal=normal;
#endif
base=max(0.0,base);float attr_height=height;height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele=0.0;vec3 pos;
#ifdef TERRAIN
bool is_flat_height=centroid_pos.x !=0.0 && u_height_type==1;bool is_flat_base=centroid_pos.x !=0.0 && u_base_type==1;ele=elevation(pos_nx.xy);c_ele=is_flat_height || is_flat_base ? (centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos)) : ele;float h_height=is_flat_height ? max(c_ele+height,ele+base+2.0) : ele+height;float h_base=is_flat_base ? max(c_ele+base,ele+base) : ele+(base==0.0 ?-5.0 : base);h=t > 0.0 ? max(h_base,h_height) : h_base;pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float cutoff=1.0;vec3 scaled_pos=pos;
#ifdef RENDER_CUTOFF
vec3 centroid_random=vec3(centroid_pos.xy,centroid_pos.x+centroid_pos.y+1.0);vec3 ground_pos=centroid_pos.x==0.0 ? pos.xyz : (centroid_random/8.0);vec4 ground=u_matrix*vec4(ground_pos.xy,ele,1.0);cutoff=cutoff_opacity(u_cutoff_params,ground.z);if (centroid_pos.y !=0.0 && centroid_pos.x !=0.0) {vec3 g=floor(ground_pos);vec3 mod_=centroid_random-g*8.0;float seed=min(1.0,0.1*(min(3.5,max(mod_.x+mod_.y,0.2*attr_height))*0.35+mod_.z));if (cutoff < 0.8-seed) {cutoff=0.0;}}float cutoff_scale=cutoff;v_cutoff_opacity=cutoff;scaled_pos.z=mix(c_ele,h,cutoff_scale);
#endif
float hidden=float((centroid_pos.x==0.0 && centroid_pos.y==1.0) || (cutoff==0.0 && centroid_pos.x !=0.0) || (color.a==0.0));
#ifdef RENDER_WALL_MODE
vec2 wall_offset=u_width_scale*line_width*(a_join_normal_inside.xy/EXTENT);scaled_pos.xy+=(1.0-a_join_normal_inside.z)*wall_offset*0.5;scaled_pos.xy-=a_join_normal_inside.z*wall_offset*0.5;
#endif
gl_Position=mix(u_matrix*vec4(scaled_pos,1),AWAY,hidden);h=h-ele;v_height=h;
#ifdef RENDER_SHADOWS
vec3 shd_pos0=pos;vec3 shd_pos1=pos;
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(normal);shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifndef LIGHTING_3D_MODE
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);if (normal.y !=0.0) {float r=0.84;r=mix(0.7,0.98,1.0-u_lightintensity);NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#endif
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec2(mix(concave,-concave,start),y_ground);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
#ifdef FLOOD_LIGHT
float is_wall=1.0-float(t > 0.0 && top_up_ny.y > 0.0);v_has_floodlight=float(flood_light_wall_radius > 0.0 && is_wall > 0.0);v_flood_radius=flood_light_wall_radius*u_vertical_scale;
#endif
v_color=vec4(color.rgb,1.0);v_flat=vec4(linearProduct(color.rgb,vec3(calculate_NdotL(normal))),1.0);
#else
v_color=vec4(0.0,0.0,0.0,1.0);v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color=vec4(0.0,0.0,0.0,1.0);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionDepth:dn(`in highp float v_depth;void main() {
#ifndef DEPTH_TEXTURE
glFragColor=pack_depth(v_depth);
#endif
}`,`#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;uniform float u_edge_radius;uniform float u_width_scale;uniform float u_vertical_scale;
#ifdef TERRAIN
uniform int u_height_type;uniform int u_base_type;
#endif
in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#ifdef RENDER_WALL_MODE
in vec3 a_join_normal_inside;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp float line_width
#pragma mapbox: define highp vec4 color
out highp float v_depth;void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp float line_width
#pragma mapbox: initialize highp vec4 color
base*=u_vertical_scale;height*=u_vertical_scale;vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
vec3 pos;
#ifdef TERRAIN
bool is_flat_height=centroid_pos.x !=0.0 && u_height_type==1;bool is_flat_base=centroid_pos.x !=0.0 && u_base_type==1;float ele=elevation(pos_nx.xy);float c_ele=is_flat_height || is_flat_base ? (centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos)) : ele;float h_height=is_flat_height ? max(c_ele+height,ele+base+2.0) : ele+height;float h_base=is_flat_base ? max(c_ele+base,ele+base) : ele+(base==0.0 ?-5.0 : base);float h=t > 0.0 ? max(h_base,h_height) : h_base;pos=vec3(pos_nx.xy,h);
#else
pos=vec3(pos_nx.xy,t > 0.0 ? height : base);
#endif
#ifdef RENDER_WALL_MODE
vec2 wall_offset=u_width_scale*line_width*(a_join_normal_inside.xy/EXTENT);pos.xy+=(1.0-a_join_normal_inside.z)*wall_offset*0.5;pos.xy-=a_join_normal_inside.z*wall_offset*0.5;
#endif
float hidden=float((centroid_pos.x==0.0 && centroid_pos.y==1.0) || (color.a==0.0));gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);v_depth=gl_Position.z/gl_Position.w;}`),fillExtrusionPattern:dn(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;in vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
in vec3 v_normal;
#endif
in highp vec2 v_pos;in vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define highp float pixel_ratio
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize highp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;highp vec2 imagecoord=mod(v_pos,1.0);highp vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);highp vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,normalize(v_normal))*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef INDICATOR_CUTOUT
out_color=applyCutout(out_color);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#include "_prelude_lighting.glsl"
uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_width_scale;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#ifdef RENDER_WALL_MODE
in vec3 a_join_normal_inside;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
#ifdef TERRAIN
uniform int u_height_type;uniform int u_base_type;
#endif
out highp vec2 v_pos;out vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;out vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
out vec3 v_normal;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define highp float pixel_ratio
#pragma mapbox: define highp float line_width
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize highp float pixel_ratio
#pragma mapbox: initialize highp float line_width
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool is_flat_height=centroid_pos.x !=0.0 && u_height_type==1;bool is_flat_base=centroid_pos.x !=0.0 && u_base_type==1;ele=elevation(pos_nx.xy);c_ele=is_flat_height || is_flat_base ? (centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos)) : ele;float h_height=is_flat_height ? max(c_ele+height,ele+base+2.0) : ele+height;float h_base=is_flat_base ? max(c_ele+base,ele+base) : ele+(base==0.0 ?-5.0 : base);h=t > 0.0 ? max(h_base,h_height) : h_base;p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
#ifdef RENDER_WALL_MODE
vec2 wall_offset=u_width_scale*line_width*(a_join_normal_inside.xy/EXTENT);p.xy+=(1.0-a_join_normal_inside.z)*wall_offset*0.5;p.xy-=a_join_normal_inside.z*wall_offset*0.5;
#endif
float hidden=float((centroid_pos.x==0.0 && centroid_pos.y==1.0) || (color.a==0.0));gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_normal=normal;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),groundShadow:dn(`#include "_prelude_shadow.fragment.glsl"
precision highp float;uniform vec3 u_ground_shadow_factor;in vec4 v_pos_light_view_0;in vec4 v_pos_light_view_1;
#ifdef FOG
in float v_fog_opacity;
#endif
void main() {float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);vec3 shadow=mix(u_ground_shadow_factor,vec3(1.0),light);
#ifdef RENDER_CUTOFF
shadow=mix(vec3(1.0),shadow,cutoff_opacity(u_cutoff_params,1.0/gl_FragCoord.w));
#endif
#ifdef FOG
shadow=mix(shadow,vec3(1.0),v_fog_opacity);
#endif
#ifdef INDICATOR_CUTOUT
shadow=mix(shadow,vec3(1.0),1.0-applyCutout(vec4(1.0)).r);
#endif
glFragColor=vec4(shadow,1.0);}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;in vec2 a_pos;out vec4 v_pos_light_view_0;out vec4 v_pos_light_view_1;
#ifdef FOG
out float v_fog_opacity;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0.0,1.0);v_pos_light_view_0=u_light_matrix_0*vec4(a_pos,0.0,1.0);v_pos_light_view_1=u_light_matrix_1*vec4(a_pos,0.0,1.0);
#ifdef FOG
v_fog_pos=fog_position(a_pos);v_fog_opacity=fog(v_fog_pos);
#endif
}`),fillExtrusionGroundEffect:dn(`uniform highp float u_ao_pass;uniform highp float u_opacity;uniform highp float u_flood_light_intensity;uniform highp vec3 u_flood_light_color;uniform highp float u_attenuation;uniform sampler2D u_fb;uniform float u_fb_size;
#ifdef SDF_SUBPASS
in highp vec2 v_pos;in highp vec4 v_line_segment;in highp float v_flood_light_radius_tile;in highp vec2 v_ao;float line_df(highp vec2 a,highp vec2 b,highp vec2 p) {highp vec2 ba=b-a;highp vec2 pa=p-a;highp float r=clamp(dot(pa,ba)/dot(ba,ba),0.0,1.0);return length(pa-r*ba);}
#ifdef FOG
in highp float v_fog;
#endif
#endif
void main() {
#ifdef CLEAR_SUBPASS
vec4 color=vec4(1.0);
#ifdef CLEAR_FROM_TEXTURE
color=texture(u_fb,gl_FragCoord.xy/vec2(u_fb_size));
#endif
glFragColor=color;
#else
#ifdef SDF_SUBPASS
highp float d=line_df(v_line_segment.xy,v_line_segment.zw,v_pos);highp float effect_radius=mix(v_flood_light_radius_tile,v_ao.y,u_ao_pass);d/=effect_radius;d=min(d,1.0);d=1.0-pow(1.0-d,u_attenuation);highp float effect_intensity=mix(u_flood_light_intensity,v_ao.x,u_ao_pass);highp float fog=1.0;
#ifdef FOG
fog=v_fog;
#endif
#ifdef RENDER_CUTOFF
fog*=v_cutoff_opacity;
#endif
glFragColor=vec4(vec3(0.0),mix(1.0,d,effect_intensity*u_opacity*fog));
#else
vec4 color=mix(vec4(u_flood_light_color,1.0),vec4(vec3(0.0),1.0),u_ao_pass);
#ifdef OVERDRAW_INSPECTOR
color=vec4(1.0);
#endif
glFragColor=color;
#endif
HANDLE_WIREFRAME_DEBUG;
#endif
}`,`#include "_prelude_fog.vertex.glsl"
in highp vec4 a_pos_end;in highp float a_angular_offset_factor;in highp float a_hidden_by_landmark;
#ifdef SDF_SUBPASS
out highp vec2 v_pos;out highp vec4 v_line_segment;out highp float v_flood_light_radius_tile;out highp vec2 v_ao;
#ifdef FOG
out highp float v_fog;
#endif
#endif
uniform highp float u_flood_light_intensity;uniform highp mat4 u_matrix;uniform highp float u_ao_pass;uniform highp float u_meter_to_tile;uniform highp float u_edge_radius;uniform highp float u_dynamic_offset;uniform highp vec2 u_ao;
#pragma mapbox: define highp float flood_light_ground_radius
const float TANGENT_CUTOFF=4.0;const float NORM=32767.0;void main() {
#pragma mapbox: initialize highp float flood_light_ground_radius
vec2 p=a_pos_end.xy;vec2 q=floor(a_pos_end.zw*0.5);vec2 start_bottom=a_pos_end.zw-q*2.0;float fl_ground_radius=flood_light_ground_radius;fl_ground_radius=abs(flood_light_ground_radius);float direction=flood_light_ground_radius < 0.0 ?-1.0 : 1.0;float flood_radius_tile=fl_ground_radius*u_meter_to_tile;vec2 v=normalize(q-p);float ao_radius=u_ao.y/3.5;float effect_radius=mix(flood_radius_tile,ao_radius,u_ao_pass)+u_edge_radius;float angular_offset_factor=a_angular_offset_factor/NORM*TANGENT_CUTOFF;float angular_offset=direction*angular_offset_factor*effect_radius;float top=1.0-start_bottom.y;float side=(0.5-start_bottom.x)*2.0;vec2 extrusion_parallel=v*side*mix(u_dynamic_offset,angular_offset,top);vec2 perp=vec2(v.y,-v.x);vec2 extrusion_perp=direction*perp*effect_radius*top;vec3 pos=vec3(mix(q,p,start_bottom.x),0.0);pos.xy+=extrusion_parallel+extrusion_perp;
#ifdef SDF_SUBPASS
v_pos=pos.xy;v_line_segment=vec4(p,q)+perp.xyxy*u_edge_radius;v_flood_light_radius_tile=flood_radius_tile;v_ao=vec2(u_ao.x,ao_radius);
#ifdef FOG
v_fog_pos=fog_position(pos);v_fog=1.0-fog(v_fog_pos);
#endif
#endif
float hidden_by_landmark=0.0;
#ifdef HAS_CENTROID
hidden_by_landmark=a_hidden_by_landmark;
#endif
float isFloodlit=float(fl_ground_radius > 0.0 && u_flood_light_intensity > 0.0);float hidden=mix(1.0-isFloodlit,isFloodlit,u_ao_pass);hidden+=hidden_by_landmark;gl_Position=mix(u_matrix*vec4(pos,1.0),AWAY,float(hidden > 0.0));
#ifdef RENDER_CUTOFF
v_cutoff_opacity=cutoff_opacity(u_cutoff_params,gl_Position.z);
#endif
}`),hillshadePrepare:dn(`precision highp float;uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;float getElevation(vec2 coord) {return texture(u_image,coord).r/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));glFragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:dn(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;uniform float u_emissive_strength;void main() {vec4 pixel=texture(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);glFragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
glFragColor=apply_lighting_with_emission_ground(glFragColor,u_emissive_strength);
#endif
#ifdef FOG
glFragColor=fog_dither(fog_apply_premultiplied(glFragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:dn(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;uniform highp vec2 u_trim_fade_range;uniform lowp vec4 u_trim_color;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;in vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}uniform float u_emissive_strength;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float border_width
#pragma mapbox: define lowp vec4 border_color
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float border_width
#pragma mapbox: initialize lowp vec4 border_color
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture(u_dash_image,v_tex).r;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
float trim_alpha=1.0;
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {highp float start_transition=max(0.0,min(1.0,(line_progress-trim_start)/max(u_trim_fade_range[0],1.0e-9)));highp float end_transition=max(0.0,min(1.0,(trim_end-line_progress)/max(u_trim_fade_range[1],1.0e-9)));highp float transition_factor=min(start_transition,end_transition);out_color=mix(out_color,u_trim_color,transition_factor);trim_alpha=out_color.a;}
#endif
if (u_alpha_discard_threshold !=0.0) {if (alpha < u_alpha_discard_threshold) {discard;}}
#ifdef RENDER_LINE_BORDER
float edgeBlur=(border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);if (border_color.a==0.0) {float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}} else {out_color.rgb=mix(border_color.rgb*border_color.a*trim_alpha,out_color.rgb,smoothAlpha);}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
out_color*=(alpha*opacity);
#ifdef INDICATOR_CUTOUT
out_color=applyCutout(out_color);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#define EXTRUDE_SCALE 0.015873016
in vec2 a_pos_normal;in vec4 a_data;
#if defined(ELEVATED) || defined(ELEVATED_ROADS)
in float a_z_offset;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
in highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
in float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;
#ifdef ELEVATED
uniform lowp float u_zbias_factor;uniform lowp float u_tile_to_meter;float sample_elevation(vec2 apos) {
#ifdef ELEVATION_REFERENCE_SEA
return 0.0;
#else
return elevation(apos);
#endif
}
#endif
out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;out vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float border_width
#pragma mapbox: define lowp vec4 border_color
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float border_width
#pragma mapbox: initialize lowp vec4 border_color
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);float hidden=float(opacity==0.0);vec2 extrude=dist*u_pixels_to_tile_units;vec4 projected_extrude=u_matrix*vec4(extrude,0.0,0.0);vec2 projected_extrude_xy=projected_extrude.xy;
#ifdef ELEVATED_ROADS
gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,a_z_offset+0.01*step(0.01,a_z_offset),1.0)+projected_extrude;
#else
#ifdef ELEVATED
vec2 offsetTile=offset2*u_pixels_to_tile_units;vec2 offset_pos=pos+offsetTile;float ele=0.0;
#ifdef CROSS_SLOPE_VERTICAL
float top=a_pos_normal.y-2.0*floor(a_pos_normal.y*0.5);float line_height=2.0*u_tile_to_meter*outset*top*u_pixels_to_tile_units[1][1]+a_z_offset;ele=sample_elevation(offset_pos)+line_height;projected_extrude=vec4(0);
#else
#ifdef CROSS_SLOPE_HORIZONTAL
float ele0=sample_elevation(offset_pos);float ele1=max(sample_elevation(offset_pos+extrude),sample_elevation(offset_pos+extrude/2.0));float ele2=max(sample_elevation(offset_pos-extrude),sample_elevation(offset_pos-extrude/2.0));float ele_max=max(ele0,max(ele1,ele2));ele=ele_max+a_z_offset;
#else
float ele0=sample_elevation(offset_pos);float ele1=max(sample_elevation(offset_pos+extrude),sample_elevation(offset_pos+extrude/2.0));float ele2=max(sample_elevation(offset_pos-extrude),sample_elevation(offset_pos-extrude/2.0));float ele_max=max(ele0,0.5*(ele1+ele2));ele=ele_max-ele0+ele1+a_z_offset;
#endif
#endif
gl_Position=u_matrix*vec4(offset_pos,ele,1.0)+projected_extrude;float z=clamp(gl_Position.z/gl_Position.w,0.5,1.0);float zbias=max(0.00005,(pow(z,0.8)-z)*u_zbias_factor*u_exaggeration);gl_Position.z-=(gl_Position.w*zbias);gl_Position=mix(gl_Position,AWAY,hidden);
#else
gl_Position=mix(u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude,AWAY,hidden);
#endif
#endif
#ifdef ELEVATED_ROADS
#ifdef RENDER_SHADOWS
vec3 shd_pos=vec3(pos+(offset2+dist)*u_pixels_to_tile_units,a_z_offset);vec3 shd_pos0=shd_pos;vec3 shd_pos1=shd_pos;
#ifdef NORMAL_OFFSET
vec3 shd_pos_offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=shd_pos_offset*shadow_normal_offset_multiplier0();shd_pos1+=shd_pos_offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#endif
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude_xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=mix(extrude_length_without_perspective/extrude_length_with_perspective,1.0,step(0.01,blur));
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:dn(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
uniform highp float u_device_pixel_ratio;uniform highp float u_alpha_discard_threshold;uniform highp vec2 u_texsize;uniform highp float u_tile_units_to_pixels;uniform highp vec2 u_trim_offset;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in highp float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef RENDER_LINE_TRIM_OFFSET
in highp vec4 v_uv;
#endif
#ifdef LINE_JOIN_NONE
in vec2 v_pattern_data;
#endif
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
uniform float u_emissive_strength;
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define mediump float pixel_ratio
#pragma mapbox: define mediump float blur
#pragma mapbox: define mediump float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize mediump float pixel_ratio
#pragma mapbox: initialize mediump float blur
#pragma mapbox: initialize mediump float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;float pattern_size=display_size.x/u_tile_units_to_pixels;float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);highp float pattern_x=v_linesofar/pattern_size*aspect;highp float x=mod(pattern_x,1.0);highp float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;highp vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));highp vec2 lod_pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(pattern_x,y));vec4 color=textureLodCustom(u_image,pos,lod_pos);
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {color=vec4(0,0,0,0);}}
#endif
#ifdef LINE_JOIN_NONE
float pattern_len=pattern_size/aspect;float segment_phase=pattern_len-mod(v_linesofar-v_pattern_data.x+pattern_len,pattern_len);float visible_start=segment_phase-step(pattern_len*0.5,segment_phase)*pattern_len;float visible_end=floor((v_pattern_data.y-segment_phase)/pattern_len)*pattern_len+segment_phase;visible_end+=step(pattern_len*0.5,v_pattern_data.y-visible_end)*pattern_len;if (v_pattern_data.x < visible_start || v_pattern_data.x >=visible_end) {color=vec4(0.0);}
#endif
#ifdef LIGHTING_3D_MODE
color=apply_lighting_with_emission_ground(color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
color*=(alpha*opacity);if (u_alpha_discard_threshold !=0.0) {if (color.a < u_alpha_discard_threshold) {discard;}}
#ifdef INDICATOR_CUTOUT
color=applyCutout(color);
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;
#if defined(ELEVATED) || defined(ELEVATED_ROADS)
in float a_z_offset;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
in highp vec4 a_packed;
#endif
in highp float a_linesofar;
#ifdef LINE_JOIN_NONE
in highp vec3 a_pattern_data;out vec2 v_pattern_data;
#endif
uniform mat4 u_matrix;uniform float u_tile_units_to_pixels;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform float u_device_pixel_ratio;
#ifdef ELEVATED
uniform lowp float u_zbias_factor;uniform lowp float u_tile_to_meter;float sample_elevation(vec2 apos) {
#ifdef ELEVATION_REFERENCE_SEA
return 0.0;
#else
return elevation(apos);
#endif
}
#endif
out vec2 v_normal;out vec2 v_width2;out highp float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef RENDER_LINE_TRIM_OFFSET
out highp vec4 v_uv;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
#pragma mapbox: define mediump float blur
#pragma mapbox: define mediump float opacity
#pragma mapbox: define mediump float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define mediump float floorwidth
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define mediump float pixel_ratio
void main() {
#pragma mapbox: initialize mediump float blur
#pragma mapbox: initialize mediump float opacity
#pragma mapbox: initialize mediump float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize mediump float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize mediump float pixel_ratio
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);vec2 dist=outset*a_extrude*scale;float u=0.5*a_direction;float t=1.0-abs(u);vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float hidden=float(opacity==0.0);vec2 extrude=dist*u_pixels_to_tile_units;vec4 projected_extrude=u_matrix*vec4(extrude,0.0,0.0);vec2 projected_extrude_xy=projected_extrude.xy;
#ifdef ELEVATED_ROADS
gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,a_z_offset+0.01*step(0.01,a_z_offset),1.0)+projected_extrude;
#else
#ifdef ELEVATED
vec2 offsetTile=offset2*u_pixels_to_tile_units;vec2 offset_pos=pos+offsetTile;float ele=0.0;
#ifdef CROSS_SLOPE_VERTICAL
float top=a_pos_normal.y-2.0*floor(a_pos_normal.y*0.5);float line_height=2.0*u_tile_to_meter*outset*top*u_pixels_to_tile_units[1][1]+a_z_offset;ele=sample_elevation(offset_pos)+line_height;projected_extrude=vec4(0);
#else
#ifdef CROSS_SLOPE_HORIZONTAL
float ele0=sample_elevation(offset_pos);float ele1=max(sample_elevation(offset_pos+extrude),sample_elevation(offset_pos+extrude/2.0));float ele2=max(sample_elevation(offset_pos-extrude),sample_elevation(offset_pos-extrude/2.0));float ele_max=max(ele0,max(ele1,ele2));ele=ele_max+a_z_offset;
#else
float ele0=sample_elevation(offset_pos);float ele1=max(sample_elevation(offset_pos+extrude),sample_elevation(offset_pos+extrude/2.0));float ele2=max(sample_elevation(offset_pos-extrude),sample_elevation(offset_pos-extrude/2.0));float ele_max=max(ele0,0.5*(ele1+ele2));ele=ele_max-ele0+ele1+a_z_offset;
#endif
#endif
gl_Position=u_matrix*vec4(offset_pos,ele,1.0)+projected_extrude;float z=clamp(gl_Position.z/gl_Position.w,0.5,1.0);float zbias=max(0.00005,(pow(z,0.8)-z)*u_zbias_factor*u_exaggeration);gl_Position.z-=(gl_Position.w*zbias);gl_Position=mix(gl_Position,AWAY,hidden);
#else
gl_Position=mix(u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude,AWAY,hidden);
#endif
#endif
#ifdef ELEVATED_ROADS
#ifdef RENDER_SHADOWS
vec3 shd_pos=vec3(pos+(offset2+dist)*u_pixels_to_tile_units,a_z_offset);vec3 shd_pos0=shd_pos;vec3 shd_pos1=shd_pos;
#ifdef NORMAL_OFFSET
vec3 shd_pos_offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=shd_pos_offset*shadow_normal_offset_multiplier0();shd_pos1+=shd_pos_offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#endif
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude_xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=mix(extrude_length_without_perspective/extrude_length_with_perspective,1.0,step(0.01,blur));
#else
v_gamma_scale=1.0;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
float a_uv_x=a_packed[0];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef LINE_JOIN_NONE
v_width=floorwidth+ANTIALIASING;mediump float pixels_to_tile_units=1.0/u_tile_units_to_pixels;mediump float pixel_ratio_inverse=1.0/pixel_ratio;mediump float aspect=v_width/((pattern.w-pattern.y)*pixel_ratio_inverse);highp float subt_multiple=(pattern.z-pattern.x)*pixel_ratio_inverse*pixels_to_tile_units*aspect*32.0;highp float subt=floor(a_pattern_data.z/subt_multiple)*subt_multiple;float offset_sign=(fract(a_pattern_data.x)-0.5)*4.0;float line_progress_offset=offset_sign*v_width*0.5*pixels_to_tile_units;v_linesofar=(a_pattern_data.z-subt)+a_linesofar+line_progress_offset;v_pattern_data=vec2(a_pattern_data.x+line_progress_offset,a_pattern_data.y);
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:dn(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_raster_array.glsl"
uniform float u_fade_t;uniform float u_opacity;uniform highp float u_raster_elevation;uniform highp float u_zoom_transition;in vec2 v_pos0;in vec2 v_pos1;in float v_depth;
#ifdef PROJECTION_GLOBE_VIEW
in float v_split_fade;
#endif
uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;uniform float u_emissive_strength;
#ifndef RASTER_ARRAY
uniform highp sampler2D u_image0;uniform sampler2D u_image1;
#endif
#ifdef RASTER_COLOR
uniform sampler2D u_color_ramp;uniform highp vec4 u_colorization_mix;uniform highp float u_colorization_offset;uniform vec2 u_texture_res;
#endif
void main() {vec4 color0,color1,color;vec2 value;
#ifdef RASTER_COLOR
#ifdef RASTER_ARRAY
#ifdef RASTER_ARRAY_LINEAR
value=mix(
raTexture2D_image0_linear(v_pos0,u_texture_res,u_colorization_mix,u_colorization_offset),raTexture2D_image1_linear(v_pos1,u_texture_res,u_colorization_mix,u_colorization_offset),u_fade_t
);
#else
value=mix(
raTexture2D_image0_nearest(v_pos0,u_texture_res,u_colorization_mix,u_colorization_offset),raTexture2D_image1_nearest(v_pos1,u_texture_res,u_colorization_mix,u_colorization_offset),u_fade_t
);
#endif
if (value.y > 0.0) value.x/=value.y;
#else
color=mix(texture(u_image0,v_pos0),texture(u_image1,v_pos1),u_fade_t);value=vec2(u_colorization_offset+dot(color.rgb,u_colorization_mix.rgb),color.a);
#endif
color=texture(u_color_ramp,vec2(value.x,0.5));if (color.a > 0.0) color.rgb/=color.a;color.a*=value.y;
#else
color0=texture(u_image0,v_pos0);color1=texture(u_image1,v_pos1);if (color0.a > 0.0) color0.rgb/=color0.a;if (color1.a > 0.0) color1.rgb/=color1.a;color=mix(color0,color1,u_fade_t);
#endif
color.a*=u_opacity;
#ifdef GLOBE_POLES
color.a*=1.0-smoothstep(0.0,0.05,u_zoom_transition);
#endif
vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(vec4(out_color,1.0),u_emissive_strength).rgb;
#endif
#ifdef FOG
highp float fog_limit_high_meters=1000000.0;highp float fog_limit_low_meters=600000.0;float fog_limit=1.0-smoothstep(fog_limit_low_meters,fog_limit_high_meters,u_raster_elevation);out_color=fog_dither(fog_apply(out_color,v_fog_pos,fog_limit));
#endif
glFragColor=vec4(out_color*color.a,color.a);
#ifdef PROJECTION_GLOBE_VIEW
glFragColor*=mix(1.0,1.0-smoothstep(0.0,0.05,u_zoom_transition),smoothstep(0.8,0.9,v_split_fade));
#endif
#ifdef RENDER_CUTOFF
glFragColor=glFragColor*cutoff_opacity(u_cutoff_params,v_depth);
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform mat3 u_grid_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;uniform vec2 u_texture_offset;uniform float u_raster_elevation;uniform float u_zoom_transition;uniform vec2 u_merc_center;
#define GLOBE_UPSCALE GLOBE_RADIUS/6371008.8
#ifdef GLOBE_POLES
in vec3 a_globe_pos;in vec2 a_uv;
#else
in vec2 a_pos;in vec2 a_texture_pos;
#endif
out vec2 v_pos0;out vec2 v_pos1;out float v_depth;
#ifdef PROJECTION_GLOBE_VIEW
out float v_split_fade;
#endif
void main() {vec2 uv;
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;gl_Position=u_matrix*u_globe_matrix*vec4(globe_pos   ,1.0);uv=a_uv;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(a_globe_pos,1.0)).xyz);
#endif
#else
float w=1.0+dot(a_texture_pos,u_perspective_transform);uv=a_texture_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);vec3 globe_pos=latLngToECEF(latLng.xy);globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);float mercatorY=mercatorYfromLat(latLng[0]);float mercatorX=mercatorXfromLng(latLng[1]);    
v_split_fade=0.0;if (u_zoom_transition > 0.0) {vec2 merc_pos=vec2(mercatorX,mercatorY);merc_world_pos=vec4(merc_pos,u_raster_elevation,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;float opposite_merc_center=mod(u_merc_center.x+0.5,1.0);float dist_from_poles=(abs(mercatorY-0.5)*2.0);float range=0.1;v_split_fade=abs(opposite_merc_center-mercatorX);v_split_fade=clamp(1.0-v_split_fade,0.0,1.0);v_split_fade=max(smoothstep(1.0-range,1.0,dist_from_poles),max(smoothstep(1.0-range,1.0,v_split_fade),smoothstep(1.0-range,1.0,1.0-v_split_fade)));}float tiles=u_grid_matrix[0][2];if (tiles > 0.0) {float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];float uvY=mercatorY*tiles-idy;float uvX=mercatorX*tiles-idx;uv=vec2(uvX,uvY);}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition)*w,w);gl_Position=u_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
#else
gl_Position=u_matrix*vec4(a_pos*w,u_raster_elevation*w,w);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
#endif
#endif
v_pos0=uv;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;v_pos0=u_texture_offset.x+u_texture_offset.y*v_pos0;v_pos1=u_texture_offset.x+u_texture_offset.y*v_pos1;
#ifdef RENDER_CUTOFF
v_depth=gl_Position.z;
#endif
}`),rasterParticle:dn(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform float u_fade_t;uniform float u_opacity;uniform highp float u_raster_elevation;in vec2 v_pos0;in vec2 v_pos1;uniform sampler2D u_image0;uniform sampler2D u_image1;void main() {vec4 color0,color1,color;color0=texture(u_image0,v_pos0);color1=texture(u_image1,v_pos1);if (color0.a > 0.0) color0.rgb/=color0.a;if (color1.a > 0.0) color1.rgb/=color1.a;color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 out_color=color.rgb;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(vec4(out_color,1.0),0.0).rgb;
#endif
#ifdef FOG
highp float fog_limit_high_meters=1000000.0;highp float fog_limit_low_meters=600000.0;float fog_limit=1.0-smoothstep(fog_limit_low_meters,fog_limit_high_meters,u_raster_elevation);out_color=fog_dither(fog_apply(out_color,v_fog_pos,fog_limit));
#endif
glFragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform mat3 u_grid_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_raster_elevation;uniform float u_zoom_transition;uniform vec2 u_merc_center;
#define GLOBE_UPSCALE GLOBE_RADIUS/6371008.8
in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {float w=1.0;vec2 uv;
#ifdef PROJECTION_GLOBE_VIEW
vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float mercatorX=mercatorXfromLng(latLng[1]);float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];float uvX=mercatorX*tiles-idx;float uvY=mercatorY*tiles-idy;uv=vec2(uvX,uvY);vec3 globe_pos=latLngToECEF(latLng.xy);globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {vec2 merc_pos=vec2(mercatorX,mercatorY);merc_world_pos=vec4(merc_pos,u_raster_elevation,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition)*w,w);gl_Position=u_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
#else
uv=a_texture_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*w,u_raster_elevation*w,w);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
#endif
v_pos0=uv;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),rasterParticleDraw:dn("uniform sampler2D u_color_ramp;in float v_particle_speed;void main() {glFragColor=texture(u_color_ramp,vec2(v_particle_speed,0.5));}",`#include "_prelude_raster_particle.glsl"
in float a_index;uniform sampler2D u_particle_texture;uniform float u_particle_texture_side_len;uniform vec2 u_tile_offset;out float v_particle_speed;void main() {ivec2 pixel_coord=ivec2(
mod(a_index,u_particle_texture_side_len),a_index/u_particle_texture_side_len);vec4 pixel=texelFetch(u_particle_texture,pixel_coord,0);vec2 pos=unpack_pos_from_rgba(pixel)+u_tile_offset;vec2 tex_coord=fract(pos);vec2 velocity=lookup_velocity(tex_coord);if (velocity==INVALID_VELOCITY) {gl_Position=AWAY;v_particle_speed=0.0;} else {gl_Position=vec4(2.0*pos-1.0,0,1);v_particle_speed=length(velocity);}gl_PointSize=1.0;}`),rasterParticleTexture:dn("uniform sampler2D u_texture;uniform float u_opacity;in vec2 v_tex_pos;void main() {vec4 color=texture(u_texture,v_tex_pos);glFragColor=vec4(floor(255.0*color*u_opacity)/255.0);}","in vec2 a_pos;out vec2 v_tex_pos;void main() {vec2 uv=0.5*a_pos+vec2(0.5);v_tex_pos=uv;gl_Position=vec4(a_pos,0.0,1.0);}"),rasterParticleUpdate:dn(`#include "_prelude_raster_particle.glsl"
uniform sampler2D u_particle_texture;uniform mediump float u_particle_texture_side_len;uniform mediump float u_speed_factor;uniform highp float u_reset_rate;uniform highp float u_rand_seed;in highp vec2 v_tex_coord;vec2 linearstep(vec2 edge0,vec2 edge1,vec2 x) {return  clamp((x-edge0)/(edge1-edge0),vec2(0),vec2(1));}const highp vec3 rand_constants=vec3(12.9898,78.233,4375.85453);highp float rand(const highp vec2 co) {highp float t=dot(rand_constants.xy,co);return fract(sin(t)*(rand_constants.z+t));}void main() {ivec2 pixel_coord=ivec2(v_tex_coord*u_particle_texture_side_len);highp vec4 pixel=texelFetch(u_particle_texture,pixel_coord,0);highp vec2 pos=unpack_pos_from_rgba(pixel);highp vec2 velocity=lookup_velocity(clamp(pos,0.0,1.0));highp vec2 dp=velocity==INVALID_VELOCITY ? vec2(0) : velocity*u_speed_factor;pos=pos+dp;highp vec2 seed=(pos+v_tex_coord)*u_rand_seed;highp vec2 random_pos=vec2(rand(seed+1.3),rand(seed+2.1));highp vec2 persist_rate=pow(
linearstep(vec2(-u_particle_pos_offset),vec2(0),pos)*linearstep(vec2(1.0+u_particle_pos_offset),vec2(1),pos),vec2(4)
);highp vec2 per_frame_persist=pow(persist_rate,abs(dp)/u_particle_pos_offset);highp float drop_rate=1.0-per_frame_persist.x*per_frame_persist.y;drop_rate=any(greaterThanEqual(abs(pos-0.5),vec2(0.5+u_particle_pos_offset))) ? 1.0 : drop_rate;highp float drop=step(1.0-drop_rate-u_reset_rate,rand(seed));highp vec2 next_pos=mix(pos,random_pos,drop);glFragColor=pack_pos_to_rgba(next_pos);}`,"in vec2 a_pos;out vec2 v_tex_coord;void main() {v_tex_coord=0.5*(a_pos+vec2(1.0));gl_Position=vec4(a_pos,0.0,1.0);}"),symbol:dn(`#include "_prelude_lighting.glsl"
#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;uniform bool u_is_halo;uniform lowp float u_scale_factor;
#ifdef ICON_TRANSITION
uniform float u_icon_transition;
#endif
#ifdef COLOR_ADJUSTMENT
uniform mat4 u_color_adj_mat;
#endif
in vec2 v_tex_a;
#ifdef ICON_TRANSITION
in vec2 v_tex_b;
#endif
in float v_draw_halo;in vec3 v_gamma_scale_size_fade_opacity;
#ifdef RENDER_TEXT_AND_SYMBOL
in float is_sdf;in vec2 v_tex_a_icon;
#endif
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
#pragma mapbox: define lowp float emissive_strength
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
#pragma mapbox: initialize lowp float emissive_strength
vec4 out_color;float fade_opacity=v_gamma_scale_size_fade_opacity[2];
#ifdef RENDER_TEXT_AND_SYMBOL
if (is_sdf==ICON) {vec2 tex_icon=v_tex_a_icon;lowp float alpha=opacity*fade_opacity;glFragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
return;}
#endif
#ifdef RENDER_SDF
float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_gamma_scale_size_fade_opacity.x;float size=v_gamma_scale_size_fade_opacity.y;float fontScale=u_is_text ? size/24.0 : size;out_color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;bool draw_halo=v_draw_halo > 0.0;if (draw_halo) {out_color=halo_color;gamma=(halo_blur*u_scale_factor*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width*u_scale_factor/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,v_tex_a).r;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);out_color*=alpha;
#else
#ifdef ICON_TRANSITION
vec4 a=texture(u_texture,v_tex_a)*(1.0-u_icon_transition);vec4 b=texture(u_texture,v_tex_b)*u_icon_transition;out_color=(a+b);
#else
out_color=texture(u_texture,v_tex_a);
#endif
#ifdef COLOR_ADJUSTMENT
out_color=u_color_adj_mat*out_color;
#endif
#endif
out_color*=opacity*fade_opacity;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,emissive_strength);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_terrain.vertex.glsl"
in vec4 a_pos_offset;in vec4 a_tex_size;in vec4 a_pixeloffset;in vec4 a_projected_pos;in float a_fade_opacity;
#ifdef Z_OFFSET
in float a_auto_z_offset;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_globe_anchor;in vec3 a_globe_normal;
#endif
#ifdef ICON_TRANSITION
in vec2 a_texb;
#endif
#ifdef OCCLUSION_QUERIES
in float a_occlusion_query_opacity;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_elevation_from_sea;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;uniform bool u_is_halo;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
out vec2 v_tex_a;
#ifdef ICON_TRANSITION
out vec2 v_tex_b;
#endif
out float v_draw_halo;out vec3 v_gamma_scale_size_fade_opacity;
#ifdef RENDER_TEXT_AND_SYMBOL
out float is_sdf;out vec2 v_tex_a_icon;
#endif
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
#pragma mapbox: define lowp float emissive_strength
#pragma mapbox: define lowp float occlusion_opacity
#pragma mapbox: define lowp float z_offset
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
#pragma mapbox: initialize lowp float emissive_strength
#pragma mapbox: initialize lowp float occlusion_opacity
#pragma mapbox: initialize lowp float z_offset
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;float e=u_elevation_from_sea ? z_offset : z_offset+elevation(tile_anchor);
#ifdef Z_OFFSET
e+=a_auto_z_offset;
#endif
vec3 h=elevationVector(tile_anchor)*e;float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;vec3 world_pos_globe;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos_globe=a_globe_anchor+h;world_pos=mix_globe_mercator(world_pos_globe,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;vec2 a;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);vec4 projected_point_globe=u_matrix*vec4(world_pos_globe,1);a=projected_point_globe.xy/projected_point_globe.w;
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);a=projected_point.xy/projected_point.w;
#endif
vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
#ifdef Z_OFFSET
z+=u_pitch_with_map ? a_auto_z_offset+(u_elevation_from_sea ? z_offset : z_offset) : 0.0;
#else
z+=u_pitch_with_map ? (u_elevation_from_sea ? z_offset : z_offset) : 0.0;
#endif
float occlusion_fade=globe_occlusion_fade;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float out_fade_opacity=interpolated_fade_opacity*projection_transition_fade;
#ifdef DEPTH_OCCLUSION
float depth_occlusion=occlusionFadeMultiSample(projected_point);float depth_occlusion_multplier=mix(occlusion_opacity,1.0,depth_occlusion);out_fade_opacity*=depth_occlusion_multplier;
#endif
#ifdef OCCLUSION_QUERIES
float occludedFadeMultiplier=mix(occlusion_opacity,1.0,a_occlusion_query_opacity);out_fade_opacity*=occludedFadeMultiplier;
#endif
float alpha=opacity*out_fade_opacity;float hidden=float(alpha==0.0 || projected_point.w <=0.0 || occlusion_fade==0.0);
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,hidden);
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,hidden);
#endif
float gamma_scale=gl_Position.w;v_draw_halo=(u_is_halo && float(gl_InstanceID)==0.0) ? 1.0 : 0.0;v_gamma_scale_size_fade_opacity=vec3(gamma_scale,size,out_fade_opacity);v_tex_a=a_tex/u_texsize;
#ifdef RENDER_TEXT_AND_SYMBOL
is_sdf=a_size[0]-2.0*a_size_min;v_tex_a_icon=a_tex/u_texsize_icon;
#endif
#ifdef ICON_TRANSITION
v_tex_b=a_texb/u_texsize;
#endif
}`),terrainRaster:dn(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image0;in vec2 v_pos0;
#ifdef FOG
in float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
in vec4 v_pos_light_view_0;in vec4 v_pos_light_view_1;
#endif
uniform vec3 u_ground_shadow_factor;void main() {vec4 image_color=texture(u_image0,v_pos0);vec4 color;
#ifdef LIGHTING_3D_MODE
const vec3 normal=vec3(0.0,0.0,1.0);
#ifdef RENDER_SHADOWS
float cutoffOpacity=1.0;
#ifdef RENDER_CUTOFF
cutoffOpacity=cutoff_opacity(u_cutoff_params,1.0/gl_FragCoord.w);
#endif
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
vec3 unlit_base=image_color.rgb*(1.0-image_color.a);vec3 emissive_base=image_color.rgb*image_color.a;float ndotl=u_shadow_direction.z;float occlusion=ndotl < 0.0 ? 1.0 : shadow_occlusion(v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w,0.0);ndotl=max(0.0,ndotl);vec3 lit=apply_lighting(unlit_base,normal,mix(1.0,(1.0-(u_shadow_intensity*occlusion))*ndotl,cutoffOpacity));vec3 emissive=compute_emissive_draped(emissive_base,1.0-u_shadow_intensity,occlusion,u_ground_shadow_factor);color.rgb=lit+emissive;color.a=1.0;
#else
float lighting_factor=shadowed_light_factor_normal_unbiased(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);color=apply_lighting(image_color,normal,mix(1.0,lighting_factor,cutoffOpacity));
#endif
#else
float lighting_factor=u_lighting_directional_dir.z;color=apply_lighting(image_color,normal,lighting_factor);
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
color.rgb=mix(color.rgb,image_color.rgb,image_color.a);color.a=1.0;
#endif
#endif
#else
color=image_color;
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;uniform float u_skirt_height;in vec2 a_pos;out vec2 v_pos0;
#ifdef FOG
out float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out vec4 v_pos_light_view_0;out vec4 v_pos_light_view_1;out float v_depth;
#endif
void main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;v_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);
#endif
}`),terrainDepth:dn("precision highp float;in float v_depth;void main() {glFragColor=pack_depth(v_depth);}",`#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;in vec2 a_pos;out float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}`),skybox:dn(`#include "_prelude_fog.fragment.glsl"
in lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=texture(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);glFragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,af),skyboxGradient:dn(`#include "_prelude_fog.fragment.glsl"
in highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,af),skyboxCapture:dn(`
in highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;precision highp float;
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;glFragColor=vec4(color,1.0);}`,"in highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;out highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:dn(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image0;uniform float u_far_z_cutoff;in vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture(u_image0,v_pos0);
#ifdef LIGHTING_3D_MODE
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
raster=apply_lighting_with_emission_ground(raster,raster.a);color=vec4(raster.rgb*antialias,antialias);
#else
raster=apply_lighting_ground(raster);color=vec4(raster.rgb*antialias,raster.a*antialias);
#endif
#else
color=vec4(raster.rgb*antialias,raster.a*antialias);
#endif
#else
color=texture(u_image0,v_pos0);
#ifdef LIGHTING_3D_MODE
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
color=apply_lighting_with_emission_ground(color,color.a);color.a=1.0;
#else
color=apply_lighting_ground(color);
#endif
#endif
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
color*=1.0-step(u_far_z_cutoff,1.0/gl_FragCoord.w);glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;
#ifdef GLOBE_POLES
in vec3 a_globe_pos;in vec2 a_uv;
#else
in vec2 a_pos;
#endif
out vec2 v_pos0;void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;
#ifdef GLOBE_POLES
vec3 up_vector=globe_derived_up_vector;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);globe_pos+=up_vector*height;
#ifndef GLOBE_POLES
globe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;
#endif
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:dn(`#include "_prelude_fog.fragment.glsl"
uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec4 u_color;uniform vec4 u_high_color;uniform vec4 u_space_color;uniform float u_horizon_angle;in highp vec3 v_ray_dir;in highp vec3 v_horizon_dir;void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {
#ifdef ALPHA_PASS
glFragColor=vec4(0,0,0,0);return;
#else
#ifdef NATIVE
glFragColor=vec4(1,1,1,1);
#else
glFragColor=vec4(0,0,0,1);
#endif
return;
#endif
}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(clamp(dot(dir,horizon_dir),-1.0,1.0)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;highp float closest_point_to_center=length(closest_point-u_globe_pos);highp float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;
#ifdef ALPHA_PASS
float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);glFragColor=vec4(1.0,1.0,1.0,a);
#else
vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c=c2;
#ifndef NATIVE
c=dither(c,gl_FragCoord.xy+u_temporal_offset);
#endif
glFragColor=vec4(c*t,t);
#endif
}`,`in vec3 a_pos;in vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;out highp vec3 v_ray_dir;out highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`),model:dn(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform float u_opacity;uniform vec3 u_lightcolor;uniform vec3 u_lightpos;uniform float u_lightintensity;uniform vec4 u_baseColorFactor;uniform vec4 u_emissiveFactor;uniform float u_metallicFactor;uniform float u_roughnessFactor;uniform float u_emissive_strength;in highp vec4 v_position_height;in lowp vec4 v_color_mix;
#ifdef RENDER_SHADOWS
in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in float v_depth_shadows;
#endif
#ifdef OCCLUSION_TEXTURE_TRANSFORM
uniform vec4 u_occlusionTextureTransform;
#endif
#pragma mapbox: define-attribute highp vec3 normal_3f
#pragma mapbox: define-attribute highp vec3 color_3f
#pragma mapbox: define-attribute highp vec4 color_4f
#pragma mapbox: define-attribute highp vec2 uv_2f
#pragma mapbox: initialize-attribute highp vec3 normal_3f
#pragma mapbox: initialize-attribute highp vec3 color_3f
#pragma mapbox: initialize-attribute highp vec4 color_4f
#pragma mapbox: initialize-attribute highp vec2 uv_2f
#ifdef HAS_ATTRIBUTE_a_pbr
in lowp vec4 v_roughness_metallic_emissive_alpha;in mediump vec4 v_height_based_emission_params;
#endif
#ifdef HAS_TEXTURE_u_baseColorTexture
uniform sampler2D u_baseColorTexture;uniform bool u_baseTextureIsAlpha;uniform bool u_alphaMask;uniform float u_alphaCutoff;
#endif
#ifdef HAS_TEXTURE_u_metallicRoughnessTexture
uniform sampler2D u_metallicRoughnessTexture;
#endif
#ifdef HAS_TEXTURE_u_occlusionTexture
uniform sampler2D u_occlusionTexture;uniform float u_aoIntensity;
#endif
#ifdef HAS_TEXTURE_u_normalTexture
uniform sampler2D u_normalTexture;
#endif
#ifdef HAS_TEXTURE_u_emissionTexture
uniform sampler2D u_emissionTexture;
#endif
#ifdef APPLY_LUT_ON_GPU
uniform highp sampler3D u_lutTexture;
#endif
#ifdef TERRAIN_FRAGMENT_OCCLUSION
in highp float v_depth;uniform highp sampler2D u_depthTexture;uniform highp vec2 u_inv_depth_size;uniform highp vec2 u_depth_range_unpack;
#ifdef DEPTH_D24
highp float unpack_depth(highp float depth) {return  depth*u_depth_range_unpack.x+u_depth_range_unpack.y;}
#else
highp float unpack_depth_rgba(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}
#endif
bool isOccluded() {highp vec2 coord=gl_FragCoord.xy*u_inv_depth_size;
#ifdef DEPTH_D24
highp float depth=unpack_depth(texture(u_depthTexture,coord).r);
#else
highp float depth=unpack_depth_rgba(texture(u_depthTexture,coord));
#endif
return v_depth > depth+0.0005;}
#endif
#define saturate(_x) clamp(_x,0.,1.)
vec3 linearTosRGB(vec3 color) {return pow(color,vec3(1./2.2));}vec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}float calculate_NdotL(vec3 normal,vec3 lightDir) {const float ext=0.70710678118;return (clamp(dot(normal,lightDir),-ext,1.0)+ext)/(1.0+ext);}vec3 getDiffuseShadedColor(vec3 albedo,vec3 normal,vec3 lightDir,vec3 lightColor)
{
#ifdef LIGHTING_3D_MODE
vec3 transformed_normal=vec3(-normal.xy,normal.z);float lighting_factor;
#ifdef RENDER_SHADOWS
lighting_factor=shadowed_light_factor_normal(transformed_normal,v_pos_light_view_0,v_pos_light_view_1,v_depth_shadows);
#else
lighting_factor=saturate(dot(transformed_normal,u_lighting_directional_dir));
#endif
return apply_lighting(albedo,transformed_normal,lighting_factor);
#else
vec3 n=normal;float colorvalue=((albedo.x*0.2126)+(albedo.y*0.7152))+(albedo.z*0.0722);vec3 c=vec3(0.03,0.03,0.03);float directional=clamp(dot(n,vec3(lightDir)),0.0,1.0);directional=mix(1.0-u_lightintensity,max((1.0-colorvalue)+u_lightintensity,1.0),directional);vec3 c3=c+clamp((albedo*directional)*lightColor,mix(vec3(0.0),vec3(0.3),vec3(1.0)-lightColor),vec3(1.0));return c3;
#endif
}vec4 getBaseColor() {vec4 albedo=u_baseColorFactor;
#ifdef HAS_ATTRIBUTE_a_color_3f
albedo*=vec4(color_3f,1.0);
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
#else
#ifdef HAS_ATTRIBUTE_a_color_4f
albedo*=color_4f;
#endif
#endif
#if defined (HAS_TEXTURE_u_baseColorTexture) && defined (HAS_ATTRIBUTE_a_uv_2f)
vec4 texColor=texture(u_baseColorTexture,uv_2f);if(u_alphaMask) {if (texColor.w < u_alphaCutoff) {discard;}}
#ifdef UNPREMULT_TEXTURE_IN_SHADER
if(texColor.w > 0.0) {texColor.rgb/=texColor.w;}texColor.w=1.0;
#endif
if(u_baseTextureIsAlpha) {if (texColor.r < 0.5) {discard;}} else {texColor.rgb=sRGBToLinear(texColor.rgb);albedo*=texColor;}
#endif
vec4 color=vec4(mix(albedo.rgb,v_color_mix.rgb,v_color_mix.a),albedo.a);
#ifdef APPLY_LUT_ON_GPU
color=applyLUT(u_lutTexture,color);
#endif
return color;}highp mat3 cotangentFrame(highp vec3 N,highp vec3 p,highp vec2 uv ) {
#ifdef HAS_TEXTURE_u_normalTexture
highp vec3 dp1=vec3(dFdx(p.x),dFdx(p.y),dFdx(p.z));highp vec3 dp2=vec3(dFdy(p.x),dFdy(p.y),dFdy(p.z));highp vec2 duv1=vec2(dFdx(uv.x),dFdx(uv.y));highp vec2 duv2=vec2(dFdy(uv.x),dFdy(uv.y));highp vec3 dp2perp=cross( dp2,N );highp vec3 dp1perp=cross( N,dp1 );highp vec3 T=dp2perp*duv1.x+dp1perp*duv2.x;highp vec3 B=dp2perp*duv1.y+dp1perp*duv2.y;highp float lengthT=dot(T,T);highp float lengthB=dot(B,B);highp float maxLength=max(lengthT,lengthB);highp float invmax=inversesqrt( maxLength );highp mat3 res=mat3( T*invmax,B*invmax,N );return res;
#else
return mat3(1.0);
#endif
}highp vec3 getNormal(){highp vec3 n;
#ifdef HAS_ATTRIBUTE_a_normal_3f
n=normalize(normal_3f);
#else
highp vec3 fdx=vec3(dFdx(v_position_height.x),dFdx(v_position_height.y),dFdx(v_position_height.z));highp vec3 fdy=vec3(dFdy(v_position_height.x),dFdy(v_position_height.y),dFdy(v_position_height.z));n=normalize(cross(fdx,fdy))*-1.0;
#endif
#if defined(HAS_TEXTURE_u_normalTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
vec3 nMap=texture( u_normalTexture,uv_2f).xyz;nMap=normalize(2.0*nMap-vec3(1.0));highp vec3 v=normalize(-v_position_height.xyz);highp mat3 TBN=cotangentFrame(n,v,uv_2f);n=normalize(TBN*nMap);
#endif
return n;}struct Material {float perceptualRoughness;float alphaRoughness;float metallic;vec3 f90;vec4 baseColor;vec3 diffuseColor;vec3 specularColor;highp vec3 normal;};Material getPBRMaterial() {Material mat;mat.baseColor=getBaseColor();mat.perceptualRoughness=u_roughnessFactor;mat.metallic=u_metallicFactor;
#ifdef HAS_ATTRIBUTE_a_pbr
mat.perceptualRoughness=v_roughness_metallic_emissive_alpha.x;mat.metallic=v_roughness_metallic_emissive_alpha.y;mat.baseColor.w*=v_roughness_metallic_emissive_alpha.w;
#endif
#if defined(HAS_TEXTURE_u_metallicRoughnessTexture) && defined(HAS_ATTRIBUTE_a_uv_2f) 
vec4 mrSample=texture(u_metallicRoughnessTexture,uv_2f);mat.perceptualRoughness*=mrSample.g;mat.metallic*=mrSample.b;
#endif
const float c_minRoughness=0.04;mat.perceptualRoughness=clamp(mat.perceptualRoughness,c_minRoughness,1.0);mat.metallic=saturate(mat.metallic);mat.alphaRoughness=mat.perceptualRoughness*mat.perceptualRoughness;const vec3 f0=vec3(0.04);mat.diffuseColor=mat.baseColor.rgb*(vec3(1.0)-f0);mat.diffuseColor*=1.0-mat.metallic;mat.specularColor=mix(f0,mat.baseColor.rgb,mat.metallic);highp float reflectance=max(max(mat.specularColor.r,mat.specularColor.g),mat.specularColor.b);highp float reflectance90=saturate(reflectance*25.0);mat.f90=vec3(reflectance90);mat.normal=getNormal();return mat;}float V_GGX(float NdotL,float NdotV,float roughness)
{float a2=roughness*roughness;float GGXV=NdotL*sqrt(NdotV*NdotV*(1.0-a2)+a2);float GGXL=NdotV*sqrt(NdotL*NdotL*(1.0-a2)+a2);return 0.5/(GGXV+GGXL);}float V_GGXFast(float NdotL,float NdotV,float roughness) {float a=roughness;float GGXV=NdotL*(NdotV*(1.0-a)+a);float GGXL=NdotV*(NdotL*(1.0-a)+a);return 0.5/(GGXV+GGXL);}vec3 F_Schlick(vec3 specularColor,vec3 f90,float VdotH)
{return specularColor+(f90-specularColor)*pow(clamp(1.0-VdotH,0.0,1.0),5.0);}vec3 F_SchlickFast(vec3 specularColor,float VdotH)
{float x=1.0-VdotH;float x4=x*x*x*x;return specularColor+(1.0-specularColor)*x4*x;}float D_GGX(highp float NdotH,float alphaRoughness)
{highp float a4=alphaRoughness*alphaRoughness;highp float f=(NdotH*a4-NdotH)*NdotH+1.0;return a4/(PI*f*f);}vec3 diffuseBurley(Material mat,float LdotH,float NdotL,float NdotV)
{float f90=2.0*LdotH*LdotH*mat.alphaRoughness-0.5;return (mat.diffuseColor/PI)*(1.0+f90*pow((1.0-NdotL),5.0))*(1.0+f90*pow((1.0-NdotV),5.0));}vec3 diffuseLambertian(Material mat)
{
#ifdef LIGHTING_3D_MODE
return mat.diffuseColor;
#else
return mat.diffuseColor/PI;
#endif
}vec3 EnvBRDFApprox(vec3 specularColor,float roughness,highp float NdotV)
{vec4 c0=vec4(-1,-0.0275,-0.572,0.022);vec4 c1=vec4(1,0.0425,1.04,-0.04);highp vec4 r=roughness*c0+c1;highp float a004=min(r.x*r.x,exp2(-9.28*NdotV))*r.x+r.y;vec2 AB=vec2(-1.04,1.04)*a004+r.zw;return specularColor*AB.x+AB.y;}vec3 computeIndirectLightContribution(Material mat,float NdotV,vec3 normal)
{vec3 env_light=vec3(0.65,0.65,0.65);
#ifdef LIGHTING_3D_MODE
float ambient_factor=calculate_ambient_directional_factor(normal);env_light=u_lighting_ambient_color*ambient_factor;
#endif
vec3 envBRDF=EnvBRDFApprox(mat.specularColor,mat.perceptualRoughness,NdotV);vec3 indirectSpecular= envBRDF*env_light;vec3 indirectDiffuse=mat.diffuseColor*env_light;return indirectSpecular+indirectDiffuse;}vec3 computeLightContribution(Material mat,vec3 lightPosition,vec3 lightColor)
{highp vec3 n=mat.normal;highp vec3 v=normalize(-v_position_height.xyz);highp vec3 l=normalize(lightPosition);highp vec3 h=normalize(v+l);float NdotV=clamp(abs(dot(n,v)),0.001,1.0);float NdotL=saturate(dot(n,l));highp float NdotH=saturate(dot(n,h));float VdotH=saturate(dot(v,h));vec3 f=F_SchlickFast(mat.specularColor,VdotH);float g=V_GGXFast(NdotL,NdotV,mat.alphaRoughness);float d=D_GGX(NdotH,mat.alphaRoughness);vec3 diffuseTerm=(1.0-f)*diffuseLambertian(mat);vec3 specularTerm=f*g*d;vec3 transformed_normal=vec3(-n.xy,n.z);float lighting_factor;
#ifdef RENDER_SHADOWS
lighting_factor=shadowed_light_factor_normal(transformed_normal,v_pos_light_view_0,v_pos_light_view_1,v_depth_shadows);
#else
lighting_factor=NdotL;
#endif
vec3 directLightColor=(specularTerm+diffuseTerm)*lighting_factor*lightColor;vec3 indirectLightColor=computeIndirectLightContribution(mat,NdotV,transformed_normal);vec3 color=(saturate(directLightColor)+indirectLightColor);float intensityFactor=1.0;
#if !defined(LIGHTING_3D_MODE)
const vec3 luminosityFactor=vec3(0.2126,0.7152,0.0722);float luminance=dot(diffuseTerm,luminosityFactor);intensityFactor=mix((1.0-u_lightintensity),max((1.0-luminance+u_lightintensity),1.0),NdotL);
#endif
color*=intensityFactor;return color;}void main() {
#ifdef TERRAIN_FRAGMENT_OCCLUSION
if (isOccluded()) {discard;}
#endif
vec3 lightDir=u_lightpos;vec3 lightColor=u_lightcolor;
#ifdef LIGHTING_3D_MODE
lightDir=u_lighting_directional_dir;lightDir.xy=-lightDir.xy;lightColor=u_lighting_directional_color;
#endif
vec4 finalColor;
#ifdef DIFFUSE_SHADED
vec3 N=getNormal();vec3 baseColor=getBaseColor().rgb;vec3 diffuse=getDiffuseShadedColor(baseColor,N,lightDir,lightColor);
#ifdef HAS_TEXTURE_u_occlusionTexture
float ao=(texture(u_occlusionTexture,uv_2f).r-1.0)*u_aoIntensity+1.0;diffuse*=ao;
#endif
finalColor=vec4(mix(diffuse,baseColor,u_emissive_strength),1.0)*u_opacity;
#else
Material mat=getPBRMaterial();vec3 color=computeLightContribution(mat,lightDir,lightColor);float ao=1.0;
#if defined (HAS_TEXTURE_u_occlusionTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
#ifdef OCCLUSION_TEXTURE_TRANSFORM
vec2 uv=uv_2f.xy*u_occlusionTextureTransform.zw+u_occlusionTextureTransform.xy;
#else
vec2 uv=uv_2f;
#endif
ao=(texture(u_occlusionTexture,uv).x-1.0)*u_aoIntensity+1.0;color*=ao;
#endif
vec4 emissive=u_emissiveFactor;
#if defined(HAS_TEXTURE_u_emissionTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
emissive.rgb*=sRGBToLinear(texture(u_emissionTexture,uv_2f).rgb);
#endif
#ifdef APPLY_LUT_ON_GPU
float emissiveFactorLength=max(length(u_emissiveFactor.rgb),0.001);emissive.rgb=sRGBToLinear(applyLUT(u_lutTexture,linearTosRGB(emissive.rgb/emissiveFactorLength).rbg))*emissiveFactorLength;
#endif
color+=emissive.rgb;float opacity=mat.baseColor.w*u_opacity;
#ifdef HAS_ATTRIBUTE_a_pbr
float resEmission=v_roughness_metallic_emissive_alpha.z;resEmission*=v_height_based_emission_params.z+v_height_based_emission_params.w*pow(clamp(v_height_based_emission_params.x,0.0,1.0),v_height_based_emission_params.y);vec3 color_mix=v_color_mix.rgb;
#ifdef APPLY_LUT_ON_GPU
color_mix=applyLUT(u_lutTexture,color_mix);
#endif
color=mix(color,color_mix,min(1.0,resEmission));
#ifdef HAS_ATTRIBUTE_a_color_4f
float distance=length(vec2(1.3*max(0.0,abs(color_4f.x)-color_4f.z),color_4f.y));distance+= mix(0.5,0.0,clamp(resEmission-1.0,0.0,1.0));opacity*=v_roughness_metallic_emissive_alpha.w*saturate(1.0-distance*distance);
#endif
#endif
vec3 unlitColor=mat.baseColor.rgb*ao+emissive.rgb;color=mix(color,unlitColor,u_emissive_strength);color=linearTosRGB(color);color*=opacity;finalColor=vec4(color,opacity);
#endif
#ifdef FOG
finalColor=fog_dither(fog_apply_premultiplied(finalColor,v_fog_pos,v_position_height.w));
#endif
#ifdef RENDER_CUTOFF
finalColor*=v_cutoff_opacity;
#endif
#ifdef INDICATOR_CUTOUT
finalColor=applyCutout(finalColor);
#endif
glFragColor=finalColor;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
in vec3 a_pos_3f;
#pragma mapbox: define-attribute highp vec3 normal_3f
#pragma mapbox: define-attribute highp vec2 uv_2f
#pragma mapbox: define-attribute highp vec3 color_3f
#pragma mapbox: define-attribute highp vec4 color_4f
#pragma mapbox: define-attribute-vertex-shader-only highp vec4 pbr
#pragma mapbox: define-attribute-vertex-shader-only highp vec3 heightBasedEmissiveStrength
uniform mat4 u_matrix;uniform mat4 u_node_matrix;uniform mat4 u_lighting_matrix;uniform vec3 u_camera_pos;uniform vec4 u_color_mix;
#ifdef INSTANCED_ARRAYS
in vec4 a_normal_matrix0;in vec4 a_normal_matrix1;in vec4 a_normal_matrix2;in vec4 a_normal_matrix3;
#else
uniform highp mat4 u_normal_matrix;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out float v_depth_shadows;
#endif
out vec4 v_position_height;out lowp vec4 v_color_mix;
#ifdef TERRAIN_FRAGMENT_OCCLUSION
out highp float v_depth;
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
out lowp vec4 v_roughness_metallic_emissive_alpha;out mediump vec4 v_height_based_emission_params;
#endif
vec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}void main() {
#pragma mapbox: initialize-attribute highp vec3 normal_3f
#pragma mapbox: initialize-attribute highp vec2 uv_2f
#pragma mapbox: initialize-attribute highp vec3 color_3f
#pragma mapbox: initialize-attribute highp vec4 color_4f
#pragma mapbox: initialize-attribute-custom highp vec4 pbr
#pragma mapbox: initialize-attribute-custom highp vec3 heightBasedEmissiveStrength
highp mat4 normal_matrix;
#ifdef INSTANCED_ARRAYS
normal_matrix=mat4(a_normal_matrix0,a_normal_matrix1,a_normal_matrix2,a_normal_matrix3);
#else
normal_matrix=u_normal_matrix;
#endif
vec3 local_pos;mat3 rs;
#ifdef MODEL_POSITION_ON_GPU
vec3 pos_color=normal_matrix[0].xyz;vec4 translate=normal_matrix[1];vec3 pos_a=floor(pos_color);vec3 rgb=1.05*(pos_color-pos_a);float hidden=float(pos_a.x > EXTENT);float color_mix=pos_a.z/100.0;v_color_mix=vec4(sRGBToLinear(rgb),color_mix);float meter_to_tile=normal_matrix[0].w;vec4 pos=vec4(pos_a.xy,translate.z,1.0);rs[0].x=normal_matrix[1].w;rs[0].yz=normal_matrix[2].xy;rs[1].xy=normal_matrix[2].zw;rs[1].z=normal_matrix[3].x;rs[2].xyz=normal_matrix[3].yzw;vec4 pos_node=u_lighting_matrix*vec4(a_pos_3f,1.0);vec3 rotated_pos_node=rs*pos_node.xyz;vec3 pos_model_tile=(rotated_pos_node+vec3(translate.xy,0.0))*vec3(meter_to_tile,meter_to_tile,1.0);pos.xyz+=pos_model_tile;local_pos=pos.xyz;gl_Position=mix(u_matrix*pos,AWAY,hidden);pos.z*=meter_to_tile;v_position_height.xyz=pos.xyz-u_camera_pos;
#else
local_pos=a_pos_3f;gl_Position=u_matrix*vec4(a_pos_3f,1);v_position_height.xyz=vec3(u_lighting_matrix*vec4(a_pos_3f,1));v_color_mix=vec4(sRGBToLinear(u_color_mix.rgb),u_color_mix.a);
#endif
v_position_height.w=a_pos_3f.z;
#ifdef HAS_ATTRIBUTE_a_pbr
vec4 albedo_c=decode_color(pbr.xy);vec2 e_r_m=unpack_float(pbr.z);vec2 r_m= unpack_float(e_r_m.y*16.0);r_m.r=r_m.r*16.0;v_color_mix=vec4(albedo_c.rgb,1.0);v_roughness_metallic_emissive_alpha=vec4(vec3(r_m,e_r_m.x)/255.0,albedo_c.a);v_roughness_metallic_emissive_alpha.z*=2.0;float heightBasedRelativeIntepolation=a_pos_3f.z*heightBasedEmissiveStrength.x+heightBasedEmissiveStrength.y;v_height_based_emission_params.x=heightBasedRelativeIntepolation;v_height_based_emission_params.y=heightBasedEmissiveStrength.z;vec2 emissionMultiplierValues=unpack_float(pbr.w)/256.0;v_height_based_emission_params.z=emissionMultiplierValues.x;v_height_based_emission_params.w=emissionMultiplierValues.y-emissionMultiplierValues.x;
#endif
#ifdef FOG
v_fog_pos=fog_position(local_pos);
#endif
#ifdef RENDER_CUTOFF
v_cutoff_opacity=cutoff_opacity(u_cutoff_params,gl_Position.z);
#endif
#ifdef TERRAIN_FRAGMENT_OCCLUSION
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef HAS_ATTRIBUTE_a_normal_3f
#ifdef MODEL_POSITION_ON_GPU
float x_squared_scale=dot(rs[0],rs[0]);float y_squared_scale=dot(rs[1],rs[1]);float z_squared_scale=dot(rs[2],rs[2]);vec3 squared_scale=vec3(x_squared_scale,y_squared_scale,z_squared_scale);normal_3f=rs*((u_lighting_matrix*vec4(normal_3f,0.0)).xyz/squared_scale);normal_3f=normalize(normal_3f);
#else
normal_3f=vec3(normal_matrix*vec4(normal_3f,0));
#endif
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
#ifdef HAS_ATTRIBUTE_a_color_4f
v_roughness_metallic_emissive_alpha.w=clamp(color_4f.a*v_roughness_metallic_emissive_alpha.w*(v_roughness_metallic_emissive_alpha.z-1.0),0.0,1.0);
#endif
#endif
#ifdef RENDER_SHADOWS
vec4 shadow_pos=u_node_matrix*vec4(local_pos,1.0);
#ifdef NORMAL_OFFSET
#ifdef HAS_ATTRIBUTE_a_normal_3f
#ifdef MODEL_POSITION_ON_GPU
vec3 offset=shadow_normal_offset(vec3(-normal_3f.xy,normal_3f.z));shadow_pos.xyz+=offset*shadow_normal_offset_multiplier0();
#else
vec3 offset=shadow_normal_offset_model(normal_3f);shadow_pos.xyz+=offset*shadow_normal_offset_multiplier0();
#endif
#endif
#endif
v_pos_light_view_0=u_light_matrix_0*shadow_pos;v_pos_light_view_1=u_light_matrix_1*shadow_pos;v_depth_shadows=gl_Position.w;
#endif
}`),modelDepth:dn(`in highp float v_depth;void main() {
#ifndef DEPTH_TEXTURE
glFragColor=pack_depth(v_depth);
#endif
}`,`in vec3 a_pos_3f;uniform mat4 u_matrix;out highp float v_depth;
#ifdef MODEL_POSITION_ON_GPU
#ifdef INSTANCED_ARRAYS
in vec4 a_normal_matrix0;in vec4 a_normal_matrix1;in vec4 a_normal_matrix2;in vec4 a_normal_matrix3;
#else
uniform highp mat4 u_instance;
#endif
uniform highp mat4 u_node_matrix;
#endif
void main() {
#ifdef MODEL_POSITION_ON_GPU
highp mat4 instance;
#ifdef INSTANCED_ARRAYS
instance=mat4(a_normal_matrix0,a_normal_matrix1,a_normal_matrix2,a_normal_matrix3);
#else
instance=u_instance;
#endif
vec3 pos_color=instance[0].xyz;vec4 translate=instance[1];vec3 pos_a=floor(pos_color);float hidden=float(pos_a.x > EXTENT);float meter_to_tile=instance[0].w;vec4 pos=vec4(pos_a.xy,translate.z,1.0);mat3 rs;rs[0].x=instance[1].w;rs[0].yz=instance[2].xy;rs[1].xy=instance[2].zw;rs[1].z=instance[3].x;rs[2].xyz=instance[3].yzw;vec4 pos_node=u_node_matrix*vec4(a_pos_3f,1.0);vec3 rotated_pos_node=rs*pos_node.xyz;vec3 pos_model_tile=(rotated_pos_node+vec3(translate.xy,0.0))*vec3(meter_to_tile,meter_to_tile,1.0);pos.xyz+=pos_model_tile;gl_Position=mix(u_matrix*pos,AWAY,hidden);
#else
gl_Position=u_matrix*vec4(a_pos_3f,1);
#endif
v_depth=gl_Position.z/gl_Position.w;}`),stars:dn(`in highp vec2 v_uv;in mediump float v_intensity;float shapeCircle(in vec2 uv)
{float beginFade=0.6;float lengthFromCenter=length(v_uv);return 1.0-clamp((lengthFromCenter-beginFade)/(1.0-beginFade),0.0,1.0);}void main() {float alpha=shapeCircle(v_uv);vec3 color=vec3(1.0,1.0,1.0);alpha*=v_intensity;glFragColor=vec4(color*alpha,alpha);HANDLE_WIREFRAME_DEBUG;}`,`
in vec3 a_pos_3f;in vec2 a_uv;in float a_size_scale;in float a_fade_opacity;uniform mat4 u_matrix;uniform vec3 u_up;uniform vec3 u_right;uniform float u_intensity_multiplier;out highp vec2 v_uv;out mediump float v_intensity;void main() {v_uv=a_uv;v_intensity=a_fade_opacity*u_intensity_multiplier;vec3 pos=a_pos_3f;pos+=a_uv.x*u_right*a_size_scale;pos+=a_uv.y*u_up*a_size_scale;gl_Position=u_matrix*vec4(pos,1.0);}`),snowParticle:dn("in highp vec2 uv;in highp float alphaMultiplier;uniform vec4 u_particleColor;uniform vec2 u_simpleShapeParameters;void main() {float t=clamp((length(uv)-u_simpleShapeParameters.x)/(1.0-u_simpleShapeParameters.x),0.0,1.0);float alpha=1.0-pow(t,pow(10.0,u_simpleShapeParameters.y));alpha*=alphaMultiplier;alpha*=u_particleColor.a;vec3 color=u_particleColor.rgb*alpha;glFragColor=vec4(color,alpha) ;HANDLE_WIREFRAME_DEBUG;}",`
in highp vec3 a_pos_3f;in highp vec2 a_uv;in highp vec4 a_snowParticleData;in highp vec4 a_snowParticleDataHorizontalOscillation;uniform mat4 u_modelview;uniform mat4 u_projection;uniform vec3 u_cam_pos;uniform vec2 u_screenSize;uniform float u_time;uniform float u_boxSize;uniform float u_velocityConeAperture; 
uniform float u_velocity;uniform vec3 u_direction;uniform float u_horizontalOscillationRadius; 
uniform float u_horizontalOscillationRate; 
uniform float u_billboardSize;uniform vec2 u_thinningCenterPos;uniform vec3 u_thinningShape;uniform float u_thinningAffectedRatio;uniform float u_thinningParticleOffset;out highp vec2 uv;out highp float alphaMultiplier;void main() {vec3 pos=a_pos_3f;float halfBoxSize=0.5*u_boxSize;pos.xyz*=halfBoxSize;pos+=u_cam_pos;float velocityConeApertureRad=radians(u_velocityConeAperture*0.5);float coneAnglePichRad=velocityConeApertureRad*a_snowParticleData.z;float coneAngleHeadingRad=a_snowParticleData.w*radians(360.0);vec3 localZ=normalize(u_direction);vec3 localX=normalize(cross(localZ,vec3(1,0,0)));vec3 localY=normalize(cross(localZ,localX));vec3 direction;direction.x=cos(coneAngleHeadingRad)*sin(coneAnglePichRad);direction.y=sin(coneAngleHeadingRad)*sin(coneAnglePichRad);direction.z=cos(coneAnglePichRad);direction=normalize(direction);vec3 simPosLocal=vec3(0,0,0);float velocityScale=(1.0+3.0*a_snowParticleData.y)*u_velocity;simPosLocal+=direction*velocityScale*u_time;float horizontalOscillationRadius=u_horizontalOscillationRadius*a_snowParticleDataHorizontalOscillation.x;float horizontalOscillationAngle=u_horizontalOscillationRate*u_time*(-1.0+2.0*a_snowParticleDataHorizontalOscillation.y);simPosLocal.xy+=horizontalOscillationRadius*vec2(cos(horizontalOscillationAngle),sin(horizontalOscillationAngle));vec3 simPos=localX*simPosLocal.x+
localY*simPosLocal.y+localZ*simPosLocal.z;pos+=simPos;pos=fract((pos+vec3(halfBoxSize))/vec3(u_boxSize))*u_boxSize-vec3(halfBoxSize);float clipZ=-u_cam_pos.z+pos.z;vec4 posView=u_modelview*vec4(pos,1.0);float size=u_billboardSize;alphaMultiplier=1.0;vec4 posScreen=u_projection*posView;posScreen/=posScreen.w;posScreen.xy=vec2(0.5)+posScreen.xy*0.5;posScreen.xy*=u_screenSize;vec2 thinningCenterPos=u_thinningCenterPos.xy;thinningCenterPos.y=u_screenSize.y-thinningCenterPos.y;float screenDist=length((thinningCenterPos-posScreen.xy)/(0.5*u_screenSize));screenDist+=a_snowParticleData.x*u_thinningParticleOffset;float scaleFactorMode=0.0;float thinningShapeDist=u_thinningShape.x+u_thinningShape.y;if (screenDist < thinningShapeDist) {float thinningFadeRatio=clamp((screenDist-u_thinningShape.x)/u_thinningShape.y,0.0,1.0);thinningFadeRatio=pow(thinningFadeRatio,u_thinningShape.z);if (a_snowParticleData.x < u_thinningAffectedRatio) {scaleFactorMode=1.0-thinningFadeRatio;alphaMultiplier=thinningFadeRatio;}}vec4 posScreen1=u_projection*vec4(posView.x-size,posView.yzw);posScreen1/=posScreen1.w;vec4 posScreen2=u_projection*vec4(posView.x+size,posView.yzw);posScreen2/=posScreen2.w;posScreen1.xy=vec2(0.5)+posScreen1.xy*0.5;posScreen1.xy*=u_screenSize;posScreen2.xy=vec2(0.5)+posScreen2.xy*0.5;posScreen2.xy*=u_screenSize;float screenLength=length(posScreen1.xy-posScreen2.xy);float screenEpsilon=3.0;float scaleFactor=1.0;if (screenLength < screenEpsilon) {scaleFactor=screenEpsilon/max(screenLength,0.01);scaleFactor=mix(scaleFactor,1.0,scaleFactorMode);}float screenEpsilon2=15.0;if (screenLength > screenEpsilon2) {scaleFactor=screenEpsilon2/max(screenLength,0.01);}size*=scaleFactor;vec2 right=size*vec2(1,0);vec2 up=size*vec2(0,1);posView.xy+=right*a_uv.x;posView.xy+=up*a_uv.y;uv=a_uv;gl_Position=u_projection*posView;}`),rainParticle:dn("in highp vec2 uv;in highp float particleRandomValue;uniform sampler2D u_texScreen;uniform float u_distortionStrength;uniform vec4 u_color;uniform vec2 u_thinningCenterPos;uniform vec3 u_thinningShape;uniform float u_thinningAffectedRatio;uniform float u_thinningParticleOffset;uniform float u_shapeDirectionalPower;uniform float u_mode;void main() {vec2 st=uv*0.5+vec2(0.5);vec2 uvm=uv;uvm.y=-1.0+2.0*pow(st.y,u_shapeDirectionalPower);float shape=clamp(1.0-length(uvm),0.0,1.0);float alpha=abs(shape)*u_color.a;vec2 screenSize=vec2(textureSize(u_texScreen,0));vec2 thinningCenterPos=u_thinningCenterPos.xy;thinningCenterPos.y=screenSize.y-thinningCenterPos.y;float screenDist=length((thinningCenterPos-gl_FragCoord.xy)/(0.5*screenSize));screenDist+=(0.5+0.5*particleRandomValue)*u_thinningParticleOffset;float thinningShapeDist=u_thinningShape.x+u_thinningShape.y;float thinningAlpha=1.0;if (screenDist < thinningShapeDist) {float thinningFadeRatio=clamp((screenDist-u_thinningShape.x)/u_thinningShape.y,0.0,1.0);thinningFadeRatio=pow(thinningFadeRatio,u_thinningShape.z);thinningAlpha*=thinningFadeRatio;}vec2 offsetXY=normalize(uvm)*abs(shape);vec2 stScreen=(gl_FragCoord.xy+offsetXY*u_distortionStrength*thinningAlpha)/screenSize;vec3 colorScreen=texture(u_texScreen,stScreen).rgb;alpha*=thinningAlpha;glFragColor=mix(vec4(colorScreen,1.0),vec4(u_color.rgb*alpha,alpha),u_mode);HANDLE_WIREFRAME_DEBUG;}",`
in highp vec3 a_pos_3f;in highp vec2 a_uv;in highp vec4 a_rainParticleData;uniform mat4 u_modelview;uniform mat4 u_projection;uniform vec3 u_cam_pos;uniform float u_time;uniform float u_boxSize;uniform float u_velocityConeAperture; 
uniform float u_velocity; 
uniform vec2 u_rainDropletSize;uniform vec3 u_rainDirection;out highp vec2 uv;out highp float particleRandomValue;void main() {vec3 pos=a_pos_3f;float halfBoxSize=0.5*u_boxSize;pos*=halfBoxSize; 
pos+=u_cam_pos;float velocityConeApertureRad=radians(u_velocityConeAperture*0.5);float coneAnglePichRad=velocityConeApertureRad*a_rainParticleData.z;float coneAngleHeadingRad=a_rainParticleData.w*radians(360.0);vec3 localZ=normalize(u_rainDirection);vec3 localX=normalize(cross(localZ,vec3(1,0,0)));vec3 localY=normalize(cross(localZ,localX));vec3 directionLocal;directionLocal.x=cos(coneAngleHeadingRad)*sin(coneAnglePichRad);directionLocal.y=sin(coneAngleHeadingRad)*sin(coneAnglePichRad);directionLocal.z=cos(coneAnglePichRad);directionLocal=normalize(directionLocal);vec3 directionWorld=localX*directionLocal.x+localY*directionLocal.y+localZ*directionLocal.z;float velocityScale=(1.0+3.0*a_rainParticleData.y)*u_velocity;vec3 simPosLocal=vec3(0,0,0);simPosLocal+=directionLocal*velocityScale*u_time;vec3 simPos=localX*simPosLocal.x+
localY*simPosLocal.y+localZ*simPosLocal.z;pos+=simPos;pos=fract((pos+vec3(halfBoxSize))/vec3(u_boxSize))*u_boxSize-vec3(halfBoxSize);vec4 posView=u_modelview*vec4(pos,1.0);vec3 directionView=normalize((u_modelview*vec4(directionWorld,0.0)).xyz);vec3 side=cross(directionView,normalize(posView.xyz));posView.xyz+=side*a_uv.x*u_rainDropletSize.x;posView.xyz+=directionView*a_uv.y*u_rainDropletSize.y;uv=a_uv;particleRandomValue=a_rainParticleData.x;gl_Position=u_projection*posView;}`),occlusion:dn("uniform vec4 u_color;void main() {glFragColor=u_color;}",`#include "_prelude_terrain.vertex.glsl"
in highp vec2 a_offset_xy;uniform highp vec3 u_anchorPos;uniform mat4 u_matrix;uniform vec2 u_screenSizePx;uniform vec2 u_occluderSizePx;void main() {vec3 world_pos=u_anchorPos;
#ifdef TERRAIN
float e=elevation(world_pos.xy);world_pos.z+=e;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1.0);projected_point.xy+=projected_point.w*a_offset_xy*0.5*u_occluderSizePx/u_screenSizePx;gl_Position=projected_point;}`)};function Ec(p,r){const d=p.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let m of d)if(m=m.trim(),m[0]==="#"&&m.includes("if")&&!m.includes("endif")){m=m.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const b=m.split(" ");for(const w of b)r.includes(w)||r.push(w)}}function dn(p,r){const d=/#include\s+"([^"]+)"/g,m=/#pragma mapbox: ([\w\-]+) ([\w]+) ([\w]+) ([\w]+)/g;let b=r.match(/(attribute(\S*)|(^\s*|;)in) (highp |mediump |lowp )?([\w]+) ([\w]+)/gm);b&&(b=b.map($=>{const z=$.split(" ");return z[z.length-1]}),b=[...new Set(b)]);const w={},E=[],A=[];if(p=p.replace(d,($,z)=>(A.push(z),"")),(r=r.replace(d,($,z)=>(E.push(z),""))).includes("flat out"))return void console.error('The usage of "flat" qualifier is disallowed, see: https://bugs.webkit.org/show_bug.cgi?id=268071');let j=[...sf];Ec(p,j),Ec(r,j);for(const $ of[...E,...A])Ru[$]||console.error(`Undefined include: ${$}`),Xl[$]||(Xl[$]=[],Ec(Ru[$],Xl[$])),j=[...j,...Xl[$]];return{fragmentSource:p=p.replace(m,($,z,H,W,ee)=>(w[ee]=!0,z==="define"?`
#ifndef HAS_UNIFORM_u_${ee}
in ${H} ${W} ${ee};
#else
uniform ${H} ${W} u_${ee};
#endif
`:z==="initialize"?`
#ifdef HAS_UNIFORM_u_${ee}
    ${H} ${W} ${ee} = u_${ee};
#endif
`:z==="define-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${ee}
    in ${H} ${W} ${ee};
#endif
`:z==="initialize-attribute"?"":void 0)),vertexSource:r=r.replace(m,($,z,H,W,ee)=>{const oe=W==="float"?"vec2":W,ne=ee.match(/color/)?"color":oe;return z==="define-attribute-vertex-shader-only"?`
#ifdef HAS_ATTRIBUTE_a_${ee}
in ${H} ${W} a_${ee};
#endif
`:w[ee]?z==="define"?`
#ifndef HAS_UNIFORM_u_${ee}
uniform lowp float u_${ee}_t;
in ${H} ${oe} a_${ee};
out ${H} ${W} ${ee};
#else
uniform ${H} ${W} u_${ee};
#endif
`:z==="initialize"?ne==="vec4"?`
#ifndef HAS_UNIFORM_u_${ee}
    ${ee} = a_${ee};
#else
    ${H} ${W} ${ee} = u_${ee};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ee}
    ${ee} = unpack_mix_${ne}(a_${ee}, u_${ee}_t);
#else
    ${H} ${W} ${ee} = u_${ee};
#endif
`:z==="define-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${ee}
    in ${H} ${W} a_${ee};
    out ${H} ${W} ${ee};
#endif
`:z==="initialize-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${ee}
    ${ee} = a_${ee};
#endif
`:void 0:z==="define"?`
#ifndef HAS_UNIFORM_u_${ee}
uniform lowp float u_${ee}_t;
in ${H} ${oe} a_${ee};
#else
uniform ${H} ${W} u_${ee};
#endif
`:z==="define-instanced"?ne==="mat4"?`
#ifdef INSTANCED_ARRAYS
in vec4 a_${ee}0;
in vec4 a_${ee}1;
in vec4 a_${ee}2;
in vec4 a_${ee}3;
#else
uniform ${H} ${W} u_${ee};
#endif
`:`
#ifdef INSTANCED_ARRAYS
in ${H} ${oe} a_${ee};
#else
uniform ${H} ${W} u_${ee};
#endif
`:z==="initialize-attribute-custom"?`
#ifdef HAS_ATTRIBUTE_a_${ee}
    ${H} ${W} ${ee} = a_${ee};
#endif
`:ne==="vec4"?`
#ifndef HAS_UNIFORM_u_${ee}
    ${H} ${W} ${ee} = a_${ee};
#else
    ${H} ${W} ${ee} = u_${ee};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ee}
    ${H} ${W} ${ee} = unpack_mix_${ne}(a_${ee}, u_${ee}_t);
#else
    ${H} ${W} ${ee} = u_${ee};
#endif
`}),staticAttributes:b,usedDefines:j,vertexIncludes:E,fragmentIncludes:A}}class Jl{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(r,d,m,b,w,E,A,j){this.context=r;let $=this.boundPaintVertexBuffers.length!==b.length;for(let H=0;!$&&H<b.length;H++)this.boundPaintVertexBuffers[H]!==b[H]&&($=!0);let z=this.boundDynamicVertexBuffers.length!==A.length;for(let H=0;!z&&H<A.length;H++)this.boundDynamicVertexBuffers[H]!==A[H]&&(z=!0);if(!this.vao||this.boundProgram!==d||this.boundLayoutVertexBuffer!==m||$||z||this.boundIndexBuffer!==w||this.boundVertexOffset!==E)this.freshBind(d,m,b,w,E,A,j);else{r.bindVertexArrayOES.set(this.vao);for(const H of A)H&&(H.bind(),j&&H.instanceCount&&H.setVertexAttribDivisor(r.gl,d,j));w&&w.dynamicDraw&&w.bind()}}freshBind(r,d,m,b,w,E,A){const j=r.numAttributes,$=this.context,z=$.gl;this.vao&&this.destroy(),this.vao=$.gl.createVertexArray(),$.bindVertexArrayOES.set(this.vao),this.boundProgram=r,this.boundLayoutVertexBuffer=d,this.boundPaintVertexBuffers=m,this.boundIndexBuffer=b,this.boundVertexOffset=w,this.boundDynamicVertexBuffers=E,d.enableAttributes(z,r),d.bind(),d.setVertexAttribPointers(z,r,w);for(const H of m)H.enableAttributes(z,r),H.bind(),H.setVertexAttribPointers(z,r,w);for(const H of E)H&&(H.enableAttributes(z,r),H.bind(),H.setVertexAttribPointers(z,r,w),A&&H.instanceCount&&H.setVertexAttribDivisor(z,r,A));b&&b.bind(),$.currentNumAttributes=j}destroy(){this.vao&&(this.context.gl.deleteVertexArray(this.vao),this.vao=null)}}function Iu(p,r){const d=Math.pow(2,r.canonical.z),m=r.canonical.y;return[new n.a5(0,m/d).toLngLat().lat,new n.a5(0,(m+1)/d).toLngLat().lat]}function lf(p,r,d,m,b,w,E){const A=p.context,j=A.gl,$=d.hillshadeFBO;if(!$)return;p.prepareDrawTile();const z=p.isTileAffectedByFog(r),H=p.getOrCreateProgram("hillshade",{overrideFog:z});A.activeTexture.set(j.TEXTURE0),j.bindTexture(j.TEXTURE_2D,$.colorAttachment.get());const W=((se,ae,me,Fe)=>{const Ce=me.paint.get("hillshade-shadow-color"),Pe=me.paint.get("hillshade-highlight-color"),Me=me.paint.get("hillshade-accent-color"),Ie=me.paint.get("hillshade-emissive-strength");let Le=n.bC(me.paint.get("hillshade-illumination-direction"));if(me.paint.get("hillshade-illumination-anchor")==="viewport")Le-=se.transform.angle;else if(se.style&&se.style.enable3dLights()&&se.style.directionalLight){const Qe=se.style.directionalLight.properties.get("direction"),He=n.c8(Qe.x,Qe.y,Qe.z);Le=n.bC(He[1])}const $e=!se.options.moving;return{u_matrix:Fe||se.transform.calculateProjMatrix(ae.tileID.toUnwrapped(),$e),u_image:0,u_latrange:Iu(0,ae.tileID),u_light:[me.paint.get("hillshade-exaggeration"),Le],u_shadow:Ce.toRenderColor(me.lut),u_highlight:Pe.toRenderColor(me.lut),u_emissive_strength:Ie,u_accent:Me.toRenderColor(me.lut)}})(p,d,m,p.terrain?r.projMatrix:null);p.uploadCommonUniforms(A,H,r.toUnwrapped());const{tileBoundsBuffer:ee,tileBoundsIndexBuffer:oe,tileBoundsSegments:ne}=p.getTileBoundsBuffers(d);H.draw(p,j.TRIANGLES,b,w,E,Ni.disabled,W,m.id,ee,oe,ne)}function ku(p,r,d){if(!r.needsDEMTextureUpload)return;const m=p.context,b=m.gl;m.pixelStoreUnpackPremultiplyAlpha.set(!1),r.demTexture=r.demTexture||p.getTileTexture(d.stride);const w=d.getPixels();r.demTexture?r.demTexture.update(w,{premultiply:!1}):r.demTexture=new n.T(m,w,b.R32F,{premultiply:!1}),r.needsDEMTextureUpload=!1}function Yl(p,r,d){const m=p.context,b=m.gl;if(!r.dem)return;const w=r.dem;if(m.activeTexture.set(b.TEXTURE1),ku(p,r,w),!r.demTexture)return;r.demTexture.bind(b.NEAREST,b.CLAMP_TO_EDGE);const E=w.dim;m.activeTexture.set(b.TEXTURE0);let A=r.hillshadeFBO;if(!A){const W=new n.T(m,{width:E,height:E,data:null},b.RGBA8);W.bind(b.LINEAR,b.CLAMP_TO_EDGE),A=r.hillshadeFBO=m.createFramebuffer(E,E,!0,"renderbuffer"),A.colorAttachment.set(W.texture)}m.bindFramebuffer.set(A.framebuffer),m.viewport.set([0,0,E,E]);const{tileBoundsBuffer:j,tileBoundsIndexBuffer:$,tileBoundsSegments:z}=p.getMercatorTileBoundsBuffers(),H=[];p.linearFloatFilteringSupported()&&H.push("TERRAIN_DEM_FLOAT_FORMAT"),p.getOrCreateProgram("hillshadePrepare",{defines:H}).draw(p,b.TRIANGLES,Pi.disabled,qi.disabled,rn.unblended,Ni.disabled,((W,ee)=>{const oe=ee.stride,ne=n.a6.mat4.create();return n.a6.mat4.ortho(ne,0,n.ab,-n.ab,0,0,1),n.a6.mat4.translate(ne,ne,[0,-n.ab,0]),{u_matrix:ne,u_image:1,u_dimension:[oe,oe],u_zoom:W.overscaledZ}})(r.tileID,w),d.id,j,$,z),r.needsHillshadePrepare=!1}class Kn{constructor(r){this.gl=r.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(r){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class E0 extends Kn{getDefault(){return n.bA.transparent}set(r){const d=this.current;(r.r!==d.r||r.g!==d.g||r.b!==d.b||r.a!==d.a||this.dirty)&&(this.gl.clearColor(r.r,r.g,r.b,r.a),this.current=r,this.dirty=!1)}}class v_ extends Kn{getDefault(){return 1}set(r){(r!==this.current||this.dirty)&&(this.gl.clearDepth(r),this.current=r,this.dirty=!1)}}class S0 extends Kn{getDefault(){return 0}set(r){(r!==this.current||this.dirty)&&(this.gl.clearStencil(r),this.current=r,this.dirty=!1)}}class df extends Kn{getDefault(){return[!0,!0,!0,!0]}set(r){const d=this.current;(r[0]!==d[0]||r[1]!==d[1]||r[2]!==d[2]||r[3]!==d[3]||this.dirty)&&(this.gl.colorMask(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class Mu extends Kn{getDefault(){return!0}set(r){(r!==this.current||this.dirty)&&(this.gl.depthMask(r),this.current=r,this.dirty=!1)}}class x_ extends Kn{getDefault(){return 255}set(r){(r!==this.current||this.dirty)&&(this.gl.stencilMask(r),this.current=r,this.dirty=!1)}}class w_ extends Kn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(r){const d=this.current;(r.func!==d.func||r.ref!==d.ref||r.mask!==d.mask||this.dirty)&&(this.gl.stencilFunc(r.func,r.ref,r.mask),this.current=r,this.dirty=!1)}}class F_ extends Kn{getDefault(){const r=this.gl;return[r.KEEP,r.KEEP,r.KEEP]}set(r){const d=this.current;(r[0]!==d[0]||r[1]!==d[1]||r[2]!==d[2]||this.dirty)&&(this.gl.stencilOp(r[0],r[1],r[2]),this.current=r,this.dirty=!1)}}class ed extends Kn{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const d=this.gl;r?d.enable(d.STENCIL_TEST):d.disable(d.STENCIL_TEST),this.current=r,this.dirty=!1}}class C_ extends Kn{getDefault(){return[0,1]}set(r){const d=this.current;(r[0]!==d[0]||r[1]!==d[1]||this.dirty)&&(this.gl.depthRange(r[0],r[1]),this.current=r,this.dirty=!1)}}class lv extends Kn{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const d=this.gl;r?d.enable(d.DEPTH_TEST):d.disable(d.DEPTH_TEST),this.current=r,this.dirty=!1}}class dv extends Kn{getDefault(){return this.gl.LESS}set(r){(r!==this.current||this.dirty)&&(this.gl.depthFunc(r),this.current=r,this.dirty=!1)}}class uv extends Kn{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const d=this.gl;r?d.enable(d.BLEND):d.disable(d.BLEND),this.current=r,this.dirty=!1}}class T0 extends Kn{getDefault(){const r=this.gl;return[r.ONE,r.ZERO,r.ONE,r.ZERO]}set(r){const d=this.current;(r[0]!==d[0]||r[1]!==d[1]||r[2]!==d[2]||r[3]!==d[3]||this.dirty)&&(this.gl.blendFuncSeparate(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class R0 extends Kn{getDefault(){return n.bA.transparent}set(r){const d=this.current;(r.r!==d.r||r.g!==d.g||r.b!==d.b||r.a!==d.a||this.dirty)&&(this.gl.blendColor(r.r,r.g,r.b,r.a),this.current=r,this.dirty=!1)}}class P0 extends Kn{getDefault(){return this.gl.FUNC_ADD}set(r){(r!==this.current||this.dirty)&&(this.gl.blendEquationSeparate(r,r),this.current=r,this.dirty=!1)}}class I0 extends Kn{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const d=this.gl;r?d.enable(d.CULL_FACE):d.disable(d.CULL_FACE),this.current=r,this.dirty=!1}}class E_ extends Kn{getDefault(){return this.gl.BACK}set(r){(r!==this.current||this.dirty)&&(this.gl.cullFace(r),this.current=r,this.dirty=!1)}}class S_ extends Kn{getDefault(){return this.gl.CCW}set(r){(r!==this.current||this.dirty)&&(this.gl.frontFace(r),this.current=r,this.dirty=!1)}}let hv=class extends Kn{getDefault(){return null}set(p){(p!==this.current||this.dirty)&&(this.gl.useProgram(p),this.current=p,this.dirty=!1)}};class Au extends Kn{getDefault(){return this.gl.TEXTURE0}set(r){(r!==this.current||this.dirty)&&(this.gl.activeTexture(r),this.current=r,this.dirty=!1)}}class Ou extends Kn{getDefault(){const r=this.gl;return[0,0,r.drawingBufferWidth,r.drawingBufferHeight]}set(r){const d=this.current;(r[0]!==d[0]||r[1]!==d[1]||r[2]!==d[2]||r[3]!==d[3]||this.dirty)&&(this.gl.viewport(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class T_ extends Kn{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const d=this.gl;d.bindFramebuffer(d.FRAMEBUFFER,r),this.current=r,this.dirty=!1}}class ya extends Kn{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const d=this.gl;d.bindRenderbuffer(d.RENDERBUFFER,r),this.current=r,this.dirty=!1}}class k0 extends Kn{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const d=this.gl;d.bindTexture(d.TEXTURE_2D,r),this.current=r,this.dirty=!1}}class uf extends Kn{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const d=this.gl;d.bindBuffer(d.ARRAY_BUFFER,r),this.current=r,this.dirty=!1}}class hf extends Kn{getDefault(){return null}set(r){const d=this.gl;d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,r),this.current=r,this.dirty=!1}}class M0 extends Kn{getDefault(){return null}set(r){this.gl&&(r!==this.current||this.dirty)&&(this.gl.bindVertexArray(r),this.current=r,this.dirty=!1)}}class A0 extends Kn{getDefault(){return 4}set(r){if(r===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_ALIGNMENT,r),this.current=r,this.dirty=!1}}class ff extends Kn{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r),this.current=r,this.dirty=!1}}class O0 extends Kn{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,r),this.current=r,this.dirty=!1}}class Lu extends Kn{constructor(r,d){super(r),this.context=r,this.parent=d}getDefault(){return null}}class pf extends Lu{setDirty(){this.dirty=!0}set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,r,0),this.current=r,this.dirty=!1}}class L0 extends Lu{attachment(){return this.gl.DEPTH_ATTACHMENT}set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,this.attachment(),d.RENDERBUFFER,r),this.current=r,this.dirty=!1}}class R_ extends Lu{attachment(){return this.gl.DEPTH_ATTACHMENT}set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferTexture2D(d.FRAMEBUFFER,this.attachment(),d.TEXTURE_2D,r,0),this.current=r,this.dirty=!1}}class td extends L0{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}const fv=(p,r,d)=>({u_matrix:p,u_image0:0,u_skirt_height:r,u_ground_shadow_factor:d}),P_=(p,r,d,m,b,w,E,A,j,$,z,H,W,ee,oe,ne)=>({u_proj_matrix:Float32Array.from(p),u_globe_matrix:r,u_normalize_matrix:Float32Array.from(m),u_merc_matrix:d,u_zoom_transition:b,u_merc_center:w,u_image0:0,u_frustum_tl:E,u_frustum_tr:A,u_frustum_br:j,u_frustum_bl:$,u_globe_pos:z,u_globe_radius:H,u_viewport:W,u_grid_matrix:ne?Float32Array.from(ne):new Float32Array(9),u_skirt_height:ee,u_far_z_cutoff:oe});function I_(p,r){return p!=null&&r!=null&&!(!p.hasData()||!r.hasData())&&p.demTexture!=null&&r.demTexture!=null&&p.tileID.key!==r.tileID.key}const id=new class{constructor(){this.operations={}}newMorphing(p,r,d,m,b){if(p in this.operations){const w=this.operations[p];w.to.tileID.key!==d.tileID.key&&(w.queued=d)}else this.operations[p]={startTime:m,phase:0,duration:b,from:r,to:d,queued:null}}getMorphValuesForProxy(p){if(!(p in this.operations))return null;const r=this.operations[p];return{from:r.from,to:r.to,phase:r.phase}}update(p){for(const r in this.operations){const d=this.operations[r];for(d.phase=(p-d.startTime)/d.duration;d.phase>=1||!this._validOp(d);)if(!this._nextOp(d,p)){delete this.operations[r];break}}}_nextOp(p,r){return!!p.queued&&(p.from=p.to,p.to=p.queued,p.queued=null,p.phase=0,p.startTime=r,!0)}_validOp(p){return p.from.hasData()&&p.to.hasData()}},k_={0:null,1:"TERRAIN_VERTEX_MORPHING"};function M_(p,r,d){if(r===0)return 0;const m=r<1&&d===514?.25/r:1;return 6*Math.pow(1.5,22-p)*Math.max(r,1)*m}function D0(p,r){const d=1<<p.z;return!r&&(p.x===0||p.x===d-1)||p.y===0||p.y===d-1}const Du=p=>({u_matrix:p});function mf(p,r,d,m,b){if(b>0){const w=n.q.now(),E=(w-p.timeAdded)/b,A=r?(w-r.timeAdded)/b:-1,j=d.getSource(),$=m.coveringZoomLevel({tileSize:j.tileSize,roundZoom:j.roundZoom}),z=!r||Math.abs(r.tileID.overscaledZ-$)>Math.abs(p.tileID.overscaledZ-$),H=z&&p.refreshedUponExpiration?1:n.ap(z?E:1-A,0,1);return p.refreshedUponExpiration&&E>=1&&(p.refreshedUponExpiration=!1),r?{opacity:1,mix:1-H}:{opacity:H,mix:0}}return{opacity:1,mix:0}}class nd extends Jr{constructor(r){const d={type:"raster-dem",maxzoom:r.transform.maxZoom},m=new n.ce(n.cf(),null),b=Uh("mock-dem",d,m,r.style);super("mock-dem",b,!1),b.setEventedParent(this),this._sourceLoaded=!0}_loadTile(r,d){r.state="loaded",d(null)}}class A_ extends Jr{constructor(r){const d=Uh("proxy",{type:"geojson",maxzoom:r.transform.maxZoom},new n.ce(n.cf(),null),r.style);super("proxy",d,!1),d.setEventedParent(this),this.map=this.getSource().map=r,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(r,d,m){if(r.freezeTileCoverage)return;this.transform=r;const b=r.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((w,E)=>{if(w[E.key]="",!this._tiles[E.key]){const A=new ms(E,this._source.tileSize*E.overscaleFactor(),r.tileZoom);A.state="loaded",this._tiles[E.key]=A}return w},{});for(const w in this._tiles)w in b||(this.freeFBO(w),this._tiles[w].unloadVectorData(),delete this._tiles[w])}freeFBO(r){const d=this.proxyCachedFBO[r];if(d!==void 0){const m=Object.values(d);this.renderCachePool.push(...m),delete this.proxyCachedFBO[r]}}deallocRenderCache(){this.renderCache.forEach(r=>r.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class B0 extends n.aA{constructor(r,d,m){super(r.overscaledZ,r.wrap,r.canonical.z,r.canonical.x,r.canonical.y),this.proxyTileKey=d,this.projMatrix=m}}class j0 extends n.cE{constructor(r,d){super(),this._debugParams={sortTilesHiZFirst:!0,disableRenderCache:!1},r.tp.registerParameter(this._debugParams,["Terrain"],"sortTilesHiZFirst",{},()=>{this._style.map.triggerRepaint()}),r.tp.registerParameter(this._debugParams,["Terrain"],"disableRenderCache",{},()=>{this._style.map.triggerRepaint()}),r.tp.registerButton(["Terrain"],"Invalidate Render Cache",()=>{this.invalidateRenderCache=!0,this._style.map.triggerRepaint()}),this.painter=r,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[m,b,w]=function(j){const $=new n.a$,z=new n.aP,H=131;$.reserve(17161),z.reserve(33800);const W=n.ab/128,ee=n.ab+W/2,oe=ee+W;for(let se=-W;se<oe;se+=W)for(let ae=-W;ae<oe;ae+=W){const me=ae<0||ae>ee||se<0||se>ee?24575:0,Fe=n.ap(Math.round(ae),0,n.ab),Ce=n.ap(Math.round(se),0,n.ab);$.emplaceBack(Fe+me,Ce)}const ne=(se,ae)=>{const me=ae*H+se;z.emplaceBack(me+1,me,me+H),z.emplaceBack(me+H,me+H+1,me+1)};for(let se=1;se<129;se++)for(let ae=1;ae<129;ae++)ne(ae,se);return[0,129].forEach(se=>{for(let ae=0;ae<130;ae++)ne(ae,se),ne(se,ae)}),[$,z,32768]}(),E=r.context;this.gridBuffer=E.createVertexBuffer(m,n.b1.members),this.gridIndexBuffer=E.createIndexBuffer(b),this.gridSegments=n.b2.simpleSegment(0,0,m.length,b.length),this.gridNoSkirtSegments=n.b2.simpleSegment(0,0,m.length,w),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new A_(d.map),this.orthoMatrix=n.a6.mat4.create(),n.a6.mat4.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,n.ab,0,n.ab,0,1);const A=E.gl;this._overlapStencilMode=new qi({func:A.GEQUAL,mask:255},0,255,A.KEEP,A.KEEP,A.REPLACE),this._previousZoom=r.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=d,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new nd(d.map),this._pendingGroundEffectLayers=[]}set style(r){r.on("data",this._onStyleDataEvent.bind(this)),this._style=r,this._style.map.on("moveend",()=>{this._clearLineLayersFromRenderCache()})}update(r,d,m){if(r&&r.terrain){this._style!==r&&(this.style=r,this._evaluationZoom=void 0);const b=r.terrain.properties,w=r.terrain.drapeRenderMode===0,E=r.terrain.isZoomDependent();this._previousUpdateTimestamp=this.enabled?this._updateTimestamp:void 0,this._updateTimestamp=n.q.now();const A=r.terrain&&r.terrain.scope,j=b.get("source"),$=w?this._mockSourceCache:r.getSourceCache(j,A);if(!$)return void n.w(`Couldn't find terrain source "${j}".`);if(this.sourceCache=$,this._attenuationRange=r.terrain.getAttenuationRange(),this._exaggeration=E?this.calculateExaggeration(d):b.get("exaggeration"),!d.projection.requiresDraping&&E&&this._exaggeration===0)return void this._disable();this.enabled=!0;const z=()=>{this.sourceCache.used&&n.w(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const H=this.getScaledDemTileSize();this.sourceCache.update(d,H,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,z(),this._initializing=!0),z(),d.updateElevation(!0,m),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(d),this._emptyDEMTextureDirty=!0,this._previousZoom=d.zoom}else this._disable()}calculateExaggeration(r){if(this._attenuationRange&&r.zoom>=Math.ceil(this._attenuationRange[1]))return this._style.terrain.getExaggeration(r.zoom);const d=this._previousCameraAltitude,m=r.getFreeCameraOptions().position.z/r.pixelsPerMeter*r.worldSize;this._previousCameraAltitude=m;const b=d!=null?m-d:Number.MAX_VALUE;if(Math.abs(b)<2)return this._exaggeration;const w=r.zoom,E=this._style.terrain;if(!this._previousUpdateTimestamp)return E.getExaggeration(w);let A=w-this._previousZoom;const j=this._previousUpdateTimestamp;let $=w;this._evaluationZoom!=null&&($=this._evaluationZoom,Math.abs(w-$)>.5&&(A=.5*(w-$+A)),A*b<0&&($+=A)),this._evaluationZoom=$;const z=E.getExaggeration($),H=z===E.getExaggeration(Math.max(0,$-.1));if(H&&Math.abs(z-this._exaggeration)<.01)return z;let W=Math.min(.1,.00375*(this._updateTimestamp-j));return(H||z<.1||Math.abs(A)<1e-4)&&(W=Math.min(.2,4*W)),n.aa(this._exaggeration,z,W)}resetTileLookupCache(r){this._findCoveringTileCache[r]={}}attenuationRange(){return this._attenuationRange}getDemUpscale(){return this.proxySourceCache.getSource().tileSize/128}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_onStyleDataEvent(r){r.coord&&r.dataType==="source"?this._clearRenderCacheForTile(r.sourceCacheId,r.coord):r.dataType==="style"&&(this.invalidateRenderCache=!0,this._evaluationZoom=void 0,this._previousUpdateTimestamp=void 0,this._previousCameraAltitude=void 0)}_disable(){if(this.enabled&&(this.enabled=!1,this._emptyDEMTextureDirty=!0,this._sharedDepthStencil=void 0,this._evaluationZoom=void 0,this._previousUpdateTimestamp=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const r in this._style._mergedSourceCaches)this._style._mergedSourceCaches[r].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this.pool.forEach(r=>r.fb.destroy()),this.pool=[],this.framebufferCopyTexture&&this.framebufferCopyTexture.destroy()}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this.enabled?this._exaggeration:0}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const r=2*this.proxySourceCache.getSource().tileSize;return[r,r]}set useVertexMorphing(r){this._useVertexMorphing=r}updateTileBinding(r){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const d=this.proxySourceCache,m=this.painter.transform;this._initializing&&(this._initializing=m._centerAltitude===0&&this.getAtPointOrZero(n.a5.fromLngLat(m.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const b=this.proxyCoords=d.getIds().map(j=>{const $=d.getTileByID(j).tileID;return $.projMatrix=m.calculateProjMatrix($.toUnwrapped()),$});(function(j,$){const z=$.transform.pointCoordinate($.transform.getCameraPoint()),H=new n.P(z.x,z.y);j.sort((W,ee)=>{if(ee.overscaledZ-W.overscaledZ)return ee.overscaledZ-W.overscaledZ;const oe=new n.P(W.canonical.x+(1<<W.canonical.z)*W.wrap,W.canonical.y),ne=new n.P(ee.canonical.x+(1<<ee.canonical.z)*ee.wrap,ee.canonical.y),se=H.mult(1<<W.canonical.z);return se.x-=.5,se.y-=.5,se.distSqr(oe)-se.distSqr(ne)})})(b,this.painter);const w=this.proxyToSource||{};this.proxyToSource={},b.forEach(j=>{this.proxyToSource[j.key]={}}),this.terrainTileForTile={};const E=this._style._mergedSourceCaches;for(const j in E){const $=E[j];if(!$.used||($!==this.sourceCache&&this.resetTileLookupCache($.id),this._setupProxiedCoordsForOrtho($,r[j],w),$.usedForTerrain))continue;const z=r[j];$.getSource().reparseOverscaled&&this._assignTerrainTiles(z)}this.proxiedCoords[d.id]=b.map(j=>new B0(j,j.key,this.orthoMatrix)),this._assignTerrainTiles(b),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(w),this.renderingToTexture=!1;const A={};this._visibleDemTiles=[];for(const j of this.proxyCoords){const $=this.terrainTileForTile[j.key];if(!$)continue;const z=$.tileID.key;z in A||(this._visibleDemTiles.push($),A[z]=z)}}_assignTerrainTiles(r){this._initializing||r.forEach(d=>{if(this.terrainTileForTile[d.key])return;const m=this._findTileCoveringTileID(d,this.sourceCache);m&&(this.terrainTileForTile[d.key]=m)})}_prepareDEMTextures(){const r=this.painter.context,d=r.gl;for(const m in this.terrainTileForTile){const b=this.terrainTileForTile[m],w=b.dem;!w||b.demTexture&&!b.needsDEMTextureUpload||(r.activeTexture.set(d.TEXTURE1),ku(this.painter,b,w))}}_prepareDemTileUniforms(r,d,m,b){if(!d||d.demTexture==null)return!1;const w=r.tileID.canonical,E=Math.pow(2,d.tileID.canonical.z-w.z),A=b||"";return m[`u_dem_tl${A}`]=[w.x*E%1,w.y*E%1],m[`u_dem_scale${A}`]=E,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}_getLoadedAreaMinimum(){if(!this.enabled)return 0;let r=0;const d=this._visibleDemTiles.reduce((m,b)=>{if(!b.dem)return m;const w=b.dem.tree.minimums[0];return w>0&&r++,m+w},0);return r?d/r:0}_updateEmptyDEMTexture(){const r=this.painter.context,d=r.gl;r.activeTexture.set(d.TEXTURE2);const m=this._getLoadedAreaMinimum(),b=new n.cF({width:1,height:1},new Float32Array([m]));this._emptyDEMTextureDirty=!1;let w=this._emptyDEMTexture;return w?w.update(b,{premultiply:!1}):w=this._emptyDEMTexture=new n.T(r,b,d.R32F,{premultiply:!1}),w}setupElevationDraw(r,d,m){const b=this.painter.context,w=b.gl,E={u_dem:2,u_dem_prev:4,u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_depth_range_unpack:[0,1],u_occluder_half_size:16,u_occlusion_depth_offset:-1e-4,u_exaggeration:0};E.u_exaggeration=this.exaggeration();let A=null,j=null,$=1;if(m&&m.morphing&&this._useVertexMorphing){const ee=m.morphing.srcDemTile,oe=m.morphing.dstDemTile;$=m.morphing.phase,ee&&oe&&(this._prepareDemTileUniforms(r,ee,E,"_prev")&&(j=ee),this._prepareDemTileUniforms(r,oe,E)&&(A=oe))}const z=ee=>ee&&ee.demTexture&&this.painter.linearFloatFilteringSupported()?w.LINEAR:w.NEAREST;let H=null;var W;if(this.enabled?j&&A?(H=A.demTexture,b.activeTexture.set(w.TEXTURE4),j.demTexture.bind(z(j),w.CLAMP_TO_EDGE),E.u_dem_lerp=$):(A=this.terrainTileForTile[r.tileID.key],H=this._prepareDemTileUniforms(r,A,E)?A.demTexture:this.emptyDEMTexture):H=this.emptyDEMTexture,b.activeTexture.set(w.TEXTURE2),H&&(E.u_dem_size=(W=H).size[0]===1?1:W.size[0]-2,H.bind(z(A),w.CLAMP_TO_EDGE)),this.painter.setupDepthForOcclusion(m&&m.useDepthForOcclusion,d,E),m&&m.useMeterToDem&&A){const ee=(1<<A.tileID.canonical.z)*n.bE(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;E.u_meter_to_dem=ee}if(m&&m.labelPlaneMatrixInv&&(E.u_label_plane_matrix_inv=m.labelPlaneMatrixInv),d.setTerrainUniformValues(b,E),this.painter.transform.projection.name==="globe"){const ee=this.globeUniformValues(this.painter.transform,r.tileID.canonical,m&&m.useDenormalizedUpVectorScale);d.setGlobeUniformValues(b,ee)}}globeUniformValues(r,d,m){const b=r.projection;return{u_tile_tl_up:b.upVector(d,0,0),u_tile_tr_up:b.upVector(d,n.ab,0),u_tile_br_up:b.upVector(d,n.ab,n.ab),u_tile_bl_up:b.upVector(d,0,n.ab),u_tile_up_scale:m?n.cG(1):b.upVectorScale(d,r.center.lat,r.worldSize).metersToTile}}renderToBackBuffer(r){const d=this.painter,m=this.painter.context;r.length!==0&&(m.bindFramebuffer.set(null),m.viewport.set([0,0,d.width,d.height]),d.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(b,w,E,A,j){if(b.transform.projection.name==="globe")(function($,z,H,W,ee){const oe=$.context,ne=oe.gl;let se,ae;const me=$.transform,Fe=n.cx($,oe,me),Ce=(gt,Ft)=>{if(ae===Ft)return;const Dt=[k_[Ft],"PROJECTION_GLOBE_VIEW"];Fe&&Dt.push("CUSTOM_ANTIALIASING");const Gt=$.isTileAffectedByFog(gt);se=$.getOrCreateProgram("globeRaster",{defines:Dt,overrideFog:Gt}),ae=Ft},Pe=$.colorModeForRenderPass(),Me=new Pi(ne.LEQUAL,Pi.ReadWrite,$.depthRangeFor3D);id.update(ee);const Ie=n.cy(me),Le=[n.am(me.center.lng),n.at(me.center.lat)],$e=$.globeSharedBuffers,Qe=[me.width*n.q.devicePixelRatio,me.height*n.q.devicePixelRatio],He=Float32Array.from(me.globeMatrix),Ue={useDenormalizedUpVectorScale:!0};{const gt=$.transform,Ft=M_(gt.zoom,z.exaggeration(),z.sourceCache._source.tileSize);ae=-1;const Dt=ne.TRIANGLES;for(const Gt of W){const Qt=H.getTile(Gt),st=qi.disabled,Ot=z.prevTerrainTileForTile[Gt.key],_t=z.terrainTileForTile[Gt.key];I_(Ot,_t)&&id.newMorphing(Gt.key,Ot,_t,ee,250),oe.activeTexture.set(ne.TEXTURE0),Qt.texture&&Qt.texture.bind(ne.LINEAR,ne.CLAMP_TO_EDGE);const Lt=id.getMorphValuesForProxy(Gt.key),jt=Lt?1:0;Lt&&n.C(Ue,{morphing:{srcDemTile:Lt.from,dstDemTile:Lt.to,phase:n.cw(Lt.phase)}});const At=n.cz(Gt.canonical),ei=n.cA(At.getCenter().lat),bi=n.cB(Gt.canonical,At,ei,gt.worldSize/gt._pixelsPerMercatorPixel),Fi=n.b6(n.cC(Gt.canonical)),fi=P_(gt.expandedFarZProjMatrix,He,Ie,Fi,n.a9(gt.zoom),Le,gt.frustumCorners.TL,gt.frustumCorners.TR,gt.frustumCorners.BR,gt.frustumCorners.BL,gt.globeCenterInViewSpace,gt.globeRadius,Qe,Ft,gt._farZ,bi);if(Ce(Gt,jt),se&&(z.setupElevationDraw(Qt,se,Ue),$.uploadCommonUniforms(oe,se,Gt.toUnwrapped()),$e)){const[Si,ri,ki]=$e.getGridBuffers(ei,Ft!==0);se.draw($,Dt,Me,st,Pe,Ni.backCCW,fi,"globe_raster",Si,ri,ki)}}}if($e&&($.renderDefaultNorthPole||$.renderDefaultSouthPole)){const gt=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];Fe&&gt.push("CUSTOM_ANTIALIASING"),se=$.getOrCreateProgram("globeRaster",{defines:gt});for(const Ft of W){const{x:Dt,y:Gt,z:Qt}=Ft.canonical,st=Gt===0,Ot=Gt===(1<<Qt)-1,[_t,Lt,jt,At]=$e.getPoleBuffers(Qt,!1);if(At&&(st||Ot)){const ei=H.getTile(Ft);oe.activeTexture.set(ne.TEXTURE0),ei.texture&&ei.texture.bind(ne.LINEAR,ne.CLAMP_TO_EDGE);let bi=n.cD(Qt,Dt,me);const Fi=n.b6(n.cC(Ft.canonical)),fi=(Si,ri)=>Si.draw($,ne.TRIANGLES,Me,qi.disabled,Pe,Ni.disabled,P_(me.expandedFarZProjMatrix,bi,bi,Fi,0,Le,me.frustumCorners.TL,me.frustumCorners.TR,me.frustumCorners.BR,me.frustumCorners.BL,me.globeCenterInViewSpace,me.globeRadius,Qe,0,me._farZ),"globe_pole_raster",ri,jt,At);z.setupElevationDraw(ei,se,Ue),$.uploadCommonUniforms(oe,se,Ft.toUnwrapped()),st&&$.renderDefaultNorthPole&&fi(se,_t),Ot&&$.renderDefaultSouthPole&&(bi=n.a6.mat4.scale(n.a6.mat4.create(),bi,[1,-1,1]),fi(se,Lt))}}}})(b,w,E,A,j);else{const $=b.context,z=$.gl;let H,W;const ee=b.shadowRenderer,oe=zs(b,b.longestCutoffRange),ne=Pe=>{if(W===Pe)return;const Me=[];Me.push(k_[Pe]),oe.shouldRenderCutoff&&Me.push("RENDER_CUTOFF"),ee&&(Me.push("RENDER_SHADOWS","DEPTH_TEXTURE"),ee.useNormalOffset&&Me.push("NORMAL_OFFSET")),H=b.getOrCreateProgram("terrainRaster",{defines:Me}),W=Pe},se=b.colorModeForRenderPass(),ae=new Pi(z.LEQUAL,Pi.ReadWrite,b.depthRangeFor3D);id.update(j);const me=b.transform,Fe=M_(me.zoom,w.exaggeration(),w.sourceCache._source.tileSize);let Ce=[0,0,0];if(ee){const Pe=b.style.directionalLight,Me=b.style.ambientLight;Pe&&Me&&(Ce=nf(b.style,Pe,Me))}{W=-1;const Pe=z.TRIANGLES,[Me,Ie]=[w.gridIndexBuffer,w.gridSegments];for(const Le of A){const $e=E.getTile(Le),Qe=qi.disabled,He=w.prevTerrainTileForTile[Le.key],Ue=w.terrainTileForTile[Le.key];I_(He,Ue)&&id.newMorphing(Le.key,He,Ue,j,250),$.activeTexture.set(z.TEXTURE0),$e.texture&&$e.texture.bind(z.LINEAR,z.CLAMP_TO_EDGE);const gt=id.getMorphValuesForProxy(Le.key),Ft=gt?1:0;let Dt;gt&&(Dt={morphing:{srcDemTile:gt.from,dstDemTile:gt.to,phase:n.cw(gt.phase)}});const Gt=fv(Le.projMatrix,D0(Le.canonical,me.renderWorldCopies)?Fe/10:Fe,Ce);if(ne(Ft),!H)continue;w.setupElevationDraw($e,H,Dt);const Qt=Le.toUnwrapped();ee&&ee.setupShadows(Qt,H),b.uploadCommonUniforms($,H,Qt,null,oe),H.draw(b,Pe,ae,Qe,se,Ni.backCCW,Gt,"terrain_raster",w.gridBuffer,Me,Ie)}}}}(d,this,this.proxySourceCache,r,this._updateTimestamp),this.renderingToTexture=!0,d.gpuTimingDeferredRenderEnd(),r.splice(0,r.length))}renderBatch(r){if(this._drapedRenderBatches.length===0)return r+1;this.renderingToTexture=!0;const d=this.painter,m=this.painter.context,b=this.proxySourceCache,w=this.proxiedCoords[b.id],E=this._drapedRenderBatches.shift(),A=d.style.order,j=[];let $=0;for(const z of w){const H=b.getTileByID(z.proxyTileKey),W=b.proxyCachedFBO[z.key]?b.proxyCachedFBO[z.key][r]:void 0,ee=W!==void 0?b.renderCache[W]:this.pool[$++],oe=W!==void 0;if(H.texture=ee.tex,oe&&!ee.dirty){j.push(H.tileID);continue}let ne;m.bindFramebuffer.set(ee.fb.framebuffer),this.renderedToTile=!1,ee.dirty&&(m.clear({color:n.bA.transparent,stencil:0}),ee.dirty=!1);for(let se=E.start;se<=E.end;++se){const ae=d.style._mergedLayers[A[se]];if(ae.isHidden(d.transform.zoom))continue;const me=d.style.getLayerSourceCache(ae),Fe=me?this.proxyToSource[z.key][me.id]:[z];if(!Fe)continue;const Ce=Fe;m.viewport.set([0,0,ee.fb.width,ee.fb.height]),ne!==(me?me.id:null)&&(this._setupStencil(ee,Fe,ae,me),ne=me?me.id:null),d.renderLayer(d,me,ae,Ce)}if(this._drapedRenderBatches.length===0)for(const se of this._pendingGroundEffectLayers){const ae=d.style._mergedLayers[A[se]];if(ae.isHidden(d.transform.zoom))continue;const me=d.style.getLayerSourceCache(ae),Fe=me?this.proxyToSource[z.key][me.id]:[z];if(!Fe)continue;const Ce=Fe;m.viewport.set([0,0,ee.fb.width,ee.fb.height]),ne!==(me?me.id:null)&&(this._setupStencil(ee,Fe,ae,me),ne=me?me.id:null),d.renderLayer(d,me,ae,Ce)}this.renderedToTile?(ee.dirty=!0,j.push(H.tileID)):oe||--$,$===5&&($=0,this.renderToBackBuffer(j))}return this.renderToBackBuffer(j),this.renderingToTexture=!1,m.bindFramebuffer.set(null),m.viewport.set([0,0,d.width,d.height]),E.end+1}postRender(){}isLayerOrderingCorrect(r){const d=r.order.length;let m=-1,b=d;for(let w=0;w<d;++w)this._style.isLayerDraped(r._mergedLayers[r.order[w]])?m=Math.max(m,w):b=Math.min(b,w);return b>m}getMinElevationBelowMSL(){let r=0;return this._visibleDemTiles.filter(d=>d.dem).forEach(d=>{r=Math.min(r,d.dem.tree.minimums[0])}),r===0?r:(r-30)*this._exaggeration}raycast(r,d,m){if(!this._visibleDemTiles)return null;const b=this._visibleDemTiles.filter(w=>w.dem).map(w=>{const E=w.tileID,A=1<<E.overscaledZ,{x:j,y:$}=E.canonical,z=j/A,H=(j+1)/A,W=$/A,ee=($+1)/A;return{minx:z,miny:W,maxx:H,maxy:ee,t:w.dem.tree.raycastRoot(z,W,H,ee,r,d,m),tile:w}});b.sort((w,E)=>(w.t!==null?w.t:Number.MAX_VALUE)-(E.t!==null?E.t:Number.MAX_VALUE));for(const w of b){if(w.t==null)return null;const E=w.tile.dem.tree.raycast(w.minx,w.miny,w.maxx,w.maxy,r,d,m);if(E!=null)return E}return null}_createFBO(){const r=this.painter.context,d=r.gl,m=this.drapeBufferSize;r.activeTexture.set(d.TEXTURE0);const b=new n.T(r,{width:m[0],height:m[1],data:null},d.RGBA8);b.bind(d.LINEAR,d.CLAMP_TO_EDGE);const w=r.createFramebuffer(m[0],m[1],!0,null);return w.colorAttachment.set(b.texture),w.depthAttachment=new td(r,w.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=r.createRenderbuffer(r.gl.DEPTH_STENCIL,m[0],m[1]),this._stencilRef=0,w.depthAttachment.set(this._sharedDepthStencil),r.clear({stencil:0})):w.depthAttachment.set(this._sharedDepthStencil),r.extTextureFilterAnisotropic&&d.texParameterf(d.TEXTURE_2D,r.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,r.extTextureFilterAnisotropicMax),{fb:w,tex:b,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._debugParams.disableRenderCache||this._style.hasLightTransitions())return!0;for(const r in this._style._mergedSourceCaches)if(this._style._mergedSourceCaches[r].hasTransition())return!0;return this._style.order.some(r=>{const d=this._style._mergedLayers[r],m=d.isHidden(this.painter.transform.zoom);return d.type==="hillshade"||d.type==="custom"?!m&&d.shouldRedrape():!m&&d.hasTransition()})}_clearLineLayersFromRenderCache(){let r=!1;for(const m of this._style.getSources())if(m instanceof br){r=!0;break}if(!r)return;const d={};for(let m=0;m<this._style.order.length;++m){const b=this._style._mergedLayers[this._style.order[m]],w=this._style.getLayerSourceCache(b);if(w&&!d[w.id]&&!b.isHidden(this.painter.transform.zoom)&&b.type==="line"&&b.widthExpression()instanceof n.a4){d[w.id]=!0;for(const E of this.proxyCoords){const A=this.proxyToSource[E.key][w.id];if(A)for(const j of A)this._clearRenderCacheForTile(w.id,j)}}}}_clearRasterLayersFromRenderCache(){let r=!1;for(const m in this._style._mergedSourceCaches)if(this._style._mergedSourceCaches[m]._source instanceof vc){r=!0;break}if(!r)return;const d={};for(let m=0;m<this._style.order.length;++m){const b=this._style._mergedLayers[this._style.order[m]],w=this._style.getLayerSourceCache(b);if(!w||d[w.id]||b.isHidden(this.painter.transform.zoom)||b.type!=="raster")continue;const E=b.paint.get("raster-fade-duration");for(const A of this.proxyCoords){const j=this.proxyToSource[A.key][w.id];if(j)for(const $ of j){const z=mf(w.getTile($),w.findLoadedParent($,0),w,this.painter.transform,E);(z.opacity!==1||z.mix!==0)&&this._clearRenderCacheForTile(w.id,$)}}}}_setupDrapedRenderBatches(){const r=this._style.order,d=r.length;if(d===0)return;const m=[];this._pendingGroundEffectLayers=[];let b,w=0,E=this._style._mergedLayers[r[w]];for(;!this._style.isLayerDraped(E)&&E.isHidden(this.painter.transform.zoom)&&++w<d;)E=this._style._mergedLayers[r[w]];for(;w<d;++w){const A=this._style._mergedLayers[r[w]];A.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(A)?b===void 0&&(b=w):(A.type==="fill-extrusion"&&this._pendingGroundEffectLayers.push(w),b!==void 0&&(m.push({start:b,end:w-1}),b=void 0)))}if(b!==void 0&&m.push({start:b,end:w-1}),m.length!==0){const A=m[m.length-1];this._pendingGroundEffectLayers.every(j=>j>A.end)||n.w("fill-extrusion with flood lighting and/or ground ambient occlusion should be moved to be on top of all draped layers.")}this._drapedRenderBatches=m}_setupRenderCache(r){const d=this.proxySourceCache;if(this._shouldDisableRenderCache()||this.invalidateRenderCache){if(this.invalidateRenderCache=!1,d.renderCache.length>d.renderCachePool.length){const E=Object.values(d.proxyCachedFBO);d.proxyCachedFBO={};for(let A=0;A<E.length;++A){const j=Object.values(E[A]);d.renderCachePool.push(...j)}}return}this._clearRasterLayersFromRenderCache();const m=this.proxyCoords,b=this._tilesDirty;for(let E=m.length-1;E>=0;E--){const A=m[E];if(d.getTileByID(A.key),d.proxyCachedFBO[A.key]!==void 0){const j=r[A.key],$=this.proxyToSource[A.key];let z=0;for(const H in $){const W=$[H],ee=j[H];if(!ee||ee.length!==W.length||W.some((oe,ne)=>oe!==ee[ne]||b[H]&&b[H].hasOwnProperty(oe.key))){z=-1;break}++z}for(const H in d.proxyCachedFBO[A.key])d.renderCache[d.proxyCachedFBO[A.key][H]].dirty=z<0||z!==Object.values(j).length}}const w=[...this._drapedRenderBatches];w.sort((E,A)=>A.end-A.start-(E.end-E.start));for(const E of w)for(const A of m){if(d.proxyCachedFBO[A.key])continue;let j=d.renderCachePool.pop();j===void 0&&d.renderCache.length<50&&(j=d.renderCache.length,d.renderCache.push(this._createFBO())),j!==void 0&&(d.proxyCachedFBO[A.key]={},d.proxyCachedFBO[A.key][E.start]=j,d.renderCache[j].dirty=!0)}this._tilesDirty={}}_setupStencil(r,d,m,b){if(!b||!this._sourceTilesOverlap[b.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const w=this.painter.context,E=w.gl;if(d.length<=1)return void(this._overlapStencilType=!1);let A;if(m.isTileClipped())A=d.length,this._overlapStencilMode.test={func:E.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(d[0].overscaledZ>d[d.length-1].overscaledZ))return void(this._overlapStencilType=!1);A=1,this._overlapStencilMode.test={func:E.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+A>255&&(w.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=A,this._overlapStencilMode.ref=this._stencilRef,m.isTileClipped()&&this._renderTileClippingMasks(d,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(r){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[r.key]),this._overlapStencilMode):qi.disabled}_renderTileClippingMasks(r,d){const m=this.painter,b=this.painter.context,w=b.gl;m._tileClippingMaskIDs={},b.setColorMode(rn.disabled),b.setDepthMode(Pi.disabled);const E=m.getOrCreateProgram("clippingMask");for(const A of r){const j=m._tileClippingMaskIDs[A.key]=--d;E.draw(m,w.TRIANGLES,Pi.disabled,new qi({func:w.ALWAYS,mask:0},j,255,w.KEEP,w.KEEP,w.REPLACE),rn.disabled,Ni.disabled,Du(A.projMatrix),"$clipping",m.tileExtentBuffer,m.quadTriangleIndexBuffer,m.tileExtentSegments)}}pointCoordinate(r){const d=this.painter.transform;if(r.x<0||r.x>d.width||r.y<0||r.y>d.height)return null;const m=[r.x,r.y,1,1];n.a6.vec4.transformMat4(m,m,d.pixelMatrixInverse),n.a6.vec4.scale(m,m,1/m[3]),m[0]/=d.worldSize,m[1]/=d.worldSize;const b=d._camera.position,w=n.bE(1,d.center.lat),E=[b[0],b[1],b[2]/w,0],A=n.a6.vec3.subtract([],m.slice(0,3),E);n.a6.vec3.normalize(A,A);const j=this.raycast(E,A,this._exaggeration);return j!==null&&j?(n.a6.vec3.scaleAndAdd(E,E,A,j),E[3]=E[2],E[2]*=w,E):null}_setupProxiedCoordsForOrtho(r,d,m){if(r.getSource()instanceof n.aD)return this._setupProxiedCoordsForImageSource(r,d,m);this._findCoveringTileCache[r.id]=this._findCoveringTileCache[r.id]||{};const b=this.proxiedCoords[r.id]=[],w=this.proxyCoords;for(let j=0;j<w.length;j++){const $=w[j],z=this._findTileCoveringTileID($,r);if(z){const H=this._createProxiedId($,z,m[$.key]&&m[$.key][r.id]);b.push(H),this.proxyToSource[$.key][r.id]=[H]}}let E=!1;const A=new Set;for(let j=0;j<d.length;j++){const $=r.getTile(d[j]);if(!$||!$.hasData())continue;const z=this._findTileCoveringTileID($.tileID,this.proxySourceCache);if(z&&z.tileID.canonical.z!==$.tileID.canonical.z){const H=this.proxyToSource[z.tileID.key][r.id],W=this._createProxiedId(z.tileID,$,m[z.tileID.key]&&m[z.tileID.key][r.id]);H?H.splice(H.length-1,0,W):this.proxyToSource[z.tileID.key][r.id]=[W];const ee=this.proxyToSource[z.tileID.key][r.id];A.has(ee)||A.add(ee),b.push(W),E=!0}}if(this._sourceTilesOverlap[r.id]=E,E&&this._debugParams.sortTilesHiZFirst)for(const j of A)j.sort(($,z)=>z.overscaledZ-$.overscaledZ)}_setupProxiedCoordsForImageSource(r,d,m){if(!r.getSource().loaded())return;const b=this.proxiedCoords[r.id]=[],w=this.proxyCoords,E=r.getSource(),A=E.tileID;if(!A)return;const j=new n.P(A.x,A.y)._div(1<<A.z),$=E.coordinates.map(n.a5.fromLngLat).reduce((H,W)=>(H.min.x=Math.min(H.min.x,W.x-j.x),H.min.y=Math.min(H.min.y,W.y-j.y),H.max.x=Math.max(H.max.x,W.x-j.x),H.max.y=Math.max(H.max.y,W.y-j.y),H),{min:new n.P(Number.MAX_VALUE,Number.MAX_VALUE),max:new n.P(-Number.MAX_VALUE,-Number.MAX_VALUE)}),z=(H,W)=>{const ee=H.wrap+H.canonical.x/(1<<H.canonical.z),oe=H.canonical.y/(1<<H.canonical.z),ne=n.ab/(1<<H.canonical.z),se=W.wrap+W.canonical.x/(1<<W.canonical.z),ae=W.canonical.y/(1<<W.canonical.z);return ee+ne<se+$.min.x||ee>se+$.max.x||oe+ne<ae+$.min.y||oe>ae+$.max.y};for(let H=0;H<w.length;H++){const W=w[H];for(let ee=0;ee<d.length;ee++){const oe=r.getTile(d[ee]);if(!oe||!oe.hasData()||z(W,oe.tileID))continue;const ne=this._createProxiedId(W,oe,m[W.key]&&m[W.key][r.id]),se=this.proxyToSource[W.key][r.id];se?se.push(ne):this.proxyToSource[W.key][r.id]=[ne],b.push(ne)}}}_createProxiedId(r,d,m){let b=this.orthoMatrix;if(m){const w=m.find(E=>E.key===d.tileID.key);if(w)return w}if(d.tileID.key!==r.key){const w=r.canonical.z-d.tileID.canonical.z;let E,A,j;b=n.a6.mat4.create();const $=d.tileID.wrap-r.wrap<<r.overscaledZ;w>0?(E=n.ab>>w,A=E*((d.tileID.canonical.x<<w)-r.canonical.x+$),j=E*((d.tileID.canonical.y<<w)-r.canonical.y)):(E=n.ab<<-w,A=n.ab*(d.tileID.canonical.x-(r.canonical.x+$<<-w)),j=n.ab*(d.tileID.canonical.y-(r.canonical.y<<-w))),n.a6.mat4.ortho(b,0,E,0,E,0,1),n.a6.mat4.translate(b,b,[A,j,0])}return new B0(d.tileID,r.key,b)}_findTileCoveringTileID(r,d){let m=d.getTile(r);if(m&&m.hasData())return m;const b=this._findCoveringTileCache[d.id],w=b[r.key];if(m=w?d.getTileByID(w):null,m&&m.hasData()||w===null)return m;let E=m?m.tileID:r,A=E.overscaledZ;const j=d.getSource().minzoom,$=[];if(!w){const H=d.getSource().maxzoom;if(r.canonical.z>=H){const W=r.canonical.z-H;d.getSource().reparseOverscaled?(A=Math.max(r.canonical.z+2,d.transform.tileZoom),E=new n.aA(A,r.wrap,H,r.canonical.x>>W,r.canonical.y>>W)):W!==0&&(A=H,E=new n.aA(A,r.wrap,H,r.canonical.x>>W,r.canonical.y>>W))}E.key!==r.key&&($.push(E.key),m=d.getTile(E))}const z=H=>{$.forEach(W=>{b[W]=H}),$.length=0};for(A-=1;A>=j&&(!m||!m.hasData());A--){m&&z(m.tileID.key);const H=E.calculateScaledKey(A);if(m=d.getTileByID(H),m&&m.hasData())break;const W=b[H];if(W===null)break;W===void 0?$.push(H):m=d.getTileByID(W)}return z(m?m.tileID.key:null),m&&m.hasData()?m:null}findDEMTileFor(r){return this.enabled?this._findTileCoveringTileID(r,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(r,d){let m=this._tilesDirty[r];m||(m=this._tilesDirty[r]={}),m[d.key]=!0}}function z0(p,r,d){const m=function(A,j,$){const z=n.a6.vec3.dot(j,A),H=n.a6.vec3.dot($,[.2126,.7152,.0722]),W=(oe,ne,se)=>(1-se)*oe+se*ne,ee=W(1-.3*Math.min(H,1),1,Math.min(z+1,1));return W(.92,1,Math.asin(n.ap(j[2],-1,1))/Math.PI+.5)*ee}(p,[0,0,1],r),b=[0,0,0];n.a6.vec3.scale(b,d.slice(0,3),m);const w=[0,0,0];n.a6.vec3.scale(w,r.slice(0,3),p[2]);const E=[0,0,0];return n.a6.vec3.add(E,b,w),n.cc(E)}const tl=["fill","fillOutline","fillPattern","line","linePattern","background","backgroundPattern","hillshade","raster"],O_=["stars","rain_particle","snow_particle","fillExtrusion","fillExtrusionGroundEffect","model","symbol"];class Ns{static cacheKey(r,d,m,b){let w=`${d}${b?b.cacheKey:""}`;for(const E of m)r.usedDefines.includes(E)&&(w+=`/${E}`);return w}constructor(r,d,m,b,w,E){const A=r.gl;this.program=A.createProgram(),this.configuration=b,this.name=d,this.fixedDefines=[...E];const j=b?b.getBinderAttributes():[],$=(m.staticAttributes||[]).concat(j);let z=b?b.defines():[];z=z.concat(E.map(se=>`#define ${se}`));const H=`#version 300 es
`;let W=H+z.concat("precision mediump float;",cf,Pu.fragmentSource).join(`
`);for(const se of m.fragmentIncludes)W+=`
${Ru[se]}`;W+=`
${m.fragmentSource}`;let ee=H+z.concat("precision highp float;",cf,Pu.vertexSource).join(`
`);for(const se of m.vertexIncludes)ee+=`
${Ru[se]}`;ee+=`
${m.vertexSource}`;const oe=A.createShader(A.FRAGMENT_SHADER);if(A.isContextLost())return void(this.failedToCreate=!0);A.shaderSource(oe,W),A.compileShader(oe),A.attachShader(this.program,oe);const ne=A.createShader(A.VERTEX_SHADER);if(A.isContextLost())this.failedToCreate=!0;else{A.shaderSource(ne,ee),A.compileShader(ne),A.attachShader(this.program,ne),this.attributes={},this.numAttributes=$.length;for(let se=0;se<this.numAttributes;se++)if($[se]){const ae=$[se].startsWith("a_")?$[se]:`a_${$[se]}`;A.bindAttribLocation(this.program,se,ae),this.attributes[ae]=se}A.linkProgram(this.program),A.deleteShader(ne),A.deleteShader(oe),this.fixedUniforms=w(r),this.binderUniforms=b?b.getUniforms(r):[],(E.includes("TERRAIN")||d.indexOf("symbol")!==-1||d.indexOf("circle")!==-1)&&(this.terrainUniforms=(se=>({u_dem:new n.bK(se),u_dem_prev:new n.bK(se),u_dem_tl:new n.bH(se),u_dem_scale:new n.bJ(se),u_dem_tl_prev:new n.bH(se),u_dem_scale_prev:new n.bJ(se),u_dem_size:new n.bJ(se),u_dem_lerp:new n.bJ(se),u_exaggeration:new n.bJ(se),u_depth:new n.bK(se),u_depth_size_inv:new n.bH(se),u_depth_range_unpack:new n.bH(se),u_occluder_half_size:new n.bJ(se),u_occlusion_depth_offset:new n.bJ(se),u_meter_to_dem:new n.bJ(se),u_label_plane_matrix_inv:new n.bG(se)}))(r)),E.includes("GLOBE")&&(this.globeUniforms=(se=>({u_tile_tl_up:new n.bI(se),u_tile_tr_up:new n.bI(se),u_tile_br_up:new n.bI(se),u_tile_bl_up:new n.bI(se),u_tile_up_scale:new n.bJ(se)}))(r)),E.includes("FOG")&&(this.fogUniforms=(se=>({u_fog_matrix:new n.bG(se),u_fog_range:new n.bH(se),u_fog_color:new n.c7(se),u_fog_horizon_blend:new n.bJ(se),u_fog_vertical_limit:new n.bH(se),u_fog_temporal_offset:new n.bJ(se),u_frustum_tl:new n.bI(se),u_frustum_tr:new n.bI(se),u_frustum_br:new n.bI(se),u_frustum_bl:new n.bI(se),u_globe_pos:new n.bI(se),u_globe_radius:new n.bJ(se),u_globe_transition:new n.bJ(se),u_is_globe:new n.bK(se),u_viewport:new n.bH(se)}))(r)),E.includes("RENDER_CUTOFF")&&(this.cutoffUniforms=(se=>({u_cutoff_params:new n.c7(se)}))(r)),E.includes("LIGHTING_3D_MODE")&&(this.lightsUniforms=(se=>({u_lighting_ambient_color:new n.bI(se),u_lighting_directional_dir:new n.bI(se),u_lighting_directional_color:new n.bI(se),u_ground_radiance:new n.bI(se)}))(r)),E.includes("RENDER_SHADOWS")&&(this.shadowUniforms=(se=>({u_light_matrix_0:new n.bG(se),u_light_matrix_1:new n.bG(se),u_fade_range:new n.bH(se),u_shadow_normal_offset:new n.bI(se),u_shadow_intensity:new n.bJ(se),u_shadow_texel_size:new n.bJ(se),u_shadow_map_resolution:new n.bJ(se),u_shadow_direction:new n.bI(se),u_shadow_bias:new n.bI(se),u_shadowmap_0:new n.bK(se),u_shadowmap_1:new n.bK(se)}))(r))}}setTerrainUniformValues(r,d){if(!this.terrainUniforms)return;const m=this.terrainUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const b in d)m[b]&&m[b].set(this.program,b,d[b])}}setGlobeUniformValues(r,d){if(!this.globeUniforms)return;const m=this.globeUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const b in d)m[b]&&m[b].set(this.program,b,d[b])}}setFogUniformValues(r,d){if(!this.fogUniforms)return;const m=this.fogUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const b in d)m[b].set(this.program,b,d[b])}}setCutoffUniformValues(r,d){if(!this.cutoffUniforms)return;const m=this.cutoffUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const b in d)m[b].set(this.program,b,d[b])}}setLightsUniformValues(r,d){if(!this.lightsUniforms)return;const m=this.lightsUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const b in d)m[b].set(this.program,b,d[b])}}setShadowUniformValues(r,d){if(this.failedToCreate||!this.shadowUniforms)return;const m=this.shadowUniforms;r.program.set(this.program);for(const b in d)m[b].set(this.program,b,d[b])}_drawDebugWireframe(r,d,m,b,w,E,A,j,$,z){const H=r.options.wireframe;if(H.terrain===!1&&H.layers2D===!1&&H.layers3D===!1)return;const W=r.context;if(!(!(!H.terrain||this.name!=="terrainRaster"&&this.name!=="globeRaster")||!(!H.layers2D||r._terrain&&r._terrain.renderingToTexture||!tl.includes(this.name))||!(!H.layers3D||!O_.includes(this.name))))return;const ee=W.gl,oe=r.wireframeDebugCache.getLinesFromTrianglesBuffer(r.frameCounter,w,W);if(!oe)return;const ne=[...this.fixedDefines];ne.push("DEBUG_WIREFRAME");const se=r.getOrCreateProgram(this.name,{config:this.configuration,defines:ne});W.program.set(se.program);const ae=(Ce,Pe,Me)=>{if(Pe[Ce]&&Me[Ce])for(const Ie in Pe[Ce])Me[Ce][Ie]&&Me[Ce][Ie].set(Me.program,Ie,Pe[Ce][Ie].current)};$&&$.setUniforms(se.program,W,se.binderUniforms,A,{zoom:j}),ae("fixedUniforms",this,se),ae("terrainUniforms",this,se),ae("globeUniforms",this,se),ae("fogUniforms",this,se),ae("lightsUniforms",this,se),ae("shadowUniforms",this,se),oe.bind(),W.setColorMode(new rn([ee.ONE,ee.ONE_MINUS_SRC_ALPHA,ee.ZERO,ee.ONE],n.bA.transparent,[!0,!0,!0,!1])),W.setDepthMode(new Pi(d.func===ee.LESS?ee.LEQUAL:d.func,Pi.ReadOnly,d.range)),W.setStencilMode(qi.disabled);const me=3*E.primitiveLength*2,Fe=3*E.primitiveOffset*2*2;z&&z>1?ee.drawElementsInstanced(ee.LINES,me,ee.UNSIGNED_SHORT,Fe,z):ee.drawElements(ee.LINES,me,ee.UNSIGNED_SHORT,Fe),w.bind(),W.program.set(this.program),W.setDepthMode(d),W.setStencilMode(m),W.setColorMode(b)}checkUniforms(r,d,m){if(this.fixedDefines.includes(d)){for(const b of Object.keys(m))if(!m[b].initialized)throw new Error(`Program '${this.name}', from draw '${r}': uniform ${b} not set but required by ${d} being defined`)}}draw(r,d,m,b,w,E,A,j,$,z,H,W,ee,oe,ne,se){const ae=r.context,me=ae.gl;if(this.failedToCreate)return;ae.program.set(this.program),ae.setDepthMode(m),ae.setStencilMode(b),ae.setColorMode(w),ae.setCullFace(E);for(const Pe of Object.keys(this.fixedUniforms))this.fixedUniforms[Pe].set(this.program,Pe,A[Pe]);oe&&oe.setUniforms(this.program,ae,this.binderUniforms,W,{zoom:ee});const Fe={[me.POINTS]:1,[me.LINES]:2,[me.TRIANGLES]:3,[me.LINE_STRIP]:1}[d];this.checkUniforms(j,"RENDER_SHADOWS",this.shadowUniforms);const Ce=se&&se>0?1:void 0;for(const Pe of H.get()){const Me=Pe.vaos||(Pe.vaos={});(Me[j]||(Me[j]=new Jl)).bind(ae,this,$,oe?oe.getPaintVertexBuffers():[],z,Pe.vertexOffset,ne||[],Ce),se&&se>1?me.drawElementsInstanced(d,Pe.primitiveLength*Fe,me.UNSIGNED_SHORT,Pe.primitiveOffset*Fe*2,se):z?me.drawElements(d,Pe.primitiveLength*Fe,me.UNSIGNED_SHORT,Pe.primitiveOffset*Fe*2):me.drawArrays(d,Pe.vertexOffset,Pe.vertexLength),d===me.TRIANGLES&&z&&this._drawDebugWireframe(r,m,b,w,z,Pe,W,ee,oe,se)}}}function gf(p,r){const d=Math.pow(2,r.tileID.overscaledZ),m=r.tileSize*Math.pow(2,p.transform.tileZoom)/d,b=m*(r.tileID.canonical.x+r.tileID.wrap*d),w=m*r.tileID.canonical.y;return{u_image:0,u_texsize:r.imageAtlasTexture?r.imageAtlasTexture.size:[0,0],u_tile_units_to_pixels:1/n.ak(r,1,p.transform.tileZoom),u_pixel_coord_upper:[b>>16,w>>16],u_pixel_coord_lower:[65535&b,65535&w]}}const il={terrain:0,flat:1},L_=n.a6.mat4.create(),V0=(p,r,d,m,b,w,E,A,j,$,z,H,W,ee,oe,ne,se,ae)=>{const me=r.style.light,Fe=me.properties.get("position"),Ce=[Fe.x,Fe.y,Fe.z],Pe=n.a6.mat3.create();me.properties.get("anchor")==="viewport"&&(n.a6.mat3.fromRotation(Pe,-r.transform.angle),n.a6.vec3.transformMat3(Ce,Ce,Pe));const Me=me.properties.get("color"),Ie=r.transform,Le={u_matrix:p,u_lightpos:Ce,u_lightintensity:me.properties.get("intensity"),u_lightcolor:[Me.r,Me.g,Me.b],u_vertical_gradient:+d,u_opacity:m,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:L_,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_height_type:il[$],u_base_type:il[z],u_ao:b,u_edge_radius:w,u_width_scale:E,u_flood_light_color:oe,u_vertical_scale:ne,u_flood_light_intensity:se,u_ground_shadow_factor:ae};return Ie.projection.name==="globe"&&(Le.u_tile_id=[A.canonical.x,A.canonical.y,1<<A.canonical.z],Le.u_zoom_transition=H,Le.u_inv_rot_matrix=ee,Le.u_merc_center=W,Le.u_up_dir=Ie.projection.upVector(new n.bQ(0,0,0),W[0]*n.ab,W[1]*n.ab),Le.u_height_lift=j),Le},N0=(p,r,d,m,b,w)=>({u_matrix:p,u_edge_radius:r,u_width_scale:d,u_vertical_scale:m,u_height_type:il[b],u_base_type:il[w]}),$0=(p,r,d,m,b,w,E,A,j,$,z,H,W,ee,oe,ne,se)=>{const ae=V0(p,r,d,m,b,w,E,A,$,z,H,W,ee,oe,ne,se,1,[0,0,0]),me={u_height_factor:-Math.pow(2,A.overscaledZ)/j.tileSize/8};return n.l(ae,gf(r,j),me)},D_=(p,r)=>({u_matrix:p,u_emissive_strength:r}),U0=(p,r,d,m)=>n.l(D_(p,r),gf(d,m)),Bu=(p,r,d)=>({u_matrix:p,u_world:d,u_emissive_strength:r}),pv=(p,r,d,m,b)=>n.l(U0(p,r,d,m),{u_world:b}),mv=(p,r,d,m)=>{const b=n.ab/d.tileSize;return{u_matrix:p,u_camera_to_center_distance:r.getCameraToCenterDistance(m),u_extrude_scale:[r.pixelsToGLUnits[0]/b,r.pixelsToGLUnits[1]/b]}},G0=(p,r,d=1)=>({u_matrix:p,u_color:r.toRenderColor(null),u_overlay:0,u_overlay_scale:d}),gv=n.a6.mat4.create(),H0=(p,r,d,m,b,w,E)=>{const A=p.transform,j=A.projection.name==="globe",$=j?n.cI(A.zoom,r.canonical)*A._pixelsPerMercatorPixel:n.ak(d,1,w),z={u_matrix:r.projMatrix,u_extrude_scale:$,u_intensity:E,u_inv_rot_matrix:gv,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(j){z.u_inv_rot_matrix=m,z.u_merc_center=b,z.u_tile_id=[r.canonical.x,r.canonical.y,1<<r.canonical.z],z.u_zoom_transition=n.a9(A.zoom);const H=b[0]*n.ab,W=b[1]*n.ab;z.u_up_dir=A.projection.upVector(new n.bQ(0,0,0),H,W)}return z};function _f(p,[r,d,m,b],[w,E]){if(w===E)return[0,0,0,0];const A=255*(p-1)/(p*(E-w));return[r*A,d*A,m*A,b*A]}function od(p,r,[d,m]){return d===m?0:.5/p+(r-d)*(p-1)/(p*(m-d))}const yf=(p,r,d,m,b,w,E,A,j,$,z,H,W,ee,oe,ne,se,ae,me,Fe,Ce)=>({u_matrix:p,u_normalize_matrix:r,u_globe_matrix:d,u_merc_matrix:m,u_grid_matrix:b,u_tl_parent:w,u_scale_parent:$,u_fade_t:z.mix,u_opacity:z.opacity*H.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:H.paint.get("raster-brightness-min"),u_brightness_high:H.paint.get("raster-brightness-max"),u_saturation_factor:n.cJ(H.paint.get("raster-saturation")),u_contrast_factor:n.cK(H.paint.get("raster-contrast")),u_spin_weights:ju(H.paint.get("raster-hue-rotate")),u_perspective_transform:W,u_raster_elevation:ee,u_zoom_transition:E,u_merc_center:A,u_cutoff_params:j,u_colorization_mix:_f(n.cL,ne,ae),u_colorization_offset:od(n.cL,se,ae),u_color_ramp:oe,u_texture_offset:[Fe/(me+2*Fe),me/(me+2*Fe)],u_texture_res:[me+2*Fe,me+2*Fe],u_emissive_strength:Ce});function ju(p){p*=Math.PI/180;const r=Math.sin(p),d=Math.cos(p);return[(2*d+1)/3,(-Math.sqrt(3)*r-d+1)/3,(Math.sqrt(3)*r-d+1)/3]}const nl=.05,bf=(p,r,d,m,b,w,E,A,j,$,z,H)=>({u_matrix:p,u_normalize_matrix:r,u_globe_matrix:d,u_merc_matrix:m,u_grid_matrix:b,u_tl_parent:w,u_scale_parent:$,u_fade_t:z.mix,u_opacity:z.opacity,u_image0:0,u_image1:1,u_raster_elevation:H,u_zoom_transition:E,u_merc_center:A,u_cutoff_params:j}),vf=(p,r,d,m,b,w,E,A,j,$)=>({u_particle_texture:p,u_particle_texture_side_len:r,u_tile_offset:d,u_velocity:m,u_color_ramp:w,u_velocity_res:b,u_max_speed:E,u_uv_offset:A,u_data_scale:[255*j[0],255*j[1]],u_data_offset:$,u_particle_pos_scale:1.1,u_particle_pos_offset:[nl,nl]}),q0=(p,r,d,m,b,w,E,A,j,$)=>({u_particle_texture:p,u_particle_texture_side_len:r,u_velocity:d,u_velocity_res:m,u_max_speed:b,u_speed_factor:w,u_reset_rate:E,u_rand_seed:Math.random(),u_uv_offset:A,u_data_scale:[255*j[0],255*j[1]],u_data_offset:$,u_particle_pos_scale:1.1,u_particle_pos_offset:[nl,nl]}),W0=n.a6.mat4.create(),B_=(p,r,d,m,b,w,E,A,j,$,z,H,W,ee,oe,ne,se,ae,me,Fe,Ce,Pe)=>{const Me=b.transform,Ie={u_is_size_zoom_constant:+(p==="constant"||p==="source"),u_is_size_feature_constant:+(p==="constant"||p==="camera"),u_size_t:r?r.uSizeT:0,u_size:r?r.uSize:0,u_camera_to_center_distance:Me.getCameraToCenterDistance(me),u_rotate_symbol:+d,u_aspect_ratio:Me.width/Me.height,u_fade_change:b.options.fadeDuration?b.symbolFadeChange:1,u_matrix:w,u_label_plane_matrix:E,u_coord_matrix:A,u_is_text:+$,u_elevation_from_sea:j?1:0,u_pitch_with_map:+m,u_texsize:z,u_texsize_icon:H,u_texture:0,u_texture_icon:1,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:W0,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:W0,u_up_vector:[0,-1,0],u_color_adj_mat:Fe,u_icon_transition:Ce||0,u_gamma_scale:m?b.transform.getCameraToCenterDistance(me)*Math.cos(b.terrain?0:b.transform._pitch):1,u_device_pixel_ratio:n.q.devicePixelRatio,u_is_halo:+W,u_scale_factor:Pe||1};return me.name==="globe"&&(Ie.u_tile_id=[ee.canonical.x,ee.canonical.y,1<<ee.canonical.z],Ie.u_zoom_transition=oe,Ie.u_inv_rot_matrix=se,Ie.u_merc_center=ne,Ie.u_camera_forward=Me._camera.forward(),Ie.u_ecef_origin=n.cM(Me.globeMatrix,ee.toUnwrapped()),Ie.u_tile_matrix=Float32Array.from(Me.globeMatrix),Ie.u_up_vector=ae),Ie},ol=(p,r,d,m)=>({u_matrix:p,u_emissive_strength:r,u_opacity:d,u_color:m}),zu=(p,r,d,m,b,w,E,A,j)=>n.l(function($,z,H,W,ee,oe){const{width:ne,height:se}=W.imageManager.getPixelSize(z),ae=Math.pow(2,oe.tileID.overscaledZ),me=oe.tileSize*Math.pow(2,W.transform.tileZoom)/ae,Fe=me*(oe.tileID.canonical.x+oe.tileID.wrap*ae),Ce=me*oe.tileID.canonical.y;return{u_image:0,u_pattern_tl:H.tl,u_pattern_br:H.br,u_texsize:[ne,se],u_pattern_size:H.displaySize,u_pattern_units_to_pixels:ee?[W.transform.width,-1*W.transform.height]:[1/n.ak(oe,1,W.transform.tileZoom),1/n.ak(oe,1,W.transform.tileZoom)],u_pixel_coord_upper:[Fe>>16,Ce>>16],u_pixel_coord_lower:[65535&Fe,65535&Ce]}}(0,w,E,m,A,j),{u_matrix:p,u_emissive_strength:r,u_opacity:d}),hi=new Float32Array(n.a6.mat4.identity([])),xf=(p,r,d,m,b,w,E,A,j,$,z,H,W,ee=[0,0,0],oe)=>{const ne=b.style.light,se=ne.properties.get("position"),ae=[-se.x,-se.y,se.z],me=n.a6.mat3.create();ne.properties.get("anchor")==="viewport"&&(n.a6.mat3.fromRotation(me,-b.transform.angle),n.a6.vec3.transformMat3(ae,ae,me));const Fe=z.alphaMode==="MASK",Ce=ne.properties.get("color").toRenderColor(null),Pe=W.paint.get("model-ambient-occlusion-intensity"),Me=W.paint.get("model-color").constantOr(n.bA.white).toRenderColor(null),Ie=W.paint.get("model-color-mix-intensity").constantOr(0);return{u_matrix:p,u_lighting_matrix:r,u_normal_matrix:d,u_node_matrix:m||hi,u_lightpos:ae,u_lightintensity:ne.properties.get("intensity"),u_lightcolor:[Ce.r,Ce.g,Ce.b],u_camera_pos:ee,u_opacity:w,u_baseTextureIsAlpha:0,u_alphaMask:+Fe,u_alphaCutoff:z.alphaCutoff,u_baseColorFactor:[E.r,E.g,E.b,E.a],u_emissiveFactor:[A[0],A[1],A[2],1],u_metallicFactor:j,u_roughnessFactor:$,u_baseColorTexture:Fr.BaseColor,u_metallicRoughnessTexture:Fr.MetallicRoughness,u_normalTexture:Fr.Normal,u_occlusionTexture:Fr.Occlusion,u_emissionTexture:Fr.Emission,u_lutTexture:Fr.LUT,u_color_mix:[Me.r,Me.g,Me.b,Ie],u_aoIntensity:Pe,u_emissive_strength:H,u_occlusionTextureTransform:oe||[0,0,0,0]}},K0=(p,r=hi,d=hi)=>({u_matrix:p,u_instance:r,u_node_matrix:d}),rl={fillExtrusion:p=>({u_matrix:new n.bG(p),u_lightpos:new n.bI(p),u_lightintensity:new n.bJ(p),u_lightcolor:new n.bI(p),u_vertical_gradient:new n.bJ(p),u_opacity:new n.bJ(p),u_edge_radius:new n.bJ(p),u_width_scale:new n.bJ(p),u_ao:new n.bH(p),u_height_type:new n.bK(p),u_base_type:new n.bK(p),u_tile_id:new n.bI(p),u_zoom_transition:new n.bJ(p),u_inv_rot_matrix:new n.bG(p),u_merc_center:new n.bH(p),u_up_dir:new n.bI(p),u_height_lift:new n.bJ(p),u_flood_light_color:new n.bI(p),u_vertical_scale:new n.bJ(p),u_flood_light_intensity:new n.bJ(p),u_ground_shadow_factor:new n.bI(p)}),fillExtrusionDepth:p=>({u_matrix:new n.bG(p),u_edge_radius:new n.bJ(p),u_width_scale:new n.bJ(p),u_vertical_scale:new n.bJ(p),u_height_type:new n.bK(p),u_base_type:new n.bK(p)}),fillExtrusionPattern:p=>({u_matrix:new n.bG(p),u_lightpos:new n.bI(p),u_lightintensity:new n.bJ(p),u_lightcolor:new n.bI(p),u_vertical_gradient:new n.bJ(p),u_height_factor:new n.bJ(p),u_edge_radius:new n.bJ(p),u_width_scale:new n.bJ(p),u_ao:new n.bH(p),u_height_type:new n.bK(p),u_base_type:new n.bK(p),u_tile_id:new n.bI(p),u_zoom_transition:new n.bJ(p),u_inv_rot_matrix:new n.bG(p),u_merc_center:new n.bH(p),u_up_dir:new n.bI(p),u_height_lift:new n.bJ(p),u_image:new n.bK(p),u_texsize:new n.bH(p),u_pixel_coord_upper:new n.bH(p),u_pixel_coord_lower:new n.bH(p),u_tile_units_to_pixels:new n.bJ(p),u_opacity:new n.bJ(p)}),fillExtrusionGroundEffect:p=>({u_matrix:new n.bG(p),u_opacity:new n.bJ(p),u_ao_pass:new n.bJ(p),u_meter_to_tile:new n.bJ(p),u_ao:new n.bH(p),u_flood_light_intensity:new n.bJ(p),u_flood_light_color:new n.bI(p),u_attenuation:new n.bJ(p),u_edge_radius:new n.bJ(p),u_fb:new n.bK(p),u_fb_size:new n.bJ(p),u_dynamic_offset:new n.bJ(p)}),fill:p=>({u_matrix:new n.bG(p),u_emissive_strength:new n.bJ(p)}),fillPattern:p=>({u_matrix:new n.bG(p),u_emissive_strength:new n.bJ(p),u_image:new n.bK(p),u_texsize:new n.bH(p),u_pixel_coord_upper:new n.bH(p),u_pixel_coord_lower:new n.bH(p),u_tile_units_to_pixels:new n.bJ(p)}),fillOutline:p=>({u_matrix:new n.bG(p),u_emissive_strength:new n.bJ(p),u_world:new n.bH(p)}),fillOutlinePattern:p=>({u_matrix:new n.bG(p),u_emissive_strength:new n.bJ(p),u_world:new n.bH(p),u_image:new n.bK(p),u_texsize:new n.bH(p),u_pixel_coord_upper:new n.bH(p),u_pixel_coord_lower:new n.bH(p),u_tile_units_to_pixels:new n.bJ(p)}),circle:n.cN,collisionBox:p=>({u_matrix:new n.bG(p),u_camera_to_center_distance:new n.bJ(p),u_extrude_scale:new n.bH(p)}),collisionCircle:p=>({u_matrix:new n.bG(p),u_inv_matrix:new n.bG(p),u_camera_to_center_distance:new n.bJ(p),u_viewport_size:new n.bH(p)}),debug:p=>({u_color:new n.cu(p),u_matrix:new n.bG(p),u_overlay:new n.bK(p),u_overlay_scale:new n.bJ(p)}),clippingMask:p=>({u_matrix:new n.bG(p)}),heatmap:p=>({u_extrude_scale:new n.bJ(p),u_intensity:new n.bJ(p),u_matrix:new n.bG(p),u_inv_rot_matrix:new n.bG(p),u_merc_center:new n.bH(p),u_tile_id:new n.bI(p),u_zoom_transition:new n.bJ(p),u_up_dir:new n.bI(p)}),heatmapTexture:p=>({u_image:new n.bK(p),u_color_ramp:new n.bK(p),u_opacity:new n.bJ(p)}),hillshade:p=>({u_matrix:new n.bG(p),u_image:new n.bK(p),u_latrange:new n.bH(p),u_light:new n.bH(p),u_shadow:new n.cu(p),u_highlight:new n.cu(p),u_emissive_strength:new n.bJ(p),u_accent:new n.cu(p)}),hillshadePrepare:p=>({u_matrix:new n.bG(p),u_image:new n.bK(p),u_dimension:new n.bH(p),u_zoom:new n.bJ(p)}),line:n.cO,linePattern:n.cP,raster:p=>({u_matrix:new n.bG(p),u_normalize_matrix:new n.bG(p),u_globe_matrix:new n.bG(p),u_merc_matrix:new n.bG(p),u_grid_matrix:new n.cv(p),u_tl_parent:new n.bH(p),u_scale_parent:new n.bJ(p),u_fade_t:new n.bJ(p),u_opacity:new n.bJ(p),u_image0:new n.bK(p),u_image1:new n.bK(p),u_brightness_low:new n.bJ(p),u_brightness_high:new n.bJ(p),u_saturation_factor:new n.bJ(p),u_contrast_factor:new n.bJ(p),u_spin_weights:new n.bI(p),u_perspective_transform:new n.bH(p),u_raster_elevation:new n.bJ(p),u_zoom_transition:new n.bJ(p),u_merc_center:new n.bH(p),u_cutoff_params:new n.c7(p),u_colorization_mix:new n.c7(p),u_colorization_offset:new n.bJ(p),u_color_ramp:new n.bK(p),u_texture_offset:new n.bH(p),u_texture_res:new n.bH(p),u_emissive_strength:new n.bJ(p)}),rasterParticle:p=>({u_matrix:new n.bG(p),u_normalize_matrix:new n.bG(p),u_globe_matrix:new n.bG(p),u_merc_matrix:new n.bG(p),u_grid_matrix:new n.cv(p),u_tl_parent:new n.bH(p),u_scale_parent:new n.bJ(p),u_fade_t:new n.bJ(p),u_opacity:new n.bJ(p),u_image0:new n.bK(p),u_image1:new n.bK(p),u_raster_elevation:new n.bJ(p),u_zoom_transition:new n.bJ(p),u_merc_center:new n.bH(p),u_cutoff_params:new n.c7(p)}),rasterParticleTexture:p=>({u_texture:new n.bK(p),u_opacity:new n.bJ(p)}),rasterParticleDraw:p=>({u_particle_texture:new n.bK(p),u_particle_texture_side_len:new n.bJ(p),u_tile_offset:new n.bH(p),u_velocity:new n.bK(p),u_color_ramp:new n.bK(p),u_velocity_res:new n.bH(p),u_max_speed:new n.bJ(p),u_uv_offset:new n.bH(p),u_data_scale:new n.bH(p),u_data_offset:new n.bJ(p),u_particle_pos_scale:new n.bJ(p),u_particle_pos_offset:new n.bH(p)}),rasterParticleUpdate:p=>({u_particle_texture:new n.bK(p),u_particle_texture_side_len:new n.bJ(p),u_velocity:new n.bK(p),u_velocity_res:new n.bH(p),u_max_speed:new n.bJ(p),u_speed_factor:new n.bJ(p),u_reset_rate:new n.bJ(p),u_rand_seed:new n.bJ(p),u_uv_offset:new n.bH(p),u_data_scale:new n.bH(p),u_data_offset:new n.bJ(p),u_particle_pos_scale:new n.bJ(p),u_particle_pos_offset:new n.bH(p)}),symbol:p=>({u_is_size_zoom_constant:new n.bK(p),u_is_size_feature_constant:new n.bK(p),u_size_t:new n.bJ(p),u_size:new n.bJ(p),u_camera_to_center_distance:new n.bJ(p),u_rotate_symbol:new n.bK(p),u_aspect_ratio:new n.bJ(p),u_fade_change:new n.bJ(p),u_matrix:new n.bG(p),u_label_plane_matrix:new n.bG(p),u_coord_matrix:new n.bG(p),u_is_text:new n.bK(p),u_elevation_from_sea:new n.bK(p),u_pitch_with_map:new n.bK(p),u_texsize:new n.bH(p),u_texsize_icon:new n.bH(p),u_texture:new n.bK(p),u_texture_icon:new n.bK(p),u_gamma_scale:new n.bJ(p),u_device_pixel_ratio:new n.bJ(p),u_tile_id:new n.bI(p),u_zoom_transition:new n.bJ(p),u_inv_rot_matrix:new n.bG(p),u_merc_center:new n.bH(p),u_camera_forward:new n.bI(p),u_tile_matrix:new n.bG(p),u_up_vector:new n.bI(p),u_ecef_origin:new n.bI(p),u_is_halo:new n.bK(p),u_icon_transition:new n.bJ(p),u_color_adj_mat:new n.bG(p),u_scale_factor:new n.bJ(p)}),background:p=>({u_matrix:new n.bG(p),u_emissive_strength:new n.bJ(p),u_opacity:new n.bJ(p),u_color:new n.cu(p)}),backgroundPattern:p=>({u_matrix:new n.bG(p),u_emissive_strength:new n.bJ(p),u_opacity:new n.bJ(p),u_image:new n.bK(p),u_pattern_tl:new n.bH(p),u_pattern_br:new n.bH(p),u_texsize:new n.bH(p),u_pattern_size:new n.bH(p),u_pixel_coord_upper:new n.bH(p),u_pixel_coord_lower:new n.bH(p),u_pattern_units_to_pixels:new n.bH(p)}),terrainRaster:p=>({u_matrix:new n.bG(p),u_image0:new n.bK(p),u_skirt_height:new n.bJ(p),u_ground_shadow_factor:new n.bI(p)}),skybox:p=>({u_matrix:new n.bG(p),u_sun_direction:new n.bI(p),u_cubemap:new n.bK(p),u_opacity:new n.bJ(p),u_temporal_offset:new n.bJ(p)}),skyboxGradient:p=>({u_matrix:new n.bG(p),u_color_ramp:new n.bK(p),u_center_direction:new n.bI(p),u_radius:new n.bJ(p),u_opacity:new n.bJ(p),u_temporal_offset:new n.bJ(p)}),skyboxCapture:p=>({u_matrix_3f:new n.cv(p),u_sun_direction:new n.bI(p),u_sun_intensity:new n.bJ(p),u_color_tint_r:new n.c7(p),u_color_tint_m:new n.c7(p),u_luminance:new n.bJ(p)}),globeRaster:p=>({u_proj_matrix:new n.bG(p),u_globe_matrix:new n.bG(p),u_normalize_matrix:new n.bG(p),u_merc_matrix:new n.bG(p),u_zoom_transition:new n.bJ(p),u_merc_center:new n.bH(p),u_image0:new n.bK(p),u_grid_matrix:new n.cv(p),u_skirt_height:new n.bJ(p),u_far_z_cutoff:new n.bJ(p),u_frustum_tl:new n.bI(p),u_frustum_tr:new n.bI(p),u_frustum_br:new n.bI(p),u_frustum_bl:new n.bI(p),u_globe_pos:new n.bI(p),u_globe_radius:new n.bJ(p),u_viewport:new n.bH(p)}),globeAtmosphere:p=>({u_frustum_tl:new n.bI(p),u_frustum_tr:new n.bI(p),u_frustum_br:new n.bI(p),u_frustum_bl:new n.bI(p),u_horizon:new n.bJ(p),u_transition:new n.bJ(p),u_fadeout_range:new n.bJ(p),u_color:new n.c7(p),u_high_color:new n.c7(p),u_space_color:new n.c7(p),u_temporal_offset:new n.bJ(p),u_horizon_angle:new n.bJ(p)}),model:p=>({u_matrix:new n.bG(p),u_lighting_matrix:new n.bG(p),u_normal_matrix:new n.bG(p),u_node_matrix:new n.bG(p),u_lightpos:new n.bI(p),u_lightintensity:new n.bJ(p),u_lightcolor:new n.bI(p),u_camera_pos:new n.bI(p),u_opacity:new n.bJ(p),u_baseColorFactor:new n.c7(p),u_emissiveFactor:new n.c7(p),u_metallicFactor:new n.bJ(p),u_roughnessFactor:new n.bJ(p),u_baseTextureIsAlpha:new n.bK(p),u_alphaMask:new n.bK(p),u_alphaCutoff:new n.bJ(p),u_baseColorTexture:new n.bK(p),u_metallicRoughnessTexture:new n.bK(p),u_normalTexture:new n.bK(p),u_occlusionTexture:new n.bK(p),u_emissionTexture:new n.bK(p),u_lutTexture:new n.bK(p),u_color_mix:new n.c7(p),u_aoIntensity:new n.bJ(p),u_emissive_strength:new n.bJ(p),u_occlusionTextureTransform:new n.c7(p)}),modelDepth:p=>({u_matrix:new n.bG(p),u_instance:new n.bG(p),u_node_matrix:new n.bG(p)}),groundShadow:p=>({u_matrix:new n.bG(p),u_ground_shadow_factor:new n.bI(p)}),stars:p=>({u_matrix:new n.bG(p),u_up:new n.bI(p),u_right:new n.bI(p),u_intensity_multiplier:new n.bJ(p)}),snowParticle:p=>({u_modelview:new n.bG(p),u_projection:new n.bG(p),u_time:new n.bJ(p),u_cam_pos:new n.bI(p),u_velocityConeAperture:new n.bJ(p),u_velocity:new n.bJ(p),u_horizontalOscillationRadius:new n.bJ(p),u_horizontalOscillationRate:new n.bJ(p),u_boxSize:new n.bJ(p),u_billboardSize:new n.bJ(p),u_simpleShapeParameters:new n.bH(p),u_screenSize:new n.bH(p),u_thinningCenterPos:new n.bH(p),u_thinningShape:new n.bI(p),u_thinningAffectedRatio:new n.bJ(p),u_thinningParticleOffset:new n.bJ(p),u_particleColor:new n.c7(p),u_direction:new n.bI(p)}),rainParticle:p=>({u_modelview:new n.bG(p),u_projection:new n.bG(p),u_time:new n.bJ(p),u_cam_pos:new n.bI(p),u_texScreen:new n.bK(p),u_velocityConeAperture:new n.bJ(p),u_velocity:new n.bJ(p),u_boxSize:new n.bJ(p),u_rainDropletSize:new n.bH(p),u_distortionStrength:new n.bJ(p),u_rainDirection:new n.bI(p),u_color:new n.c7(p),u_screenSize:new n.bH(p),u_thinningCenterPos:new n.bH(p),u_thinningShape:new n.bI(p),u_thinningAffectedRatio:new n.bJ(p),u_thinningParticleOffset:new n.bJ(p),u_shapeDirectionalPower:new n.bJ(p),u_mode:new n.bJ(p)}),occlusion:p=>({u_matrix:new n.bG(p),u_anchorPos:new n.bI(p),u_screenSizePx:new n.bH(p),u_occluderSizePx:new n.bH(p),u_color:new n.c7(p)})};class ta{constructor(r,d,m,b){this.id=ta.uniqueIdxCounter,ta.uniqueIdxCounter++,this.context=r;const w=r.gl;this.buffer=w.createBuffer(),this.dynamicDraw=!!m,this.context.unbindVAO(),r.bindElementBuffer.set(this.buffer),w.bufferData(w.ELEMENT_ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?w.DYNAMIC_DRAW:w.STATIC_DRAW),this.dynamicDraw||b||d.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(r){this.id=ta.uniqueIdxCounter,ta.uniqueIdxCounter++;const d=this.context.gl;this.context.unbindVAO(),this.bind(),d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,0,r.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}ta.uniqueIdxCounter=0;const vi={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Z0{constructor(r,d,m,b,w,E){this.length=d.length,this.attributes=m,this.itemSize=d.bytesPerElement,this.dynamicDraw=b,this.instanceCount=E,this.context=r;const A=r.gl;this.buffer=A.createBuffer(),r.bindVertexBuffer.set(this.buffer),A.bufferData(A.ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?A.DYNAMIC_DRAW:A.STATIC_DRAW),this.dynamicDraw||w||d.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(r){const d=this.context.gl;this.bind(),d.bufferSubData(d.ARRAY_BUFFER,0,r.arrayBuffer)}enableAttributes(r,d){for(let m=0;m<this.attributes.length;m++){const b=d.attributes[this.attributes[m].name];b!==void 0&&r.enableVertexAttribArray(b)}}setVertexAttribPointers(r,d,m){for(let b=0;b<this.attributes.length;b++){const w=this.attributes[b],E=d.attributes[w.name];E!==void 0&&r.vertexAttribPointer(E,w.components,r[vi[w.type]],!1,this.itemSize,w.offset+this.itemSize*(m||0))}}setVertexAttribDivisor(r,d,m){for(let b=0;b<this.attributes.length;b++){const w=d.attributes[this.attributes[b].name];w!==void 0&&this.instanceCount&&this.instanceCount>0&&r.vertexAttribDivisor(w,m)}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class j_{constructor(r,d,m,b,w){this.context=r,this.width=d,this.height=m;const E=this.framebuffer=r.gl.createFramebuffer();b&&(this.colorAttachment=new pf(r,E)),w&&(this.depthAttachmentType=w,this.depthAttachment=w==="renderbuffer"?new L0(r,E):new R_(r,E))}destroy(){const r=this.context.gl;if(this.colorAttachment){const d=this.colorAttachment.get();d&&r.deleteTexture(d)}if(this.depthAttachment&&this.depthAttachmentType)if(this.depthAttachmentType==="renderbuffer"){const d=this.depthAttachment.get();d&&r.deleteRenderbuffer(d)}else{const d=this.depthAttachment.get();d&&r.deleteTexture(d)}r.deleteFramebuffer(this.framebuffer)}}class _v{constructor(r,d){this.gl=r,this.clearColor=new E0(this),this.clearDepth=new v_(this),this.clearStencil=new S0(this),this.colorMask=new df(this),this.depthMask=new Mu(this),this.stencilMask=new x_(this),this.stencilFunc=new w_(this),this.stencilOp=new F_(this),this.stencilTest=new ed(this),this.depthRange=new C_(this),this.depthTest=new lv(this),this.depthFunc=new dv(this),this.blend=new uv(this),this.blendFunc=new T0(this),this.blendColor=new R0(this),this.blendEquation=new P0(this),this.cullFace=new I0(this),this.cullFaceSide=new E_(this),this.frontFace=new S_(this),this.program=new hv(this),this.activeTexture=new Au(this),this.viewport=new Ou(this),this.bindFramebuffer=new T_(this),this.bindRenderbuffer=new ya(this),this.bindTexture=new k0(this),this.bindVertexBuffer=new uf(this),this.bindElementBuffer=new hf(this),this.bindVertexArrayOES=new M0(this),this.pixelStoreUnpack=new A0(this),this.pixelStoreUnpackPremultiplyAlpha=new ff(this),this.pixelStoreUnpackFlipY=new O0(this),this.options=d?{...d}:{},this.options.extTextureFilterAnisotropicForceOff||(this.extTextureFilterAnisotropic=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=r.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT))),this.extDebugRendererInfo=r.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=r.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=r.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.options.extTextureFloatLinearForceOff||(this.extTextureFloatLinear=r.getExtension("OES_texture_float_linear")),this.extRenderToTextureHalfFloat=r.getExtension("EXT_color_buffer_half_float"),this.extTimerQuery=r.getExtension("EXT_disjoint_timer_query_webgl2"),this.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),this.maxPointSize=r.getParameter(r.ALIASED_POINT_SIZE_RANGE)[1]}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArrayOES.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(r,d,m){return new ta(this,r,d,m)}createVertexBuffer(r,d,m,b,w){return new Z0(this,r,d,m,b,w)}createRenderbuffer(r,d,m){const b=this.gl,w=b.createRenderbuffer();return this.bindRenderbuffer.set(w),b.renderbufferStorage(b.RENDERBUFFER,r,d,m),this.bindRenderbuffer.set(null),w}createFramebuffer(r,d,m,b){return new j_(this,r,d,m,b)}clear({color:r,depth:d,stencil:m,colorMask:b}){const w=this.gl;let E=0;r&&(E|=w.COLOR_BUFFER_BIT,this.clearColor.set(r),this.colorMask.set(b||[!0,!0,!0,!0])),d!==void 0&&(E|=w.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(d),this.depthMask.set(!0)),m!==void 0&&(E|=w.STENCIL_BUFFER_BIT,this.clearStencil.set(m),this.stencilMask.set(255)),w.clear(E)}setCullFace(r){r.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(r.mode),this.frontFace.set(r.frontFace))}setDepthMode(r){r.func!==this.gl.ALWAYS||r.mask?(this.depthTest.set(!0),this.depthFunc.set(r.func),this.depthMask.set(r.mask),this.depthRange.set(r.range)):this.depthTest.set(!1)}setStencilMode(r){r.test.func!==this.gl.ALWAYS||r.mask?(this.stencilTest.set(!0),this.stencilMask.set(r.mask),this.stencilOp.set([r.fail,r.depthFail,r.pass]),this.stencilFunc.set({func:r.test.func,ref:r.ref,mask:r.test.mask})):this.stencilTest.set(!1)}setColorMode(r){n.bi(r.blendFunction,rn.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(r.blendFunction),this.blendColor.set(r.blendColor),r.blendEquation?this.blendEquation.set(r.blendEquation):this.blendEquation.setDefault()),this.colorMask.set(r.mask)}unbindVAO(){this.bindVertexArrayOES.set(null)}}let rd;function Q0(p,r,d,m,b,w,E){const A=p.context,j=A.gl,$=p.transform,z=p.getOrCreateProgram("collisionBox"),H=[];let W=0,ee=0;for(let Ce=0;Ce<m.length;Ce++){const Pe=m[Ce],Me=r.getTile(Pe),Ie=Me.getBucket(d);if(!Ie)continue;const Le=s_(Pe,Ie,$);let $e=Le;b[0]===0&&b[1]===0||($e=p.translatePosMatrix(Le,Me,b,w));const Qe=E?Ie.textCollisionBox:Ie.iconCollisionBox,He=Ie.collisionCircleArray;if(He.length>0){const Ue=n.a6.mat4.create(),gt=$e;n.a6.mat4.mul(Ue,Ie.placementInvProjMatrix,$.glCoordMatrix),n.a6.mat4.mul(Ue,Ue,Ie.placementViewportMatrix),H.push({circleArray:He,circleOffset:ee,transform:gt,invTransform:Ue,projection:Ie.getProjection()}),W+=He.length/4,ee=W}Qe&&(p.terrain&&p.terrain.setupElevationDraw(Me,z),z.draw(p,j.LINES,Pi.disabled,qi.disabled,p.colorModeForRenderPass(),Ni.disabled,mv($e,$,Me,Ie.getProjection()),d.id,Qe.layoutVertexBuffer,Qe.indexBuffer,Qe.segments,null,$.zoom,null,[Qe.collisionVertexBuffer,Qe.collisionVertexBufferExt]))}if(!E||!H.length)return;const oe=p.getOrCreateProgram("collisionCircle"),ne=new n.cQ;ne.resize(4*W),ne._trim();let se=0;for(const Ce of H)for(let Pe=0;Pe<Ce.circleArray.length/4;Pe++){const Me=4*Pe,Ie=Ce.circleArray[Me+0],Le=Ce.circleArray[Me+1],$e=Ce.circleArray[Me+2],Qe=Ce.circleArray[Me+3];ne.emplace(se++,Ie,Le,$e,Qe,0),ne.emplace(se++,Ie,Le,$e,Qe,1),ne.emplace(se++,Ie,Le,$e,Qe,2),ne.emplace(se++,Ie,Le,$e,Qe,3)}(!rd||rd.length<2*W)&&(rd=function(Ce){const Pe=2*Ce,Me=new n.aP;Me.resize(Pe),Me._trim();for(let Ie=0;Ie<Pe;Ie++){const Le=6*Ie;Me.uint16[Le+0]=4*Ie+0,Me.uint16[Le+1]=4*Ie+1,Me.uint16[Le+2]=4*Ie+2,Me.uint16[Le+3]=4*Ie+2,Me.uint16[Le+4]=4*Ie+3,Me.uint16[Le+5]=4*Ie+0}return Me}(W));const ae=A.createIndexBuffer(rd,!0),me=A.createVertexBuffer(ne,n.cR.members,!0);for(const Ce of H){const Pe={u_matrix:Ce.transform,u_inv_matrix:Ce.invTransform,u_camera_to_center_distance:(Fe=$).getCameraToCenterDistance(Ce.projection),u_viewport_size:[Fe.width,Fe.height]};oe.draw(p,j.TRIANGLES,Pi.disabled,qi.disabled,p.colorModeForRenderPass(),Ni.disabled,Pe,d.id,me,ae,n.b2.simpleSegment(0,2*Ce.circleOffset,Ce.circleArray.length,Ce.circleArray.length/2),null,$.zoom)}var Fe;me.destroy(),ae.destroy()}const Vu=n.a6.mat4.create();function z_(p){const r=p._camera.getWorldToCamera(p.worldSize,1),d=n.a6.mat4.multiply([],r,p.globeMatrix);n.a6.mat4.invert(d,d);const m=[0,0,0],b=[0,1,0,0];return n.a6.vec4.transformMat4(b,b,d),m[0]=b[0],m[1]=b[1],m[2]=b[2],n.a6.vec3.normalize(m,m),m}function yv({width:p,height:r,anchor:d,textOffset:m,textScale:b},w){const{horizontalAlign:E,verticalAlign:A}=n.by(d),j=-(E-.5)*p,$=-(A-.5)*r,z=n.bx(d,m);return new n.P((j/b+z[0])*w,($/b+z[1])*w)}function X0(p,r,d,m,b,w,E,A,j,$,z){const H=p.text.placedSymbolArray,W=p.text.dynamicLayoutVertexArray,ee=p.icon.dynamicLayoutVertexArray,oe={},ne=p.getProjection(),se=wc(A,ne,w),ae=w.elevation,me=ne.upVectorScale(A.canonical,w.center.lat,w.worldSize).metersToTile;W.clear();for(let Fe=0;Fe<H.length;Fe++){const Ce=H.get(Fe),{tileAnchorX:Pe,tileAnchorY:Me,numGlyphs:Ie}=Ce,Le=Ce.hidden||!Ce.crossTileID||p.allowVerticalPlacement&&!Ce.placedOrientation?null:m[Ce.crossTileID];if(Le){let $e=0,Qe=0,He=0;if(ae){const _t=ae?ae.getAtTileOffset(A,Pe,Me):0,[Lt,jt,At]=ne.upVector(A.canonical,Pe,Me);$e=_t*Lt*me,Qe=_t*jt*me,He=_t*At*me}let[Ue,gt,Ft,Dt]=Dr(Ce.projectedAnchorX+$e,Ce.projectedAnchorY+Qe,Ce.projectedAnchorZ+He,d?se:E);const Gt=gn(w.getCameraToCenterDistance(ne),Dt);let Qt=b.evaluateSizeForFeature(p.textSizeData,$,Ce)*Gt/n.br;d&&(Qt*=p.tilePixelRatio/j);const st=yv(Le,Qt);d?({x:Ue,y:gt,z:Ft}=ne.projectTilePoint(Pe+st.x,Me+st.y,A.canonical),[Ue,gt,Ft]=Dr(Ue+$e,gt+Qe,Ft+He,E)):(r&&st._rotate(-w.angle),Ue+=st.x,gt+=st.y,Ft=0);const Ot=p.allowVerticalPlacement&&Ce.placedOrientation===n.bl.vertical?Math.PI/2:0;for(let _t=0;_t<Ie;_t++)n.bo(W,Ue,gt,Ft,Ot);z&&Ce.associatedIconIndex>=0&&(oe[Ce.associatedIconIndex]={x:Ue,y:gt,z:Ft,angle:Ot})}else gs(Ie,W)}if(z){ee.clear();const Fe=p.icon.placedSymbolArray;for(let Ce=0;Ce<Fe.length;Ce++){const Pe=Fe.get(Ce),{numGlyphs:Me}=Pe,Ie=oe[Ce];if(Pe.hidden||!Ie)gs(Me,ee);else{const{x:Le,y:$e,z:Qe,angle:He}=Ie;for(let Ue=0;Ue<Me;Ue++)n.bo(ee,Le,$e,Qe,He)}}p.icon.dynamicLayoutVertexBuffer.updateData(ee)}p.text.dynamicLayoutVertexBuffer.updateData(W)}function Nu(p,r,d,m,b,w,E={}){const A=d.paint.get("icon-translate"),j=d.paint.get("text-translate"),$=d.paint.get("icon-translate-anchor"),z=d.paint.get("text-translate-anchor"),H=d.layout.get("icon-rotation-alignment"),W=d.layout.get("text-rotation-alignment"),ee=d.layout.get("icon-pitch-alignment"),oe=d.layout.get("text-pitch-alignment"),ne=d.layout.get("icon-keep-upright"),se=d.layout.get("text-keep-upright"),ae=d.paint.get("icon-color-saturation"),me=d.paint.get("icon-color-contrast"),Fe=d.paint.get("icon-color-brightness-min"),Ce=d.paint.get("icon-color-brightness-max"),Pe=d.layout.get("symbol-elevation-reference")==="sea",Me=p.context,Ie=Me.gl,Le=p.transform,$e=H==="map",Qe=W==="map",He=ee==="map",Ue=oe==="map",gt=d.layout.get("symbol-sort-key").constantOr(1)!==void 0;let Ft=!1;const Dt=p.depthModeForSublayer(0,Pi.ReadOnly),Gt=[n.am(Le.center.lng),n.at(Le.center.lat)],Qt=d.layout.get("text-variable-anchor"),st=Le.projection.name==="globe",Ot=[],_t=[0,-1,0];for(const Lt of m){const jt=r.getTile(Lt),At=jt.getBucket(d);if(!At||At.projection.name==="mercator"&&st||At.fullyClipped)continue;const ei=At.projection.name==="globe",bi=ei?n.a9(Le.zoom):0,Fi=wc(Lt,At.getProjection(),Le),fi=Le.calculatePixelsToTileUnitsMatrix(jt),Si=Qt&&At.hasTextData(),ri=At.hasIconTextFit()&&Si&&At.hasIconData(),ki=At.getProjection().createInversionMatrix(Le,Lt.canonical),Ki=zn=>{Le.depthOcclusionForSymbolsAndCircles&&(d.hasInitialOcclusionOpacityProperties||p.terrain)&&(zn.push("DEPTH_D24"),zn.push("DEPTH_OCCLUSION"))},cn=()=>{const zn=$e&&d.layout.get("symbol-placement")!=="point",Rn=[];Ki(Rn);const ao=zn||ri,er=d.paint.get("icon-image-cross-fade").constantOr(0);p.terrainRenderModeElevated()&&He&&Rn.push("PITCH_WITH_MAP_TERRAIN"),ei&&(Rn.push("PROJECTION_GLOBE_VIEW"),ao&&Rn.push("PROJECTED_POS_ON_VIEWPORT")),er>0&&Rn.push("ICON_TRANSITION"),At.icon.zOffsetVertexBuffer&&Rn.push("Z_OFFSET"),ae===0&&me===0&&Fe===0&&Ce===1||Rn.push("COLOR_ADJUSTMENT"),At.sdfIcons&&Rn.push("RENDER_SDF");const xa=At.icon.programConfigurations.get(d.id),La=p.getOrCreateProgram("symbol",{config:xa,defines:Rn}),ar=jt.imageAtlasTexture?jt.imageAtlasTexture.size:[0,0],mn=At.iconSizeData,ln=n.bk(mn,Le.zoom),Cn=He||Le.pitch!==0,Zn=fn(Fi,jt.tileID.canonical,He,$e,Le,At.getProjection(),fi),Io=Yr(Fi,jt.tileID.canonical,He,$e,Le,At.getProjection(),fi),so=p.translatePosMatrix(Io,jt,A,$,!0),ur=p.translatePosMatrix(Fi,jt,A,$),vs=ao?Vu:Zn,ia=$e&&!He&&!zn;let na=_t;!st&&!Le.mercatorFromTransition||$e||(na=z_(Le));const Da=ei?na:_t,is=d.getColorAdjustmentMatrix(ae,me,Fe,Ce),oa=B_(mn.kind,ln,ia,He,p,ur,vs,so,Pe,!1,ar,[0,0],!0,Lt,bi,Gt,ki,Da,At.getProjection(),is,er),Zs=jt.imageAtlasTexture?jt.imageAtlasTexture:null,Ba=d.layout.get("icon-size").constantOr(0)!==1||At.iconsNeedLinear,Mn=At.sdfIcons||p.options.rotating||p.options.zooming||Ba||Cn?Ie.LINEAR:Ie.NEAREST,_d=At.sdfIcons&&d.paint.get("icon-halo-width").constantOr(1)!==0,vm=p.terrain&&He&&zn?n.a6.mat4.invert(n.a6.mat4.create(),Zn):Vu;if(zn&&At.icon){const yd=Le.elevation,xm=yd?yd.getAtTileOffsetFunc(Lt,Le.center.lat,Le.worldSize,At.getProjection()):null,eh=pn(Fi,jt.tileID.canonical,He,$e,Le,At.getProjection(),fi);zl(At,Fi,p,!1,eh,Io,He,ne,xm,Lt)}return{program:La,buffers:At.icon,uniformValues:oa,atlasTexture:Zs,atlasTextureIcon:null,atlasInterpolation:Mn,atlasInterpolationIcon:null,isSDF:At.sdfIcons,hasHalo:_d,tile:jt,labelPlaneMatrixInv:vm}},qn=()=>{const zn=Qe&&d.layout.get("symbol-placement")!=="point",Rn=[],ao=zn||Qt||ri;p.terrainRenderModeElevated()&&Ue&&Rn.push("PITCH_WITH_MAP_TERRAIN"),ei&&(Rn.push("PROJECTION_GLOBE_VIEW"),ao&&Rn.push("PROJECTED_POS_ON_VIEWPORT")),At.text.zOffsetVertexBuffer&&Rn.push("Z_OFFSET"),At.iconsInText&&Rn.push("RENDER_TEXT_AND_SYMBOL"),Rn.push("RENDER_SDF"),Ki(Rn);const er=At.text.programConfigurations.get(d.id),xa=p.getOrCreateProgram("symbol",{config:er,defines:Rn});let La,ar=[0,0],mn=null;const ln=At.textSizeData;At.iconsInText&&(ar=jt.imageAtlasTexture?jt.imageAtlasTexture.size:[0,0],mn=jt.imageAtlasTexture?jt.imageAtlasTexture:null,La=Ue||Le.pitch!==0||p.options.rotating||p.options.zooming||ln.kind==="composite"||ln.kind==="camera"?Ie.LINEAR:Ie.NEAREST);const Cn=jt.glyphAtlasTexture?jt.glyphAtlasTexture.size:[0,0],Zn=d.layout.get("text-size-scale-range"),Io=n.ap(p.scaleFactor,Zn[0],Zn[1]),so=n.bk(ln,Le.zoom,Io),ur=fn(Fi,jt.tileID.canonical,Ue,Qe,Le,At.getProjection(),fi),vs=Yr(Fi,jt.tileID.canonical,Ue,Qe,Le,At.getProjection(),fi),ia=p.translatePosMatrix(vs,jt,j,z,!0),na=p.translatePosMatrix(Fi,jt,j,z),Da=ao?Vu:ur,is=Qe&&!Ue&&!zn;let oa=_t;!st&&!Le.mercatorFromTransition||Qe||(oa=z_(Le));const Zs=B_(ln.kind,so,is,Ue,p,na,Da,ia,Pe,!0,Cn,ar,!0,Lt,bi,Gt,ki,ei?oa:_t,At.getProjection(),null,null,Io),Ba=jt.glyphAtlasTexture?jt.glyphAtlasTexture:null,Mn=Ie.LINEAR,_d=d.paint.get("text-halo-width").constantOr(1)!==0,vm=p.terrain&&Ue&&zn?n.a6.mat4.invert(n.a6.mat4.create(),ur):Vu;if(zn&&At.text){const yd=Le.elevation,xm=yd?yd.getAtTileOffsetFunc(Lt,Le.center.lat,Le.worldSize,At.getProjection()):null,eh=pn(Fi,jt.tileID.canonical,Ue,Qe,Le,At.getProjection(),fi);zl(At,Fi,p,!0,eh,vs,Ue,se,xm,Lt)}return{program:xa,buffers:At.text,uniformValues:Zs,atlasTexture:Ba,atlasTextureIcon:mn,atlasInterpolation:Mn,atlasInterpolationIcon:La,isSDF:!0,hasHalo:_d,tile:jt,labelPlaneMatrixInv:vm}},_n=At.icon.segments.get().length,Jn=At.text.segments.get().length,Fn=_n&&!E.onlyText?cn():null,Wn=Jn&&!E.onlyIcons?qn():null,nn=d.paint.get("icon-opacity").constantOr(1),Gn=d.paint.get("text-opacity").constantOr(1);if(gt&&At.canOverlap){Ft=!0;const zn=nn&&!E.onlyText?At.icon.segments.get():[],Rn=Gn&&!E.onlyIcons?At.text.segments.get():[];for(const ao of zn)Ot.push({segments:new n.b2([ao]),sortKey:ao.sortKey,state:Fn});for(const ao of Rn)Ot.push({segments:new n.b2([ao]),sortKey:ao.sortKey,state:Wn})}else E.onlyText||Ot.push({segments:nn?At.icon.segments:new n.b2([]),sortKey:0,state:Fn}),E.onlyIcons||Ot.push({segments:Gn?At.text.segments:new n.b2([]),sortKey:0,state:Wn})}Ft&&Ot.sort((Lt,jt)=>Lt.sortKey-jt.sortKey);for(const Lt of Ot){const jt=Lt.state;if(jt)if(p.terrain?p.terrain.setupElevationDraw(jt.tile,jt.program,{useDepthForOcclusion:Le.depthOcclusionForSymbolsAndCircles,labelPlaneMatrixInv:jt.labelPlaneMatrixInv}):p.setupDepthForOcclusion(Le.depthOcclusionForSymbolsAndCircles,jt.program),Me.activeTexture.set(Ie.TEXTURE0),jt.atlasTexture&&jt.atlasTexture.bind(jt.atlasInterpolation,Ie.CLAMP_TO_EDGE,!0),jt.atlasTextureIcon&&(Me.activeTexture.set(Ie.TEXTURE1),jt.atlasTextureIcon&&jt.atlasTextureIcon.bind(jt.atlasInterpolationIcon,Ie.CLAMP_TO_EDGE,!0)),p.uploadCommonLightUniforms(p.context,jt.program),jt.hasHalo){const At=jt.uniformValues;At.u_is_halo=1,$u(jt.buffers,Lt.segments,d,p,jt.program,Dt,b,w,At,2),At.u_is_halo=0}else{if(jt.isSDF){const At=jt.uniformValues;jt.hasHalo&&(At.u_is_halo=1,$u(jt.buffers,Lt.segments,d,p,jt.program,Dt,b,w,At,1)),At.u_is_halo=0}$u(jt.buffers,Lt.segments,d,p,jt.program,Dt,b,w,jt.uniformValues,1)}}}function $u(p,r,d,m,b,w,E,A,j,$){const z=[p.dynamicLayoutVertexBuffer,p.opacityVertexBuffer,p.iconTransitioningVertexBuffer,p.globeExtVertexBuffer,p.zOffsetVertexBuffer];b.draw(m,m.context.gl.TRIANGLES,w,E,A,Ni.disabled,j,d.id,p.layoutVertexBuffer,p.indexBuffer,r,d.paint,m.transform.zoom,p.programConfigurations.get(d.id),z,$)}function wf(p,r,d,m,b,w,E){const A=p.context.gl,j=d.paint.get("fill-pattern"),$=d.is3D(),z=$?p.stencilModeFor3D():qi.disabled,H=j&&j.constantOr(1);let W,ee,oe,ne,se;E?(ee=H&&!d.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",W=A.LINES):(ee=H?"fillPattern":"fill",W=A.TRIANGLES);for(const ae of m){const me=r.getTile(ae);if(H&&!me.patternsLoaded())continue;const Fe=me.getBucket(d);if(!Fe)continue;p.prepareDrawTile();const Ce=Fe.programConfigurations.get(d.id),Pe=p.isTileAffectedByFog(ae),Me=p.getOrCreateProgram(ee,{config:Ce,overrideFog:Pe});H&&(p.context.activeTexture.set(A.TEXTURE0),me.imageAtlasTexture&&me.imageAtlasTexture.bind(A.LINEAR,A.CLAMP_TO_EDGE),Ce.updatePaintBuffers());const Ie=j.constantOr(null);if(Ie&&me.imageAtlas){const Qe=me.imageAtlas.patternPositions[Ie.toString()];Qe&&Ce.setConstantPatternPositions(Qe)}const Le=p.translatePosMatrix(ae.projMatrix,me,d.paint.get("fill-translate"),d.paint.get("fill-translate-anchor")),$e=d.paint.get("fill-emissive-strength");if(E){ne=Fe.indexBuffer2,se=Fe.segments2;const Qe=p.terrain&&p.terrain.renderingToTexture?p.terrain.drapeBufferSize:[A.drawingBufferWidth,A.drawingBufferHeight];oe=ee==="fillOutlinePattern"&&H?pv(Le,$e,p,me,Qe):Bu(Le,$e,Qe)}else ne=Fe.indexBuffer,se=Fe.segments,oe=H?U0(Le,$e,p,me):D_(Le,$e);p.uploadCommonUniforms(p.context,Me,ae.toUnwrapped()),Me.draw(p,W,b,$?z:p.stencilModeForClipping(ae),w,Ni.disabled,oe,d.id,Fe.layoutVertexBuffer,ne,se,d.paint,p.transform.zoom,Ce,void 0)}}function Cr(p,r,d,m,b,w,E,A){d.resetLayerRenderingStats(p);const j=p.context,$=j.gl,z=p.transform,H=d.paint.get("fill-extrusion-pattern"),W=H.constantOr(1),ee=d.paint.get("fill-extrusion-opacity"),oe=p.style.enable3dLights(),ne=d.paint.get(oe&&!W?"fill-extrusion-ambient-occlusion-wall-radius":"fill-extrusion-ambient-occlusion-radius"),se=[d.paint.get("fill-extrusion-ambient-occlusion-intensity"),ne],ae=d.layout.get("fill-extrusion-edge-radius"),me=ae>0&&!d.paint.get("fill-extrusion-rounded-roof"),Fe=me?0:ae,Ce=z.projection.name==="globe"?n.c_():0,Pe=z.projection.name==="globe",Me=Pe?n.a9(z.zoom):0,Ie=[n.am(z.center.lng),n.at(z.center.lat)],Le=d.paint.get("fill-extrusion-flood-light-color").toRenderColor(d.lut).toArray01().slice(0,3),$e=d.paint.get("fill-extrusion-flood-light-intensity"),Qe=d.paint.get("fill-extrusion-vertical-scale"),He=d.paint.get("fill-extrusion-line-width").constantOr(1)!==0,Ue=d.paint.get("fill-extrusion-height-alignment"),gt=d.paint.get("fill-extrusion-base-alignment"),Ft=zs(p,d.paint.get("fill-extrusion-cutoff-fade-range")),Dt=[];let Gt;Pe&&Dt.push("PROJECTION_GLOBE_VIEW"),se[0]>0&&Dt.push("FAUX_AO"),me&&Dt.push("ZERO_ROOF_RADIUS"),A&&Dt.push("HAS_CENTROID"),$e>0&&Dt.push("FLOOD_LIGHT"),Ft.shouldRenderCutoff&&Dt.push("RENDER_CUTOFF"),He&&Dt.push("RENDER_WALL_MODE");const Qt=p.renderPass==="shadow",st=p.shadowRenderer,Ot=Qt&&!!st;p.shadowRenderer&&(p.shadowRenderer.useNormalOffset=!0);let _t=[0,0,0];if(st){const At=p.style.directionalLight,ei=p.style.ambientLight;At&&ei&&(_t=nf(p.style,At,ei)),Qt||(Dt.push("RENDER_SHADOWS","DEPTH_TEXTURE"),st.useNormalOffset&&Dt.push("NORMAL_OFFSET")),Gt=Dt.concat(["SHADOWS_SINGLE_CASCADE"])}const Lt=Ot?"fillExtrusionDepth":W?"fillExtrusionPattern":"fillExtrusion",jt=d.getLayerRenderingStats();for(const At of m){const ei=r.getTile(At),bi=ei.getBucket(d);if(!bi||bi.projection.name!==z.projection.name)continue;let Fi=!1;st&&(Fi=st.getMaxCascadeForTile(At.toUnwrapped())===0);const fi=p.isTileAffectedByFog(At),Si=bi.programConfigurations.get(d.id),ri=p.getOrCreateProgram(Lt,{config:Si,defines:Fi?Gt:Dt,overrideFog:fi});if(p.terrain&&p.terrain.setupElevationDraw(ei,ri,{useMeterToDem:!0}),!bi.centroidVertexBuffer){const Fn=ri.attributes.a_centroid_pos;Fn!==void 0&&$.vertexAttrib2f(Fn,0,0)}!Qt&&st&&st.setupShadows(ei.tileID.toUnwrapped(),ri,"vector-tile",ei.tileID.overscaledZ),W&&(p.context.activeTexture.set($.TEXTURE0),ei.imageAtlasTexture&&ei.imageAtlasTexture.bind($.LINEAR,$.CLAMP_TO_EDGE),Si.updatePaintBuffers());const ki=H.constantOr(null);if(ki&&ei.imageAtlas){const Fn=ei.imageAtlas.patternPositions[ki.toString()];Fn&&Si.setConstantPatternPositions(Fn)}const Ki=d.paint.get("fill-extrusion-vertical-gradient"),cn=1/bi.tileToMeter;let qn;if(Qt&&st){if(N_(ei.tileID,bi,p))continue;const Fn=st.calculateShadowPassMatrixFromTile(ei.tileID.toUnwrapped());qn=N0(Fn,Fe,cn,Qe,Ue,gt)}else{const Fn=p.translatePosMatrix(At.expandedProjMatrix,ei,d.paint.get("fill-extrusion-translate"),d.paint.get("fill-extrusion-translate-anchor")),Wn=z.projection.createInversionMatrix(z,At.canonical);qn=W?$0(Fn,p,Ki,ee,se,Fe,cn,At,ei,Ce,Ue,gt,Me,Ie,Wn,Le,Qe):V0(Fn,p,Ki,ee,se,Fe,cn,At,Ce,Ue,gt,Me,Ie,Wn,Le,Qe,$e,_t)}p.uploadCommonUniforms(j,ri,At.toUnwrapped(),null,Ft);let _n=bi.segments;if(z.projection.name==="mercator"&&!Qt&&(_n=bi.getVisibleSegments(ei.tileID,p.terrain,p.transform.getFrustum(0)),!_n.get().length))continue;if(jt)if(Qt)for(const Fn of _n.get())jt.numRenderedVerticesInShadowPass+=Fn.primitiveLength;else for(const Fn of _n.get())jt.numRenderedVerticesInTransparentPass+=Fn.primitiveLength;const Jn=[];(p.terrain||A)&&Jn.push(bi.centroidVertexBuffer),Pe&&Jn.push(bi.layoutVertexExtBuffer),He&&Jn.push(bi.wallVertexBuffer),ri.draw(p,j.gl.TRIANGLES,b,w,E,Ni.backCCW,qn,d.id,bi.layoutVertexBuffer,bi.indexBuffer,_n,d.paint,p.transform.zoom,Si,Jn)}p.shadowRenderer&&(p.shadowRenderer.useNormalOffset=!1)}function ba(p,r,d,m,b,w,E,A,j,$,z,H,W,ee,oe,ne,se,ae,me){const Fe=p.context,Ce=Fe.gl,Pe=p.transform,Me=p.transform.zoom,Ie=[],Le=zs(p,d.paint.get("fill-extrusion-cutoff-fade-range"));$==="clear"?(Ie.push("CLEAR_SUBPASS"),me&&(Ie.push("CLEAR_FROM_TEXTURE"),Fe.activeTexture.set(Ce.TEXTURE0),me.bind(Ce.LINEAR,Ce.CLAMP_TO_EDGE))):$==="sdf"&&Ie.push("SDF_SUBPASS"),se&&Ie.push("HAS_CENTROID"),Le.shouldRenderCutoff&&Ie.push("RENDER_CUTOFF");const $e=d.layout.get("fill-extrusion-edge-radius"),Qe=(He,Ue,gt,Ft,Dt)=>{const Gt=Ue.programConfigurations.get(d.id),Qt=p.isTileAffectedByFog(He),st=p.getOrCreateProgram("fillExtrusionGroundEffect",{config:Gt,defines:Ie,overrideFog:Qt}),Ot=((Lt,jt,At,ei,bi,Fi,fi,Si,ri,ki,Ki)=>({u_matrix:jt,u_opacity:At,u_ao_pass:ei?1:0,u_meter_to_tile:bi,u_ao:Fi,u_flood_light_intensity:fi,u_flood_light_color:Si,u_attenuation:ri,u_edge_radius:ki,u_fb:0,u_fb_size:Ki,u_dynamic_offset:1}))(0,Ft,z,j,Dt,[H,W*Dt],ee,oe,ne,Me>=17?0:$e*Dt,me?me.size[0]:0),_t=[];se&&_t.push(Ue.hiddenByLandmarkVertexBuffer),p.uploadCommonUniforms(Fe,st,He.toUnwrapped(),null,Le),st.draw(p,Fe.gl.TRIANGLES,b,w,E,A,Ot,d.id,Ue.vertexBuffer,Ue.indexBuffer,gt,d.paint,Me,Gt,_t)};for(const He of m){const Ue=r.getTile(He),gt=Ue.getBucket(d);if(!gt||gt.projection.name!==Pe.projection.name||!gt.groundEffect||gt.groundEffect&&!gt.groundEffect.hasData())continue;const Ft=gt.groundEffect,Dt=1/gt.tileToMeter;{const Gt=p.translatePosMatrix(He.projMatrix,Ue,d.paint.get("fill-extrusion-translate"),d.paint.get("fill-extrusion-translate-anchor")),Qt=Ft.getDefaultSegment();Qe(He,Ft,Qt,Gt,Dt)}if(ae)for(let Gt=0;Gt<4;Gt++){const Qt=n.c$[Gt](He),st=r.getTile(Qt);if(!st)continue;const Ot=st.getBucket(d);if(!Ot||Ot.projection.name!==Pe.projection.name||!Ot.groundEffect||Ot.groundEffect&&!Ot.groundEffect.hasData())continue;const _t=Ot.groundEffect;let Lt,jt;Gt===0?(Lt=[-n.ab,0,0],jt=1):Gt===1?(Lt=[n.ab,0,0],jt=0):Gt===2?(Lt=[0,-n.ab,0],jt=3):(Lt=[0,n.ab,0],jt=2);const At=_t.regionSegments[jt];if(!At)continue;const ei=new Float32Array(16);n.a6.mat4.translate(ei,He.projMatrix,Lt),Qe(He,_t,At,p.translatePosMatrix(ei,Ue,d.paint.get("fill-extrusion-translate"),d.paint.get("fill-extrusion-translate-anchor")),Dt)}}}function V_(p,r,d,m,b,w,E){m.centroidVertexArray.length===0&&m.createCentroidsBuffer();const A=w?w.findDEMTileFor(d):null;if(!(A&&A.dem||E))return;const j=ae=>new n.P(Math.ceil((ae+n.d2)*n.d3),0),$=ae=>{const me=r.getSource().minzoom,Fe=Pe=>{const Me=r.getTileByID(Pe);if(Me&&Me.hasData())return Me.getBucket(b)},Ce=[0,-1,1];for(const Pe of Ce){if(ae.overscaledZ+Pe<me)continue;const Me=Fe(ae.calculateScaledKey(ae.overscaledZ+Pe));if(Me)return Me}},z=[0,0,0],H=(ae,me)=>(z[0]=Math.min(ae.min.y,me.min.y),z[1]=Math.max(ae.max.y,me.max.y),z[2]=n.ab-me.min.x>ae.max.x?me.min.x-n.ab:ae.max.x,z),W=(ae,me)=>(z[0]=Math.min(ae.min.x,me.min.x),z[1]=Math.max(ae.max.x,me.max.x),z[2]=n.ab-me.min.y>ae.max.y?me.min.y-n.ab:ae.max.y,z),ee=[(ae,me)=>H(ae,me),(ae,me)=>H(me,ae),(ae,me)=>W(ae,me),(ae,me)=>W(me,ae)],oe=(ae,me,Fe,Ce,Pe,Me,Ie)=>{if(!w)return 0;const Le=[[Me?Fe:ae,Me?ae:Fe,0],[Me?Fe:me,Me?me:Fe,0]],$e=Ie<0?n.ab+Ie:Ie,Qe=[Me?$e:(ae+me)/2,Me?(ae+me)/2:$e,0];return Fe===0&&Ie<0||Fe!==0&&Ie>0?w.getForTilePoints(Pe,[Qe],!0,Ce):Le.push(Qe),w.getForTilePoints(d,Le,!0,A),Math.max(Le[0][2],Le[1][2],Qe[2])/w.exaggeration()};for(let ae=0;ae<4;ae++){const me=m.borderFeatureIndices[ae];if(me.length===0)continue;const Fe=n.c$[ae](d),Ce=$(Fe);if(!(Ce&&Ce instanceof n.d0)||m.borderDoneWithNeighborZ[ae]===Ce.canonical.z)continue;Ce.centroidVertexArray.length===0&&Ce.createCentroidsBuffer();const Pe=w?w.findDEMTileFor(Fe):null;if(!(Pe&&Pe.dem||E))continue;const Me=(ae<2?1:5)-ae,Ie=Ce.borderDoneWithNeighborZ[Me]!==m.canonical.z,Le=Ce.borderFeatureIndices[Me];let $e=0;if(m.canonical.z!==Ce.canonical.z){for(const Qe of me)m.showCentroid(m.featuresOnBorder[Qe]);if(Ie)for(const Qe of Le)Ce.showCentroid(Ce.featuresOnBorder[Qe]);m.borderDoneWithNeighborZ[ae]=Ce.canonical.z,Ce.borderDoneWithNeighborZ[Me]=m.canonical.z}for(const Qe of me){const He=m.featuresOnBorder[Qe],Ue=m.centroidData[He.centroidDataIndex],gt=He.borders[ae];let Ft;for(;$e<Le.length;){Ft=Ce.featuresOnBorder[Le[$e]];const Dt=Ft.borders[Me];if(Dt[1]>gt[0]+3||Dt[0]>gt[0]-3)break;Ce.showCentroid(Ft),$e++}if(Ft&&$e<Le.length){const Dt=$e;let Gt=0;for(;!(Ft.borders[Me][0]>gt[1]-3)&&(Gt++,++$e!==Le.length);)Ft=Ce.featuresOnBorder[Le[$e]];Ft=Ce.featuresOnBorder[Le[Dt]];let Qt=!1;if(Gt>=1){const _t=Ft.borders[Me];Math.abs(gt[0]-_t[0])<3&&Math.abs(gt[1]-_t[1])<3&&(Gt=1,Qt=!0,$e=Dt+1)}else if(Gt===0){m.showCentroid(He);continue}const st=Ce.centroidData[Ft.centroidDataIndex];E&&Qt&&(((ne=Ue).flags|(se=st).flags)&n.d1?(ne.flags|=n.d1,se.flags|=n.d1):(ne.flags&=~n.d1,se.flags&=~n.d1));const Ot=He.intersectsCount()>1||Ft.intersectsCount()>1;if(Gt>1)$e=Dt,Ue.centroidXY=st.centroidXY=new n.P(0,0);else if(Pe&&Pe.dem&&!Ot){const _t=ee[ae](Ue,st),Lt=ae%2?n.ab-1:0,jt=oe(_t[0],Math.min(n.ab-1,_t[1]),Lt,Pe,Fe,ae<2,_t[2]);Ue.centroidXY=st.centroidXY=j(jt)}else Ot?Ue.centroidXY=st.centroidXY=new n.P(0,0):(Ue.centroidXY=m.encodeBorderCentroid(He),st.centroidXY=Ce.encodeBorderCentroid(Ft));m.writeCentroidToBuffer(Ue),Ce.writeCentroidToBuffer(st)}else m.showCentroid(He)}m.borderDoneWithNeighborZ[ae]=Ce.canonical.z,Ce.borderDoneWithNeighborZ[Me]=m.canonical.z}var ne,se;(m.needsCentroidUpdate||!m.centroidVertexBuffer&&m.centroidVertexArray.length!==0)&&m.uploadCentroid(p)}const J0=[1,0,0],Y0=[0,1,0],em=[0,0,1];function N_(p,r,d){const m=d.transform,b=d.shadowRenderer;if(!b)return!0;const w=p.toUnwrapped(),E=m.tileSize*b._cascades[d.currentShadowCascade].scale;let A=r.maxHeight;if(m.elevation){const ne=m.elevation.getMinMaxForTile(p);ne&&(A+=ne.max)}const j=[...b.shadowDirection];j[2]=-j[2];const $=b.computeSimplifiedTileShadowVolume(w,A,E,j);if(!$)return!1;const z=[J0,Y0,em,j,[j[0],0,j[2]],[0,j[1],j[2]]],H=m.projection.name==="globe",W=m.scaleZoom(E),ee=n.bO.fromInvProjectionMatrix(m.invProjMatrix,m.worldSize,W,!H),oe=b.getCurrentCascadeFrustum();return ee.intersectsPrecise($.vertices,$.planes,z)===0||oe.intersectsPrecise($.vertices,$.planes,z)===0}function va(p){return[p[0]*n.d4,p[1]*n.d4,p[2]*n.d4,0]}function _o(p,r,d,m,b,w,E,A,j){const $=m.getSource(),z=d.globeSharedBuffers;if(!z)return;let H,W,ee;if(r&&(H=m.getTile(r)),$ instanceof n.aD?(W=$.texture,ee=n.cD(0,0,d.transform)):H&&r&&(W=H.texture,ee=n.cD(r.canonical.z,r.canonical.x,d.transform)),!W||!ee)return;p||(ee=n.a6.mat4.scale(n.a6.mat4.create(),ee,[1,-1,1]));const oe=d.context,ne=oe.gl,se=b.paint.get("raster-resampling")==="nearest"?ne.NEAREST:ne.LINEAR,ae=d.colorModeForDrapableLayerRenderPass(w),me=E.defines;me.push("GLOBE_POLES");const Fe=new Pi(ne.LEQUAL,Pi.ReadWrite,d.depthRangeFor3D),Ce=Float32Array.from(d.transform.expandedFarZProjMatrix),Pe=Float32Array.from(n.b6(n.cC(new n.bQ(0,0,0))));d.terrain&&d.terrain.prepareDrawTile(),oe.activeTexture.set(ne.TEXTURE0),W.bind(se,ne.CLAMP_TO_EDGE),oe.activeTexture.set(ne.TEXTURE1),W.bind(se,ne.CLAMP_TO_EDGE),W.useMipmap&&oe.extTextureFilterAnisotropic&&d.transform.pitch>20&&ne.texParameterf(ne.TEXTURE_2D,oe.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,oe.extTextureFilterAnisotropicMax);const[Me,Ie,Le,$e]=r?z.getPoleBuffers(r.canonical.z,!1):z.getPoleBuffers(0,!0),Qe=b.paint.get("raster-elevation");let He;p?(He=Me,d.renderDefaultNorthPole=Qe!==0):(He=Ie,d.renderDefaultSouthPole=Qe!==0);const Ue=va(E.mix),gt=((Dt,Gt,Qt,st,Ot,_t,Lt,jt,At,ei,bi,Fi,fi)=>yf(Dt,Gt,Qt,new Float32Array(16),new Float32Array(9),[0,0],st,[0,0],[0,0,0,0],1,{opacity:1,mix:0},_t,[0,0],jt,2,ei,bi,Fi,1,0,fi))(Ce,Pe,ee,n.a9(d.transform.zoom),0,b,0,Qe,0,Ue,E.offset,E.range,w),Ft=d.getOrCreateProgram("raster",{defines:me});d.uploadCommonUniforms(oe,Ft,null),Ft.draw(d,ne.TRIANGLES,Fe,j,ae,A,gt,b.id,He,Le,$e)}function Ff(p){const r=p._nearZ,d=p.projection.farthestPixelDistance(p),m=d-r,b=.2*p.height,w=r+b;return[r,d,(w-b-r)/m,(w-r)/m]}function tm(p,r,d,m){if(p)return r instanceof fs&&p instanceof Hh?r.getTextureDescriptor(p,d,!0):{texture:p.texture,mix:va(m.mix),offset:m.offset,buffer:0,tileSize:1}}var $_=n.d5([{name:"a_index",type:"Int16",components:1}]);class U_{constructor(r,d,m,b){const w={width:m[0],height:m[1],data:null},E=r.gl;this.targetColorTexture=new n.T(r,w,E.RGBA8,{useMipmap:!1}),this.backgroundColorTexture=new n.T(r,w,E.RGBA8,{useMipmap:!1}),this.context=r,this.updateParticleTexture(d,b),this.lastInvalidatedAt=0}updateParticleTexture(r,d){if(this.particleTextureDimension===d.width)return;(this.particleTexture0||this.particleTexture1||this.particleIndexBuffer||this.particleSegment)&&(this.particleTexture0.destroy(),this.particleTexture1.destroy(),this.particleIndexBuffer.destroy(),this.particleSegment.destroy());const m=this.context.gl,b=d.width*d.height;this.particleTexture0=new n.T(this.context,d,m.RGBA8,{premultiply:!1,useMipmap:!1}),this.particleTexture1=new n.T(this.context,d,m.RGBA8,{premultiply:!1,useMipmap:!1});const w=new n.d6;w.reserve(b);for(let E=0;E<b;E++)w.emplaceBack(E);this.particleIndexBuffer=this.context.createVertexBuffer(w,$_.members,!0),this.particleSegment=n.b2.simpleSegment(0,0,this.particleIndexBuffer.length,0),this.particleTextureDimension=d.width}update(r){return!(this.lastInvalidatedAt<r&&(this.lastInvalidatedAt=n.q.now(),1))}destroy(){this.targetColorTexture.destroy(),this.backgroundColorTexture.destroy(),this.particleIndexBuffer.destroy(),this.particleTexture0.destroy(),this.particleTexture1.destroy(),this.particleSegment.destroy()}}function G_(p,r,d){if(!p)return null;const m=r.getTextureDescriptor(p,d,!0);if(!m)return null;let{texture:b,mix:w,offset:E,tileSize:A,buffer:j,format:$}=m;if(!b||!$)return null;let z=!1;return $==="uint32"&&(z=!0,w[3]=0,w=_f(n.d7,w,[0,d.paint.get("raster-particle-max-speed")]),E=od(n.d7,E,[0,d.paint.get("raster-particle-max-speed")])),{texture:b,textureOffset:[j/(A+2*j),A/(A+2*j)],tileSize:A,scalarData:z,scale:w,offset:E,defines:["RASTER_ARRAY",{uint8:"DATA_FORMAT_UINT8",uint16:"DATA_FORMAT_UINT16",uint32:"DATA_FORMAT_UINT32"}[$]]}}function bv(p){const r=p._nearZ,d=p.projection.farthestPixelDistance(p),m=d-r,b=.2*p.height,w=r+b;return[r,d,(w-b-r)/m,(w-r)/m]}const ad=new n.bA(1,0,0,1),sd=new n.bA(0,1,0,1),Kt=new n.bA(0,0,1,1),xi=new n.bA(1,0,1,1),cd=new n.bA(0,1,1,1);function io(p,r,d,m,b,w,E){const A=p.context,j=p.transform,$=A.gl,z=j.projection.name==="globe",H=z?["PROJECTION_GLOBE_VIEW"]:[];let W=n.a6.mat4.clone(d.projMatrix);if(z&&n.a9(j.zoom)>0){const Ue=n.b5(d.canonical,j),gt=n.d8(Ue);W=n.a6.mat4.multiply(new Float32Array(16),j.globeMatrix,gt),n.a6.mat4.multiply(W,j.projMatrix,W)}const ee=n.a6.mat4.create();ee[12]+=2*b/(n.q.devicePixelRatio*j.width),ee[13]+=2*w/(n.q.devicePixelRatio*j.height),n.a6.mat4.multiply(W,ee,W);const oe=p.getOrCreateProgram("debug",{defines:H}),ne=r.getTileByID(d.key);p.terrain&&p.terrain.setupElevationDraw(ne,oe);const se=Pi.disabled,ae=qi.disabled,me=p.colorModeForRenderPass(),Fe="$debug";A.activeTexture.set($.TEXTURE0),p.emptyTexture.bind($.LINEAR,$.CLAMP_TO_EDGE),z?ne._makeGlobeTileDebugBuffers(p.context,j):ne._makeDebugTileBoundsBuffers(p.context,j.projection);const Ce=ne._tileDebugBuffer||p.debugBuffer,Pe=ne._tileDebugIndexBuffer||p.debugIndexBuffer,Me=ne._tileDebugSegments||p.debugSegments;if(oe.draw(p,$.LINE_STRIP,se,ae,me,Ni.disabled,G0(W,m),Fe,Ce,Pe,Me,null,null,null,[ne._globeTileDebugBorderBuffer]),E){const Ue=ne.latestRawTileData,gt=Math.floor((Ue&&Ue.byteLength||0)/1024);let Ft=d.canonical.toString();d.overscaledZ!==d.canonical.z&&(Ft+=` => ${d.overscaledZ}`),Ft+=` ${ne.state}`,Ft+=` ${gt}kb`,function(Dt,Gt){Dt.initDebugOverlayCanvas();const Qt=Dt.debugOverlayCanvas,st=Dt.context.gl,Ot=Dt.debugOverlayCanvas.getContext("2d");Ot.clearRect(0,0,Qt.width,Qt.height),Ot.shadowColor="white",Ot.shadowBlur=2,Ot.lineWidth=1.5,Ot.strokeStyle="white",Ot.textBaseline="top",Ot.font="bold 36px Open Sans, sans-serif",Ot.fillText(Gt,5,5),Ot.strokeText(Gt,5,5),Dt.debugOverlayTexture.update(Qt),Dt.debugOverlayTexture.bind(st.LINEAR,st.CLAMP_TO_EDGE)}(p,Ft)}const Ie=r.getTile(d).tileSize,Le=512/Math.min(Ie,512)*(d.overscaledZ/j.zoom)*.5,$e=ne._tileDebugTextBuffer||p.debugBuffer,Qe=ne._tileDebugTextIndexBuffer||p.quadTriangleIndexBuffer,He=ne._tileDebugTextSegments||p.debugSegments;oe.draw(p,$.TRIANGLES,se,ae,rn.alphaBlended,Ni.disabled,G0(W,n.bA.transparent,Le),Fe,$e,Qe,He,null,null,null,[ne._globeTileDebugTextBuffer])}function ft(p,r,d,m){al(p,0,r+d/2,p.transform.width,d,m)}function im(p,r,d,m){al(p,r-d/2,0,d,p.transform.height,m)}function al(p,r,d,m,b,w){const E=p.context,A=E.gl;A.enable(A.SCISSOR_TEST),A.scissor(r*n.q.devicePixelRatio,d*n.q.devicePixelRatio,m*n.q.devicePixelRatio,b*n.q.devicePixelRatio),E.clear({color:w}),A.disable(A.SCISSOR_TEST)}const nm=n.d5([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:Cf}=nm;function $s(p,r,d,m){p.emplaceBack(r,d,m)}class om{constructor(r){this.vertexArray=new n.d9,this.indices=new n.aP,$s(this.vertexArray,-1,-1,1),$s(this.vertexArray,1,-1,1),$s(this.vertexArray,-1,1,1),$s(this.vertexArray,1,1,1),$s(this.vertexArray,-1,-1,-1),$s(this.vertexArray,1,-1,-1),$s(this.vertexArray,-1,1,-1),$s(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=r.createVertexBuffer(this.vertexArray,Cf),this.indexBuffer=r.createIndexBuffer(this.indices),this.segment=n.b2.simpleSegment(0,0,36,12)}}function es(p,r,d,m,b,w){const E=p.context.gl,A=r.paint.get("sky-atmosphere-color"),j=r.paint.get("sky-atmosphere-halo-color"),$=r.paint.get("sky-atmosphere-sun-intensity"),z=((H,W,ee,oe,ne)=>({u_matrix_3f:H,u_sun_direction:W,u_sun_intensity:ee,u_color_tint_r:[oe.r,oe.g,oe.b,oe.a],u_color_tint_m:[ne.r,ne.g,ne.b,ne.a],u_luminance:5e-5}))(n.a6.mat3.fromMat4(n.a6.mat3.create(),m),b,$,A,j);E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_CUBE_MAP_POSITIVE_X+w,r.skyboxTexture,0),d.draw(p,E.TRIANGLES,Pi.disabled,qi.disabled,rn.unblended,Ni.frontCW,z,"skyboxCapture",r.skyboxGeometry.vertexBuffer,r.skyboxGeometry.indexBuffer,r.skyboxGeometry.segment)}const vv=n.d5([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class xv{constructor(r){const d=new n.da;d.emplaceBack(-1,1,1,0,0),d.emplaceBack(1,1,1,1,0),d.emplaceBack(1,-1,1,1,1),d.emplaceBack(-1,-1,1,0,1);const m=new n.aP;m.emplaceBack(0,1,2),m.emplaceBack(2,3,0),this.vertexBuffer=r.createVertexBuffer(d,vv.members),this.indexBuffer=r.createIndexBuffer(m),this.segments=n.b2.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const H_=n.d5([{type:"Float32",name:"a_pos_3f",components:3},{type:"Float32",name:"a_uv",components:2},{type:"Float32",name:"a_size_scale",components:1},{type:"Float32",name:"a_fade_opacity",components:1}]);class Ef{constructor(){this.starsCount=16e3,this.sizeMultiplier=.15,this.sizeRange=100,this.intensityRange=200}}class rm{constructor(r){this.colorModeAlphaBlendedWriteRGB=new rn([1,ma,1,ma],n.bA.transparent,[!0,!0,!0,!1]),this.colorModeWriteAlpha=new rn([1,0,1,0],n.bA.transparent,[!1,!1,!1,!0]),this.params=new Ef,this.updateNeeded=!0,r.tp.registerParameter(this.params,["Stars"],"starsCount",{min:100,max:16e3,step:1},()=>{this.updateNeeded=!0}),r.tp.registerParameter(this.params,["Stars"],"sizeMultiplier",{min:.01,max:2,step:.01}),r.tp.registerParameter(this.params,["Stars"],"sizeRange",{min:0,max:200,step:1},()=>{this.updateNeeded=!0}),r.tp.registerParameter(this.params,["Stars"],"intensityRange",{min:0,max:200,step:1},()=>{this.updateNeeded=!0})}update(r){const d=r.context;if(!this.atmosphereBuffer||this.updateNeeded){this.updateNeeded=!1,this.atmosphereBuffer=new xv(d);const m=this.params.sizeRange,b=this.params.intensityRange,w=function(z){const H=n.dd(30),W=[];for(let ee=0;ee<z;++ee){const oe=2*Math.PI*H(),ne=Math.acos(1-2*H())-.5*Math.PI;W.push(n.a6.vec3.fromValues(Math.cos(ne)*Math.cos(oe),Math.cos(ne)*Math.sin(oe),Math.sin(ne)))}return W}(this.params.starsCount),E=n.dd(300),A=new n.db,j=new n.aP;let $=0;for(let z=0;z<w.length;++z){const H=n.a6.vec3.scale([],w[z],200),W=Math.max(0,1+.01*m*(1*E()-.5)),ee=Math.max(0,1+.01*b*(1*E()-.5));A.emplaceBack(H[0],H[1],H[2],-1,-1,W,ee),A.emplaceBack(H[0],H[1],H[2],1,-1,W,ee),A.emplaceBack(H[0],H[1],H[2],1,1,W,ee),A.emplaceBack(H[0],H[1],H[2],-1,1,W,ee),j.emplaceBack($+0,$+1,$+2),j.emplaceBack($+0,$+2,$+3),$+=4}this.starsVx=d.createVertexBuffer(A,H_.members),this.starsIdx=d.createIndexBuffer(j),this.starsSegments=n.b2.simpleSegment(0,0,A.length,j.length)}}destroy(){this.atmosphereBuffer&&this.atmosphereBuffer.destroy(),this.starsVx&&this.starsVx.destroy(),this.starsIdx&&this.starsIdx.destroy()}drawAtmosphereGlow(r,d){const m=r.context,b=m.gl,w=r.transform,E=new Pi(b.LEQUAL,Pi.ReadOnly,[0,1]),A=n.a9(w.zoom),j=r.style.getLut(d.scope),$=d.properties.get("color").toRenderColor(j).toArray01(),z=d.properties.get("high-color").toRenderColor(j).toArray01(),H=d.properties.get("space-color").toRenderColor(j).toArray01PremultipliedAlpha(),W=5e-4,ee=n.dc(d.properties.get("horizon-blend"),0,1,W,.25),oe=n.cx(r,m,w)&&ee===W?w.worldSize/(2*Math.PI*1.025)-1:w.globeRadius,ne=r.frameCounter/1e3%1,se=n.a6.vec3.length(w.globeCenterInViewSpace),ae=Math.sqrt(Math.pow(se,2)-Math.pow(oe,2)),me=Math.acos(ae/se),Fe=Ce=>{const Pe=w.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"];Ce&&Pe.push("ALPHA_PASS");const Me=r.getOrCreateProgram("globeAtmosphere",{defines:Pe}),Ie=(($e,Qe,He,Ue,gt,Ft,Dt,Gt,Qt,st,Ot,_t)=>({u_frustum_tl:$e,u_frustum_tr:Qe,u_frustum_br:He,u_frustum_bl:Ue,u_horizon:gt,u_transition:Ft,u_fadeout_range:Dt,u_color:Gt,u_high_color:Qt,u_space_color:st,u_temporal_offset:Ot,u_horizon_angle:_t}))(w.frustumCorners.TL,w.frustumCorners.TR,w.frustumCorners.BR,w.frustumCorners.BL,w.frustumCorners.horizon,A,ee,$,z,H,ne,me);r.uploadCommonUniforms(m,Me);const Le=this.atmosphereBuffer;Le&&Me.draw(r,b.TRIANGLES,E,qi.disabled,Ce?this.colorModeWriteAlpha:this.colorModeAlphaBlendedWriteRGB,Ni.backCW,Ie,Ce?"atmosphere_glow_alpha":"atmosphere_glow",Le.vertexBuffer,Le.indexBuffer,Le.segments)};Fe(!1),Fe(!0)}drawStars(r,d){const m=n.ap(d.properties.get("star-intensity"),0,1);if(m===0)return;const b=r.context,w=b.gl,E=r.transform,A=r.getOrCreateProgram("stars"),j=n.a6.quat.identity([]);n.a6.quat.rotateX(j,j,-E._pitch),n.a6.quat.rotateZ(j,j,-E.angle),n.a6.quat.rotateX(j,j,n.bC(E._center.lat)),n.a6.quat.rotateY(j,j,-n.bC(E._center.lng));const $=n.a6.mat4.fromQuat(new Float32Array(16),j),z=n.a6.mat4.multiply([],E.starsProjMatrix,$),H=n.a6.mat3.fromMat4([],$),W=n.a6.mat3.invert([],H),ee=[0,1,0];n.a6.vec3.transformMat3(ee,ee,W),n.a6.vec3.scale(ee,ee,this.params.sizeMultiplier);const oe=[1,0,0];n.a6.vec3.transformMat3(oe,oe,W),n.a6.vec3.scale(oe,oe,this.params.sizeMultiplier);const ne=(se=ee,ae=oe,me=m,{u_matrix:Float32Array.from(z),u_up:se,u_right:ae,u_intensity_multiplier:me});var se,ae,me;r.uploadCommonUniforms(b,A),this.starsVx&&this.starsIdx&&A.draw(r,w.TRIANGLES,Pi.disabled,qi.disabled,this.colorModeAlphaBlendedWriteRGB,Ni.disabled,ne,"atmosphere_stars",this.starsVx,this.starsIdx,this.starsSegments)}}function am(p,r){const d=[...p],m=r.cameraWorldSizeForFog/r.worldSize,b=n.a6.mat4.identity([]);return n.a6.mat4.scale(b,b,[m,m,1]),n.a6.mat4.multiply(d,b,d),n.a6.mat4.multiply(d,r.worldToFogMatrix,d),d}function Sf(p,r,d,m,b){const w=d.material,E=m.context,{baseColorTexture:A,metallicRoughnessTexture:j}=w.pbrMetallicRoughness,{normalTexture:$,occlusionTexture:z,emissionTexture:H}=w;function W(oe,ne,se){if(oe&&(p.push(ne),E.activeTexture.set(E.gl.TEXTURE0+se),oe.gfxTexture)){const{minFilter:ae,magFilter:me,wrapS:Fe,wrapT:Ce}=oe.sampler;oe.gfxTexture.bindExtraParam(ae,me,Fe,Ce)}}W(A,"HAS_TEXTURE_u_baseColorTexture",Fr.BaseColor),W(j,"HAS_TEXTURE_u_metallicRoughnessTexture",Fr.MetallicRoughness),W($,"HAS_TEXTURE_u_normalTexture",Fr.Normal),W(z,"HAS_TEXTURE_u_occlusionTexture",Fr.Occlusion),W(H,"HAS_TEXTURE_u_emissionTexture",Fr.Emission),b&&(b.texture||(b.texture=new n.df(m.context,b.image,[b.image.height,b.image.height,b.image.height],E.gl.RGBA8)),E.activeTexture.set(E.gl.TEXTURE0+Fr.LUT),b.texture&&b.texture.bind(E.gl.LINEAR,E.gl.CLAMP_TO_EDGE),p.push("APPLY_LUT_ON_GPU")),d.texcoordBuffer&&(p.push("HAS_ATTRIBUTE_a_uv_2f"),r.push(d.texcoordBuffer)),d.colorBuffer&&(p.push(d.colorBuffer.itemSize===12?"HAS_ATTRIBUTE_a_color_3f":"HAS_ATTRIBUTE_a_color_4f"),r.push(d.colorBuffer)),d.normalBuffer&&(p.push("HAS_ATTRIBUTE_a_normal_3f"),r.push(d.normalBuffer)),d.pbrBuffer&&(p.push("HAS_ATTRIBUTE_a_pbr"),p.push("HAS_ATTRIBUTE_a_heightBasedEmissiveStrength"),r.push(d.pbrBuffer)),w.alphaMode!=="OPAQUE"&&w.alphaMode!=="MASK"||p.push("UNPREMULT_TEXTURE_IN_SHADER"),w.defined||p.push("DIFFUSE_SHADED"),p.push("USE_STANDARD_DERIVATIVES");const ee=m.shadowRenderer;ee&&(p.push("RENDER_SHADOWS","DEPTH_TEXTURE"),ee.useNormalOffset&&p.push("NORMAL_OFFSET"))}function sl(p,r,d,m,b,w){const E=d.paint.get("model-opacity"),A=r.context,j=new Pi(r.context.gl.LEQUAL,Pi.ReadWrite,r.depthRangeFor3D),$=r.transform,z=p.mesh,H=z.material,W=H.pbrMetallicRoughness,ee=r.style.fog;let oe;oe=r.transform.projection.zAxisUnit==="pixels"?[...p.nodeModelMatrix]:n.a6.mat4.multiply([],m.zScaleMatrix,p.nodeModelMatrix),n.a6.mat4.multiply(oe,m.negCameraPosMatrix,oe);const ne=n.a6.mat4.invert([],oe);n.a6.mat4.transpose(ne,ne);const se=d.paint.get("model-emissive-strength").constantOr(0),ae=xf(new Float32Array(p.worldViewProjection),new Float32Array(oe),new Float32Array(ne),null,r,E,W.baseColorFactor.toRenderColor(null),H.emissiveFactor,W.metallicFactor,W.roughnessFactor,H,se,d),me={defines:[]},Fe=[],Ce=r.shadowRenderer;Ce&&(Ce.useNormalOffset=!1),Sf(me.defines,Fe,z,r,d.lut);let Pe=null;if(ee){const Le=am(p.nodeModelMatrix,r.transform);if(Pe=new Float32Array(Le),$.projection.name!=="globe"){const $e=z.aabb.min,Qe=z.aabb.max,[He,Ue]=ee.getOpacityForBounds(Le,$e[0],$e[1],Qe[0],Qe[1]);me.overrideFog=He>=Ht||Ue>=Ht}}const Me=zs(r,d.paint.get("model-cutoff-fade-range"));Me.shouldRenderCutoff&&me.defines.push("RENDER_CUTOFF");const Ie=r.getOrCreateProgram("model",me);r.uploadCommonUniforms(A,Ie,null,Pe,Me),r.renderPass!=="shadow"&&Ce&&Ce.setupShadowsFromMatrix(p.nodeModelMatrix,Ie),Ie.draw(r,A.gl.TRIANGLES,j,b,w,z.material.doubleSided?Ni.disabled:Ni.backCCW,ae,d.id,z.vertexBuffer,z.indexBuffer,z.segments,d.paint,r.transform.zoom,void 0,Fe)}function Uu(p,r,d,m,b,w,E){let A;A=p.projection.name==="globe"?n.dg(d,p):[...d],n.a6.mat4.multiply(A,A,r.matrix);const j=n.a6.mat4.multiply([],m,A);if(r.meshes)for(const $ of r.meshes){if($.material.alphaMode!=="BLEND"){E.push({mesh:$,depth:0,modelIndex:b,worldViewProjection:j,nodeModelMatrix:A});continue}const z=n.a6.vec3.transformMat4([],$.centroid,j);z[2]>0&&w.push({mesh:$,depth:z[2],modelIndex:b,worldViewProjection:j,nodeModelMatrix:A})}if(r.children)for(const $ of r.children)Uu(p,$,d,m,b,w,E)}function Tf(p,r,d,m){const b=d.shadowRenderer;if(!b)return;const w=b.getShadowPassDepthMode(),E=b.getShadowPassColorMode(),A=b.calculateShadowPassMatrixFromMatrix(r),j=K0(A);d.getOrCreateProgram("modelDepth",{defines:d._shadowMapDebug?[]:["DEPTH_TEXTURE"]}).draw(d,d.context.gl.TRIANGLES,w,qi.disabled,E,Ni.backCCW,j,m.id,p.vertexBuffer,p.indexBuffer,p.segments,m.paint,d.transform.zoom,void 0,void 0)}function q_(p,r,d){const m=r.updateZoomBasedPaintProperties(),b=function(w,E,A){let j,$,z,H=w.terrain?w.terrain.exaggeration():0;if(w.terrain&&H>0){const W=w.terrain,ee=W.findDEMTileFor(A);ee&&ee.dem?j=n.di.create(W,A,ee):H=0}if(H===0&&(E.terrainElevationMin=0,E.terrainElevationMax=0),H===E.validForExaggeration&&(H===0||j&&j._demTile&&j._demTile.tileID===E.validForDEMTile.id&&j._dem._timestamp===E.validForDEMTile.timestamp))return!1;for(const W in E.instancesPerModel){const ee=E.instancesPerModel[W];for(let oe=0;oe<ee.instancedDataArray.length;++oe){const ne=(j?H*j.getElevationAt(0|ee.instancedDataArray.float32[16*oe],0|ee.instancedDataArray.float32[16*oe+1],!0,!0):0)+ee.instancesEvaluatedElevation[oe];ee.instancedDataArray.float32[16*oe+6]=ne,$=$?Math.min(E.terrainElevationMin,ne):ne,z=z?Math.max(E.terrainElevationMax,ne):ne}}return E.terrainElevationMin=$||0,E.terrainElevationMax=z||0,E.validForExaggeration=H,E.validForDEMTile=j&&j._demTile?{id:j._demTile.tileID,timestamp:j._dem._timestamp}:{id:void 0,timestamp:0},!0}(p,r,d);(m||b)&&(r.uploaded=!1,r.upload(p.context))}const _s={shadowUniformsInitialized:!1,useSingleShadowCascade:!1,tileMatrix:new Float64Array(16),shadowTileMatrix:new Float32Array(16),aabb:new n.ca([0,0,0],[n.ab,n.ab,0])};function Hr(p,r){const d=1<<p.canonical.z,m=r.getFreeCameraOptions().position,b=r.elevation,w=p.canonical.x/d,E=(p.canonical.x+1)/d,A=p.canonical.y/d,j=(p.canonical.y+1)/d;let $=r._centerAltitude;if(b){const ee=b.getMinMaxForTile(p);ee&&ee.max>$&&($=ee.max)}const z=n.ap(m.x,w,E)-m.x,H=n.ap(m.y,A,j)-m.y,W=n.bE($,r.center.lat)-m.z;return r._zoomFromMercatorZ(Math.sqrt(z*z+H*H+W*W))}function W_(p,r,d,m,b,w,E){const A=p.context,j=p.renderPass==="shadow",$=p.shadowRenderer,z=j&&$?$.getShadowPassDepthMode():new Pi(A.gl.LEQUAL,Pi.ReadWrite,p.depthRangeFor3D),H=p.isTileAffectedByFog(w);if(d.meshes)for(const W of d.meshes){const ee=["MODEL_POSITION_ON_GPU"],oe=[];let ne,se,ae;m.instancedDataArray.length>20&&ee.push("INSTANCED_ARRAYS");const me=zs(p,r.paint.get("model-cutoff-fade-range"));if(me.shouldRenderCutoff&&ee.push("RENDER_CUTOFF"),j&&$)ne=p.getOrCreateProgram("modelDepth",{defines:ee}),se=K0(E.shadowTileMatrix,E.shadowTileMatrix,Float32Array.from(d.matrix)),ae=$.getShadowPassColorMode();else{Sf(ee,oe,W,p,r.lut),ne=p.getOrCreateProgram("model",{defines:ee,overrideFog:H});const Ce=W.material,Pe=Ce.pbrMetallicRoughness,Me=r.paint.get("model-opacity"),Ie=r.paint.get("model-emissive-strength").constantOr(0);se=xf(w.expandedProjMatrix,Float32Array.from(d.matrix),new Float32Array(16),null,p,Me,Pe.baseColorFactor.toRenderColor(null),Ce.emissiveFactor,Pe.metallicFactor,Pe.roughnessFactor,Ce,Ie,r,b),$&&(E.shadowUniformsInitialized?ne.setShadowUniformValues(A,$.getShadowUniformValues()):($.setupShadows(w.toUnwrapped(),ne,"model-tile",w.overscaledZ),E.shadowUniformsInitialized=!0)),ae=me.shouldRenderCutoff||Me<1||Ce.alphaMode!=="OPAQUE"?rn.alphaBlended:rn.unblended}p.uploadCommonUniforms(A,ne,w.toUnwrapped(),null,me);const Fe=W.material.doubleSided?Ni.disabled:Ni.backCCW;if(m.instancedDataArray.length>20)oe.push(m.instancedDataBuffer),ne.draw(p,A.gl.TRIANGLES,z,qi.disabled,ae,Fe,se,r.id,W.vertexBuffer,W.indexBuffer,W.segments,r.paint,p.transform.zoom,void 0,oe,m.instancedDataArray.length);else{const Ce=j?"u_instance":"u_normal_matrix";for(let Pe=0;Pe<m.instancedDataArray.length;++Pe)se[Ce]=new Float32Array(m.instancedDataArray.arrayBuffer,64*Pe,16),ne.draw(p,A.gl.TRIANGLES,z,qi.disabled,ae,Fe,se,r.id,W.vertexBuffer,W.indexBuffer,W.segments,r.paint,p.transform.zoom,void 0,oe)}}if(d.children)for(const W of d.children)W_(p,r,W,m,b,w,E)}const Gu=[1,-1,1];function no(p,r,d,m){if(!d.modelManager)return!0;const b=d.modelManager;if(!d.shadowRenderer)return!0;const w=d.shadowRenderer,E=r.aabb;let A=!0,j=p.maxHeight;if(j===0){let z=0;for(const H in p.instancesPerModel){const W=b.getModel(H,m);W?z=Math.max(z,Math.max(Math.max(W.aabb.max[0],W.aabb.max[1]),W.aabb.max[2])):A=!1}j=p.maxScale*z*1.41+p.maxVerticalOffset,A&&(p.maxHeight=j)}E.max[2]=j,E.min[2]+=p.terrainElevationMin,E.max[2]+=p.terrainElevationMax,n.a6.vec3.transformMat4(E.min,E.min,r.tileMatrix),n.a6.vec3.transformMat4(E.max,E.max,r.tileMatrix);const $=E.intersects(w.getCurrentCascadeFrustum());return d.currentShadowCascade===0&&(p.isInsideFirstShadowMapFrustum=$===2),$===0}function xn(p,r){const d=p.uniformValues.u_cutoff_params[0],m=p.uniformValues.u_cutoff_params[1],b=p.uniformValues.u_cutoff_params[2],w=p.uniformValues.u_cutoff_params[3];return m===d||w===b?1:n.ap(((r-d)/(m-d)-b)/(w-b),0,1)}function K_(p,r,d,m){if(r.pitch<20)return 1;const b=r.getWorldToCameraMatrix();n.a6.mat4.multiply(b,b,p);const w=n.a6.vec4.fromValues(d.min[0],d.min[1],d.min[2],1);let E=n.a6.vec4.transformMat4(n.a6.vec4.create(),w,b),A=E,j=E;w[1]=d.max[1],E=n.a6.vec4.transformMat4(n.a6.vec4.create(),w,b),A=E[1]<A[1]?E:A,j=E[1]>j[1]?E:j,w[0]=d.max[0],E=n.a6.vec4.transformMat4(n.a6.vec4.create(),w,b),A=E[1]<A[1]?E:A,j=E[1]>j[1]?E:j,w[1]=d.min[1],E=n.a6.vec4.transformMat4(n.a6.vec4.create(),w,b),A=E[1]<A[1]?E:A,j=E[1]>j[1]?E:j;const $=n.ap(m[0],0,1),z=100*r.pixelsPerMeter*n.ap(m[1],0,1),H=n.ap(m[2],0,1),W=n.a6.vec4.lerp(n.a6.vec4.create(),A,j,$),ee=Math.tan(.5*r.fovX),oe=-W[2]*ee;if(z===0)return W[1]<-Math.abs(oe)?H:1;const ne=(-Math.abs(oe)-W[1])/z,se=(me,Fe,Ce)=>(1-Ce)*me+Ce*Fe,ae=n.ap(se(1,H,ne),H,1);return se(1,ae,n.ap((r.pitch-20)/20,0,1))}class Sc{}class Rf{constructor(){this._storage=new Map}getLinesFromTrianglesBuffer(r,d,m){{const H=this._storage.get(d.id);if(H)return H.lastUsedFrameIdx=r,H.buf}const b=m.gl,w=b.getBufferParameter(b.ELEMENT_ARRAY_BUFFER,b.BUFFER_SIZE),E=new ArrayBuffer(w),A=new Int16Array(E);b.getBufferSubData(b.ELEMENT_ARRAY_BUFFER,0,new Int16Array(E));const j=new n.dk;for(let H=0;H<w/2;H+=3){const W=A[H],ee=A[H+1],oe=A[H+2];j.emplaceBack(W,ee),j.emplaceBack(ee,oe),j.emplaceBack(oe,W)}const $=m.bindVertexArrayOES.current,z=new Sc;return z.buf=new ta(m,j),z.lastUsedFrameIdx=r,this._storage.set(d.id,z),m.bindVertexArrayOES.set($),z.buf}update(r){for(const[d,m]of this._storage)r-m.lastUsedFrameIdx>30&&(m.buf.destroy(),this._storage.delete(d))}destroy(){for(const[r,d]of this._storage)d.buf.destroy(),this._storage.delete(r)}}class ld{constructor(r){this.occluderSize=30,this.depthOffset=-1e-4,r.registerParameter(this,["Occlusion"],"occluderSize",{min:1,max:100,step:1}),r.registerParameter(this,["Occlusion"],"depthOffset",{min:-.05,max:0,step:1e-5})}}class sm{registerParameter(){}registerButton(){}registerBinding(){}refreshUI(){}}const Hu={symbol:function(p,r,d,m,b){if(p.renderPass!=="translucent")return;const w=qi.disabled,E=p.colorModeForRenderPass(),A=d.layout.get("text-variable-anchor"),j=d.layout.get("text-size-scale-range"),$=n.ap(p.scaleFactor,j[0],j[1]);A&&function(W,ee,oe,ne,se,ae,me,Fe){const Ce=ee.transform,Pe=se==="map",Me=ae==="map";for(const Ie of W){const Le=ne.getTile(Ie),$e=Le.getBucket(oe);if(!$e||!$e.text||!$e.text.segments.get().length)continue;const Qe=n.bk($e.textSizeData,Ce.zoom,Fe),He=wc(Ie,$e.getProjection(),Ce),Ue=Ce.calculatePixelsToTileUnitsMatrix(Le),gt=fn(He,Le.tileID.canonical,Me,Pe,Ce,$e.getProjection(),Ue),Ft=$e.hasIconTextFit()&&$e.hasIconData();if(Qe){const Dt=Math.pow(2,Ce.zoom-Le.tileID.overscaledZ);X0($e,Pe,Me,me,n.cS,Ce,gt,Ie,Dt,Qe,Ft)}}}(m,p,d,r,d.layout.get("text-rotation-alignment"),d.layout.get("text-pitch-alignment"),b,$);const z=d.paint.get("icon-opacity").constantOr(1)!==0,H=d.paint.get("text-opacity").constantOr(1)!==0;d.layout.get("symbol-sort-key").constantOr(1)!==void 0&&(z||H)?Nu(p,r,d,m,w,E):(z&&Nu(p,r,d,m,w,E,{onlyIcons:!0}),H&&Nu(p,r,d,m,w,E,{onlyText:!0})),r.map.showCollisionBoxes&&(Q0(p,r,d,m,d.paint.get("text-translate"),d.paint.get("text-translate-anchor"),!0),Q0(p,r,d,m,d.paint.get("icon-translate"),d.paint.get("icon-translate-anchor"),!1))},circle:function(p,r,d,m){if(p.renderPass!=="translucent")return;const b=d.paint.get("circle-opacity"),w=d.paint.get("circle-stroke-width"),E=d.paint.get("circle-stroke-opacity"),A=d.layout.get("circle-sort-key").constantOr(1)!==void 0,j=d.paint.get("circle-emissive-strength");if(b.constantOr(1)===0&&(w.constantOr(1)===0||E.constantOr(1)===0))return;const $=p.context,z=$.gl,H=p.transform,W=p.depthModeForSublayer(0,Pi.ReadOnly),ee=qi.disabled,oe=p.colorModeForDrapableLayerRenderPass(j),ne=H.projection.name==="globe",se=[n.am(H.center.lng),n.at(H.center.lat)],ae=[];for(let Fe=0;Fe<m.length;Fe++){const Ce=m[Fe],Pe=r.getTile(Ce),Me=Pe.getBucket(d);if(!Me||Me.projection.name!==H.projection.name)continue;const Ie=Me.programConfigurations.get(d.id),Le=n.cT(d),$e=p.isTileAffectedByFog(Ce);ne&&Le.push("PROJECTION_GLOBE_VIEW"),Le.push("DEPTH_D24"),p.terrain&&H.depthOcclusionForSymbolsAndCircles&&Le.push("DEPTH_OCCLUSION");const Qe=p.getOrCreateProgram("circle",{config:Ie,defines:Le,overrideFog:$e}),He=Me.layoutVertexBuffer,Ue=Me.globeExtVertexBuffer,gt=Me.indexBuffer,Ft=H.projection.createInversionMatrix(H,Ce.canonical),Dt={programConfiguration:Ie,program:Qe,layoutVertexBuffer:He,globeExtVertexBuffer:Ue,indexBuffer:gt,uniformValues:n.cU(p,Ce,Pe,Ft,se,d),tile:Pe};if(A){const Gt=Me.segments.get();for(const Qt of Gt)ae.push({segments:new n.b2([Qt]),sortKey:Qt.sortKey,state:Dt})}else ae.push({segments:Me.segments,sortKey:0,state:Dt})}A&&ae.sort((Fe,Ce)=>Fe.sortKey-Ce.sortKey);const me={useDepthForOcclusion:H.depthOcclusionForSymbolsAndCircles};for(const Fe of ae){const{programConfiguration:Ce,program:Pe,layoutVertexBuffer:Me,globeExtVertexBuffer:Ie,indexBuffer:Le,uniformValues:$e,tile:Qe}=Fe.state,He=Fe.segments;p.terrain&&p.terrain.setupElevationDraw(Qe,Pe,me),p.uploadCommonUniforms($,Pe,Qe.tileID.toUnwrapped()),Pe.draw(p,z.TRIANGLES,W,ee,oe,Ni.disabled,$e,d.id,Me,Le,He,d.paint,H.zoom,Ce,[Ie])}},heatmap:function(p,r,d,m){if(d.paint.get("heatmap-opacity")!==0)if(p.renderPass==="offscreen"){const b=p.context,w=b.gl,E=qi.disabled,A=new rn([w.ONE,w.ONE,w.ONE,w.ONE],n.bA.transparent,[!0,!0,!0,!0]);(function(ee,oe,ne,se){const ae=ee.gl,me=oe.width*se,Fe=oe.height*se;ee.activeTexture.set(ae.TEXTURE1),ee.viewport.set([0,0,me,Fe]);let Ce=ne.heatmapFbo;if(!Ce||Ce&&(Ce.width!==me||Ce.height!==Fe)){Ce&&Ce.destroy();const Pe=ae.createTexture();ae.bindTexture(ae.TEXTURE_2D,Pe),ae.texParameteri(ae.TEXTURE_2D,ae.TEXTURE_WRAP_S,ae.CLAMP_TO_EDGE),ae.texParameteri(ae.TEXTURE_2D,ae.TEXTURE_WRAP_T,ae.CLAMP_TO_EDGE),ae.texParameteri(ae.TEXTURE_2D,ae.TEXTURE_MIN_FILTER,ae.LINEAR),ae.texParameteri(ae.TEXTURE_2D,ae.TEXTURE_MAG_FILTER,ae.LINEAR),Ce=ne.heatmapFbo=ee.createFramebuffer(me,Fe,!0,null),function(Me,Ie,Le,$e,Qe,He){const Ue=Me.gl;Ue.texImage2D(Ue.TEXTURE_2D,0,Me.extRenderToTextureHalfFloat?Ue.RGBA16F:Ue.RGBA,Qe,He,0,Ue.RGBA,Me.extRenderToTextureHalfFloat?Ue.HALF_FLOAT:Ue.UNSIGNED_BYTE,null),$e.colorAttachment.set(Le)}(ee,0,Pe,Ce,me,Fe)}else ae.bindTexture(ae.TEXTURE_2D,Ce.colorAttachment.get()),ee.bindFramebuffer.set(Ce.framebuffer)})(b,p,d,p.transform.projection.name==="globe"?.5:.25),b.clear({color:n.bA.transparent});const j=p.transform,$=j.projection.name==="globe",z=$?["PROJECTION_GLOBE_VIEW"]:[],H=$?Ni.frontCCW:Ni.disabled,W=[n.am(j.center.lng),n.at(j.center.lat)];for(let ee=0;ee<m.length;ee++){const oe=m[ee];if(r.hasRenderableParent(oe))continue;const ne=r.getTile(oe),se=ne.getBucket(d);if(!se||se.projection.name!==j.projection.name)continue;const ae=p.isTileAffectedByFog(oe),me=se.programConfigurations.get(d.id),Fe=p.getOrCreateProgram("heatmap",{config:me,defines:z,overrideFog:ae}),{zoom:Ce}=p.transform;p.terrain&&p.terrain.setupElevationDraw(ne,Fe),p.uploadCommonUniforms(b,Fe,oe.toUnwrapped());const Pe=j.projection.createInversionMatrix(j,oe.canonical);Fe.draw(p,w.TRIANGLES,Pi.disabled,E,A,H,H0(p,oe,ne,Pe,W,Ce,d.paint.get("heatmap-intensity")),d.id,se.layoutVertexBuffer,se.indexBuffer,se.segments,d.paint,p.transform.zoom,me,$?[se.globeExtVertexBuffer]:null)}b.viewport.set([0,0,p.width,p.height])}else p.renderPass==="translucent"&&(p.context.setColorMode(p.colorModeForRenderPass()),function(b,w){const E=b.context,A=E.gl,j=w.heatmapFbo;if(!j)return;E.activeTexture.set(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,j.colorAttachment.get()),E.activeTexture.set(A.TEXTURE1);let $=w.colorRampTexture;$||($=w.colorRampTexture=new n.T(E,w.colorRamp,A.RGBA8)),$.bind(A.LINEAR,A.CLAMP_TO_EDGE),b.getOrCreateProgram("heatmapTexture").draw(b,A.TRIANGLES,Pi.disabled,qi.disabled,b.colorModeForRenderPass(),Ni.disabled,((z,H,W,ee)=>({u_image:0,u_color_ramp:1,u_opacity:H.paint.get("heatmap-opacity")}))(0,w),w.id,b.viewportBuffer,b.quadTriangleIndexBuffer,b.viewportSegments,w.paint,b.transform.zoom)}(p,d))},line:function(p,r,d,m){if(p.renderPass!=="translucent")return;const b=d.paint.get("line-opacity"),w=d.paint.get("line-width");if(b.constantOr(1)===0||w.constantOr(1)===0)return;const E=d.paint.get("line-emissive-strength"),A=d.paint.get("line-occlusion-opacity"),j=d.layout.get("line-elevation-reference")==="sea",$=p.context,z=$.gl,H=!d.isDraped();if(H&&p.transform.projection.name==="globe")return;const W=d.layout.get("line-cross-slope"),ee=W!==void 0,oe=W<1,ne=H?new Pi(p.depthOcclusion?z.GREATER:z.LEQUAL,Pi.ReadOnly,p.depthRangeFor3D):p.depthModeForSublayer(0,Pi.ReadOnly),se=p.colorModeForDrapableLayerRenderPass(E),ae=p.terrain&&p.terrain.renderingToTexture,me=ae?1:n.q.devicePixelRatio,Fe=d.paint.get("line-dasharray"),Ce=Fe.constantOr(1),Pe=d.layout.get("line-cap"),Me=Fe.constantOr(null),Ie=Pe.constantOr(null),Le=d.paint.get("line-pattern"),$e=Le.constantOr(1),Qe=Le.constantOr(null),He=d.paint.get("line-opacity").constantOr(1);let Ue=!$e&&He!==1||p.depthOcclusion&&A>0&&A<1;const gt=d.paint.get("line-gradient"),Ft=$e?"linePattern":"line",Dt=n.cV(d);let Gt;if(ae&&p.terrain&&p.terrain.clipOrMaskOverlapStencilType()&&(Ue=!1),A!==0&&p.depthOcclusion){const st=d.paint._values["line-opacity"];st&&st.value&&st.value.kind==="constant"?Gt=st.value:n.w(`Occlusion opacity for layer ${d.id} is supported only when line-opacity isn't data-driven.`)}if(H&&(p.forceTerrainMode=!0),!H&&A!==0&&p.terrain&&!ae)return void n.w(`Occlusion opacity for layer ${d.id} is supported on terrain only if the layer has line-z-offset enabled.`);const Qt=Ue&&H?p.stencilModeFor3D():qi.disabled;H&&(Dt.push("ELEVATED"),ee&&Dt.push(oe?"CROSS_SLOPE_HORIZONTAL":"CROSS_SLOPE_VERTICAL"),j&&Dt.push("ELEVATION_REFERENCE_SEA"));for(const st of m){const Ot=r.getTile(st);if($e&&!Ot.patternsLoaded())continue;const _t=Ot.getBucket(d);if(!_t)continue;p.prepareDrawTile();const Lt=_t.programConfigurations.get(d.id),jt=p.isTileAffectedByFog(st),At=p.getOrCreateProgram(Ft,{config:Lt,defines:Dt,overrideFog:jt,overrideRtt:!H&&void 0});if(Qe&&Ot.imageAtlas){const ri=Ot.imageAtlas.patternPositions[Qe.toString()];ri&&Lt.setConstantPatternPositions(ri)}if(!$e&&Me&&Ie&&Ot.lineAtlas){const ri=Ot.lineAtlas.getDash(Me,Ie);ri&&Lt.setConstantPatternPositions(ri)}let[ei,bi]=d.paint.get("line-trim-offset");(Ie==="round"||Ie==="square")&&ei!==bi&&(ei===0&&(ei-=1),bi===1&&(bi+=1));const Fi=ae?st.projMatrix:null,fi=$e?n.cW(p,Ot,d,Fi,me,[ei,bi]):n.cX(p,Ot,d,Fi,_t.lineClipsArray.length,me,[ei,bi]);if(gt){const ri=_t.gradients[d.id];let ki=ri.texture;if(d.gradientVersion!==ri.version){let Ki=256;if(d.stepInterpolant){const cn=r.getSource().maxzoom,qn=st.canonical.z===cn?Math.ceil(1<<p.transform.maxZoom-st.canonical.z):1;Ki=n.ap(n.cY(_t.maxLineLength/n.ab*1024*qn),256,$.maxTextureSize)}ri.gradient=n.cZ({expression:d.gradientExpression(),evaluationKey:"lineProgress",resolution:Ki,image:ri.gradient||void 0,clips:_t.lineClipsArray}),ri.texture?ri.texture.update(ri.gradient):ri.texture=new n.T($,ri.gradient,z.RGBA8),ri.version=d.gradientVersion,ki=ri.texture}$.activeTexture.set(z.TEXTURE1),ki.bind(d.stepInterpolant?z.NEAREST:z.LINEAR,z.CLAMP_TO_EDGE)}Ce&&($.activeTexture.set(z.TEXTURE0),Ot.lineAtlasTexture&&Ot.lineAtlasTexture.bind(z.LINEAR,z.REPEAT),Lt.updatePaintBuffers()),$e&&($.activeTexture.set(z.TEXTURE0),Ot.imageAtlasTexture&&Ot.imageAtlasTexture.bind(z.LINEAR,z.CLAMP_TO_EDGE),Lt.updatePaintBuffers()),H&&!j&&p.terrain.setupElevationDraw(Ot,At),p.uploadCommonUniforms($,At,st.toUnwrapped());const Si=ri=>{Gt!=null&&(Gt.value=He*A),At.draw(p,z.TRIANGLES,ne,ri,se,Ni.disabled,fi,d.id,_t.layoutVertexBuffer,_t.indexBuffer,_t.segments,d.paint,p.transform.zoom,Lt,[_t.layoutVertexBuffer2,_t.patternVertexBuffer,_t.zOffsetVertexBuffer]),Gt!=null&&(Gt.value=He)};if(Ue&&!H){const ri=p.stencilModeForClipping(st).ref;ri===0&&ae&&$.clear({stencil:0});const ki={func:z.EQUAL,mask:255};fi.u_alpha_discard_threshold=.8,Si(new qi(ki,ri,255,z.KEEP,z.KEEP,z.INVERT)),fi.u_alpha_discard_threshold=0,Si(new qi(ki,ri,255,z.KEEP,z.KEEP,z.KEEP))}else Ue&&H&&(fi.u_alpha_discard_threshold=.001),Si(H?Qt:p.stencilModeForClipping(st))}H&&(p.forceTerrainMode=!1),Ue&&(p.resetStencilClippingMasks(),ae&&$.clear({stencil:0})),A===0||p.depthOcclusion||ae||p.layersWithOcclusionOpacity.push(p.currentLayer)},fill:function(p,r,d,m){const b=d.paint.get("fill-color"),w=d.paint.get("fill-opacity"),E=d.is3D(),A=new Pi(p.context.gl.LEQUAL,Pi.ReadWrite,p.depthRangeFor3D);if(w.constantOr(1)===0)return;const j=d.paint.get("fill-emissive-strength"),$=p.colorModeForDrapableLayerRenderPass(j),z=d.paint.get("fill-pattern"),H=p.opaquePassEnabledForLayer()&&!z.constantOr(1)&&b.constantOr(n.bA.transparent).a===1&&w.constantOr(0)===1?"opaque":"translucent";if(p.renderPass===H){const W=E?A:p.depthModeForSublayer(1,p.renderPass==="opaque"?Pi.ReadWrite:Pi.ReadOnly);wf(p,r,d,m,W,$,!1)}if(!E&&p.renderPass==="translucent"&&d.paint.get("fill-antialias")){const W=E?A:p.depthModeForSublayer(d.getPaintProperty("fill-outline-color")?2:0,Pi.ReadOnly);wf(p,r,d,m,W,$,!0)}},"fill-extrusion":function(p,r,d,m){const b=d.paint.get("fill-extrusion-opacity"),w=p.context,E=w.gl,A=p.terrain,j=A&&A.renderingToTexture;if(b===0)return;const $=p.conflationActive&&p.style.isLayerClipped(d,r.getSource()),z=p.style.order.indexOf(d.fqid);if($&&function(H,W,ee,oe,ne){for(const se of oe){const ae=W.getTile(se).getBucket(ee);ae&&(ae.updateReplacement(se,H.replacementSource,ne),ae.uploadCentroid(H.context))}}(p,r,d,m,z),A||$)for(const H of m){const W=r.getTile(H).getBucket(d);W&&V_(p.context,r,H,W,d,A,$)}if(p.renderPass==="shadow"&&p.shadowRenderer){const H=p.shadowRenderer;if(A&&b<.65&&d._transitionablePaint._values["fill-extrusion-opacity"].value.expression instanceof n.a4)return;const W=H.getShadowPassDepthMode(),ee=H.getShadowPassColorMode();Cr(p,r,d,m,W,qi.disabled,ee,$)}else if(p.renderPass==="translucent"){const H=!d.paint.get("fill-extrusion-pattern").constantOr(1),W=d.paint.get("fill-extrusion-color").constantOr(n.bA.white);if(!j&&W.a!==0){const ee=new Pi(p.context.gl.LEQUAL,Pi.ReadWrite,p.depthRangeFor3D);b===1&&H?Cr(p,r,d,m,ee,qi.disabled,rn.unblended,$):(Cr(p,r,d,m,ee,qi.disabled,rn.disabled,$),Cr(p,r,d,m,ee,p.stencilModeFor3D(),p.colorModeForRenderPass(),$),p.resetStencilClippingMasks())}if(p.style.enable3dLights()&&H&&(!A&&p.transform.projection.name!=="globe"||j)){const ee=d.paint.get("fill-extrusion-opacity"),oe=d.paint.get("fill-extrusion-ambient-occlusion-intensity"),ne=d.paint.get("fill-extrusion-ambient-occlusion-ground-radius"),se=d.paint.get("fill-extrusion-flood-light-intensity"),ae=d.paint.get("fill-extrusion-flood-light-color").toRenderColor(d.lut).toArray01().slice(0,3),me=oe>0&&ne>0,Fe=se>0,Ce=(Me,Ie,Le)=>(1-Le)*Me+Le*Ie,Pe=Me=>{const Ie=p.depthModeForSublayer(1,Pi.ReadOnly,E.LEQUAL,!0),Le=d.paint.get(Me?"fill-extrusion-ambient-occlusion-ground-attenuation":"fill-extrusion-flood-light-ground-attenuation"),$e=Ce(.1,3,Le),Qe=p._showOverdrawInspector;if(!Qe){const He=new qi({func:E.ALWAYS,mask:255},255,255,E.KEEP,E.KEEP,E.REPLACE),Ue=new rn([E.ONE,E.ONE,E.ONE,E.ONE],n.bA.transparent,[!1,!1,!1,!0],E.MIN);ba(p,r,d,m,Ie,He,Ue,Ni.disabled,Me,"sdf",ee,oe,ne,se,ae,$e,$,!1)}{const He=Qe?qi.disabled:new qi({func:E.EQUAL,mask:255},255,255,E.KEEP,E.DECR,E.DECR),Ue=Qe?p.colorModeForRenderPass():new rn([E.ONE_MINUS_DST_ALPHA,E.DST_ALPHA,E.ONE,E.ONE],n.bA.transparent,[!0,!0,!0,!0]);ba(p,r,d,m,Ie,He,Ue,Ni.disabled,Me,"color",ee,oe,ne,se,ae,$e,$,!1)}};if(j){const Me=(Ie,Le,$e)=>{const Qe=p.depthModeForSublayer(1,Pi.ReadOnly,E.LEQUAL,!1),He=d.paint.get(Ie?"fill-extrusion-ambient-occlusion-ground-attenuation":"fill-extrusion-flood-light-ground-attenuation"),Ue=Ce(.1,3,He);{const gt=new rn([E.ONE,E.ONE,E.ONE,E.ONE],n.bA.transparent,[!1,!1,!1,!0]);ba(p,r,d,m,Qe,qi.disabled,gt,Ni.disabled,Ie,"clear",ee,oe,ne,se,ae,Ue,$,Le)}{const gt=new qi({func:E.ALWAYS,mask:255},255,255,E.KEEP,E.KEEP,E.REPLACE),Ft=new rn([E.ONE,E.ONE,E.ONE,E.ONE],n.bA.transparent,[!1,!1,!1,!0],E.MIN);ba(p,r,d,m,Qe,gt,Ft,Ni.disabled,Ie,"sdf",ee,oe,ne,se,ae,Ue,$,Le)}{const gt=Ie?E.ZERO:E.ONE_MINUS_DST_ALPHA,Ft=new qi({func:E.EQUAL,mask:255},255,255,E.KEEP,E.DECR,E.DECR),Dt=new rn([gt,E.DST_ALPHA,E.ONE_MINUS_DST_ALPHA,E.ZERO],n.bA.transparent,[!0,!0,!0,!0]);ba(p,r,d,m,Qe,Ft,Dt,Ni.disabled,Ie,"color",ee,oe,ne,se,ae,Ue,$,Le)}{const gt=new rn([E.ONE,E.ONE,E.ONE,Ie?E.ZERO:E.ONE],n.bA.transparent,[!1,!1,!1,!0],Ie?E.FUNC_ADD:E.MAX);ba(p,r,d,m,Qe,qi.disabled,gt,Ni.disabled,Ie,"clear",ee,oe,ne,se,ae,Ue,$,Le,$e)}};if(me||Fe){let Ie;if(p.prepareDrawTile(),A){const Le=A.drapeBufferSize[0],$e=A.drapeBufferSize[1];Ie=A.framebufferCopyTexture,Ie&&(!Ie||Ie.size[0]===Le&&Ie.size[1]===$e)||(Ie&&Ie.destroy(),Ie=A.framebufferCopyTexture=new n.T(w,new n.r({width:Le,height:$e}),E.RGBA8)),Ie.bind(E.LINEAR,E.CLAMP_TO_EDGE),E.copyTexSubImage2D(E.TEXTURE_2D,0,0,0,0,0,Le,$e)}me&&Me(!0,!1,Ie),Fe&&Me(!1,!0,Ie)}}else me&&Pe(!0),Fe&&Pe(!1),(me||Fe)&&p.resetStencilClippingMasks()}}},hillshade:function(p,r,d,m){if(p.renderPass!=="offscreen"&&p.renderPass!=="translucent"||p.style.disableElevatedTerrain)return;const b=p.context,w=p.terrain&&p.terrain.renderingToTexture,[E,A]=p.renderPass!=="translucent"||w?[{},m]:p.stencilConfigForOverlap(m);for(const j of A){const $=r.getTile(j);if($.needsHillshadePrepare&&p.renderPass==="offscreen")Yl(p,$,d);else if(p.renderPass==="translucent"){const z=p.depthModeForSublayer(0,Pi.ReadOnly),H=d.paint.get("hillshade-emissive-strength"),W=p.colorModeForDrapableLayerRenderPass(H),ee=w&&p.terrain?p.terrain.stencilModeForRTTOverlap(j):E[j.overscaledZ];lf(p,j,$,d,z,ee,W)}}b.viewport.set([0,0,p.width,p.height]),p.resetStencilClippingMasks()},raster:function(p,r,d,m,b,w){if(p.renderPass!=="translucent"||d.paint.get("raster-opacity")===0)return;const E=p.transform.projection.name==="globe",A=d.paint.get("raster-elevation")!==0,j=A&&E;if(p.renderElevatedRasterBackface&&!j)return;const $=p.context,z=$.gl,H=r.getSource(),W=function(Me,Ie,Le,$e){const Qe=Ie.paint.get("raster-color"),He=Me.type==="raster-array",Ue=[],gt=Ie.paint.get("raster-resampling"),Ft=Ie.paint.get("raster-color-mix");let Dt=Ie.paint.get("raster-color-range");const Gt=[Ft[0],Ft[1],Ft[2],0],Qt=Ft[3];let st=gt==="nearest"?$e.NEAREST:$e.LINEAR;if(He&&(Ue.push("RASTER_ARRAY"),Qe||Ue.push("RASTER_COLOR"),gt==="linear"&&Ue.push("RASTER_ARRAY_LINEAR"),st=$e.NEAREST,!Dt&&Me.rasterLayers)){const Ot=Me.rasterLayers.find(({id:_t})=>_t===Ie.sourceLayer);Ot&&Ot.fields&&Ot.fields.range&&(Dt=Ot.fields.range)}if(Dt=Dt||[0,1],Qe){Ue.push("RASTER_COLOR"),Le.activeTexture.set($e.TEXTURE2),Ie.updateColorRamp(Dt);let Ot=Ie.colorRampTexture;Ot||(Ot=Ie.colorRampTexture=new n.T(Le,Ie.colorRamp,$e.RGBA8)),Ot.bind($e.LINEAR,$e.CLAMP_TO_EDGE)}return{mix:Gt,range:Dt,offset:Qt,defines:Ue,resampling:st}}(H,d,$,z);if(H instanceof n.aD&&!m.length&&!E)return;const ee=d.paint.get("raster-emissive-strength"),oe=p.colorModeForDrapableLayerRenderPass(ee),ne=p.terrain&&p.terrain.renderingToTexture,se=!p.options.moving,ae=d.paint.get("raster-resampling")==="nearest"?z.NEAREST:z.LINEAR;if(H instanceof n.aD&&!m.length&&(H.onNorthPole||H.onSouthPole)){const Me=A?p.stencilModeFor3D():qi.disabled;return void _o(!!H.onNorthPole,null,p,r,d,ee,W,Ni.disabled,Me)}if(!m.length)return;const[me,Fe]=H instanceof n.aD||ne?[{},m]:p.stencilConfigForOverlap(m),Ce=Fe[Fe.length-1].overscaledZ;j&&W.defines.push("PROJECTION_GLOBE_VIEW"),A&&W.defines.push("RENDER_CUTOFF");const Pe=(Me,Ie,Le)=>{for(const $e of Me){const Qe=$e.toUnwrapped(),He=r.getTile($e);if(ne&&(!He||!He.hasData()))continue;$.activeTexture.set(z.TEXTURE0);const Ue=tm(He,H,d,W);if(!Ue||!Ue.texture)continue;const{texture:gt,mix:Ft,offset:Dt,tileSize:Gt,buffer:Qt}=Ue;let st,Ot;ne?(st=Pi.disabled,Ot=$e.projMatrix):A?(st=new Pi(z.LEQUAL,Pi.ReadWrite,p.depthRangeFor3D),Ot=E?Float32Array.from(p.transform.expandedFarZProjMatrix):p.transform.calculateProjMatrix(Qe,se)):(st=p.depthModeForSublayer($e.overscaledZ-Ce,d.paint.get("raster-opacity")===1?Pi.ReadWrite:Pi.ReadOnly,z.LESS),Ot=p.transform.calculateProjMatrix(Qe,se));const _t=p.terrain&&ne?p.terrain.stencilModeForRTTOverlap($e):me[$e.overscaledZ],Lt=w?0:d.paint.get("raster-fade-duration");He.registerFadeDuration(Lt);const jt=r.findLoadedParent($e,0),At=mf(He,jt,r,p.transform,Lt);let ei,bi;p.terrain&&p.terrain.prepareDrawTile(),$.activeTexture.set(z.TEXTURE0),gt.bind(ae,z.CLAMP_TO_EDGE),$.activeTexture.set(z.TEXTURE1),jt?(jt.texture&&jt.texture.bind(ae,z.CLAMP_TO_EDGE),ei=Math.pow(2,jt.tileID.overscaledZ-He.tileID.overscaledZ),bi=[He.tileID.canonical.x*ei%1,He.tileID.canonical.y*ei%1]):gt.bind(ae,z.CLAMP_TO_EDGE),gt.useMipmap&&$.extTextureFilterAnisotropic&&p.transform.pitch>20&&z.texParameterf(z.TEXTURE_2D,$.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,$.extTextureFilterAnisotropicMax);const Fi=p.transform;let fi;const Si=A?Ff(Fi):[0,0,0,0];let ri,ki,Ki,cn,qn,_n=0;if(j&&H instanceof n.aD&&H.coordinates.length>3)ri=Float32Array.from(n.b6(n.cC(new n.bQ(0,0,0)))),ki=Float32Array.from(Fi.globeMatrix),Ki=Float32Array.from(n.cy(Fi)),cn=[n.am(Fi.center.lng),n.at(Fi.center.lat)],fi=H.elevatedGlobePerspectiveTransform,qn=H.elevatedGlobeGridMatrix||new Float32Array(9);else if(j){const nn=n.cz($e.canonical);_n=n.cA(nn.getCenter().lat),ri=Float32Array.from(n.b6(n.cC($e.canonical))),ki=Float32Array.from(Fi.globeMatrix),Ki=Float32Array.from(n.cy(Fi)),cn=[n.am(Fi.center.lng),n.at(Fi.center.lat)],fi=[0,0],qn=Float32Array.from(n.cB($e.canonical,nn,_n,Fi.worldSize/Fi._pixelsPerMercatorPixel))}else fi=H instanceof n.aD?H.perspectiveTransform:[0,0],ri=new Float32Array(16),ki=new Float32Array(9),Ki=new Float32Array(16),cn=[0,0],qn=new Float32Array(9);const Jn=yf(Ot,ri,ki,Ki,qn,bi||[0,0],n.a9(p.transform.zoom),cn,Si,ei||1,At,d,fi,A?d.paint.get("raster-elevation"):0,2,Ft,Dt,W.range,Gt,Qt,ee),Fn=p.isTileAffectedByFog($e),Wn=p.getOrCreateProgram("raster",{defines:W.defines,overrideFog:Fn});if(p.uploadCommonUniforms($,Wn,Qe),H instanceof n.aD){const nn=H.elevatedGlobeVertexBuffer,Gn=H.elevatedGlobeIndexBuffer;if(ne||!E)H.boundsBuffer&&H.boundsSegments&&Wn.draw(p,z.TRIANGLES,st,qi.disabled,oe,Ni.disabled,Jn,d.id,H.boundsBuffer,p.quadTriangleIndexBuffer,H.boundsSegments);else if(nn&&Gn){const zn=Fi.zoom<=n.c3?H.elevatedGlobeSegments:H.getSegmentsForLongitude(Fi.center.lng);zn&&Wn.draw(p,z.TRIANGLES,st,qi.disabled,oe,Ie,Jn,d.id,nn,Gn,zn)}}else if(j){st=new Pi(z.LEQUAL,Pi.ReadOnly,p.depthRangeFor3D);const nn=p.globeSharedBuffers;if(nn){const[Gn,zn,Rn]=nn.getGridBuffers(_n,!1);Wn.draw(p,z.TRIANGLES,st,Le||_t,p.colorModeForRenderPass(),Ie,Jn,d.id,Gn,zn,Rn)}}else{const{tileBoundsBuffer:nn,tileBoundsIndexBuffer:Gn,tileBoundsSegments:zn}=p.getTileBoundsBuffers(He);Wn.draw(p,z.TRIANGLES,st,_t,oe,Ni.disabled,Jn,d.id,nn,Gn,zn)}}if(!(H instanceof n.aD)&&j)for(const $e of Me){const Qe=$e.canonical.y===(1<<$e.canonical.z)-1;$e.canonical.y===0&&_o(!0,$e,p,r,d,ee,W,Ie,Le||qi.disabled),Qe&&_o(!1,$e,p,r,d,ee,W,Ie===Ni.frontCW?Ni.backCW:Ni.frontCW,Le||qi.disabled)}};j?Pe(Fe,p.renderElevatedRasterBackface?Ni.backCW:Ni.frontCW,p.stencilModeFor3D()):Pe(Fe,Ni.disabled,void 0),p.resetStencilClippingMasks()},"raster-particle":function(p,r,d,m,b,w){p.renderPass==="offscreen"&&function(E,A,j,$){if(!$.length)return;const z=E.context,H=z.gl,W=A.getSource();if(!(W instanceof fs))return;const ee=Math.ceil(Math.sqrt(j.paint.get("raster-particle-count")));let oe=j.particlePositionRGBAImage;if(!oe||oe.width!==ee){const Fe=function(Ce){const Pe=Ce*Ce,Me=new Uint8Array(4*Pe),Ie=function($e){return $e|=0,$e=Math.imul(2747636419^$e,2654435769),$e=Math.imul($e^$e>>>16,2654435769),(($e=Math.imul($e^$e>>>16,2654435769))>>>0)/4294967296},Le=1/1.1;for(let $e=0;$e<Pe;$e++){const Qe=Le*(Ie(2*$e+0)+nl),He=Le*(Ie(2*$e+1)+nl),Ue=255*Qe%1,gt=255*He%1,Ft=Ue,Dt=He-gt/255,Gt=gt;Me[4*$e+0]=255*(Qe-Ue/255),Me[4*$e+1]=255*Ft,Me[4*$e+2]=255*Dt,Me[4*$e+3]=255*Gt}return Me}(ee);oe=j.particlePositionRGBAImage=new n.r({width:ee,height:ee},Fe)}let ne=j.particleFramebuffer;ne?ne.width!==ee&&(ne.destroy(),ne=j.particleFramebuffer=z.createFramebuffer(ee,ee,!0,null)):ne=j.particleFramebuffer=z.createFramebuffer(ee,ee,!0,null);const se=[];for(const Fe of $){const Ce=A.getTile(Fe);if(!(Ce instanceof Hh))continue;const Pe=G_(Ce,W,j);if(!Pe)continue;const Me=[Ce.tileSize,Ce.tileSize];let Ie=j.tileFramebuffer;Ie||(Ie=j.tileFramebuffer=z.createFramebuffer(Me[0],Me[1],!0,null));let Le=Ce.rasterParticleState;Le||(Le=Ce.rasterParticleState=new U_(z,Fe,Me,oe));const $e=Le.update(j.lastInvalidatedAt);Le.particleTextureDimension!==ee&&Le.updateParticleTexture(Fe,oe);const Qe=Le.targetColorTexture;Le.targetColorTexture=Le.backgroundColorTexture,Le.backgroundColorTexture=Qe;const He=Le.particleTexture0;Le.particleTexture0=Le.particleTexture1,Le.particleTexture1=He,se.push([Fe,Pe,Le,$e])}if(se.length===0)return;const ae=n.q.now(),me=j.previousDrawTimestamp?.001*(ae-j.previousDrawTimestamp):.0167;if(j.previousDrawTimestamp=ae,j.hasColorMap()){z.activeTexture.set(H.TEXTURE0+2);let Fe=j.colorRampTexture;Fe||(Fe=j.colorRampTexture=new n.T(z,j.colorRamp,H.RGBA8)),Fe.bind(H.LINEAR,H.CLAMP_TO_EDGE)}z.bindFramebuffer.set(j.tileFramebuffer.framebuffer),function(Fe,Ce,Pe){const Me=Fe.context,Ie=Me.gl,Le=Ce.tileFramebuffer;Me.activeTexture.set(Ie.TEXTURE0);const $e={u_texture:0,u_opacity:1.05*(He=Ce.paint.get("raster-particle-fade-opacity-factor"))/(He+.05)},Qe=Fe.getOrCreateProgram("rasterParticleTexture",{defines:[],overrideFog:!1});var He;for(const Ue of Pe){const[,,gt,Ft]=Ue;Le.colorAttachment.set(gt.targetColorTexture.texture),Me.viewport.set([0,0,Le.width,Le.height]),Me.clear({color:n.bA.transparent}),Ft&&(gt.backgroundColorTexture.bind(Ie.NEAREST,Ie.CLAMP_TO_EDGE),Qe.draw(Fe,Ie.TRIANGLES,Pi.disabled,qi.disabled,rn.alphaBlended,Ni.disabled,$e,Ce.id,Fe.viewportBuffer,Fe.quadTriangleIndexBuffer,Fe.viewportSegments))}}(E,j,se),function(Fe,Ce,Pe,Me){const Ie=Fe.context,Le=Ie.gl,$e=Pe.tileFramebuffer,Qe=Fe.transform.projection.name==="globe",He=Pe.paint.get("raster-particle-max-speed");for(const Ue of Me){const[gt,Ft,Dt]=Ue;Ie.activeTexture.set(Le.TEXTURE0+0),Ft.texture.bind(Le.LINEAR,Le.CLAMP_TO_EDGE),$e.colorAttachment.set(Dt.targetColorTexture.texture);const Gt=Fe.getOrCreateProgram("rasterParticleDraw",{defines:Ft.defines,overrideFog:!1});Ie.activeTexture.set(Le.TEXTURE0+1);const Qt=Ft.scalarData?[]:[0,1,2,3].map(_t=>n.c$[_t](gt));Qt.push(gt);const st=gt.canonical.x,Ot=gt.canonical.y;for(const _t of Qt){const Lt=Ce.getTile(Qe?_t.wrapped():_t);if(!Lt)continue;const jt=Lt.rasterParticleState;if(!jt)continue;const At=_t.canonical.x+(1<<_t.canonical.z)*(_t.wrap-gt.wrap),ei=_t.canonical.y;jt.particleTexture0.bind(Le.NEAREST,Le.CLAMP_TO_EDGE);const bi=vf(1,jt.particleTexture0.size[0],[At-st,ei-Ot],0,Ft.texture.size,2,He,Ft.textureOffset,Ft.scale,Ft.offset);Gt.draw(Fe,Le.POINTS,Pi.disabled,qi.disabled,rn.alphaBlended,Ni.disabled,bi,Pe.id,jt.particleIndexBuffer,void 0,jt.particleSegment)}}}(E,A,j,se),z.bindFramebuffer.set(j.particleFramebuffer.framebuffer),function(Fe,Ce,Pe,Me){const Ie=Fe.context,Le=Ie.gl,$e=Ce.paint.get("raster-particle-max-speed"),Qe=Me*Ce.paint.get("raster-particle-speed-factor")*.15,He=function(gt){return Math.pow(gt,6)}(.01+1*Ce.paint.get("raster-particle-reset-rate-factor")),Ue=Ce.particleFramebuffer;Ie.viewport.set([0,0,Ue.width,Ue.height]);for(const gt of Pe){const[,Ft,Dt]=gt;Ie.activeTexture.set(Le.TEXTURE0+0),Ft.texture.bind(Le.LINEAR,Le.CLAMP_TO_EDGE),Ie.activeTexture.set(Le.TEXTURE0+1);const Gt=Dt.particleTexture0;Gt.bind(Le.NEAREST,Le.CLAMP_TO_EDGE);const Qt=q0(1,Gt.size[0],0,Ft.texture.size,$e,Qe,He,Ft.textureOffset,Ft.scale,Ft.offset);Ue.colorAttachment.set(Dt.particleTexture1.texture),Ie.clear({color:n.bA.transparent}),Fe.getOrCreateProgram("rasterParticleUpdate",{defines:Ft.defines}).draw(Fe,Le.TRIANGLES,Pi.disabled,qi.disabled,rn.unblended,Ni.disabled,Qt,Ce.id,Fe.viewportBuffer,Fe.quadTriangleIndexBuffer,Fe.viewportSegments)}}(E,j,se,me)}(p,r,d,m),p.renderPass==="translucent"&&(function(E,A,j,$,z){const H=E.context,W=H.gl,ee=A.getSource().tileSize,oe=5*(1-n.a7(n.bV,n.bV+1,E.transform.zoom))*ee+j.paint.get("raster-particle-elevation"),ne=!E.options.moving,se=E.transform.projection.name==="globe";if(!$.length)return;const[ae,me]=E.stencilConfigForOverlap($),Fe=[];se&&Fe.push("PROJECTION_GLOBE_VIEW");const Ce=E.stencilModeFor3D();for(const Pe of me){const Me=Pe.toUnwrapped(),Ie=A.getTile(Pe);if(!Ie.rasterParticleState)continue;const Le=Ie.rasterParticleState,$e=100;Ie.registerFadeDuration($e);const Qe=A.findLoadedParent(Pe,0),He=mf(Ie,Qe,A,E.transform,$e);let Ue,gt;E.terrain&&E.terrain.prepareDrawTile(),H.activeTexture.set(W.TEXTURE0),Le.targetColorTexture.bind(W.LINEAR,W.CLAMP_TO_EDGE),H.activeTexture.set(W.TEXTURE1),Qe&&Qe.rasterParticleState?(Qe.rasterParticleState.targetColorTexture.bind(W.LINEAR,W.CLAMP_TO_EDGE),Ue=Math.pow(2,Qe.tileID.overscaledZ-Ie.tileID.overscaledZ),gt=[Ie.tileID.canonical.x*Ue%1,Ie.tileID.canonical.y*Ue%1]):Le.targetColorTexture.bind(W.LINEAR,W.CLAMP_TO_EDGE);const Ft=se?Float32Array.from(E.transform.expandedFarZProjMatrix):E.transform.calculateProjMatrix(Me,ne),Dt=E.transform,Gt=bv(Dt),Qt=n.cz(Pe.canonical),st=n.cA(Qt.getCenter().lat);let Ot,_t,Lt,jt,At;se?(Ot=Float32Array.from(n.b6(n.cC(Pe.canonical))),_t=Float32Array.from(Dt.globeMatrix),Lt=Float32Array.from(n.cy(Dt)),jt=[n.am(Dt.center.lng),n.at(Dt.center.lat)],At=Float32Array.from(n.cB(Pe.canonical,Qt,st,Dt.worldSize/Dt._pixelsPerMercatorPixel))):(Ot=new Float32Array(16),_t=new Float32Array(9),Lt=new Float32Array(16),jt=[0,0],At=new Float32Array(9));const ei=bf(Ft,Ot,_t,Lt,At,gt||[0,0],n.a9(E.transform.zoom),jt,Gt,Ue||1,He,oe),bi=E.isTileAffectedByFog(Pe),Fi=E.getOrCreateProgram("rasterParticle",{defines:Fe,overrideFog:bi});if(E.uploadCommonUniforms(H,Fi,Me),se){const fi=new Pi(W.LEQUAL,Pi.ReadOnly,E.depthRangeFor3D),Si=0,ri=E.globeSharedBuffers;if(ri){const[ki,Ki,cn]=ri.getGridBuffers(st,Si!==0);Fi.draw(E,W.TRIANGLES,fi,Ce,rn.alphaBlended,E.renderElevatedRasterBackface?Ni.frontCCW:Ni.backCCW,ei,j.id,ki,Ki,cn)}}else{const fi=E.depthModeForSublayer(0,Pi.ReadOnly),Si=ae[Pe.overscaledZ],{tileBoundsBuffer:ri,tileBoundsIndexBuffer:ki,tileBoundsSegments:Ki}=E.getTileBoundsBuffers(Ie);Fi.draw(E,W.TRIANGLES,fi,Si,rn.alphaBlended,Ni.disabled,ei,j.id,ri,ki,Ki)}}E.resetStencilClippingMasks()}(p,r,d,m),p.style.map.triggerRepaint())},background:function(p,r,d,m){const b=d.paint.get("background-color"),w=d.paint.get("background-opacity"),E=d.paint.get("background-emissive-strength"),A=d.paint.get("background-pitch-alignment")==="viewport";if(w===0)return;const j=p.context,$=j.gl,z=p.transform,H=z.tileSize,W=d.paint.get("background-pattern");let ee;if(W!==void 0&&(W===null||(ee=p.imageManager.getPattern(W.toString(),d.scope,p.style.getLut(d.scope)),!ee)))return;const oe=!W&&b.a===1&&w===1&&p.opaquePassEnabledForLayer()?"opaque":"translucent";if(p.renderPass!==oe)return;const ne=qi.disabled,se=p.depthModeForSublayer(0,oe==="opaque"?Pi.ReadWrite:Pi.ReadOnly),ae=p.colorModeForDrapableLayerRenderPass(E),me=W?"backgroundPattern":"background";let Fe,Ce=m;if(Ce||(Fe=p.getBackgroundTiles(),Ce=Object.values(Fe).map(Pe=>Pe.tileID)),W&&(j.activeTexture.set($.TEXTURE0),p.imageManager.bind(p.context,d.scope)),A){const Pe=p.getOrCreateProgram(me,{overrideFog:!1,overrideRtt:!0}),Me=new Float32Array(n.a6.mat4.identity([])),Ie=new n.aA(0,0,0,0,0),Le=W?zu(Me,E,w,p,0,d.scope,ee,A,{tileID:Ie,tileSize:H}):ol(Me,E,w,b.toRenderColor(d.lut));Pe.draw(p,$.TRIANGLES,se,ne,ae,Ni.disabled,Le,d.id,p.viewportBuffer,p.quadTriangleIndexBuffer,p.viewportSegments)}else for(const Pe of Ce){const Me=p.isTileAffectedByFog(Pe),Ie=p.getOrCreateProgram(me,{overrideFog:Me}),Le=Pe.toUnwrapped(),$e=m?Pe.projMatrix:p.transform.calculateProjMatrix(Le);p.prepareDrawTile();const Qe=r?r.getTile(Pe):Fe?Fe[Pe.key]:new ms(Pe,H,z.zoom,p),He=W?zu($e,E,w,p,0,d.scope,ee,A,{tileID:Pe,tileSize:H}):ol($e,E,w,b.toRenderColor(d.lut));p.uploadCommonUniforms(j,Ie,Le);const{tileBoundsBuffer:Ue,tileBoundsIndexBuffer:gt,tileBoundsSegments:Ft}=p.getTileBoundsBuffers(Qe);Ie.draw(p,$.TRIANGLES,se,ne,ae,Ni.disabled,He,d.id,Ue,gt,Ft)}},sky:function(p,r,d){const m=p._atmosphere?n.a9(p.transform.zoom):1,b=d.paint.get("sky-opacity")*m;if(b===0)return;const w=p.context,E=d.paint.get("sky-type"),A=new Pi(w.gl.LEQUAL,Pi.ReadOnly,[0,1]),j=p.frameCounter/1e3%1;E==="atmosphere"?p.renderPass==="offscreen"?d.needsSkyboxCapture(p)&&(function($,z,H,W){const ee=$.context,oe=ee.gl;let ne=z.skyboxFbo;if(!ne){ne=z.skyboxFbo=ee.createFramebuffer(32,32,!0,null),z.skyboxGeometry=new om(ee),z.skyboxTexture=ee.gl.createTexture(),oe.bindTexture(oe.TEXTURE_CUBE_MAP,z.skyboxTexture),oe.texParameteri(oe.TEXTURE_CUBE_MAP,oe.TEXTURE_WRAP_S,oe.CLAMP_TO_EDGE),oe.texParameteri(oe.TEXTURE_CUBE_MAP,oe.TEXTURE_WRAP_T,oe.CLAMP_TO_EDGE),oe.texParameteri(oe.TEXTURE_CUBE_MAP,oe.TEXTURE_MIN_FILTER,oe.LINEAR),oe.texParameteri(oe.TEXTURE_CUBE_MAP,oe.TEXTURE_MAG_FILTER,oe.LINEAR);for(let Fe=0;Fe<6;++Fe)oe.texImage2D(oe.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,0,oe.RGBA,32,32,0,oe.RGBA,oe.UNSIGNED_BYTE,null)}ee.bindFramebuffer.set(ne.framebuffer),ee.viewport.set([0,0,32,32]);const se=z.getCenter($,!0),ae=$.getOrCreateProgram("skyboxCapture"),me=new Float64Array(16);n.a6.mat4.identity(me),n.a6.mat4.rotateY(me,me,.5*-Math.PI),es($,z,ae,me,se,0),n.a6.mat4.identity(me),n.a6.mat4.rotateY(me,me,.5*Math.PI),es($,z,ae,me,se,1),n.a6.mat4.identity(me),n.a6.mat4.rotateX(me,me,.5*-Math.PI),es($,z,ae,me,se,2),n.a6.mat4.identity(me),n.a6.mat4.rotateX(me,me,.5*Math.PI),es($,z,ae,me,se,3),n.a6.mat4.identity(me),es($,z,ae,me,se,4),n.a6.mat4.identity(me),n.a6.mat4.rotateY(me,me,Math.PI),es($,z,ae,me,se,5),ee.viewport.set([0,0,$.width,$.height])}(p,d),d.markSkyboxValid(p)):p.renderPass==="sky"&&function($,z,H,W,ee){const oe=$.context,ne=oe.gl,se=$.transform,ae=$.getOrCreateProgram("skybox");oe.activeTexture.set(ne.TEXTURE0),ne.bindTexture(ne.TEXTURE_CUBE_MAP,z.skyboxTexture);const me=((Fe,Ce,Pe,Me,Ie)=>({u_matrix:Fe,u_sun_direction:Ce,u_cubemap:0,u_opacity:Me,u_temporal_offset:Ie}))(se.skyboxMatrix,z.getCenter($,!1),0,W,ee);$.uploadCommonUniforms(oe,ae),ae.draw($,ne.TRIANGLES,H,qi.disabled,$.colorModeForRenderPass(),Ni.backCW,me,"skybox",z.skyboxGeometry.vertexBuffer,z.skyboxGeometry.indexBuffer,z.skyboxGeometry.segment)}(p,d,A,b,j):E==="gradient"&&p.renderPass==="sky"&&function($,z,H,W,ee){const oe=$.context,ne=oe.gl,se=$.transform,ae=$.getOrCreateProgram("skyboxGradient");z.skyboxGeometry||(z.skyboxGeometry=new om(oe)),oe.activeTexture.set(ne.TEXTURE0);let me=z.colorRampTexture;me||(me=z.colorRampTexture=new n.T(oe,z.colorRamp,ne.RGBA8)),me.bind(ne.LINEAR,ne.CLAMP_TO_EDGE);const Fe=((Ce,Pe,Me,Ie,Le)=>({u_matrix:Ce,u_color_ramp:0,u_center_direction:Pe,u_radius:n.bC(Me),u_opacity:Ie,u_temporal_offset:Le}))(se.skyboxMatrix,z.getCenter($,!1),z.paint.get("sky-gradient-radius"),W,ee);$.uploadCommonUniforms(oe,ae),ae.draw($,ne.TRIANGLES,H,qi.disabled,$.colorModeForRenderPass(),Ni.backCW,Fe,"skyboxGradient",z.skyboxGeometry.vertexBuffer,z.skyboxGeometry.indexBuffer,z.skyboxGeometry.segment)}(p,d,A,b,j)},debug:function(p,r,d,m,b,w){for(let E=0;E<d.length;E++)if(b){const $=new n.bA(m.r*.8,m.g*.8,m.b*.8,1);io(p,r,d[E],m,-1,-1,w),io(p,r,d[E],m,-1,1,w),io(p,r,d[E],m,1,1,w),io(p,r,d[E],m,1,-1,w),io(p,r,d[E],$,0,0,w)}else io(p,r,d[E],m,0,0,w)},custom:function(p,r,d,m){const b=p.context,w=d.implementation;if(!p.transform.projection.unsupportedLayers||!p.transform.projection.unsupportedLayers.includes("custom")||p.terrain&&(p.terrain.renderingToTexture||p.renderPass==="offscreen")&&d.isDraped(r)){if(p.renderPass==="offscreen"){const E=w.prerender;if(E){if(p.setCustomLayerDefaults(),b.setColorMode(p.colorModeForRenderPass()),p.transform.projection.name==="globe"){const A=p.transform.pointMerc;E.call(w,b.gl,p.transform.customLayerMatrix(),p.transform.getProjection(),p.transform.globeToMercatorMatrix(),n.a9(p.transform.zoom),[A.x,A.y],p.transform.pixelsPerMeterRatio)}else E.call(w,b.gl,p.transform.customLayerMatrix());b.setDirty(),p.setBaseState()}}else if(p.renderPass==="translucent"){if(p.terrain&&p.terrain.renderingToTexture){const A=w.renderToTile;if(A){const j=m[0].canonical,$=new n.a5(j.x+m[0].wrap*(1<<j.z),j.y,j.z);b.setDepthMode(Pi.disabled),b.setStencilMode(qi.disabled),b.setColorMode(p.colorModeForRenderPass()),p.setCustomLayerDefaults(),A.call(w,b.gl,$),b.setDirty(),p.setBaseState()}return}p.setCustomLayerDefaults(),b.setColorMode(p.colorModeForRenderPass()),b.setStencilMode(qi.disabled);const E=w.renderingMode==="3d"?new Pi(p.context.gl.LEQUAL,Pi.ReadWrite,p.depthRangeFor3D):p.depthModeForSublayer(0,Pi.ReadOnly);if(b.setDepthMode(E),p.transform.projection.name==="globe"){const A=p.transform.pointMerc;w.render(b.gl,p.transform.customLayerMatrix(),p.transform.getProjection(),p.transform.globeToMercatorMatrix(),n.a9(p.transform.zoom),[A.x,A.y],p.transform.pixelsPerMeterRatio)}else w.render(b.gl,p.transform.customLayerMatrix());b.setDirty(),p.setBaseState(),b.bindFramebuffer.set(null)}}else n.w("Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.")},model:function(p,r,d,m){if(p.renderPass==="opaque")return;const b=d.paint.get("model-opacity");if(b===0)return;const w=d.paint.get("model-cast-shadows");if(p.renderPass==="shadow"&&(!w||p.terrain&&b<.65&&d._transitionablePaint._values["model-opacity"].value.expression instanceof n.a4))return;const E=p.shadowRenderer,A=d.paint.get("model-receive-shadows");E&&(E.useNormalOffset=!0,A||(E.enabled=!1));const j=()=>{E&&(E.useNormalOffset=!0,A||(E.enabled=!0))},$=r.getSource();if(p.renderPass==="light-beam"&&$.type!=="batched-model")return;if($.type==="vector"||$.type==="geojson")return function(ae,me,Fe,Ce,Pe){const Me=ae.transform;if(Me.projection.name!=="mercator")return void n.w(`Drawing 3D models for ${Me.projection.name} projection is not yet implemented`);const Ie=Me.getFreeCameraOptions().position;if(!ae.modelManager)return;const Le=ae.modelManager;Fe.modelManager=Le;const $e=ae.shadowRenderer;if(!Fe._unevaluatedLayout._values.hasOwnProperty("model-id"))return;const Qe=Fe._unevaluatedLayout._values["model-id"],He={...Fe.layout.get("model-id").parameters},Ue=ae.style.order.indexOf(Fe.fqid);for(const gt of Ce){const Ft=me.getTile(gt).getBucket(Fe);if(!Ft||Ft.projection.name!==Me.projection.name)continue;const Dt=Ft.getModelUris();Dt&&!Ft.modelsRequested&&(Le.addModelsFromBucket(Dt,Pe),Ft.modelsRequested=!0);const Gt=Hr(gt,Me);He.zoom=Gt;const Qt=Qe.possiblyEvaluate(He);if(q_(ae,Ft,gt),_s.shadowUniformsInitialized=!1,_s.useSingleShadowCascade=!!$e&&$e.getMaxCascadeForTile(gt.toUnwrapped())===0,ae.renderPass==="shadow"&&$e){if(ae.currentShadowCascade===1&&Ft.isInsideFirstShadowMapFrustum)continue;const _t=Me.calculatePosMatrix(gt.toUnwrapped(),Me.worldSize);if(_s.tileMatrix.set(_t),_s.shadowTileMatrix=Float32Array.from($e.calculateShadowPassMatrixFromMatrix(_t)),_s.aabb.min.fill(0),_s.aabb.max[0]=_s.aabb.max[1]=n.ab,_s.aabb.max[2]=0,no(Ft,_s,ae,Fe.scope))continue}const st=1<<gt.canonical.z,Ot=[((Ie.x-gt.wrap)*st-gt.canonical.x)*n.ab,(Ie.y*st-gt.canonical.y)*n.ab,Ie.z*st*n.ab];ae.conflationActive&&Object.keys(Ft.instancesPerModel).length>0&&ae.style.isLayerClipped(Fe,me.getSource())&&Ft.updateReplacement(gt,ae.replacementSource,Ue,Pe)&&(Ft.uploaded=!1,Ft.upload(ae.context));for(let _t in Ft.instancesPerModel){const Lt=Ft.instancesPerModel[_t];Lt.features.length>0&&(_t=Qt.evaluate(Lt.features[0].feature,{}));const jt=Le.getModel(_t,Pe);if(jt&&jt.uploaded)for(const At of jt.nodes)W_(ae,Fe,At,Lt,Ot,gt,_s)}}}(p,r,d,m,$.type==="vector"?d.scope:""),void j();if(!$.loaded())return;if($.type==="batched-model")return function(ae,me,Fe,Ce){Fe.resetLayerRenderingStats(ae);const Pe=ae.context,Me=ae.transform,Ie=ae.style.fog,Le=ae.shadowRenderer;if(Me.projection.name!=="mercator")return void n.w(`Drawing 3D landmark models for ${Me.projection.name} projection is not yet implemented`);const $e=ae.transform.getFreeCameraOptions().position,Qe=n.a6.vec3.scale([],[$e.x,$e.y,$e.z],ae.transform.worldSize),He=n.a6.vec3.negate([],Qe),Ue=n.a6.mat4.identity([]),gt=n.de(Me.center.lat,Me.zoom),Ft=n.a6.mat4.fromScaling([],[1,1,1/gt]);n.a6.mat4.translate(Ue,Ue,He);const Dt=Fe.paint.get("model-opacity"),Gt=new Pi(Pe.gl.LEQUAL,Pi.ReadWrite,ae.depthRangeFor3D),Qt=new Pi(Pe.gl.LEQUAL,Pi.ReadOnly,ae.depthRangeFor3D),st=new n.ca([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),Ot=ae.renderPass==="shadow",_t=Ot&&Le?Le.getCurrentCascadeFrustum():Me.getFrustum(Me.scaleZoom(Me.worldSize)),Lt=Fe.paint.get("model-front-cutoff"),jt=Lt[2]<1,At=zs(ae,Fe.paint.get("model-cutoff-fade-range")),ei=Fe.getLayerRenderingStats();(function(bi,Fi,fi,Si){const ri=bi.terrain?bi.terrain.exaggeration():0,ki=bi.transform.zoom;for(const Ki of Si){const cn=Fi.getTile(Ki).getBucket(fi);cn&&(bi.conflationActive&&cn.updateReplacement(Ki,bi.replacementSource),cn.evaluateScale(bi,fi),bi.terrain&&ri>0&&cn.elevationUpdate(bi.terrain,ri,Ki,fi.source),cn.needsReEvaluation(bi,ki,fi)&&cn.evaluate(fi))}})(ae,me,Fe,Ce),function(){let bi,Fi,fi;jt?(bi=Ce.length-1,Fi=-1,fi=-1):(bi=0,Fi=Ce.length,fi=1);const Si=new Float64Array(16),ri=n.a6.vec3.create(),ki=new n.P(0,0);for(let Ki=bi;Ki!==Fi;Ki+=fi){const cn=Ce[Ki],qn=me.getTile(cn).getBucket(Fe);if(!qn||!qn.uploaded)continue;let _n=!1;Le&&(_n=Le.getMaxCascadeForTile(cn.toUnwrapped())===0);const Jn=Me.calculatePosMatrix(cn.toUnwrapped(),Me.worldSize),Fn=qn.modelTraits;!Ot&&jt&&(n.a6.mat4.invert(Si,Jn),n.a6.vec3.transformMat4(ri,Qe,Si),ki.x=ri[0],ki.y=ri[1]);const Wn=[];for(const nn of qn.getNodesInfo()){if(nn.hiddenByReplacement||!nn.node.meshes)continue;const Gn=nn.node;let zn=0;ae.terrain&&Gn.elevation&&(zn=Gn.elevation*ae.terrain.exaggeration());const Rn=(()=>{const Io=nn.aabb;return st.min=[...Io.min],st.max=[...Io.max],st.min[2]+=zn,st.max[2]+=zn,n.a6.vec3.transformMat4(st.min,st.min,Jn),n.a6.vec3.transformMat4(st.max,st.max,Jn),st})(),ao=nn.evaluatedScale;if(ao[0]<=1&&ao[1]<=1&&ao[2]<=1&&Rn.intersects(_t)===0)continue;if(!Ot&&jt){const Io=.16666666666666666;nn.cameraCollisionOpacity=Qe[0]>Rn.min[0]&&Qe[0]<Rn.max[0]&&Qe[1]>Rn.min[1]&&Qe[1]<Rn.max[1]&&Qe[2]*gt<Rn.max[2]&&Gn.footprint&&n.bv(ki,Gn.footprint)?Math.max(nn.cameraCollisionOpacity-Io,0):Math.min(1,nn.cameraCollisionOpacity+Io)}const er=[...Jn],xa=Gn.anchor?Gn.anchor[0]:0,La=Gn.anchor?Gn.anchor[1]:0;n.a6.mat4.translate(er,er,[xa*(ao[0]-1),La*(ao[1]-1),zn]),n.a6.vec3.exactEquals(ao,n.dh)||n.a6.mat4.scale(er,er,ao);const ar=n.a6.mat4.multiply([],er,Gn.matrix),mn=n.a6.mat4.multiply([],Me.expandedFarZProjMatrix,ar),ln=n.a6.mat4.multiply([],Me.expandedFarZProjMatrix,er),Cn=n.a6.vec4.transformMat4([],[xa,La,zn,1],mn)[2];Gn.hidden=!1;let Zn=Dt;Ot||(jt&&(Zn*=nn.cameraCollisionOpacity,Zn*=K_(er,Me,nn.aabb,Lt)),Zn*=xn(At,Cn)),Zn!==0?Wn.push({nodeInfo:nn,depth:Cn,opacity:Zn,wvpForNode:mn,wvpForTile:ln,nodeModelMatrix:ar,tileModelMatrix:er}):Gn.hidden=!0}Ot||Wn.sort((nn,Gn)=>!jt||nn.opacity===1&&Gn.opacity===1?nn.depth<Gn.depth?-1:1:nn.opacity===1?-1:Gn.opacity===1?1:nn.depth>Gn.depth?-1:1);for(const nn of Wn){const Gn=nn.nodeInfo,zn=Gn.node;let Rn=n.a6.mat4.multiply([],Ft,nn.tileModelMatrix);n.a6.mat4.multiply(Rn,Ue,Rn);const ao=n.a6.mat4.invert([],Rn);n.a6.mat4.transpose(ao,ao),n.a6.mat4.scale(ao,ao,Gu),Rn=n.a6.mat4.multiply(Rn,Rn,zn.matrix);const er=ae.renderPass==="light-beam",xa=Fn&n.dj.HasMapboxMeshFeatures,La=xa?0:Gn.evaluatedRMEA[0][2];for(let ar=0;ar<zn.meshes.length;++ar){const mn=zn.meshes[ar],ln=ar===zn.lightMeshIndex;let Cn=nn.wvpForNode;if(ln){if(!er&&!ae.terrain&&ae.shadowRenderer){ae.currentLayer<ae.firstLightBeamLayer&&(ae.firstLightBeamLayer=ae.currentLayer);continue}Cn=nn.wvpForTile}else if(er)continue;const Zn={defines:[]},Io=[];if(!Ot&&Le&&(Le.useNormalOffset=!!mn.normalBuffer),Sf(Zn.defines,Io,mn,ae,Fe.lut),xa||Zn.defines.push("DIFFUSE_SHADED"),_n&&Zn.defines.push("SHADOWS_SINGLE_CASCADE"),ei&&(Ot?ei.numRenderedVerticesInShadowPass+=mn.vertexArray.length:ei.numRenderedVerticesInTransparentPass+=mn.vertexArray.length),Ot){Tf(mn,nn.nodeModelMatrix,ae,Fe);continue}let so=null;if(Ie){const is=am(nn.nodeModelMatrix,ae.transform);if(so=new Float32Array(is),Me.projection.name!=="globe"){const oa=mn.aabb.min,Zs=mn.aabb.max,[Ba,Mn]=Ie.getOpacityForBounds(is,oa[0],oa[1],Zs[0],Zs[1]);Zn.overrideFog=Ba>=Ht||Mn>=Ht}}const ur=mn.material;let vs;ur.occlusionTexture&&ur.occlusionTexture.offsetScale&&(vs=ur.occlusionTexture.offsetScale,Zn.defines.push("OCCLUSION_TEXTURE_TRANSFORM"));const ia=ae.getOrCreateProgram("model",Zn);!Ot&&Le&&Le.setupShadowsFromMatrix(nn.tileModelMatrix,ia,Le.useNormalOffset),ae.uploadCommonUniforms(Pe,ia,null,so);const na=ur.pbrMetallicRoughness;na.metallicFactor=.9,na.roughnessFactor=.5;const Da=xf(new Float32Array(Cn),new Float32Array(Rn),new Float32Array(ao),new Float32Array(zn.matrix),ae,nn.opacity,na.baseColorFactor.toRenderColor(null),ur.emissiveFactor,na.metallicFactor,na.roughnessFactor,ur,La,Fe,[0,0,0],vs);!ln&&(Gn.hasTranslucentParts||nn.opacity<1)&&ia.draw(ae,Pe.gl.TRIANGLES,Gt,qi.disabled,rn.disabled,Ni.backCCW,Da,Fe.id,mn.vertexBuffer,mn.indexBuffer,mn.segments,Fe.paint,ae.transform.zoom,void 0,Io),ia.draw(ae,Pe.gl.TRIANGLES,ln?Qt:Gt,qi.disabled,ln||nn.opacity<1||Gn.hasTranslucentParts?rn.alphaBlended:rn.unblended,Ni.backCCW,Da,Fe.id,mn.vertexBuffer,mn.indexBuffer,mn.segments,Fe.paint,ae.transform.zoom,void 0,Io)}}}}()}(p,r,d,m),void j();if($.type!=="model")return;const z=$.getModels(),H=[],W=p.transform.getFreeCameraOptions().position,ee=n.a6.vec3.scale([],[W.x,W.y,W.z],p.transform.worldSize);n.a6.vec3.negate(ee,ee);const oe=[],ne=[];let se=0;for(const ae of z){const me=d.paint.get("model-rotation").constantOr(null),Fe=d.paint.get("model-scale").constantOr(null),Ce=d.paint.get("model-translation").constantOr(null);ae.computeModelMatrix(p,me,Fe,Ce,!0,!0,!1);const Pe=n.a6.mat4.identity([]),Me=n.de(ae.position.lat,p.transform.zoom),Ie=n.a6.mat4.fromScaling([],[1,1,1/Me]);n.a6.mat4.translate(Pe,Pe,ee),H.push({zScaleMatrix:Ie,negCameraPosMatrix:Pe});for(const Le of ae.nodes)Uu(p.transform,Le,ae.matrix,p.transform.expandedFarZProjMatrix,se,oe,ne);se++}if(oe.sort((ae,me)=>me.depth-ae.depth),p.renderPass!=="shadow"){if(b===1)for(const ae of ne)sl(ae,p,d,H[ae.modelIndex],qi.disabled,p.colorModeForRenderPass());else{for(const ae of ne)sl(ae,p,d,H[ae.modelIndex],qi.disabled,rn.disabled);for(const ae of ne)sl(ae,p,d,H[ae.modelIndex],p.stencilModeFor3D(),p.colorModeForRenderPass());p.resetStencilClippingMasks()}for(const ae of oe)sl(ae,p,d,H[ae.modelIndex],qi.disabled,p.colorModeForRenderPass());j()}else{for(const ae of ne)Tf(ae.mesh,ae.nodeModelMatrix,p,d);for(const ae of oe)Tf(ae.mesh,ae.nodeModelMatrix,p,d);j()}}},Us={model:function(p,r,d){const m=r.getSource();if(!m.loaded())return;if(m.type==="vector"||m.type==="geojson")return void(d.modelManager&&d.modelManager.upload(d,m.type==="vector"?p.scope:""));if(m.type==="batched-model"||m.type!=="model")return;const b=m.getModels();for(const w of b)w.upload(d.context)},raster:function(p,r,d){const m=r.getSource();if(!(m instanceof fs&&m.loaded()))return;const b=p.sourceLayer||m.rasterLayerIds&&m.rasterLayerIds[0];if(!b)return;const w=p.paint.get("raster-array-band")||m.getInitialBand(b);if(w==null)return;const E=r.getIds().map(A=>r.getTileByID(A));for(const A of E)A.updateNeeded(b,w)&&m.prepareTile(A,b,w)},"raster-particle":function(p,r,d){const m=r.getSource();if(!(m instanceof fs&&m.loaded()))return;const b=p.sourceLayer||m.rasterLayerIds&&m.rasterLayerIds[0];if(!b)return;const w=p.paint.get("raster-particle-array-band")||m.getInitialBand(b);if(w==null)return;const E=r.getIds().map(A=>r.getTileByID(A));for(const A of E)A.updateNeeded(b,w)&&m.prepareTile(A,b,w)}};class Tc{constructor(r,d,m,b,w){this.context=new _v(r,d),this.transform=m,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.tp=w,this._timeStamp=n.q.now(),this._averageFPS=0,this._fpsHistory=[],this._dt=0,this._debugParams={forceEnablePrecipitation:!1,showTerrainProxyTiles:!1,fpsWindow:30,continousRedraw:!1,enabledLayers:{}};const E=["fill","line","symbol","circle","heatmap","fill-extrusion","raster","raster-particle","hillshade","model","background","sky"];for(const j of E)this._debugParams.enabledLayers[j]=!0;w.registerParameter(this._debugParams,["Terrain"],"showTerrainProxyTiles",{},()=>{this.style.map.triggerRepaint()}),w.registerParameter(this._debugParams,["Precipitation"],"forceEnablePrecipitation"),w.registerParameter(this._debugParams,["FPS"],"fpsWindow",{min:1,max:100,step:1}),w.registerBinding(this._debugParams,["FPS"],"continousRedraw",{readonly:!0,label:"continuous redraw"}),w.registerBinding(this,["FPS"],"_averageFPS",{readonly:!0,label:"value"}),w.registerBinding(this,["FPS"],"_averageFPS",{readonly:!0,label:"graph",view:"graph",min:0,max:200});for(const j of E)w.registerParameter(this._debugParams.enabledLayers,["Debug","Layers"],j);this.occlusionParams=new ld(w),this.setup(),this.numSublayers=Jr.maxUnderzooming+Jr.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={},this.conflationActive=!1,this.replacementSource=new n.dl,this.longestCutoffRange=0,this.minCutoffZoom=0,this._fogVisible=!1,this._cachedTileFogOpacities={},this._shadowRenderer=new u_(this),this._wireframeDebugCache=new Rf,this.renderDefaultNorthPole=!0,this.renderDefaultSouthPole=!0,this.layersWithOcclusionOpacity=[];const A=new n.r({width:1,height:1},Uint8Array.of(0,0,0,0));this.emptyDepthTexture=new n.T(this.context,A,r.RGBA8),this._clippingActiveLastFrame=!1,this.scaleFactor=b}updateTerrain(r,d){const m=!!r&&!!r.terrain&&this.transform.projection.supportsTerrain;if(!(m||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new j0(this,r));const b=this._terrain;this.transform.elevation=m?b:null,b.update(r,this.transform,d),this.transform.elevation&&!b.enabled&&(this.transform.elevation=null)}_updateFog(r){const d=r.fog;if(!d||this.transform.projection.name==="globe"||d.getOpacity(this.transform.pitch)<1||d.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[m,b]=d.getFovAdjustedRange(this.transform._fov);if(m>b)return void(this.transform.fogCullDistSq=null);const w=m+.78*(b-m);this.transform.fogCullDistSq=w*w}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled||this._forceTerrainMode?this._terrain:null}get forceTerrainMode(){return this._forceTerrainMode}set forceTerrainMode(r){r&&!this._terrain&&(this._terrain=new j0(this,this.style)),this._forceTerrainMode=r}get shadowRenderer(){return this._shadowRenderer&&this._shadowRenderer.enabled?this._shadowRenderer:null}get wireframeDebugCache(){return this._wireframeDebugCache}resize(r,d){if(this.width=r*n.q.devicePixelRatio,this.height=d*n.q.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const m of this.style.order)this.style._mergedLayers[m].resize()}setup(){const r=this.context,d=new n.a$;d.emplaceBack(0,0),d.emplaceBack(n.ab,0),d.emplaceBack(0,n.ab),d.emplaceBack(n.ab,n.ab),this.tileExtentBuffer=r.createVertexBuffer(d,n.b1.members),this.tileExtentSegments=n.b2.simpleSegment(0,0,4,2);const m=new n.a$;m.emplaceBack(0,0),m.emplaceBack(n.ab,0),m.emplaceBack(0,n.ab),m.emplaceBack(n.ab,n.ab),this.debugBuffer=r.createVertexBuffer(m,n.b1.members),this.debugSegments=n.b2.simpleSegment(0,0,4,5);const b=new n.a$;b.emplaceBack(-1,-1),b.emplaceBack(1,-1),b.emplaceBack(-1,1),b.emplaceBack(1,1),this.viewportBuffer=r.createVertexBuffer(b,n.b1.members),this.viewportSegments=n.b2.simpleSegment(0,0,4,2);const w=new n.aO;w.emplaceBack(0,0,0,0),w.emplaceBack(n.ab,0,n.ab,0),w.emplaceBack(0,n.ab,0,n.ab),w.emplaceBack(n.ab,n.ab,n.ab,n.ab),this.mercatorBoundsBuffer=r.createVertexBuffer(w,n.b4.members),this.mercatorBoundsSegments=n.b2.simpleSegment(0,0,4,2);const E=new n.aP;E.emplaceBack(0,1,2),E.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=r.createIndexBuffer(E);const A=new n.b0;for(const $ of[0,1,3,2,0])A.emplaceBack($);this.debugIndexBuffer=r.createIndexBuffer(A),this.emptyTexture=new n.T(r,new n.r({width:1,height:1},Uint8Array.of(0,0,0,0)),r.gl.RGBA8),this.identityMat=n.a6.mat4.create();const j=this.context.gl;this.stencilClearMode=new qi({func:j.ALWAYS,mask:0},0,255,j.ZERO,j.ZERO,j.ZERO),this.loadTimeStamps.push(performance.now())}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(r){return r._makeTileBoundsBuffers(this.context,this.transform.projection),r._tileBoundsBuffer?{tileBoundsBuffer:r._tileBoundsBuffer,tileBoundsIndexBuffer:r._tileBoundsIndexBuffer,tileBoundsSegments:r._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const r=this.context.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.getOrCreateProgram("clippingMask").draw(this,r.TRIANGLES,Pi.disabled,this.stencilClearMode,rn.disabled,Ni.disabled,Du(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(r,d,m){if(!d||this.currentStencilSource===d.id||!r.isTileClipped()||!m||m.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let A=!1;for(const j of m)if(this._tileClippingMaskIDs[j.key]===void 0){A=!0;break}if(!A)return}this.currentStencilSource=d.id;const b=this.context,w=b.gl;this.nextStencilID+m.length>256&&this.clearStencil(),b.setColorMode(rn.disabled),b.setDepthMode(Pi.disabled);const E=this.getOrCreateProgram("clippingMask");this._tileClippingMaskIDs={};for(const A of m){const j=d.getTile(A),$=this._tileClippingMaskIDs[A.key]=this.nextStencilID++,{tileBoundsBuffer:z,tileBoundsIndexBuffer:H,tileBoundsSegments:W}=this.getTileBoundsBuffers(j);E.draw(this,w.TRIANGLES,Pi.disabled,new qi({func:w.ALWAYS,mask:0},$,255,w.KEEP,w.KEEP,w.REPLACE),rn.disabled,Ni.disabled,Du(A.projMatrix),"$clipping",z,H,W)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const r=this.nextStencilID++,d=this.context.gl;return new qi({func:d.NOTEQUAL,mask:255},r,255,d.KEEP,d.KEEP,d.REPLACE)}stencilModeForClipping(r){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(r);const d=this.context.gl;return new qi({func:d.EQUAL,mask:255},this._tileClippingMaskIDs[r.key],0,d.KEEP,d.KEEP,d.REPLACE)}stencilConfigForOverlap(r){const d=this.context.gl,m=r.sort((E,A)=>A.overscaledZ-E.overscaledZ),b=m[m.length-1].overscaledZ,w=m[0].overscaledZ-b+1;if(w>1){this.currentStencilSource=void 0,this.nextStencilID+w>256&&this.clearStencil();const E={};for(let A=0;A<w;A++)E[A+b]=new qi({func:d.GEQUAL,mask:255},A+this.nextStencilID,255,d.KEEP,d.KEEP,d.REPLACE);return this.nextStencilID+=w,[E,m]}return[{[b]:qi.disabled},m]}colorModeForRenderPass(){const r=this.context.gl;return this._showOverdrawInspector?new rn([r.CONSTANT_COLOR,r.ONE,r.CONSTANT_COLOR,r.ONE],new n.bA(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?rn.unblended:rn.alphaBlended}colorModeForDrapableLayerRenderPass(r){const d=this.context.gl;return this.style&&this.style.enable3dLights()&&this.terrain&&this.terrain.renderingToTexture&&this.renderPass==="translucent"?new rn([d.ONE,d.ONE_MINUS_SRC_ALPHA,d.CONSTANT_ALPHA,d.ONE_MINUS_SRC_ALPHA],new n.bA(0,0,0,r===void 0?0:r),[!0,!0,!0,!0]):this.colorModeForRenderPass()}depthModeForSublayer(r,d,m,b=!1){if(this.depthOcclusion)return new Pi(this.context.gl.GREATER,Pi.ReadOnly,this.depthRangeFor3D);if(!this.opaquePassEnabledForLayer()&&!b)return Pi.disabled;const w=1-((1+this.currentLayer)*this.numSublayers+r)*this.depthEpsilon;return new Pi(m||this.context.gl.LEQUAL,d,[w,w])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}blitDepth(){const r=this.context.gl,d=Math.ceil(this.width),m=Math.ceil(this.height),b=this.context.bindFramebuffer.get(),w=r.getParameter(r.TEXTURE_BINDING_2D);this.depthFBO&&this.depthFBO.width===d&&this.depthFBO.height===m||(this.depthFBO&&(this.depthFBO.destroy(),this.depthFBO=void 0,this.depthTexture=void 0),d!==0&&m!==0&&(this.depthFBO=new j_(this.context,d,m,!1,"texture"),this.depthTexture=new n.T(this.context,{width:d,height:m,data:null},r.DEPTH24_STENCIL8),this.depthFBO.depthAttachment.set(this.depthTexture.texture))),this.context.bindFramebuffer.set(b),r.bindTexture(r.TEXTURE_2D,w),this.depthFBO&&(r.bindFramebuffer(r.READ_FRAMEBUFFER,null),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,this.depthFBO.framebuffer),r.blitFramebuffer(0,0,d,m,0,0,d,m,r.DEPTH_BUFFER_BIT,r.NEAREST),r.bindFramebuffer(r.FRAMEBUFFER,this.context.bindFramebuffer.current))}updateAverageFPS(){this._fpsHistory.push(this._dt===0?0:1e3/this._dt),this._fpsHistory.length>this._debugParams.fpsWindow&&this._fpsHistory.splice(0,this._fpsHistory.length-this._debugParams.fpsWindow),this._averageFPS=Math.round(this._fpsHistory.reduce((r,d)=>r+d/this._fpsHistory.length,0))}render(r,d){const m=n.q.now();this._dt=m-this._timeStamp,this._timeStamp=m,this._wireframeDebugCache.update(this.frameCounter),this._debugParams.continousRedraw=r.map.repaint,this.style=r,this.options=d;const b=this.style._mergedLayers,w=this.style._getOrder(!(!this.terrain||!this.terrain.enabled)).filter(He=>{const Ue=b[He];return!(Ue.type in this._debugParams.enabledLayers)||this._debugParams.enabledLayers[Ue.type]});let E=!1,A=!1;for(const He of w){const Ue=b[He];Ue.type==="circle"&&(E=!0),Ue.type==="symbol"&&(Ue.hasInitialOcclusionOpacityProperties?A=!0:E=!0)}const j=w.map(He=>b[He]),$=this.style._mergedSourceCaches;this.imageManager=r.imageManager,this.modelManager=r.modelManager,this.symbolFadeChange=r.placement.symbolFadeChange(n.q.now()),this.imageManager.beginFrame();let z=0,H=!1;for(const He in $){const Ue=$[He];Ue.used&&(Ue.prepare(this.context),Ue.getSource().usedInConflation&&++z)}let W=!1;for(const He of j)He.isHidden(this.transform.zoom)||(He.type==="clip"&&(W=!0),this.prepareLayer(He));const ee={},oe={},ne={},se={},ae={};for(const He in $){const Ue=$[He];ee[He]=Ue.getVisibleCoordinates(),oe[He]=ee[He].slice().reverse(),ne[He]=Ue.getVisibleCoordinates(!0).reverse(),se[He]=Ue.getShadowCasterCoordinates(),ae[He]=Ue.sortCoordinatesByDistance(ee[He])}const me=He=>{const Ue=this.style.getLayerSourceCache(He);return Ue&&Ue.used?Ue.getSource():null};if(z||W||this._clippingActiveLastFrame){const He=[],Ue=[];let gt=0;for(const Ft of j)this.isSourceForClippingOrConflation(Ft,me(Ft))&&(He.push(Ft),Ue.push(gt)),gt++;if(He&&(W||He.length>1)||this._clippingActiveLastFrame){W=!1;const Ft=[];for(let Dt=0;Dt<He.length;Dt++){const Gt=He[Dt],Qt=Ue[Dt],st=this.style.getLayerSourceCache(Gt);if(!st||!st.used||!st.getSource().usedInConflation&&Gt.type!=="clip")continue;let Ot=n.dn,_t=n.bt.None;const Lt=[];let jt=!0;if(Gt.type==="clip"){Ot=Qt;for(const At of Gt.layout.get("clip-layer-types"))_t|=At==="model"?n.bt.Model:At==="symbol"?n.bt.Symbol:n.bt.FillExtrusion;for(const At of Gt.layout.get("clip-layer-scope"))Lt.push(At);Gt.isHidden(this.transform.zoom)?jt=!1:W=!0}jt&&Ft.push({layer:Gt.fqid,cache:st,order:Ot,clipMask:_t,clipScope:Lt})}this.replacementSource.setSources(Ft),H=!0}}this._clippingActiveLastFrame=W,H||this.replacementSource.clear(),this.conflationActive=H,this.minCutoffZoom=0,this.longestCutoffRange=0,this.opaquePassCutoff=1/0,this._lastOcclusionLayer=-1,this.layersWithOcclusionOpacity=[];for(let He=0;He<j.length;He++){const Ue=j[He],gt=Ue.cutoffRange();if(this.longestCutoffRange=Math.max(gt,this.longestCutoffRange),gt>0){const Ft=me(Ue);Ft&&(this.minCutoffZoom=Math.max(Ft.minzoom,this.minCutoffZoom)),Ue.minzoom&&(this.minCutoffZoom=Math.max(Ue.minzoom,this.minCutoffZoom))}Ue.is3D()&&(this.opaquePassCutoff===1/0&&(this.opaquePassCutoff=He),this._lastOcclusionLayer=He)}const Fe=this.style&&this.style.fog;Fe?(this._fogVisible=Fe.getOpacity(this.transform.pitch)!==0,this._fogVisible&&this.transform.projection.name!=="globe"&&(this._fogVisible=Fe.isVisibleOnFrustum(this.transform.cameraFrustum))):this._fogVisible=!1,this._cachedTileFogOpacities={},this.terrain&&(this.terrain.updateTileBinding(ne),this.opaquePassCutoff=0);const Ce=this._shadowRenderer;if(Ce){Ce.updateShadowParameters(this.transform,this.style.directionalLight);for(const He in $)for(const Ue of ee[He]){let gt={min:0,max:0};this.terrain&&(gt=this.terrain.getMinMaxForTile(Ue)||gt),Ce.addShadowReceiver(Ue.toUnwrapped(),gt.min,gt.max)}}if(this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new n.dm(this.context)),this.style.fog&&this.transform.projection.supportsFog?(this._atmosphere||(this._atmosphere=new rm(this)),this._atmosphere.update(this)):this._atmosphere&&(this._atmosphere.destroy(),this._atmosphere=void 0),!zi.has(this.context.gl))return;this.renderPass="offscreen";for(const He of j){const Ue=r.getLayerSourceCache(He);if(!He.hasOffscreenPass()||He.isHidden(this.transform.zoom))continue;const gt=Ue?oe[Ue.id]:void 0;(He.type==="custom"||He.type==="raster"||He.type==="raster-particle"||He.isSky()||gt&&gt.length)&&this.renderLayer(this,Ue,He,gt)}this.depthRangeFor3D=[0,1-(j.length+2)*this.numSublayers*this.depthEpsilon],this._shadowRenderer&&(this.renderPass="shadow",this._shadowRenderer.drawShadowPass(this.style,se)),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]);const Pe=this.transform.projection.name==="globe"||this.transform.isHorizonVisible(),Me=(()=>{if(d.showOverdrawInspector)return n.bA.black;const He=this.style.fog;if(He&&this.transform.projection.supportsFog){const Ue=this.style.getLut(He.scope);if(!Pe){const gt=He.properties.get("color").toRenderColor(Ue).toArray01();return new n.bA(...gt)}if(Pe){const gt=He.properties.get("space-color").toRenderColor(Ue).toArray01();return new n.bA(...gt)}}return n.bA.transparent})();if(this.context.clear({color:Me,depth:1}),this.clearStencil(),this._showOverdrawInspector=d.showOverdrawInspector,this.renderPass="opaque",this.style.fog&&this.transform.projection.supportsFog&&this._atmosphere&&!this._showOverdrawInspector&&Pe&&this._atmosphere.drawStars(this,this.style.fog),!this.terrain)for(this.currentLayer=w.length-1;this.currentLayer>=0;this.currentLayer--){const He=j[this.currentLayer],Ue=r.getLayerSourceCache(He);if(He.isSky())continue;const gt=Ue?(He.is3D()?ae:oe)[Ue.id]:void 0;this._renderTileClippingMasks(He,Ue,gt),this.renderLayer(this,Ue,He,gt)}if(this.style.fog&&this.transform.projection.supportsFog&&this._atmosphere&&!this._showOverdrawInspector&&Pe&&this._atmosphere.drawAtmosphereGlow(this,this.style.fog),this.renderPass="sky",(!this._atmosphere||n.a9(this.transform.zoom)>0)&&(this.transform.projection.name==="globe"||this.transform.isHorizonVisible()))for(this.currentLayer=0;this.currentLayer<w.length;this.currentLayer++){const He=j[this.currentLayer],Ue=r.getLayerSourceCache(He);He.isSky()&&this.renderLayer(this,Ue,He,Ue?oe[Ue.id]:void 0)}function Ie(He,Ue){let gt;return Ue&&(gt=(He.type==="symbol"?ne:He.is3D()?ae:oe)[Ue.id]),gt}if(this.renderPass="translucent",this.transform.projection.name==="globe"){for(this.renderElevatedRasterBackface=!0,this.currentLayer=0;this.currentLayer<w.length;){const He=j[this.currentLayer];if(He.type==="raster"||He.type==="raster-particle"){const Ue=r.getLayerSourceCache(He);this.renderLayer(this,Ue,He,Ie(He,Ue))}++this.currentLayer}this.renderElevatedRasterBackface=!1}this.currentLayer=0,this.firstLightBeamLayer=Number.MAX_SAFE_INTEGER;let Le=0;Ce&&(Le=Ce.getShadowCastingLayerCount());let $e=!1,Qe=-1;for(let He=0;He<w.length;++He){const Ue=j[He];Ue.isHidden(this.transform.zoom)||Ue.is3D()&&(Qe=He)}for(A&&Qe===-1&&(E=!0);this.currentLayer<w.length;){const He=j[this.currentLayer],Ue=r.getLayerSourceCache(He);if(He.isSky())++this.currentLayer;else if(this.terrain&&this.style.isLayerDraped(He)){if(He.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer),this._lastOcclusionLayer=Math.max(this.currentLayer,this._lastOcclusionLayer)}else{if(E&&!$e&&this.terrain&&!this.transform.isOrthographic&&($e=!0,this.blitDepth()),A&&Qe!==-1&&this.currentLayer===Qe+1&&!this.transform.isOrthographic&&this.blitDepth(),He.is3D()||this.terrain||this._renderTileClippingMasks(He,Ue,Ue?ee[Ue.id]:void 0),this.renderLayer(this,Ue,He,Ie(He,Ue)),!this.terrain&&Ce&&Le>0&&He.hasShadowPass()&&--Le==0&&(Ce.drawGroundShadows(),this.firstLightBeamLayer<=this.currentLayer)){const gt=this.currentLayer;for(this.renderPass="light-beam",this.currentLayer=this.firstLightBeamLayer;this.currentLayer<=gt;this.currentLayer++){const Ft=j[this.currentLayer];if(!Ft.hasLightBeamPass())continue;const Dt=r.getLayerSourceCache(Ft);this.renderLayer(this,Dt,Ft,Dt?oe[Dt.id]:void 0)}this.currentLayer=gt,this.renderPass="translucent"}if(this.currentLayer>=this._lastOcclusionLayer&&this.layersWithOcclusionOpacity.length>0){const gt=this.currentLayer;this.depthOcclusion=!0;for(const Ft of this.layersWithOcclusionOpacity){this.currentLayer=Ft;const Dt=j[this.currentLayer],Gt=r.getLayerSourceCache(Dt),Qt=Gt?oe[Gt.id]:void 0;Dt.is3D()||this.terrain||this._renderTileClippingMasks(Dt,Gt,Gt?ee[Gt.id]:void 0),this.renderLayer(this,Gt,Dt,Qt)}this.depthOcclusion=!1,this.currentLayer=gt,this.renderPass="translucent",this.layersWithOcclusionOpacity=[]}++this.currentLayer}}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let He=null;j.forEach(Ue=>{const gt=r.getLayerSourceCache(Ue);gt&&!Ue.isHidden(this.transform.zoom)&&gt.getVisibleCoordinates().length&&(!He||He.getSource().maxzoom<gt.getSource().maxzoom)&&(He=gt)}),He&&this.options.showTileBoundaries&&Hu.debug(this,He,He.getVisibleCoordinates(),n.bA.red,!1,this.options.showParseStatus)}this.terrain&&this._debugParams.showTerrainProxyTiles&&Hu.debug(this,this.terrain.proxySourceCache,this.terrain.proxyCoords,new n.bA(1,.8,.1,1),!0,this.options.showParseStatus),this.options.showPadding&&function(He){const Ue=He.transform.padding;ft(He,He.transform.height-(Ue.top||0),3,ad),ft(He,Ue.bottom||0,3,sd),im(He,Ue.left||0,3,Kt),im(He,He.transform.width-(Ue.right||0),3,xi);const gt=He.transform.centerPoint;(function(Ft,Dt,Gt,Qt){al(Ft,Dt-1,Gt-10,2,20,Qt),al(Ft,Dt-10,Gt-1,20,2,Qt)})(He,gt.x,He.transform.height-gt.y,cd)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(performance.now()),this.saveCanvasCopy()),H||(this.conflationActive=!1)}prepareLayer(r){this.gpuTimingStart(r);const{unsupportedLayers:d}=this.transform.projection,m=!d||!d.includes(r.type);if(Us[r.type]&&(m||this.terrain&&r.type==="custom")){const b=this.style.getLayerSourceCache(r);Us[r.type](r,b,this)}this.gpuTimingEnd()}renderLayer(r,d,m,b){m.isHidden(this.transform.zoom)||(m.type==="background"||m.type==="sky"||m.type==="custom"||m.type==="model"||m.type==="raster"||m.type==="raster-particle"||b&&b.length)&&(this.id=m.id,this.gpuTimingStart(m),r.transform.projection.unsupportedLayers&&r.transform.projection.unsupportedLayers.includes(m.type)&&(!r.terrain||m.type!=="custom")||m.type==="clip"||Hu[m.type](r,d,m,b,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(r){if(!this.options.gpuTiming)return;const d=this.context.extTimerQuery,m=this.context.gl;let b=this.gpuTimers[r.id];b||(b=this.gpuTimers[r.id]={calls:0,cpuTime:0,query:m.createQuery()}),b.calls++,m.beginQuery(d.TIME_ELAPSED_EXT,b.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const r=this.context.extTimerQuery,d=this.context.gl,m=d.createQuery();this.deferredRenderGpuTimeQueries.push(m),d.beginQuery(r.TIME_ELAPSED_EXT,m)}}gpuTimingDeferredRenderEnd(){this.options.gpuTimingDeferredRender&&this.context.gl.endQuery(this.context.extTimerQuery.TIME_ELAPSED_EXT)}gpuTimingEnd(){this.options.gpuTiming&&this.context.gl.endQuery(this.context.extTimerQuery.TIME_ELAPSED_EXT)}collectGpuTimers(){const r=this.gpuTimers;return this.gpuTimers={},r}collectDeferredRenderGpuQueries(){const r=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],r}queryGpuTimers(r){const d={};for(const m in r){const b=r[m],w=this.context.extTimerQuery,E=w.getQueryParameter(b.query,this.context.gl.QUERY_RESULT)/1e6;w.deleteQueryEXT(b.query),d[m]=E}return d}queryGpuTimeDeferredRender(r){if(!this.options.gpuTimingDeferredRender)return 0;const d=this.context.gl;let m=0;for(const b of r)m+=d.getQueryParameter(b,d.QUERY_RESULT)/1e6,d.deleteQuery(b);return m}translatePosMatrix(r,d,m,b,w){if(!m[0]&&!m[1])return r;const E=w?b==="map"?this.transform.angle:0:b==="viewport"?-this.transform.angle:0;if(E){const $=Math.sin(E),z=Math.cos(E);m=[m[0]*z-m[1]*$,m[0]*$+m[1]*z]}const A=[w?m[0]:n.ak(d,m[0],this.transform.zoom),w?m[1]:n.ak(d,m[1],this.transform.zoom),0],j=new Float32Array(16);return n.a6.mat4.translate(j,r,A),j}saveTileTexture(r){const d=r.size[0],m=this._tileTextures[d];m?m.push(r):this._tileTextures[d]=[r]}getTileTexture(r){const d=this._tileTextures[r];return d&&d.length>0?d.pop():null}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture||this.forceTerrainMode}linearFloatFilteringSupported(){return this.context.extTextureFloatLinear!=null}currentGlobalDefines(r,d,m){const b=m===void 0?this.terrain&&this.terrain.renderingToTexture:m,w=[];return this.style&&this.style.enable3dLights()&&(r==="globeRaster"||r==="terrainRaster"?(w.push("LIGHTING_3D_MODE"),w.push("LIGHTING_3D_ALPHA_EMISSIVENESS")):b||w.push("LIGHTING_3D_MODE")),this.renderPass==="shadow"&&(this._shadowMapDebug||w.push("DEPTH_TEXTURE")),this.terrainRenderModeElevated()&&(w.push("TERRAIN"),this.linearFloatFilteringSupported()&&w.push("TERRAIN_DEM_FLOAT_FORMAT")),this.transform.projection.name==="globe"&&w.push("GLOBE"),!this._fogVisible||b||d!==void 0&&!d||w.push("FOG","FOG_DITHERING"),b&&w.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&w.push("OVERDRAW_INSPECTOR"),w}getOrCreateProgram(r,d){this.cache=this.cache||{};const m=d&&d.defines||[],b=d&&d.config,w=this.currentGlobalDefines(r,d&&d.overrideFog,d&&d.overrideRtt).concat(m),E=Ns.cacheKey(Cc[r],r,w,b);return this.cache[E]||(this.cache[E]=new Ns(this.context,r,Cc[r],b,rl[r],w)),this.cache[E]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const r=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(r.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new n.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA8))}destroy(){this._terrain&&this._terrain.destroy(),this._atmosphere&&(this._atmosphere.destroy(),this._atmosphere=void 0),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this._wireframeDebugCache.destroy(),this.depthFBO&&(this.depthFBO.destroy(),this.depthFBO=void 0,this.depthTexture=void 0),this.emptyDepthTexture&&this.emptyDepthTexture.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}uploadCommonLightUniforms(r,d){if(this.style.enable3dLights()){const m=this.style.directionalLight,b=this.style.ambientLight;if(m&&b){const w=((E,A,j)=>{const $=E.properties.get("direction"),z=E.properties.get("color").toRenderColor(j.getLut(E.scope)).toArray01(),H=E.properties.get("intensity"),W=A.properties.get("color").toRenderColor(j.getLut(A.scope)).toArray01(),ee=A.properties.get("intensity"),oe=[$.x,$.y,$.z],ne=n.cH(W,ee),se=n.cH(z,H);return{u_lighting_ambient_color:ne,u_lighting_directional_dir:oe,u_lighting_directional_color:se,u_ground_radiance:z0(oe,se,ne)}})(m,b,this.style);d.setLightsUniformValues(r,w)}}}uploadCommonUniforms(r,d,m,b,w){if(this.uploadCommonLightUniforms(r,d),this.terrain&&this.terrain.renderingToTexture)return;const E=this.style.fog;if(E){const A=E.getOpacity(this.transform.pitch),j=(($,z,H,W,ee,oe,ne,se,ae,me,Fe,Ce)=>{const Pe=$.transform,Me=z.properties.get("color").toRenderColor($.style.getLut(z.scope)).toArray01();Me[3]=W;const Ie=$.frameCounter/1e3%1,[Le,$e]=z.properties.get("vertical-range");return{u_fog_matrix:H?Pe.calculateFogTileMatrix(H):Ce||$.identityMat,u_fog_range:z.getFovAdjustedRange(Pe._fov),u_fog_color:Me,u_fog_horizon_blend:z.properties.get("horizon-blend"),u_fog_vertical_limit:[Math.min(Le,$e),$e],u_fog_temporal_offset:Ie,u_frustum_tl:ee,u_frustum_tr:oe,u_frustum_br:ne,u_frustum_bl:se,u_globe_pos:ae,u_globe_radius:me,u_viewport:Fe,u_globe_transition:n.a9(Pe.zoom),u_is_globe:+(Pe.projection.name==="globe")}})(this,E,m,A,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*n.q.devicePixelRatio,this.transform.height*n.q.devicePixelRatio],b);d.setFogUniformValues(r,j)}w&&d.setCutoffUniformValues(r,w.uniformValues)}setTileLoadedFlag(r){this.tileLoaded=r}saveCanvasCopy(){const r=this.canvasCopy();r&&(this.frameCopies.push(r),this.tileLoaded=!1)}canvasCopy(){const r=this.context.gl,d=r.createTexture();return r.bindTexture(r.TEXTURE_2D,d),r.copyTexImage2D(r.TEXTURE_2D,0,r.RGBA,0,0,r.drawingBufferWidth,r.drawingBufferHeight,0),d}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const r=this.style&&this.style.fog;return!!r&&r.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const r=this._backgroundTiles,d=this._backgroundTiles={},m=this.transform.coveringTiles({tileSize:512});for(const b of m)d[b.key]=r[b.key]||new ms(b,512,this.transform.tileZoom,this);return d}clearBackgroundTiles(){this._backgroundTiles={}}isSourceForClippingOrConflation(r,d){return!(!r.is3D()||r.type!=="clip"&&(r.minzoom&&r.minzoom>this.transform.zoom||(this.style._clipLayerPresent||r.sourceLayer!=="building")&&(!d||d.type!=="batched-model")))}isTileAffectedByFog(r){if(!this.style||!this.style.fog)return!1;if(this.transform.projection.name==="globe")return!0;let d=this._cachedTileFogOpacities[r.key];return d||(this._cachedTileFogOpacities[r.key]=d=this.style.fog.getOpacityForTile(r)),d[0]>=Ht||d[1]>=Ht}setupDepthForOcclusion(r,d,m){const b=this.context,w=b.gl,E=!!m;var A;m||(m={u_dem:2,u_dem_prev:4,u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_depth_range_unpack:[0,1],u_occluder_half_size:16,u_occlusion_depth_offset:-1e-4,u_exaggeration:0}),b.activeTexture.set(w.TEXTURE3),r&&this.depthFBO&&this.depthTexture?(this.depthTexture.bind(w.NEAREST,w.CLAMP_TO_EDGE),m.u_depth_size_inv=[1/this.depthFBO.width,1/this.depthFBO.height],m.u_depth_range_unpack=[2/((A=this.depthRangeFor3D)[1]-A[0]),-1-2*A[0]/(A[1]-A[0])],m.u_occluder_half_size=.5*this.occlusionParams.occluderSize,m.u_occlusion_depth_offset=this.occlusionParams.depthOffset):this.emptyDepthTexture.bind(w.NEAREST,w.CLAMP_TO_EDGE),b.activeTexture.set(w.TEXTURE0),E||d.setTerrainUniformValues(b,m)}}function Gs(p,r){let d=!1,m=null;const b=()=>{m=null,d&&(p(),m=setTimeout(b,r),d=!1)};return()=>(d=!0,m||b(),m)}class Pf{constructor(r){this._hashName=r&&encodeURIComponent(r),n.aJ(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Gs(this._updateHashUnthrottled.bind(this),300)}addTo(r){return this._map=r,window.addEventListener("hashchange",this._onHashChange,!1),r.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const r=this._map;if(!r)return"";const d=qu(r);if(this._hashName){const m=this._hashName;let b=!1;const w=location.hash.slice(1).split("&").map(E=>{const A=E.split("=")[0];return A===m?(b=!0,`${A}=${d}`):E}).filter(E=>E);return b||w.push(`${m}=${d}`),`#${w.join("&")}`}return`#${d}`}_getCurrentHash(){const r=location.hash.replace("#","");if(this._hashName){let d;return r.split("&").map(m=>m.split("=")).forEach(m=>{m[0]===this._hashName&&(d=m)}),(d&&d[1]||"").split("/")}return r.split("/")}_onHashChange(){const r=this._map;if(!r)return!1;const d=this._getCurrentHash();if(d.length>=3&&!d.some(m=>isNaN(m))){const m=r.dragRotate.isEnabled()&&r.touchZoomRotate.isEnabled()?+(d[3]||0):r.getBearing();return r.jumpTo({center:[+d[2],+d[1]],zoom:+d[0],bearing:m,pitch:+(d[4]||0)}),!0}return!1}_updateHashUnthrottled(){history.replaceState(history.state,"",location.href.replace(/(#.+)?$/,this.getHashString()))}}function qu(p,r){const d=p.getCenter(),m=Math.round(100*p.getZoom())/100,b=Math.ceil((m*Math.LN2+Math.log(512/360/.5))/Math.LN10),w=Math.pow(10,b),E=Math.round(d.lng*w)/w,A=Math.round(d.lat*w)/w,j=p.getBearing(),$=p.getPitch();let z=r?`/${E}/${A}/${m}`:`${m}/${A}/${E}`;return(j||$)&&(z+="/"+Math.round(10*j)/10),$&&(z+=`/${Math.round($)}`),z}const dd={linearity:.3,easing:n.dp(0,0,.3,1)},cm=n.l({deceleration:2500,maxSpeed:1400},dd),lm=n.l({deceleration:20,maxSpeed:1400},dd),Rc=n.l({deceleration:1e3,maxSpeed:360},dd),dm=n.l({deceleration:1e3,maxSpeed:90},dd);class If{constructor(r){this._map=r,this.clear()}clear(){this._inertiaBuffer=[]}record(r){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:n.q.now(),settings:r})}_drainInertiaBuffer(){const r=this._inertiaBuffer,d=n.q.now();for(;r.length>0&&d-r[0].time>160;)r.shift()}_onMoveEnd(r){if(this._map._prefersReducedMotion()||(this._drainInertiaBuffer(),this._inertiaBuffer.length<2))return;const d={zoom:0,bearing:0,pitch:0,pan:new n.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:w}of this._inertiaBuffer)d.zoom+=w.zoomDelta||0,d.bearing+=w.bearingDelta||0,d.pitch+=w.pitchDelta||0,w.panDelta&&d.pan._add(w.panDelta),w.around&&(d.around=w.around),w.pinchAround&&(d.pinchAround=w.pinchAround);const m=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,b={};if(d.pan.mag()){const w=hd(d.pan.mag(),m,n.l({},cm,r||{}));b.offset=d.pan.mult(w.amount/d.pan.mag()),b.center=this._map.transform.center,ud(b,w)}if(d.zoom){const w=hd(d.zoom,m,lm);b.zoom=this._map.transform.zoom+w.amount,ud(b,w)}if(d.bearing){const w=hd(d.bearing,m,Rc);b.bearing=this._map.transform.bearing+n.ap(w.amount,-179,179),ud(b,w)}if(d.pitch){const w=hd(d.pitch,m,dm);b.pitch=this._map.transform.pitch+w.amount,ud(b,w)}if(b.zoom||b.bearing){const w=d.pinchAround===void 0?d.around:d.pinchAround;b.around=w?this._map.unproject(w):this._map.getCenter()}return this.clear(),b.noMoveStart=!0,b}}function ud(p,r){(!p.duration||p.duration<r.duration)&&(p.duration=r.duration,p.easing=r.easing)}function hd(p,r,d){const{maxSpeed:m,linearity:b,deceleration:w}=d,E=n.ap(p*b/(r/1e3),-m,m),A=Math.abs(E)/(w*b);return{easing:d.easing,duration:1e3*A,amount:E*(A/2)}}class fo extends n.x{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,d,m,b={}){const w=De(d.getCanvasContainer(),m),E=d.unproject(w);super(r,n.l({point:w,lngLat:E,originalEvent:m},b)),this._defaultPrevented=!1,this.target=d}}class fd extends n.x{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,d,m){const b=r==="touchend"?m.changedTouches:m.touches,w=Ae(d.getCanvasContainer(),b),E=w.map(j=>d.unproject(j)),A=w.reduce((j,$,z,H)=>j.add($.div(H.length)),new n.P(0,0));super(r,{points:w,point:A,lngLats:E,lngLat:d.unproject(A),originalEvent:m}),this._defaultPrevented=!1}}class um extends n.x{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,d){super("wheel",{originalEvent:d}),this._defaultPrevented=!1}}class pd{constructor(r,d){this._map=r,this._clickTolerance=d.clickTolerance}reset(){this._mousedownPos=void 0}wheel(r){return this._firePreventable(new um(this._map,r))}mousedown(r,d){return this._mousedownPos=d,this._firePreventable(new fo(r.type,this._map,r))}mouseup(r){this._map.fire(new fo(r.type,this._map,r))}preclick(r){const d=n.l({},r);d.type="preclick",this._map.fire(new fo(d.type,this._map,d))}click(r,d){this._mousedownPos&&this._mousedownPos.dist(d)>=this._clickTolerance||(this.preclick(r),this._map.fire(new fo(r.type,this._map,r)))}dblclick(r){return this._firePreventable(new fo(r.type,this._map,r))}mouseover(r){this._map.fire(new fo(r.type,this._map,r))}mouseout(r){this._map.fire(new fo(r.type,this._map,r))}touchstart(r){return this._firePreventable(new fd(r.type,this._map,r))}touchmove(r){this._map.fire(new fd(r.type,this._map,r))}touchend(r){this._map.fire(new fd(r.type,this._map,r))}touchcancel(r){this._map.fire(new fd(r.type,this._map,r))}_firePreventable(r){if(this._map.fire(r),r.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class cl{constructor(r){this._map=r}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(r){this._map.fire(new fo(r.type,this._map,r))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new fo("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(r){this._delayContextMenu?this._contextMenuEvent=r:this._map.fire(new fo(r.type,this._map,r)),this._map.listens("contextmenu")&&r.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class hm{constructor(r,d){this._map=r,this._el=r.getCanvasContainer(),this._container=r.getContainer(),this._clickTolerance=d.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(r,d){this.isEnabled()&&r.shiftKey&&r.button===0&&(ce(),this._startPos=this._lastPos=d,this._active=!0)}mousemoveWindow(r,d){if(!this._active)return;const m=d,b=this._startPos,w=this._lastPos;if(!b||!w||w.equals(m)||!this._box&&m.dist(b)<this._clickTolerance)return;this._lastPos=m,this._box||(this._box=G("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",r));const E=Math.min(b.x,m.x),A=Math.max(b.x,m.x),j=Math.min(b.y,m.y),$=Math.max(b.y,m.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${E}px,${j}px)`,this._box.style.width=A-E+"px",this._box.style.height=$-j+"px")})}mouseupWindow(r,d){if(!this._active)return;const m=this._startPos,b=d;if(m&&r.button===0){if(this.reset(),pe(),m.x!==b.x||m.y!==b.y)return this._map.fire(new n.x("boxzoomend",{originalEvent:r})),{cameraAnimation:w=>w.fitScreenCoordinates(m,b,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",r)}}keydown(r){this._active&&r.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",r))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),he(),delete this._startPos,delete this._lastPos}_fireEvent(r,d){return this._map.fire(new n.x(r,{originalEvent:d}))}}function kf(p,r){const d={};for(let m=0;m<p.length;m++)d[p[m].identifier]=r[m];return d}class Z_{constructor(r){this.reset(),this.numTouches=r.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(r,d,m){(this.centroid||m.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=r.timeStamp),m.length===this.numTouches&&(this.centroid=function(b){const w=new n.P(0,0);for(const E of b)w._add(E);return w.div(b.length)}(d),this.touches=kf(m,d)))}touchmove(r,d,m){if(this.aborted||!this.centroid)return;const b=kf(m,d);for(const w in this.touches){const E=b[w];(!E||E.dist(this.touches[w])>30)&&(this.aborted=!0)}}touchend(r,d,m){if((!this.centroid||r.timeStamp-this.startTime>500)&&(this.aborted=!0),m.length===0){const b=!this.aborted&&this.centroid;if(this.reset(),b)return b}}}class Wu{constructor(r){this.singleTap=new Z_(r),this.numTaps=r.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(r,d,m){this.singleTap.touchstart(r,d,m)}touchmove(r,d,m){this.singleTap.touchmove(r,d,m)}touchend(r,d,m){const b=this.singleTap.touchend(r,d,m);if(b){const w=r.timeStamp-this.lastTime<500,E=!this.lastTap||this.lastTap.dist(b)<30;if(w&&E||this.reset(),this.count++,this.lastTime=r.timeStamp,this.lastTap=b,this.count===this.numTaps)return this.reset(),b}}}class fm{constructor(){this._zoomIn=new Wu({numTouches:1,numTaps:2}),this._zoomOut=new Wu({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(r,d,m){this._zoomIn.touchstart(r,d,m),this._zoomOut.touchstart(r,d,m)}touchmove(r,d,m){this._zoomIn.touchmove(r,d,m),this._zoomOut.touchmove(r,d,m)}touchend(r,d,m){const b=this._zoomIn.touchend(r,d,m),w=this._zoomOut.touchend(r,d,m);return b?(this._active=!0,r.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:E=>E.easeTo({duration:300,zoom:E.getZoom()+1,around:E.unproject(b)},{originalEvent:r})}):w?(this._active=!0,r.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:E=>E.easeTo({duration:300,zoom:E.getZoom()-1,around:E.unproject(w)},{originalEvent:r})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Ku={0:1,2:2};class Zu{constructor(r){this.reset(),this._clickTolerance=r.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(r,d){return!1}_move(r,d){return{}}mousedown(r,d){if(this._lastPoint)return;const m=Ne(r);this._correctButton(r,m)&&(this._lastPoint=d,this._eventButton=m)}mousemoveWindow(r,d){const m=this._lastPoint;if(m){if(r.preventDefault(),this._eventButton!=null&&function(b,w){const E=Ku[w];return b.buttons===void 0||(b.buttons&E)!==E}(r,this._eventButton))this.reset();else if(this._moved||!(d.dist(m)<this._clickTolerance))return this._moved=!0,this._lastPoint=d,this._move(m,d)}}mouseupWindow(r){this._lastPoint&&Ne(r)===this._eventButton&&(this._moved&&pe(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Mf extends Zu{mousedown(r,d){super.mousedown(r,d),this._lastPoint&&(this._active=!0)}_correctButton(r,d){return d===0&&!r.ctrlKey}_move(r,d){return{around:d,panDelta:d.sub(r)}}}class Af extends Zu{_correctButton(r,d){return d===0&&r.ctrlKey||d===2}_move(r,d){const m=.8*(d.x-r.x);if(m)return this._active=!0,{bearingDelta:m}}contextmenu(r){r.preventDefault()}}class Of extends Zu{_correctButton(r,d){return d===0&&r.ctrlKey||d===2}_move(r,d){const m=-.5*(d.y-r.y);if(m)return this._active=!0,{pitchDelta:m}}contextmenu(r){r.preventDefault()}}class Q_{constructor(r,d){this._map=r,this._el=r.getCanvasContainer(),this._minTouches=1,this._clickTolerance=d.clickTolerance||1,this.reset(),n.aJ(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new n.P(0,0)}touchstart(r,d,m){return this._calculateTransform(r,d,m)}touchmove(r,d,m){if(this._active&&!(m.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(m.length===1&&!n.dq())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return r.cancelable&&r.preventDefault(),this._calculateTransform(r,d,m)}}touchend(r,d,m){this._calculateTransform(r,d,m),this._active&&m.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(r,d,m){m.length>0&&(this._active=!0);const b=kf(m,d),w=new n.P(0,0),E=new n.P(0,0);let A=0;for(const $ in b){const z=b[$],H=this._touches[$];H&&(w._add(z),E._add(z.sub(H)),A++,b[$]=z)}if(this._touches=b,A<this._minTouches||!E.mag())return;const j=E.div(A);return this._sum._add(j),this._sum.mag()<this._clickTolerance?void 0:{around:w.div(A),panDelta:j}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=G("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=window.setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.removeAttribute("role")},500)}}class Lf{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(r){}_move(r,d,m){return{}}touchstart(r,d,m){this._firstTwoTouches||m.length<2||(this._firstTwoTouches=[m[0].identifier,m[1].identifier],this._start([d[0],d[1]]))}touchmove(r,d,m){const b=this._firstTwoTouches;if(!b)return;r.preventDefault();const[w,E]=b,A=Qu(m,d,w),j=Qu(m,d,E);if(!A||!j)return;const $=this._aroundCenter?null:A.add(j).div(2);return this._move([A,j],$,r)}touchend(r,d,m){if(!this._firstTwoTouches)return;const[b,w]=this._firstTwoTouches,E=Qu(m,d,b),A=Qu(m,d,w);E&&A||(this._active&&pe(),this.reset())}touchcancel(){this.reset()}enable(r){this._enabled=!0,this._aroundCenter=!!r&&r.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Qu(p,r,d){for(let m=0;m<p.length;m++)if(p[m].identifier===d)return r[m]}function pm(p,r){return Math.log(p/r)/Math.LN2}class X_ extends Lf{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(r){this._startDistance=this._distance=r[0].dist(r[1])}_move(r,d){const m=this._distance;if(this._distance=r[0].dist(r[1]),this._active||!(Math.abs(pm(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:pm(this._distance,m),pinchAround:d}}}function mm(p,r){return 180*p.angleWith(r)/Math.PI}class J_ extends Lf{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(r){this._startVector=this._vector=r[0].sub(r[1]),this._minDiameter=r[0].dist(r[1])}_move(r,d){const m=this._vector;if(this._vector=r[0].sub(r[1]),m&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:mm(this._vector,m),pinchAround:d}}_isBelowThreshold(r){this._minDiameter=Math.min(this._minDiameter,r.mag());const d=25/(Math.PI*this._minDiameter)*360,m=this._startVector;if(!m)return!1;const b=mm(r,m);return Math.abs(b)<d}}function Df(p){return Math.abs(p.y)>Math.abs(p.x)}class Y_ extends Lf{constructor(r){super(),this._map=r}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(r){this._lastPoints=r,Df(r[0].sub(r[1]))&&(this._valid=!1)}_move(r,d,m){const b=this._lastPoints;if(!b)return;const w=r[0].sub(b[0]),E=r[1].sub(b[1]);return this._map._cooperativeGestures&&!n.dq()&&m.touches.length<3||(this._valid=this.gestureBeginsVertically(w,E,m.timeStamp),!this._valid)?void 0:(this._lastPoints=r,this._active=!0,{pitchDelta:(w.y+E.y)/2*-.5})}gestureBeginsVertically(r,d,m){if(this._valid!==void 0)return this._valid;const b=r.mag()>=2,w=d.mag()>=2;if(!b&&!w)return;if(!b||!w)return this._firstMove==null&&(this._firstMove=m),m-this._firstMove<100&&void 0;const E=r.y>0==d.y>0;return Df(r)&&Df(d)&&E}}const ey={panStep:100,bearingStep:15,pitchStep:10};class ty{constructor(){const r=ey;this._panStep=r.panStep,this._bearingStep=r.bearingStep,this._pitchStep=r.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(r){if(r.altKey||r.ctrlKey||r.metaKey)return;let d=0,m=0,b=0,w=0,E=0;switch(r.keyCode){case 61:case 107:case 171:case 187:d=1;break;case 189:case 109:case 173:d=-1;break;case 37:r.shiftKey?m=-1:(r.preventDefault(),w=-1);break;case 39:r.shiftKey?m=1:(r.preventDefault(),w=1);break;case 38:r.shiftKey?b=1:(r.preventDefault(),E=-1);break;case 40:r.shiftKey?b=-1:(r.preventDefault(),E=1);break;default:return}return this._rotationDisabled&&(m=0,b=0),{cameraAnimation:A=>{const j=A.getZoom();A.easeTo({duration:300,easeId:"keyboardHandler",easing:iy,zoom:d?Math.round(j)+d*(r.shiftKey?2:1):j,bearing:A.getBearing()+m*this._bearingStep,pitch:A.getPitch()+b*this._pitchStep,offset:[-w*this._panStep,-E*this._panStep],center:A.getCenter()},{originalEvent:r})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function iy(p){return p*(2-p)}const gm=4.000244140625,wv=1/450;class Fv{constructor(r,d){this._map=r,this._el=r.getCanvasContainer(),this._handler=d,this._delta=0,this._lastDelta=0,this._defaultZoomRate=.01,this._wheelZoomRate=wv,n.aJ(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(r){this._defaultZoomRate=r}setWheelZoomRate(r){this._wheelZoomRate=r}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(r){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!r&&r.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(r){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(r.ctrlKey||r.metaKey||this.isZooming()||n.dq()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let d=r.deltaMode===WheelEvent.DOM_DELTA_LINE?40*r.deltaY:r.deltaY;const m=n.q.now(),b=m-(this._lastWheelEventTime||0);this._lastWheelEventTime=m,d!==0&&d%gm==0?this._type="wheel":d!==0&&Math.abs(d)<4?this._type="trackpad":b>400?(this._type=null,this._lastValue=d,this._timeout=window.setTimeout(this._onTimeout,40,r)):this._type||(this._type=Math.abs(b*d)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,d+=this._lastValue)),r.shiftKey&&d&&(d/=4),this._type&&(this._lastWheelEvent=r,this._delta-=d,this._active||this._start(r)),r.preventDefault()}_onTimeout(r){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(r)}_start(r){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const d=De(this._el,r);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:d,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const r=this._map.transform;this._type==="wheel"&&r.projection.wrap&&(r._center.lng>=180||r._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const d=()=>r._terrainEnabled()&&this._aroundCoord?r.computeZoomRelativeTo(this._aroundCoord):r.zoom;if(this._delta!==0){const $=this._type==="wheel"&&Math.abs(this._delta)>gm?this._wheelZoomRate:this._defaultZoomRate;let z=2/(1+Math.exp(-Math.abs(this._delta*$)));this._delta<0&&z!==0&&(z=1/z);const H=d(),W=Math.pow(2,H),ee=typeof this._targetZoom=="number"?r.zoomScale(this._targetZoom):W;this._targetZoom=Math.min(r.maxZoom,Math.max(r.minZoom,r.scaleZoom(ee*z))),this._type==="wheel"&&(this._startZoom=H,this._easing=this._smoothOutEasing(200)),this._lastDelta=this._delta,this._delta=0}const m=typeof this._targetZoom=="number"?this._targetZoom:d(),b=this._startZoom,w=this._easing;let E,A=!1;if(this._type==="wheel"&&b&&w){const $=Math.min((n.q.now()-this._lastWheelEventTime)/200,1),z=w($);E=n.aa(b,m,z),$<1?this._frameId||(this._frameId=!0):A=!0}else E=m,A=!0;this._active=!0,A&&(this._active=!1,this._finishTimeout=window.setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200));let j=E-d();return j*this._lastDelta<0&&(j=0),{noInertia:!0,needsRenderFrame:!A,zoomDelta:j,around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(r){let d=n.dr;if(this._prevEase){const m=this._prevEase,b=(n.q.now()-m.start)/m.duration,w=m.easing(b+.01)-m.easing(b),E=.27/Math.sqrt(w*w+1e-4)*.01,A=Math.sqrt(.0729-E*E);d=n.dp(E,A,.25,1)}return this._prevEase={start:n.q.now(),duration:r,easing:d},d}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=G("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=window.setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.removeAttribute("role")},200)}}class Po{constructor(r,d){this._clickZoom=r,this._tapZoom=d}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class ny{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(r,d){return r.preventDefault(),{cameraAnimation:m=>{m.easeTo({duration:300,zoom:m.getZoom()+(r.shiftKey?-1:1),around:m.unproject(d)},{originalEvent:r})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Cv{constructor(){this._tap=new Wu({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(r,d,m){this._swipePoint||(this._tapTime&&r.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?m.length>0&&(this._swipePoint=d[0],this._swipeTouch=m[0].identifier):this._tap.touchstart(r,d,m))}touchmove(r,d,m){if(this._tapTime){if(this._swipePoint){if(m[0].identifier!==this._swipeTouch)return;const b=d[0],w=b.y-this._swipePoint.y;return this._swipePoint=b,r.preventDefault(),this._active=!0,{zoomDelta:w/128}}}else this._tap.touchmove(r,d,m)}touchend(r,d,m){this._tapTime?this._swipePoint&&m.length===0&&this.reset():this._tap.touchend(r,d,m)&&(this._tapTime=r.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ev{constructor(r,d,m){this._el=r,this._mousePan=d,this._touchPan=m}enable(r){this._inertiaOptions=r||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Xu{constructor(r,d,m){this._pitchWithRotate=r.pitchWithRotate,this._mouseRotate=d,this._mousePitch=m}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class oy{constructor(r,d,m,b){this._el=r,this._touchZoom=d,this._touchRotate=m,this._tapDragZoom=b,this._rotationDisabled=!1,this._enabled=!0}enable(r){this._touchZoom.enable(r),this._rotationDisabled||this._touchRotate.enable(r),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const md=p=>p.zoom||p.drag||p.pitch||p.rotate;class Bf extends n.x{}class Hs{constructor(){this.constants=[1,1,.01],this.radius=0}setup(r,d){const m=n.a6.vec3.sub([],d,r);this.radius=n.a6.vec3.length(m[2]<0?n.a6.vec3.div([],m,this.constants):[m[0],m[1],0])}projectRay(r){n.a6.vec3.div(r,r,this.constants),n.a6.vec3.normalize(r,r),n.a6.vec3.mul(r,r,this.constants);const d=n.a6.vec3.scale([],r,this.radius);if(d[2]>0){const m=n.a6.vec3.scale([],[0,0,1],n.a6.vec3.dot(d,[0,0,1])),b=n.a6.vec3.scale([],n.a6.vec3.normalize([],[d[0],d[1],0]),this.radius),w=n.a6.vec3.add([],d,n.a6.vec3.scale([],n.a6.vec3.sub([],n.a6.vec3.add([],b,m),d),2));d[0]=w[0],d[1]=w[1]}return d}}function ll(p){return p.panDelta&&p.panDelta.mag()||p.zoomDelta||p.bearingDelta||p.pitchDelta}class rr{constructor(r,d){this._map=r,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new If(r),this._bearingSnap=d.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new Hs,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(d),n.aJ(["handleEvent","handleWindowEvent"],this);const m=this._el;this._listeners=[[m,"touchstart",{passive:!0}],[m,"touchmove",{passive:!1}],[m,"touchend",void 0],[m,"touchcancel",void 0],[m,"mousedown",void 0],[m,"mousemove",void 0],[m,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[m,"mouseover",void 0],[m,"mouseout",void 0],[m,"dblclick",void 0],[m,"click",void 0],[m,"keydown",{capture:!1}],[m,"keyup",void 0],[m,"wheel",{passive:!1}],[m,"contextmenu",void 0],[window,"blur",void 0]];for(const[b,w,E]of this._listeners){const A=b===document?this.handleWindowEvent:this.handleEvent;b.addEventListener(w,A,E)}}destroy(){for(const[r,d,m]of this._listeners){const b=r===document?this.handleWindowEvent:this.handleEvent;r.removeEventListener(d,b,m)}}_addDefaultHandlers(r){const d=this._map,m=d.getCanvasContainer();this._add("mapEvent",new pd(d,r));const b=d.boxZoom=new hm(d,r);this._add("boxZoom",b);const w=new fm,E=new ny;d.doubleClickZoom=new Po(E,w),this._add("tapZoom",w),this._add("clickZoom",E);const A=new Cv;this._add("tapDragZoom",A);const j=d.touchPitch=new Y_(d);this._add("touchPitch",j);const $=new Af(r),z=new Of(r);d.dragRotate=new Xu(r,$,z),this._add("mouseRotate",$,["mousePitch"]),this._add("mousePitch",z,["mouseRotate"]);const H=new Mf(r),W=new Q_(d,r);d.dragPan=new Ev(m,H,W),this._add("mousePan",H),this._add("touchPan",W,["touchZoom","touchRotate"]);const ee=new J_,oe=new X_;d.touchZoomRotate=new oy(m,oe,ee,A),this._add("touchRotate",ee,["touchPan","touchZoom"]),this._add("touchZoom",oe,["touchPan","touchRotate"]),this._add("blockableMapEvent",new cl(d));const ne=d.scrollZoom=new Fv(d,this);this._add("scrollZoom",ne,["mousePan"]);const se=d.keyboard=new ty;this._add("keyboard",se);for(const ae of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])r.interactive&&r[ae]&&d[ae].enable(r[ae])}_add(r,d,m){this._handlers.push({handlerName:r,handler:d,allowed:m}),this._handlersById[r]=d}stop(r){if(!this._updatingCamera){for(const{handler:d}of this._handlers)d.reset();this._inertia.clear(),this._fireEvents({},{},r),this._changes=[],this._originalZoom=void 0}}isActive(){for(const{handler:r}of this._handlers)if(r.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!md(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(r,d,m){for(const b in r)if(b!==m&&(!d||d.indexOf(b)<0))return!0;return!1}handleWindowEvent(r){this.handleEvent(r,`${r.type}Window`)}_getMapTouches(r){const d=[];for(const m of r)this._el.contains(m.target)&&d.push(m);return d}handleEvent(r,d){this._updatingCamera=!0;const m=r.type==="renderFrame",b=m?void 0:r,w={needsRenderFrame:!1},E={},A={},j=r.touches?this._getMapTouches(r.touches):void 0,$=j?Ae(this._el,j):m?void 0:De(this._el,r);for(const{handlerName:W,handler:ee,allowed:oe}of this._handlers){if(!ee.isEnabled())continue;let ne;this._blockedByActive(A,oe,W)?ee.reset():ee[d||r.type]&&(ne=ee[d||r.type](r,$,j),this.mergeHandlerResult(w,E,ne,W,b),ne&&ne.needsRenderFrame&&this._triggerRenderFrame()),(ne||ee.isActive())&&(A[W]=ee)}const z={};for(const W in this._previousActiveHandlers)A[W]||(z[W]=b);this._previousActiveHandlers=A,(Object.keys(z).length||ll(w))&&(this._changes.push([w,E,z]),this._triggerRenderFrame()),(Object.keys(A).length||ll(w))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:H}=w;H&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],H(this._map))}mergeHandlerResult(r,d,m,b,w){if(!m)return;n.l(r,m);const E={handlerName:b,originalEvent:m.originalEvent||w};m.zoomDelta!==void 0&&(d.zoom=E),m.panDelta!==void 0&&(d.drag=E),m.pitchDelta!==void 0&&(d.pitch=E),m.bearingDelta!==void 0&&(d.rotate=E)}_applyChanges(){const r={},d={},m={};for(const[b,w,E]of this._changes)b.panDelta&&(r.panDelta=(r.panDelta||new n.P(0,0))._add(b.panDelta)),b.zoomDelta&&(r.zoomDelta=(r.zoomDelta||0)+b.zoomDelta),b.bearingDelta&&(r.bearingDelta=(r.bearingDelta||0)+b.bearingDelta),b.pitchDelta&&(r.pitchDelta=(r.pitchDelta||0)+b.pitchDelta),b.around!==void 0&&(r.around=b.around),b.aroundCoord!==void 0&&(r.aroundCoord=b.aroundCoord),b.pinchAround!==void 0&&(r.pinchAround=b.pinchAround),b.noInertia&&(r.noInertia=b.noInertia),n.l(d,w),n.l(m,E);this._updateMapTransform(r,d,m),this._changes=[]}_updateMapTransform(r,d,m){const b=this._map,w=b.transform,E=me=>[me.x,me.y,me.z];if((me=>{const Fe=this._eventsInProgress.drag;return Fe&&!this._handlersById[Fe.handlerName].isActive()})()&&!ll(r)){const me=w.zoom;w.cameraElevationReference="sea",this._originalZoom!=null&&w._orthographicProjectionAtLowPitch&&w.projection.name!=="globe"&&w.pitch===0?(w.cameraElevationReference="ground",w.zoom=this._originalZoom):(w.recenterOnTerrain(),w.cameraElevationReference="ground"),me!==w.zoom&&this._map._update(!0)}if(w._isCameraConstrained&&b._stop(!0),!ll(r))return void this._fireEvents(d,m,!0);let{panDelta:A,zoomDelta:j,bearingDelta:$,pitchDelta:z,around:H,aroundCoord:W,pinchAround:ee}=r;w._isCameraConstrained&&(j>0&&(j=0),w._isCameraConstrained=!1),ee!==void 0&&(H=ee),(j||(me=>d[me]&&!this._eventsInProgress[me])("drag"))&&H&&(this._dragOrigin=E(w.pointCoordinate3D(H)),this._originalZoom=w.zoom,this._trackingEllipsoid.setup(w._camera.position,this._dragOrigin)),w.cameraElevationReference="sea",b._stop(!0),H=H||b.transform.centerPoint,$&&(w.bearing+=$),z&&(w.pitch+=z),w._updateCameraState();const oe=[0,0,0];if(A)if(w.projection.name==="mercator"){const me=this._trackingEllipsoid.projectRay(w.screenPointToMercatorRay(H).dir),Fe=this._trackingEllipsoid.projectRay(w.screenPointToMercatorRay(H.sub(A)).dir);oe[0]=Fe[0]-me[0],oe[1]=Fe[1]-me[1]}else{const me=w.pointCoordinate(H);if(w.projection.name==="globe"){A=A.rotate(-w.angle);const Fe=w._pixelsPerMercatorPixel/w.worldSize;oe[0]=-A.x*n.ds(n.aN(me.y))*Fe,oe[1]=-A.y*n.ds(w.center.lat)*Fe}else{const Fe=w.pointCoordinate(H.sub(A));me&&Fe&&(oe[0]=Fe.x-me.x,oe[1]=Fe.y-me.y)}}const ne=w.zoom,se=[0,0,0];if(j){const me=E(W||w.pointCoordinate3D(H)),Fe={dir:n.a6.vec3.normalize([],n.a6.vec3.sub([],me,w._camera.position))};if(Fe.dir[2]<0){const Ce=w.zoomDeltaToMovement(me,j);n.a6.vec3.scale(se,Fe.dir,Ce)}}const ae=n.a6.vec3.add(oe,oe,se);w._translateCameraConstrained(ae),j&&Math.abs(w.zoom-ne)>1e-4&&w.recenterOnTerrain(),w.cameraElevationReference="ground",this._map._update(),r.noInertia||this._inertia.record(r),this._fireEvents(d,m,!0)}_fireEvents(r,d,m){const b=md(this._eventsInProgress),w=md(r),E={};for(const z in r){const{originalEvent:H}=r[z];this._eventsInProgress[z]||(E[`${z}start`]=H),this._eventsInProgress[z]=r[z]}!b&&w&&this._fireEvent("movestart",w.originalEvent);for(const z in E)this._fireEvent(z,E[z]);w&&this._fireEvent("move",w.originalEvent);for(const z in r){const{originalEvent:H}=r[z];this._fireEvent(z,H)}const A={};let j;for(const z in this._eventsInProgress){const{handlerName:H,originalEvent:W}=this._eventsInProgress[z];this._handlersById[H].isActive()||(delete this._eventsInProgress[z],j=d[H]||W,A[`${z}end`]=j)}for(const z in A)this._fireEvent(z,A[z]);const $=md(this._eventsInProgress);if(m&&(b||w)&&!$){this._updatingCamera=!0;const z=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),H=W=>W!==0&&-this._bearingSnap<W&&W<this._bearingSnap;z?(H(z.bearing||this._map.getBearing())&&(z.bearing=0),this._map.easeTo(z,{originalEvent:j})):(this._map.fire(new n.x("moveend",{originalEvent:j})),H(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(r,d){this._map.fire(new n.x(r,d?{originalEvent:d}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(r=>{this._frameId=void 0,this.handleEvent(new Bf("renderFrame",{timeStamp:r})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const ys="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class _m extends n.E{constructor(r,d){super(),this._moving=!1,this._zooming=!1,this.transform=r,this._bearingSnap=d.bearingSnap,this._respectPrefersReducedMotion=d.respectPrefersReducedMotion!==!1,n.aJ(["_renderFrameCallback"],this)}getCenter(){return new n.bL(this.transform.center.lng,this.transform.center.lat)}setCenter(r,d){return this.jumpTo({center:r},d)}panBy(r,d,m){return r=n.P.convert(r).mult(-1),this.panTo(this.transform.center,n.l({offset:r},d),m)}panTo(r,d,m){return this.easeTo(n.l({center:r},d),m)}getZoom(){return this.transform.zoom}setZoom(r,d){return this.jumpTo({zoom:r},d),this}zoomTo(r,d,m){return this.easeTo(n.l({zoom:r},d),m)}zoomIn(r,d){return this.zoomTo(this.getZoom()+1,r,d),this}zoomOut(r,d){return this.zoomTo(this.getZoom()-1,r,d),this}getBearing(){return this.transform.bearing}setBearing(r,d){return this.jumpTo({bearing:r},d),this}getPadding(){return this.transform.padding}setPadding(r,d){return this.jumpTo({padding:r},d),this}rotateTo(r,d,m){return this.easeTo(n.l({bearing:r},d),m)}resetNorth(r,d){return this.rotateTo(0,n.l({duration:1e3},r),d),this}resetNorthPitch(r,d){return this.easeTo(n.l({bearing:0,pitch:0,duration:1e3},r),d),this}snapToNorth(r,d){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(r,d):this}getPitch(){return this.transform.pitch}setPitch(r,d){return this.jumpTo({pitch:r},d),this}cameraForBounds(r,d){r=n.as.convert(r);const m=d&&d.bearing||0,b=d&&d.pitch||0,w=r.getNorthWest(),E=r.getSouthEast();return this._cameraForBounds(this.transform,w,E,m,b,d)}_extendPadding(r){const d={top:0,right:0,bottom:0,left:0};return r==null?n.l({},d,this.transform.padding):typeof r=="number"?{top:r,bottom:r,right:r,left:r}:n.l({},d,r)}_extendCameraOptions(r){return(r=n.l({offset:[0,0],maxZoom:this.transform.maxZoom},r)).padding=this._extendPadding(r.padding),r}_minimumAABBFrustumDistance(r,d){const m=d.max[0]-d.min[0],b=d.max[1]-d.min[1];return m/b>r.aspect?m/(2*Math.tan(.5*r.fovX)*r.aspect):b/(2*Math.tan(.5*r.fovY)*r.aspect)}_cameraForBoundsOnGlobe(r,d,m,b,w,E){const A=r.clone(),j=this._extendCameraOptions(E);A.bearing=b,A.pitch=w;const $=n.bL.convert(d),z=n.bL.convert(m),H=.5*($.lat+z.lat),W=.5*($.lng+z.lng),ee=n.dt(H,W),oe=n.a6.vec3.normalize([],ee),ne=n.a6.vec3.normalize([],n.a6.vec3.cross([],oe,[0,1,0])),se=n.a6.vec3.cross([],ne,oe),ae=[ne[0],ne[1],ne[2],0,se[0],se[1],se[2],0,oe[0],oe[1],oe[2],0,0,0,0,1],me=[ee,n.dt($.lat,$.lng),n.dt(z.lat,$.lng),n.dt(z.lat,z.lng),n.dt($.lat,z.lng),n.dt(H,$.lng),n.dt(H,z.lng),n.dt($.lat,W),n.dt(z.lat,W)];let Fe=n.ca.fromPoints(me.map(_t=>[n.a6.vec3.dot(ne,_t),n.a6.vec3.dot(se,_t),n.a6.vec3.dot(oe,_t)]));const Ce=n.a6.vec3.transformMat4([],Fe.center,ae);n.a6.vec3.squaredLength(Ce)===0&&n.a6.vec3.set(Ce,0,0,1),n.a6.vec3.normalize(Ce,Ce),n.a6.vec3.scale(Ce,Ce,n.aq),A.center=n.du(Ce);const Pe=A.getWorldToCameraMatrix(),Me=n.a6.mat4.invert(new Float64Array(16),Pe);Fe=n.ca.applyTransform(Fe,n.a6.mat4.multiply([],Pe,ae));const Ie=this._extendAABB(Fe,A,j,b);if(!Ie)return void n.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");Fe=Ie,n.a6.vec3.transformMat4(Ce,Ce,Pe);const Le=.5*(Fe.max[2]-Fe.min[2]),$e=this._minimumAABBFrustumDistance(A,Fe),Qe=n.a6.vec3.scale([],[0,0,1],Le),He=n.a6.vec3.add(Qe,Ce,Qe),Ue=$e+(A.pitch===0?0:n.a6.vec3.distance(Ce,He)),gt=A.globeCenterInViewSpace,Ft=n.a6.vec3.sub([],Ce,[gt[0],gt[1],gt[2]]);n.a6.vec3.normalize(Ft,Ft),n.a6.vec3.scale(Ft,Ft,Ue);const Dt=n.a6.vec3.add([],Ce,Ft);n.a6.vec3.transformMat4(Dt,Dt,Me);const Gt=n.dw/n.aq,Qt=n.a6.vec3.length(Dt),st=n.bE(Math.max(Qt*Gt-n.dw,Number.EPSILON),0),Ot=Math.min(A.zoomFromMercatorZAdjusted(st),j.maxZoom);return Ot>.5*(n.c3+n.bV)?(A.setProjection({name:"mercator"}),A.zoom=Ot,this._cameraForBounds(A,d,m,b,w,E)):{center:A.center,zoom:Ot,bearing:b,pitch:w}}_extendAABB(r,d,m,b){const w=.5*((m.padding.left||0)+(m.padding.right||0)),E=.5*((m.padding.top||0)+(m.padding.bottom||0)),A=E,j=w,$=w,z=E,H=d.width-(j+$),W=d.height-(A+z),ee=n.a6.vec3.sub([],r.max,r.min),oe=Math.min(H/ee[0],W/ee[1]),ne=Math.min(d.scaleZoom(d.scale*oe),m.maxZoom);if(isNaN(ne))return null;const se=d.scale/d.zoomScale(ne),ae=new n.ca([r.min[0]-j*se,r.min[1]-z*se,r.min[2]],[r.max[0]+$*se,r.max[1]+A*se,r.max[2]]),me=(typeof m.offset.x=="number"&&typeof m.offset.y=="number"?new n.P(m.offset.x,m.offset.y):n.P.convert(m.offset)).rotate(-n.bC(b));return ae.center[0]-=me.x*se,ae.center[1]+=me.y*se,ae}queryTerrainElevation(r,d){const m=this.transform.elevation;return m?(d=n.l({},{exaggerated:!0},d),m.getAtPoint(n.a5.fromLngLat(r),null,d.exaggerated)):null}_cameraForBounds(r,d,m,b,w,E){if(r.projection.name==="globe")return this._cameraForBoundsOnGlobe(r,d,m,b,w,E);const A=r.clone(),j=this._extendCameraOptions(E);A.bearing=b,A.pitch=w;const $=n.bL.convert(d),z=n.bL.convert(m),H=new n.bL($.lng,z.lat),W=new n.bL(z.lng,$.lat),ee=A.project($),oe=A.project(z),ne=this.queryTerrainElevation($),se=this.queryTerrainElevation(z),ae=this.queryTerrainElevation(H),me=this.queryTerrainElevation(W),Fe=[[ee.x,ee.y,Math.min(ne||0,se||0,ae||0,me||0)],[oe.x,oe.y,Math.max(ne||0,se||0,ae||0,me||0)]];let Ce=n.ca.fromPoints(Fe);const Pe=A.getWorldToCameraMatrix(),Me=n.a6.mat4.invert(new Float64Array(16),Pe);Ce=n.ca.applyTransform(Ce,Pe);const Ie=this._extendAABB(Ce,A,j,b);if(!Ie)return void n.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");Ce=Ie;const Le=.5*n.a6.vec3.sub([],Ce.max,Ce.min)[2],$e=this._minimumAABBFrustumDistance(A,Ce),Qe=[0,0,1,0];n.a6.vec4.transformMat4(Qe,Qe,Pe),n.a6.vec4.normalize(Qe,Qe);const He=n.a6.vec3.scale([],Qe,$e+Le),Ue=n.a6.vec3.add([],Ce.center,He);n.a6.vec3.transformMat4(Ce.center,Ce.center,Me),n.a6.vec3.transformMat4(Ue,Ue,Me);const gt=A.unproject(new n.P(Ce.center[0],Ce.center[1])),Ft=n.dv(A.projection,gt),Dt=Math.pow(2,Ft),Gt=Math.min(A._zoomFromMercatorZ(Ue[2]*A.pixelsPerMeter*Dt/A.worldSize),j.maxZoom);return A.mercatorFromTransition&&Gt<.5*(n.c3+n.bV)?(A.setProjection({name:"globe"}),A.zoom=Gt,this._cameraForBounds(A,d,m,b,w,E)):{center:gt,zoom:Gt,bearing:b,pitch:w}}fitBounds(r,d,m){const b=this.cameraForBounds(r,d);return this._fitInternal(b,d,m)}fitScreenCoordinates(r,d,m,b,w){const E=n.P.convert(r),A=n.P.convert(d),j=new n.P(Math.min(E.x,A.x),Math.min(E.y,A.y)),$=new n.P(Math.max(E.x,A.x),Math.max(E.y,A.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(E,A))return this;const z=this.transform.pointLocation3D(j),H=this.transform.pointLocation3D($),W=this.transform.pointLocation3D(new n.P(j.x,$.y)),ee=this.transform.pointLocation3D(new n.P($.x,j.y)),oe=[Math.min(z.lng,H.lng,W.lng,ee.lng),Math.min(z.lat,H.lat,W.lat,ee.lat)],ne=[Math.max(z.lng,H.lng,W.lng,ee.lng),Math.max(z.lat,H.lat,W.lat,ee.lat)],se=b&&b.pitch?b.pitch:this.getPitch(),ae=this._cameraForBounds(this.transform,oe,ne,m,se,b);return this._fitInternal(ae,b,w)}_fitInternal(r,d,m){return r?(d=n.l(r,d)).linear?this.easeTo(d,m):this.flyTo(d,m):this}jumpTo(r,d){this.stop();const m=r.preloadOnly?this.transform.clone():this.transform;let b=!1,w=!1,E=!1;"zoom"in r&&m.zoom!==+r.zoom&&(b=!0,m.zoom=+r.zoom),r.center!==void 0&&(m.center=n.bL.convert(r.center)),"bearing"in r&&m.bearing!==+r.bearing&&(w=!0,m.bearing=+r.bearing),"pitch"in r&&m.pitch!==+r.pitch&&(E=!0,m.pitch=+r.pitch);const A=typeof r.padding=="number"?this._extendPadding(r.padding):r.padding;if(r.padding!=null&&!m.isPaddingEqual(A))if(r.retainPadding===!1){const j=m.clone();j.padding=A,m.setLocationAtPoint(m.center,j.centerPoint)}else m.padding=A;return r.preloadOnly?(this._preloadTiles(m),this):(this.fire(new n.x("movestart",d)).fire(new n.x("move",d)),b&&this.fire(new n.x("zoomstart",d)).fire(new n.x("zoom",d)).fire(new n.x("zoomend",d)),w&&this.fire(new n.x("rotatestart",d)).fire(new n.x("rotate",d)).fire(new n.x("rotateend",d)),E&&this.fire(new n.x("pitchstart",d)).fire(new n.x("pitch",d)).fire(new n.x("pitchend",d)),this.fire(new n.x("moveend",d)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||n.w(ys),this.transform.getFreeCameraOptions()}setFreeCameraOptions(r,d){const m=this.transform;if(!m.projection.supportsFreeCamera)return n.w(ys),this;this.stop();const b=m.zoom,w=m.pitch,E=m.bearing;m.setFreeCameraOptions(r);const A=b!==m.zoom,j=w!==m.pitch,$=E!==m.bearing;return this.fire(new n.x("movestart",d)).fire(new n.x("move",d)),A&&this.fire(new n.x("zoomstart",d)).fire(new n.x("zoom",d)).fire(new n.x("zoomend",d)),$&&this.fire(new n.x("rotatestart",d)).fire(new n.x("rotate",d)).fire(new n.x("rotateend",d)),j&&this.fire(new n.x("pitchstart",d)).fire(new n.x("pitch",d)).fire(new n.x("pitchend",d)),this.fire(new n.x("moveend",d)),this}easeTo(r,d){this._stop(!1,r.easeId),((r=n.l({offset:[0,0],duration:500,easing:n.dr},r)).animate===!1||this._prefersReducedMotion(r))&&(r.duration=0);const m=this.transform,b=this.getZoom(),w=this.getBearing(),E=this.getPitch(),A=this.getPadding(),j="zoom"in r?+r.zoom:b,$="bearing"in r?this._normalizeBearing(r.bearing,w):w,z="pitch"in r?+r.pitch:E,H=this._extendPadding(r.padding),W=n.P.convert(r.offset);let ee,oe,ne;if(m.projection.name==="globe"){const Qe=n.a5.fromLngLat(m.center),He=W.rotate(-m.angle);Qe.x+=He.x/m.worldSize,Qe.y+=He.y/m.worldSize;const Ue=Qe.toLngLat(),gt=n.bL.convert(r.center||Ue);this._normalizeCenter(gt),ee=m.centerPoint.add(He),oe=new n.P(Qe.x,Qe.y).mult(m.worldSize),ne=new n.P(n.am(gt.lng),n.at(gt.lat)).mult(m.worldSize).sub(oe)}else{ee=m.centerPoint.add(W);const Qe=m.pointLocation(ee),He=n.bL.convert(r.center||Qe);this._normalizeCenter(He),oe=m.project(Qe),ne=m.project(He).sub(oe)}const se=m.zoomScale(j-b);let ae,me;r.around&&(ae=n.bL.convert(r.around),me=m.locationPoint(ae));const Fe=this._zooming||j!==b,Ce=this._rotating||w!==$,Pe=this._pitching||z!==E,Me=!m.isPaddingEqual(H),Ie=r.retainPadding===!1?m.clone():m,Le=Qe=>He=>{if(Fe&&(Qe.zoom=n.aa(b,j,He)),Ce&&(Qe.bearing=n.aa(w,$,He)),Pe&&(Qe.pitch=n.aa(E,z,He)),Me&&(Ie.interpolatePadding(A,H,He),ee=Ie.centerPoint.add(W)),ae)Qe.setLocationAtPoint(ae,me);else{const Ue=Qe.zoomScale(Qe.zoom-b),gt=j>b?Math.min(2,se):Math.max(.5,se),Ft=Math.pow(gt,1-He),Dt=Qe.unproject(oe.add(ne.mult(He*Ft)).mult(Ue));Qe.setLocationAtPoint(Qe.renderWorldCopies?Dt.wrap():Dt,ee)}return r.preloadOnly||this._fireMoveEvents(d),Qe};if(r.preloadOnly){const Qe=this._emulate(Le,r.duration,m);return this._preloadTiles(Qe),this}const $e={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=Fe,this._rotating=Ce,this._pitching=Pe,this._padding=Me,this._easeId=r.easeId,this._prepareEase(d,r.noMoveStart,$e),this._ease(Le(m),Qe=>{m.cameraElevationReference==="sea"&&m.recenterOnTerrain(),this._afterEase(d,Qe)},r),this}_prepareEase(r,d,m={}){this._moving=!0,this.transform.cameraElevationReference="sea",this.transform._orthographicProjectionAtLowPitch&&this.transform.pitch===0&&this.transform.projection.name!=="globe"&&(this.transform.cameraElevationReference="ground"),d||m.moving||this.fire(new n.x("movestart",r)),this._zooming&&!m.zooming&&this.fire(new n.x("zoomstart",r)),this._rotating&&!m.rotating&&this.fire(new n.x("rotatestart",r)),this._pitching&&!m.pitching&&this.fire(new n.x("pitchstart",r))}_fireMoveEvents(r){this.fire(new n.x("move",r)),this._zooming&&this.fire(new n.x("zoom",r)),this._rotating&&this.fire(new n.x("rotate",r)),this._pitching&&this.fire(new n.x("pitch",r))}_afterEase(r,d){if(this._easeId&&d&&this._easeId===d)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const m=this._zooming,b=this._rotating,w=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,m&&this.fire(new n.x("zoomend",r)),b&&this.fire(new n.x("rotateend",r)),w&&this.fire(new n.x("pitchend",r)),this.fire(new n.x("moveend",r))}flyTo(r,d){if(this._prefersReducedMotion(r)){const _t=n.ar(r,["center","zoom","bearing","pitch","around","padding","retainPadding"]);return this.jumpTo(_t,d)}this.stop(),r=n.l({offset:[0,0],speed:1.2,curve:1.42,easing:n.dr},r);const m=this.transform,b=this.getZoom(),w=this.getBearing(),E=this.getPitch(),A=this.getPadding(),j="zoom"in r?n.ap(+r.zoom,m.minZoom,m.maxZoom):b,$="bearing"in r?this._normalizeBearing(r.bearing,w):w,z="pitch"in r?+r.pitch:E,H=this._extendPadding(r.padding),W=m.zoomScale(j-b),ee=n.P.convert(r.offset);let oe=m.centerPoint.add(ee);const ne=m.pointLocation(oe),se=n.bL.convert(r.center||ne);this._normalizeCenter(se);const ae=m.project(ne),me=m.project(se).sub(ae);let Fe=r.curve;const Ce=Math.max(m.width,m.height),Pe=Ce/W,Me=me.mag();if("minZoom"in r){const _t=n.ap(Math.min(r.minZoom,b,j),m.minZoom,m.maxZoom),Lt=Ce/m.zoomScale(_t-b);Fe=Math.sqrt(Lt/Me*2)}const Ie=Fe*Fe;function Le(_t){const Lt=(Pe*Pe-Ce*Ce+(_t?-1:1)*Ie*Ie*Me*Me)/(2*(_t?Pe:Ce)*Ie*Me);return Math.log(Math.sqrt(Lt*Lt+1)-Lt)}function $e(_t){return(Math.exp(_t)-Math.exp(-_t))/2}function Qe(_t){return(Math.exp(_t)+Math.exp(-_t))/2}const He=Le(0);let Ue=function(_t){return Qe(He)/Qe(He+Fe*_t)},gt=function(_t){return Ce*((Qe(He)*($e(Lt=He+Fe*_t)/Qe(Lt))-$e(He))/Ie)/Me;var Lt},Ft=(Le(1)-He)/Fe;if(Math.abs(Me)<1e-6||!isFinite(Ft)){if(Math.abs(Ce-Pe)<1e-6)return this.easeTo(r,d);const _t=Pe<Ce?-1:1;Ft=Math.abs(Math.log(Pe/Ce))/Fe,gt=function(){return 0},Ue=function(Lt){return Math.exp(_t*Fe*Lt)}}r.duration="duration"in r?+r.duration:1e3*Ft/("screenSpeed"in r?+r.screenSpeed/Fe:+r.speed),r.maxDuration&&r.duration>r.maxDuration&&(r.duration=0);const Dt=w!==$,Gt=z!==E,Qt=!m.isPaddingEqual(H),st=r.retainPadding===!1?m.clone():m,Ot=_t=>Lt=>{const jt=Lt*Ft,At=1/Ue(jt);_t.zoom=Lt===1?j:b+_t.scaleZoom(At),Dt&&(_t.bearing=n.aa(w,$,Lt)),Gt&&(_t.pitch=n.aa(E,z,Lt)),Qt&&(st.interpolatePadding(A,H,Lt),oe=st.centerPoint.add(ee));const ei=Lt===1?se:_t.unproject(ae.add(me.mult(gt(jt))).mult(At));return _t.setLocationAtPoint(_t.renderWorldCopies?ei.wrap():ei,oe),_t._updateCameraOnTerrain(),r.preloadOnly||this._fireMoveEvents(d),_t};if(r.preloadOnly){const _t=this._emulate(Ot,r.duration,m);return this._preloadTiles(_t),this}return this._zooming=!0,this._rotating=Dt,this._pitching=Gt,this._padding=Qt,this._prepareEase(d,!1),this._ease(Ot(m),()=>this._afterEase(d),r),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_requestRenderFrame(r){}_cancelRenderFrame(r){}_stop(r,d){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const m=this._onEaseEnd;this._onEaseEnd=void 0,m.call(this,d)}if(!r){const m=this.handlers;m&&m.stop(!1)}return this}_ease(r,d,m){m.animate===!1||m.duration===0?(r(1),d()):(this._easeStart=n.q.now(),this._easeOptions=m,this._onEaseFrame=r,this._onEaseEnd=d,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const r=Math.min((n.q.now()-this._easeStart)/this._easeOptions.duration,1),d=this._onEaseFrame;d&&d(this._easeOptions.easing(r)),r<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(r,d){r=n.bB(r,-180,180);const m=Math.abs(r-d);return Math.abs(r-360-d)<m&&(r-=360),Math.abs(r+360-d)<m&&(r+=360),r}_normalizeCenter(r){const d=this.transform;if(d.maxBounds||d.projection.name!=="globe"&&!d.renderWorldCopies)return;const m=r.lng-d.center.lng;r.lng+=m>180?-360:m<-180?360:0}_prefersReducedMotion(r){return this._respectPrefersReducedMotion&&n.q.prefersReducedMotion&&!(r&&r.essential)}_emulate(r,d,m){const b=Math.ceil(15*d/1e3),w=[],E=r(m.clone());for(let A=0;A<=b;A++){const j=E(A/b);w.push(j.clone())}return w}_preloadTiles(r,d){}}class jf{constructor(r={}){this.options=r,n.aJ(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(r){const d=this.options&&this.options.compact,m=r._getUIString("AttributionControl.ToggleAttribution");this._map=r,this._container=G("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=G("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._compactButton.setAttribute("aria-label",m);const b=G("span","mapboxgl-ctrl-icon",this._compactButton);return b.setAttribute("aria-hidden","true"),b.setAttribute("title",m),this._innerContainer=G("div","mapboxgl-ctrl-attrib-inner",this._container),d&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),d===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let r=this._editLink;r||(r=this._editLink=this._container.querySelector(".mapbox-improve-map"));const d=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||n.e.ACCESS_TOKEN}];if(r){const m=d.reduce((b,w,E)=>(w.value&&(b+=`${w.key}=${w.value}${E<d.length-1?"&":""}`),b),"?");r.href=`${n.e.FEEDBACK_URL}/${m}#${qu(this._map,!0)}`,r.rel="noopener nofollow"}}_updateData(r){!r||r.sourceDataType!=="metadata"&&r.sourceDataType!=="visibility"&&r.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let r=[];if(this._map.style.stylesheet){const b=this._map.style.stylesheet;this.styleOwner=b.owner,this.styleId=b.id}const d=this._map.style._mergedSourceCaches;for(const b in d){const w=d[b];if(w.used){const E=w.getSource();E.attribution&&r.indexOf(E.attribution)<0&&r.push(E.attribution)}}r.sort((b,w)=>b.length-w.length),r=r.filter((b,w)=>{for(let E=w+1;E<r.length;E++)if(r[E].indexOf(b)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?r=[...this.options.customAttribution,...r]:r.unshift(this.options.customAttribution));const m=r.join(" | ");m!==this._attribHTML&&(this._attribHTML=m,r.length?(this._innerContainer.innerHTML=m,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class ym{constructor(){n.aJ(["_updateLogo","_updateCompact"],this)}onAdd(r){this._map=r,this._container=G("div","mapboxgl-ctrl");const d=G("a","mapboxgl-ctrl-logo");return d.target="_blank",d.rel="noopener nofollow",d.href="https://www.mapbox.com/",d.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),d.setAttribute("rel","noopener nofollow"),this._container.appendChild(d),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(r){r&&r.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const r=this._map.style._sourceCaches;if(Object.entries(r).length===0)return!0;for(const d in r){const m=r[d].getSource();if(m.hasOwnProperty("mapbox_logo")&&!m.mapbox_logo)return!1}return!0}_updateCompact(){const r=this._container.children;if(r.length){const d=r[0];this._map.getCanvasContainer().offsetWidth<250?d.classList.add("mapboxgl-compact"):d.classList.remove("mapboxgl-compact")}}}class ry{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(r){const d=++this._id;return this._queue.push({callback:r,id:d,cancelled:!1}),d}remove(r){const d=this._currentlyRunning,m=d?this._queue.concat(d):this._queue;for(const b of m)if(b.id===r)return void(b.cancelled=!0)}run(r=0){const d=this._currentlyRunning=this._queue;this._queue=[];for(const m of d)if(!m.cancelled&&(m.callback(r),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}class Ju{constructor(r){this.jumpTo(r)}getValue(r){if(r<=this._startTime)return this._start;if(r>=this._endTime)return this._end;const d=n.cw((r-this._startTime)/(this._endTime-this._startTime));return this._start*(1-d)+this._end*d}isEasing(r){return r>=this._startTime&&r<=this._endTime}jumpTo(r){this._startTime=-1/0,this._endTime=-1/0,this._start=r,this._end=r}easeTo(r,d,m){this._start=this.getValue(d),this._end=r,this._startTime=d,this._endTime=d+m}}const Sv={"AttributionControl.ToggleAttribution":"Toggle attribution","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox homepage","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use ⌘ + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},ay=["mouseenter","mouseover","mouseleave","mouseout"];class zf extends n.x{constructor(r,d,m,b){const{point:w,lngLat:E,originalEvent:A,target:j}=r;super(r.type,{point:w,lngLat:E,originalEvent:A,target:j}),this.preventDefault=()=>{r.preventDefault()},this.id=d,this.interaction=m,this.feature=b}}class bm{constructor(r){this.map=r,this.interactionsByType=new Map,this.typeById=new Map,this.filters=new Map,this.handleType=this.handleType.bind(this)}add(r,d){if(this.typeById.has(r))throw new Error(`Interaction id "${r}" already exists.`);const{type:m,filter:b}=d;if(b){const E=n.M(b,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(E.result==="error")throw new Error(E.value.map(A=>`${A.key}: ${A.message}`).join(", "));this.filters.set(r,E.value)}const w=this.interactionsByType.get(m)||new Map;w.size===0&&(ay.includes(m)?this.map.on(m,d.featureset,this.handleType):this.map.on(m,this.handleType),this.interactionsByType.set(m,w)),w.set(r,d),this.typeById.set(r,m)}remove(r){const d=this.typeById.get(r);if(!d)return;this.typeById.delete(r),this.filters.delete(r);const m=this.interactionsByType.get(d);m&&(m.delete(r),m.size===0&&this.map.off(d,this.handleType))}handleType(r){const d=this.interactionsByType.get(r.type),m=Array.from(d).reverse(),b=[];for(const[,A]of m)A.featureset&&b.push({featureset:A.featureset,filter:A.filter,radius:A.radius});let w=this.map.style.queryRenderedFeaturesForInteractions(r.point,b,this.map.transform);!w.length&&ay.includes(r.type)&&(w=[null]);let E=!1;for(const A of w){for(const[j,$]of m){const{handler:z,featureset:H}=$;if(H&&(A==null||n.bi(A.featureset,H))&&z(new zf(r,j,$,A))!==!1){E=!0;break}}if(E)break}if(!E)for(const[A,j]of m){const{handler:$,featureset:z}=j;if(!z&&$(new zf(r,A,j,null))!==!1)break}}}function Yu(p,r){if(Array.isArray(p)&&Array.isArray(r)){const d=new Set(p),m=new Set(r);return d.size===m.size&&p.every(b=>m.has(b))}return n.bi(p,r)}const gd={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,antialias:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,respectPrefersReducedMotion:!0,crossSourceCollisions:!0,collectResourceTiming:!1,testMode:!1,precompilePrograms:!0,scaleFactor:1},qs={showCompass:!0,showZoom:!0,visualizePitch:!1};class ts{constructor(r,d,m=!1){this._clickTolerance=10,this.element=d,this.mouseRotate=new Af({clickTolerance:r.dragRotate._mouseRotate._clickTolerance}),this.map=r,m&&(this.mousePitch=new Of({clickTolerance:r.dragRotate._mousePitch._clickTolerance})),n.aJ(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),d.addEventListener("mousedown",this.mousedown),d.addEventListener("touchstart",this.touchstart,{passive:!1}),d.addEventListener("touchmove",this.touchmove),d.addEventListener("touchend",this.touchend),d.addEventListener("touchcancel",this.reset)}down(r,d){this.mouseRotate.mousedown(r,d),this.mousePitch&&this.mousePitch.mousedown(r,d),ce()}move(r,d){const m=this.map,b=this.mouseRotate.mousemoveWindow(r,d),w=b&&b.bearingDelta;if(w&&m.setBearing(m.getBearing()+w),this.mousePitch){const E=this.mousePitch.mousemoveWindow(r,d),A=E&&E.pitchDelta;A&&m.setPitch(m.getPitch()+A)}}off(){const r=this.element;r.removeEventListener("mousedown",this.mousedown),r.removeEventListener("touchstart",this.touchstart,{passive:!1}),r.removeEventListener("touchmove",this.touchmove),r.removeEventListener("touchend",this.touchend),r.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){he(),window.removeEventListener("mousemove",this.mousemove),window.removeEventListener("mouseup",this.mouseup)}mousedown(r){this.down(n.l({},r,{ctrlKey:!0,preventDefault:()=>r.preventDefault()}),De(this.element,r)),window.addEventListener("mousemove",this.mousemove),window.addEventListener("mouseup",this.mouseup)}mousemove(r){this.move(r,De(this.element,r))}mouseup(r){this.mouseRotate.mouseupWindow(r),this.mousePitch&&this.mousePitch.mouseupWindow(r),this.offTemp()}touchstart(r){r.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=Ae(this.element,r.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>r.preventDefault()},this._startPos))}touchmove(r){r.targetTouches.length!==1?this.reset():(this._lastPos=Ae(this.element,r.targetTouches)[0],this.move({preventDefault:()=>r.preventDefault()},this._lastPos))}touchend(r){r.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}function Ws(p,r,d){if(p=new n.bL(p.lng,p.lat),r){const m=new n.bL(p.lng-360,p.lat),b=new n.bL(p.lng+360,p.lat),w=360*Math.ceil(Math.abs(p.lng-d.center.lng)/360),E=d.locationPoint(p).distSqr(r),A=r.x<0||r.y<0||r.x>d.width||r.y>d.height;d.locationPoint(m).distSqr(r)<E&&(A||Math.abs(m.lng-d.center.lng)<w)?p=m:d.locationPoint(b).distSqr(r)<E&&(A||Math.abs(b.lng-d.center.lng)<w)&&(p=b)}for(;Math.abs(p.lng-d.center.lng)>180;){const m=d.locationPoint(p);if(m.x>=0&&m.y>=0&&m.x<=d.width&&m.y<=d.height)break;p.lng>d.center.lng?p.lng-=360:p.lng+=360}return p}const Ks={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class bs extends n.E{constructor(r,d){if(super(),(r instanceof HTMLElement||d)&&(r=n.l({element:r},d)),n.aJ(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=r&&r.anchor||"center",this._color=r&&r.color||"#3FB1CE",this._scale=r&&r.scale||1,this._draggable=r&&r.draggable||!1,this._clickTolerance=r&&r.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=r&&r.rotation||0,this._rotationAlignment=r&&r.rotationAlignment||"auto",this._pitchAlignment=r&&r.pitchAlignment&&r.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=r&&r.occludedOpacity||.2,r&&r.element)this._element=r.element,this._offset=n.P.convert(r&&r.offset||[0,0]);else{this._defaultMarker=!0,this._element=G("div");const w=41,E=27,A=Q("svg",{display:"block",height:w*this._scale+"px",width:E*this._scale+"px",viewBox:`0 0 ${E} ${w}`},this._element),j=Q("radialGradient",{id:"shadowGradient"},Q("defs",{},A));Q("stop",{offset:"10%","stop-opacity":.4},j),Q("stop",{offset:"100%","stop-opacity":.05},j),Q("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},A),Q("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},A),Q("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},A),Q("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},A),this._offset=n.P.convert(r&&r.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.hasAttribute("role")||this._element.setAttribute("role","img"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",w=>{w.preventDefault()}),this._element.addEventListener("mousedown",w=>{w.preventDefault()});const m=this._element.classList;for(const w in Ks)m.remove(`mapboxgl-marker-anchor-${w}`);m.add(`mapboxgl-marker-anchor-${this._anchor}`);const b=r&&r.className?r.className.trim().split(/\s+/):[];m.add(...b),this._popup=null}addTo(r){return r===this._map||(this.remove(),this._map=r,r.getCanvasContainer().appendChild(this._element),r.on("move",this._updateMoving),r.on("moveend",this._update),r.on("remove",this._clearFadeTimer),r._addMarker(this),this.setDraggable(this._draggable),this._update(),r.on("click",this._onMapClick)),this}remove(){const r=this._map;return r&&(r.off("click",this._onMapClick),r.off("move",this._updateMoving),r.off("moveend",this._update),r.off("mousedown",this._addDragHandler),r.off("touchstart",this._addDragHandler),r.off("mouseup",this._onUp),r.off("touchend",this._onUp),r.off("mousemove",this._onMove),r.off("touchmove",this._onMove),r.off("remove",this._clearFadeTimer),r._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(r){return this._lngLat=n.bL.convert(r),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(r){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),r){if(!("offset"in r.options)){const b=Math.sqrt(Math.pow(13.5,2)/2);r.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[b,-1*(38.1-13.5+b)],"bottom-right":[-b,-1*(38.1-13.5+b)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=r,r._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(r){const d=r.code,m=r.charCode||r.keyCode;d!=="Space"&&d!=="Enter"&&m!==32&&m!==13||this.togglePopup()}_onMapClick(r){const d=r.originalEvent.target,m=this._element;this._popup&&(d===m||m.contains(d))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const r=this._popup;return r?(r.isOpen()?(r.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(r.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const r=this._map,d=this._pos;if(!r||!d)return!1;const m=r.unproject(d),b=r.getFreeCameraOptions();if(!b.position)return!1;const w=b.position.toLngLat();return w.distanceTo(m)<.9*w.distanceTo(this._lngLat)}_evaluateOpacity(){const r=this._map;if(!r)return;const d=this._pos;if(!d||d.x<0||d.x>r.transform.width||d.y<0||d.y>r.transform.height)return void this._clearFadeTimer();const m=r.unproject(d);let b;r._showingGlobe()&&n.dz(r.transform,this._lngLat)?b=0:(b=1-r._queryFogOpacity(m),r.transform._terrainEnabled()&&r.getTerrain()&&this._behindTerrain()&&(b*=this._occludedOpacity)),this._element.style.opacity=`${b}`,this._element.style.pointerEvents=b>0?"auto":"none",this._popup&&this._popup._setOpacity(b),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const r=this._pos;if(!r||!this._map)return;const d=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${r.x}px,${r.y}px)
            ${Ks[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${d.x}px,${d.y}px)
        `}_calculateXYTransform(){const r=this._pos,d=this._map,m=this.getPitchAlignment();if(!d||!r||m!=="map")return"";if(!d._showingGlobe()){const j=d.getPitch();return j?`rotateX(${j}deg)`:""}const b=n.c1(n.dA(d.transform,this._lngLat)),w=r.sub(n.dB(d.transform)),E=Math.abs(w.x)+Math.abs(w.y);if(E===0)return"";const A=b/E;return`rotateX(${-w.y*A}deg) rotateY(${w.x*A}deg)`}_calculateZTransform(){const r=this._pos,d=this._map;if(!d||!r)return"";let m=0;const b=this.getRotationAlignment();if(b==="map")if(d._showingGlobe()){const w=d.project(new n.bL(this._lngLat.lng,this._lngLat.lat+.001)),E=d.project(new n.bL(this._lngLat.lng,this._lngLat.lat-.001)).sub(w);m=n.c1(Math.atan2(E.y,E.x))-90}else m=-d.getBearing();else if(b==="horizon"){const w=n.a7(4,6,d.getZoom()),E=n.dB(d.transform);E.y+=w*d.transform.height;const A=r.sub(E),j=n.c1(Math.atan2(A.y,A.x));m=(j>90?j-270:j+90)*(1-w)}return m+=this._rotation,m?`rotateZ(${m}deg)`:""}_update(r){cancelAnimationFrame(this._updateFrameId);const d=this._map;d&&(d.transform.renderWorldCopies&&(this._lngLat=Ws(this._lngLat,this._pos,d.transform)),this._pos=d.project(this._lngLat),r===!0?this._updateFrameId=requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),d._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(d._showingGlobe()||d.getTerrain()||d.getFog())&&!this._fadeTimer&&(this._fadeTimer=window.setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(r){return this._offset=n.P.convert(r),this._update(),this}addClassName(r){return this._element.classList.add(r),this}removeClassName(r){return this._element.classList.remove(r),this}toggleClassName(r){return this._element.classList.toggle(r)}_onMove(r){const d=this._map;if(!d)return;const m=this._pointerdownPos,b=this._positionDelta;if(m&&b){if(!this._isDragging){const w=this._clickTolerance||d._clickTolerance;if(r.point.dist(m)<w)return;this._isDragging=!0}this._pos=r.point.sub(b),this._lngLat=d.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new n.x("dragstart"))),this.fire(new n.x("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const r=this._map;r&&(r.off("mousemove",this._onMove),r.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new n.x("dragend")),this._state="inactive"}_addDragHandler(r){const d=this._map,m=this._pos;d&&m&&this._element.contains(r.originalEvent.target)&&(r.preventDefault(),this._positionDelta=r.point.sub(m),this._pointerdownPos=r.point,this._state="pending",d.on("mousemove",this._onMove),d.on("touchmove",this._onMove),d.once("mouseup",this._onUp),d.once("touchend",this._onUp))}setDraggable(r){this._draggable=!!r;const d=this._map;return d&&(r?(d.on("mousedown",this._addDragHandler),d.on("touchstart",this._addDragHandler)):(d.off("mousedown",this._addDragHandler),d.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(r){return this._rotation=r||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(r){return this._rotationAlignment=r||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(r){return this._pitchAlignment=r||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(r){return this._occludedOpacity=r||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const Tv={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Rv={maxWidth:100,unit:"metric"},Pv={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"},Iv={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},sy=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Er(p=new n.P(0,0),r="bottom"){if(typeof p=="number"){const d=Math.round(Math.sqrt(.5*Math.pow(p,2)));switch(r){case"top":return new n.P(0,p);case"top-left":return new n.P(d,d);case"top-right":return new n.P(-d,d);case"bottom":return new n.P(0,-p);case"bottom-left":return new n.P(d,-d);case"bottom-right":return new n.P(-d,-d);case"left":return new n.P(p,0);case"right":return new n.P(-p,0)}return new n.P(0,0)}return p instanceof n.P||Array.isArray(p)?n.P.convert(p):n.P.convert(p[r]||[0,0])}return{version:x,supported:V.supported,setRTLTextPlugin:n.dC,getRTLTextPluginStatus:n.dD,Map:class extends _m{constructor(p){k.mark(C.create);const r=p;if((p=n.l({},gd,p)).minZoom!=null&&p.maxZoom!=null&&p.minZoom>p.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(p.minPitch!=null&&p.maxPitch!=null&&p.minPitch>p.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(p.minPitch!=null&&p.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(p.maxPitch!=null&&p.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(p.antialias&&n.dx(window)&&(p.antialias=!1,n.w("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new ef(p.minZoom,p.maxZoom,p.minPitch,p.maxPitch,p.renderWorldCopies),p),this._repaint=!!p.repaint,this._interactive=p.interactive,this._minTileCacheSize=p.minTileCacheSize,this._maxTileCacheSize=p.maxTileCacheSize,this._failIfMajorPerformanceCaveat=p.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=p.preserveDrawingBuffer,this._antialias=p.antialias,this._trackResize=p.trackResize,this._bearingSnap=p.bearingSnap,this._refreshExpiredTiles=p.refreshExpiredTiles,this._fadeDuration=p.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=p.crossSourceCollisions,this._collectResourceTiming=p.collectResourceTiming,this._language=this._parseLanguage(p.language),this._worldview=p.worldview,this._renderTaskQueue=new ry,this._domRenderTaskQueue=new ry,this._controls=[],this._markers=[],this._popups=[],this._mapId=n.aQ(),this._locale=n.l({},Sv,p.locale),this._clickTolerance=p.clickTolerance,this._cooperativeGestures=p.cooperativeGestures,this._performanceMetricsCollection=p.performanceMetricsCollection,this._tessellationStep=p.tessellationStep,this._containerWidth=0,this._containerHeight=0,this._showParseStatus=!0,this._precompilePrograms=p.precompilePrograms,this._scaleFactorChanged=!1,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new Ju(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._frameId=0,this._scaleFactor=p.scaleFactor,this._requestManager=new ue(p.transformRequest,p.accessToken,p.testMode),this._silenceAuthErrors=!!p.testMode,this._contextCreateOptions=p.contextCreateOptions?{...p.contextCreateOptions}:{},typeof p.container=="string"){const d=document.getElementById(p.container);if(!d)throw new Error(`Container '${p.container.toString()}' not found.`);this._container=d}else{if(!(p.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=p.container}if(this._container.childNodes.length>0&&n.w("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),p.maxBounds&&this.setMaxBounds(p.maxBounds),n.aJ(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._tp||(this._tp=new sm),this._tp.registerParameter(this,["Debug"],"showOverdrawInspector"),this._tp.registerParameter(this,["Debug"],"showTileBoundaries"),this._tp.registerParameter(this,["Debug"],"showParseStatus"),this._tp.registerParameter(this,["Debug"],"repaint"),this._tp.registerParameter(this,["Debug"],"showTileAABBs"),this._tp.registerParameter(this,["Debug"],"showPadding"),this._tp.registerParameter(this,["Debug"],"showCollisionBoxes",{noSave:!0}),this._tp.registerParameter(this.transform,["Debug"],"freezeTileCoverage",{noSave:!0},()=>{this._update()}),this._tp.registerParameter(this,["Debug","Wireframe"],"showTerrainWireframe"),this._tp.registerParameter(this,["Debug","Wireframe"],"showLayers2DWireframe"),this._tp.registerParameter(this,["Debug","Wireframe"],"showLayers3DWireframe"),this._tp.registerParameter(this,["Scaling"],"_scaleFactor",{min:.1,max:10,step:.1},()=>{this.setScaleFactor(this._scaleFactor)}),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");if(this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this._fullscreenchangeEvent="onfullscreenchange"in document?"fullscreenchange":"webkitfullscreenchange",window.addEventListener("online",this._onWindowOnline,!1),window.addEventListener("resize",this._onWindowResize,!1),window.addEventListener("orientationchange",this._onWindowResize,!1),window.addEventListener(this._fullscreenchangeEvent,this._onWindowResize,!1),window.addEventListener("visibilitychange",this._onVisibilityChange,!1),this.handlers=new rr(this,p),this._localFontFamily=p.localFontFamily,this._localIdeographFontFamily=p.localIdeographFontFamily,(p.style||!p.testMode)&&this.setStyle(p.style||n.e.DEFAULT_STYLE,{config:p.config,localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),p.projection&&this.setProjection(p.projection),p.hash&&(this._hash=new Pf(typeof p.hash=="string"&&p.hash||void 0).addTo(this)),!this._hash||!this._hash._onHashChange()){r.center==null&&r.zoom==null||(this.transform._unmodified=!1),this.jumpTo({center:p.center,zoom:p.zoom,bearing:p.bearing,pitch:p.pitch});const d=p.bounds;d&&(this.resize(),this.fitBounds(d,n.l({},p.fitBoundsOptions,{duration:0})))}this.resize(),p.attributionControl&&this.addControl(new jf({customAttribution:p.customAttribution})),this._logoControl=new ym,this.addControl(this._logoControl,p.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet),this._postStyleLoadEvent()}),this.on("data",d=>{this._update(d.dataType==="style"),this.fire(new n.x(`${d.dataType}data`,d))}),this.on("dataloading",d=>{this.fire(new n.x(`${d.dataType}dataloading`,d))}),this._interactions=new bm(this)}_getMapId(){return this._mapId}addControl(p,r){if(r===void 0&&(r=p.getDefaultPosition?p.getDefaultPosition():"top-right"),!p||!p.onAdd)return this.fire(new n.t(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const d=p.onAdd(this);this._controls.push(p);const m=this._controlPositions[r];return r.indexOf("bottom")!==-1?m.insertBefore(d,m.firstChild):m.appendChild(d),this}removeControl(p){if(!p||!p.onRemove)return this.fire(new n.t(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const r=this._controls.indexOf(p);return r>-1&&this._controls.splice(r,1),p.onRemove(this),this}hasControl(p){return this._controls.indexOf(p)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(p){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const r=!this._moving;return r&&this.fire(new n.x("movestart",p)).fire(new n.x("move",p)),this.fire(new n.x("resize",p)),r&&this.fire(new n.x("moveend",p)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(p){return this.transform.setMaxBounds(n.as.convert(p)),this._update()}setMinZoom(p){if((p=p??-2)>=-2&&p<=this.transform.maxZoom)return this.transform.minZoom=p,this._update(),this.getZoom()<p?this.setZoom(p):this.fire(new n.x("zoomstart")).fire(new n.x("zoom")).fire(new n.x("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(p){if((p=p??22)>=this.transform.minZoom)return this.transform.maxZoom=p,this._update(),this.getZoom()>p?this.setZoom(p):this.fire(new n.x("zoomstart")).fire(new n.x("zoom")).fire(new n.x("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(p){if((p=p??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(p>=0&&p<=this.transform.maxPitch)return this.transform.minPitch=p,this._update(),this.getPitch()<p?this.setPitch(p):this.fire(new n.x("pitchstart")).fire(new n.x("pitch")).fire(new n.x("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(p){if((p=p??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(p>=this.transform.minPitch)return this.transform.maxPitch=p,this._update(),this.getPitch()>p?this.setPitch(p):this.fire(new n.x("pitchstart")).fire(new n.x("pitch")).fire(new n.x("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getScaleFactor(){return this._scaleFactor}setScaleFactor(p){return this._scaleFactor=p,this.painter.scaleFactor=p,this._tp.refreshUI(),this._scaleFactorChanged=!0,this.style._updateFilteredLayers(r=>r.type==="symbol"),this._update(!0),this}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(p){return this.transform.renderWorldCopies=p,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(p){return p==="auto"?navigator.language:Array.isArray(p)?p.length===0?void 0:p.map(r=>r==="auto"?navigator.language:r):p}setLanguage(p){const r=this._parseLanguage(p);if(!this.style||r===this._language)return this;this._language=r,this.style.reloadSources();for(const d of this._controls)d._setLanguage&&d._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(p){return this.style&&p!==this._worldview?(this._worldview=p,this.style.reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(p){return this._lazyInitEmptyStyle(),p?typeof p=="string"&&(p={name:p}):p=null,this._useExplicitProjection=!!p,this._prioritizeAndUpdateProjection(p,this.style.projection)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const p=this.transform,r=p.projection.name;let d;r==="globe"&&p.zoom>=n.bV?(p.setMercatorFromTransition(),d=!0):r==="mercator"&&p.zoom<n.bV&&(p.setProjection({name:"globe"}),d=!0),d&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(p,r){return this._updateProjection(p||r||{name:"mercator"})}_updateProjection(p){let r;return r=p.name==="globe"&&this.transform.zoom>=n.bV?this.transform.setMercatorFromTransition():this.transform.setProjection(p),this.style.applyProjectionUpdate(),r&&(this.painter.clearBackgroundTiles(),this.style.clearSources(),this._update(!0),this._forceMarkerAndPopupUpdate(!0)),this}project(p){return this.transform.locationPoint3D(n.bL.convert(p))}unproject(p){return this.transform.pointLocation3D(n.P.convert(p))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(p,r,d){const m=b=>{let w=[];if(Array.isArray(r)){const E=r.filter(A=>this.getLayer(A));w=E.length?this.queryRenderedFeatures(b,{layers:E}):[]}else w=this.queryRenderedFeatures(b,{featureset:r});return w};if(p==="mouseenter"||p==="mouseover"){let b=!1;return{listener:d,targets:r,delegates:{mousemove:E=>{const A=m(E.point);A.length?b||(b=!0,d.call(this,new fo(p,this,E.originalEvent,{features:A}))):b=!1},mouseout:()=>{b=!1}}}}if(p==="mouseleave"||p==="mouseout"){let b=!1;return{listener:d,targets:r,delegates:{mousemove:A=>{m(A.point).length?b=!0:b&&(b=!1,d.call(this,new fo(p,this,A.originalEvent)))},mouseout:A=>{b&&(b=!1,d.call(this,new fo(p,this,A.originalEvent)))}}}}{const b=w=>{const E=m(w.point);E.length&&(w.features=E,d.call(this,w),delete w.features)};return{listener:d,targets:r,delegates:{[p]:b}}}}on(p,r,d){if(typeof r=="function"||d===void 0)return super.on(p,r);if(typeof r=="string"&&(r=[r]),!this._areTargetsValid(r))return this;const m=this._createDelegatedListener(p,r,d);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[p]=this._delegatedListeners[p]||[],this._delegatedListeners[p].push(m);for(const b in m.delegates)this.on(b,m.delegates[b]);return this}once(p,r,d){if(typeof r=="function"||d===void 0)return super.once(p,r);if(typeof r=="string"&&(r=[r]),!this._areTargetsValid(r))return this;const m=this._createDelegatedListener(p,r,d);for(const b in m.delegates)this.once(b,m.delegates[b]);return this}off(p,r,d){if(typeof r=="function"||d===void 0)return super.off(p,r);if(typeof r=="string"&&(r=[r]),!this._areTargetsValid(r))return this;const m=this._delegatedListeners?this._delegatedListeners[p]:void 0;return m&&(b=>{for(let w=0;w<b.length;w++){const E=b[w];if(E.listener===d&&Yu(E.targets,r)){for(const A in E.delegates)this.off(A,E.delegates[A]);return b.splice(w,1),this}}})(m),this}queryRenderedFeatures(p,r){if(!this.style)return[];if(r!==void 0||p===void 0||p instanceof n.P||Array.isArray(p)||(r=p,p=void 0),p=p||[[0,0],[this.transform.width,this.transform.height]],"featureset"in(r=r||{}))return this._isFeaturesetDescriptorValid(r.featureset)?this.style.queryRenderedFeaturesForInteractions(p,[r],this.transform):[];if(r.layers&&Array.isArray(r.layers)){for(const d of r.layers)if(!this._isValidId(d))return[]}return this.style.queryRenderedFeatures(p,r,this.transform)}querySourceFeatures(p,r){return!p||typeof p=="string"&&!this._isValidId(p)?[]:this.style.querySourceFeatures(p,r)}isPointOnSurface(p){const{name:r}=this.transform.projection;return r!=="globe"&&r!=="mercator"&&n.w(`${r} projection does not support isPointOnSurface, this API may behave unexpectedly.`),this.transform.isPointOnSurface(n.P.convert(p))}addInteraction(p,r){return this._interactions.add(p,r),this}removeInteraction(p){return this._interactions.remove(p),this}setStyle(p,r){return r=n.l({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},r),this.style&&p&&r.diff!==!1&&r.localFontFamily===this._localFontFamily&&r.localIdeographFontFamily===this._localIdeographFontFamily&&!r.config?(this.style._diffStyle(p,(d,m)=>{d?(n.w(`Unable to perform style diff: ${String(d.message||d.error||d)}. Rebuilding the style from scratch.`),this._updateStyle(p,r)):m&&this._update(!0)},()=>{this._postStyleLoadEvent()}),this):(this._localIdeographFontFamily=r.localIdeographFontFamily,this._localFontFamily=r.localFontFamily,this._updateStyle(p,r))}_getUIString(p){const r=this._locale[p];if(r==null)throw new Error(`Missing UI string '${p}'`);return r}_updateStyle(p,r){if(this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),p){const d=n.l({},r);r&&r.config&&(d.initialConfig=r.config,delete d.config),this.style=new _a(this,d).load(p),this.style.setEventedParent(this,{style:this.style})}return this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new _a(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(n.w("There is no style added to the map."),!1)}_isValidId(p){return p==null?(this.fire(new n.t(new Error("IDs can't be empty."))),!1):!n.aK(p)||(this.fire(new n.t(new Error(`IDs can't contain special symbols: "${p}".`))),!1)}_isFeaturesetDescriptorValid(p){return"featuresetId"in p?this._isValidId(p.featuresetId):"layerId"in p&&this._isValidId(p.layerId)}_areTargetsValid(p){if(Array.isArray(p)){for(const r of p)if(!this._isValidId(r))return!1;return!0}return this._isFeaturesetDescriptorValid(p)}addSource(p,r){return this._isValidId(p)?(this._lazyInitEmptyStyle(),this.style.addSource(p,r),this._update(!0)):this}isSourceLoaded(p){return!!this._isValidId(p)&&!!this.style&&this.style._isSourceCacheLoaded(p)}areTilesLoaded(){return this.style.areTilesLoaded()}addSourceType(p,r,d){this._lazyInitEmptyStyle(),this.style.addSourceType(p,r,d)}removeSource(p){return this._isValidId(p)?(this.style.removeSource(p),this._updateTerrain(),this._update(!0)):this}getSource(p){return this._isValidId(p)?this.style.getOwnSource(p):null}addImage(p,r,{pixelRatio:d=1,sdf:m=!1,stretchX:b,stretchY:w,content:E}={}){if(this._lazyInitEmptyStyle(),r instanceof HTMLImageElement||ImageBitmap&&r instanceof ImageBitmap){const{width:A,height:j,data:$}=n.q.getImageData(r);this.style.addImage(p,{data:new n.r({width:A,height:j},$),pixelRatio:d,stretchX:b,stretchY:w,content:E,sdf:m,version:0})}else if(r.width===void 0||r.height===void 0)this.fire(new n.t(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:A,height:j}=r,$=r;this.style.addImage(p,{data:new n.r({width:A,height:j},new Uint8Array($.data)),pixelRatio:d,stretchX:b,stretchY:w,content:E,sdf:m,version:0,userImage:$}),$.onAdd&&$.onAdd(this,p)}}updateImage(p,r){this._lazyInitEmptyStyle();const d=this.style.getImage(p);if(!d)return void this.fire(new n.t(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const m=r instanceof HTMLImageElement||ImageBitmap&&r instanceof ImageBitmap?n.q.getImageData(r):r,{width:b,height:w,data:E}=m;if(b===void 0||w===void 0)return void this.fire(new n.t(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(b!==d.data.width||w!==d.data.height)return void this.fire(new n.t(new Error(`The width and height of the updated image (${b}, ${w})
                must be that same as the previous version of the image
                (${d.data.width}, ${d.data.height})`)));const A=!(r instanceof HTMLImageElement||ImageBitmap&&r instanceof ImageBitmap);d.data.replace(E,A),this.style.updateImage(p,d)}hasImage(p){return p?!!this.style&&!!this.style.getImage(p):(this.fire(new n.t(new Error("Missing required image id"))),!1)}removeImage(p){this.style.removeImage(p)}loadImage(p,r){n.o(this._requestManager.transformRequest(p,n.R.Image),(d,m)=>{r(d,m instanceof HTMLImageElement?n.q.getImageData(m):m)})}listImages(){return this.style.listImages()}addModel(p,r){this._lazyInitEmptyStyle(),this.style.addModel(p,r)}hasModel(p){return p?this.style.hasModel(p):(this.fire(new n.t(new Error("Missing required model id"))),!1)}removeModel(p){this.style.removeModel(p)}listModels(){return this.style.listModels()}addLayer(p,r){return this._isValidId(p.id)?(this._lazyInitEmptyStyle(),this.style.addLayer(p,r),this._update(!0)):this}getSlot(p){const r=this.getLayer(p);return r&&r.slot||null}setSlot(p,r){return this.style.setSlot(p,r),this.style.mergeLayers(),this._update(!0)}addImport(p,r){return this.style.addImport(p,r),this}updateImport(p,r){return typeof r!="string"&&r.id!==p?(this.removeImport(p),this.addImport(r)):(this.style.updateImport(p,r),this._update(!0))}removeImport(p){return this.style.removeImport(p),this}moveImport(p,r){return this.style.moveImport(p,r),this._update(!0)}moveLayer(p,r){return this._isValidId(p)?(this.style.moveLayer(p,r),this._update(!0)):this}removeLayer(p){return this._isValidId(p)?(this.style.removeLayer(p),this._update(!0)):this}getLayer(p){if(!this._isValidId(p))return null;const r=this.style.getOwnLayer(p);return r?r.type==="custom"?r.implementation:r.serialize():void 0}getSlots(){return this.style.getSlots()}setLayerZoomRange(p,r,d){return this._isValidId(p)?(this.style.setLayerZoomRange(p,r,d),this._update(!0)):this}setFilter(p,r,d={}){return this._isValidId(p)?(this.style.setFilter(p,r,d),this._update(!0)):this}getFilter(p){return this._isValidId(p)?this.style.getFilter(p):null}setPaintProperty(p,r,d,m={}){return this._isValidId(p)?(this.style.setPaintProperty(p,r,d,m),this._update(!0)):this}getPaintProperty(p,r){return this._isValidId(p)?this.style.getPaintProperty(p,r):null}setLayoutProperty(p,r,d,m={}){return this._isValidId(p)?(this.style.setLayoutProperty(p,r,d,m),this._update(!0)):this}getLayoutProperty(p,r){return this._isValidId(p)?this.style.getLayoutProperty(p,r):null}getSchema(p){return this.style.getSchema(p)}setSchema(p,r){return this.style.setSchema(p,r),this._update(!0)}getConfig(p){return this.style.getConfig(p)}setConfig(p,r){return this.style.setConfig(p,r),this._update(!0)}getConfigProperty(p,r){return this.style.getConfigProperty(p,r)}setConfigProperty(p,r,d){return this.style.setConfigProperty(p,r,d),this._update(!0)}getFeaturesetDescriptors(p){return this.style.getFeaturesetDescriptors(p)}setLights(p){if(this._lazyInitEmptyStyle(),p&&p.length===1&&p[0].type==="flat"){const r=p[0];r.properties?this.style.setFlatLight(r.properties,r.id,{}):this.style.setFlatLight({},"flat")}else this.style.setLights(p),this.painter.terrain&&(this.painter.terrain.invalidateRenderCache=!0);return this._update(!0)}getLights(){const p=this.style.getLights()||[];return p.length===0&&p.push({id:this.style.light.id,type:"flat",properties:this.style.getFlatLight()}),p}setLight(p,r={}){return console.log("The `map.setLight` function is deprecated, prefer using `map.setLights` with `flat` light type instead."),this.setLights([{id:"flat",type:"flat",properties:p}])}getLight(){return console.log("The `map.getLight` function is deprecated, prefer using `map.getLights` instead."),this.style.getFlatLight()}setTerrain(p){return this._lazyInitEmptyStyle(),!p&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(p),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(p){return this._lazyInitEmptyStyle(),this.style.setFog(p),this._update(!0)}getFog(){return this.style?this.style.getFog():null}setColorTheme(p){return this._lazyInitEmptyStyle(),this.style.setColorTheme(p),this._update(!0)}setCamera(p){return this.style.setCamera(p),this._triggerCameraUpdate(p)}_triggerCameraUpdate(p){return this._update(this.transform.setOrthographicProjectionAtLowPitch(p["camera-projection"]==="orthographic"))}getCamera(){return this.style.camera}_queryFogOpacity(p){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(n.bL.convert(p),this.transform):0}setFeatureState(p,r){return p.source&&!this._isValidId(p.source)?this:(this.style.setFeatureState(p,r),this._update())}removeFeatureState(p,r){return p.source&&!this._isValidId(p.source)?this:(this.style.removeFeatureState(p,r),this._update())}getFeatureState(p){return p.source&&!this._isValidId(p.source)?null:this.style.getFeatureState(p)}_updateContainerDimensions(){if(!this._container)return;const p=this._container.getBoundingClientRect().width||400,r=this._container.getBoundingClientRect().height||300;let d,m,b,w=this._container;for(;w&&(!m||!b);){const E=window.getComputedStyle(w).transform;E&&E!=="none"&&(d=E.match(/matrix.*\((.+)\)/)[1].split(", "),d[0]&&d[0]!=="0"&&d[0]!=="1"&&(m=d[0]),d[3]&&d[3]!=="0"&&d[3]!=="1"&&(b=d[3])),w=w.parentElement}this._containerWidth=m?Math.abs(p/m):p,this._containerHeight=b?Math.abs(r/b):r}_detectMissingCSS(){window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&n.w("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const p=this._container;p.classList.add("mapboxgl-map"),(this._missingCSSCanary=G("div","mapboxgl-canary",p)).style.visibility="hidden",this._detectMissingCSS();const r=this._canvasContainer=G("div","mapboxgl-canvas-container",p);this._canvas=G("canvas","mapboxgl-canvas",r),this._interactive&&(r.classList.add("mapboxgl-interactive"),this._canvas.setAttribute("tabindex","0")),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const d=this._controlContainer=G("div","mapboxgl-control-container",p),m=this._controlPositions={};["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"].forEach(b=>{m[b]=G("div",`mapboxgl-ctrl-${b}`,d)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(p,r){const d=n.q.devicePixelRatio||1;this._canvas.width=d*Math.ceil(p),this._canvas.height=d*Math.ceil(r),this._canvas.style.width=`${p}px`,this._canvas.style.height=`${r}px`}_addMarker(p){this._markers.push(p)}_removeMarker(p){const r=this._markers.indexOf(p);r!==-1&&this._markers.splice(r,1)}_addPopup(p){this._popups.push(p)}_removePopup(p){const r=this._popups.indexOf(p);r!==-1&&this._popups.splice(r,1)}_setupPainter(){const p=n.l({},V.supported.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),r=this._canvas.getContext("webgl2",p);r?(hn(r,!0),this.painter=new Tc(r,this._contextCreateOptions,this.transform,this._scaleFactor,this._tp),this.on("data",d=>{d.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),n.m.testSupport(r)):this.fire(new n.t(new Error("Failed to initialize WebGL")))}_contextLost(p){p.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new n.x("webglcontextlost",{originalEvent:p}))}_contextRestored(p){this._setupPainter(),this.resize(),this._update(),this.fire(new n.x("webglcontextrestored",{originalEvent:p}))}_onMapScroll(p){if(p.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}idle(){return!this.isMoving()&&this.loaded()}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}frameReady(){return this.loaded()&&!this._placementDirty}_update(p){return this.style?(this._styleDirty=this._styleDirty||p,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(p){return this._update(),this._renderTaskQueue.add(p)}_cancelRenderFrame(p){this._renderTaskQueue.remove(p)}_requestDomTask(p){!this.loaded()||this.loaded()&&!this.isMoving()?p():this._domRenderTaskQueue.add(p)}_render(p){let r;this.fire(new n.x("renderstart")),++this._frameId;const d=this.painter.context.extTimerQuery,m=n.q.now(),b=this.painter.context.gl;if(this.listens("gpu-timing-frame")&&(r=b.createQuery(),b.beginQuery(d.TIME_ELAPSED_EXT,r)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],performance.now())),this._renderTaskQueue.run(p),this._domRenderTaskQueue.run(p),this._removed)return;this._updateProjectionTransition();const w=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const $=this.transform.zoom,z=this.transform.pitch,H=n.q.now(),W=new n.a3($,{now:H,fadeDuration:w,pitch:z,transition:this.style.transition});this.style.update(W)}this.style&&this.style.hasFogTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let E=!1;this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),E=this._updateAverageElevation(m),this.style.updateSources(this.transform),this._forceMarkerAndPopupUpdate()):E=this._updateAverageElevation(m);const A=this.style&&this.style._updatePlacement(this.painter,this.painter.transform,this.showCollisionBoxes,w,this._crossSourceCollisions,this.painter.replacementSource,this._scaleFactorChanged);if(this._scaleFactorChanged&&(this._scaleFactorChanged=!1),A&&(this._placementDirty=A.needsRerender),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showParseStatus:this.showParseStatus,wireframe:{terrain:this.showTerrainWireframe,layers2D:this.showLayers2DWireframe,layers3D:this.showLayers3DWireframe},showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:w,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new n.x("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,k.mark(C.load),this.fire(new n.x("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),r){const $=n.q.now()-m;b.endQuery(d.TIME_ELAPSED_EXT),setTimeout(()=>{const z=b.getQueryParameter(r,b.QUERY_RESULT)/1e6;b.deleteQuery(r),this.fire(new n.x("gpu-timing-frame",{cpuTime:$,gpuTime:z}))},50)}if(this.listens("gpu-timing-layer")){const $=this.painter.collectGpuTimers();setTimeout(()=>{const z=this.painter.queryGpuTimers($);this.fire(new n.x("gpu-timing-layer",{layerTimes:z}))},50)}if(this.listens("gpu-timing-deferred-render")){const $=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const z=this.painter.queryGpuTimeDeferredRender($);this.fire(new n.x("gpu-timing-deferred-render",{gpuTime:z}))},50)}const j=this._sourcesDirty||this._styleDirty||this._placementDirty||E;if(j||this._repaint)this.triggerRepaint();else{const $=this.idle();if($&&(E=this._updateAverageElevation(m,!0)),E)this.triggerRepaint();else if(this._triggerFrame(!1),$&&(this.fire(new n.x("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const z=this._calculateSpeedIndex();this.fire(new n.x("speedindexcompleted",{speedIndex:z})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||j||(this._fullyLoaded=!0,k.mark(C.fullLoad),this._performanceMetricsCollection&&ii(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(p){for(const r of this._markers)p&&!this.getRenderWorldCopies()&&(r._lngLat=r._lngLat.wrap()),r._update();for(const r of this._popups)!p||this.getRenderWorldCopies()||r._trackPointer||(r._lngLat=r._lngLat.wrap()),r._update()}_updateAverageElevation(p,r=!1){const d=b=>(this.transform.averageElevation=b,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&d(0);const m=this.transform.elevation&&this.transform.elevation.exaggeration()!==this._averageElevationExaggeration;if(m||(r||p-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(p)){const b=this.transform.averageElevation;let w=this.transform.sampleAverageElevation();this.transform.elevation!=null&&(this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(w)?w=0:this._averageElevationLastSampledAt=p;const E=Math.abs(b-w);if(E>1){if(this._isInitialLoad||m)return this._averageElevation.jumpTo(w),d(w);this._averageElevation.easeTo(w,p,300)}else if(E>1e-4)return this._averageElevation.jumpTo(w),d(w)}return!!this._averageElevation.isEasing(p)&&d(this._averageElevation.getValue(p))}_authenticate(){Re(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,p=>{if(p&&(p.message===Oe||p.status===401)){const r=this.painter.context.gl;hn(r,!1),this._logoControl instanceof ym&&this._logoControl._updateLogo(),r&&r.clear(r.DEPTH_BUFFER_BIT|r.COLOR_BUFFER_BIT|r.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new n.t(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),ui(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_postStyleLoadEvent(){this.style.globalId&&Ji(this._requestManager._customAccessToken,{map:this,skuToken:this._requestManager._skuToken,style:this.style.globalId,importedStyles:this.style.getImportGlobalIds()})}_updateTerrain(){const p=this._isDragging();this.painter.updateTerrain(this.style,p)}_calculateSpeedIndex(){const p=this.painter.canvasCopy(),r=this.painter.getCanvasCopiesAndTimestamps();r.timeStamps.push(performance.now());const d=this.painter.context.gl,m=d.createFramebuffer();function b(w){d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,w,0);const E=new Uint8Array(d.drawingBufferWidth*d.drawingBufferHeight*4);return d.readPixels(0,0,d.drawingBufferWidth,d.drawingBufferHeight,d.RGBA,d.UNSIGNED_BYTE,E),E}return d.bindFramebuffer(d.FRAMEBUFFER,m),this._canvasPixelComparison(b(p),r.canvasCopies.map(b),r.timeStamps)}_canvasPixelComparison(p,r,d){let m=d[1]-d[0];const b=p.length/4;for(let w=0;w<r.length;w++){const E=r[w];let A=0;for(let j=0;j<E.length;j+=4)E[j]===p[j]&&E[j+1]===p[j+1]&&E[j+2]===p[j+2]&&E[j+3]===p[j+3]&&(A+=1);m+=(d[w+2]-d[w+1])*(1-A/b)}return m}remove(){this._hash&&this._hash.remove();for(const r of this._controls)r.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),window.removeEventListener("resize",this._onWindowResize,!1),window.removeEventListener("orientationchange",this._onWindowResize,!1),window.removeEventListener(this._fullscreenchangeEvent,this._onWindowResize,!1),window.removeEventListener("online",this._onWindowOnline,!1),window.removeEventListener("visibilitychange",this._onVisibilityChange,!1);const p=this.painter.context.gl.getExtension("WEBGL_lose_context");p&&p.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),zi.delete(this.painter.context.gl),ni.remove(),Wt.remove(),this._removed=!0,this.fire(new n.x("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(p){this._renderNextFrame=this._renderNextFrame||p,this.style&&!this._frame&&(this._frame=n.q.frame(r=>{const d=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,d&&this._render(r)}))}_preloadTiles(p){const r=this.style?this.style.getSourceCaches():[];return n.bg(r,(d,m)=>d._preloadTiles(p,m),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(p){this._trackResize&&this.resize({originalEvent:p})._update()}_onVisibilityChange(){document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(p){this._showTileBoundaries!==p&&(this._showTileBoundaries=p,this._tp.refreshUI(),this._update())}get showParseStatus(){return!!this._showParseStatus}set showParseStatus(p){this._showParseStatus!==p&&(this._showParseStatus=p,this._tp.refreshUI(),this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(p){this._showTerrainWireframe!==p&&(this._showTerrainWireframe=p,this._tp.refreshUI(),this._update())}get showLayers2DWireframe(){return!!this._showLayers2DWireframe}set showLayers2DWireframe(p){this._showLayers2DWireframe!==p&&(this._showLayers2DWireframe=p,this._tp.refreshUI(),this._update())}get showLayers3DWireframe(){return!!this._showLayers3DWireframe}set showLayers3DWireframe(p){this._showLayers3DWireframe!==p&&(this._showLayers3DWireframe=p,this._tp.refreshUI(),this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(p){this._speedIndexTiming!==p&&(this._speedIndexTiming=p,this._update())}get showPadding(){return!!this._showPadding}set showPadding(p){this._showPadding!==p&&(this._showPadding=p,this._tp.refreshUI(),this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(p){this._showCollisionBoxes!==p&&(this._showCollisionBoxes=p,this._tp.refreshUI(),p?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(p){this._showOverdrawInspector!==p&&(this._showOverdrawInspector=p,this._tp.refreshUI(),this._update())}get repaint(){return!!this._repaint}set repaint(p){this._repaint!==p&&(this._repaint=p,this._tp.refreshUI(),this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(p){this._vertices=p,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(p){this._showTileAABBs!==p&&(this._showTileAABBs=p,this._tp.refreshUI(),p&&this._update())}_setCacheLimits(p,r){n.dy(p,r)}get version(){return x}},NavigationControl:class{constructor(p={}){this.options=n.l({},qs,p),this._container=G("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",r=>r.preventDefault()),this.options.showZoom&&(n.aJ(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",r=>{this._map&&this._map.zoomIn({},{originalEvent:r})}),G("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",r=>{this._map&&this._map.zoomOut({},{originalEvent:r})}),G("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(n.aJ(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",r=>{const d=this._map;d&&(this.options.visualizePitch?d.resetNorthPitch({},{originalEvent:r}):d.resetNorth({},{originalEvent:r}))}),this._compassIcon=G("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const p=this._map;if(!p)return;const r=p.getZoom(),d=r===p.getMaxZoom(),m=r===p.getMinZoom();this._zoomInButton.disabled=d,this._zoomOutButton.disabled=m,this._zoomInButton.setAttribute("aria-disabled",d.toString()),this._zoomOutButton.setAttribute("aria-disabled",m.toString())}_rotateCompassArrow(){const p=this._map;if(!p)return;const r=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(p.transform.pitch*(Math.PI/180)),.5)}) rotateX(${p.transform.pitch}deg) rotateZ(${p.transform.angle*(180/Math.PI)}deg)`:`rotate(${p.transform.angle*(180/Math.PI)}deg)`;p._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=r)})}onAdd(p){return this._map=p,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),p.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&p.on("pitch",this._rotateCompassArrow),p.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ts(p,this._compass,this.options.visualizePitch)),this._container}onRemove(){const p=this._map;p&&(this._container.remove(),this.options.showZoom&&p.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&p.off("pitch",this._rotateCompassArrow),p.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(p,r){const d=G("button",p,this._container);return d.type="button",d.addEventListener("click",r),d}_setButtonTitle(p,r){if(!this._map)return;const d=this._map._getUIString(`NavigationControl.${r}`);p.setAttribute("aria-label",d),p.firstElementChild&&p.firstElementChild.setAttribute("title",d)}},GeolocateControl:class extends n.E{constructor(p={}){super();const r=navigator.geolocation;this.options=n.l({geolocation:r},Tv,p),n.aJ(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=Gs(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(p){return this._map=p,this._container=G("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(p){const r=(d=!!this.options.geolocation)=>{this._supportsGeolocation=d,p(d)};this._supportsGeolocation!==void 0?p(this._supportsGeolocation):navigator.permissions!==void 0?navigator.permissions.query({name:"geolocation"}).then(d=>r(d.state!=="denied")).catch(()=>r()):r()}_isOutOfMapMaxBounds(p){const r=this._map.getMaxBounds(),d=p.coords;return!!r&&(d.longitude<r.getWest()||d.longitude>r.getEast()||d.latitude<r.getSouth()||d.latitude>r.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(p){if(this._map){if(this._isOutOfMapMaxBounds(p))return this._setErrorState(),this.fire(new n.x("outofmaxbounds",p)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=p,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(p),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(p),this.options.showUserLocation&&this._userLocationDotMarker.removeClassName("mapboxgl-user-location-dot-stale"),this.fire(new n.x("geolocate",p)),this._finish()}}_updateCamera(p){const r=new n.bL(p.coords.longitude,p.coords.latitude),d=p.coords.accuracy,m=this._map.getBearing(),b=n.l({bearing:m},this.options.fitBoundsOptions);this._map.fitBounds(r.toBounds(d),b,{geolocateSource:!0})}_updateMarker(p){if(p){const r=new n.bL(p.coords.longitude,p.coords.latitude);this._accuracyCircleMarker.setLngLat(r).addTo(this._map),this._userLocationDotMarker.setLngLat(r).addTo(this._map),this._accuracy=p.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const p=this._map.transform,r=n.bE(1,p._center.lat)*p.worldSize,d=Math.ceil(2*this._accuracy*r);this._circleElement.style.width=`${d}px`,this._circleElement.style.height=`${d}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._userLocationDotMarker.addClassName("mapboxgl-user-location-show-heading")):(this._userLocationDotMarker.removeClassName("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(p){if(this._map){if(this.options.trackUserLocation)if(p.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",r),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",r),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(p.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._userLocationDotMarker.addClassName("mapboxgl-user-location-dot-stale"),this.fire(new n.x("error",p)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(p){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",r=>r.preventDefault()),this._geolocateButton=G("button","mapboxgl-ctrl-geolocate",this._container),G("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",p===!1){n.w("Geolocation support is not available so the GeolocateControl will be disabled.");const r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",r),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",r)}else{const r=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",r),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",r)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=G("div","mapboxgl-user-location"),this._dotElement.appendChild(G("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(G("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new bs({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=G("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new bs({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",r=>{r.geolocateSource||this._watchState!=="ACTIVE_LOCK"||r.originalEvent&&r.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new n.x("trackuserlocationend")))})}}_onDeviceOrientation(p){this._userLocationDotMarker&&(p.webkitCompassHeading?this._heading=p.webkitCompassHeading:p.absolute===!0&&(this._heading=-1*p.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return n.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new n.x("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new n.x("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new n.x("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let p;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(p={maximumAge:6e5,timeout:0},this._noTimeout=!0):(p=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,p),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=window.setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const p=()=>{"ondeviceorientationabsolute"in window?window.addEventListener("deviceorientationabsolute",this._onDeviceOrientation):window.addEventListener("deviceorientation",this._onDeviceOrientation)};typeof DeviceMotionEvent<"u"&&typeof DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(r=>{r==="granted"&&p()}).catch(console.error):p()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),window.removeEventListener("deviceorientation",this._onDeviceOrientation),window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:jf,ScaleControl:class{constructor(p={}){this.options=n.l({},Rv,p),this._isNumberFormatSupported=function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"short",unit:"meter"}),!0}catch{return!1}}(),n.aJ(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const p=this.options.maxWidth||100,r=this._map,d=r._containerHeight/2,m=r._containerWidth/2-p/2,b=r.unproject([m,d]),w=r.unproject([m+p,d]),E=b.distanceTo(w);if(this.options.unit==="imperial"){const A=3.2808*E;A>5280?this._setScale(p,A/5280,"mile"):this._setScale(p,A,"foot")}else this.options.unit==="nautical"?this._setScale(p,E/1852,"nautical-mile"):E>=1e3?this._setScale(p,E/1e3,"kilometer"):this._setScale(p,E,"meter")}_setScale(p,r,d){this._map._requestDomTask(()=>{const m=function(w){const E=Math.pow(10,`${Math.floor(w)}`.length-1);let A=w/E;return A=A>=10?10:A>=5?5:A>=3?3:A>=2?2:A>=1?1:function(j){const $=Math.pow(10,Math.ceil(-Math.log(j)/Math.LN10));return Math.round(j*$)/$}(A),E*A}(r),b=m/r;this._container.innerHTML=this._isNumberFormatSupported&&d!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"short",unit:d}).format(m):`${m}&nbsp;${Pv[d]}`,this._container.style.width=p*b+"px"})}onAdd(p){return this._map=p,this._language=p.getLanguage(),this._container=G("div","mapboxgl-ctrl mapboxgl-ctrl-scale",p.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(p){this._language=p,this._update()}setUnit(p){this.options.unit=p,this._update()}},FullscreenControl:class{constructor(p={}){this._fullscreen=!1,p&&p.container&&(p.container instanceof HTMLElement?this._container=p.container:n.w("Full screen control 'container' must be a DOM element.")),n.aJ(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(p){return this._map=p,this._container||(this._container=this._map.getContainer()),this._controlContainer=G("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",n.w("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!document.fullscreenEnabled&&!document.webkitFullscreenEnabled)}_setupUI(){const p=this._fullscreenButton=G("button","mapboxgl-ctrl-fullscreen",this._controlContainer);G("span","mapboxgl-ctrl-icon",p).setAttribute("aria-hidden","true"),p.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const p=this._getTitle();this._fullscreenButton.setAttribute("aria-label",p),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",p)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(document.fullscreenElement||document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends n.E{constructor(p){super(),this.options=n.l(Object.create(Iv),p),n.aJ(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(p&&p.className?p.className.trim().split(/\s+/):[])}addTo(p){return this._map&&this.remove(),this._map=p,this.options.closeOnClick&&p.on("preclick",this._onClose),this.options.closeOnMove&&p.on("move",this._onClose),p.on("remove",this.remove),this._update(),p._addPopup(this),this._focusFirstElement(),this._trackPointer?(p.on("mousemove",this._onMouseEvent),p.on("mouseup",this._onMouseEvent),p._canvasContainer.classList.add("mapboxgl-track-pointer")):p.on("move",this._update),this.fire(new n.x("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const p=this._map;return p&&(p.off("move",this._update),p.off("move",this._onClose),p.off("preclick",this._onClose),p.off("click",this._onClose),p.off("remove",this.remove),p.off("mousemove",this._onMouseEvent),p.off("mouseup",this._onMouseEvent),p.off("drag",this._onMouseEvent),p._canvasContainer&&p._canvasContainer.classList.remove("mapboxgl-track-pointer"),p._removePopup(this),this._map=void 0),this.fire(new n.x("close")),this}getLngLat(){return this._lngLat}setLngLat(p){this._lngLat=n.bL.convert(p),this._pos=null,this._trackPointer=!1,this._update();const r=this._map;return r&&(r.on("move",this._update),r.off("mousemove",this._onMouseEvent),r._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const p=this._map;return p&&(p.off("move",this._update),p.on("mousemove",this._onMouseEvent),p.on("drag",this._onMouseEvent),p._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(p){return this.setDOMContent(document.createTextNode(p))}setHTML(p){const r=document.createDocumentFragment(),d=document.createElement("body");let m;for(d.innerHTML=p;m=d.firstChild,m;)r.appendChild(m);return this.setDOMContent(r)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(p){return this.options.maxWidth=p,this._update(),this}setDOMContent(p){let r=this._content;if(r)for(;r.hasChildNodes();)r.firstChild&&r.removeChild(r.firstChild);else r=this._content=G("div","mapboxgl-popup-content",this._container||void 0);if(r.appendChild(p),this.options.closeButton){const d=this._closeButton=G("button","mapboxgl-popup-close-button",r);d.type="button",d.setAttribute("aria-label","Close popup"),d.setAttribute("aria-hidden","true"),d.innerHTML="&#215;",d.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(p){return this._classList.add(p),this._updateClassList(),this}removeClassName(p){return this._classList.delete(p),this._updateClassList(),this}setOffset(p){return this.options.offset=p,this._update(),this}toggleClassName(p){let r;return this._classList.delete(p)?r=!1:(this._classList.add(p),r=!0),this._updateClassList(),r}_onMouseEvent(p){this._update(p.point)}_getAnchor(p){if(this.options.anchor)return this.options.anchor;const r=this._map,d=this._container,m=this._pos;if(!r||!d||!m)return"bottom";const b=d.offsetWidth,w=d.offsetHeight,E=m.x<b/2,A=m.x>r.transform.width-b/2;if(m.y+p<w)return E?"top-left":A?"top-right":"top";if(m.y>r.transform.height-w){if(E)return"bottom-left";if(A)return"bottom-right"}return E?"left":A?"right":"bottom"}_updateClassList(){const p=this._container;if(!p)return;const r=[...this._classList];r.push("mapboxgl-popup"),this._anchor&&r.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&r.push("mapboxgl-popup-track-pointer"),p.className=r.join(" ")}_update(p){const r=this._map,d=this._content;if(!r||!this._lngLat&&!this._trackPointer||!d)return;let m=this._container;if(m||(m=this._container=G("div","mapboxgl-popup",r.getContainer()),this._tip=G("div","mapboxgl-popup-tip",m),m.appendChild(d)),this.options.maxWidth&&m.style.maxWidth!==this.options.maxWidth&&(m.style.maxWidth=this.options.maxWidth),r.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Ws(this._lngLat,this._pos,r.transform)),!this._trackPointer||p){const b=this._pos=this._trackPointer&&p instanceof n.P?p:r.project(this._lngLat),w=Er(this.options.offset),E=this._anchor=this._getAnchor(w.y),A=Er(this.options.offset,E),j=b.add(A).round();r._requestDomTask(()=>{this._container&&E&&(this._container.style.transform=`${Ks[E]} translate(${j.x}px,${j.y}px)`)})}if(!this._marker&&r._showingGlobe()){const b=n.dz(r.transform,this._lngLat)?0:1;this._setOpacity(b)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const p=this._container.querySelector(sy);p&&p.focus()}_onClose(){this.remove()}_setOpacity(p){this._container&&(this._container.style.opacity=`${p}`),this._content&&(this._content.style.pointerEvents=p?"auto":"none")}},Marker:bs,Style:_a,LngLat:n.bL,LngLatBounds:n.as,Point:n.P,MercatorCoordinate:n.a5,FreeCameraOptions:Fc,Evented:n.E,config:n.e,prewarm:n.dE,clearPrewarmedResources:n.dF,get accessToken(){return n.e.ACCESS_TOKEN},set accessToken(p){n.e.ACCESS_TOKEN=p},get baseApiUrl(){return n.e.API_URL},set baseApiUrl(p){n.e.API_URL=p},get workerCount(){return n.dG.workerCount},set workerCount(p){n.dG.workerCount=p},get maxParallelImageRequests(){return n.e.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(p){n.e.MAX_PARALLEL_IMAGE_REQUESTS=p},clearStorage(p){n.dH(p)},get workerUrl(){return n.dI.workerUrl},set workerUrl(p){n.dI.workerUrl=p},get workerClass(){return n.dI.workerClass},set workerClass(p){n.dI.workerClass=p},get workerParams(){return n.dI.workerParams},set workerParams(p){n.dI.workerParams=p},get dracoUrl(){return n.dJ()},set dracoUrl(p){n.dK(p)},get meshoptUrl(){return n.dL()},set meshoptUrl(p){n.dM(p)},setNow:n.q.setNow,restoreNow:n.q.restoreNow}});var y=l;return y})})(HT);var zV=HT.exports;const h3=j2(zV),lx=function(e,t){const i={drag:[],click:[],mousemove:[],mousedown:[],mouseup:[],mouseout:[],keydown:[],keyup:[],touchstart:[],touchmove:[],touchend:[],tap:[]},a={on(c,y,n){if(i[c]===void 0)throw new Error(`Invalid event type: ${c}`);i[c].push({selector:y,fn:n})},render(c){t.store.featureChanged(c)}},l=function(c,y){const n=i[c];let x=n.length;for(;x--;){const C=n[x];if(C.selector(y)){C.fn.call(a,y)||t.store.render(),t.ui.updateMapClasses();break}}};return e.start.call(a),{render:e.render,stop(){e.stop&&e.stop()},trash(){e.trash&&(e.trash(),t.store.render())},combineFeatures(){e.combineFeatures&&e.combineFeatures()},uncombineFeatures(){e.uncombineFeatures&&e.uncombineFeatures()},drag(c){l("drag",c)},click(c){l("click",c)},mousemove(c){l("mousemove",c)},mousedown(c){l("mousedown",c)},mouseup(c){l("mouseup",c)},mouseout(c){l("mouseout",c)},keydown(c){l("keydown",c)},keyup(c){l("keyup",c)},touchstart(c){l("touchstart",c)},touchmove(c){l("touchmove",c)},touchend(c){l("touchend",c)},tap(c){l("tap",c)}}};var T6={},z2={};z2.RADIUS=6378137;z2.FLATTENING=1/298.257223563;z2.POLAR_RADIUS=63567523142e-4;var xF=z2;T6.geometry=WT;T6.ring=dx;function WT(e){var t=0,i;switch(e.type){case"Polygon":return wF(e.coordinates);case"MultiPolygon":for(i=0;i<e.coordinates.length;i++)t+=wF(e.coordinates[i]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(i=0;i<e.geometries.length;i++)t+=WT(e.geometries[i]);return t}}function wF(e){var t=0;if(e&&e.length>0){t+=Math.abs(dx(e[0]));for(var i=1;i<e.length;i++)t-=Math.abs(dx(e[i]))}return t}function dx(e){var t,i,a,l,c,y,n,x=0,C=e.length;if(C>2){for(n=0;n<C;n++)n===C-2?(l=C-2,c=C-1,y=0):n===C-1?(l=C-1,c=0,y=1):(l=n,c=n+1,y=n+2),t=e[l],i=e[c],a=e[y],x+=(f3(a[0])-f3(t[0]))*Math.sin(f3(i[1]));x=x*xF.RADIUS*xF.RADIUS/2}return x}function f3(e){return e*Math.PI/180}const Na={CANVAS:"mapboxgl-canvas",CONTROL_BASE:"mapboxgl-ctrl",CONTROL_PREFIX:"mapboxgl-ctrl-",CONTROL_BUTTON:"mapbox-gl-draw_ctrl-draw-btn",CONTROL_BUTTON_LINE:"mapbox-gl-draw_line",CONTROL_BUTTON_POLYGON:"mapbox-gl-draw_polygon",CONTROL_BUTTON_POINT:"mapbox-gl-draw_point",CONTROL_BUTTON_TRASH:"mapbox-gl-draw_trash",CONTROL_BUTTON_COMBINE_FEATURES:"mapbox-gl-draw_combine",CONTROL_BUTTON_UNCOMBINE_FEATURES:"mapbox-gl-draw_uncombine",CONTROL_GROUP:"mapboxgl-ctrl-group",ATTRIBUTION:"mapboxgl-ctrl-attrib",ACTIVE_BUTTON:"active",BOX_SELECT:"mapbox-gl-draw_boxselect"},Is={HOT:"mapbox-gl-draw-hot",COLD:"mapbox-gl-draw-cold"},nr={ADD:"add",MOVE:"move",DRAG:"drag",POINTER:"pointer",NONE:"none"},$a={POLYGON:"polygon",LINE:"line_string",POINT:"point"},tn={FEATURE:"Feature",POLYGON:"Polygon",LINE_STRING:"LineString",POINT:"Point",FEATURE_COLLECTION:"FeatureCollection",MULTI_PREFIX:"Multi",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon"},eo={DRAW_LINE_STRING:"draw_line_string",DRAW_POLYGON:"draw_polygon",DRAW_POINT:"draw_point",SIMPLE_SELECT:"simple_select",DIRECT_SELECT:"direct_select"},Ia={CREATE:"draw.create",DELETE:"draw.delete",UPDATE:"draw.update",SELECTION_CHANGE:"draw.selectionchange",MODE_CHANGE:"draw.modechange",ACTIONABLE:"draw.actionable",RENDER:"draw.render",COMBINE_FEATURES:"draw.combine",UNCOMBINE_FEATURES:"draw.uncombine"},Ug={MOVE:"move",CHANGE_PROPERTIES:"change_properties",CHANGE_COORDINATES:"change_coordinates"},ua={FEATURE:"feature",MIDPOINT:"midpoint",VERTEX:"vertex"},Vr={ACTIVE:"true",INACTIVE:"false"},KT=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate"],VV=-90,ux=-85,NV=90,hx=85,$V=-270,UV=270,ZT=Object.freeze(Object.defineProperty({__proto__:null,LAT_MAX:NV,LAT_MIN:VV,LAT_RENDERED_MAX:hx,LAT_RENDERED_MIN:ux,LNG_MAX:UV,LNG_MIN:$V,activeStates:Vr,classes:Na,cursors:nr,events:Ia,geojsonTypes:tn,interactions:KT,meta:ua,modes:eo,sources:Is,types:$a,updateActions:Ug},Symbol.toStringTag,{value:"Module"})),FF={Point:0,LineString:1,MultiLineString:1,Polygon:2};function GV(e,t){const i=FF[e.geometry.type]-FF[t.geometry.type];return i===0&&e.geometry.type===tn.POLYGON?e.area-t.area:i}function QT(e){return e.map(t=>(t.geometry.type===tn.POLYGON&&(t.area=T6.geometry({type:tn.FEATURE,property:{},geometry:t.geometry})),t)).sort(GV).map(t=>(delete t.area,t))}function XT(e,t=0){return[[e.point.x-t,e.point.y-t],[e.point.x+t,e.point.y+t]]}function Os(e){if(this._items={},this._nums={},this._length=e?e.length:0,!!e)for(let t=0,i=e.length;t<i;t++)this.add(e[t]),e[t]!==void 0&&(typeof e[t]=="string"?this._items[e[t]]=t:this._nums[e[t]]=t)}Os.prototype.add=function(e){return this.has(e)?this:(this._length++,typeof e=="string"?this._items[e]=this._length:this._nums[e]=this._length,this)};Os.prototype.delete=function(e){return this.has(e)===!1?this:(this._length--,delete this._items[e],delete this._nums[e],this)};Os.prototype.has=function(e){return typeof e!="string"&&typeof e!="number"?!1:this._items[e]!==void 0||this._nums[e]!==void 0};Os.prototype.values=function(){const e=[];return Object.keys(this._items).forEach(t=>{e.push({k:t,v:this._items[t]})}),Object.keys(this._nums).forEach(t=>{e.push({k:JSON.parse(t),v:this._nums[t]})}),e.sort((t,i)=>t.v-i.v).map(t=>t.k)};Os.prototype.clear=function(){return this._length=0,this._items={},this._nums={},this};const HV=[ua.FEATURE,ua.MIDPOINT,ua.VERTEX],Vp={click:qV,touch:WV};function qV(e,t,i){return JT(e,t,i,i.options.clickBuffer)}function WV(e,t,i){return JT(e,t,i,i.options.touchBuffer)}function JT(e,t,i,a){if(i.map===null)return[];const l=e?XT(e,a):t,c={};i.options.styles&&(c.layers=i.options.styles.map(C=>C.id).filter(C=>i.map.getLayer(C)!=null));const y=i.map.queryRenderedFeatures(l,c).filter(C=>HV.indexOf(C.properties.meta)!==-1),n=new Os,x=[];return y.forEach(C=>{const k=C.properties.id;n.has(k)||(n.add(k),x.push(C))}),QT(x)}function wb(e,t){const i=Vp.click(e,null,t),a={mouse:nr.NONE};return i[0]&&(a.mouse=i[0].properties.active===Vr.ACTIVE?nr.MOVE:nr.POINTER,a.feature=i[0].properties.meta),t.events.currentModeName().indexOf("draw")!==-1&&(a.mouse=nr.ADD),t.ui.queueMapClasses(a),t.ui.updateMapClasses(),i[0]}function R6(e,t){const i=e.x-t.x,a=e.y-t.y;return Math.sqrt(i*i+a*a)}const KV=4,ZV=12,QV=500;function fx(e,t,i={}){const a=i.fineTolerance!=null?i.fineTolerance:KV,l=i.grossTolerance!=null?i.grossTolerance:ZV,c=i.interval!=null?i.interval:QV;e.point=e.point||t.point,e.time=e.time||t.time;const y=R6(e.point,t.point);return y<a||y<l&&t.time-e.time<c}const XV=25,JV=250;function px(e,t,i={}){const a=i.tolerance!=null?i.tolerance:XV,l=i.interval!=null?i.interval:JV;return e.point=e.point||t.point,e.time=e.time||t.time,R6(e.point,t.point)<a&&t.time-e.time<l}let YV=(e,t=21)=>(i=t)=>{let a="",l=i|0;for(;l--;)a+=e[Math.random()*e.length|0];return a};const eN=YV("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",32);function P6(){return eN()}const Ma=function(e,t){this.ctx=e,this.properties=t.properties||{},this.coordinates=t.geometry.coordinates,this.id=t.id||P6(),this.type=t.geometry.type};Ma.prototype.changed=function(){this.ctx.store.featureChanged(this.id)};Ma.prototype.incomingCoords=function(e){this.setCoordinates(e)};Ma.prototype.setCoordinates=function(e){this.coordinates=e,this.changed()};Ma.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.coordinates))};Ma.prototype.setProperty=function(e,t){this.properties[e]=t};Ma.prototype.toGeoJSON=function(){return JSON.parse(JSON.stringify({id:this.id,type:tn.FEATURE,properties:this.properties,geometry:{coordinates:this.getCoordinates(),type:this.type}}))};Ma.prototype.internal=function(e){const t={id:this.id,meta:ua.FEATURE,"meta:type":this.type,active:Vr.INACTIVE,mode:e};if(this.ctx.options.userProperties)for(const i in this.properties)t[`user_${i}`]=this.properties[i];return{type:tn.FEATURE,properties:t,geometry:{coordinates:this.getCoordinates(),type:this.type}}};const mu=function(e,t){Ma.call(this,e,t)};mu.prototype=Object.create(Ma.prototype);mu.prototype.isValid=function(){return typeof this.coordinates[0]=="number"&&typeof this.coordinates[1]=="number"};mu.prototype.updateCoordinate=function(e,t,i){arguments.length===3?this.coordinates=[t,i]:this.coordinates=[e,t],this.changed()};mu.prototype.getCoordinate=function(){return this.getCoordinates()};const Kc=function(e,t){Ma.call(this,e,t)};Kc.prototype=Object.create(Ma.prototype);Kc.prototype.isValid=function(){return this.coordinates.length>1};Kc.prototype.addCoordinate=function(e,t,i){this.changed();const a=parseInt(e,10);this.coordinates.splice(a,0,[t,i])};Kc.prototype.getCoordinate=function(e){const t=parseInt(e,10);return JSON.parse(JSON.stringify(this.coordinates[t]))};Kc.prototype.removeCoordinate=function(e){this.changed(),this.coordinates.splice(parseInt(e,10),1)};Kc.prototype.updateCoordinate=function(e,t,i){const a=parseInt(e,10);this.coordinates[a]=[t,i],this.changed()};const us=function(e,t){Ma.call(this,e,t),this.coordinates=this.coordinates.map(i=>i.slice(0,-1))};us.prototype=Object.create(Ma.prototype);us.prototype.isValid=function(){return this.coordinates.length===0?!1:this.coordinates.every(e=>e.length>2)};us.prototype.incomingCoords=function(e){this.coordinates=e.map(t=>t.slice(0,-1)),this.changed()};us.prototype.setCoordinates=function(e){this.coordinates=e,this.changed()};us.prototype.addCoordinate=function(e,t,i){this.changed();const a=e.split(".").map(c=>parseInt(c,10));this.coordinates[a[0]].splice(a[1],0,[t,i])};us.prototype.removeCoordinate=function(e){this.changed();const t=e.split(".").map(a=>parseInt(a,10)),i=this.coordinates[t[0]];i&&(i.splice(t[1],1),i.length<3&&this.coordinates.splice(t[0],1))};us.prototype.getCoordinate=function(e){const t=e.split(".").map(a=>parseInt(a,10)),i=this.coordinates[t[0]];return JSON.parse(JSON.stringify(i[t[1]]))};us.prototype.getCoordinates=function(){return this.coordinates.map(e=>e.concat([e[0]]))};us.prototype.updateCoordinate=function(e,t,i){this.changed();const a=e.split("."),l=parseInt(a[0],10),c=parseInt(a[1],10);this.coordinates[l]===void 0&&(this.coordinates[l]=[]),this.coordinates[l][c]=[t,i]};const tN={MultiPoint:mu,MultiLineString:Kc,MultiPolygon:us},V2=(e,t,i,a,l)=>{const c=i.split("."),y=parseInt(c[0],10),n=c[1]?c.slice(1).join("."):null;return e[y][t](n,a,l)},Pa=function(e,t){if(Ma.call(this,e,t),delete this.coordinates,this.model=tN[t.geometry.type],this.model===void 0)throw new TypeError(`${t.geometry.type} is not a valid type`);this.features=this._coordinatesToFeatures(t.geometry.coordinates)};Pa.prototype=Object.create(Ma.prototype);Pa.prototype._coordinatesToFeatures=function(e){const t=this.model.bind(this);return e.map(i=>new t(this.ctx,{id:P6(),type:tn.FEATURE,properties:{},geometry:{coordinates:i,type:this.type.replace("Multi","")}}))};Pa.prototype.isValid=function(){return this.features.every(e=>e.isValid())};Pa.prototype.setCoordinates=function(e){this.features=this._coordinatesToFeatures(e),this.changed()};Pa.prototype.getCoordinate=function(e){return V2(this.features,"getCoordinate",e)};Pa.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.features.map(e=>e.type===tn.POLYGON?e.getCoordinates():e.coordinates)))};Pa.prototype.updateCoordinate=function(e,t,i){V2(this.features,"updateCoordinate",e,t,i),this.changed()};Pa.prototype.addCoordinate=function(e,t,i){V2(this.features,"addCoordinate",e,t,i),this.changed()};Pa.prototype.removeCoordinate=function(e){V2(this.features,"removeCoordinate",e),this.changed()};Pa.prototype.getFeatures=function(){return this.features};function $n(e){this.map=e.map,this.drawConfig=JSON.parse(JSON.stringify(e.options||{})),this._ctx=e}$n.prototype.setSelected=function(e){return this._ctx.store.setSelected(e)};$n.prototype.setSelectedCoordinates=function(e){this._ctx.store.setSelectedCoordinates(e),e.reduce((t,i)=>(t[i.feature_id]===void 0&&(t[i.feature_id]=!0,this._ctx.store.get(i.feature_id).changed()),t),{})};$n.prototype.getSelected=function(){return this._ctx.store.getSelected()};$n.prototype.getSelectedIds=function(){return this._ctx.store.getSelectedIds()};$n.prototype.isSelected=function(e){return this._ctx.store.isSelected(e)};$n.prototype.getFeature=function(e){return this._ctx.store.get(e)};$n.prototype.select=function(e){return this._ctx.store.select(e)};$n.prototype.deselect=function(e){return this._ctx.store.deselect(e)};$n.prototype.deleteFeature=function(e,t={}){return this._ctx.store.delete(e,t)};$n.prototype.addFeature=function(e,t={}){return this._ctx.store.add(e,t)};$n.prototype.clearSelectedFeatures=function(){return this._ctx.store.clearSelected()};$n.prototype.clearSelectedCoordinates=function(){return this._ctx.store.clearSelectedCoordinates()};$n.prototype.setActionableState=function(e={}){const t={trash:e.trash||!1,combineFeatures:e.combineFeatures||!1,uncombineFeatures:e.uncombineFeatures||!1};return this._ctx.events.actionable(t)};$n.prototype.changeMode=function(e,t={},i={}){return this._ctx.events.changeMode(e,t,i)};$n.prototype.fire=function(e,t){return this._ctx.events.fire(e,t)};$n.prototype.updateUIClasses=function(e){return this._ctx.ui.queueMapClasses(e)};$n.prototype.activateUIButton=function(e){return this._ctx.ui.setActiveButton(e)};$n.prototype.featuresAt=function(e,t,i="click"){if(i!=="click"&&i!=="touch")throw new Error("invalid buffer type");return Vp[i](e,t,this._ctx)};$n.prototype.newFeature=function(e){const t=e.geometry.type;return t===tn.POINT?new mu(this._ctx,e):t===tn.LINE_STRING?new Kc(this._ctx,e):t===tn.POLYGON?new us(this._ctx,e):new Pa(this._ctx,e)};$n.prototype.isInstanceOf=function(e,t){if(e===tn.POINT)return t instanceof mu;if(e===tn.LINE_STRING)return t instanceof Kc;if(e===tn.POLYGON)return t instanceof us;if(e==="MultiFeature")return t instanceof Pa;throw new Error(`Unknown feature class: ${e}`)};$n.prototype.doRender=function(e){return this._ctx.store.featureChanged(e)};$n.prototype.onSetup=function(){};$n.prototype.onDrag=function(){};$n.prototype.onClick=function(){};$n.prototype.onMouseMove=function(){};$n.prototype.onMouseDown=function(){};$n.prototype.onMouseUp=function(){};$n.prototype.onMouseOut=function(){};$n.prototype.onKeyUp=function(){};$n.prototype.onKeyDown=function(){};$n.prototype.onTouchStart=function(){};$n.prototype.onTouchMove=function(){};$n.prototype.onTouchEnd=function(){};$n.prototype.onTap=function(){};$n.prototype.onStop=function(){};$n.prototype.onTrash=function(){};$n.prototype.onCombineFeature=function(){};$n.prototype.onUncombineFeature=function(){};$n.prototype.toDisplayFeatures=function(){throw new Error("You must overwrite toDisplayFeatures")};const YT={drag:"onDrag",click:"onClick",mousemove:"onMouseMove",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseout:"onMouseOut",keyup:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",tap:"onTap"},iN=Object.keys(YT);function nN(e){const t=Object.keys(e);return function(i,a={}){let l={};const c=t.reduce((n,x)=>(n[x]=e[x],n),new $n(i));function y(n){return x=>c[n](l,x)}return{start(){l=c.onSetup(a),iN.forEach(n=>{const x=YT[n];let C=()=>!1;e[x]&&(C=()=>!0),this.on(n,C,y(x))})},stop(){c.onStop(l)},trash(){c.onTrash(l)},combineFeatures(){c.onCombineFeatures(l)},uncombineFeatures(){c.onUncombineFeatures(l)},render(n,x){c.toDisplayFeatures(l,n,x)}}}}function oN(e){const t=Object.keys(e.options.modes).reduce((B,L)=>(B[L]=nN(e.options.modes[L]),B),{});let i={},a={};const l={};let c=null,y=null;l.drag=function(B,L){L({point:B.point,time:new Date().getTime()})?(e.ui.queueMapClasses({mouse:nr.DRAG}),y.drag(B)):B.originalEvent.stopPropagation()},l.mousedrag=function(B){l.drag(B,L=>!fx(i,L))},l.touchdrag=function(B){l.drag(B,L=>!px(a,L))},l.mousemove=function(B){if((B.originalEvent.buttons!==void 0?B.originalEvent.buttons:B.originalEvent.which)===1)return l.mousedrag(B);const V=wb(B,e);B.featureTarget=V,y.mousemove(B)},l.mousedown=function(B){i={time:new Date().getTime(),point:B.point};const L=wb(B,e);B.featureTarget=L,y.mousedown(B)},l.mouseup=function(B){const L=wb(B,e);B.featureTarget=L,fx(i,{point:B.point,time:new Date().getTime()})?y.click(B):y.mouseup(B)},l.mouseout=function(B){y.mouseout(B)},l.touchstart=function(B){if(!e.options.touchEnabled)return;a={time:new Date().getTime(),point:B.point};const L=Vp.touch(B,null,e)[0];B.featureTarget=L,y.touchstart(B)},l.touchmove=function(B){if(e.options.touchEnabled)return y.touchmove(B),l.touchdrag(B)},l.touchend=function(B){if(B.originalEvent.preventDefault(),!e.options.touchEnabled)return;const L=Vp.touch(B,null,e)[0];B.featureTarget=L,px(a,{time:new Date().getTime(),point:B.point})?y.tap(B):y.touchend(B)};const n=B=>!(B===8||B===46||B>=48&&B<=57);l.keydown=function(B){(B.srcElement||B.target).classList.contains(Na.CANVAS)&&((B.keyCode===8||B.keyCode===46)&&e.options.controls.trash?(B.preventDefault(),y.trash()):n(B.keyCode)?y.keydown(B):B.keyCode===49&&e.options.controls.point?x(eo.DRAW_POINT):B.keyCode===50&&e.options.controls.line_string?x(eo.DRAW_LINE_STRING):B.keyCode===51&&e.options.controls.polygon&&x(eo.DRAW_POLYGON))},l.keyup=function(B){n(B.keyCode)&&y.keyup(B)},l.zoomend=function(){e.store.changeZoom()},l.data=function(B){if(B.dataType==="style"){const{setup:L,map:V,options:G,store:Q}=e;G.styles.some(J=>V.getLayer(J.id))||(L.addLayers(),Q.setDirty(),Q.render())}};function x(B,L,V={}){y.stop();const G=t[B];if(G===void 0)throw new Error(`${B} is not valid`);c=B;const Q=G(e,L);y=lx(Q,e),V.silent||e.map.fire(Ia.MODE_CHANGE,{mode:B}),e.store.setDirty(),e.store.render()}const C={trash:!1,combineFeatures:!1,uncombineFeatures:!1};function k(B){let L=!1;Object.keys(B).forEach(V=>{if(C[V]===void 0)throw new Error("Invalid action type");C[V]!==B[V]&&(L=!0),C[V]=B[V]}),L&&e.map.fire(Ia.ACTIONABLE,{actions:C})}return{start(){c=e.options.defaultMode,y=lx(t[c](e),e)},changeMode:x,actionable:k,currentModeName(){return c},currentModeRender(B,L){return y.render(B,L)},fire(B,L){e.map&&e.map.fire(B,L)},addEventListeners(){e.map.on("mousemove",l.mousemove),e.map.on("mousedown",l.mousedown),e.map.on("mouseup",l.mouseup),e.map.on("data",l.data),e.map.on("touchmove",l.touchmove),e.map.on("touchstart",l.touchstart),e.map.on("touchend",l.touchend),e.container.addEventListener("mouseout",l.mouseout),e.options.keybindings&&(e.container.addEventListener("keydown",l.keydown),e.container.addEventListener("keyup",l.keyup))},removeEventListeners(){e.map.off("mousemove",l.mousemove),e.map.off("mousedown",l.mousedown),e.map.off("mouseup",l.mouseup),e.map.off("data",l.data),e.map.off("touchmove",l.touchmove),e.map.off("touchstart",l.touchstart),e.map.off("touchend",l.touchend),e.container.removeEventListener("mouseout",l.mouseout),e.options.keybindings&&(e.container.removeEventListener("keydown",l.keydown),e.container.removeEventListener("keyup",l.keyup))},trash(B){y.trash(B)},combineFeatures(){y.combineFeatures()},uncombineFeatures(){y.uncombineFeatures()},getMode(){return c}}}function Gg(e){return[].concat(e).filter(t=>t!==void 0)}function rN(){const e=this;if(!(e.ctx.map&&e.ctx.map.getSource(Is.HOT)!==void 0))return x();const i=e.ctx.events.currentModeName();e.ctx.ui.queueMapClasses({mode:i});let a=[],l=[];e.isDirty?l=e.getAllIds():(a=e.getChangedIds().filter(C=>e.get(C)!==void 0),l=e.sources.hot.filter(C=>C.properties.id&&a.indexOf(C.properties.id)===-1&&e.get(C.properties.id)!==void 0).map(C=>C.properties.id)),e.sources.hot=[];const c=e.sources.cold.length;e.sources.cold=e.isDirty?[]:e.sources.cold.filter(C=>{const k=C.properties.id||C.properties.parent;return a.indexOf(k)===-1});const y=c!==e.sources.cold.length||l.length>0;a.forEach(C=>n(C,"hot")),l.forEach(C=>n(C,"cold"));function n(C,k){const B=e.get(C).internal(i);e.ctx.events.currentModeRender(B,L=>{L.properties.mode=i,e.sources[k].push(L)})}y&&e.ctx.map.getSource(Is.COLD).setData({type:tn.FEATURE_COLLECTION,features:e.sources.cold}),e.ctx.map.getSource(Is.HOT).setData({type:tn.FEATURE_COLLECTION,features:e.sources.hot}),x();function x(){e.isDirty=!1,e.clearChangedIds()}}function Ho(e){this._features={},this._featureIds=new Os,this._selectedFeatureIds=new Os,this._selectedCoordinates=[],this._changedFeatureIds=new Os,this._emitSelectionChange=!1,this._mapInitialConfig={},this.ctx=e,this.sources={hot:[],cold:[]};let t;this.render=()=>{t||(t=requestAnimationFrame(()=>{t=null,rN.call(this),this._emitSelectionChange&&(this.ctx.events.fire(Ia.SELECTION_CHANGE,{features:this.getSelected().map(i=>i.toGeoJSON()),points:this.getSelectedCoordinates().map(i=>({type:tn.FEATURE,properties:{},geometry:{type:tn.POINT,coordinates:i.coordinates}}))}),this._emitSelectionChange=!1),this.ctx.events.fire(Ia.RENDER,{})}))},this.isDirty=!1}Ho.prototype.createRenderBatch=function(){const e=this.render;let t=0;return this.render=function(){t++},()=>{this.render=e,t>0&&this.render()}};Ho.prototype.setDirty=function(){return this.isDirty=!0,this};Ho.prototype.featureCreated=function(e,t={}){if(this._changedFeatureIds.add(e),(t.silent!=null?t.silent:this.ctx.options.suppressAPIEvents)!==!0){const a=this.get(e);this.ctx.events.fire(Ia.CREATE,{features:[a.toGeoJSON()]})}return this};Ho.prototype.featureChanged=function(e,t={}){return this._changedFeatureIds.add(e),(t.silent!=null?t.silent:this.ctx.options.suppressAPIEvents)!==!0&&this.ctx.events.fire(Ia.UPDATE,{action:t.action?t.action:Ug.CHANGE_COORDINATES,features:[this.get(e).toGeoJSON()]}),this};Ho.prototype.getChangedIds=function(){return this._changedFeatureIds.values()};Ho.prototype.clearChangedIds=function(){return this._changedFeatureIds.clear(),this};Ho.prototype.getAllIds=function(){return this._featureIds.values()};Ho.prototype.add=function(e,t={}){return this._features[e.id]=e,this._featureIds.add(e.id),this.featureCreated(e.id,{silent:t.silent}),this};Ho.prototype.delete=function(e,t={}){const i=[];return Gg(e).forEach(a=>{this._featureIds.has(a)&&(this._featureIds.delete(a),this._selectedFeatureIds.delete(a),t.silent||i.indexOf(this._features[a])===-1&&i.push(this._features[a].toGeoJSON()),delete this._features[a],this.isDirty=!0)}),i.length&&this.ctx.events.fire(Ia.DELETE,{features:i}),eR(this,t),this};Ho.prototype.get=function(e){return this._features[e]};Ho.prototype.getAll=function(){return Object.keys(this._features).map(e=>this._features[e])};Ho.prototype.select=function(e,t={}){return Gg(e).forEach(i=>{this._selectedFeatureIds.has(i)||(this._selectedFeatureIds.add(i),this._changedFeatureIds.add(i),t.silent||(this._emitSelectionChange=!0))}),this};Ho.prototype.deselect=function(e,t={}){return Gg(e).forEach(i=>{this._selectedFeatureIds.has(i)&&(this._selectedFeatureIds.delete(i),this._changedFeatureIds.add(i),t.silent||(this._emitSelectionChange=!0))}),eR(this,t),this};Ho.prototype.clearSelected=function(e={}){return this.deselect(this._selectedFeatureIds.values(),{silent:e.silent}),this};Ho.prototype.setSelected=function(e,t={}){return e=Gg(e),this.deselect(this._selectedFeatureIds.values().filter(i=>e.indexOf(i)===-1),{silent:t.silent}),this.select(e.filter(i=>!this._selectedFeatureIds.has(i)),{silent:t.silent}),this};Ho.prototype.setSelectedCoordinates=function(e){return this._selectedCoordinates=e,this._emitSelectionChange=!0,this};Ho.prototype.clearSelectedCoordinates=function(){return this._selectedCoordinates=[],this._emitSelectionChange=!0,this};Ho.prototype.getSelectedIds=function(){return this._selectedFeatureIds.values()};Ho.prototype.getSelected=function(){return this.getSelectedIds().map(e=>this.get(e))};Ho.prototype.getSelectedCoordinates=function(){return this._selectedCoordinates.map(t=>({coordinates:this.get(t.feature_id).getCoordinate(t.coord_path)}))};Ho.prototype.isSelected=function(e){return this._selectedFeatureIds.has(e)};Ho.prototype.setFeatureProperty=function(e,t,i,a={}){this.get(e).setProperty(t,i),this.featureChanged(e,{silent:a.silent,action:Ug.CHANGE_PROPERTIES})};function eR(e,t={}){const i=e._selectedCoordinates.filter(a=>e._selectedFeatureIds.has(a.feature_id));e._selectedCoordinates.length!==i.length&&!t.silent&&(e._emitSelectionChange=!0),e._selectedCoordinates=i}Ho.prototype.storeMapConfig=function(){KT.forEach(e=>{this.ctx.map[e]&&(this._mapInitialConfig[e]=this.ctx.map[e].isEnabled())})};Ho.prototype.restoreMapConfig=function(){Object.keys(this._mapInitialConfig).forEach(e=>{this._mapInitialConfig[e]?this.ctx.map[e].enable():this.ctx.map[e].disable()})};Ho.prototype.getInitialConfigValue=function(e){return this._mapInitialConfig[e]!==void 0?this._mapInitialConfig[e]:!0};const aN=["mode","feature","mouse"];function sN(e){const t={};let i=null,a={mode:null,feature:null,mouse:null},l={mode:null,feature:null,mouse:null};function c(){y({mode:null,feature:null,mouse:null}),n()}function y(L){l=Object.assign(l,L)}function n(){if(!e.container)return;const L=[],V=[];aN.forEach(G=>{l[G]!==a[G]&&(L.push(`${G}-${a[G]}`),l[G]!==null&&V.push(`${G}-${l[G]}`))}),L.length>0&&e.container.classList.remove(...L),V.length>0&&e.container.classList.add(...V),a=Object.assign(a,l)}function x(L,V={}){const G=document.createElement("button");return G.className=`${Na.CONTROL_BUTTON} ${V.className}`,G.setAttribute("title",V.title),V.container.appendChild(G),G.addEventListener("click",Q=>{if(Q.preventDefault(),Q.stopPropagation(),Q.target===i){C(),V.onDeactivate();return}k(L),V.onActivate()},!0),G}function C(){i&&(i.classList.remove(Na.ACTIVE_BUTTON),i=null)}function k(L){C();const V=t[L];V&&V&&L!=="trash"&&(V.classList.add(Na.ACTIVE_BUTTON),i=V)}function O(){const L=e.options.controls,V=document.createElement("div");return V.className=`${Na.CONTROL_GROUP} ${Na.CONTROL_BASE}`,L&&(L[$a.LINE]&&(t[$a.LINE]=x($a.LINE,{container:V,className:Na.CONTROL_BUTTON_LINE,title:`LineString tool ${e.options.keybindings?"(l)":""}`,onActivate:()=>e.events.changeMode(eo.DRAW_LINE_STRING),onDeactivate:()=>e.events.trash()})),L[$a.POLYGON]&&(t[$a.POLYGON]=x($a.POLYGON,{container:V,className:Na.CONTROL_BUTTON_POLYGON,title:`Polygon tool ${e.options.keybindings?"(p)":""}`,onActivate:()=>e.events.changeMode(eo.DRAW_POLYGON),onDeactivate:()=>e.events.trash()})),L[$a.POINT]&&(t[$a.POINT]=x($a.POINT,{container:V,className:Na.CONTROL_BUTTON_POINT,title:`Marker tool ${e.options.keybindings?"(m)":""}`,onActivate:()=>e.events.changeMode(eo.DRAW_POINT),onDeactivate:()=>e.events.trash()})),L.trash&&(t.trash=x("trash",{container:V,className:Na.CONTROL_BUTTON_TRASH,title:"Delete",onActivate:()=>{e.events.trash()}})),L.combine_features&&(t.combine_features=x("combineFeatures",{container:V,className:Na.CONTROL_BUTTON_COMBINE_FEATURES,title:"Combine",onActivate:()=>{e.events.combineFeatures()}})),L.uncombine_features&&(t.uncombine_features=x("uncombineFeatures",{container:V,className:Na.CONTROL_BUTTON_UNCOMBINE_FEATURES,title:"Uncombine",onActivate:()=>{e.events.uncombineFeatures()}}))),V}function B(){Object.keys(t).forEach(L=>{const V=t[L];V.parentNode&&V.parentNode.removeChild(V),delete t[L]})}return{setActiveButton:k,queueMapClasses:y,updateMapClasses:n,clearMapClasses:c,addButtons:O,removeButtons:B}}function cN(e){let t=null,i=null;const a={onRemove(){return e.map.off("load",a.connect),clearInterval(i),a.removeLayers(),e.store.restoreMapConfig(),e.ui.removeButtons(),e.events.removeEventListeners(),e.ui.clearMapClasses(),e.boxZoomInitial&&e.map.boxZoom.enable(),e.map=null,e.container=null,e.store=null,t&&t.parentNode&&t.parentNode.removeChild(t),t=null,this},connect(){e.map.off("load",a.connect),clearInterval(i),a.addLayers(),e.store.storeMapConfig(),e.events.addEventListeners()},onAdd(l){if(e.map=l,e.events=oN(e),e.ui=sN(e),e.container=l.getContainer(),e.store=new Ho(e),t=e.ui.addButtons(),e.options.boxSelect){e.boxZoomInitial=l.boxZoom.isEnabled(),l.boxZoom.disable();const c=l.dragPan.isEnabled();l.dragPan.disable(),l.dragPan.enable(),c||l.dragPan.disable()}return l.loaded()?a.connect():(l.on("load",a.connect),i=setInterval(()=>{l.loaded()&&a.connect()},16)),e.events.start(),t},addLayers(){e.map.addSource(Is.COLD,{data:{type:tn.FEATURE_COLLECTION,features:[]},type:"geojson"}),e.map.addSource(Is.HOT,{data:{type:tn.FEATURE_COLLECTION,features:[]},type:"geojson"}),e.options.styles.forEach(l=>{e.map.addLayer(l)}),e.store.setDirty(!0),e.store.render()},removeLayers(){e.options.styles.forEach(l=>{e.map.getLayer(l.id)&&e.map.removeLayer(l.id)}),e.map.getSource(Is.COLD)&&e.map.removeSource(Is.COLD),e.map.getSource(Is.HOT)&&e.map.removeSource(Is.HOT)}};return e.setup=a,a}const p3="#3bb2d0",c1="#fbb03b",CF="#fff",tR=[{id:"gl-draw-polygon-fill",type:"fill",filter:["all",["==","$type","Polygon"]],paint:{"fill-color":["case",["==",["get","active"],"true"],c1,p3],"fill-opacity":.1}},{id:"gl-draw-lines",type:"line",filter:["any",["==","$type","LineString"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":["case",["==",["get","active"],"true"],c1,p3],"line-dasharray":["case",["==",["get","active"],"true"],[.2,2],[2,0]],"line-width":2}},{id:"gl-draw-point-outer",type:"circle",filter:["all",["==","$type","Point"],["==","meta","feature"]],paint:{"circle-radius":["case",["==",["get","active"],"true"],7,5],"circle-color":CF}},{id:"gl-draw-point-inner",type:"circle",filter:["all",["==","$type","Point"],["==","meta","feature"]],paint:{"circle-radius":["case",["==",["get","active"],"true"],5,3],"circle-color":["case",["==",["get","active"],"true"],c1,p3]}},{id:"gl-draw-vertex-outer",type:"circle",filter:["all",["==","$type","Point"],["==","meta","vertex"],["!=","mode","simple_select"]],paint:{"circle-radius":["case",["==",["get","active"],"true"],7,5],"circle-color":CF}},{id:"gl-draw-vertex-inner",type:"circle",filter:["all",["==","$type","Point"],["==","meta","vertex"],["!=","mode","simple_select"]],paint:{"circle-radius":["case",["==",["get","active"],"true"],5,3],"circle-color":c1}},{id:"gl-draw-midpoint",type:"circle",filter:["all",["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":c1}}];function N2(e){return function(t){const i=t.featureTarget;return!i||!i.properties?!1:i.properties.meta===e}}function iR(e){return!e.originalEvent||!e.originalEvent.shiftKey?!1:e.originalEvent.button===0}function zh(e){return!e.featureTarget||!e.featureTarget.properties?!1:e.featureTarget.properties.active===Vr.ACTIVE&&e.featureTarget.properties.meta===ua.FEATURE}function I6(e){return!e.featureTarget||!e.featureTarget.properties?!1:e.featureTarget.properties.active===Vr.INACTIVE&&e.featureTarget.properties.meta===ua.FEATURE}function $2(e){return e.featureTarget===void 0}function k6(e){return!e.featureTarget||!e.featureTarget.properties?!1:e.featureTarget.properties.meta===ua.FEATURE}function Hg(e){const t=e.featureTarget;return!t||!t.properties?!1:t.properties.meta===ua.VERTEX}function qb(e){return e.originalEvent?e.originalEvent.shiftKey===!0:!1}function U2(e){return e.keyCode===27}function G2(e){return e.keyCode===13}function lN(){return!0}const dN=Object.freeze(Object.defineProperty({__proto__:null,isActiveFeature:zh,isEnterKey:G2,isEscapeKey:U2,isFeature:k6,isInactiveFeature:I6,isOfMetaType:N2,isShiftDown:qb,isShiftMousedown:iR,isTrue:lN,isVertex:Hg,noTarget:$2},Symbol.toStringTag,{value:"Module"}));function qd(e,t){this.x=e,this.y=t}qd.prototype={clone(){return new qd(this.x,this.y)},add(e){return this.clone()._add(e)},sub(e){return this.clone()._sub(e)},multByPoint(e){return this.clone()._multByPoint(e)},divByPoint(e){return this.clone()._divByPoint(e)},mult(e){return this.clone()._mult(e)},div(e){return this.clone()._div(e)},rotate(e){return this.clone()._rotate(e)},rotateAround(e,t){return this.clone()._rotateAround(e,t)},matMult(e){return this.clone()._matMult(e)},unit(){return this.clone()._unit()},perp(){return this.clone()._perp()},round(){return this.clone()._round()},mag(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals(e){return this.x===e.x&&this.y===e.y},dist(e){return Math.sqrt(this.distSqr(e))},distSqr(e){const t=e.x-this.x,i=e.y-this.y;return t*t+i*i},angle(){return Math.atan2(this.y,this.x)},angleTo(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith(e){return this.angleWithSep(e.x,e.y)},angleWithSep(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult(e){const t=e[0]*this.x+e[1]*this.y,i=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=i,this},_add(e){return this.x+=e.x,this.y+=e.y,this},_sub(e){return this.x-=e.x,this.y-=e.y,this},_mult(e){return this.x*=e,this.y*=e,this},_div(e){return this.x/=e,this.y/=e,this},_multByPoint(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint(e){return this.x/=e.x,this.y/=e.y,this},_unit(){return this._div(this.mag()),this},_perp(){const e=this.y;return this.y=this.x,this.x=-e,this},_rotate(e){const t=Math.cos(e),i=Math.sin(e),a=t*this.x-i*this.y,l=i*this.x+t*this.y;return this.x=a,this.y=l,this},_rotateAround(e,t){const i=Math.cos(e),a=Math.sin(e),l=t.x+i*(this.x-t.x)-a*(this.y-t.y),c=t.y+a*(this.x-t.x)+i*(this.y-t.y);return this.x=l,this.y=c,this},_round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},constructor:qd};qd.convert=function(e){if(e instanceof qd)return e;if(Array.isArray(e))return new qd(+e[0],+e[1]);if(e.x!==void 0&&e.y!==void 0)return new qd(+e.x,+e.y);throw new Error("Expected [x, y] or {x, y} point format")};function M6(e,t){const i=t.getBoundingClientRect();return new qd(e.clientX-i.left-(t.clientLeft||0),e.clientY-i.top-(t.clientTop||0))}function Np(e,t,i,a){return{type:tn.FEATURE,properties:{meta:ua.VERTEX,parent:e,coord_path:i,active:a?Vr.ACTIVE:Vr.INACTIVE},geometry:{type:tn.POINT,coordinates:t}}}function nR(e,t,i){const a=t.geometry.coordinates,l=i.geometry.coordinates;if(a[1]>hx||a[1]<ux||l[1]>hx||l[1]<ux)return null;const c={lng:(a[0]+l[0])/2,lat:(a[1]+l[1])/2};return{type:tn.FEATURE,properties:{meta:ua.MIDPOINT,parent:e,lng:c.lng,lat:c.lat,coord_path:i.properties.coord_path},geometry:{type:tn.POINT,coordinates:[c.lng,c.lat]}}}function H2(e,t={},i=null){const{type:a,coordinates:l}=e.geometry,c=e.properties&&e.properties.id;let y=[];a===tn.POINT?y.push(Np(c,l,i,x(i))):a===tn.POLYGON?l.forEach((k,O)=>{n(k,i!==null?`${i}.${O}`:String(O))}):a===tn.LINE_STRING?n(l,i):a.indexOf(tn.MULTI_PREFIX)===0&&C();function n(k,O){let B="",L=null;k.forEach((V,G)=>{const Q=O!=null?`${O}.${G}`:String(G),Y=Np(c,V,Q,x(Q));if(t.midpoints&&L){const re=nR(c,L,Y);re&&y.push(re)}L=Y;const J=JSON.stringify(V);B!==J&&y.push(Y),G===0&&(B=J)})}function x(k){return t.selectedPaths?t.selectedPaths.indexOf(k)!==-1:!1}function C(){const k=a.replace(tn.MULTI_PREFIX,"");l.forEach((O,B)=>{const L={type:tn.FEATURE,properties:e.properties,geometry:{type:k,coordinates:O}};y=y.concat(H2(L,t,B))})}return y}const pc={enable(e){setTimeout(()=>{!e.map||!e.map.doubleClickZoom||!e._ctx||!e._ctx.store||!e._ctx.store.getInitialConfigValue||e._ctx.store.getInitialConfigValue("doubleClickZoom")&&e.map.doubleClickZoom.enable()},0)},disable(e){setTimeout(()=>{!e.map||!e.map.doubleClickZoom||e.map.doubleClickZoom.disable()},0)}},{LAT_MIN:nb,LAT_MAX:ob,LAT_RENDERED_MIN:EF,LAT_RENDERED_MAX:SF,LNG_MIN:TF,LNG_MAX:RF}=ZT;function uN(e){const t={Point:0,LineString:1,Polygon:2,MultiPoint:1,MultiLineString:2,MultiPolygon:3}[e.geometry.type],i=[e.geometry.coordinates].flat(t),a=i.map(n=>n[0]),l=i.map(n=>n[1]),c=n=>Math.min.apply(null,n),y=n=>Math.max.apply(null,n);return[c(a),c(l),y(a),y(l)]}function A6(e,t){let i=nb,a=ob,l=nb,c=ob,y=RF,n=TF;e.forEach(C=>{const k=uN(C),O=k[1],B=k[3],L=k[0],V=k[2];O>i&&(i=O),B<a&&(a=B),B>l&&(l=B),O<c&&(c=O),L<y&&(y=L),V>n&&(n=V)});const x=t;return i+x.lat>SF&&(x.lat=SF-i),l+x.lat>ob&&(x.lat=ob-l),a+x.lat<EF&&(x.lat=EF-a),c+x.lat<nb&&(x.lat=nb-c),y+x.lng<=TF&&(x.lng+=Math.ceil(Math.abs(x.lng)/360)*360),n+x.lng>=RF&&(x.lng-=Math.ceil(Math.abs(x.lng)/360)*360),x}function O6(e,t){const i=A6(e.map(a=>a.toGeoJSON()),t);e.forEach(a=>{const l=a.getCoordinates(),c=C=>{const k={lng:C[0]+i.lng,lat:C[1]+i.lat};return[k.lng,k.lat]},y=C=>C.map(k=>c(k)),n=C=>C.map(k=>y(k));let x;a.type===tn.POINT?x=c(l):a.type===tn.LINE_STRING||a.type===tn.MULTI_POINT?x=l.map(c):a.type===tn.POLYGON||a.type===tn.MULTI_LINE_STRING?x=l.map(y):a.type===tn.MULTI_POLYGON&&(x=l.map(n)),a.incomingCoords(x)})}const jo={};jo.onSetup=function(e){const t={dragMoveLocation:null,boxSelectStartLocation:null,boxSelectElement:void 0,boxSelecting:!1,canBoxSelect:!1,dragMoving:!1,canDragMove:!1,initialDragPanState:this.map.dragPan.isEnabled(),initiallySelectedFeatureIds:e.featureIds||[]};return this.setSelected(t.initiallySelectedFeatureIds.filter(i=>this.getFeature(i)!==void 0)),this.fireActionable(),this.setActionableState({combineFeatures:!0,uncombineFeatures:!0,trash:!0}),t};jo.fireUpdate=function(){this.fire(Ia.UPDATE,{action:Ug.MOVE,features:this.getSelected().map(e=>e.toGeoJSON())})};jo.fireActionable=function(){const e=this.getSelected(),t=e.filter(c=>this.isInstanceOf("MultiFeature",c));let i=!1;if(e.length>1){i=!0;const c=e[0].type.replace("Multi","");e.forEach(y=>{y.type.replace("Multi","")!==c&&(i=!1)})}const a=t.length>0,l=e.length>0;this.setActionableState({combineFeatures:i,uncombineFeatures:a,trash:l})};jo.getUniqueIds=function(e){return e.length?e.map(i=>i.properties.id).filter(i=>i!==void 0).reduce((i,a)=>(i.add(a),i),new Os).values():[]};jo.stopExtendedInteractions=function(e){e.boxSelectElement&&(e.boxSelectElement.parentNode&&e.boxSelectElement.parentNode.removeChild(e.boxSelectElement),e.boxSelectElement=null),(e.canDragMove||e.canBoxSelect)&&e.initialDragPanState===!0&&this.map.dragPan.enable(),e.boxSelecting=!1,e.canBoxSelect=!1,e.dragMoving=!1,e.canDragMove=!1};jo.onStop=function(){pc.enable(this)};jo.onMouseMove=function(e,t){return k6(t)&&e.dragMoving&&this.fireUpdate(),this.stopExtendedInteractions(e),!0};jo.onMouseOut=function(e){return e.dragMoving?this.fireUpdate():!0};jo.onTap=jo.onClick=function(e,t){if($2(t))return this.clickAnywhere(e,t);if(N2(ua.VERTEX)(t))return this.clickOnVertex(e,t);if(k6(t))return this.clickOnFeature(e,t)};jo.clickAnywhere=function(e){const t=this.getSelectedIds();t.length&&(this.clearSelectedFeatures(),t.forEach(i=>this.doRender(i))),pc.enable(this),this.stopExtendedInteractions(e)};jo.clickOnVertex=function(e,t){this.changeMode(eo.DIRECT_SELECT,{featureId:t.featureTarget.properties.parent,coordPath:t.featureTarget.properties.coord_path,startPos:t.lngLat}),this.updateUIClasses({mouse:nr.MOVE})};jo.startOnActiveFeature=function(e,t){this.stopExtendedInteractions(e),this.map.dragPan.disable(),this.doRender(t.featureTarget.properties.id),e.canDragMove=!0,e.dragMoveLocation=t.lngLat};jo.clickOnFeature=function(e,t){pc.disable(this),this.stopExtendedInteractions(e);const i=qb(t),a=this.getSelectedIds(),l=t.featureTarget.properties.id,c=this.isSelected(l);if(!i&&c&&this.getFeature(l).type!==tn.POINT)return this.changeMode(eo.DIRECT_SELECT,{featureId:l});c&&i?(this.deselect(l),this.updateUIClasses({mouse:nr.POINTER}),a.length===1&&pc.enable(this)):!c&&i?(this.select(l),this.updateUIClasses({mouse:nr.MOVE})):!c&&!i&&(a.forEach(y=>this.doRender(y)),this.setSelected(l),this.updateUIClasses({mouse:nr.MOVE})),this.doRender(l)};jo.onMouseDown=function(e,t){if(e.initialDragPanState=this.map.dragPan.isEnabled(),zh(t))return this.startOnActiveFeature(e,t);if(this.drawConfig.boxSelect&&iR(t))return this.startBoxSelect(e,t)};jo.startBoxSelect=function(e,t){this.stopExtendedInteractions(e),this.map.dragPan.disable(),e.boxSelectStartLocation=M6(t.originalEvent,this.map.getContainer()),e.canBoxSelect=!0};jo.onTouchStart=function(e,t){if(zh(t))return this.startOnActiveFeature(e,t)};jo.onDrag=function(e,t){if(e.canDragMove)return this.dragMove(e,t);if(this.drawConfig.boxSelect&&e.canBoxSelect)return this.whileBoxSelect(e,t)};jo.whileBoxSelect=function(e,t){e.boxSelecting=!0,this.updateUIClasses({mouse:nr.ADD}),e.boxSelectElement||(e.boxSelectElement=document.createElement("div"),e.boxSelectElement.classList.add(Na.BOX_SELECT),this.map.getContainer().appendChild(e.boxSelectElement));const i=M6(t.originalEvent,this.map.getContainer()),a=Math.min(e.boxSelectStartLocation.x,i.x),l=Math.max(e.boxSelectStartLocation.x,i.x),c=Math.min(e.boxSelectStartLocation.y,i.y),y=Math.max(e.boxSelectStartLocation.y,i.y),n=`translate(${a}px, ${c}px)`;e.boxSelectElement.style.transform=n,e.boxSelectElement.style.WebkitTransform=n,e.boxSelectElement.style.width=`${l-a}px`,e.boxSelectElement.style.height=`${y-c}px`};jo.dragMove=function(e,t){e.dragMoving=!0,t.originalEvent.stopPropagation();const i={lng:t.lngLat.lng-e.dragMoveLocation.lng,lat:t.lngLat.lat-e.dragMoveLocation.lat};O6(this.getSelected(),i),e.dragMoveLocation=t.lngLat};jo.onTouchEnd=jo.onMouseUp=function(e,t){if(e.dragMoving)this.fireUpdate();else if(e.boxSelecting){const i=[e.boxSelectStartLocation,M6(t.originalEvent,this.map.getContainer())],a=this.featuresAt(null,i,"click"),l=this.getUniqueIds(a).filter(c=>!this.isSelected(c));l.length&&(this.select(l),l.forEach(c=>this.doRender(c)),this.updateUIClasses({mouse:nr.MOVE}))}this.stopExtendedInteractions(e)};jo.toDisplayFeatures=function(e,t,i){t.properties.active=this.isSelected(t.properties.id)?Vr.ACTIVE:Vr.INACTIVE,i(t),this.fireActionable(),!(t.properties.active!==Vr.ACTIVE||t.geometry.type===tn.POINT)&&H2(t).forEach(i)};jo.onTrash=function(){this.deleteFeature(this.getSelectedIds()),this.fireActionable()};jo.onCombineFeatures=function(){const e=this.getSelected();if(e.length===0||e.length<2)return;const t=[],i=[],a=e[0].type.replace("Multi","");for(let l=0;l<e.length;l++){const c=e[l];if(c.type.replace("Multi","")!==a)return;c.type.includes("Multi")?c.getCoordinates().forEach(y=>{t.push(y)}):t.push(c.getCoordinates()),i.push(c.toGeoJSON())}if(i.length>1){const l=this.newFeature({type:tn.FEATURE,properties:i[0].properties,geometry:{type:`Multi${a}`,coordinates:t}});this.addFeature(l),this.deleteFeature(this.getSelectedIds(),{silent:!0}),this.setSelected([l.id]),this.fire(Ia.COMBINE_FEATURES,{createdFeatures:[l.toGeoJSON()],deletedFeatures:i})}this.fireActionable()};jo.onUncombineFeatures=function(){const e=this.getSelected();if(e.length===0)return;const t=[],i=[];for(let a=0;a<e.length;a++){const l=e[a];this.isInstanceOf("MultiFeature",l)&&(l.getFeatures().forEach(c=>{this.addFeature(c),c.properties=l.properties,t.push(c.toGeoJSON()),this.select([c.id])}),this.deleteFeature(l.id,{silent:!0}),i.push(l.toGeoJSON()))}t.length>1&&this.fire(Ia.UNCOMBINE_FEATURES,{createdFeatures:t,deletedFeatures:i}),this.fireActionable()};const oR=N2(ua.VERTEX),rR=N2(ua.MIDPOINT),zo={};zo.fireUpdate=function(){this.fire(Ia.UPDATE,{action:Ug.CHANGE_COORDINATES,features:this.getSelected().map(e=>e.toGeoJSON())})};zo.fireActionable=function(e){this.setActionableState({combineFeatures:!1,uncombineFeatures:!1,trash:e.selectedCoordPaths.length>0})};zo.startDragging=function(e,t){e.initialDragPanState=this.map.dragPan.isEnabled(),this.map.dragPan.disable(),e.canDragMove=!0,e.dragMoveLocation=t.lngLat};zo.stopDragging=function(e){e.canDragMove&&e.initialDragPanState===!0&&this.map.dragPan.enable(),e.dragMoving=!1,e.canDragMove=!1,e.dragMoveLocation=null};zo.onVertex=function(e,t){this.startDragging(e,t);const i=t.featureTarget.properties,a=e.selectedCoordPaths.indexOf(i.coord_path);!qb(t)&&a===-1?e.selectedCoordPaths=[i.coord_path]:qb(t)&&a===-1&&e.selectedCoordPaths.push(i.coord_path);const l=this.pathsToCoordinates(e.featureId,e.selectedCoordPaths);this.setSelectedCoordinates(l)};zo.onMidpoint=function(e,t){this.startDragging(e,t);const i=t.featureTarget.properties;e.feature.addCoordinate(i.coord_path,i.lng,i.lat),this.fireUpdate(),e.selectedCoordPaths=[i.coord_path]};zo.pathsToCoordinates=function(e,t){return t.map(i=>({feature_id:e,coord_path:i}))};zo.onFeature=function(e,t){e.selectedCoordPaths.length===0?this.startDragging(e,t):this.stopDragging(e)};zo.dragFeature=function(e,t,i){O6(this.getSelected(),i),e.dragMoveLocation=t.lngLat};zo.dragVertex=function(e,t,i){const a=e.selectedCoordPaths.map(y=>e.feature.getCoordinate(y)),l=a.map(y=>({type:tn.FEATURE,properties:{},geometry:{type:tn.POINT,coordinates:y}})),c=A6(l,i);for(let y=0;y<a.length;y++){const n=a[y];e.feature.updateCoordinate(e.selectedCoordPaths[y],n[0]+c.lng,n[1]+c.lat)}};zo.clickNoTarget=function(){this.changeMode(eo.SIMPLE_SELECT)};zo.clickInactive=function(){this.changeMode(eo.SIMPLE_SELECT)};zo.clickActiveFeature=function(e){e.selectedCoordPaths=[],this.clearSelectedCoordinates(),e.feature.changed()};zo.onSetup=function(e){const t=e.featureId,i=this.getFeature(t);if(!i)throw new Error("You must provide a featureId to enter direct_select mode");if(i.type===tn.POINT)throw new TypeError("direct_select mode doesn't handle point features");const a={featureId:t,feature:i,dragMoveLocation:e.startPos||null,dragMoving:!1,canDragMove:!1,selectedCoordPaths:e.coordPath?[e.coordPath]:[]};return this.setSelectedCoordinates(this.pathsToCoordinates(t,a.selectedCoordPaths)),this.setSelected(t),pc.disable(this),this.setActionableState({trash:!0}),a};zo.onStop=function(){pc.enable(this),this.clearSelectedCoordinates()};zo.toDisplayFeatures=function(e,t,i){e.featureId===t.properties.id?(t.properties.active=Vr.ACTIVE,i(t),H2(t,{map:this.map,midpoints:!0,selectedPaths:e.selectedCoordPaths}).forEach(i)):(t.properties.active=Vr.INACTIVE,i(t)),this.fireActionable(e)};zo.onTrash=function(e){e.selectedCoordPaths.sort((t,i)=>i.localeCompare(t,"en",{numeric:!0})).forEach(t=>e.feature.removeCoordinate(t)),this.fireUpdate(),e.selectedCoordPaths=[],this.clearSelectedCoordinates(),this.fireActionable(e),e.feature.isValid()===!1&&(this.deleteFeature([e.featureId]),this.changeMode(eo.SIMPLE_SELECT,{}))};zo.onMouseMove=function(e,t){const i=zh(t),a=oR(t),l=rR(t),c=e.selectedCoordPaths.length===0;return i&&c?this.updateUIClasses({mouse:nr.MOVE}):a&&!c?this.updateUIClasses({mouse:nr.MOVE}):this.updateUIClasses({mouse:nr.NONE}),(a||i||l)&&e.dragMoving&&this.fireUpdate(),this.stopDragging(e),!0};zo.onMouseOut=function(e){return e.dragMoving&&this.fireUpdate(),!0};zo.onTouchStart=zo.onMouseDown=function(e,t){if(oR(t))return this.onVertex(e,t);if(zh(t))return this.onFeature(e,t);if(rR(t))return this.onMidpoint(e,t)};zo.onDrag=function(e,t){if(e.canDragMove!==!0)return;e.dragMoving=!0,t.originalEvent.stopPropagation();const i={lng:t.lngLat.lng-e.dragMoveLocation.lng,lat:t.lngLat.lat-e.dragMoveLocation.lat};e.selectedCoordPaths.length>0?this.dragVertex(e,t,i):this.dragFeature(e,t,i),e.dragMoveLocation=t.lngLat};zo.onClick=function(e,t){if($2(t))return this.clickNoTarget(e,t);if(zh(t))return this.clickActiveFeature(e,t);if(I6(t))return this.clickInactive(e,t);this.stopDragging(e)};zo.onTap=function(e,t){if($2(t))return this.clickNoTarget(e,t);if(zh(t))return this.clickActiveFeature(e,t);if(I6(t))return this.clickInactive(e,t)};zo.onTouchEnd=zo.onMouseUp=function(e){e.dragMoving&&this.fireUpdate(),this.stopDragging(e)};const Gc={};Gc.onSetup=function(){const e=this.newFeature({type:tn.FEATURE,properties:{},geometry:{type:tn.POINT,coordinates:[]}});return this.addFeature(e),this.clearSelectedFeatures(),this.updateUIClasses({mouse:nr.ADD}),this.activateUIButton($a.POINT),this.setActionableState({trash:!0}),{point:e}};Gc.stopDrawingAndRemove=function(e){this.deleteFeature([e.point.id],{silent:!0}),this.changeMode(eo.SIMPLE_SELECT)};Gc.onTap=Gc.onClick=function(e,t){this.updateUIClasses({mouse:nr.MOVE}),e.point.updateCoordinate("",t.lngLat.lng,t.lngLat.lat),this.fire(Ia.CREATE,{features:[e.point.toGeoJSON()]}),this.changeMode(eo.SIMPLE_SELECT,{featureIds:[e.point.id]})};Gc.onStop=function(e){this.activateUIButton(),e.point.getCoordinate().length||this.deleteFeature([e.point.id],{silent:!0})};Gc.toDisplayFeatures=function(e,t,i){const a=t.properties.id===e.point.id;if(t.properties.active=a?Vr.ACTIVE:Vr.INACTIVE,!a)return i(t)};Gc.onTrash=Gc.stopDrawingAndRemove;Gc.onKeyUp=function(e,t){if(U2(t)||G2(t))return this.stopDrawingAndRemove(e,t)};function Wb(e,t){return e.lngLat?e.lngLat.lng===t[0]&&e.lngLat.lat===t[1]:!1}const mc={};mc.onSetup=function(){const e=this.newFeature({type:tn.FEATURE,properties:{},geometry:{type:tn.POLYGON,coordinates:[[]]}});return this.addFeature(e),this.clearSelectedFeatures(),pc.disable(this),this.updateUIClasses({mouse:nr.ADD}),this.activateUIButton($a.POLYGON),this.setActionableState({trash:!0}),{polygon:e,currentVertexPosition:0}};mc.clickAnywhere=function(e,t){if(e.currentVertexPosition>0&&Wb(t,e.polygon.coordinates[0][e.currentVertexPosition-1]))return this.changeMode(eo.SIMPLE_SELECT,{featureIds:[e.polygon.id]});this.updateUIClasses({mouse:nr.ADD}),e.polygon.updateCoordinate(`0.${e.currentVertexPosition}`,t.lngLat.lng,t.lngLat.lat),e.currentVertexPosition++,e.polygon.updateCoordinate(`0.${e.currentVertexPosition}`,t.lngLat.lng,t.lngLat.lat)};mc.clickOnVertex=function(e){return this.changeMode(eo.SIMPLE_SELECT,{featureIds:[e.polygon.id]})};mc.onMouseMove=function(e,t){e.polygon.updateCoordinate(`0.${e.currentVertexPosition}`,t.lngLat.lng,t.lngLat.lat),Hg(t)&&this.updateUIClasses({mouse:nr.POINTER})};mc.onTap=mc.onClick=function(e,t){return Hg(t)?this.clickOnVertex(e,t):this.clickAnywhere(e,t)};mc.onKeyUp=function(e,t){U2(t)?(this.deleteFeature([e.polygon.id],{silent:!0}),this.changeMode(eo.SIMPLE_SELECT)):G2(t)&&this.changeMode(eo.SIMPLE_SELECT,{featureIds:[e.polygon.id]})};mc.onStop=function(e){this.updateUIClasses({mouse:nr.NONE}),pc.enable(this),this.activateUIButton(),this.getFeature(e.polygon.id)!==void 0&&(e.polygon.removeCoordinate(`0.${e.currentVertexPosition}`),e.polygon.isValid()?this.fire(Ia.CREATE,{features:[e.polygon.toGeoJSON()]}):(this.deleteFeature([e.polygon.id],{silent:!0}),this.changeMode(eo.SIMPLE_SELECT,{},{silent:!0})))};mc.toDisplayFeatures=function(e,t,i){const a=t.properties.id===e.polygon.id;if(t.properties.active=a?Vr.ACTIVE:Vr.INACTIVE,!a)return i(t);if(t.geometry.coordinates.length===0)return;const l=t.geometry.coordinates[0].length;if(!(l<3)){if(t.properties.meta=ua.FEATURE,i(Np(e.polygon.id,t.geometry.coordinates[0][0],"0.0",!1)),l>3){const c=t.geometry.coordinates[0].length-3;i(Np(e.polygon.id,t.geometry.coordinates[0][c],`0.${c}`,!1))}if(l<=4){const c=[[t.geometry.coordinates[0][0][0],t.geometry.coordinates[0][0][1]],[t.geometry.coordinates[0][1][0],t.geometry.coordinates[0][1][1]]];if(i({type:tn.FEATURE,properties:t.properties,geometry:{coordinates:c,type:tn.LINE_STRING}}),l===3)return}return i(t)}};mc.onTrash=function(e){this.deleteFeature([e.polygon.id],{silent:!0}),this.changeMode(eo.SIMPLE_SELECT)};const gc={};gc.onSetup=function(e){e=e||{};const t=e.featureId;let i,a,l="forward";if(t){if(i=this.getFeature(t),!i)throw new Error("Could not find a feature with the provided featureId");let c=e.from;if(c&&c.type==="Feature"&&c.geometry&&c.geometry.type==="Point"&&(c=c.geometry),c&&c.type==="Point"&&c.coordinates&&c.coordinates.length===2&&(c=c.coordinates),!c||!Array.isArray(c))throw new Error("Please use the `from` property to indicate which point to continue the line from");const y=i.coordinates.length-1;if(i.coordinates[y][0]===c[0]&&i.coordinates[y][1]===c[1])a=y+1,i.addCoordinate(a,...i.coordinates[y]);else if(i.coordinates[0][0]===c[0]&&i.coordinates[0][1]===c[1])l="backwards",a=0,i.addCoordinate(a,...i.coordinates[0]);else throw new Error("`from` should match the point at either the start or the end of the provided LineString")}else i=this.newFeature({type:tn.FEATURE,properties:{},geometry:{type:tn.LINE_STRING,coordinates:[]}}),a=0,this.addFeature(i);return this.clearSelectedFeatures(),pc.disable(this),this.updateUIClasses({mouse:nr.ADD}),this.activateUIButton($a.LINE),this.setActionableState({trash:!0}),{line:i,currentVertexPosition:a,direction:l}};gc.clickAnywhere=function(e,t){if(e.currentVertexPosition>0&&Wb(t,e.line.coordinates[e.currentVertexPosition-1])||e.direction==="backwards"&&Wb(t,e.line.coordinates[e.currentVertexPosition+1]))return this.changeMode(eo.SIMPLE_SELECT,{featureIds:[e.line.id]});this.updateUIClasses({mouse:nr.ADD}),e.line.updateCoordinate(e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat),e.direction==="forward"?(e.currentVertexPosition++,e.line.updateCoordinate(e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat)):e.line.addCoordinate(0,t.lngLat.lng,t.lngLat.lat)};gc.clickOnVertex=function(e){return this.changeMode(eo.SIMPLE_SELECT,{featureIds:[e.line.id]})};gc.onMouseMove=function(e,t){e.line.updateCoordinate(e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat),Hg(t)&&this.updateUIClasses({mouse:nr.POINTER})};gc.onTap=gc.onClick=function(e,t){if(Hg(t))return this.clickOnVertex(e,t);this.clickAnywhere(e,t)};gc.onKeyUp=function(e,t){G2(t)?this.changeMode(eo.SIMPLE_SELECT,{featureIds:[e.line.id]}):U2(t)&&(this.deleteFeature([e.line.id],{silent:!0}),this.changeMode(eo.SIMPLE_SELECT))};gc.onStop=function(e){pc.enable(this),this.activateUIButton(),this.getFeature(e.line.id)!==void 0&&(e.line.removeCoordinate(`${e.currentVertexPosition}`),e.line.isValid()?this.fire(Ia.CREATE,{features:[e.line.toGeoJSON()]}):(this.deleteFeature([e.line.id],{silent:!0}),this.changeMode(eo.SIMPLE_SELECT,{},{silent:!0})))};gc.onTrash=function(e){this.deleteFeature([e.line.id],{silent:!0}),this.changeMode(eo.SIMPLE_SELECT)};gc.toDisplayFeatures=function(e,t,i){const a=t.properties.id===e.line.id;if(t.properties.active=a?Vr.ACTIVE:Vr.INACTIVE,!a)return i(t);t.geometry.coordinates.length<2||(t.properties.meta=ua.FEATURE,i(Np(e.line.id,t.geometry.coordinates[e.direction==="forward"?t.geometry.coordinates.length-2:1],`${e.direction==="forward"?t.geometry.coordinates.length-2:1}`,!1)),i(t))};const aR={simple_select:jo,direct_select:zo,draw_point:Gc,draw_polygon:mc,draw_line_string:gc},hN={defaultMode:eo.SIMPLE_SELECT,keybindings:!0,touchEnabled:!0,clickBuffer:2,touchBuffer:25,boxSelect:!0,displayControlsDefault:!0,styles:tR,modes:aR,controls:{},userProperties:!1,suppressAPIEvents:!0},fN={point:!0,line_string:!0,polygon:!0,trash:!0,combine_features:!0,uncombine_features:!0},pN={point:!1,line_string:!1,polygon:!1,trash:!1,combine_features:!1,uncombine_features:!1};function PF(e,t){return e.map(i=>i.source?i:Object.assign({},i,{id:`${i.id}.${t}`,source:t==="hot"?Is.HOT:Is.COLD}))}function mN(e={}){let t=Object.assign({},e);return e.controls||(t.controls={}),e.displayControlsDefault===!1?t.controls=Object.assign({},pN,e.controls):t.controls=Object.assign({},fN,e.controls),t=Object.assign({},hN,t),t.styles=PF(t.styles,"cold").concat(PF(t.styles,"hot")),t}var gN=function e(t,i){if(t===i)return!0;if(t&&i&&typeof t=="object"&&typeof i=="object"){if(t.constructor!==i.constructor)return!1;var a,l,c;if(Array.isArray(t)){if(a=t.length,a!=i.length)return!1;for(l=a;l--!==0;)if(!e(t[l],i[l]))return!1;return!0}if(t.constructor===RegExp)return t.source===i.source&&t.flags===i.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===i.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===i.toString();if(c=Object.keys(t),a=c.length,a!==Object.keys(i).length)return!1;for(l=a;l--!==0;)if(!Object.prototype.hasOwnProperty.call(i,c[l]))return!1;for(l=a;l--!==0;){var y=c[l];if(!e(t[y],i[y]))return!1}return!0}return t!==t&&i!==i};const IF=j2(gN);var _N=bN,yN={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"};function bN(e){if(!e||!e.type)return null;var t=yN[e.type];if(!t)return null;if(t==="geometry")return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:e}]};if(t==="feature")return{type:"FeatureCollection",features:[e]};if(t==="featurecollection")return e}const vN=j2(_N);function sR(e,t){return e.length!==t.length?!1:JSON.stringify(e.map(i=>i).sort())===JSON.stringify(t.map(i=>i).sort())}const xN={Polygon:us,LineString:Kc,Point:mu,MultiPolygon:Pa,MultiLineString:Pa,MultiPoint:Pa};function wN(e,t){t.modes=eo;const i=e.options.suppressAPIEvents!==void 0?!!e.options.suppressAPIEvents:!0;return t.getFeatureIdsAt=function(a){return Vp.click({point:a},null,e).map(c=>c.properties.id)},t.getSelectedIds=function(){return e.store.getSelectedIds()},t.getSelected=function(){return{type:tn.FEATURE_COLLECTION,features:e.store.getSelectedIds().map(a=>e.store.get(a)).map(a=>a.toGeoJSON())}},t.getSelectedPoints=function(){return{type:tn.FEATURE_COLLECTION,features:e.store.getSelectedCoordinates().map(a=>({type:tn.FEATURE,properties:{},geometry:{type:tn.POINT,coordinates:a.coordinates}}))}},t.set=function(a){if(a.type===void 0||a.type!==tn.FEATURE_COLLECTION||!Array.isArray(a.features))throw new Error("Invalid FeatureCollection");const l=e.store.createRenderBatch();let c=e.store.getAllIds().slice();const y=t.add(a),n=new Os(y);return c=c.filter(x=>!n.has(x)),c.length&&t.delete(c),l(),y},t.add=function(a){const c=JSON.parse(JSON.stringify(vN(a))).features.map(y=>{if(y.id=y.id||P6(),y.geometry===null)throw new Error("Invalid geometry: null");if(e.store.get(y.id)===void 0||e.store.get(y.id).type!==y.geometry.type){const n=xN[y.geometry.type];if(n===void 0)throw new Error(`Invalid geometry type: ${y.geometry.type}.`);const x=new n(e,y);e.store.add(x,{silent:i})}else{const n=e.store.get(y.id),x=n.properties;n.properties=y.properties,IF(x,y.properties)||e.store.featureChanged(n.id,{silent:i}),IF(n.getCoordinates(),y.geometry.coordinates)||n.incomingCoords(y.geometry.coordinates)}return y.id});return e.store.render(),c},t.get=function(a){const l=e.store.get(a);if(l)return l.toGeoJSON()},t.getAll=function(){return{type:tn.FEATURE_COLLECTION,features:e.store.getAll().map(a=>a.toGeoJSON())}},t.delete=function(a){return e.store.delete(a,{silent:i}),t.getMode()===eo.DIRECT_SELECT&&!e.store.getSelectedIds().length?e.events.changeMode(eo.SIMPLE_SELECT,void 0,{silent:i}):e.store.render(),t},t.deleteAll=function(){return e.store.delete(e.store.getAllIds(),{silent:i}),t.getMode()===eo.DIRECT_SELECT?e.events.changeMode(eo.SIMPLE_SELECT,void 0,{silent:i}):e.store.render(),t},t.changeMode=function(a,l={}){return a===eo.SIMPLE_SELECT&&t.getMode()===eo.SIMPLE_SELECT?(sR(l.featureIds||[],e.store.getSelectedIds())||(e.store.setSelected(l.featureIds,{silent:i}),e.store.render()),t):(a===eo.DIRECT_SELECT&&t.getMode()===eo.DIRECT_SELECT&&l.featureId===e.store.getSelectedIds()[0]||e.events.changeMode(a,l,{silent:i}),t)},t.getMode=function(){return e.events.getMode()},t.trash=function(){return e.events.trash({silent:i}),t},t.combineFeatures=function(){return e.events.combineFeatures({silent:i}),t},t.uncombineFeatures=function(){return e.events.uncombineFeatures({silent:i}),t},t.setFeatureProperty=function(a,l,c){return e.store.setFeatureProperty(a,l,c,{silent:i}),t},t}const FN=Object.freeze(Object.defineProperty({__proto__:null,CommonSelectors:dN,ModeHandler:lx,StringSet:Os,constrainFeatureMovement:A6,createMidPoint:nR,createSupplementaryPoints:H2,createVertex:Np,doubleClickZoom:pc,euclideanDistance:R6,featuresAt:Vp,getFeatureAtAndSetCursors:wb,isClick:fx,isEventAtCoordinates:Wb,isTap:px,mapEventToBoundingBox:XT,moveFeatures:O6,sortFeatures:QT,stringSetsAreEqual:sR,theme:tR,toDenseArray:Gg},Symbol.toStringTag,{value:"Module"})),CN=function(e,t){e=mN(e);const i={options:e};t=wN(i,t),i.api=t;const a=cN(i);return t.onAdd=a.onAdd,t.onRemove=a.onRemove,t.types=$a,t.options=e,t};function ig(e){CN(e,this)}ig.modes=aR;ig.constants=ZT;ig.lib=FN;var i0=SN,EN=Object.prototype.hasOwnProperty;function SN(){for(var e={},t=0;t<arguments.length;t++){var i=arguments[t];for(var a in i)EN.call(i,a)&&(e[a]=i[a])}return e}var cR={exports:{}};(function(e,t){(function(){var i={};e.exports=i,i.simpleFilter=function(a,l){return l.filter(function(c){return i.test(a,c)})},i.test=function(a,l){return i.match(a,l)!==null},i.match=function(a,l,c){c=c||{};var y=0,n=[],x=l.length,C=0,k=0,O=c.pre||"",B=c.post||"",L=c.caseSensitive&&l||l.toLowerCase(),V;a=c.caseSensitive&&a||a.toLowerCase();for(var G=0;G<x;G++)V=l[G],L[G]===a[y]?(V=O+V+B,y+=1,k+=1+k):k=0,C+=k,n[n.length]=V;return y===a.length?(C=L===a?1/0:C,{rendered:n.join(""),score:C}):null},i.filter=function(a,l,c){return!l||l.length===0?[]:typeof a!="string"?l:(c=c||{},l.reduce(function(y,n,x,C){var k=n;c.extract&&(k=c.extract(n));var O=i.match(a,k,c);return O!=null&&(y[y.length]={string:O.rendered,score:O.score,index:x,original:n}),y},[]).sort(function(y,n){var x=n.score-y.score;return x||y.index-n.index}))}})()})(cR);var TN=cR.exports,qa=function(e){return this.component=e,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,e.el.parentNode.insertBefore(this.wrapper,e.el.nextSibling),this};qa.prototype.show=function(){this.element.style.display="block"};qa.prototype.hide=function(){this.element.style.display="none"};qa.prototype.add=function(e){this.items.push(e)};qa.prototype.clear=function(){this.items=[],this.active=0};qa.prototype.isEmpty=function(){return!this.items.length};qa.prototype.isVisible=function(){return this.element.style.display==="block"};qa.prototype.draw=function(){if(this.element.innerHTML="",this.items.length===0){this.hide();return}for(var e=0;e<this.items.length;e++)this.drawItem(this.items[e],this.active===e);this.show()};qa.prototype.drawItem=function(e,t){var i=document.createElement("li"),a=document.createElement("a");t&&(i.className+=" active"),a.innerHTML=e.string,i.appendChild(a),this.element.appendChild(i),i.addEventListener("mousedown",(function(){this.selectingListItem=!0}).bind(this)),i.addEventListener("mouseup",(function(){this.handleMouseUp.call(this,e)}).bind(this))};qa.prototype.handleMouseUp=function(e){this.selectingListItem=!1,this.component.value(e.original),this.clear(),this.draw()};qa.prototype.move=function(e){this.active=e,this.draw()};qa.prototype.previous=function(){this.move(this.active===0?this.items.length-1:this.active-1)};qa.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)};qa.prototype.drawError=function(e){var t=document.createElement("li");t.innerHTML=e,this.element.appendChild(t),this.show()};var RN=qa,PN=i0,IN=TN,kN=RN,ha=function(e,t,i){return i=i||{},this.options=PN({minLength:2,limit:5,filter:!0,hideOnBlur:!0},i),this.el=e,this.data=t||[],this.list=new kN(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",(function(a){this.handleKeyUp(a.keyCode)}).bind(this),!1),this.el.addEventListener("keydown",(function(a){this.handleKeyDown(a)}).bind(this)),this.el.addEventListener("focus",(function(){this.handleFocus()}).bind(this)),this.el.addEventListener("blur",(function(){this.handleBlur()}).bind(this)),this.el.addEventListener("paste",(function(a){this.handlePaste(a)}).bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};ha.prototype.handleKeyUp=function(e){e===40||e===38||e===27||e===13||e===9||this.handleInputChange(this.el.value)};ha.prototype.handleKeyDown=function(e){switch(e.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&e.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next();break}};ha.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()};ha.prototype.handlePaste=function(e){if(e.clipboardData)this.handleInputChange(e.clipboardData.getData("Text"));else{var t=this;setTimeout(function(){t.handleInputChange(e.target.value)},100)}};ha.prototype.handleInputChange=function(e){if(this.query=this.normalize(e),this.list.clear(),this.query.length<this.options.minLength){this.list.draw();return}this.getCandidates((function(t){for(var i=0;i<t.length&&(this.list.add(t[i]),i!==this.options.limit-1);i++);this.list.draw()}).bind(this))};ha.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1};ha.prototype.update=function(e){this.data=e,this.handleKeyUp()};ha.prototype.clear=function(){this.data=[],this.list.clear()};ha.prototype.normalize=function(e){return e=e.toLowerCase(),e};ha.prototype.match=function(e,t){return e.indexOf(t)>-1};ha.prototype.value=function(e){if(this.selected=e,this.el.value=this.getItemValue(e),document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!1),this.el.dispatchEvent(t)}else this.el.fireEvent("onchange")};ha.prototype.getCandidates=function(e){var t={pre:"<strong>",post:"</strong>",extract:(function(a){return this.getItemValue(a)}).bind(this)},i;this.options.filter?(i=IN.filter(this.query,this.data,t),i=i.map((function(a){return{original:a.original,string:this.render(a.original,a.string)}}).bind(this))):i=this.data.map((function(a){var l=this.render(a);return{original:a,string:l}}).bind(this)),e(i)};ha.prototype.getItemValue=function(e){return e};ha.prototype.render=function(e,t){if(t)return t;for(var i=e.original?this.getItemValue(e.original):this.getItemValue(e),a=this.normalize(i),l=a.lastIndexOf(this.query);l>-1;){var c=l+this.query.length;i=i.slice(0,l)+"<strong>"+i.slice(l,c)+"</strong>"+i.slice(c),l=a.slice(0,l).lastIndexOf(this.query)}return i};ha.prototype.renderError=function(e){this.list.drawError(e)};var MN=ha,lR=MN,AN=lR;typeof window<"u"&&(window.Suggestions=lR);var ON="Expected a function",kF=NaN,LN="[object Symbol]",DN=/^\s+|\s+$/g,BN=/^[-+]0x[0-9a-f]+$/i,jN=/^0b[01]+$/i,zN=/^0o[0-7]+$/i,VN=parseInt,NN=typeof Nn=="object"&&Nn&&Nn.Object===Object&&Nn,$N=typeof self=="object"&&self&&self.Object===Object&&self,UN=NN||$N||Function("return this")(),GN=Object.prototype,HN=GN.toString,qN=Math.max,WN=Math.min,m3=function(){return UN.Date.now()};function KN(e,t,i){var a,l,c,y,n,x,C=0,k=!1,O=!1,B=!0;if(typeof e!="function")throw new TypeError(ON);t=MF(t)||0,mx(i)&&(k=!!i.leading,O="maxWait"in i,c=O?qN(MF(i.maxWait)||0,t):c,B="trailing"in i?!!i.trailing:B);function L(we){var pe=a,De=l;return a=l=void 0,C=we,y=e.apply(De,pe),y}function V(we){return C=we,n=setTimeout(Y,t),k?L(we):y}function G(we){var pe=we-x,De=we-C,Ae=t-pe;return O?WN(Ae,c-De):Ae}function Q(we){var pe=we-x,De=we-C;return x===void 0||pe>=t||pe<0||O&&De>=c}function Y(){var we=m3();if(Q(we))return J(we);n=setTimeout(Y,G(we))}function J(we){return n=void 0,B&&a?L(we):(a=l=void 0,y)}function re(){n!==void 0&&clearTimeout(n),C=0,a=x=l=n=void 0}function ce(){return n===void 0?y:J(m3())}function he(){var we=m3(),pe=Q(we);if(a=arguments,l=this,x=we,pe){if(n===void 0)return V(x);if(O)return n=setTimeout(Y,t),L(x)}return n===void 0&&(n=setTimeout(Y,t)),y}return he.cancel=re,he.flush=ce,he}function mx(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function ZN(e){return!!e&&typeof e=="object"}function QN(e){return typeof e=="symbol"||ZN(e)&&HN.call(e)==LN}function MF(e){if(typeof e=="number")return e;if(QN(e))return kF;if(mx(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=mx(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(DN,"");var i=jN.test(e);return i||zN.test(e)?VN(e.slice(2),i?2:8):BN.test(e)?kF:+e}var XN=KN,L6={exports:{}},Sp=typeof Reflect=="object"?Reflect:null,AF=Sp&&typeof Sp.apply=="function"?Sp.apply:function(t,i,a){return Function.prototype.apply.call(t,i,a)},Fb;Sp&&typeof Sp.ownKeys=="function"?Fb=Sp.ownKeys:Object.getOwnPropertySymbols?Fb=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Fb=function(t){return Object.getOwnPropertyNames(t)};function JN(e){console&&console.warn&&console.warn(e)}var dR=Number.isNaN||function(t){return t!==t};function ko(){ko.init.call(this)}L6.exports=ko;L6.exports.once=i$;ko.EventEmitter=ko;ko.prototype._events=void 0;ko.prototype._eventsCount=0;ko.prototype._maxListeners=void 0;var OF=10;function q2(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(ko,"defaultMaxListeners",{enumerable:!0,get:function(){return OF},set:function(e){if(typeof e!="number"||e<0||dR(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");OF=e}});ko.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ko.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||dR(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function uR(e){return e._maxListeners===void 0?ko.defaultMaxListeners:e._maxListeners}ko.prototype.getMaxListeners=function(){return uR(this)};ko.prototype.emit=function(t){for(var i=[],a=1;a<arguments.length;a++)i.push(arguments[a]);var l=t==="error",c=this._events;if(c!==void 0)l=l&&c.error===void 0;else if(!l)return!1;if(l){var y;if(i.length>0&&(y=i[0]),y instanceof Error)throw y;var n=new Error("Unhandled error."+(y?" ("+y.message+")":""));throw n.context=y,n}var x=c[t];if(x===void 0)return!1;if(typeof x=="function")AF(x,this,i);else for(var C=x.length,k=gR(x,C),a=0;a<C;++a)AF(k[a],this,i);return!0};function hR(e,t,i,a){var l,c,y;if(q2(i),c=e._events,c===void 0?(c=e._events=Object.create(null),e._eventsCount=0):(c.newListener!==void 0&&(e.emit("newListener",t,i.listener?i.listener:i),c=e._events),y=c[t]),y===void 0)y=c[t]=i,++e._eventsCount;else if(typeof y=="function"?y=c[t]=a?[i,y]:[y,i]:a?y.unshift(i):y.push(i),l=uR(e),l>0&&y.length>l&&!y.warned){y.warned=!0;var n=new Error("Possible EventEmitter memory leak detected. "+y.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");n.name="MaxListenersExceededWarning",n.emitter=e,n.type=t,n.count=y.length,JN(n)}return e}ko.prototype.addListener=function(t,i){return hR(this,t,i,!1)};ko.prototype.on=ko.prototype.addListener;ko.prototype.prependListener=function(t,i){return hR(this,t,i,!0)};function YN(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function fR(e,t,i){var a={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},l=YN.bind(a);return l.listener=i,a.wrapFn=l,l}ko.prototype.once=function(t,i){return q2(i),this.on(t,fR(this,t,i)),this};ko.prototype.prependOnceListener=function(t,i){return q2(i),this.prependListener(t,fR(this,t,i)),this};ko.prototype.removeListener=function(t,i){var a,l,c,y,n;if(q2(i),l=this._events,l===void 0)return this;if(a=l[t],a===void 0)return this;if(a===i||a.listener===i)--this._eventsCount===0?this._events=Object.create(null):(delete l[t],l.removeListener&&this.emit("removeListener",t,a.listener||i));else if(typeof a!="function"){for(c=-1,y=a.length-1;y>=0;y--)if(a[y]===i||a[y].listener===i){n=a[y].listener,c=y;break}if(c<0)return this;c===0?a.shift():e$(a,c),a.length===1&&(l[t]=a[0]),l.removeListener!==void 0&&this.emit("removeListener",t,n||i)}return this};ko.prototype.off=ko.prototype.removeListener;ko.prototype.removeAllListeners=function(t){var i,a,l;if(a=this._events,a===void 0)return this;if(a.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):a[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete a[t]),this;if(arguments.length===0){var c=Object.keys(a),y;for(l=0;l<c.length;++l)y=c[l],y!=="removeListener"&&this.removeAllListeners(y);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(i=a[t],typeof i=="function")this.removeListener(t,i);else if(i!==void 0)for(l=i.length-1;l>=0;l--)this.removeListener(t,i[l]);return this};function pR(e,t,i){var a=e._events;if(a===void 0)return[];var l=a[t];return l===void 0?[]:typeof l=="function"?i?[l.listener||l]:[l]:i?t$(l):gR(l,l.length)}ko.prototype.listeners=function(t){return pR(this,t,!0)};ko.prototype.rawListeners=function(t){return pR(this,t,!1)};ko.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):mR.call(e,t)};ko.prototype.listenerCount=mR;function mR(e){var t=this._events;if(t!==void 0){var i=t[e];if(typeof i=="function")return 1;if(i!==void 0)return i.length}return 0}ko.prototype.eventNames=function(){return this._eventsCount>0?Fb(this._events):[]};function gR(e,t){for(var i=new Array(t),a=0;a<t;++a)i[a]=e[a];return i}function e$(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function t$(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}function i$(e,t){return new Promise(function(i,a){function l(y){e.removeListener(t,c),a(y)}function c(){typeof e.removeListener=="function"&&e.removeListener("error",l),i([].slice.call(arguments))}_R(e,t,c,{once:!0}),t!=="error"&&n$(e,l,{once:!0})})}function n$(e,t,i){typeof e.on=="function"&&_R(e,"error",t,i)}function _R(e,t,i,a){if(typeof e.on=="function")a.once?e.once(t,i):e.on(t,i);else if(typeof e.addEventListener=="function")e.addEventListener(t,function l(c){a.once&&e.removeEventListener(t,l),i(c)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var o$=L6.exports,r$={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}};function a$(e){var t=e.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return t?{key:t[1],value:t[2]}:null}function s$(e){var t=e.match(/<?([^>]*)>(.*)/);if(!t)return null;var i=t[1],a=t[2].split(";"),l=null,c=a.reduce(function(y,n){var x=a$(n);return x?x.key==="rel"?(l||(l=x.value),y):(y[x.key]=x.value,y):y},{});return l?{url:i,rel:l,params:c}:null}function c$(e){return e?e.split(/,\s*</).reduce(function(t,i){var a=s$(i);if(!a)return t;var l=a.rel.split(/\s+/);return l.forEach(function(c){t[c]||(t[c]={url:a.url,params:a.params})}),t},{}):{}}var l$=c$,d$=l$;function D6(e,t){this.request=e,this.headers=t.headers,this.rawBody=t.body,this.statusCode=t.statusCode;try{this.body=JSON.parse(t.body||"{}")}catch{this.body=t.body}this.links=d$(this.headers.link)}D6.prototype.hasNextPage=function(){return!!this.links.next};D6.prototype.nextPage=function(){return this.hasNextPage()?this.request._extend({path:this.links.next.url}):null};var u$=D6,W2={API_ORIGIN:"https://api.mapbox.com",EVENT_PROGRESS_DOWNLOAD:"downloadProgress",EVENT_PROGRESS_UPLOAD:"uploadProgress",EVENT_ERROR:"error",EVENT_RESPONSE:"response",ERROR_HTTP:"HttpError",ERROR_REQUEST_ABORTED:"RequestAbortedError"},LF=W2;function h$(e){var t=e.type||LF.ERROR_HTTP,i;if(e.body)try{i=JSON.parse(e.body)}catch{i=e.body}else i=null;var a=e.message||null;a||(typeof i=="string"?a=i:i&&typeof i.message=="string"?a=i.message:t===LF.ERROR_REQUEST_ABORTED&&(a="Request aborted")),this.message=a,this.type=t,this.statusCode=e.statusCode||null,this.request=e.request,this.body=i}var f$=h$;function p$(e){var t=e.indexOf(":"),i=e.substring(0,t).trim().toLowerCase(),a=e.substring(t+1).trim();return{name:i,value:a}}function m$(e){var t={};return e&&e.trim().split(/[\r|\n]+/).forEach(function(i){var a=p$(i);t[a.name]=a.value}),t}var g$=m$,_$=u$,DF=f$,g3=W2,y$=g$,Kb={};function b$(e){var t=Kb[e.id];t&&(t.abort(),delete Kb[e.id])}function v$(e,t){return new _$(e,{body:t.response,headers:y$(t.getAllResponseHeaders()),statusCode:t.status})}function BF(e){var t=e.total,i=e.loaded,a=100*i/t;return{total:t,transferred:i,percent:a}}function yR(e,t){return new Promise(function(i,a){t.onprogress=function(y){e.emitter.emit(g3.EVENT_PROGRESS_DOWNLOAD,BF(y))};var l=e.file;l&&(t.upload.onprogress=function(y){e.emitter.emit(g3.EVENT_PROGRESS_UPLOAD,BF(y))}),t.onerror=function(y){a(y)},t.onabort=function(){var y=new DF({request:e,type:g3.ERROR_REQUEST_ABORTED});a(y)},t.onload=function(){if(delete Kb[e.id],t.status<200||t.status>=400){var y=new DF({request:e,body:t.response,statusCode:t.status});a(y);return}i(t)};var c=e.body;typeof c=="string"?t.send(c):c?t.send(JSON.stringify(c)):l?t.send(l):t.send(),Kb[e.id]=t}).then(function(i){return v$(e,i)})}function bR(e,t){var i=e.url(t),a=new window.XMLHttpRequest;return a.open(e.method,i),Object.keys(e.headers).forEach(function(l){a.setRequestHeader(l,e.headers[l])}),a}function x$(e){return Promise.resolve().then(function(){var t=bR(e,e.client.accessToken);return yR(e,t)})}var w$={browserAbort:b$,sendRequestXhr:yR,browserSend:x$,createRequestXhr:bR},Zb={exports:{}};/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */Zb.exports;(function(e,t){(function(i){var a=t,l=e&&e.exports==a&&e,c=typeof Nn=="object"&&Nn;(c.global===c||c.window===c)&&(i=c);var y=function(V){this.message=V};y.prototype=new Error,y.prototype.name="InvalidCharacterError";var n=function(V){throw new y(V)},x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=/[\t\n\f\r ]/g,k=function(V){V=String(V).replace(C,"");var G=V.length;G%4==0&&(V=V.replace(/==?$/,""),G=V.length),(G%4==1||/[^+a-zA-Z0-9/]/.test(V))&&n("Invalid character: the string to be decoded is not correctly encoded.");for(var Q=0,Y,J,re="",ce=-1;++ce<G;)J=x.indexOf(V.charAt(ce)),Y=Q%4?Y*64+J:J,Q++%4&&(re+=String.fromCharCode(255&Y>>(-2*Q&6)));return re},O=function(V){V=String(V),/[^\0-\xFF]/.test(V)&&n("The string to be encoded contains characters outside of the Latin1 range.");for(var G=V.length%3,Q="",Y=-1,J,re,ce,he,we=V.length-G;++Y<we;)J=V.charCodeAt(Y)<<16,re=V.charCodeAt(++Y)<<8,ce=V.charCodeAt(++Y),he=J+re+ce,Q+=x.charAt(he>>18&63)+x.charAt(he>>12&63)+x.charAt(he>>6&63)+x.charAt(he&63);return G==2?(J=V.charCodeAt(Y)<<8,re=V.charCodeAt(++Y),he=J+re,Q+=x.charAt(he>>10)+x.charAt(he>>4&63)+x.charAt(he<<2&63)+"="):G==1&&(he=V.charCodeAt(Y),Q+=x.charAt(he>>2)+x.charAt(he<<4&63)+"=="),Q},B={encode:O,decode:k,version:"0.1.0"};if(a&&!a.nodeType)if(l)l.exports=B;else for(var L in B)B.hasOwnProperty(L)&&(a[L]=B[L]);else i.base64=B})(Nn)})(Zb,Zb.exports);var F$=Zb.exports,C$=F$,_3={};function E$(e){if(_3[e])return _3[e];var t=e.split("."),i=t[0],a=t[1];if(!a)throw new Error("Invalid token");var l=S$(a),c={usage:i,user:l.u};return ph(l,"a")&&(c.authorization=l.a),ph(l,"exp")&&(c.expires=l.exp*1e3),ph(l,"iat")&&(c.created=l.iat*1e3),ph(l,"scopes")&&(c.scopes=l.scopes),ph(l,"client")&&(c.client=l.client),ph(l,"ll")&&(c.lastLogin=l.ll),ph(l,"iu")&&(c.impersonator=l.iu),_3[e]=c,c}function S$(e){try{return JSON.parse(C$.decode(e))}catch{throw new Error("Invalid token")}}function ph(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var vR=E$,xR={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,i="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(i=!1));function l(x,C,k){this.fn=x,this.context=C,this.once=k||!1}function c(x,C,k,O,B){if(typeof k!="function")throw new TypeError("The listener must be a function");var L=new l(k,O||x,B),V=i?i+C:C;return x._events[V]?x._events[V].fn?x._events[V]=[x._events[V],L]:x._events[V].push(L):(x._events[V]=L,x._eventsCount++),x}function y(x,C){--x._eventsCount===0?x._events=new a:delete x._events[C]}function n(){this._events=new a,this._eventsCount=0}n.prototype.eventNames=function(){var C=[],k,O;if(this._eventsCount===0)return C;for(O in k=this._events)t.call(k,O)&&C.push(i?O.slice(1):O);return Object.getOwnPropertySymbols?C.concat(Object.getOwnPropertySymbols(k)):C},n.prototype.listeners=function(C){var k=i?i+C:C,O=this._events[k];if(!O)return[];if(O.fn)return[O.fn];for(var B=0,L=O.length,V=new Array(L);B<L;B++)V[B]=O[B].fn;return V},n.prototype.listenerCount=function(C){var k=i?i+C:C,O=this._events[k];return O?O.fn?1:O.length:0},n.prototype.emit=function(C,k,O,B,L,V){var G=i?i+C:C;if(!this._events[G])return!1;var Q=this._events[G],Y=arguments.length,J,re;if(Q.fn){switch(Q.once&&this.removeListener(C,Q.fn,void 0,!0),Y){case 1:return Q.fn.call(Q.context),!0;case 2:return Q.fn.call(Q.context,k),!0;case 3:return Q.fn.call(Q.context,k,O),!0;case 4:return Q.fn.call(Q.context,k,O,B),!0;case 5:return Q.fn.call(Q.context,k,O,B,L),!0;case 6:return Q.fn.call(Q.context,k,O,B,L,V),!0}for(re=1,J=new Array(Y-1);re<Y;re++)J[re-1]=arguments[re];Q.fn.apply(Q.context,J)}else{var ce=Q.length,he;for(re=0;re<ce;re++)switch(Q[re].once&&this.removeListener(C,Q[re].fn,void 0,!0),Y){case 1:Q[re].fn.call(Q[re].context);break;case 2:Q[re].fn.call(Q[re].context,k);break;case 3:Q[re].fn.call(Q[re].context,k,O);break;case 4:Q[re].fn.call(Q[re].context,k,O,B);break;default:if(!J)for(he=1,J=new Array(Y-1);he<Y;he++)J[he-1]=arguments[he];Q[re].fn.apply(Q[re].context,J)}}return!0},n.prototype.on=function(C,k,O){return c(this,C,k,O,!1)},n.prototype.once=function(C,k,O){return c(this,C,k,O,!0)},n.prototype.removeListener=function(C,k,O,B){var L=i?i+C:C;if(!this._events[L])return this;if(!k)return y(this,L),this;var V=this._events[L];if(V.fn)V.fn===k&&(!B||V.once)&&(!O||V.context===O)&&y(this,L);else{for(var G=0,Q=[],Y=V.length;G<Y;G++)(V[G].fn!==k||B&&!V[G].once||O&&V[G].context!==O)&&Q.push(V[G]);Q.length?this._events[L]=Q.length===1?Q[0]:Q:y(this,L)}return this},n.prototype.removeAllListeners=function(C){var k;return C?(k=i?i+C:C,this._events[k]&&y(this,k)):(this._events=new a,this._eventsCount=0),this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prefixed=i,n.EventEmitter=n,e.exports=n})(xR);var T$=xR.exports;function R$(e){return e.map(encodeURIComponent).join(",")}function wR(e){return Array.isArray(e)?R$(e):encodeURIComponent(String(e))}function FR(e,t,i){if(i===!1||i===null)return e;var a=/\?/.test(e)?"&":"?",l=encodeURIComponent(t);return i!==void 0&&i!==""&&i!==!0&&(l+="="+wR(i)),""+e+a+l}function P$(e,t){if(!t)return e;var i=e;return Object.keys(t).forEach(function(a){var l=t[a];l!==void 0&&(Array.isArray(l)&&(l=l.filter(function(c){return c!=null}).join(",")),i=FR(i,a,l))}),i}function I$(e,t){if(!t||e.slice(0,4)==="http")return e;var i=e[0]==="/"?"":"/";return""+t.replace(/\/$/,"")+i+e}function k$(e,t){return t?e.replace(/\/:([a-zA-Z0-9]+)/g,function(i,a){var l=t[a];if(l===void 0)throw new Error("Unspecified route parameter "+a);var c=wR(l);return"/"+c}):e}var M$={appendQueryObject:P$,appendQueryParam:FR,prependOrigin:I$,interpolateRouteParams:k$},A$=vR,B6=i0,O$=T$,rb=M$,jF=W2,L$=1;function iu(e,t){if(!e)throw new Error("MapiRequest requires a client");if(!t||!t.path||!t.method)throw new Error("MapiRequest requires an options object with path and method properties");var i={};t.body&&(i["content-type"]="application/json");var a=B6(i,t.headers),l=Object.keys(a).reduce(function(c,y){return c[y.toLowerCase()]=a[y],c},{});this.id=L$++,this._options=t,this.emitter=new O$,this.client=e,this.response=null,this.error=null,this.sent=!1,this.aborted=!1,this.path=t.path,this.method=t.method,this.origin=t.origin||e.origin,this.query=t.query||{},this.params=t.params||{},this.body=t.body||null,this.file=t.file||null,this.encoding=t.encoding||"utf8",this.sendFileAs=t.sendFileAs||null,this.headers=l}iu.prototype.url=function(t){var i=rb.prependOrigin(this.path,this.origin);i=rb.appendQueryObject(i,this.query);var a=this.params,l=t??this.client.accessToken;if(l){i=rb.appendQueryParam(i,"access_token",l);var c=A$(l).user;a=B6({ownerId:c},a)}return i=rb.interpolateRouteParams(i,a),i};iu.prototype.send=function(){var t=this;if(t.sent)throw new Error("This request has already been sent. Check the response and error properties. Create a new request with clone().");return t.sent=!0,t.client.sendRequest(t).then(function(i){return t.response=i,t.emitter.emit(jF.EVENT_RESPONSE,i),i},function(i){throw t.error=i,t.emitter.emit(jF.EVENT_ERROR,i),i})};iu.prototype.abort=function(){this._nextPageRequest&&(this._nextPageRequest.abort(),delete this._nextPageRequest),!(this.response||this.error||this.aborted)&&(this.aborted=!0,this.client.abortRequest(this))};iu.prototype.eachPage=function(t){var i=this;function a(y){function n(){delete i._nextPageRequest;var x=y.nextPage();x&&(i._nextPageRequest=x,c(x))}t(null,y,n)}function l(y){t(y,null,function(){})}function c(y){y.send().then(a,l)}c(this)};iu.prototype.clone=function(){return this._extend()};iu.prototype._extend=function(t){var i=B6(this._options,t);return new iu(this.client,i)};var D$=iu,B$=vR,j$=D$,z$=W2;function CR(e){if(!e||!e.accessToken)throw new Error("Cannot create a client without an access token");B$(e.accessToken),this.accessToken=e.accessToken,this.origin=e.origin||z$.API_ORIGIN}CR.prototype.createRequest=function(t){return new j$(this,t)};var ER=CR,SR=w$,TR=ER;function $p(e){TR.call(this,e)}$p.prototype=Object.create(TR.prototype);$p.prototype.constructor=$p;$p.prototype.sendRequest=SR.browserSend;$p.prototype.abortRequest=SR.browserAbort;function V$(e){return new $p(e)}var RR=V$,N$=RR,$$=N$,U$=Object.prototype.toString,G$=function(e){var t;return U$.call(e)==="[object Object]"&&(t=Object.getPrototypeOf(e),t===null||t===Object.getPrototypeOf({}))},H$=G$,q$=i0,PR="value",y3=`
  `,Go={};Go.assert=function(e,t){return t=t||{},function(i){var a=nu(e,i);if(a){var l=j6(a,t);throw t.apiName&&(l=t.apiName+": "+l),new Error(l)}}};Go.shape=function(t){var i=Q$(t);return function(l){var c=nu(Go.plainObject,l);if(c)return c;for(var y,n,x=[],C=0;C<i.length;C++)y=i[C].key,n=i[C].value,c=nu(n,l[y]),c&&x.push([y].concat(c));return x.length<2?x[0]:function(k){x=x.map(function(L){var V=L[0],G=j6(L,k).split(`
`).join(y3);return"- "+V+": "+G});var O=k.path.join("."),B=O===PR?"":" of "+O;return"The following properties"+B+" have invalid values:"+y3+x.join(y3)}}};Go.strictShape=function(t){var i=Go.shape(t);return function(l){var c=i(l);if(c)return c;var y=Object.keys(l).reduce(function(n,x){return t[x]===void 0&&n.push(x),n},[]);if(y.length!==0)return function(){return"The following keys are invalid: "+y.join(", ")}}};Go.arrayOf=function(t){return IR(t)};Go.tuple=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return IR(t)};function IR(e){var t=Array.isArray(e),i=function(a){return t?e[a]:e};return function(l){var c=nu(Go.plainArray,l);if(c)return c;if(t&&l.length!==e.length)return"an array with "+e.length+" items";for(var y=0;y<l.length;y++)if(c=nu(i(y),l[y]),c)return[y].concat(c)}}Go.required=function(t){function i(a){return a==null?function(l){return kR(l,MR(l.path)?"cannot be undefined/null.":"is required.")}:t.apply(this,arguments)}return i.__required=!0,i};Go.oneOfType=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return function(a){var l=t.map(function(c){return nu(c,a)}).filter(Boolean);if(l.length===t.length)return l.every(function(c){return c.length===1&&typeof c[0]=="string"})?W$(l.map(function(c){return c[0]})):l.reduce(function(c,y){return y.length>c.length?y:c})}};Go.equal=function(t){return function(a){if(a!==t)return JSON.stringify(t)}};Go.oneOf=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),i=t.map(function(a){return Go.equal(a)});return Go.oneOfType.apply(this,i)};Go.range=function(t){var i=t[0],a=t[1];return function(c){var y=nu(Go.number,c);if(y||c<i||c>a)return"number between "+i+" & "+a+" (inclusive)"}};Go.any=function(){};Go.boolean=function(t){if(typeof t!="boolean")return"boolean"};Go.number=function(t){if(typeof t!="number")return"number"};Go.plainArray=function(t){if(!Array.isArray(t))return"array"};Go.plainObject=function(t){if(!H$(t))return"object"};Go.string=function(t){if(typeof t!="string")return"string"};Go.func=function(t){if(typeof t!="function")return"function"};function nu(e,t){if(!(t==null&&!e.hasOwnProperty("__required"))){var i=e(t);if(i)return Array.isArray(i)?i:[i]}}function j6(e,t){var i=e.length,a=e[i-1],l=e.slice(0,i-1);return l.length===0&&(l=[PR]),t=q$(t,{path:l}),typeof a=="function"?a(t):kR(t,K$(a))}function W$(e){return e.length<2?e[0]:e.length===2?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e.slice(-1)}function K$(e){return"must be "+Z$(e)+"."}function Z$(e){return/^an? /.test(e)?e:/^[aeiou]/i.test(e)?"an "+e:/^[a-z]/i.test(e)?"a "+e:e}function kR(e,t){var i=MR(e.path),a=e.path.join(".")+" "+t,l=i?"Item at position ":"";return l+a}function MR(e){return typeof e[e.length-1]=="number"||typeof e[0]=="number"}function Q$(e){return Object.keys(e||{}).map(function(t){return{key:t,value:e[t]}})}Go.validate=nu;Go.processMessage=j6;var X$=Go,J$=i0,Tp=X$;function Y$(e){if(typeof window<"u")return e instanceof Nn.Blob||e instanceof Nn.ArrayBuffer?void 0:"Blob or ArrayBuffer";if(!(typeof e=="string"||e.pipe!==void 0))return"Filename or Readable stream"}function eU(e,t){return Tp.assert(Tp.strictShape(e),t)}function tU(e){var t="date";if(typeof e=="boolean")return t;try{var i=new Date(e);if(i.getTime&&isNaN(i.getTime()))return t}catch{return t}}function iU(e){return Tp.tuple(Tp.number,Tp.number)(e)}var nU=J$(Tp,{file:Y$,date:tU,coordinates:iU,assertShape:eU});function oU(e,t){var i=function(a,l){return t.indexOf(a)!==-1&&l!==void 0};return typeof t=="function"&&(i=t),Object.keys(e).filter(function(a){return i(a,e[a])}).reduce(function(a,l){return a[l]=e[l],a},{})}var rU=oU;function aU(e,t){return Object.keys(e).reduce(function(i,a){return i[a]=t(a,e[a]),i},{})}var sU=aU,cU=sU;function lU(e){return cU(e,function(t,i){return typeof i=="boolean"?JSON.stringify(i):i})}var dU=lU,uU=ER,hU=RR;function fU(e){return function(t){var i;uU.prototype.isPrototypeOf(t)?i=t:i=hU(t);var a=Object.create(e);return a.client=i,a}}var pU=fU,AR=i0,Xn=nU,Qb=rU,OR=dU,mU=pU,z6={},LR=["country","region","postcode","district","place","locality","neighborhood","address","poi","poi.landmark"];z6.forwardGeocode=function(e){Xn.assertShape({query:Xn.required(Xn.string),mode:Xn.oneOf("mapbox.places","mapbox.places-permanent"),countries:Xn.arrayOf(Xn.string),proximity:Xn.oneOf(Xn.coordinates,"ip"),types:Xn.arrayOf(Xn.oneOf(LR)),autocomplete:Xn.boolean,bbox:Xn.arrayOf(Xn.number),limit:Xn.number,language:Xn.arrayOf(Xn.string),routing:Xn.boolean,fuzzyMatch:Xn.boolean,worldview:Xn.string,session_token:Xn.string})(e),e.mode=e.mode||"mapbox.places";var t=OR(AR({country:e.countries},Qb(e,["proximity","types","autocomplete","bbox","limit","language","routing","fuzzyMatch","worldview","session_token"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:Qb(e,["mode","query"]),query:t})};z6.reverseGeocode=function(e){Xn.assertShape({query:Xn.required(Xn.coordinates),mode:Xn.oneOf("mapbox.places","mapbox.places-permanent"),countries:Xn.arrayOf(Xn.string),types:Xn.arrayOf(Xn.oneOf(LR)),bbox:Xn.arrayOf(Xn.number),limit:Xn.number,language:Xn.arrayOf(Xn.string),reverseMode:Xn.oneOf("distance","score"),routing:Xn.boolean,worldview:Xn.string,session_token:Xn.string})(e),e.mode=e.mode||"mapbox.places";var t=OR(AR({country:e.countries},Qb(e,["country","types","bbox","limit","language","reverseMode","routing","worldview","session_token"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:Qb(e,["mode","query"]),query:t})};var gU=mU(z6);let _U="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",DR=e=>crypto.getRandomValues(new Uint8Array(e)),BR=(e,t,i)=>{let a=(2<<Math.log(e.length-1)/Math.LN2)-1,l=-~(1.6*a*t/e.length);return(c=t)=>{let y="";for(;;){let n=i(l),x=l|0;for(;x--;)if(y+=e[n[x]&a]||"",y.length===c)return y}}},yU=(e,t=21)=>BR(e,t,DR),bU=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,i)=>(i&=63,i<36?t+=i.toString(36):i<62?t+=(i-26).toString(36).toUpperCase():i>62?t+="-":t+="_",t),"");const vU=Object.freeze(Object.defineProperty({__proto__:null,customAlphabet:yU,customRandom:BR,nanoid:bU,random:DR,urlAlphabet:_U},Symbol.toStringTag,{value:"Module"})),xU=jV(vU);var wU=xU.nanoid;function jR(e){this.origin=e.origin||"https://api.mapbox.com",this.endpoint="events/v2",this.access_token=e.accessToken,this.version="0.3.0",this.pluginSessionID=this.generateSessionID(),this.sessionIncrementer=0,this.userAgent=this.getUserAgent(),this.options=e,this.send=this.send.bind(this),this.countries=e.countries?e.countries.split(","):null,this.types=e.types?e.types.split(","):null,this.bbox=e.bbox?e.bbox:null,this.language=e.language?e.language.split(","):null,this.limit=e.limit?+e.limit:null,this.locale=navigator.language||null,this.enableEventLogging=this.shouldEnableLogging(e),this.eventQueue=new Array,this.flushInterval=e.flushInterval||1e3,this.maxQueueSize=e.maxQueueSize||100,this.timer=this.flushInterval?setTimeout(this.flush.bind(this),this.flushInterval):null,this.lastSentInput="",this.lastSentIndex=0}jR.prototype={select:function(e,t){var i=this.getEventPayload("search.select",t,{selectedFeature:e});if(i&&!(i.resultIndex===this.lastSentIndex&&i.queryString===this.lastSentInput||i.resultIndex==-1))return this.lastSentIndex=i.resultIndex,this.lastSentInput=i.queryString,this.push(i)},start:function(e){var t=this.getEventPayload("search.start",e);if(t)return this.push(t)},keyevent:function(e,t){if(e.key&&!(e.metaKey||[9,27,37,39,13,38,40].indexOf(e.keyCode)!==-1)){var i=this.getEventPayload("search.keystroke",t,{key:e.key});if(i)return this.push(i)}},send:function(e,t){if(!this.enableEventLogging)return t?t():void 0;var i=this.getRequestOptions(e);this.request(i,(function(a){if(a)return this.handleError(a,t);if(t)return t()}).bind(this))},getRequestOptions:function(e){Array.isArray(e)||(e=[e]);var t={method:"POST",host:this.origin,path:this.endpoint+"?access_token="+this.access_token,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return t},getEventPayload:function(e,t,i={}){if(e==="search.select"&&!i.selectedFeature||e==="search.keystroke"&&!i.key)return null;var a;if(!t.options.proximity)a=null;else if(typeof t.options.proximity=="object")a=[t.options.proximity.longitude,t.options.proximity.latitude];else if(t.options.proximity==="ip"){var l=t._headers?t._headers["ip-proximity"]:null;l&&typeof l=="string"?a=l.split(",").map(parseFloat):a=[999,999]}else a=t.options.proximity;var c=t._map?t._map.getZoom():void 0,y={event:e,version:this.getEventSchemaVersion(e),created:+new Date,sessionIdentifier:this.getSessionId(),country:this.countries,userAgent:this.userAgent,language:this.language,bbox:this.bbox,types:this.types,endpoint:"mapbox.places",autocomplete:t.options.autocomplete,fuzzyMatch:t.options.fuzzyMatch,proximity:a,limit:t.options.limit,routing:t.options.routing,worldview:t.options.worldview,mapZoom:c,keyboardLocale:this.locale};if(e==="search.select"?y.queryString=t.inputString:e!="search.select"&&t._inputEl?y.queryString=t._inputEl.value:y.queryString=t.inputString,["search.keystroke","search.select"].includes(e)&&(y.path="geocoding/v5/mapbox.places"),e==="search.keystroke"&&i.key)y.lastAction=i.key;else if(e==="search.select"&&i.selectedFeature){var n=i.selectedFeature,x=this.getSelectedIndex(n,t);if(y.resultIndex=x,y.resultPlaceName=n.place_name,y.resultId=n.id,n.properties&&(y.resultMapboxId=n.properties.mapbox_id),t._typeahead){var C=t._typeahead.data;C&&C.length>0&&(y.suggestionIds=this.getSuggestionIds(C),y.suggestionNames=this.getSuggestionNames(C),y.suggestionTypes=this.getSuggestionTypes(C),y.suggestionSources=this.getSuggestionSources(C))}}return this.validatePayload(y)?y:null},request:function(e,t){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(this.readyState==4)return this.status==204?t(null):t(this.statusText)},i.open(e.method,e.host+"/"+e.path,!0);for(var a in e.headers){var l=e.headers[a];i.setRequestHeader(a,l)}i.send(e.body)},handleError:function(e,t){if(t)return t(e)},generateSessionID:function(){return wU()},getSessionId:function(){return this.pluginSessionID+"."+this.sessionIncrementer},getUserAgent:function(){return"mapbox-gl-geocoder."+this.version+"."+navigator.userAgent},getSelectedIndex:function(e,t){if(t._typeahead){var i=t._typeahead.data,a=e.id,l=i.map(function(y){return y.id}),c=l.indexOf(a);return c}},getSuggestionIds:function(e){return e.map(function(t){return t.properties?t.properties.mapbox_id||"":t.id||""})},getSuggestionNames:function(e){return e.map(function(t){return t.place_name||""})},getSuggestionTypes:function(e){return e.map(function(t){return t.place_type&&Array.isArray(t.place_type)&&t.place_type[0]||""})},getSuggestionSources:function(e){return e.map(function(t){return t._source||""})},getEventSchemaVersion:function(e){return["search.keystroke","search.select"].includes(e)?"2.2":"2.0"},validatePayload:function(e){if(!e||!e.event)return!1;var t=["event","created","sessionIdentifier","queryString"],i=["event","created","sessionIdentifier","queryString","lastAction"],a=["event","created","sessionIdentifier","queryString","resultIndex","path","suggestionIds"],l=e.event;return l==="search.start"?this.objectHasRequiredProps(e,t):l==="search.keystroke"?this.objectHasRequiredProps(e,i):l==="search.select"?this.objectHasRequiredProps(e,a):!0},objectHasRequiredProps:function(e,t){return t.every(function(i){return i==="queryString"?typeof e[i]=="string"&&e[i].length>0:e[i]!==void 0})},shouldEnableLogging:function(e){return!(e.enableEventLogging===!1||e.origin&&e.origin!=="https://api.mapbox.com")},flush:function(){this.eventQueue.length>0&&(this.send(this.eventQueue),this.eventQueue=new Array),this.timer&&clearTimeout(this.timer),this.flushInterval&&(this.timer=setTimeout(this.flush.bind(this),this.flushInterval))},push:function(e,t){this.eventQueue.push(e),(this.eventQueue.length>=this.maxQueueSize||t)&&this.flush()},remove:function(){this.flush()}};var FU=jR,CU={de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"לחפש",ja:"サーチ",lv:"Meklēt",pt:"Procurar",sr:"Претрага",zh:"搜索",cs:"Vyhledávání",hu:"Keresés",ka:"ძიება",nb:"Søke",sk:"Vyhľadávanie",th:"ค้นหา",fi:"Hae",is:"Leita",ko:"수색",pl:"Szukaj",sl:"Iskanje",fa:"جستجو",ru:"Поиск"},EU={placeholder:CU},zR={exports:{}};(function(e){(function(t,i,a){e.exports?e.exports=a():t[i]=a()})(Nn,"subtag",function(){var t="",i=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function a(x){return x.match(i)||[]}function l(x){return a(x).filter(function(C,k){return C&&k})}function c(x){return x=a(x),{language:x[1]||t,extlang:x[2]||t,script:x[3]||t,region:x[4]||t}}function y(x,C,k){Object.defineProperty(x,C,{value:k,enumerable:!0})}function n(x,C,k){function O(B){return a(B)[x]||t}y(O,"pattern",C),y(c,k,O)}return n(1,/^[a-zA-Z]{2,3}$/,"language"),n(2,/^[a-zA-Z]{3}$/,"extlang"),n(3,/^[a-zA-Z]{4}$/,"script"),n(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),y(c,"split",l),c})})(zR);var SU=zR.exports;function VR(){}VR.prototype={isSupport:function(){return!!window.navigator.geolocation},getCurrentPosition:function(){const e={enableHighAccuracy:!0};return new Promise(function(t,i){window.navigator.geolocation.getCurrentPosition(t,i,e)})}};var TU=VR;function RU(e,t){const i=NR(e),a=["address","street","place","country"];var l;if(typeof t=="function")return t(i);const c=a.indexOf(t);return c===-1?l=a:l=a.slice(c),l.reduce(function(y,n){return i[n]?(y!==""&&(y=y+", "),y+i[n]):y},"")}function NR(e){const t=e.address||"",i=e.text||"",a=e.place_name||"",c={address:a.split(",")[0],houseNumber:t,street:i,placeName:a};return e.context.forEach(function(y){const n=y.id.split(".")[0];c[n]=y.text}),c}const PU=/^[ ]*(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)[ ]*$/;var IU={transformFeatureToGeolocationText:RU,getAddressInfo:NR,REVERSE_GEOCODE_COORD_RGX:PU},kU=AN,MU=XN,_h=i0,AU=o$.EventEmitter,zF=r$,b3=$$,v3=gU,OU=FU,LU=EU,DU=SU,BU=TU,VF=IU;const kd={FORWARD:0,LOCAL:1,REVERSE:2};function jU(){var e=document.createElement("div");return e.className="mapboxgl-ctrl-geocoder--powered-by",e.innerHTML='<a href="https://www.mapbox.com/search-service" target="_blank">Powered by Mapbox</a>',e}function zU(e){this._eventEmitter=new AU,this.options=_h({},this.options,e),this.inputString="",this.fresh=!0,this.lastSelected=null,this.geolocation=new BU}zU.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,minLength:2,reverseGeocode:!1,flipCoordinates:!1,limit:5,origin:"https://api.mapbox.com",enableEventLogging:!0,marker:!0,mapboxgl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,enableGeolocation:!1,addressAccuracy:"street",getItemValue:function(e){return e.place_name},render:function(e){var t=e.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title">'+t[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address">'+t.splice(1,t.length).join(",")+"</div></div>"}},_headers:{},addTo:function(e){function t(i,a){if(!document.body.contains(a))throw new Error("Element provided to #addTo() exists, but is not in the DOM");const l=i.onAdd();a.appendChild(l)}if(e._controlContainer)e.addControl(this);else if(e instanceof HTMLElement)t(this,e);else if(typeof e=="string"){const i=document.querySelectorAll(e);if(i.length===0)throw new Error("Element ",e,"not found.");if(i.length>1)throw new Error("Geocoder can only be added to a single html element");t(this,i[0])}else throw new Error("Error: addTo must be a mapbox-gl-js map, an html element, or a CSS selector query for a single html element")},onAdd:function(e){if(e&&typeof e!="string"&&(this._map=e),this.setLanguage(),this.options.localGeocoderOnly||(this.geocoderService=v3(b3({accessToken:this.options.accessToken,origin:this.options.origin}))),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this.eventManager=new OU(this.options),this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this),this._geolocateUser=this._geolocateUser.bind(this);var t=this.container=document.createElement("div");t.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl";var i=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",MU(this._onKeyDown,200)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton),this._inputEl.addEventListener("keyup",(function(C){this.eventManager.keyevent(C,this)}).bind(this));var a=document.createElement("div");a.classList.add("mapboxgl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button";var l=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');if(this._clearEl.appendChild(l),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),a.appendChild(this._clearEl),a.appendChild(this._loadingEl),t.appendChild(i),t.appendChild(this._inputEl),t.appendChild(a),this.options.enableGeolocation&&this.geolocation.isSupport()){this._geolocateEl=document.createElement("button"),this._geolocateEl.setAttribute("aria-label","Geolocate"),this._geolocateEl.addEventListener("click",this._geolocateUser),this._geolocateEl.className="mapboxgl-ctrl-geocoder--button";var c=this.createIcon("geolocate",'<path d="M12.999 3.677L2.042 8.269c-.962.403-.747 1.823.29 1.912l5.032.431.431 5.033c.089 1.037 1.509 1.252 1.912.29l4.592-10.957c.345-.822-.477-1.644-1.299-1.299z" fill="#4264fb"/>');this._geolocateEl.appendChild(c),a.appendChild(this._geolocateEl),this._showGeolocateButton()}var y=this._typeahead=new kU(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit});this.setRenderFunction(this.options.render),y.getItemValue=this.options.getItemValue;var n=y.list.draw,x=this._footerNode=jU();return y.list.draw=function(){n.call(this),x.addEventListener("mousedown",(function(){this.selectingListItem=!0}).bind(this)),x.addEventListener("mouseup",(function(){this.selectingListItem=!1}).bind(this)),this.element.appendChild(x)},this.mapMarker=null,this._handleMarker=this._handleMarker.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._mapboxgl=this.options.mapboxgl,!this._mapboxgl&&this.options.marker&&(console.error("No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl."),this.options.marker=!1)),t},_geolocateUser:function(){this._hideGeolocateButton(),this._showLoadingIcon(),this.geolocation.getCurrentPosition().then((function(e){this._hideLoadingIcon();const t={geometry:{type:"Point",coordinates:[e.coords.longitude,e.coords.latitude]}};this._handleMarker(t),this._fly(t),this._typeahead.clear(),this._typeahead.selected=!0,this.lastSelected=JSON.stringify(t),this._showClearButton(),this.fresh=!1;const i={limit:1,language:[this.options.language],query:t.geometry.coordinates,types:["address"]};if(this.options.localGeocoderOnly){const a=t.geometry.coordinates[0]+","+t.geometry.coordinates[1];this._setInputValue(a),this._eventEmitter.emit("result",{result:t})}else this.geocoderService.reverseGeocode(i).send().then((function(a){const l=a.body.features[0];if(l){const c=VF.transformFeatureToGeolocationText(l,this.options.addressAccuracy);this._setInputValue(c),l.user_coordinates=t.geometry.coordinates,this._eventEmitter.emit("result",{result:l})}else this._eventEmitter.emit("result",{result:{user_coordinates:t.geometry.coordinates}})}).bind(this))}).bind(this)).catch((function(e){e.code===1?this._renderUserDeniedGeolocationError():this._renderLocationError(),this._hideLoadingIcon(),this._showGeolocateButton(),this._hideAttribution()}).bind(this))},createIcon:function(e,t){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");return i.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+e),i.setAttribute("viewBox","0 0 18 18"),i.setAttribute("xml:space","preserve"),i.setAttribute("width",18),i.setAttribute("height",18),i.innerHTML=t,i},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_setInputValue:function(e){this._inputEl.value=e,setTimeout((function(){this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0)}).bind(this),1)},_onPaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");t.length>=this.options.minLength&&this._geocode(t)},_onKeyDown:function(e){var t=27,i=9;if(e.keyCode===t&&this.options.clearAndBlurOnEsc)return this._clear(e),this._inputEl.blur();var a=e.target&&e.target.shadowRoot?e.target.shadowRoot.activeElement:e.target,l=a?a.value:"";if(!l)return this.fresh=!0,e.keyCode!==i&&this.clear(e),this._showGeolocateButton(),this._hideClearButton();this._hideGeolocateButton(),!(e.metaKey||[i,t,37,39,13,38,40].indexOf(e.keyCode)!==-1)&&a.value.length>=this.options.minLength&&this._geocode(a.value)},_showButton:function(){this._typeahead.selected&&this._showClearButton()},_hideButton:function(){this._typeahead.selected&&this._hideClearButton()},_showClearButton:function(){this._clearEl.style.display="block"},_hideClearButton:function(){this._clearEl.style.display="none"},_showGeolocateButton:function(){this._geolocateEl&&this.geolocation.isSupport()&&(this._geolocateEl.style.display="block")},_hideGeolocateButton:function(){this._geolocateEl&&(this._geolocateEl.style.display="none")},_showLoadingIcon:function(){this._loadingEl.style.display="block"},_hideLoadingIcon:function(){this._loadingEl.style.display="none"},_showAttribution:function(){this._footerNode.style.display="block"},_hideAttribution:function(){this._footerNode.style.display="none"},_onBlur:function(e){this.options.clearOnBlur&&this._clearOnBlur(e),this.options.collapsed&&this._collapse()},_onChange:function(){var e=this._typeahead.selected;e&&JSON.stringify(e)!==this.lastSelected&&(this._hideClearButton(),this.options.flyTo&&this._fly(e),this.options.marker&&this._mapboxgl&&this._handleMarker(e),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(e),this._eventEmitter.emit("result",{result:e}),this.eventManager.select(e,this))},_fly:function(e){var t;if(e.properties&&zF[e.properties.short_code])t=_h({},this.options.flyTo),this._map&&this._map.fitBounds(zF[e.properties.short_code].bbox,t);else if(e.bbox){var i=e.bbox;t=_h({},this.options.flyTo),this._map&&this._map.fitBounds([[i[0],i[1]],[i[2],i[3]]],t)}else{var a={zoom:this.options.zoom};t=_h({},a,this.options.flyTo),e.center?t.center=e.center:e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&(t.center=e.geometry.coordinates),this._map&&this._map.flyTo(t)}},_requestType:function(e,t){var i;return e.localGeocoderOnly?i=kd.LOCAL:e.reverseGeocode&&VF.REVERSE_GEOCODE_COORD_RGX.test(t)?i=kd.REVERSE:i=kd.FORWARD,i},_setupConfig:function(e,t){const i=["bbox","limit","proximity","countries","types","language","reverseMode","mode","autocomplete","fuzzyMatch","routing","worldview"],a=/[\s,]+/;var l=this,c=i.reduce(function(n,x){if(l.options[x]===void 0||l.options[x]===null)return n;["countries","types","language"].indexOf(x)>-1?n[x]=l.options[x].split(a):n[x]=l.options[x];const C=typeof l.options[x].longitude=="number"&&typeof l.options[x].latitude=="number";if(x==="proximity"&&C){const k=l.options[x].longitude,O=l.options[x].latitude;n[x]=[k,O]}return n},{});switch(e){case kd.REVERSE:{var y=t.split(a).map(function(n){return parseFloat(n,10)});l.options.flipCoordinates||y.reverse(),c.types&&c.types[0],c=_h(c,{query:y,limit:1}),["proximity","autocomplete","fuzzyMatch","bbox"].forEach(function(n){n in c&&delete c[n]})}break;case kd.FORWARD:{const n=t.trim();/^(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)?$/.test(n)&&(t=t.replace(/,/g," ")),c=_h(c,{query:t})}break}return c.session_token=this.eventManager.getSessionId(),c},_geocode:function(e){this.inputString=e,this._showLoadingIcon(),this._eventEmitter.emit("loading",{query:e});const t=this._requestType(this.options,e),i=this._setupConfig(t,e);var a;switch(t){case kd.LOCAL:a=Promise.resolve();break;case kd.FORWARD:a=this.geocoderService.forwardGeocode(i).send();break;case kd.REVERSE:a=this.geocoderService.reverseGeocode(i).send();break}var l=this.options.localGeocoder?this.options.localGeocoder(e)||[]:[],c=[],y=null;return a.catch((function(n){y=n}).bind(this)).then((function(n){this._hideLoadingIcon();var x={};return n?n.statusCode=="200"&&(x=n.body,x.request=n.request,x.headers=n.headers,this._headers=n.headers):x={type:"FeatureCollection",features:[]},x.config=i,this.fresh&&(this.eventManager.start(this),this.fresh=!1),x.features&&x.features.length&&x.features.map(function(C){C._source="mapbox"}),x.features=x.features?l.concat(x.features):l,this.options.externalGeocoder?(c=this.options.externalGeocoder(e,x.features)||Promise.resolve([]),c.then(function(C){return x.features=x.features?C.concat(x.features):C,x},function(){return x})):x}).bind(this)).then((function(n){if(y)throw y;this.options.filter&&n.features.length&&(n.features=n.features.filter(this.options.filter)),n.features.length?(this._showClearButton(),this._hideGeolocateButton(),this._showAttribution(),this._eventEmitter.emit("results",n),this._typeahead.update(n.features)):(this._hideClearButton(),this._hideAttribution(),this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",n))}).bind(this)).catch((function(n){this._hideLoadingIcon(),this._hideAttribution(),l.length&&this.options.localGeocoder||c.length&&this.options.externalGeocoder?(this._showClearButton(),this._hideGeolocateButton(),this._typeahead.update(l)):(this._hideClearButton(),this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:l}),this._eventEmitter.emit("error",{error:n})}).bind(this)),a},_clear:function(e){e&&e.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this.eventManager.sessionIncrementer++,this._onChange(),this._hideClearButton(),this._showGeolocateButton(),this._removeMarker(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(e){this._clear(e),this._inputEl.focus()},_clearOnBlur:function(e){var t=this;e.relatedTarget&&t._clear(e)},_onQueryResult:function(e){var t=e.body;if(t.features.length){var i=t.features[0];this._typeahead.selected=i,this._inputEl.value=i.place_name,this._onChange()}},_updateProximity:function(){if(!(!this._map||!this.options.trackProximity))if(this._map.getZoom()>9){var e=this._map.getCenter().wrap();this.setProximity({longitude:e.lng,latitude:e.lat},!1)}else this.setProximity(null,!1)},_collapse:function(){!this._inputEl.value&&this._inputEl!==document.activeElement&&this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed")},query:function(e){return this._geocode(e).then(this._onQueryResult),this},_renderError:function(){var e="<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>";this._renderMessage(e)},_renderLocationError:function(){var e="<div class='mapbox-gl-geocoder--error'>A location error has occurred</div>";this._renderMessage(e)},_renderNoResults:function(){var e="<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>";this._renderMessage(e)},_renderUserDeniedGeolocationError:function(){var e="<div class='mapbox-gl-geocoder--error'>Geolocation permission denied</div>";this._renderMessage(e)},_renderMessage:function(e){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(e)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var e=this.options.language.split(",")[0],t=DU.language(e),i=LU.placeholder[t];if(i)return i}return"Search"},setInput:function(e,t){return t===void 0&&(t=!1),this._inputEl.value=e,this._typeahead.selected=null,this._typeahead.clear(),e.length>=this.options.minLength&&(t?this._geocode(e):this._onChange()),this},setProximity:function(e,t=!0){return this.options.proximity=e,t&&(this.options.trackProximity=!1),this},getProximity:function(){return this.options.proximity},setRenderFunction:function(e){return e&&typeof e=="function"&&(this._typeahead.render=e),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(e){var t=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=e||this.options.language||t,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(e){return this.options.zoom=e,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(e){return this.options.flyTo=e,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(e){return this.options.placeholder=e||this._getPlaceholderText(),this._inputEl.placeholder=this.options.placeholder,this._inputEl.setAttribute("aria-label",this.options.placeholder),this},getBbox:function(){return this.options.bbox},setBbox:function(e){return this.options.bbox=e,this},getCountries:function(){return this.options.countries},setCountries:function(e){return this.options.countries=e,this},getTypes:function(){return this.options.types},setTypes:function(e){return this.options.types=e,this},getMinLength:function(){return this.options.minLength},setMinLength:function(e){return this.options.minLength=e,this._typeahead&&(this._typeahead.options.minLength=e),this},getLimit:function(){return this.options.limit},setLimit:function(e){return this.options.limit=e,this._typeahead&&(this._typeahead.options.limit=e),this},getFilter:function(){return this.options.filter},setFilter:function(e){return this.options.filter=e,this},setOrigin:function(e){return this.options.origin=e,this.geocoderService=v3(b3({accessToken:this.options.accessToken,origin:this.options.origin})),this},getOrigin:function(){return this.options.origin},setAccessToken:function(e){return this.options.accessToken=e,this.geocoderService=v3(b3({accessToken:this.options.accessToken,origin:this.options.origin})),this},setAutocomplete:function(e){return this.options.autocomplete=e,this},getAutocomplete:function(){return this.options.autocomplete},setFuzzyMatch:function(e){return this.options.fuzzyMatch=e,this},getFuzzyMatch:function(){return this.options.fuzzyMatch},setRouting:function(e){return this.options.routing=e,this},getRouting:function(){return this.options.routing},setWorldview:function(e){return this.options.worldview=e,this},getWorldview:function(){return this.options.worldview},_handleMarker:function(e){if(this._map){this._removeMarker();var t={color:"#4668F2"},i=_h({},t,this.options.marker);return this.mapMarker=new this._mapboxgl.Marker(i),e.center?this.mapMarker.setLngLat(e.center).addTo(this._map):e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&this.mapMarker.setLngLat(e.geometry.coordinates).addTo(this._map),this}},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},on:function(e,t){return this._eventEmitter.on(e,t),this},off:function(e,t){return this._eventEmitter.removeListener(e,t),this.eventManager.remove(),this}};var NF=63710088e-1;function Xb(e,t,i={}){const a={type:"Feature"};return(i.id===0||i.id)&&(a.id=i.id),i.bbox&&(a.bbox=i.bbox),a.properties=t||{},a.geometry=e,a}function VU(e,t,i={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!UF(e[0])||!UF(e[1]))throw new Error("coordinates must contain numbers");return Xb({type:"Point",coordinates:e},t,i)}function $R(e,t={}){const i={type:"FeatureCollection"};return t.id&&(i.id=t.id),t.bbox&&(i.bbox=t.bbox),i.features=e,i}function $F(e,t,i={}){return Xb({type:"MultiPolygon",coordinates:e},t,i)}function UF(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function UR(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function V6(e,t,i){if(e!==null)for(var a,l,c,y,n,x,C,k=0,O=0,B,L=e.type,V=L==="FeatureCollection",G=L==="Feature",Q=V?e.features.length:1,Y=0;Y<Q;Y++){C=V?e.features[Y].geometry:G?e.geometry:e,B=C?C.type==="GeometryCollection":!1,n=B?C.geometries.length:1;for(var J=0;J<n;J++){var re=0,ce=0;if(y=B?C.geometries[J]:C,y!==null){x=y.coordinates;var he=y.type;switch(k=0,he){case null:break;case"Point":if(t(x,O,Y,re,ce)===!1)return!1;O++,re++;break;case"LineString":case"MultiPoint":for(a=0;a<x.length;a++){if(t(x[a],O,Y,re,ce)===!1)return!1;O++,he==="MultiPoint"&&re++}he==="LineString"&&re++;break;case"Polygon":case"MultiLineString":for(a=0;a<x.length;a++){for(l=0;l<x[a].length-k;l++){if(t(x[a][l],O,Y,re,ce)===!1)return!1;O++}he==="MultiLineString"&&re++,he==="Polygon"&&ce++}he==="Polygon"&&re++;break;case"MultiPolygon":for(a=0;a<x.length;a++){for(ce=0,l=0;l<x[a].length;l++){for(c=0;c<x[a][l].length-k;c++){if(t(x[a][l][c],O,Y,re,ce)===!1)return!1;O++}ce++}re++}break;case"GeometryCollection":for(a=0;a<y.geometries.length;a++)if(V6(y.geometries[a],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function NU(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var i=0;i<e.features.length&&t(e.features[i],i)!==!1;i++);}function GR(e,t){var i,a,l,c,y,n,x,C,k,O,B=0,L=e.type==="FeatureCollection",V=e.type==="Feature",G=L?e.features.length:1;for(i=0;i<G;i++){for(n=L?e.features[i].geometry:V?e.geometry:e,C=L?e.features[i].properties:V?e.properties:{},k=L?e.features[i].bbox:V?e.bbox:void 0,O=L?e.features[i].id:V?e.id:void 0,x=n?n.type==="GeometryCollection":!1,y=x?n.geometries.length:1,l=0;l<y;l++){if(c=x?n.geometries[l]:n,c===null){if(t(null,B,C,k,O)===!1)return!1;continue}switch(c.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(c,B,C,k,O)===!1)return!1;break}case"GeometryCollection":{for(a=0;a<c.geometries.length;a++)if(t(c.geometries[a],B,C,k,O)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}B++}}function $U(e,t,i){var a=i;return GR(e,function(l,c,y,n,x){c===0&&i===void 0?a=l:a=t(a,l,c,y,n,x)}),a}function UU(e,t){GR(e,function(i,a,l,c,y){var n=i===null?null:i.type;switch(n){case null:case"Point":case"LineString":case"Polygon":return t(Xb(i,l,{bbox:c,id:y}),a,0)===!1?!1:void 0}var x;switch(n){case"MultiPoint":x="Point";break;case"MultiLineString":x="LineString";break;case"MultiPolygon":x="Polygon";break}for(var C=0;C<i.coordinates.length;C++){var k=i.coordinates[C],O={type:x,coordinates:k};if(t(Xb(O,l),a,C)===!1)return!1}})}function _p(e,t={}){if(e.bbox!=null&&t.recompute!==!0)return e.bbox;const i=[1/0,1/0,-1/0,-1/0];return V6(e,a=>{i[0]>a[0]&&(i[0]=a[0]),i[1]>a[1]&&(i[1]=a[1]),i[2]<a[0]&&(i[2]=a[0]),i[3]<a[1]&&(i[3]=a[1])}),i}var GU=_p;function HU(e){return $U(e,(t,i)=>t+qU(i),0)}function qU(e){let t=0,i;switch(e.type){case"Polygon":return GF(e.coordinates);case"MultiPolygon":for(i=0;i<e.coordinates.length;i++)t+=GF(e.coordinates[i]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function GF(e){let t=0;if(e&&e.length>0){t+=Math.abs(HF(e[0]));for(let i=1;i<e.length;i++)t-=Math.abs(HF(e[i]))}return t}var WU=NF*NF/2,x3=Math.PI/180;function HF(e){const t=e.length-1;if(t<=2)return 0;let i=0,a=0;for(;a<t;){const l=e[a],c=e[a+1===t?0:a+1],y=e[a+2>=t?(a+2)%t:a+2],n=l[0]*x3,x=c[1]*x3,C=y[0]*x3;i+=(C-n)*Math.sin(x),a++}return i*WU}var Dc=HU;function KU(e,t={}){const i=_p(e),a=(i[0]+i[2])/2,l=(i[1]+i[3])/2;return VU([a,l],t.properties,t)}var gx=KU;function ZU(e,t,i){if(!e)throw new Error("No featureCollection passed");if(!e||e.type!=="FeatureCollection")throw new Error("Invalid input to "+i+", FeatureCollection required");for(const a of e.features){if(!a||a.type!=="Feature"||!a.geometry)throw new Error("Invalid input to "+i+", Feature with geometry required");if(!a.geometry||a.geometry.type!==t)throw new Error("Invalid input to "+i+": must be a "+t+", given "+a.geometry.type)}}function qF(e){if(!e)throw new Error("geojson is required");var t=[];return UU(e,function(i){t.push(i)}),$R(t)}/**
 * splaytree v3.1.2
 * Fast Splay tree for Node and browser
 *
 * @author Alexander Milevski <info@w8r.name>
 * @license MIT
 * @preserve
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function QU(e,t){var i={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},a,l,c,y;return y={next:n(0),throw:n(1),return:n(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function n(C){return function(k){return x([C,k])}}function x(C){if(a)throw new TypeError("Generator is already executing.");for(;i;)try{if(a=1,l&&(c=C[0]&2?l.return:C[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,C[1])).done)return c;switch(l=0,c&&(C=[C[0]&2,c.value]),C[0]){case 0:case 1:c=C;break;case 4:return i.label++,{value:C[1],done:!1};case 5:i.label++,l=C[1],C=[0];continue;case 7:C=i.ops.pop(),i.trys.pop();continue;default:if(c=i.trys,!(c=c.length>0&&c[c.length-1])&&(C[0]===6||C[0]===2)){i=0;continue}if(C[0]===3&&(!c||C[1]>c[0]&&C[1]<c[3])){i.label=C[1];break}if(C[0]===6&&i.label<c[1]){i.label=c[1],c=C;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(C);break}c[2]&&i.ops.pop(),i.trys.pop();continue}C=t.call(e,i)}catch(k){C=[6,k],l=0}finally{a=c=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}}var ou=function(){function e(t,i){this.next=null,this.key=t,this.data=i,this.left=null,this.right=null}return e}();function XU(e,t){return e>t?1:e<t?-1:0}function Gd(e,t,i){for(var a=new ou(null,null),l=a,c=a;;){var y=i(e,t.key);if(y<0){if(t.left===null)break;if(i(e,t.left.key)<0){var n=t.left;if(t.left=n.right,n.right=t,t=n,t.left===null)break}c.left=t,c=t,t=t.left}else if(y>0){if(t.right===null)break;if(i(e,t.right.key)>0){var n=t.right;if(t.right=n.left,n.left=t,t=n,t.right===null)break}l.right=t,l=t,t=t.right}else break}return l.right=t.left,c.left=t.right,t.left=a.right,t.right=a.left,t}function w3(e,t,i,a){var l=new ou(e,t);if(i===null)return l.left=l.right=null,l;i=Gd(e,i,a);var c=a(e,i.key);return c<0?(l.left=i.left,l.right=i,i.left=null):c>=0&&(l.right=i.right,l.left=i,i.right=null),l}function WF(e,t,i){var a=null,l=null;if(t){t=Gd(e,t,i);var c=i(t.key,e);c===0?(a=t.left,l=t.right):c<0?(l=t.right,t.right=null,a=t):(a=t.left,t.left=null,l=t)}return{left:a,right:l}}function JU(e,t,i){return t===null?e:(e===null||(t=Gd(e.key,t,i),t.left=e),t)}function _x(e,t,i,a,l){if(e){a(""+t+(i?"└── ":"├── ")+l(e)+`
`);var c=t+(i?"    ":"│   ");e.left&&_x(e.left,c,!1,a,l),e.right&&_x(e.right,c,!0,a,l)}}var N6=function(){function e(t){t===void 0&&(t=XU),this._root=null,this._size=0,this._comparator=t}return e.prototype.insert=function(t,i){return this._size++,this._root=w3(t,i,this._root,this._comparator)},e.prototype.add=function(t,i){var a=new ou(t,i);this._root===null&&(a.left=a.right=null,this._size++,this._root=a);var l=this._comparator,c=Gd(t,this._root,l),y=l(t,c.key);return y===0?this._root=c:(y<0?(a.left=c.left,a.right=c,c.left=null):y>0&&(a.right=c.right,a.left=c,c.right=null),this._size++,this._root=a),this._root},e.prototype.remove=function(t){this._root=this._remove(t,this._root,this._comparator)},e.prototype._remove=function(t,i,a){var l;if(i===null)return null;i=Gd(t,i,a);var c=a(t,i.key);return c===0?(i.left===null?l=i.right:(l=Gd(t,i.left,a),l.right=i.right),this._size--,l):i},e.prototype.pop=function(){var t=this._root;if(t){for(;t.left;)t=t.left;return this._root=Gd(t.key,this._root,this._comparator),this._root=this._remove(t.key,this._root,this._comparator),{key:t.key,data:t.data}}return null},e.prototype.findStatic=function(t){for(var i=this._root,a=this._comparator;i;){var l=a(t,i.key);if(l===0)return i;l<0?i=i.left:i=i.right}return null},e.prototype.find=function(t){return this._root&&(this._root=Gd(t,this._root,this._comparator),this._comparator(t,this._root.key)!==0)?null:this._root},e.prototype.contains=function(t){for(var i=this._root,a=this._comparator;i;){var l=a(t,i.key);if(l===0)return!0;l<0?i=i.left:i=i.right}return!1},e.prototype.forEach=function(t,i){for(var a=this._root,l=[],c=!1;!c;)a!==null?(l.push(a),a=a.left):l.length!==0?(a=l.pop(),t.call(i,a),a=a.right):c=!0;return this},e.prototype.range=function(t,i,a,l){for(var c=[],y=this._comparator,n=this._root,x;c.length!==0||n;)if(n)c.push(n),n=n.left;else{if(n=c.pop(),x=y(n.key,i),x>0)break;if(y(n.key,t)>=0&&a.call(l,n))return this;n=n.right}return this},e.prototype.keys=function(){var t=[];return this.forEach(function(i){var a=i.key;return t.push(a)}),t},e.prototype.values=function(){var t=[];return this.forEach(function(i){var a=i.data;return t.push(a)}),t},e.prototype.min=function(){return this._root?this.minNode(this._root).key:null},e.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},e.prototype.minNode=function(t){if(t===void 0&&(t=this._root),t)for(;t.left;)t=t.left;return t},e.prototype.maxNode=function(t){if(t===void 0&&(t=this._root),t)for(;t.right;)t=t.right;return t},e.prototype.at=function(t){for(var i=this._root,a=!1,l=0,c=[];!a;)if(i)c.push(i),i=i.left;else if(c.length>0){if(i=c.pop(),l===t)return i;l++,i=i.right}else a=!0;return null},e.prototype.next=function(t){var i=this._root,a=null;if(t.right){for(a=t.right;a.left;)a=a.left;return a}for(var l=this._comparator;i;){var c=l(t.key,i.key);if(c===0)break;c<0?(a=i,i=i.left):i=i.right}return a},e.prototype.prev=function(t){var i=this._root,a=null;if(t.left!==null){for(a=t.left;a.right;)a=a.right;return a}for(var l=this._comparator;i;){var c=l(t.key,i.key);if(c===0)break;c<0?i=i.left:(a=i,i=i.right)}return a},e.prototype.clear=function(){return this._root=null,this._size=0,this},e.prototype.toList=function(){return eG(this._root)},e.prototype.load=function(t,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1);var l=t.length,c=this._comparator;if(a&&vx(t,i,0,l-1,c),this._root===null)this._root=yx(t,i,0,l),this._size=l;else{var y=tG(this.toList(),YU(t,i),c);l=this._size+l,this._root=bx({head:y},0,l)}return this},e.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),e.prototype.toString=function(t){t===void 0&&(t=function(a){return String(a.key)});var i=[];return _x(this._root,"",!0,function(a){return i.push(a)},t),i.join("")},e.prototype.update=function(t,i,a){var l=this._comparator,c=WF(t,this._root,l),y=c.left,n=c.right;l(t,i)<0?n=w3(i,a,n,l):y=w3(i,a,y,l),this._root=JU(y,n,l)},e.prototype.split=function(t){return WF(t,this._root,this._comparator)},e.prototype[Symbol.iterator]=function(){var t,i,a;return QU(this,function(l){switch(l.label){case 0:t=this._root,i=[],a=!1,l.label=1;case 1:return a?[3,6]:t===null?[3,2]:(i.push(t),t=t.left,[3,5]);case 2:return i.length===0?[3,4]:(t=i.pop(),[4,t]);case 3:return l.sent(),t=t.right,[3,5];case 4:a=!0,l.label=5;case 5:return[3,1];case 6:return[2]}})},e}();function yx(e,t,i,a){var l=a-i;if(l>0){var c=i+Math.floor(l/2),y=e[c],n=t[c],x=new ou(y,n);return x.left=yx(e,t,i,c),x.right=yx(e,t,c+1,a),x}return null}function YU(e,t){for(var i=new ou(null,null),a=i,l=0;l<e.length;l++)a=a.next=new ou(e[l],t[l]);return a.next=null,i.next}function eG(e){for(var t=e,i=[],a=!1,l=new ou(null,null),c=l;!a;)t?(i.push(t),t=t.left):i.length>0?(t=c=c.next=i.pop(),t=t.right):a=!0;return c.next=null,l.next}function bx(e,t,i){var a=i-t;if(a>0){var l=t+Math.floor(a/2),c=bx(e,t,l),y=e.head;return y.left=c,e.head=e.head.next,y.right=bx(e,l+1,i),y}return null}function tG(e,t,i){for(var a=new ou(null,null),l=a,c=e,y=t;c!==null&&y!==null;)i(c.key,y.key)<0?(l.next=c,c=c.next):(l.next=y,y=y.next),l=l.next;return c!==null?l.next=c:y!==null&&(l.next=y),a.next}function vx(e,t,i,a,l){if(!(i>=a)){for(var c=e[i+a>>1],y=i-1,n=a+1;;){do y++;while(l(e[y],c)<0);do n--;while(l(e[n],c)>0);if(y>=n)break;var x=e[y];e[y]=e[n],e[n]=x,x=t[y],t[y]=t[n],t[n]=x}vx(e,t,i,n,l),vx(e,t,n+1,a,l)}}const xl=11102230246251565e-32,ra=134217729,iG=(3+8*xl)*xl;function F3(e,t,i,a,l){let c,y,n,x,C=t[0],k=a[0],O=0,B=0;k>C==k>-C?(c=C,C=t[++O]):(c=k,k=a[++B]);let L=0;if(O<e&&B<i)for(k>C==k>-C?(y=C+c,n=c-(y-C),C=t[++O]):(y=k+c,n=c-(y-k),k=a[++B]),c=y,n!==0&&(l[L++]=n);O<e&&B<i;)k>C==k>-C?(y=c+C,x=y-c,n=c-(y-x)+(C-x),C=t[++O]):(y=c+k,x=y-c,n=c-(y-x)+(k-x),k=a[++B]),c=y,n!==0&&(l[L++]=n);for(;O<e;)y=c+C,x=y-c,n=c-(y-x)+(C-x),C=t[++O],c=y,n!==0&&(l[L++]=n);for(;B<i;)y=c+k,x=y-c,n=c-(y-x)+(k-x),k=a[++B],c=y,n!==0&&(l[L++]=n);return(c!==0||L===0)&&(l[L++]=c),L}function nG(e,t){let i=t[0];for(let a=1;a<e;a++)i+=t[a];return i}function qg(e){return new Float64Array(e)}const oG=(3+16*xl)*xl,rG=(2+12*xl)*xl,aG=(9+64*xl)*xl*xl,ip=qg(4),KF=qg(8),ZF=qg(12),QF=qg(16),Fa=qg(4);function sG(e,t,i,a,l,c,y){let n,x,C,k,O,B,L,V,G,Q,Y,J,re,ce,he,we,pe,De;const Ae=e-l,Ne=i-l,it=t-c,ye=a-c;ce=Ae*ye,B=ra*Ae,L=B-(B-Ae),V=Ae-L,B=ra*ye,G=B-(B-ye),Q=ye-G,he=V*Q-(ce-L*G-V*G-L*Q),we=it*Ne,B=ra*it,L=B-(B-it),V=it-L,B=ra*Ne,G=B-(B-Ne),Q=Ne-G,pe=V*Q-(we-L*G-V*G-L*Q),Y=he-pe,O=he-Y,ip[0]=he-(Y+O)+(O-pe),J=ce+Y,O=J-ce,re=ce-(J-O)+(Y-O),Y=re-we,O=re-Y,ip[1]=re-(Y+O)+(O-we),De=J+Y,O=De-J,ip[2]=J-(De-O)+(Y-O),ip[3]=De;let Oe=nG(4,ip),ue=rG*y;if(Oe>=ue||-Oe>=ue||(O=e-Ae,n=e-(Ae+O)+(O-l),O=i-Ne,C=i-(Ne+O)+(O-l),O=t-it,x=t-(it+O)+(O-c),O=a-ye,k=a-(ye+O)+(O-c),n===0&&x===0&&C===0&&k===0)||(ue=aG*y+iG*Math.abs(Oe),Oe+=Ae*k+ye*n-(it*C+Ne*x),Oe>=ue||-Oe>=ue))return Oe;ce=n*ye,B=ra*n,L=B-(B-n),V=n-L,B=ra*ye,G=B-(B-ye),Q=ye-G,he=V*Q-(ce-L*G-V*G-L*Q),we=x*Ne,B=ra*x,L=B-(B-x),V=x-L,B=ra*Ne,G=B-(B-Ne),Q=Ne-G,pe=V*Q-(we-L*G-V*G-L*Q),Y=he-pe,O=he-Y,Fa[0]=he-(Y+O)+(O-pe),J=ce+Y,O=J-ce,re=ce-(J-O)+(Y-O),Y=re-we,O=re-Y,Fa[1]=re-(Y+O)+(O-we),De=J+Y,O=De-J,Fa[2]=J-(De-O)+(Y-O),Fa[3]=De;const ct=F3(4,ip,4,Fa,KF);ce=Ae*k,B=ra*Ae,L=B-(B-Ae),V=Ae-L,B=ra*k,G=B-(B-k),Q=k-G,he=V*Q-(ce-L*G-V*G-L*Q),we=it*C,B=ra*it,L=B-(B-it),V=it-L,B=ra*C,G=B-(B-C),Q=C-G,pe=V*Q-(we-L*G-V*G-L*Q),Y=he-pe,O=he-Y,Fa[0]=he-(Y+O)+(O-pe),J=ce+Y,O=J-ce,re=ce-(J-O)+(Y-O),Y=re-we,O=re-Y,Fa[1]=re-(Y+O)+(O-we),De=J+Y,O=De-J,Fa[2]=J-(De-O)+(Y-O),Fa[3]=De;const Ct=F3(ct,KF,4,Fa,ZF);ce=n*k,B=ra*n,L=B-(B-n),V=n-L,B=ra*k,G=B-(B-k),Q=k-G,he=V*Q-(ce-L*G-V*G-L*Q),we=x*C,B=ra*x,L=B-(B-x),V=x-L,B=ra*C,G=B-(B-C),Q=C-G,pe=V*Q-(we-L*G-V*G-L*Q),Y=he-pe,O=he-Y,Fa[0]=he-(Y+O)+(O-pe),J=ce+Y,O=J-ce,re=ce-(J-O)+(Y-O),Y=re-we,O=re-Y,Fa[1]=re-(Y+O)+(O-we),De=J+Y,O=De-J,Fa[2]=J-(De-O)+(Y-O),Fa[3]=De;const pt=F3(Ct,ZF,4,Fa,QF);return QF[pt-1]}function cG(e,t,i,a,l,c){const y=(t-c)*(i-l),n=(e-l)*(a-c),x=y-n,C=Math.abs(y+n);return Math.abs(x)>=oG*C?x:-sG(e,t,i,a,l,c,C)}var HR={};const l1=(e,t)=>e.ll.x<=t.x&&t.x<=e.ur.x&&e.ll.y<=t.y&&t.y<=e.ur.y,xx=(e,t)=>{if(t.ur.x<e.ll.x||e.ur.x<t.ll.x||t.ur.y<e.ll.y||e.ur.y<t.ll.y)return null;const i=e.ll.x<t.ll.x?t.ll.x:e.ll.x,a=e.ur.x<t.ur.x?e.ur.x:t.ur.x,l=e.ll.y<t.ll.y?t.ll.y:e.ll.y,c=e.ur.y<t.ur.y?e.ur.y:t.ur.y;return{ll:{x:i,y:l},ur:{x:a,y:c}}};let Wd=Number.EPSILON;Wd===void 0&&(Wd=Math.pow(2,-52));const lG=Wd*Wd,XF=(e,t)=>{if(-Wd<e&&e<Wd&&-Wd<t&&t<Wd)return 0;const i=e-t;return i*i<lG*e*t?0:e<t?-1:1};class dG{constructor(){this.reset()}reset(){this.xRounder=new JF,this.yRounder=new JF}round(t,i){return{x:this.xRounder.round(t),y:this.yRounder.round(i)}}}class JF{constructor(){this.tree=new N6,this.round(0)}round(t){const i=this.tree.add(t),a=this.tree.prev(i);if(a!==null&&XF(i.key,a.key)===0)return this.tree.remove(t),a.key;const l=this.tree.next(i);return l!==null&&XF(i.key,l.key)===0?(this.tree.remove(t),l.key):t}}const ng=new dG,Cb=(e,t)=>e.x*t.y-e.y*t.x,qR=(e,t)=>e.x*t.x+e.y*t.y,YF=(e,t,i)=>{const a=cG(e.x,e.y,t.x,t.y,i.x,i.y);return a>0?-1:a<0?1:0},Jb=e=>Math.sqrt(qR(e,e)),uG=(e,t,i)=>{const a={x:t.x-e.x,y:t.y-e.y},l={x:i.x-e.x,y:i.y-e.y};return Cb(l,a)/Jb(l)/Jb(a)},hG=(e,t,i)=>{const a={x:t.x-e.x,y:t.y-e.y},l={x:i.x-e.x,y:i.y-e.y};return qR(l,a)/Jb(l)/Jb(a)},eC=(e,t,i)=>t.y===0?null:{x:e.x+t.x/t.y*(i-e.y),y:i},tC=(e,t,i)=>t.x===0?null:{x:i,y:e.y+t.y/t.x*(i-e.x)},fG=(e,t,i,a)=>{if(t.x===0)return tC(i,a,e.x);if(a.x===0)return tC(e,t,i.x);if(t.y===0)return eC(i,a,e.y);if(a.y===0)return eC(e,t,i.y);const l=Cb(t,a);if(l==0)return null;const c={x:i.x-e.x,y:i.y-e.y},y=Cb(c,t)/l,n=Cb(c,a)/l,x=e.x+n*t.x,C=i.x+y*a.x,k=e.y+n*t.y,O=i.y+y*a.y,B=(x+C)/2,L=(k+O)/2;return{x:B,y:L}};class Ps{static compare(t,i){const a=Ps.comparePoints(t.point,i.point);return a!==0?a:(t.point!==i.point&&t.link(i),t.isLeft!==i.isLeft?t.isLeft?1:-1:Jd.compare(t.segment,i.segment))}static comparePoints(t,i){return t.x<i.x?-1:t.x>i.x?1:t.y<i.y?-1:t.y>i.y?1:0}constructor(t,i){t.events===void 0?t.events=[this]:t.events.push(this),this.point=t,this.isLeft=i}link(t){if(t.point===this.point)throw new Error("Tried to link already linked events");const i=t.point.events;for(let a=0,l=i.length;a<l;a++){const c=i[a];this.point.events.push(c),c.point=this.point}this.checkForConsuming()}checkForConsuming(){const t=this.point.events.length;for(let i=0;i<t;i++){const a=this.point.events[i];if(a.segment.consumedBy===void 0)for(let l=i+1;l<t;l++){const c=this.point.events[l];c.consumedBy===void 0&&a.otherSE.point.events===c.otherSE.point.events&&a.segment.consume(c.segment)}}}getAvailableLinkedEvents(){const t=[];for(let i=0,a=this.point.events.length;i<a;i++){const l=this.point.events[i];l!==this&&!l.segment.ringOut&&l.segment.isInResult()&&t.push(l)}return t}getLeftmostComparator(t){const i=new Map,a=l=>{const c=l.otherSE;i.set(l,{sine:uG(this.point,t.point,c.point),cosine:hG(this.point,t.point,c.point)})};return(l,c)=>{i.has(l)||a(l),i.has(c)||a(c);const{sine:y,cosine:n}=i.get(l),{sine:x,cosine:C}=i.get(c);return y>=0&&x>=0?n<C?1:n>C?-1:0:y<0&&x<0?n<C?-1:n>C?1:0:x<y?-1:x>y?1:0}}}let pG=0;class Jd{static compare(t,i){const a=t.leftSE.point.x,l=i.leftSE.point.x,c=t.rightSE.point.x,y=i.rightSE.point.x;if(y<a)return 1;if(c<l)return-1;const n=t.leftSE.point.y,x=i.leftSE.point.y,C=t.rightSE.point.y,k=i.rightSE.point.y;if(a<l){if(x<n&&x<C)return 1;if(x>n&&x>C)return-1;const O=t.comparePoint(i.leftSE.point);if(O<0)return 1;if(O>0)return-1;const B=i.comparePoint(t.rightSE.point);return B!==0?B:-1}if(a>l){if(n<x&&n<k)return-1;if(n>x&&n>k)return 1;const O=i.comparePoint(t.leftSE.point);if(O!==0)return O;const B=t.comparePoint(i.rightSE.point);return B<0?1:B>0?-1:1}if(n<x)return-1;if(n>x)return 1;if(c<y){const O=i.comparePoint(t.rightSE.point);if(O!==0)return O}if(c>y){const O=t.comparePoint(i.rightSE.point);if(O<0)return 1;if(O>0)return-1}if(c!==y){const O=C-n,B=c-a,L=k-x,V=y-l;if(O>B&&L<V)return 1;if(O<B&&L>V)return-1}return c>y?1:c<y||C<k?-1:C>k?1:t.id<i.id?-1:t.id>i.id?1:0}constructor(t,i,a,l){this.id=++pG,this.leftSE=t,t.segment=this,t.otherSE=i,this.rightSE=i,i.segment=this,i.otherSE=t,this.rings=a,this.windings=l}static fromRing(t,i,a){let l,c,y;const n=Ps.comparePoints(t,i);if(n<0)l=t,c=i,y=1;else if(n>0)l=i,c=t,y=-1;else throw new Error(`Tried to create degenerate segment at [${t.x}, ${t.y}]`);const x=new Ps(l,!0),C=new Ps(c,!1);return new Jd(x,C,[a],[y])}replaceRightSE(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){const t=this.leftSE.point.y,i=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t<i?t:i},ur:{x:this.rightSE.point.x,y:t>i?t:i}}}vector(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}isAnEndpoint(t){return t.x===this.leftSE.point.x&&t.y===this.leftSE.point.y||t.x===this.rightSE.point.x&&t.y===this.rightSE.point.y}comparePoint(t){if(this.isAnEndpoint(t))return 0;const i=this.leftSE.point,a=this.rightSE.point,l=this.vector();if(i.x===a.x)return t.x===i.x?0:t.x<i.x?1:-1;const c=(t.y-i.y)/l.y,y=i.x+c*l.x;if(t.x===y)return 0;const n=(t.x-i.x)/l.x,x=i.y+n*l.y;return t.y===x?0:t.y<x?-1:1}getIntersection(t){const i=this.bbox(),a=t.bbox(),l=xx(i,a);if(l===null)return null;const c=this.leftSE.point,y=this.rightSE.point,n=t.leftSE.point,x=t.rightSE.point,C=l1(i,n)&&this.comparePoint(n)===0,k=l1(a,c)&&t.comparePoint(c)===0,O=l1(i,x)&&this.comparePoint(x)===0,B=l1(a,y)&&t.comparePoint(y)===0;if(k&&C)return B&&!O?y:!B&&O?x:null;if(k)return O&&c.x===x.x&&c.y===x.y?null:c;if(C)return B&&y.x===n.x&&y.y===n.y?null:n;if(B&&O)return null;if(B)return y;if(O)return x;const L=fG(c,this.vector(),n,t.vector());return L===null||!l1(l,L)?null:ng.round(L.x,L.y)}split(t){const i=[],a=t.events!==void 0,l=new Ps(t,!0),c=new Ps(t,!1),y=this.rightSE;this.replaceRightSE(c),i.push(c),i.push(l);const n=new Jd(l,y,this.rings.slice(),this.windings.slice());return Ps.comparePoints(n.leftSE.point,n.rightSE.point)>0&&n.swapEvents(),Ps.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),a&&(l.checkForConsuming(),c.checkForConsuming()),i}swapEvents(){const t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let i=0,a=this.windings.length;i<a;i++)this.windings[i]*=-1}consume(t){let i=this,a=t;for(;i.consumedBy;)i=i.consumedBy;for(;a.consumedBy;)a=a.consumedBy;const l=Jd.compare(i,a);if(l!==0){if(l>0){const c=i;i=a,a=c}if(i.prev===a){const c=i;i=a,a=c}for(let c=0,y=a.rings.length;c<y;c++){const n=a.rings[c],x=a.windings[c],C=i.rings.indexOf(n);C===-1?(i.rings.push(n),i.windings.push(x)):i.windings[C]+=x}a.rings=null,a.windings=null,a.consumedBy=i,a.leftSE.consumedBy=i.leftSE,a.rightSE.consumedBy=i.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{const t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;const t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};const i=this._afterState.rings,a=this._afterState.windings,l=this._afterState.multiPolys;for(let n=0,x=this.rings.length;n<x;n++){const C=this.rings[n],k=this.windings[n],O=i.indexOf(C);O===-1?(i.push(C),a.push(k)):a[O]+=k}const c=[],y=[];for(let n=0,x=i.length;n<x;n++){if(a[n]===0)continue;const C=i[n],k=C.poly;if(y.indexOf(k)===-1)if(C.isExterior)c.push(k);else{y.indexOf(k)===-1&&y.push(k);const O=c.indexOf(C.poly);O!==-1&&c.splice(O,1)}}for(let n=0,x=c.length;n<x;n++){const C=c[n].multiPoly;l.indexOf(C)===-1&&l.push(C)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;const t=this.beforeState().multiPolys,i=this.afterState().multiPolys;switch(sc.type){case"union":{const a=t.length===0,l=i.length===0;this._isInResult=a!==l;break}case"intersection":{let a,l;t.length<i.length?(a=t.length,l=i.length):(a=i.length,l=t.length),this._isInResult=l===sc.numMultiPolys&&a<l;break}case"xor":{const a=Math.abs(t.length-i.length);this._isInResult=a%2===1;break}case"difference":{const a=l=>l.length===1&&l[0].isSubject;this._isInResult=a(t)!==a(i);break}default:throw new Error(`Unrecognized operation type found ${sc.type}`)}return this._isInResult}}class iC{constructor(t,i,a){if(!Array.isArray(t)||t.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=i,this.isExterior=a,this.segments=[],typeof t[0][0]!="number"||typeof t[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const l=ng.round(t[0][0],t[0][1]);this.bbox={ll:{x:l.x,y:l.y},ur:{x:l.x,y:l.y}};let c=l;for(let y=1,n=t.length;y<n;y++){if(typeof t[y][0]!="number"||typeof t[y][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let x=ng.round(t[y][0],t[y][1]);x.x===c.x&&x.y===c.y||(this.segments.push(Jd.fromRing(c,x,this)),x.x<this.bbox.ll.x&&(this.bbox.ll.x=x.x),x.y<this.bbox.ll.y&&(this.bbox.ll.y=x.y),x.x>this.bbox.ur.x&&(this.bbox.ur.x=x.x),x.y>this.bbox.ur.y&&(this.bbox.ur.y=x.y),c=x)}(l.x!==c.x||l.y!==c.y)&&this.segments.push(Jd.fromRing(c,l,this))}getSweepEvents(){const t=[];for(let i=0,a=this.segments.length;i<a;i++){const l=this.segments[i];t.push(l.leftSE),t.push(l.rightSE)}return t}}class mG{constructor(t,i){if(!Array.isArray(t))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new iC(t[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let a=1,l=t.length;a<l;a++){const c=new iC(t[a],this,!1);c.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=c.bbox.ll.x),c.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=c.bbox.ll.y),c.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=c.bbox.ur.x),c.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=c.bbox.ur.y),this.interiorRings.push(c)}this.multiPoly=i}getSweepEvents(){const t=this.exteriorRing.getSweepEvents();for(let i=0,a=this.interiorRings.length;i<a;i++){const l=this.interiorRings[i].getSweepEvents();for(let c=0,y=l.length;c<y;c++)t.push(l[c])}return t}}class nC{constructor(t,i){if(!Array.isArray(t))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof t[0][0][0]=="number"&&(t=[t])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(let a=0,l=t.length;a<l;a++){const c=new mG(t[a],this);c.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=c.bbox.ll.x),c.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=c.bbox.ll.y),c.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=c.bbox.ur.x),c.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=c.bbox.ur.y),this.polys.push(c)}this.isSubject=i}getSweepEvents(){const t=[];for(let i=0,a=this.polys.length;i<a;i++){const l=this.polys[i].getSweepEvents();for(let c=0,y=l.length;c<y;c++)t.push(l[c])}return t}}class Yb{static factory(t){const i=[];for(let a=0,l=t.length;a<l;a++){const c=t[a];if(!c.isInResult()||c.ringOut)continue;let y=null,n=c.leftSE,x=c.rightSE;const C=[n],k=n.point,O=[];for(;y=n,n=x,C.push(n),n.point!==k;)for(;;){const B=n.getAvailableLinkedEvents();if(B.length===0){const G=C[0].point,Q=C[C.length-1].point;throw new Error(`Unable to complete output ring starting at [${G.x}, ${G.y}]. Last matching segment found ends at [${Q.x}, ${Q.y}].`)}if(B.length===1){x=B[0].otherSE;break}let L=null;for(let G=0,Q=O.length;G<Q;G++)if(O[G].point===n.point){L=G;break}if(L!==null){const G=O.splice(L)[0],Q=C.splice(G.index);Q.unshift(Q[0].otherSE),i.push(new Yb(Q.reverse()));continue}O.push({index:C.length,point:n.point});const V=n.getLeftmostComparator(y);x=B.sort(V)[0].otherSE;break}i.push(new Yb(C))}return i}constructor(t){this.events=t;for(let i=0,a=t.length;i<a;i++)t[i].segment.ringOut=this;this.poly=null}getGeom(){let t=this.events[0].point;const i=[t];for(let C=1,k=this.events.length-1;C<k;C++){const O=this.events[C].point,B=this.events[C+1].point;YF(O,t,B)!==0&&(i.push(O),t=O)}if(i.length===1)return null;const a=i[0],l=i[1];YF(a,t,l)===0&&i.shift(),i.push(i[0]);const c=this.isExteriorRing()?1:-1,y=this.isExteriorRing()?0:i.length-1,n=this.isExteriorRing()?i.length:-1,x=[];for(let C=y;C!=n;C+=c)x.push([i[C].x,i[C].y]);return x}isExteriorRing(){if(this._isExteriorRing===void 0){const t=this.enclosingRing();this._isExteriorRing=t?!t.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let t=this.events[0];for(let l=1,c=this.events.length;l<c;l++){const y=this.events[l];Ps.compare(t,y)>0&&(t=y)}let i=t.segment.prevInResult(),a=i?i.prevInResult():null;for(;;){if(!i)return null;if(!a)return i.ringOut;if(a.ringOut!==i.ringOut)return a.ringOut.enclosingRing()!==i.ringOut?i.ringOut:i.ringOut.enclosingRing();i=a.prevInResult(),a=i?i.prevInResult():null}}}class oC{constructor(t){this.exteriorRing=t,t.poly=this,this.interiorRings=[]}addInterior(t){this.interiorRings.push(t),t.poly=this}getGeom(){const t=[this.exteriorRing.getGeom()];if(t[0]===null)return null;for(let i=0,a=this.interiorRings.length;i<a;i++){const l=this.interiorRings[i].getGeom();l!==null&&t.push(l)}return t}}class gG{constructor(t){this.rings=t,this.polys=this._composePolys(t)}getGeom(){const t=[];for(let i=0,a=this.polys.length;i<a;i++){const l=this.polys[i].getGeom();l!==null&&t.push(l)}return t}_composePolys(t){const i=[];for(let a=0,l=t.length;a<l;a++){const c=t[a];if(!c.poly)if(c.isExteriorRing())i.push(new oC(c));else{const y=c.enclosingRing();y.poly||i.push(new oC(y)),y.poly.addInterior(c)}}return i}}class _G{constructor(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jd.compare;this.queue=t,this.tree=new N6(i),this.segments=[]}process(t){const i=t.segment,a=[];if(t.consumedBy)return t.isLeft?this.queue.remove(t.otherSE):this.tree.remove(i),a;const l=t.isLeft?this.tree.add(i):this.tree.find(i);if(!l)throw new Error(`Unable to find segment #${i.id} [${i.leftSE.point.x}, ${i.leftSE.point.y}] -> [${i.rightSE.point.x}, ${i.rightSE.point.y}] in SweepLine tree.`);let c=l,y=l,n,x;for(;n===void 0;)c=this.tree.prev(c),c===null?n=null:c.key.consumedBy===void 0&&(n=c.key);for(;x===void 0;)y=this.tree.next(y),y===null?x=null:y.key.consumedBy===void 0&&(x=y.key);if(t.isLeft){let C=null;if(n){const O=n.getIntersection(i);if(O!==null&&(i.isAnEndpoint(O)||(C=O),!n.isAnEndpoint(O))){const B=this._splitSafely(n,O);for(let L=0,V=B.length;L<V;L++)a.push(B[L])}}let k=null;if(x){const O=x.getIntersection(i);if(O!==null&&(i.isAnEndpoint(O)||(k=O),!x.isAnEndpoint(O))){const B=this._splitSafely(x,O);for(let L=0,V=B.length;L<V;L++)a.push(B[L])}}if(C!==null||k!==null){let O=null;C===null?O=k:k===null?O=C:O=Ps.comparePoints(C,k)<=0?C:k,this.queue.remove(i.rightSE),a.push(i.rightSE);const B=i.split(O);for(let L=0,V=B.length;L<V;L++)a.push(B[L])}a.length>0?(this.tree.remove(i),a.push(t)):(this.segments.push(i),i.prev=n)}else{if(n&&x){const C=n.getIntersection(x);if(C!==null){if(!n.isAnEndpoint(C)){const k=this._splitSafely(n,C);for(let O=0,B=k.length;O<B;O++)a.push(k[O])}if(!x.isAnEndpoint(C)){const k=this._splitSafely(x,C);for(let O=0,B=k.length;O<B;O++)a.push(k[O])}}}this.tree.remove(i)}return a}_splitSafely(t,i){this.tree.remove(t);const a=t.rightSE;this.queue.remove(a);const l=t.split(i);return l.push(a),t.consumedBy===void 0&&this.tree.add(t),l}}const rC=typeof process<"u"&&HR.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,yG=typeof process<"u"&&HR.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6;class bG{run(t,i,a){sc.type=t,ng.reset();const l=[new nC(i,!0)];for(let O=0,B=a.length;O<B;O++)l.push(new nC(a[O],!1));if(sc.numMultiPolys=l.length,sc.type==="difference"){const O=l[0];let B=1;for(;B<l.length;)xx(l[B].bbox,O.bbox)!==null?B++:l.splice(B,1)}if(sc.type==="intersection")for(let O=0,B=l.length;O<B;O++){const L=l[O];for(let V=O+1,G=l.length;V<G;V++)if(xx(L.bbox,l[V].bbox)===null)return[]}const c=new N6(Ps.compare);for(let O=0,B=l.length;O<B;O++){const L=l[O].getSweepEvents();for(let V=0,G=L.length;V<G;V++)if(c.insert(L[V]),c.size>rC)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big).")}const y=new _G(c);let n=c.size,x=c.pop();for(;x;){const O=x.key;if(c.size===n){const L=O.segment;throw new Error(`Unable to pop() ${O.isLeft?"left":"right"} SweepEvent [${O.point.x}, ${O.point.y}] from segment #${L.id} [${L.leftSE.point.x}, ${L.leftSE.point.y}] -> [${L.rightSE.point.x}, ${L.rightSE.point.y}] from queue.`)}if(c.size>rC)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big).");if(y.segments.length>yG)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments).");const B=y.process(O);for(let L=0,V=B.length;L<V;L++){const G=B[L];G.consumedBy===void 0&&c.insert(G)}n=c.size,x=c.pop()}ng.reset();const C=Yb.factory(y.segments);return new gG(C).getGeom()}}const sc=new bG,vG=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return sc.run("union",e,i)},xG=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return sc.run("intersection",e,i)},wG=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return sc.run("xor",e,i)},FG=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return sc.run("difference",e,i)};var aC={union:vG,intersection:xG,xor:wG,difference:FG};function CG(e,t={}){if(t=t||{},!UR(t))throw new Error("options is invalid");const{propertyName:i}=t;ZU(e,"Polygon","dissolve");const a=[];if(i){const l={};NU(e,function(y){y.properties&&(Object.prototype.hasOwnProperty.call(l,y.properties[i])||(l[y.properties[i]]=[]),l[y.properties[i]].push(y))});const c=Object.keys(l);for(let y=0;y<c.length;y++){const n=$F(aC.union.apply(null,l[c[y]].map(function(x){return x.geometry.coordinates})));n&&n.properties&&(n.properties[i]=c[y],a.push(n))}}else return qF($F(aC.union.apply(null,e.features.map(function(l){return l.geometry.coordinates}))));return qF($R(a))}var wx=CG;const Rr={mapCenter:[-96.5,40],mapZoom:3.5,minZoom:3,mapboxToken:"pk.eyJ1IjoidG5jbWFwYm94IiwiYSI6ImNsenN5anBucjFwbHkya3B5azZ5ZnlmeDcifQ.E6aU0uJcgNvPTfSzXi4nsw",mapStyle:"mapbox://styles/tncmapbox/clms1lrtx056u01p91cfy6hqr",pmTilesUrl:"https://d2jsk6r4lhdqns.cloudfront.net/pmtiles/",pmTiles:{counties:"usa_counties_joined_20250507/{z}/{x}/{y}.mvt",huc12:"usa_huc12_0312_joined_20250507/{z}/{x}/{y}.mvt"},drawZoomThreshold:6,mapBasemapOptions:[{label:"Landscape/Topography",value:"landscape"},{label:"Satellite",value:"satellite"}],mapBasemapSelected:{label:"Landscape/Topography",value:"landscape"},mapProjectionOptions:[{label:"Mercator",value:"mercator"},{label:"Albers",value:"albers"},{label:"Globe",value:"globe"},{label:"Equal Earth",value:"equalEarth"}],mapProjectionSelected:"albers",mapSummaryLevelOptions:[{label:"Counties",value:"counties"},{label:"HUC12 Watersheds",value:"huc12"}],mapSummaryLevelSelected:{label:"Counties",value:"counties"},mapSatelliteOpacity:0,vectorLayers:[{id:"vector-tile-layer",source:"vector-tile-source","source-layer":"layer",type:"fill",paint:{"fill-color":"#088","fill-opacity":.8}}],mapSymbology:{carbon:{min:"#EFF3F3",max:"#73684b",steps:["#EFF3F3","#D6D7D1","#BDBBB0","#A5A08E","#8C846D","#73684B"],type:"choropleth"},opportunity:{min:"#EFF3F3",max:"#56A198",steps:["#EFF3F3","#D0E3E1","#B2D2CF","#93C2BC","#75B1AA","#56A198"],type:"choropleth"},cobenefits:{min:"#F3FAFF",max:"#3376A5",steps:["#F3FAFF","#CDE0ED","#A6C5DB","#80ABC9","#5990B7","#3376A5"],type:"choropleth"},threats:{min:"#FFF9F4",max:"#f89996",steps:["#FFF9F4","#F6DCD7","#ECBFBB","#E3A39E","#D98682","#D06965"],type:"choropleth"}},mapLayerOptions:[{category:"Opportunity",color:"#56A198",items:[{label:"Unsecured Forests",value:"c_unprot_for_extent",type:"choropleth",symbology:"opportunity",units:"% Unsecured Forest",orientation:"low-high",display:{counties:"breaks",huc12:"breaks"}},{label:"Land Cost",value:"land_cost",type:"choropleth",symbology:"opportunity",units:"$/Acre",orientation:"low-high",display:{counties:"breaks",huc12:"breaks"}},{label:"Forest Legacy Areas",value:"opp_forest_legacy_areas",type:"vector",symbology:"opportunity",units:"% Forest Legacy Areas Overlap",orientation:"low-high",display:{counties:"bounds",huc12:"bounds"}}]},{category:"Forest Carbon",color:"#73684b",items:[{label:"Unsecured forest carbon",value:"c_unprot_for_c_dist",type:"choropleth",symbology:"carbon",units:"tCO2e/ac",orientation:"low-high",display:{counties:"breaks",huc12:"breaks"}},{label:"Anticipated emissions from forest conversion over 25 years",value:"afc_mean_25_acre",type:"choropleth",symbology:"carbon",units:"tCO2e / ac",orientation:"low-high",display:{counties:"breaks",huc12:"breaks"}},{label:"ROI: $ per 1 ton CO2e from anticipated emissions over 25 years of conversion",value:"usd_per_ton_c_forest_25_mean",type:"choropleth",symbology:"carbon",units:"tCO2e/ac",orientation:"high-low",display:{counties:"breaks",huc12:"breaks"},axisType:"Ordinal",axisLabels:{min:"High",max:"Low"}}]},{category:"Co-benefits",color:"#3376A5",items:[{label:"Resilient and Connected Network",value:"cob_rcn_1",type:"choropleth",symbology:"cobenefits",units:"% Resilient and Connected Network",orientation:"low-high",display:{counties:"breaks",huc12:"breaks"}},{label:"Forest Water Provision",value:"cob_f2f_imp_r",type:"choropleth",symbology:"cobenefits",units:"Index",orientation:"low-high",display:{counties:"breaks",huc12:"breaks"},axisType:"Ordinal",axisLabels:{min:"Low",max:"High"}}]},{category:"Conversion Threats & Protection",color:"#d9534f",items:[{label:"Private Unprotected %",value:"private_unprotected_percent",type:"choropleth",symbology:"threats",units:"% Unprotected Private Lands",orientation:"low-high",display:{counties:"breaks",huc12:"breaks"}},{label:"Historic Conversion, Mean Annual",value:"t_conv_past_all_mean_p",type:"choropleth",symbology:"threats",units:"Avg Annual Forest Conversion %, 1990-2017",orientation:"low-high",display:{counties:"breaks",huc12:"breaks"}},{label:"Historic Conversion, Max Annual",value:"t_conv_past_all_max_p",type:"choropleth",symbology:"threats",units:"Max Annual Forest Conversion %, 1990-2017",orientation:"low-high",display:{counties:"breaks",huc12:"breaks"}},{label:"Conversion Potential Index",value:"t_cpi_i",type:"choropleth",symbology:"threats",units:"",orientation:"low-high",display:{counties:"breaks",huc12:"breaks"},axisType:"Ordinal",axisLabels:{min:"Low",max:"High"}}]},{category:"Advanced",color:"#d9534f",items:[{label:"Unsecured forest carbon, including crop albedo",value:"c_unprot_for_c_ac_crop_adj",type:"choropleth",symbology:"carbon",units:"tCO2e/ac",orientation:"low-high",display:{counties:"breaks",huc12:"breaks"}},{label:"Unsecured forest carbon, including development albedo",value:"c_unprot_for_c_ac_dev_adj",type:"choropleth",symbology:"carbon",units:"tCO2e/ac",orientation:"low-high",display:{counties:"breaks",huc12:"breaks"}},{label:"Albedo - conversion to crop",value:"c_albedo2crop",type:"choropleth",symbology:"carbon",units:"tCO2e/ac",orientation:"low-high",display:{counties:"breaks",huc12:"breaks"}},{label:"Albedo - conversion to development",value:"c_albedo2dev",type:"choropleth",symbology:"carbon",units:"tCO2e/ac",orientation:"low-high",display:{counties:"breaks",huc12:"breaks"}}]}]},sC={c_albedo2crop:{breaks:[-188,-97,-69,-52,-37.4,-32,-29,-23,-18,-12,-6,-4,-2,-1,-0,0],min:-188,max:0},c_albedo2dev:{breaks:[-104,-62,-41,-24,-14,-11,-9,-6,-4,-2,-1,0,0,2,5,11],min:-104,max:11},c_unprot_for_c_dist:{breaks:[0,.1,.6,1.9,6.8,11.1,16.7,33.62,52.4,74.6,109.2,119.4,145.36,166.8,183.784,271.6],min:0,max:271.6},c_unprot_for_c:{breaks:[0,.1,.7,2.2,7.5,12,18,35.92,56.3,82.08,120.6,133.9,168.84,195.1,213.952,330.8],min:0,max:330.8},c_unprot_for_extent:{breaks:[0,.1,.5,1.5,4.5,7,10,17.6,26,37.28,52.1,56.94,67.72,76.16,84.084,97.3],min:0,max:97.3},cob_f2f_imp_r:{breaks:[0,0,0,5.5,20.56,28.6,36.1,47.5,56.2,65.48,78.4,81.8,89.4,93.4,96.2,99],min:0,max:99},cob_rcn_1:{breaks:[0,0,.2,.9,3.2,4.5,6.1,9.4,14.8,21.8,35.7,41.3,55.02,68.46,81.236,99.9],min:0,max:99.9},cob_rcn_resil_cls:{breaks:[-3448.1,-2614.556,-1595.4,-1207.54,-818.9,-691.1,-571.24,-359.76,-178.2,-.82,261.5,358.98,590.12,764.04,995.236,1485.9],min:-3448.1,max:1485.9},opp_forest_legacy_areas:{breaks:[0,0,0,0,0,0,0,.7,15.5,39.18,78.5,94.7,100,100,100,100],min:0,max:100},land_cost:{breaks:[18,201.98,402.95,643.9,1121,1356.75,1597,2048,2724,3788.6,6342,8073.8,20761.6,61103.8,196869.34,12282139],min:18,max:12282139},private_unprotected_percent:{breaks:[0,0,.211,.449,.701,.767,.814,.882,.921,.949,.975,.982,.994,.998,1,1],min:0,max:1},t_conv_past_all_max_p:{breaks:[0,.01,.01,.02,.05,.06,.08,.11,.16,.21,.33,.38,.63,.95,1.627,13.63],min:0,max:13.63},t_conv_past_all_mean_p:{breaks:[0,.01,.01,.01,.02,.02,.03,.04,.05,.07,.11,.13,.2,.29,.46,2.6],min:0,max:2.6},t_conv_past_all_min_p:{breaks:[0,0,0,0,0,.01,.01,.01,.01,.01,.02,.03,.05,.07,.1,.39],min:0,max:.39},t_cpi_i:{breaks:[15.5,38.316,44.5,48.68,54.3,56.6,58.6,62.5,66.1,69.6,74.7,76.5,80.6,84.1,87.384,96.1],min:15.5,max:96.1},t_clark_vuln_2050:{breaks:[0,0,0,1,5,7,10,15,20,26,34,36,45,56,63,80],min:0,max:80},t_rpa_megaregion_1:{breaks:[0,0,0,0,0,0,0,0,0,0,50.3,77.44,100,100,100,100],min:0,max:100},c_unprot_for_c_ac:{breaks:[0,50,80,112,157,169.75,177,187,196,203,218,223,237,248,267,500],min:0,max:500},afc_mean:{breaks:[0,12.16,75,278.8,954,1725,2636.2,5305.6,9117,15048.8,30279,38618.4,60636.8,82205.8,114601.48,614641],min:0,max:614641},afc_max:{breaks:[0,37.16,199.4,680.6,2752.4,4907,7710.6,16214.4,26480,41730.8,77924,99430,156596.2,222946.6,321677.44,1798393],min:0,max:1798393},afc_mean_25:{breaks:[0,300.28,1868.6,6964.8,23859,43114,65899.6,132648.2,227932,376219.6,756983,965455.4,1515918,20551476e-1,286504236e-2,15366020],min:0,max:15366020},afc_max_25:{breaks:[0,933.88,4990.2,17013,68808.4,122664,192758.4,405353.2,662010,10432708e-1,1948106,24857536e-1,39148972e-1,55736536e-1,804194356e-2,44959837],min:0,max:44959837},afc_mean_25_acre:{breaks:[0,0,.002,.008,.037,.078,.15,.364,.663,1.164,2.256,2.732,4.155,5.452,7.771,22.295],min:0,max:22.295},afc_mean_25_acre_crop_adj:{breaks:[0,.001,.003,.009,.042,.083,.162,.381,.685,1.201,2.268,2.738,4.174,5.458,7.775,22.295],min:-0,max:22.295},afc_mean_25_acre_dev_adj:{breaks:[0,.001,.003,.009,.042,.083,.162,.381,.685,1.201,2.268,2.738,4.174,5.458,7.775,22.295],min:0,max:22.295},afc_max_25_acre:{breaks:[0,.001,.005,.019,.111,.229,.447,1.098,1.935,3.261,6.156,7.34,10.909,15.049,21.082,65.234],min:0,max:65.234},afc_mean_25_1m_usd_acre:{breaks:[0,0,0,0,0,0,0,0,0,.001,.002,.003,.006,.009,.014,.067],min:0,max:.067},afc_max_25_1m_usd_acre:{breaks:[0,0,0,0,0,0,0,.001,.001,.002,.006,.008,.016,.026,.044,.344],min:0,max:.344},usd_per_ton_c_25_mean:{breaks:[0,0,303.5,520.5,886.9,1197,1605.7,2737.1,4741.2,8203,27302.25,43320.5,128826.1,328580.45,14999275e-1,25431637892e-1],min:0,max:25431637892e-1},usd_per_ton_c_25_max:{breaks:[0,0,92.95,184.9,353.8,462.9,623.1,1036.3,1788.1,3214.6,9613.6,15344.3,41089.6,112822.4,436370.5,3734265817e-1],min:0,max:3734265817e-1},usd_per_ton_c_forest_25_mean:{breaks:[0,151,227.65,344.5,526.6,631.4,754.4,1044.4,1416,1910.2,3034.15,3606.8,6400.5,12232.15,36039.1,20513359e-1],min:0,max:20513359e-1},usd_per_ton_c_forest_25_max:{breaks:[0,41.2,68.35,107.2,187,222.9,271.4,374.4,513.9,703.2,1181.2,1464.9,2698.3,4900.4,13769.8,921422.3],min:0,max:921422.3},c_albedo2crop_adj:{breaks:[-.029,-.002,-.001,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,0,0],min:-.0288761706555671,max:0},c_albedo2dev_adj:{breaks:[-.023,-.001,-0,-0,-0,-0,-0,-0,-0,-0,-0,0,0,0,0,.027],min:-.0232558139534883,max:.027027027027027},c_unprot_for_c_ac_crop_adj:{breaks:[0,0,1,2,7,12,17,34.6,54,76,110,120,146,167,184,272],min:-0,max:272},c_unprot_for_c_ac_dev_adj:{breaks:[0,0,1,2,7,12,17,35,54,76,110,120,146,167,184,272],min:0,max:272},c_unprot_for_c_for_ac_crop_adj:{breaks:[0,50,80,112,157,169.75,177,187,196,203,218,223,237,248,267,500],min:-0,max:500},c_unprot_for_c_for_ac_dev_adj:{breaks:[0,50,80,112,157,169.75,177,187,196,203,218,223,237,248,267,500],min:0,max:500},afc_mean_25_crop_adj:{breaks:[0,673.22,2588.7,8098.6,25827.2,46088,68777.9,139773.8,233218.5,383072.6,766100.25,971651.4,15183099e-1,20690024e-1,287792658e-2,15366013],min:-0,max:15366013},afc_mean_25_dev_adj:{breaks:[0,673.22,2588.7,8098.6,25827.2,46088,68777.9,139773.8,233219,383072.6,766100.25,971652.4,15183109e-1,20690043e-1,287792774e-2,15366015],min:0,max:15366015},usd_per_ton_c_forest_25_mean_crop:{breaks:[32,154.216,229.915,345.7,527.28,632.525,755.76,1046.1,1418.95,1911.12,3037.45,3607.76,6401.85,12235.255,36046.344,20513359e-1],min:32,max:20513359e-1},usd_per_ton_c_forest_25_mean_dev:{breaks:[32,154.216,229.915,345.7,527.28,632.525,755.76,1046.1,1418.95,1911.12,3037.375,3607.76,6401.85,12235.255,36046.25,20513359e-1],min:32,max:20513359e-1}},cC={c_albedo2crop:{breaks:[-307,-161,-120,-84,-51,-41,-34,-23,-15,-8,-2,-1,-0,-0,-0,6],min:-307,max:6},c_albedo2dev:{breaks:[-200,-110,-83,-53,-24,-18,-13,-7,-4,-2,0,0,-0,1,4,20],min:-200,max:20},c_unprot_for_c_dist:{breaks:[0,0,0,0,.2,.6,1.3,4.6,13.8,32.4,80.4,100.5,144.6,172.3,200.5,561.4],min:0,max:561.4},c_unprot_for_c:{breaks:[0,0,0,0,.3,.7,1.5,5.2,15.1,35.3,88.7,111.5,163,199.2,234.7,614.2],min:0,max:614.2},c_unprot_for_extent:{breaks:[0,0,0,0,.2,.6,1.2,3.7,9.4,19.4,42.1,51.1,69.8,81.3,90.7,100],min:0,max:100},cob_f2f_imp_r:{breaks:[0,0,0,0,3,9,15,27,39,51,69,75,87,93,97,100],min:0,max:100},cob_rcn_1:{breaks:[0,0,0,0,.2,.7,1.8,7,17.2,31.9,60.2,70.7,91.7,98.8,100,100],min:0,max:100},cob_rcn_resil_cls:{breaks:[-3501,-2293.44,-1542.9,-1130.4,-692.3,-527.6,-380.8,-126.4,107.1,330,668.475,792.8,1091.25,1310.975,1581.9,3191.8],min:-3501,max:3191.8},opp_forest_legacy_areas:{breaks:[0,0,0,0,0,0,0,0,0,38.2,100,100,100,100,100,100],min:0,max:100},land_cost:{breaks:[0,8,29,92,288,413,551,875,1241,1730,3208.5,4069,8082.8,22087.8,88090.44,14077632],min:0,max:14077632},private_unprotected_percent:{breaks:[0,0,0,.002,.141,.301,.461,.717,.868,.944,.991,.997,1,1,1,1],min:0,max:1},t_conv_past_all_max_p:{breaks:[0,.01,.01,.01,.02,.02,.03,.05,.07,.11,.22,.27,.46,.7,1.1,9.17],min:0,max:9.17},t_conv_past_all_mean_p:{breaks:[0,.01,.01,.01,.01,.01,.01,.02,.02,.04,.07,.09,.14,.21,.3,1.54],min:0,max:1.54},t_conv_past_all_min_p:{breaks:[0,0,0,0,0,0,0,.01,.01,.01,.01,.02,.04,.06,.08,.39],min:0,max:.39},t_cpi_i:{breaks:[0,24.8,32.305,39.7,48,50.9,53.7,58.5,62.7,66.6,73,75.5,80.9,84.9,88.6,97.6],min:0,max:97.6},t_clark_vuln_2050:{breaks:[0,0,0,1,5,8,11,16,23,29,41,47,61,71.05,80,99],min:0,max:99},t_rpa_megaregion_1:{breaks:[0,0,0,0,0,0,0,0,0,0,0,24.7,100,100,100,100],min:0,max:100},c_unprot_for_c_ac:{breaks:[0,33,42,57,102,123,138,166,181,193,210,217,236,255,339,794],min:0,max:794},afc_mean:{breaks:[0,0,0,0,1,2,5,18,67,216,797,1202,2664.8,4199.9,6350,44668],min:0,max:44668},afc_max:{breaks:[0,0,0,0,1,4,9,42,171,578.2,2154,3217,7035.6,11059.9,17089.36,130696],min:0,max:130696},afc_mean_25:{breaks:[0,0,0,0,18,49,113,459.8,1684,5411,19915,30061.2,66617.2,104995.2,158749.52,1116704],min:0,max:1116704},afc_max_25:{breaks:[0,0,0,0,32,97,235,1044,4264,14459.4,53861,80424.8,175885.6,276489.2,427232.68,3267393],min:0,max:3267393},afc_mean_25_acre:{breaks:[0,0,0,0,.001,.002,.005,.021,.081,.28,.981,1.484,3.099,4.582,6.51,41.047],min:0,max:41.047},afc_mean_25_acre_crop_adj:{breaks:[0,0,.001,.001,.006,.012,.021,.066,.203,.465,1.318,1.862,3.447,4.895,6.89,41.045],min:-0,max:41.045},afc_mean_25_acre_dev_adj:{breaks:[0,0,.001,.001,.006,.012,.021,.066,.203,.465,1.318,1.862,3.447,4.895,6.89,41.046],min:-0,max:41.046},afc_max_25_acre:{breaks:[0,0,0,0,.001,.004,.01,.047,.202,.751,2.67,4.015,8.122,11.902,17.444,120.1],min:0,max:120.1},afc_mean_25_1m_usd_acre:{breaks:[0,0,0,0,0,0,.001,.003,.007,.014,.041,.058,.125,.237,.545,1750.544],min:0,max:1750.544},afc_max_25_1m_usd_acre:{breaks:[0,0,0,0,.001,.001,.002,.006,.016,.033,.098,.14,.314,.602,1.452,3283.721],min:0,max:3283.721},usd_per_ton_c_25_mean:{breaks:[0,0,6.1,216.82,569.4,790,1096.46,2090.4,4076.4,8491.02,34324.1,59983.68,230915.82,642169.52,2069598332e-3,94533282061e-1],min:0,max:94533282061e-1},usd_per_ton_c_25_max:{breaks:[0,0,2.6,83.02,235.2,327.8,459.2,907.8,1759.6,3575.06,14077.7,24195.7,90720.6,272928.62,907767.516,2576850678],min:0,max:2576850678},usd_per_ton_c_forest_25_mean:{breaks:[0,39.6,109.66,199,370.8,462.6,566.36,819.68,1147.9,1575.8,2608.4,3188.66,5699.2,10200.12,25965.948,66201658e-1],min:0,max:66201658e-1},usd_per_ton_c_forest_25_max:{breaks:[0,14.3,38.1,72.7,142.24,180.6,222.4,318.78,457.5,659.2,1144.4,1450,2915.84,5371.8,12075.24,44245443e-1],min:0,max:44245443e-1},c_albedo2crop_adj:{breaks:[-25.75,-.64,-.143,-.038,-.011,-.008,-.007,-.005,-.004,-.003,-.002,-.002,-.001,0,0,.667],min:-25.75,max:.6666666666666666},c_albedo2dev_adj:{breaks:[-12.25,-.477,-.104,-.025,-.007,-.005,-.004,-.002,-.001,-.001,-0,0,0,0,0,.667],min:-12.25,max:.6666666666666666},c_unprot_for_c_ac_crop_adj:{breaks:[0,0,0,0,1,3,5,12,26,48,95,112,152,178,204,561],min:-0,max:561},c_unprot_for_c_ac_dev_adj:{breaks:[0,0,0,0,2,3,5,12,26,48,95,112,152,178,204,561],min:-0,max:561},c_unprot_for_c_for_ac_crop_adj:{breaks:[-15,33,42,57,102,123,138,166,181,193,210,217,236,255,339,789],min:-15,max:789},c_unprot_for_c_for_ac_dev_adj:{breaks:[-10,33,42,57,102,123,138,166,181,193,210,217,236,255,339,791],min:-10,max:791},afc_mean_25_crop_adj:{breaks:[-2,4,11,32,139,256.75,457,1386.8,4001,9174.2,26592.5,37664.8,75063.2,113665.55,168133.74,1116693],min:-2,max:1116693},afc_mean_25_dev_adj:{breaks:[-2,4,11,32,139,257,457,1386.8,4001.5,9174.2,26592.75,37664.8,75063.9,113666.55,168134.74,1116698],min:-2,max:1116698},usd_per_ton_c_forest_25_mean_crop:{breaks:[-4845,57.996,122.4,209.9,380.2,472.55,577.5,831.6,1161.6,1588.18,2624.1,3205.7,5730.6,10297.91,26117.612,66201658e-1],min:-4845,max:66201658e-1},usd_per_ton_c_forest_25_mean_dev:{breaks:[-900,57.9,122.4,209.9,380.2,472.5,577.48,831.44,1161.7,1588.1,2624,3205.88,5730.6,10296.3,26117.824,66201658e-1],min:-900,max:66201658e-1}},e2=e=>e===null||typeof e>"u"?!0:Object.keys(e).length===0,C3=e=>Math.round(new Blob([JSON.stringify(e)]).size)/1e3,_1=pu("messageStore",()=>{let e=ai([]),t=ai(null);const i={E1:{type:"ERROR",action:"upload",time:new Date}};return{log:e,activeMessage:t,addMessage:l=>{console.log("messageTypes",i);const c={code:l.code,type:i[l.code].type,action:i[l.code].action,message:l.message,time:new Date};console.log("addMessage",l,c),e.value.unshift(c),l.type==="ERROR"&&(t=c,console.log("user agent",window.navigator.userAgent))}}});function EG(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}var Mh=1,Ah=2,Rp=3,SG=4,Fx=5,lC=6378137,TG=6356752314e-3,dC=.0066943799901413165,D1=484813681109536e-20,yi=Math.PI/2,RG=.16666666666666666,PG=.04722222222222222,IG=.022156084656084655,Ai=1e-10,Kr=.017453292519943295,jc=57.29577951308232,bo=Math.PI/4,og=Math.PI*2,pr=3.14159265359,Wa={};Wa.greenwich=0;Wa.lisbon=-9.131906111111;Wa.paris=2.337229166667;Wa.bogota=-74.080916666667;Wa.madrid=-3.687938888889;Wa.rome=12.452333333333;Wa.bern=7.439583333333;Wa.jakarta=106.807719444444;Wa.ferro=-17.666666666667;Wa.brussels=4.367975;Wa.stockholm=18.058277777778;Wa.athens=23.7163375;Wa.oslo=10.722916666667;const kG={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var uC=/[\s_\-\/\(\)]/g;function ru(e,t){if(e[t])return e[t];for(var i=Object.keys(e),a=t.toLowerCase().replace(uC,""),l=-1,c,y;++l<i.length;)if(c=i[l],y=c.toLowerCase().replace(uC,""),y===a)return e[c]}function Cx(e){var t={},i=e.split("+").map(function(n){return n.trim()}).filter(function(n){return n}).reduce(function(n,x){var C=x.split("=");return C.push(!0),n[C[0].toLowerCase()]=C[1],n},{}),a,l,c,y={proj:"projName",datum:"datumCode",rf:function(n){t.rf=parseFloat(n)},lat_0:function(n){t.lat0=n*Kr},lat_1:function(n){t.lat1=n*Kr},lat_2:function(n){t.lat2=n*Kr},lat_ts:function(n){t.lat_ts=n*Kr},lon_0:function(n){t.long0=n*Kr},lon_1:function(n){t.long1=n*Kr},lon_2:function(n){t.long2=n*Kr},alpha:function(n){t.alpha=parseFloat(n)*Kr},gamma:function(n){t.rectified_grid_angle=parseFloat(n)},lonc:function(n){t.longc=n*Kr},x_0:function(n){t.x0=parseFloat(n)},y_0:function(n){t.y0=parseFloat(n)},k_0:function(n){t.k0=parseFloat(n)},k:function(n){t.k0=parseFloat(n)},a:function(n){t.a=parseFloat(n)},b:function(n){t.b=parseFloat(n)},r:function(n){t.a=t.b=parseFloat(n)},r_a:function(){t.R_A=!0},zone:function(n){t.zone=parseInt(n,10)},south:function(){t.utmSouth=!0},towgs84:function(n){t.datum_params=n.split(",").map(function(x){return parseFloat(x)})},to_meter:function(n){t.to_meter=parseFloat(n)},units:function(n){t.units=n;var x=ru(kG,n);x&&(t.to_meter=x.to_meter)},from_greenwich:function(n){t.from_greenwich=n*Kr},pm:function(n){var x=ru(Wa,n);t.from_greenwich=(x||parseFloat(n))*Kr},nadgrids:function(n){n==="@null"?t.datumCode="none":t.nadgrids=n},axis:function(n){var x="ewnsud";n.length===3&&x.indexOf(n.substr(0,1))!==-1&&x.indexOf(n.substr(1,1))!==-1&&x.indexOf(n.substr(2,1))!==-1&&(t.axis=n)},approx:function(){t.approx=!0}};for(a in i)l=i[a],a in y?(c=y[a],typeof c=="function"?c(l):t[c]=l):t[a]=l;return typeof t.datumCode=="string"&&t.datumCode!=="WGS84"&&(t.datumCode=t.datumCode.toLowerCase()),t}var rg=1,WR=2,KR=3,t2=4,ZR=5,$6=-1,MG=/\s/,AG=/[A-Za-z]/,OG=/[A-Za-z84_]/,K2=/[,\]]/,QR=/[\d\.E\-\+]/;function Rl(e){if(typeof e!="string")throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=rg}Rl.prototype.readCharicter=function(){var e=this.text[this.place++];if(this.state!==t2)for(;MG.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case rg:return this.neutral(e);case WR:return this.keyword(e);case t2:return this.quoted(e);case ZR:return this.afterquote(e);case KR:return this.number(e);case $6:return}};Rl.prototype.afterquote=function(e){if(e==='"'){this.word+='"',this.state=t2;return}if(K2.test(e)){this.word=this.word.trim(),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in afterquote yet, index '+this.place)};Rl.prototype.afterItem=function(e){if(e===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=rg;return}if(e==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=rg,this.currentObject=this.stack.pop(),this.currentObject||(this.state=$6);return}};Rl.prototype.number=function(e){if(QR.test(e)){this.word+=e;return}if(K2.test(e)){this.word=parseFloat(this.word),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in number yet, index '+this.place)};Rl.prototype.quoted=function(e){if(e==='"'){this.state=ZR;return}this.word+=e};Rl.prototype.keyword=function(e){if(OG.test(e)){this.word+=e;return}if(e==="["){var t=[];t.push(this.word),this.level++,this.root===null?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,this.state=rg;return}if(K2.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in keyword yet, index '+this.place)};Rl.prototype.neutral=function(e){if(AG.test(e)){this.word=e,this.state=WR;return}if(e==='"'){this.word="",this.state=t2;return}if(QR.test(e)){this.word=e,this.state=KR;return}if(K2.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in neutral yet, index '+this.place)};Rl.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===$6)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function LG(e){var t=new Rl(e);return t.output()}function hC(e,t,i){Array.isArray(t)&&(i.unshift(t),t=null);var a=t?{}:e,l=i.reduce(function(c,y){return yp(y,c),c},a);t&&(e[t]=l)}function yp(e,t){if(!Array.isArray(e)){t[e]=!0;return}var i=e.shift();if(i==="PARAMETER"&&(i=e.shift()),e.length===1){if(Array.isArray(e[0])){t[i]={},yp(e[0],t[i]);return}t[i]=e[0];return}if(!e.length){t[i]=!0;return}if(i==="TOWGS84"){t[i]=e;return}if(i==="AXIS"){i in t||(t[i]=[]),t[i].push(e);return}Array.isArray(i)||(t[i]={});var a;switch(i){case"UNIT":case"PRIMEM":case"VERT_DATUM":t[i]={name:e[0].toLowerCase(),convert:e[1]},e.length===3&&yp(e[2],t[i]);return;case"SPHEROID":case"ELLIPSOID":t[i]={name:e[0],a:e[1],rf:e[2]},e.length===4&&yp(e[3],t[i]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":e[0]=["name",e[0]],hC(t,i,e);return;default:for(a=-1;++a<e.length;)if(!Array.isArray(e[a]))return yp(e,t[i]);return hC(t,i,e)}}var DG=.017453292519943295;function BG(e,t){var i=t[0],a=t[1];!(i in e)&&a in e&&(e[i]=e[a],t.length===3&&(e[i]=t[2](e[i])))}function Mc(e){return e*DG}function jG(e){if(e.type==="GEOGCS"?e.projName="longlat":e.type==="LOCAL_CS"?(e.projName="identity",e.local=!0):typeof e.PROJECTION=="object"?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.AXIS){for(var t="",i=0,a=e.AXIS.length;i<a;++i){var l=[e.AXIS[i][0].toLowerCase(),e.AXIS[i][1].toLowerCase()];l[0].indexOf("north")!==-1||(l[0]==="y"||l[0]==="lat")&&l[1]==="north"?t+="n":l[0].indexOf("south")!==-1||(l[0]==="y"||l[0]==="lat")&&l[1]==="south"?t+="s":l[0].indexOf("east")!==-1||(l[0]==="x"||l[0]==="lon")&&l[1]==="east"?t+="e":(l[0].indexOf("west")!==-1||(l[0]==="x"||l[0]==="lon")&&l[1]==="west")&&(t+="w")}t.length===2&&(t+="u"),t.length===3&&(e.axis=t)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.UNIT.convert&&(e.type==="GEOGCS"?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var c=e.GEOGCS;e.type==="GEOGCS"&&(c=e),c&&(c.DATUM?e.datumCode=c.DATUM.name.toLowerCase():e.datumCode=c.name.toLowerCase(),e.datumCode.slice(0,2)==="d_"&&(e.datumCode=e.datumCode.slice(2)),(e.datumCode==="new_zealand_geodetic_datum_1949"||e.datumCode==="new_zealand_1949")&&(e.datumCode="nzgd49"),(e.datumCode==="wgs_1984"||e.datumCode==="world_geodetic_system_1984")&&(e.PROJECTION==="Mercator_Auxiliary_Sphere"&&(e.sphere=!0),e.datumCode="wgs84"),e.datumCode.slice(-6)==="_ferro"&&(e.datumCode=e.datumCode.slice(0,-6)),e.datumCode.slice(-8)==="_jakarta"&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),c.DATUM&&c.DATUM.SPHEROID&&(e.ellps=c.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),e.ellps.toLowerCase().slice(0,13)==="international"&&(e.ellps="intl"),e.a=c.DATUM.SPHEROID.a,e.rf=parseFloat(c.DATUM.SPHEROID.rf,10)),c.DATUM&&c.DATUM.TOWGS84&&(e.datum_params=c.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),e.datumCode==="ch1903+"&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a);function y(C){var k=e.to_meter||1;return C*k}var n=function(C){return BG(e,C)},x=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Mc],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Mc],["x0","false_easting",y],["y0","false_northing",y],["long0","central_meridian",Mc],["lat0","latitude_of_origin",Mc],["lat0","standard_parallel_1",Mc],["lat1","standard_parallel_1",Mc],["lat2","standard_parallel_2",Mc],["azimuth","Azimuth"],["alpha","azimuth",Mc],["srsCode","name"]];x.forEach(n),!e.long0&&e.longc&&(e.projName==="Albers_Conic_Equal_Area"||e.projName==="Lambert_Azimuthal_Equal_Area")&&(e.long0=e.longc),!e.lat_ts&&e.lat1&&(e.projName==="Stereographic_South_Pole"||e.projName==="Polar Stereographic (variant B)")?(e.lat0=Mc(e.lat1>0?90:-90),e.lat_ts=e.lat1):!e.lat_ts&&e.lat0&&e.projName==="Polar_Stereographic"&&(e.lat_ts=e.lat0,e.lat0=Mc(e.lat0>0?90:-90))}function XR(e){var t=LG(e),i=t.shift(),a=t.shift();t.unshift(["name",a]),t.unshift(["type",i]);var l={};return yp(t,l),jG(l),l}function Ea(e){var t=this;if(arguments.length===2){var i=arguments[1];typeof i=="string"?i.charAt(0)==="+"?Ea[e]=Cx(arguments[1]):Ea[e]=XR(arguments[1]):Ea[e]=i}else if(arguments.length===1){if(Array.isArray(e))return e.map(function(a){Array.isArray(a)?Ea.apply(t,a):Ea(a)});if(typeof e=="string"){if(e in Ea)return Ea[e]}else"EPSG"in e?Ea["EPSG:"+e.EPSG]=e:"ESRI"in e?Ea["ESRI:"+e.ESRI]=e:"IAU2000"in e?Ea["IAU2000:"+e.IAU2000]=e:console.log(e);return}}EG(Ea);function zG(e){return typeof e=="string"}function VG(e){return e in Ea}var NG=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function $G(e){return NG.some(function(t){return e.indexOf(t)>-1})}var UG=["3857","900913","3785","102113"];function GG(e){var t=ru(e,"authority");if(t){var i=ru(t,"epsg");return i&&UG.indexOf(i)>-1}}function HG(e){var t=ru(e,"extension");if(t)return ru(t,"proj4")}function qG(e){return e[0]==="+"}function WG(e){if(zG(e)){if(VG(e))return Ea[e];if($G(e)){var t=XR(e);if(GG(t))return Ea["EPSG:3857"];var i=HG(t);return i?Cx(i):t}if(qG(e))return Cx(e)}else return e}function fC(e,t){e=e||{};var i,a;if(!t)return e;for(a in t)i=t[a],i!==void 0&&(e[a]=i);return e}function Hc(e,t,i){var a=e*t;return i/Math.sqrt(1-a*a)}function Wg(e){return e<0?-1:1}function Bi(e){return Math.abs(e)<=pr?e:e-Wg(e)*og}function dc(e,t,i){var a=e*i,l=.5*e;return a=Math.pow((1-a)/(1+a),l),Math.tan(.5*(yi-t))/a}function ag(e,t){for(var i=.5*e,a,l,c=yi-2*Math.atan(t),y=0;y<=15;y++)if(a=e*Math.sin(c),l=yi-2*Math.atan(t*Math.pow((1-a)/(1+a),i))-c,c+=l,Math.abs(l)<=1e-10)return c;return-9999}function KG(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Hc(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function ZG(e){var t=e.x,i=e.y;if(i*jc>90&&i*jc<-90&&t*jc>180&&t*jc<-180)return null;var a,l;if(Math.abs(Math.abs(i)-yi)<=Ai)return null;if(this.sphere)a=this.x0+this.a*this.k0*Bi(t-this.long0),l=this.y0+this.a*this.k0*Math.log(Math.tan(bo+.5*i));else{var c=Math.sin(i),y=dc(this.e,i,c);a=this.x0+this.a*this.k0*Bi(t-this.long0),l=this.y0-this.a*this.k0*Math.log(y)}return e.x=a,e.y=l,e}function QG(e){var t=e.x-this.x0,i=e.y-this.y0,a,l;if(this.sphere)l=yi-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var c=Math.exp(-i/(this.a*this.k0));if(l=ag(this.e,c),l===-9999)return null}return a=Bi(this.long0+t/(this.a*this.k0)),e.x=a,e.y=l,e}var XG=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const JG={init:KG,forward:ZG,inverse:QG,names:XG};function YG(){}function pC(e){return e}var eH=["longlat","identity"];const tH={init:YG,forward:pC,inverse:pC,names:eH};var iH=[JG,tH],Eb={},i2=[];function JR(e,t){var i=i2.length;return e.names?(i2[i]=e,e.names.forEach(function(a){Eb[a.toLowerCase()]=i}),this):(console.log(t),!0)}function nH(e){if(!e)return!1;var t=e.toLowerCase();if(typeof Eb[t]<"u"&&i2[Eb[t]])return i2[Eb[t]]}function oH(){iH.forEach(JR)}const rH={start:oH,add:JR,get:nH};var wn={};wn.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};wn.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};wn.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};wn.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};wn.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};wn.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};wn.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};wn.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};wn.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};wn.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};wn.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};wn.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};wn.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};wn.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};wn.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};wn.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"};wn.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};wn.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};wn.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};wn.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};wn.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};wn.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};wn.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};wn.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};wn.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};wn.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};wn.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};wn.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};wn.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};wn.hough={a:6378270,rf:297,ellipseName:"Hough"};wn.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};wn.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};wn.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};wn.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};wn.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};wn.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};wn.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};wn.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};wn.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};wn.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};wn.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};wn.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var aH=wn.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};wn.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function sH(e,t,i,a){var l=e*e,c=t*t,y=(l-c)/l,n=0;a?(e*=1-y*(RG+y*(PG+y*IG)),l=e*e,y=0):n=Math.sqrt(y);var x=(l-c)/c;return{es:y,e:n,ep2:x}}function cH(e,t,i,a,l){if(!e){var c=ru(wn,a);c||(c=aH),e=c.a,t=c.b,i=c.rf}return i&&!t&&(t=(1-1/i)*e),(i===0||Math.abs(e-t)<Ai)&&(l=!0,t=e),{a:e,b:t,rf:i,sphere:l}}var Ar={};Ar.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"};Ar.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"};Ar.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"};Ar.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"};Ar.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"};Ar.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"};Ar.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"};Ar.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"};Ar.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"};Ar.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"};Ar.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"};Ar.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"};Ar.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"};Ar.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"};Ar.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"};Ar.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"};Ar.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"};Ar.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function lH(e,t,i,a,l,c,y){var n={};return e===void 0||e==="none"?n.datum_type=Fx:n.datum_type=SG,t&&(n.datum_params=t.map(parseFloat),(n.datum_params[0]!==0||n.datum_params[1]!==0||n.datum_params[2]!==0)&&(n.datum_type=Mh),n.datum_params.length>3&&(n.datum_params[3]!==0||n.datum_params[4]!==0||n.datum_params[5]!==0||n.datum_params[6]!==0)&&(n.datum_type=Ah,n.datum_params[3]*=D1,n.datum_params[4]*=D1,n.datum_params[5]*=D1,n.datum_params[6]=n.datum_params[6]/1e6+1)),y&&(n.datum_type=Rp,n.grids=y),n.a=i,n.b=a,n.es=l,n.ep2=c,n}var YR={};function dH(e,t){var i=new DataView(t),a=fH(i),l=pH(i,a),c=mH(i,l,a),y={header:l,subgrids:c};return YR[e]=y,y}function uH(e){if(e===void 0)return null;var t=e.split(",");return t.map(hH)}function hH(e){if(e.length===0)return null;var t=e[0]==="@";return t&&(e=e.slice(1)),e==="null"?{name:"null",mandatory:!t,grid:null,isNull:!0}:{name:e,mandatory:!t,grid:YR[e]||null,isNull:!1}}function bp(e){return e/3600*Math.PI/180}function fH(e){var t=e.getInt32(8,!1);return t===11?!1:(t=e.getInt32(8,!0),t!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function pH(e,t){return{nFields:e.getInt32(8,t),nSubgridFields:e.getInt32(24,t),nSubgrids:e.getInt32(40,t),shiftType:Ex(e,56,64).trim(),fromSemiMajorAxis:e.getFloat64(120,t),fromSemiMinorAxis:e.getFloat64(136,t),toSemiMajorAxis:e.getFloat64(152,t),toSemiMinorAxis:e.getFloat64(168,t)}}function Ex(e,t,i){return String.fromCharCode.apply(null,new Uint8Array(e.buffer.slice(t,i)))}function mH(e,t,i){for(var a=176,l=[],c=0;c<t.nSubgrids;c++){var y=_H(e,a,i),n=yH(e,a,y,i),x=Math.round(1+(y.upperLongitude-y.lowerLongitude)/y.longitudeInterval),C=Math.round(1+(y.upperLatitude-y.lowerLatitude)/y.latitudeInterval);l.push({ll:[bp(y.lowerLongitude),bp(y.lowerLatitude)],del:[bp(y.longitudeInterval),bp(y.latitudeInterval)],lim:[x,C],count:y.gridNodeCount,cvs:gH(n)}),a+=176+y.gridNodeCount*16}return l}function gH(e){return e.map(function(t){return[bp(t.longitudeShift),bp(t.latitudeShift)]})}function _H(e,t,i){return{name:Ex(e,t+8,t+16).trim(),parent:Ex(e,t+24,t+24+8).trim(),lowerLatitude:e.getFloat64(t+72,i),upperLatitude:e.getFloat64(t+88,i),lowerLongitude:e.getFloat64(t+104,i),upperLongitude:e.getFloat64(t+120,i),latitudeInterval:e.getFloat64(t+136,i),longitudeInterval:e.getFloat64(t+152,i),gridNodeCount:e.getInt32(t+168,i)}}function yH(e,t,i,a){for(var l=t+176,c=16,y=[],n=0;n<i.gridNodeCount;n++){var x={latitudeShift:e.getFloat32(l+n*c,a),longitudeShift:e.getFloat32(l+n*c+4,a),latitudeAccuracy:e.getFloat32(l+n*c+8,a),longitudeAccuracy:e.getFloat32(l+n*c+12,a)};y.push(x)}return y}function Nc(e,t){if(!(this instanceof Nc))return new Nc(e);t=t||function(C){if(C)throw C};var i=WG(e);if(typeof i!="object"){t("Could not parse to valid json: "+e);return}var a=Nc.projections.get(i.projName);if(!a){t("Could not get projection name from: "+e);return}if(i.datumCode&&i.datumCode!=="none"){var l=ru(Ar,i.datumCode);l&&(i.datum_params=i.datum_params||(l.towgs84?l.towgs84.split(","):null),i.ellps=l.ellipse,i.datumName=l.datumName?l.datumName:i.datumCode)}i.k0=i.k0||1,i.axis=i.axis||"enu",i.ellps=i.ellps||"wgs84",i.lat1=i.lat1||i.lat0;var c=cH(i.a,i.b,i.rf,i.ellps,i.sphere),y=sH(c.a,c.b,c.rf,i.R_A),n=uH(i.nadgrids),x=i.datum||lH(i.datumCode,i.datum_params,c.a,c.b,y.es,y.ep2,n);fC(this,i),fC(this,a),this.a=c.a,this.b=c.b,this.rf=c.rf,this.sphere=c.sphere,this.es=y.es,this.e=y.e,this.ep2=y.ep2,this.datum=x,this.init(),t(null,this)}Nc.projections=rH;Nc.projections.start();function bH(e,t){return e.datum_type!==t.datum_type||e.a!==t.a||Math.abs(e.es-t.es)>5e-11?!1:e.datum_type===Mh?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type===Ah?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6]:!0}function eP(e,t,i){var a=e.x,l=e.y,c=e.z?e.z:0,y,n,x,C;if(l<-yi&&l>-1.001*yi)l=-yi;else if(l>yi&&l<1.001*yi)l=yi;else{if(l<-yi)return{x:-1/0,y:-1/0,z:e.z};if(l>yi)return{x:1/0,y:1/0,z:e.z}}return a>Math.PI&&(a-=2*Math.PI),n=Math.sin(l),C=Math.cos(l),x=n*n,y=i/Math.sqrt(1-t*x),{x:(y+c)*C*Math.cos(a),y:(y+c)*C*Math.sin(a),z:(y*(1-t)+c)*n}}function tP(e,t,i,a){var l=1e-12,c=l*l,y=30,n,x,C,k,O,B,L,V,G,Q,Y,J,re,ce=e.x,he=e.y,we=e.z?e.z:0,pe,De,Ae;if(n=Math.sqrt(ce*ce+he*he),x=Math.sqrt(ce*ce+he*he+we*we),n/i<l){if(pe=0,x/i<l)return De=yi,Ae=-a,{x:e.x,y:e.y,z:e.z}}else pe=Math.atan2(he,ce);C=we/x,k=n/x,O=1/Math.sqrt(1-t*(2-t)*k*k),V=k*(1-t)*O,G=C*O,re=0;do re++,L=i/Math.sqrt(1-t*G*G),Ae=n*V+we*G-L*(1-t*G*G),B=t*L/(L+Ae),O=1/Math.sqrt(1-B*(2-B)*k*k),Q=k*(1-B)*O,Y=C*O,J=Y*V-Q*G,V=Q,G=Y;while(J*J>c&&re<y);return De=Math.atan(Y/Math.abs(Q)),{x:pe,y:De,z:Ae}}function vH(e,t,i){if(t===Mh)return{x:e.x+i[0],y:e.y+i[1],z:e.z+i[2]};if(t===Ah){var a=i[0],l=i[1],c=i[2],y=i[3],n=i[4],x=i[5],C=i[6];return{x:C*(e.x-x*e.y+n*e.z)+a,y:C*(x*e.x+e.y-y*e.z)+l,z:C*(-n*e.x+y*e.y+e.z)+c}}}function xH(e,t,i){if(t===Mh)return{x:e.x-i[0],y:e.y-i[1],z:e.z-i[2]};if(t===Ah){var a=i[0],l=i[1],c=i[2],y=i[3],n=i[4],x=i[5],C=i[6],k=(e.x-a)/C,O=(e.y-l)/C,B=(e.z-c)/C;return{x:k+x*O-n*B,y:-x*k+O+y*B,z:n*k-y*O+B}}}function ab(e){return e===Mh||e===Ah}function wH(e,t,i){if(bH(e,t)||e.datum_type===Fx||t.datum_type===Fx)return i;var a=e.a,l=e.es;if(e.datum_type===Rp){var c=mC(e,!1,i);if(c!==0)return;a=lC,l=dC}var y=t.a,n=t.b,x=t.es;if(t.datum_type===Rp&&(y=lC,n=TG,x=dC),l===x&&a===y&&!ab(e.datum_type)&&!ab(t.datum_type))return i;if(i=eP(i,l,a),ab(e.datum_type)&&(i=vH(i,e.datum_type,e.datum_params)),ab(t.datum_type)&&(i=xH(i,t.datum_type,t.datum_params)),i=tP(i,x,y,n),t.datum_type===Rp){var C=mC(t,!0,i);if(C!==0)return}return i}function mC(e,t,i){if(e.grids===null||e.grids.length===0)return console.log("Grid shift grids not found"),-1;var a={x:-i.x,y:i.y},l={x:Number.NaN,y:Number.NaN},c=[];e:for(var y=0;y<e.grids.length;y++){var n=e.grids[y];if(c.push(n.name),n.isNull){l=a;break}if(n.mandatory,n.grid===null){if(n.mandatory)return console.log("Unable to find mandatory grid '"+n.name+"'"),-1;continue}for(var x=n.grid.subgrids,C=0,k=x.length;C<k;C++){var O=x[C],B=(Math.abs(O.del[1])+Math.abs(O.del[0]))/1e4,L=O.ll[0]-B,V=O.ll[1]-B,G=O.ll[0]+(O.lim[0]-1)*O.del[0]+B,Q=O.ll[1]+(O.lim[1]-1)*O.del[1]+B;if(!(V>a.y||L>a.x||Q<a.y||G<a.x)&&(l=FH(a,t,O),!isNaN(l.x)))break e}}return isNaN(l.x)?(console.log("Failed to find a grid shift table for location '"+-a.x*jc+" "+a.y*jc+" tried: '"+c+"'"),-1):(i.x=-l.x,i.y=l.y,0)}function FH(e,t,i){var a={x:Number.NaN,y:Number.NaN};if(isNaN(e.x))return a;var l={x:e.x,y:e.y};l.x-=i.ll[0],l.y-=i.ll[1],l.x=Bi(l.x-Math.PI)+Math.PI;var c=gC(l,i);if(t){if(isNaN(c.x))return a;c.x=l.x-c.x,c.y=l.y-c.y;var y=9,n=1e-12,x,C;do{if(C=gC(c,i),isNaN(C.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}x={x:l.x-(C.x+c.x),y:l.y-(C.y+c.y)},c.x+=x.x,c.y+=x.y}while(y--&&Math.abs(x.x)>n&&Math.abs(x.y)>n);if(y<0)return console.log("Inverse grid shift iterator failed to converge."),a;a.x=Bi(c.x+i.ll[0]),a.y=c.y+i.ll[1]}else isNaN(c.x)||(a.x=e.x+c.x,a.y=e.y+c.y);return a}function gC(e,t){var i={x:e.x/t.del[0],y:e.y/t.del[1]},a={x:Math.floor(i.x),y:Math.floor(i.y)},l={x:i.x-1*a.x,y:i.y-1*a.y},c={x:Number.NaN,y:Number.NaN},y;if(a.x<0||a.x>=t.lim[0]||a.y<0||a.y>=t.lim[1])return c;y=a.y*t.lim[0]+a.x;var n={x:t.cvs[y][0],y:t.cvs[y][1]};y++;var x={x:t.cvs[y][0],y:t.cvs[y][1]};y+=t.lim[0];var C={x:t.cvs[y][0],y:t.cvs[y][1]};y--;var k={x:t.cvs[y][0],y:t.cvs[y][1]},O=l.x*l.y,B=l.x*(1-l.y),L=(1-l.x)*(1-l.y),V=(1-l.x)*l.y;return c.x=L*n.x+B*x.x+V*k.x+O*C.x,c.y=L*n.y+B*x.y+V*k.y+O*C.y,c}function _C(e,t,i){var a=i.x,l=i.y,c=i.z||0,y,n,x,C={};for(x=0;x<3;x++)if(!(t&&x===2&&i.z===void 0))switch(x===0?(y=a,"ew".indexOf(e.axis[x])!==-1?n="x":n="y"):x===1?(y=l,"ns".indexOf(e.axis[x])!==-1?n="y":n="x"):(y=c,n="z"),e.axis[x]){case"e":C[n]=y;break;case"w":C[n]=-y;break;case"n":C[n]=y;break;case"s":C[n]=-y;break;case"u":i[n]!==void 0&&(C.z=y);break;case"d":i[n]!==void 0&&(C.z=-y);break;default:return null}return C}function iP(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t}function CH(e){yC(e.x),yC(e.y)}function yC(e){if(typeof Number.isFinite=="function"){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if(typeof e!="number"||e!==e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function EH(e,t){return(e.datum.datum_type===Mh||e.datum.datum_type===Ah||e.datum.datum_type===Rp)&&t.datumCode!=="WGS84"||(t.datum.datum_type===Mh||t.datum.datum_type===Ah||t.datum.datum_type===Rp)&&e.datumCode!=="WGS84"}function n2(e,t,i,a){var l;Array.isArray(i)?i=iP(i):i={x:i.x,y:i.y,z:i.z,m:i.m};var c=i.z!==void 0;if(CH(i),e.datum&&t.datum&&EH(e,t)&&(l=new Nc("WGS84"),i=n2(e,l,i,a),e=l),a&&e.axis!=="enu"&&(i=_C(e,!1,i)),e.projName==="longlat")i={x:i.x*Kr,y:i.y*Kr,z:i.z||0};else if(e.to_meter&&(i={x:i.x*e.to_meter,y:i.y*e.to_meter,z:i.z||0}),i=e.inverse(i),!i)return;if(e.from_greenwich&&(i.x+=e.from_greenwich),i=wH(e.datum,t.datum,i),!!i)return t.from_greenwich&&(i={x:i.x-t.from_greenwich,y:i.y,z:i.z||0}),t.projName==="longlat"?i={x:i.x*jc,y:i.y*jc,z:i.z||0}:(i=t.forward(i),t.to_meter&&(i={x:i.x/t.to_meter,y:i.y/t.to_meter,z:i.z||0})),a&&t.axis!=="enu"?_C(t,!0,i):(i&&!c&&delete i.z,i)}var bC=Nc("WGS84");function E3(e,t,i,a){var l,c,y;return Array.isArray(i)?(l=n2(e,t,i,a)||{x:NaN,y:NaN},i.length>2?typeof e.name<"u"&&e.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"?typeof l.z=="number"?[l.x,l.y,l.z].concat(i.slice(3)):[l.x,l.y,i[2]].concat(i.slice(3)):[l.x,l.y].concat(i.slice(2)):[l.x,l.y]):(c=n2(e,t,i,a),y=Object.keys(i),y.length===2||y.forEach(function(n){if(typeof e.name<"u"&&e.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"){if(n==="x"||n==="y"||n==="z")return}else if(n==="x"||n==="y")return;c[n]=i[n]}),c)}function vC(e){return e instanceof Nc?e:e.oProj?e.oProj:Nc(e)}function ka(e,t,i){e=vC(e);var a=!1,l;return typeof t>"u"?(t=e,e=bC,a=!0):(typeof t.x<"u"||Array.isArray(t))&&(i=t,t=e,e=bC,a=!0),t=vC(t),i?E3(e,t,i):(l={forward:function(c,y){return E3(e,t,c,y)},inverse:function(c,y){return E3(t,e,c,y)}},a&&(l.oProj=t),l)}var xC=6,nP="AJSAJS",oP="AFAFAF",vp=65,Va=73,Ts=79,y1=86,b1=90;const SH={forward:rP,inverse:TH,toPoint:aP};function rP(e,t){return t=t||5,IH(RH({lat:e[1],lon:e[0]}),t)}function TH(e){var t=U6(cP(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]}function aP(e){var t=U6(cP(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function S3(e){return e*(Math.PI/180)}function wC(e){return 180*(e/Math.PI)}function RH(e){var t=e.lat,i=e.lon,a=6378137,l=.00669438,c=.9996,y,n,x,C,k,O,B,L=S3(t),V=S3(i),G,Q;Q=Math.floor((i+180)/6)+1,i===180&&(Q=60),t>=56&&t<64&&i>=3&&i<12&&(Q=32),t>=72&&t<84&&(i>=0&&i<9?Q=31:i>=9&&i<21?Q=33:i>=21&&i<33?Q=35:i>=33&&i<42&&(Q=37)),y=(Q-1)*6-180+3,G=S3(y),n=l/(1-l),x=a/Math.sqrt(1-l*Math.sin(L)*Math.sin(L)),C=Math.tan(L)*Math.tan(L),k=n*Math.cos(L)*Math.cos(L),O=Math.cos(L)*(V-G),B=a*((1-l/4-3*l*l/64-5*l*l*l/256)*L-(3*l/8+3*l*l/32+45*l*l*l/1024)*Math.sin(2*L)+(15*l*l/256+45*l*l*l/1024)*Math.sin(4*L)-35*l*l*l/3072*Math.sin(6*L));var Y=c*x*(O+(1-C+k)*O*O*O/6+(5-18*C+C*C+72*k-58*n)*O*O*O*O*O/120)+5e5,J=c*(B+x*Math.tan(L)*(O*O/2+(5-C+9*k+4*k*k)*O*O*O*O/24+(61-58*C+C*C+600*k-330*n)*O*O*O*O*O*O/720));return t<0&&(J+=1e7),{northing:Math.round(J),easting:Math.round(Y),zoneNumber:Q,zoneLetter:PH(t)}}function U6(e){var t=e.northing,i=e.easting,a=e.zoneLetter,l=e.zoneNumber;if(l<0||l>60)return null;var c=.9996,y=6378137,n=.00669438,x,C=(1-Math.sqrt(1-n))/(1+Math.sqrt(1-n)),k,O,B,L,V,G,Q,Y,J,re=i-5e5,ce=t;a<"N"&&(ce-=1e7),Q=(l-1)*6-180+3,x=n/(1-n),G=ce/c,Y=G/(y*(1-n/4-3*n*n/64-5*n*n*n/256)),J=Y+(3*C/2-27*C*C*C/32)*Math.sin(2*Y)+(21*C*C/16-55*C*C*C*C/32)*Math.sin(4*Y)+151*C*C*C/96*Math.sin(6*Y),k=y/Math.sqrt(1-n*Math.sin(J)*Math.sin(J)),O=Math.tan(J)*Math.tan(J),B=x*Math.cos(J)*Math.cos(J),L=y*(1-n)/Math.pow(1-n*Math.sin(J)*Math.sin(J),1.5),V=re/(k*c);var he=J-k*Math.tan(J)/L*(V*V/2-(5+3*O+10*B-4*B*B-9*x)*V*V*V*V/24+(61+90*O+298*B+45*O*O-252*x-3*B*B)*V*V*V*V*V*V/720);he=wC(he);var we=(V-(1+2*O+B)*V*V*V/6+(5-2*B+28*O-3*B*B+8*x+24*O*O)*V*V*V*V*V/120)/Math.cos(J);we=Q+wC(we);var pe;if(e.accuracy){var De=U6({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});pe={top:De.lat,right:De.lon,bottom:he,left:we}}else pe={lat:he,lon:we};return pe}function PH(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function IH(e,t){var i="00000"+e.easting,a="00000"+e.northing;return e.zoneNumber+e.zoneLetter+kH(e.easting,e.northing,e.zoneNumber)+i.substr(i.length-5,t)+a.substr(a.length-5,t)}function kH(e,t,i){var a=sP(i),l=Math.floor(e/1e5),c=Math.floor(t/1e5)%20;return MH(l,c,a)}function sP(e){var t=e%xC;return t===0&&(t=xC),t}function MH(e,t,i){var a=i-1,l=nP.charCodeAt(a),c=oP.charCodeAt(a),y=l+e-1,n=c+t,x=!1;y>b1&&(y=y-b1+vp-1,x=!0),(y===Va||l<Va&&y>Va||(y>Va||l<Va)&&x)&&y++,(y===Ts||l<Ts&&y>Ts||(y>Ts||l<Ts)&&x)&&(y++,y===Va&&y++),y>b1&&(y=y-b1+vp-1),n>y1?(n=n-y1+vp-1,x=!0):x=!1,(n===Va||c<Va&&n>Va||(n>Va||c<Va)&&x)&&n++,(n===Ts||c<Ts&&n>Ts||(n>Ts||c<Ts)&&x)&&(n++,n===Va&&n++),n>y1&&(n=n-y1+vp-1);var C=String.fromCharCode(y)+String.fromCharCode(n);return C}function cP(e){if(e&&e.length===0)throw"MGRSPoint coverting from nothing";for(var t=e.length,i=null,a="",l,c=0;!/[A-Z]/.test(l=e.charAt(c));){if(c>=2)throw"MGRSPoint bad conversion from: "+e;a+=l,c++}var y=parseInt(a,10);if(c===0||c+3>t)throw"MGRSPoint bad conversion from: "+e;var n=e.charAt(c++);if(n<="A"||n==="B"||n==="Y"||n>="Z"||n==="I"||n==="O")throw"MGRSPoint zone letter "+n+" not handled: "+e;i=e.substring(c,c+=2);for(var x=sP(y),C=AH(i.charAt(0),x),k=OH(i.charAt(1),x);k<LH(n);)k+=2e6;var O=t-c;if(O%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+e;var B=O/2,L=0,V=0,G,Q,Y,J,re;return B>0&&(G=1e5/Math.pow(10,B),Q=e.substring(c,c+B),L=parseFloat(Q)*G,Y=e.substring(c+B),V=parseFloat(Y)*G),J=L+C,re=V+k,{easting:J,northing:re,zoneLetter:n,zoneNumber:y,accuracy:G}}function AH(e,t){for(var i=nP.charCodeAt(t-1),a=1e5,l=!1;i!==e.charCodeAt(0);){if(i++,i===Va&&i++,i===Ts&&i++,i>b1){if(l)throw"Bad character: "+e;i=vp,l=!0}a+=1e5}return a}function OH(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;for(var i=oP.charCodeAt(t-1),a=0,l=!1;i!==e.charCodeAt(0);){if(i++,i===Va&&i++,i===Ts&&i++,i>y1){if(l)throw"Bad character: "+e;i=vp,l=!0}a+=1e5}return a}function LH(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function Up(e,t,i){if(!(this instanceof Up))return new Up(e,t,i);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if(typeof e=="object")this.x=e.x,this.y=e.y,this.z=e.z||0;else if(typeof e=="string"&&typeof t>"u"){var a=e.split(",");this.x=parseFloat(a[0],10),this.y=parseFloat(a[1],10),this.z=parseFloat(a[2],10)||0}else this.x=e,this.y=t,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Up.fromMGRS=function(e){return new Up(aP(e))};Up.prototype.toMGRS=function(e){return rP([this.x,this.y],e)};var DH=1,BH=.25,FC=.046875,CC=.01953125,EC=.01068115234375,jH=.75,zH=.46875,VH=.013020833333333334,NH=.007120768229166667,$H=.3645833333333333,UH=.005696614583333333,GH=.3076171875;function G6(e){var t=[];t[0]=DH-e*(BH+e*(FC+e*(CC+e*EC))),t[1]=e*(jH-e*(FC+e*(CC+e*EC)));var i=e*e;return t[2]=i*(zH-e*(VH+e*NH)),i*=e,t[3]=i*($H-e*UH),t[4]=i*e*GH,t}function n0(e,t,i,a){return i*=t,t*=t,a[0]*e-i*(a[1]+t*(a[2]+t*(a[3]+t*a[4])))}var HH=20;function H6(e,t,i){for(var a=1/(1-t),l=e,c=HH;c;--c){var y=Math.sin(l),n=1-t*y*y;if(n=(n0(l,y,Math.cos(l),i)-e)*(n*Math.sqrt(n))*a,l-=n,Math.abs(n)<Ai)return l}return l}function qH(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=G6(this.es),this.ml0=n0(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function WH(e){var t=e.x,i=e.y,a=Bi(t-this.long0),l,c,y,n=Math.sin(i),x=Math.cos(i);if(this.es){var k=x*a,O=Math.pow(k,2),B=this.ep2*Math.pow(x,2),L=Math.pow(B,2),V=Math.abs(x)>Ai?Math.tan(i):0,G=Math.pow(V,2),Q=Math.pow(G,2);l=1-this.es*Math.pow(n,2),k=k/Math.sqrt(l);var Y=n0(i,n,x,this.en);c=this.a*(this.k0*k*(1+O/6*(1-G+B+O/20*(5-18*G+Q+14*B-58*G*B+O/42*(61+179*Q-Q*G-479*G)))))+this.x0,y=this.a*(this.k0*(Y-this.ml0+n*a*k/2*(1+O/12*(5-G+9*B+4*L+O/30*(61+Q-58*G+270*B-330*G*B+O/56*(1385+543*Q-Q*G-3111*G))))))+this.y0}else{var C=x*Math.sin(a);if(Math.abs(Math.abs(C)-1)<Ai)return 93;if(c=.5*this.a*this.k0*Math.log((1+C)/(1-C))+this.x0,y=x*Math.cos(a)/Math.sqrt(1-Math.pow(C,2)),C=Math.abs(y),C>=1){if(C-1>Ai)return 93;y=0}else y=Math.acos(y);i<0&&(y=-y),y=this.a*this.k0*(y-this.lat0)+this.y0}return e.x=c,e.y=y,e}function KH(e){var t,i,a,l,c=(e.x-this.x0)*(1/this.a),y=(e.y-this.y0)*(1/this.a);if(this.es)if(t=this.ml0+y/this.k0,i=H6(t,this.es,this.en),Math.abs(i)<yi){var O=Math.sin(i),B=Math.cos(i),L=Math.abs(B)>Ai?Math.tan(i):0,V=this.ep2*Math.pow(B,2),G=Math.pow(V,2),Q=Math.pow(L,2),Y=Math.pow(Q,2);t=1-this.es*Math.pow(O,2);var J=c*Math.sqrt(t)/this.k0,re=Math.pow(J,2);t=t*L,a=i-t*re/(1-this.es)*.5*(1-re/12*(5+3*Q-9*V*Q+V-4*G-re/30*(61+90*Q-252*V*Q+45*Y+46*V-re/56*(1385+3633*Q+4095*Y+1574*Y*Q)))),l=Bi(this.long0+J*(1-re/6*(1+2*Q+V-re/20*(5+28*Q+24*Y+8*V*Q+6*V-re/42*(61+662*Q+1320*Y+720*Y*Q))))/B)}else a=yi*Wg(y),l=0;else{var n=Math.exp(c/this.k0),x=.5*(n-1/n),C=this.lat0+y/this.k0,k=Math.cos(C);t=Math.sqrt((1-Math.pow(k,2))/(1+Math.pow(x,2))),a=Math.asin(t),y<0&&(a=-a),x===0&&k===0?l=0:l=Bi(Math.atan2(x,k)+this.long0)}return e.x=l,e.y=a,e}var ZH=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const Sb={init:qH,forward:WH,inverse:KH,names:ZH};function lP(e){var t=Math.exp(e);return t=(t-1/t)/2,t}function Ua(e,t){e=Math.abs(e),t=Math.abs(t);var i=Math.max(e,t),a=Math.min(e,t)/(i||1);return i*Math.sqrt(1+Math.pow(a,2))}function QH(e){var t=1+e,i=t-1;return i===0?e:e*Math.log(t)/i}function XH(e){var t=Math.abs(e);return t=QH(t*(1+t/(Ua(1,t)+1))),e<0?-t:t}function q6(e,t){for(var i=2*Math.cos(2*t),a=e.length-1,l=e[a],c=0,y;--a>=0;)y=-c+i*l+e[a],c=l,l=y;return t+y*Math.sin(2*t)}function JH(e,t){for(var i=2*Math.cos(t),a=e.length-1,l=e[a],c=0,y;--a>=0;)y=-c+i*l+e[a],c=l,l=y;return Math.sin(t)*y}function YH(e){var t=Math.exp(e);return t=(t+1/t)/2,t}function dP(e,t,i){for(var a=Math.sin(t),l=Math.cos(t),c=lP(i),y=YH(i),n=2*l*y,x=-2*a*c,C=e.length-1,k=e[C],O=0,B=0,L=0,V,G;--C>=0;)V=B,G=O,B=k,O=L,k=-V+n*B-x*O+e[C],L=-G+x*B+n*O;return n=a*y,x=l*c,[n*k-x*L,n*L+x*k]}function eq(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Sb.init.apply(this),this.forward=Sb.forward,this.inverse=Sb.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),i=t;this.cgb[0]=t*(2+t*(-2/3+t*(-2+t*(116/45+t*(26/45+t*(-2854/675)))))),this.cbg[0]=t*(-2+t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))),i=i*t,this.cgb[1]=i*(7/3+t*(-8/5+t*(-227/45+t*(2704/315+t*(2323/945))))),this.cbg[1]=i*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),i=i*t,this.cgb[2]=i*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=i*(-26/15+t*(34/21+t*(8/5+t*(-12686/2835)))),i=i*t,this.cgb[3]=i*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=i*(1237/630+t*(-12/5+t*(-24832/14175))),i=i*t,this.cgb[4]=i*(4174/315+t*(-144838/6237)),this.cbg[4]=i*(-734/315+t*(109598/31185)),i=i*t,this.cgb[5]=i*(601676/22275),this.cbg[5]=i*(444337/155925),i=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+i*(1/4+i*(1/64+i/256))),this.utg[0]=t*(-.5+t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=i*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=i*(13/48+t*(-3/5+t*(557/1440+t*(281/630+t*(-1983433/1935360))))),i=i*t,this.utg[2]=i*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=i*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),i=i*t,this.utg[3]=i*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=i*(49561/161280+t*(-179/168+t*(6601661/7257600))),i=i*t,this.utg[4]=i*(-4583/161280+t*(108847/3991680)),this.gtu[4]=i*(34729/80640+t*(-3418889/1995840)),i=i*t,this.utg[5]=i*(-20648693/638668800),this.gtu[5]=i*(212378941/319334400);var a=q6(this.cbg,this.lat0);this.Zb=-this.Qn*(a+JH(this.gtu,2*a))}function tq(e){var t=Bi(e.x-this.long0),i=e.y;i=q6(this.cbg,i);var a=Math.sin(i),l=Math.cos(i),c=Math.sin(t),y=Math.cos(t);i=Math.atan2(a,y*l),t=Math.atan2(c*l,Ua(a,l*y)),t=XH(Math.tan(t));var n=dP(this.gtu,2*i,2*t);i=i+n[0],t=t+n[1];var x,C;return Math.abs(t)<=2.623395162778?(x=this.a*(this.Qn*t)+this.x0,C=this.a*(this.Qn*i+this.Zb)+this.y0):(x=1/0,C=1/0),e.x=x,e.y=C,e}function iq(e){var t=(e.x-this.x0)*(1/this.a),i=(e.y-this.y0)*(1/this.a);i=(i-this.Zb)/this.Qn,t=t/this.Qn;var a,l;if(Math.abs(t)<=2.623395162778){var c=dP(this.utg,2*i,2*t);i=i+c[0],t=t+c[1],t=Math.atan(lP(t));var y=Math.sin(i),n=Math.cos(i),x=Math.sin(t),C=Math.cos(t);i=Math.atan2(y*C,Ua(x,C*n)),t=Math.atan2(x,C*n),a=Bi(t+this.long0),l=q6(this.cgb,i)}else a=1/0,l=1/0;return e.x=a,e.y=l,e}var nq=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const Tb={init:eq,forward:tq,inverse:iq,names:nq};function oq(e,t){if(e===void 0){if(e=Math.floor((Bi(t)+Math.PI)*30/Math.PI)+1,e<0)return 0;if(e>60)return 60}return e}var rq="etmerc";function aq(){var e=oq(this.zone,this.long0);if(e===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*Kr,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Tb.init.apply(this),this.forward=Tb.forward,this.inverse=Tb.inverse}var sq=["Universal Transverse Mercator System","utm"];const cq={init:aq,names:sq,dependsOn:rq};function W6(e,t){return Math.pow((1-e)/(1+e),t)}var lq=20;function dq(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+bo)/(Math.pow(Math.tan(.5*this.lat0+bo),this.C)*W6(this.e*e,this.ratexp))}function uq(e){var t=e.x,i=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+bo),this.C)*W6(this.e*Math.sin(i),this.ratexp))-yi,e.x=this.C*t,e}function hq(e){for(var t=1e-14,i=e.x/this.C,a=e.y,l=Math.pow(Math.tan(.5*a+bo)/this.K,1/this.C),c=lq;c>0&&(a=2*Math.atan(l*W6(this.e*Math.sin(e.y),-.5*this.e))-yi,!(Math.abs(a-e.y)<t));--c)e.y=a;return c?(e.x=i,e.y=a,e):null}var fq=["gauss"];const K6={init:dq,forward:uq,inverse:hq,names:fq};function pq(){K6.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function mq(e){var t,i,a,l;return e.x=Bi(e.x-this.long0),K6.forward.apply(this,[e]),t=Math.sin(e.y),i=Math.cos(e.y),a=Math.cos(e.x),l=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*i*a),e.x=l*i*Math.sin(e.x),e.y=l*(this.cosc0*t-this.sinc0*i*a),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function gq(e){var t,i,a,l,c;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,c=Ua(e.x,e.y)){var y=2*Math.atan2(c,this.R2);t=Math.sin(y),i=Math.cos(y),l=Math.asin(i*this.sinc0+e.y*t*this.cosc0/c),a=Math.atan2(e.x*t,c*this.cosc0*i-e.y*this.sinc0*t)}else l=this.phic0,a=0;return e.x=a,e.y=l,K6.inverse.apply(this,[e]),e.x=Bi(e.x+this.long0),e}var _q=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const yq={init:pq,forward:mq,inverse:gq,names:_q};function bq(e,t,i){return t*=i,Math.tan(.5*(yi+e))*Math.pow((1-t)/(1+t),.5*i)}function vq(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Ai&&(this.k0=.5*(1+Wg(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=Ai&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Ai&&Math.abs(Math.cos(this.lat_ts))>Ai&&(this.k0=.5*this.cons*Hc(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/dc(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Hc(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-yi,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function xq(e){var t=e.x,i=e.y,a=Math.sin(i),l=Math.cos(i),c,y,n,x,C,k,O=Bi(t-this.long0);return Math.abs(Math.abs(t-this.long0)-Math.PI)<=Ai&&Math.abs(i+this.lat0)<=Ai?(e.x=NaN,e.y=NaN,e):this.sphere?(c=2*this.k0/(1+this.sinlat0*a+this.coslat0*l*Math.cos(O)),e.x=this.a*c*l*Math.sin(O)+this.x0,e.y=this.a*c*(this.coslat0*a-this.sinlat0*l*Math.cos(O))+this.y0,e):(y=2*Math.atan(this.ssfn_(i,a,this.e))-yi,x=Math.cos(y),n=Math.sin(y),Math.abs(this.coslat0)<=Ai?(C=dc(this.e,i*this.con,this.con*a),k=2*this.a*this.k0*C/this.cons,e.x=this.x0+k*Math.sin(t-this.long0),e.y=this.y0-this.con*k*Math.cos(t-this.long0),e):(Math.abs(this.sinlat0)<Ai?(c=2*this.a*this.k0/(1+x*Math.cos(O)),e.y=c*n):(c=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*n+this.cosX0*x*Math.cos(O))),e.y=c*(this.cosX0*n-this.sinX0*x*Math.cos(O))+this.y0),e.x=c*x*Math.sin(O)+this.x0,e))}function wq(e){e.x-=this.x0,e.y-=this.y0;var t,i,a,l,c,y=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var n=2*Math.atan(y/(2*this.a*this.k0));return t=this.long0,i=this.lat0,y<=Ai?(e.x=t,e.y=i,e):(i=Math.asin(Math.cos(n)*this.sinlat0+e.y*Math.sin(n)*this.coslat0/y),Math.abs(this.coslat0)<Ai?this.lat0>0?t=Bi(this.long0+Math.atan2(e.x,-1*e.y)):t=Bi(this.long0+Math.atan2(e.x,e.y)):t=Bi(this.long0+Math.atan2(e.x*Math.sin(n),y*this.coslat0*Math.cos(n)-e.y*this.sinlat0*Math.sin(n))),e.x=t,e.y=i,e)}else if(Math.abs(this.coslat0)<=Ai){if(y<=Ai)return i=this.lat0,t=this.long0,e.x=t,e.y=i,e;e.x*=this.con,e.y*=this.con,a=y*this.cons/(2*this.a*this.k0),i=this.con*ag(this.e,a),t=this.con*Bi(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else l=2*Math.atan(y*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,y<=Ai?c=this.X0:(c=Math.asin(Math.cos(l)*this.sinX0+e.y*Math.sin(l)*this.cosX0/y),t=Bi(this.long0+Math.atan2(e.x*Math.sin(l),y*this.cosX0*Math.cos(l)-e.y*this.sinX0*Math.sin(l)))),i=-1*ag(this.e,Math.tan(.5*(yi+c)));return e.x=t,e.y=i,e}var Fq=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const Cq={init:vq,forward:xq,inverse:wq,names:Fq,ssfn_:bq};function Eq(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),i=this.a,a=this.rf,l=1/a,c=2*l-Math.pow(l,2),y=this.e=Math.sqrt(c);this.R=this.k0*i*Math.sqrt(1-c)/(1-c*Math.pow(t,2)),this.alpha=Math.sqrt(1+c/(1-c)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var n=Math.log(Math.tan(Math.PI/4+this.b0/2)),x=Math.log(Math.tan(Math.PI/4+e/2)),C=Math.log((1+y*t)/(1-y*t));this.K=n-this.alpha*x+this.alpha*y/2*C}function Sq(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),a=-this.alpha*(t+i)+this.K,l=2*(Math.atan(Math.exp(a))-Math.PI/4),c=this.alpha*(e.x-this.lambda0),y=Math.atan(Math.sin(c)/(Math.sin(this.b0)*Math.tan(l)+Math.cos(this.b0)*Math.cos(c))),n=Math.asin(Math.cos(this.b0)*Math.sin(l)-Math.sin(this.b0)*Math.cos(l)*Math.cos(c));return e.y=this.R/2*Math.log((1+Math.sin(n))/(1-Math.sin(n)))+this.y0,e.x=this.R*y+this.x0,e}function Tq(e){for(var t=e.x-this.x0,i=e.y-this.y0,a=t/this.R,l=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4),c=Math.asin(Math.cos(this.b0)*Math.sin(l)+Math.sin(this.b0)*Math.cos(l)*Math.cos(a)),y=Math.atan(Math.sin(a)/(Math.cos(this.b0)*Math.cos(a)-Math.sin(this.b0)*Math.tan(l))),n=this.lambda0+y/this.alpha,x=0,C=c,k=-1e3,O=0;Math.abs(C-k)>1e-7;){if(++O>20)return;x=1/this.alpha*(Math.log(Math.tan(Math.PI/4+c/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(C))/2)),k=C,C=2*Math.atan(Math.exp(x))-Math.PI/2}return e.x=n,e.y=C,e}var Rq=["somerc"];const Pq={init:Eq,forward:Sq,inverse:Tq,names:Rq};var up=1e-7;function Iq(e){var t=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],i=typeof e.PROJECTION=="object"?Object.keys(e.PROJECTION)[0]:e.PROJECTION;return"no_uoff"in e||"no_off"in e||t.indexOf(i)!==-1}function kq(){var e,t,i,a,l,c,y,n,x,C,k=0,O,B=0,L=0,V=0,G=0,Q=0,Y=0;this.no_off=Iq(this),this.no_rot="no_rot"in this;var J=!1;"alpha"in this&&(J=!0);var re=!1;if("rectified_grid_angle"in this&&(re=!0),J&&(Y=this.alpha),re&&(k=this.rectified_grid_angle*Kr),J||re)B=this.longc;else if(L=this.long1,G=this.lat1,V=this.long2,Q=this.lat2,Math.abs(G-Q)<=up||(e=Math.abs(G))<=up||Math.abs(e-yi)<=up||Math.abs(Math.abs(this.lat0)-yi)<=up||Math.abs(Math.abs(Q)-yi)<=up)throw new Error;var ce=1-this.es;t=Math.sqrt(ce),Math.abs(this.lat0)>Ai?(n=Math.sin(this.lat0),i=Math.cos(this.lat0),e=1-this.es*n*n,this.B=i*i,this.B=Math.sqrt(1+this.es*this.B*this.B/ce),this.A=this.B*this.k0*t/e,a=this.B*t/(i*Math.sqrt(e)),l=a*a-1,l<=0?l=0:(l=Math.sqrt(l),this.lat0<0&&(l=-l)),this.E=l+=a,this.E*=Math.pow(dc(this.e,this.lat0,n),this.B)):(this.B=1/t,this.A=this.k0,this.E=a=l=1),J||re?(J?(O=Math.asin(Math.sin(Y)/a),re||(k=Y)):(O=k,Y=Math.asin(a*Math.sin(O))),this.lam0=B-Math.asin(.5*(l-1/l)*Math.tan(O))/this.B):(c=Math.pow(dc(this.e,G,Math.sin(G)),this.B),y=Math.pow(dc(this.e,Q,Math.sin(Q)),this.B),l=this.E/c,x=(y-c)/(y+c),C=this.E*this.E,C=(C-y*c)/(C+y*c),e=L-V,e<-Math.pi?V-=og:e>Math.pi&&(V+=og),this.lam0=Bi(.5*(L+V)-Math.atan(C*Math.tan(.5*this.B*(L-V))/x)/this.B),O=Math.atan(2*Math.sin(this.B*Bi(L-this.lam0))/(l-1/l)),k=Y=Math.asin(a*Math.sin(O))),this.singam=Math.sin(O),this.cosgam=Math.cos(O),this.sinrot=Math.sin(k),this.cosrot=Math.cos(k),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(a*a-1)/Math.cos(Y))),this.lat0<0&&(this.u_0=-this.u_0)),l=.5*O,this.v_pole_n=this.ArB*Math.log(Math.tan(bo-l)),this.v_pole_s=this.ArB*Math.log(Math.tan(bo+l))}function Mq(e){var t={},i,a,l,c,y,n,x,C;if(e.x=e.x-this.lam0,Math.abs(Math.abs(e.y)-yi)>Ai){if(y=this.E/Math.pow(dc(this.e,e.y,Math.sin(e.y)),this.B),n=1/y,i=.5*(y-n),a=.5*(y+n),c=Math.sin(this.B*e.x),l=(i*this.singam-c*this.cosgam)/a,Math.abs(Math.abs(l)-1)<Ai)throw new Error;C=.5*this.ArB*Math.log((1-l)/(1+l)),n=Math.cos(this.B*e.x),Math.abs(n)<up?x=this.A*e.x:x=this.ArB*Math.atan2(i*this.cosgam+c*this.singam,n)}else C=e.y>0?this.v_pole_n:this.v_pole_s,x=this.ArB*e.y;return this.no_rot?(t.x=x,t.y=C):(x-=this.u_0,t.x=C*this.cosrot+x*this.sinrot,t.y=x*this.cosrot-C*this.sinrot),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function Aq(e){var t,i,a,l,c,y,n,x={};if(e.x=(e.x-this.x0)*(1/this.a),e.y=(e.y-this.y0)*(1/this.a),this.no_rot?(i=e.y,t=e.x):(i=e.x*this.cosrot-e.y*this.sinrot,t=e.y*this.cosrot+e.x*this.sinrot+this.u_0),a=Math.exp(-this.BrA*i),l=.5*(a-1/a),c=.5*(a+1/a),y=Math.sin(this.BrA*t),n=(y*this.cosgam+l*this.singam)/c,Math.abs(Math.abs(n)-1)<Ai)x.x=0,x.y=n<0?-yi:yi;else{if(x.y=this.E/Math.sqrt((1+n)/(1-n)),x.y=ag(this.e,Math.pow(x.y,1/this.B)),x.y===1/0)throw new Error;x.x=-this.rB*Math.atan2(l*this.cosgam-y*this.singam,Math.cos(this.BrA*t))}return x.x+=this.lam0,x}var Oq=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const Lq={init:kq,forward:Mq,inverse:Aq,names:Oq};function Dq(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<Ai)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),i=Math.cos(this.lat1),a=Hc(this.e,t,i),l=dc(this.e,this.lat1,t),c=Math.sin(this.lat2),y=Math.cos(this.lat2),n=Hc(this.e,c,y),x=dc(this.e,this.lat2,c),C=dc(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>Ai?this.ns=Math.log(a/n)/Math.log(l/x):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=a/(this.ns*Math.pow(l,this.ns)),this.rh=this.a*this.f0*Math.pow(C,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function Bq(e){var t=e.x,i=e.y;Math.abs(2*Math.abs(i)-Math.PI)<=Ai&&(i=Wg(i)*(yi-2*Ai));var a=Math.abs(Math.abs(i)-yi),l,c;if(a>Ai)l=dc(this.e,i,Math.sin(i)),c=this.a*this.f0*Math.pow(l,this.ns);else{if(a=i*this.ns,a<=0)return null;c=0}var y=this.ns*Bi(t-this.long0);return e.x=this.k0*(c*Math.sin(y))+this.x0,e.y=this.k0*(this.rh-c*Math.cos(y))+this.y0,e}function jq(e){var t,i,a,l,c,y=(e.x-this.x0)/this.k0,n=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(y*y+n*n),i=1):(t=-Math.sqrt(y*y+n*n),i=-1);var x=0;if(t!==0&&(x=Math.atan2(i*y,i*n)),t!==0||this.ns>0){if(i=1/this.ns,a=Math.pow(t/(this.a*this.f0),i),l=ag(this.e,a),l===-9999)return null}else l=-yi;return c=Bi(x/this.ns+this.long0),e.x=c,e.y=l,e}var zq=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const Vq={init:Dq,forward:Bq,inverse:jq,names:zq};function Nq(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function $q(e){var t,i,a,l,c,y,n,x=e.x,C=e.y,k=Bi(x-this.long0);return t=Math.pow((1+this.e*Math.sin(C))/(1-this.e*Math.sin(C)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(C/2+this.s45),this.alfa)/t)-this.s45),a=-k*this.alfa,l=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(a)),c=Math.asin(Math.cos(i)*Math.sin(a)/Math.cos(l)),y=this.n*c,n=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(l/2+this.s45),this.n),e.y=n*Math.cos(y)/1,e.x=n*Math.sin(y)/1,this.czech||(e.y*=-1,e.x*=-1),e}function Uq(e){var t,i,a,l,c,y,n,x,C=e.x;e.x=e.y,e.y=C,this.czech||(e.y*=-1,e.x*=-1),y=Math.sqrt(e.x*e.x+e.y*e.y),c=Math.atan2(e.y,e.x),l=c/Math.sin(this.s0),a=2*(Math.atan(Math.pow(this.ro0/y,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(a)-Math.sin(this.ad)*Math.cos(a)*Math.cos(l)),i=Math.asin(Math.cos(a)*Math.sin(l)/Math.cos(t)),e.x=this.long0-i/this.alfa,n=t,x=0;var k=0;do e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(n))/(1-this.e*Math.sin(n)),this.e/2))-this.s45),Math.abs(n-e.y)<1e-10&&(x=1),n=e.y,k+=1;while(x===0&&k<15);return k>=15?null:e}var Gq=["Krovak","krovak"];const Hq={init:Nq,forward:$q,inverse:Uq,names:Gq};function Ra(e,t,i,a,l){return e*l-t*Math.sin(2*l)+i*Math.sin(4*l)-a*Math.sin(6*l)}function Kg(e){return 1-.25*e*(1+e/16*(3+1.25*e))}function Zg(e){return .375*e*(1+.25*e*(1+.46875*e))}function Qg(e){return .05859375*e*e*(1+.75*e)}function Xg(e){return e*e*e*(35/3072)}function Gp(e,t,i){var a=t*i;return e/Math.sqrt(1-a*a)}function gu(e){return Math.abs(e)<yi?e:e-Wg(e)*Math.PI}function o2(e,t,i,a,l){var c,y;c=e/t;for(var n=0;n<15;n++)if(y=(e-(t*c-i*Math.sin(2*c)+a*Math.sin(4*c)-l*Math.sin(6*c)))/(t-2*i*Math.cos(2*c)+4*a*Math.cos(4*c)-6*l*Math.cos(6*c)),c+=y,Math.abs(y)<=1e-10)return c;return NaN}function qq(){this.sphere||(this.e0=Kg(this.es),this.e1=Zg(this.es),this.e2=Qg(this.es),this.e3=Xg(this.es),this.ml0=this.a*Ra(this.e0,this.e1,this.e2,this.e3,this.lat0))}function Wq(e){var t,i,a=e.x,l=e.y;if(a=Bi(a-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(l)*Math.sin(a)),i=this.a*(Math.atan2(Math.tan(l),Math.cos(a))-this.lat0);else{var c=Math.sin(l),y=Math.cos(l),n=Gp(this.a,this.e,c),x=Math.tan(l)*Math.tan(l),C=a*Math.cos(l),k=C*C,O=this.es*y*y/(1-this.es),B=this.a*Ra(this.e0,this.e1,this.e2,this.e3,l);t=n*C*(1-k*x*(1/6-(8-x+8*O)*k/120)),i=B-this.ml0+n*c/y*k*(.5+(5-x+6*O)*k/24)}return e.x=t+this.x0,e.y=i+this.y0,e}function Kq(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,i=e.y/this.a,a,l;if(this.sphere){var c=i+this.lat0;a=Math.asin(Math.sin(c)*Math.cos(t)),l=Math.atan2(Math.tan(t),Math.cos(c))}else{var y=this.ml0/this.a+i,n=o2(y,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(n)-yi)<=Ai)return e.x=this.long0,e.y=yi,i<0&&(e.y*=-1),e;var x=Gp(this.a,this.e,Math.sin(n)),C=x*x*x/this.a/this.a*(1-this.es),k=Math.pow(Math.tan(n),2),O=t*this.a/x,B=O*O;a=n-x*Math.tan(n)/C*O*O*(.5-(1+3*k)*O*O/24),l=O*(1-B*(k/3+(1+3*k)*k*B/15))/Math.cos(n)}return e.x=Bi(l+this.long0),e.y=gu(a),e}var Zq=["Cassini","Cassini_Soldner","cass"];const Qq={init:qq,forward:Wq,inverse:Kq,names:Zq};function Yd(e,t){var i;return e>1e-7?(i=e*t,(1-e*e)*(t/(1-i*i)-.5/e*Math.log((1-i)/(1+i)))):2*t}var Xq=1,Jq=2,Yq=3,eW=4;function tW(){var e=Math.abs(this.lat0);if(Math.abs(e-yi)<Ai?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<Ai?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var t;switch(this.qp=Yd(this.e,1),this.mmf=.5/(1-this.es),this.apa=dW(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=Yd(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function iW(e){var t,i,a,l,c,y,n,x,C,k,O=e.x,B=e.y;if(O=Bi(O-this.long0),this.sphere){if(c=Math.sin(B),k=Math.cos(B),a=Math.cos(O),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(i=this.mode===this.EQUIT?1+k*a:1+this.sinph0*c+this.cosph0*k*a,i<=Ai)return null;i=Math.sqrt(2/i),t=i*k*Math.sin(O),i*=this.mode===this.EQUIT?c:this.cosph0*c-this.sinph0*k*a}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(a=-a),Math.abs(B+this.lat0)<Ai)return null;i=bo-B*.5,i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)),t=i*Math.sin(O),i*=a}}else{switch(n=0,x=0,C=0,a=Math.cos(O),l=Math.sin(O),c=Math.sin(B),y=Yd(this.e,c),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(n=y/this.qp,x=Math.sqrt(1-n*n)),this.mode){case this.OBLIQ:C=1+this.sinb1*n+this.cosb1*x*a;break;case this.EQUIT:C=1+x*a;break;case this.N_POLE:C=yi+B,y=this.qp-y;break;case this.S_POLE:C=B-yi,y=this.qp+y;break}if(Math.abs(C)<Ai)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:C=Math.sqrt(2/C),this.mode===this.OBLIQ?i=this.ymf*C*(this.cosb1*n-this.sinb1*x*a):i=(C=Math.sqrt(2/(1+x*a)))*n*this.ymf,t=this.xmf*C*x*l;break;case this.N_POLE:case this.S_POLE:y>=0?(t=(C=Math.sqrt(y))*l,i=a*(this.mode===this.S_POLE?C:-C)):t=i=0;break}}return e.x=this.a*t+this.x0,e.y=this.a*i+this.y0,e}function nW(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,i=e.y/this.a,a,l,c,y,n,x,C;if(this.sphere){var k=0,O,B=0;if(O=Math.sqrt(t*t+i*i),l=O*.5,l>1)return null;switch(l=2*Math.asin(l),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(B=Math.sin(l),k=Math.cos(l)),this.mode){case this.EQUIT:l=Math.abs(O)<=Ai?0:Math.asin(i*B/O),t*=B,i=k*O;break;case this.OBLIQ:l=Math.abs(O)<=Ai?this.lat0:Math.asin(k*this.sinph0+i*B*this.cosph0/O),t*=B*this.cosph0,i=(k-Math.sin(l)*this.sinph0)*O;break;case this.N_POLE:i=-i,l=yi-l;break;case this.S_POLE:l-=yi;break}a=i===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(t,i)}else{if(C=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(t/=this.dd,i*=this.dd,x=Math.sqrt(t*t+i*i),x<Ai)return e.x=this.long0,e.y=this.lat0,e;y=2*Math.asin(.5*x/this.rq),c=Math.cos(y),t*=y=Math.sin(y),this.mode===this.OBLIQ?(C=c*this.sinb1+i*y*this.cosb1/x,n=this.qp*C,i=x*this.cosb1*c-i*this.sinb1*y):(C=i*y/x,n=this.qp*C,i=x*c)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),n=t*t+i*i,!n)return e.x=this.long0,e.y=this.lat0,e;C=1-n/this.qp,this.mode===this.S_POLE&&(C=-C)}a=Math.atan2(t,i),l=uW(Math.asin(C),this.apa)}return e.x=Bi(this.long0+a),e.y=l,e}var oW=.3333333333333333,rW=.17222222222222222,aW=.10257936507936508,sW=.06388888888888888,cW=.0664021164021164,lW=.016415012942191543;function dW(e){var t,i=[];return i[0]=e*oW,t=e*e,i[0]+=t*rW,i[1]=t*sW,t*=e,i[0]+=t*aW,i[1]+=t*cW,i[2]=t*lW,i}function uW(e,t){var i=e+e;return e+t[0]*Math.sin(i)+t[1]*Math.sin(i+i)+t[2]*Math.sin(i+i+i)}var hW=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const fW={init:tW,forward:iW,inverse:nW,names:hW,S_POLE:Xq,N_POLE:Jq,EQUIT:Yq,OBLIQ:eW};function au(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)}function pW(){Math.abs(this.lat1+this.lat2)<Ai||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Hc(this.e3,this.sin_po,this.cos_po),this.qs1=Yd(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Hc(this.e3,this.sin_po,this.cos_po),this.qs2=Yd(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Yd(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>Ai?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function mW(e){var t=e.x,i=e.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var a=Yd(this.e3,this.sin_phi),l=this.a*Math.sqrt(this.c-this.ns0*a)/this.ns0,c=this.ns0*Bi(t-this.long0),y=l*Math.sin(c)+this.x0,n=this.rh-l*Math.cos(c)+this.y0;return e.x=y,e.y=n,e}function gW(e){var t,i,a,l,c,y;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),a=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),a=-1),l=0,t!==0&&(l=Math.atan2(a*e.x,a*e.y)),a=t*this.ns0/this.a,this.sphere?y=Math.asin((this.c-a*a)/(2*this.ns0)):(i=(this.c-a*a)/this.ns0,y=this.phi1z(this.e3,i)),c=Bi(l/this.ns0+this.long0),e.x=c,e.y=y,e}function _W(e,t){var i,a,l,c,y,n=au(.5*t);if(e<Ai)return n;for(var x=e*e,C=1;C<=25;C++)if(i=Math.sin(n),a=Math.cos(n),l=e*i,c=1-l*l,y=.5*c*c/a*(t/(1-x)-i/c+.5/e*Math.log((1-l)/(1+l))),n=n+y,Math.abs(y)<=1e-7)return n;return null}var yW=["Albers_Conic_Equal_Area","Albers","aea"];const bW={init:pW,forward:mW,inverse:gW,names:yW,phi1z:_W};function vW(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function xW(e){var t,i,a,l,c,y,n,x,C=e.x,k=e.y;return a=Bi(C-this.long0),t=Math.sin(k),i=Math.cos(k),l=Math.cos(a),y=this.sin_p14*t+this.cos_p14*i*l,c=1,y>0||Math.abs(y)<=Ai?(n=this.x0+this.a*c*i*Math.sin(a)/y,x=this.y0+this.a*c*(this.cos_p14*t-this.sin_p14*i*l)/y):(n=this.x0+this.infinity_dist*i*Math.sin(a),x=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*i*l)),e.x=n,e.y=x,e}function wW(e){var t,i,a,l,c,y;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(l=Math.atan2(t,this.rc),i=Math.sin(l),a=Math.cos(l),y=au(a*this.sin_p14+e.y*i*this.cos_p14/t),c=Math.atan2(e.x*i,t*this.cos_p14*a-e.y*this.sin_p14*i),c=Bi(this.long0+c)):(y=this.phic0,c=0),e.x=c,e.y=y,e}var FW=["gnom"];const CW={init:vW,forward:xW,inverse:wW,names:FW};function EW(e,t){var i=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-i)<1e-6)return t<0?-1*yi:yi;for(var a=Math.asin(.5*t),l,c,y,n,x=0;x<30;x++)if(c=Math.sin(a),y=Math.cos(a),n=e*c,l=Math.pow(1-n*n,2)/(2*y)*(t/(1-e*e)-c/(1-n*n)+.5/e*Math.log((1-n)/(1+n))),a+=l,Math.abs(l)<=1e-10)return a;return NaN}function SW(){this.sphere||(this.k0=Hc(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function TW(e){var t=e.x,i=e.y,a,l,c=Bi(t-this.long0);if(this.sphere)a=this.x0+this.a*c*Math.cos(this.lat_ts),l=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var y=Yd(this.e,Math.sin(i));a=this.x0+this.a*this.k0*c,l=this.y0+this.a*y*.5/this.k0}return e.x=a,e.y=l,e}function RW(e){e.x-=this.x0,e.y-=this.y0;var t,i;return this.sphere?(t=Bi(this.long0+e.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(i=EW(this.e,2*e.y*this.k0/this.a),t=Bi(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=i,e}var PW=["cea"];const IW={init:SW,forward:TW,inverse:RW,names:PW};function kW(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function MW(e){var t=e.x,i=e.y,a=Bi(t-this.long0),l=gu(i-this.lat0);return e.x=this.x0+this.a*a*this.rc,e.y=this.y0+this.a*l,e}function AW(e){var t=e.x,i=e.y;return e.x=Bi(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=gu(this.lat0+(i-this.y0)/this.a),e}var OW=["Equirectangular","Equidistant_Cylindrical","eqc"];const LW={init:kW,forward:MW,inverse:AW,names:OW};var SC=20;function DW(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Kg(this.es),this.e1=Zg(this.es),this.e2=Qg(this.es),this.e3=Xg(this.es),this.ml0=this.a*Ra(this.e0,this.e1,this.e2,this.e3,this.lat0)}function BW(e){var t=e.x,i=e.y,a,l,c,y=Bi(t-this.long0);if(c=y*Math.sin(i),this.sphere)Math.abs(i)<=Ai?(a=this.a*y,l=-1*this.a*this.lat0):(a=this.a*Math.sin(c)/Math.tan(i),l=this.a*(gu(i-this.lat0)+(1-Math.cos(c))/Math.tan(i)));else if(Math.abs(i)<=Ai)a=this.a*y,l=-1*this.ml0;else{var n=Gp(this.a,this.e,Math.sin(i))/Math.tan(i);a=n*Math.sin(c),l=this.a*Ra(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+n*(1-Math.cos(c))}return e.x=a+this.x0,e.y=l+this.y0,e}function jW(e){var t,i,a,l,c,y,n,x,C;if(a=e.x-this.x0,l=e.y-this.y0,this.sphere)if(Math.abs(l+this.a*this.lat0)<=Ai)t=Bi(a/this.a+this.long0),i=0;else{y=this.lat0+l/this.a,n=a*a/this.a/this.a+y*y,x=y;var k;for(c=SC;c;--c)if(k=Math.tan(x),C=-1*(y*(x*k+1)-x-.5*(x*x+n)*k)/((x-y)/k-1),x+=C,Math.abs(C)<=Ai){i=x;break}t=Bi(this.long0+Math.asin(a*Math.tan(x)/this.a)/Math.sin(i))}else if(Math.abs(l+this.ml0)<=Ai)i=0,t=Bi(this.long0+a/this.a);else{y=(this.ml0+l)/this.a,n=a*a/this.a/this.a+y*y,x=y;var O,B,L,V,G;for(c=SC;c;--c)if(G=this.e*Math.sin(x),O=Math.sqrt(1-G*G)*Math.tan(x),B=this.a*Ra(this.e0,this.e1,this.e2,this.e3,x),L=this.e0-2*this.e1*Math.cos(2*x)+4*this.e2*Math.cos(4*x)-6*this.e3*Math.cos(6*x),V=B/this.a,C=(y*(O*V+1)-V-.5*O*(V*V+n))/(this.es*Math.sin(2*x)*(V*V+n-2*y*V)/(4*O)+(y-V)*(O*L-2/Math.sin(2*x))-L),x-=C,Math.abs(C)<=Ai){i=x;break}O=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),t=Bi(this.long0+Math.asin(a*O/this.a)/Math.sin(i))}return e.x=t,e.y=i,e}var zW=["Polyconic","poly"];const VW={init:DW,forward:BW,inverse:jW,names:zW};function NW(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function $W(e){var t,i=e.x,a=e.y,l=a-this.lat0,c=i-this.long0,y=l/D1*1e-5,n=c,x=1,C=0;for(t=1;t<=10;t++)x=x*y,C=C+this.A[t]*x;var k=C,O=n,B=1,L=0,V,G,Q=0,Y=0;for(t=1;t<=6;t++)V=B*k-L*O,G=L*k+B*O,B=V,L=G,Q=Q+this.B_re[t]*B-this.B_im[t]*L,Y=Y+this.B_im[t]*B+this.B_re[t]*L;return e.x=Y*this.a+this.x0,e.y=Q*this.a+this.y0,e}function UW(e){var t,i=e.x,a=e.y,l=i-this.x0,c=a-this.y0,y=c/this.a,n=l/this.a,x=1,C=0,k,O,B=0,L=0;for(t=1;t<=6;t++)k=x*y-C*n,O=C*y+x*n,x=k,C=O,B=B+this.C_re[t]*x-this.C_im[t]*C,L=L+this.C_im[t]*x+this.C_re[t]*C;for(var V=0;V<this.iterations;V++){var G=B,Q=L,Y,J,re=y,ce=n;for(t=2;t<=6;t++)Y=G*B-Q*L,J=Q*B+G*L,G=Y,Q=J,re=re+(t-1)*(this.B_re[t]*G-this.B_im[t]*Q),ce=ce+(t-1)*(this.B_im[t]*G+this.B_re[t]*Q);G=1,Q=0;var he=this.B_re[1],we=this.B_im[1];for(t=2;t<=6;t++)Y=G*B-Q*L,J=Q*B+G*L,G=Y,Q=J,he=he+t*(this.B_re[t]*G-this.B_im[t]*Q),we=we+t*(this.B_im[t]*G+this.B_re[t]*Q);var pe=he*he+we*we;B=(re*he+ce*we)/pe,L=(ce*he-re*we)/pe}var De=B,Ae=L,Ne=1,it=0;for(t=1;t<=9;t++)Ne=Ne*De,it=it+this.D[t]*Ne;var ye=this.lat0+it*D1*1e5,Oe=this.long0+Ae;return e.x=Oe,e.y=ye,e}var GW=["New_Zealand_Map_Grid","nzmg"];const HW={init:NW,forward:$W,inverse:UW,names:GW};function qW(){}function WW(e){var t=e.x,i=e.y,a=Bi(t-this.long0),l=this.x0+this.a*a,c=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return e.x=l,e.y=c,e}function KW(e){e.x-=this.x0,e.y-=this.y0;var t=Bi(this.long0+e.x/this.a),i=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=i,e}var ZW=["Miller_Cylindrical","mill"];const QW={init:qW,forward:WW,inverse:KW,names:ZW};var XW=20;function JW(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=G6(this.es)}function YW(e){var t,i,a=e.x,l=e.y;if(a=Bi(a-this.long0),this.sphere){if(!this.m)l=this.n!==1?Math.asin(this.n*Math.sin(l)):l;else for(var c=this.n*Math.sin(l),y=XW;y;--y){var n=(this.m*l+Math.sin(l)-c)/(this.m+Math.cos(l));if(l-=n,Math.abs(n)<Ai)break}t=this.a*this.C_x*a*(this.m+Math.cos(l)),i=this.a*this.C_y*l}else{var x=Math.sin(l),C=Math.cos(l);i=this.a*n0(l,x,C,this.en),t=this.a*a*C/Math.sqrt(1-this.es*x*x)}return e.x=t,e.y=i,e}function eK(e){var t,i,a,l;return e.x-=this.x0,a=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,a=a/(this.C_x*(this.m+Math.cos(t))),this.m?t=au((this.m*t+Math.sin(t))/this.n):this.n!==1&&(t=au(Math.sin(t)/this.n)),a=Bi(a+this.long0),t=gu(t)):(t=H6(e.y/this.a,this.es,this.en),l=Math.abs(t),l<yi?(l=Math.sin(t),i=this.long0+e.x*Math.sqrt(1-this.es*l*l)/(this.a*Math.cos(t)),a=Bi(i)):l-Ai<yi&&(a=this.long0)),e.x=a,e.y=t,e}var tK=["Sinusoidal","sinu"];const iK={init:JW,forward:YW,inverse:eK,names:tK};function nK(){}function oK(e){for(var t=e.x,i=e.y,a=Bi(t-this.long0),l=i,c=Math.PI*Math.sin(i);;){var y=-(l+Math.sin(l)-c)/(1+Math.cos(l));if(l+=y,Math.abs(y)<Ai)break}l/=2,Math.PI/2-Math.abs(i)<Ai&&(a=0);var n=.900316316158*this.a*a*Math.cos(l)+this.x0,x=1.4142135623731*this.a*Math.sin(l)+this.y0;return e.x=n,e.y=x,e}function rK(e){var t,i;e.x-=this.x0,e.y-=this.y0,i=e.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),t=Math.asin(i);var a=Bi(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));a<-Math.PI&&(a=-Math.PI),a>Math.PI&&(a=Math.PI),i=(2*t+Math.sin(2*t))/Math.PI,Math.abs(i)>1&&(i=1);var l=Math.asin(i);return e.x=a,e.y=l,e}var aK=["Mollweide","moll"];const sK={init:nK,forward:oK,inverse:rK,names:aK};function cK(){Math.abs(this.lat1+this.lat2)<Ai||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Kg(this.es),this.e1=Zg(this.es),this.e2=Qg(this.es),this.e3=Xg(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Hc(this.e,this.sinphi,this.cosphi),this.ml1=Ra(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<Ai?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Hc(this.e,this.sinphi,this.cosphi),this.ml2=Ra(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Ra(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function lK(e){var t=e.x,i=e.y,a;if(this.sphere)a=this.a*(this.g-i);else{var l=Ra(this.e0,this.e1,this.e2,this.e3,i);a=this.a*(this.g-l)}var c=this.ns*Bi(t-this.long0),y=this.x0+a*Math.sin(c),n=this.y0+this.rh-a*Math.cos(c);return e.x=y,e.y=n,e}function dK(e){e.x-=this.x0,e.y=this.rh-e.y+this.y0;var t,i,a,l;this.ns>=0?(i=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(i=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var c=0;if(i!==0&&(c=Math.atan2(t*e.x,t*e.y)),this.sphere)return l=Bi(this.long0+c/this.ns),a=gu(this.g-i/this.a),e.x=l,e.y=a,e;var y=this.g-i/this.a;return a=o2(y,this.e0,this.e1,this.e2,this.e3),l=Bi(this.long0+c/this.ns),e.x=l,e.y=a,e}var uK=["Equidistant_Conic","eqdc"];const hK={init:cK,forward:lK,inverse:dK,names:uK};function fK(){this.R=this.a}function pK(e){var t=e.x,i=e.y,a=Bi(t-this.long0),l,c;Math.abs(i)<=Ai&&(l=this.x0+this.R*a,c=this.y0);var y=au(2*Math.abs(i/Math.PI));(Math.abs(a)<=Ai||Math.abs(Math.abs(i)-yi)<=Ai)&&(l=this.x0,i>=0?c=this.y0+Math.PI*this.R*Math.tan(.5*y):c=this.y0+Math.PI*this.R*-Math.tan(.5*y));var n=.5*Math.abs(Math.PI/a-a/Math.PI),x=n*n,C=Math.sin(y),k=Math.cos(y),O=k/(C+k-1),B=O*O,L=O*(2/C-1),V=L*L,G=Math.PI*this.R*(n*(O-V)+Math.sqrt(x*(O-V)*(O-V)-(V+x)*(B-V)))/(V+x);a<0&&(G=-G),l=this.x0+G;var Q=x+O;return G=Math.PI*this.R*(L*Q-n*Math.sqrt((V+x)*(x+1)-Q*Q))/(V+x),i>=0?c=this.y0+G:c=this.y0-G,e.x=l,e.y=c,e}function mK(e){var t,i,a,l,c,y,n,x,C,k,O,B,L;return e.x-=this.x0,e.y-=this.y0,O=Math.PI*this.R,a=e.x/O,l=e.y/O,c=a*a+l*l,y=-Math.abs(l)*(1+c),n=y-2*l*l+a*a,x=-2*y+1+2*l*l+c*c,L=l*l/x+(2*n*n*n/x/x/x-9*y*n/x/x)/27,C=(y-n*n/3/x)/x,k=2*Math.sqrt(-C/3),O=3*L/C/k,Math.abs(O)>1&&(O>=0?O=1:O=-1),B=Math.acos(O)/3,e.y>=0?i=(-k*Math.cos(B+Math.PI/3)-n/3/x)*Math.PI:i=-(-k*Math.cos(B+Math.PI/3)-n/3/x)*Math.PI,Math.abs(a)<Ai?t=this.long0:t=Bi(this.long0+Math.PI*(c-1+Math.sqrt(1+2*(a*a-l*l)+c*c))/2/a),e.x=t,e.y=i,e}var gK=["Van_der_Grinten_I","VanDerGrinten","vandg"];const _K={init:fK,forward:pK,inverse:mK,names:gK};function yK(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function bK(e){var t=e.x,i=e.y,a=Math.sin(e.y),l=Math.cos(e.y),c=Bi(t-this.long0),y,n,x,C,k,O,B,L,V,G,Q,Y,J,re,ce,he,we,pe,De,Ae,Ne,it,ye;return this.sphere?Math.abs(this.sin_p12-1)<=Ai?(e.x=this.x0+this.a*(yi-i)*Math.sin(c),e.y=this.y0-this.a*(yi-i)*Math.cos(c),e):Math.abs(this.sin_p12+1)<=Ai?(e.x=this.x0+this.a*(yi+i)*Math.sin(c),e.y=this.y0+this.a*(yi+i)*Math.cos(c),e):(pe=this.sin_p12*a+this.cos_p12*l*Math.cos(c),he=Math.acos(pe),we=he?he/Math.sin(he):1,e.x=this.x0+this.a*we*l*Math.sin(c),e.y=this.y0+this.a*we*(this.cos_p12*a-this.sin_p12*l*Math.cos(c)),e):(y=Kg(this.es),n=Zg(this.es),x=Qg(this.es),C=Xg(this.es),Math.abs(this.sin_p12-1)<=Ai?(k=this.a*Ra(y,n,x,C,yi),O=this.a*Ra(y,n,x,C,i),e.x=this.x0+(k-O)*Math.sin(c),e.y=this.y0-(k-O)*Math.cos(c),e):Math.abs(this.sin_p12+1)<=Ai?(k=this.a*Ra(y,n,x,C,yi),O=this.a*Ra(y,n,x,C,i),e.x=this.x0+(k+O)*Math.sin(c),e.y=this.y0+(k+O)*Math.cos(c),e):(B=a/l,L=Gp(this.a,this.e,this.sin_p12),V=Gp(this.a,this.e,a),G=Math.atan((1-this.es)*B+this.es*L*this.sin_p12/(V*l)),Q=Math.atan2(Math.sin(c),this.cos_p12*Math.tan(G)-this.sin_p12*Math.cos(c)),Q===0?De=Math.asin(this.cos_p12*Math.sin(G)-this.sin_p12*Math.cos(G)):Math.abs(Math.abs(Q)-Math.PI)<=Ai?De=-Math.asin(this.cos_p12*Math.sin(G)-this.sin_p12*Math.cos(G)):De=Math.asin(Math.sin(c)*Math.cos(G)/Math.sin(Q)),Y=this.e*this.sin_p12/Math.sqrt(1-this.es),J=this.e*this.cos_p12*Math.cos(Q)/Math.sqrt(1-this.es),re=Y*J,ce=J*J,Ae=De*De,Ne=Ae*De,it=Ne*De,ye=it*De,he=L*De*(1-Ae*ce*(1-ce)/6+Ne/8*re*(1-2*ce)+it/120*(ce*(4-7*ce)-3*Y*Y*(1-7*ce))-ye/48*re),e.x=this.x0+he*Math.sin(Q),e.y=this.y0+he*Math.cos(Q),e))}function vK(e){e.x-=this.x0,e.y-=this.y0;var t,i,a,l,c,y,n,x,C,k,O,B,L,V,G,Q,Y,J,re,ce,he,we,pe,De;return this.sphere?(t=Math.sqrt(e.x*e.x+e.y*e.y),t>2*yi*this.a?void 0:(i=t/this.a,a=Math.sin(i),l=Math.cos(i),c=this.long0,Math.abs(t)<=Ai?y=this.lat0:(y=au(l*this.sin_p12+e.y*a*this.cos_p12/t),n=Math.abs(this.lat0)-yi,Math.abs(n)<=Ai?this.lat0>=0?c=Bi(this.long0+Math.atan2(e.x,-e.y)):c=Bi(this.long0-Math.atan2(-e.x,e.y)):c=Bi(this.long0+Math.atan2(e.x*a,t*this.cos_p12*l-e.y*this.sin_p12*a))),e.x=c,e.y=y,e)):(x=Kg(this.es),C=Zg(this.es),k=Qg(this.es),O=Xg(this.es),Math.abs(this.sin_p12-1)<=Ai?(B=this.a*Ra(x,C,k,O,yi),t=Math.sqrt(e.x*e.x+e.y*e.y),L=B-t,y=o2(L/this.a,x,C,k,O),c=Bi(this.long0+Math.atan2(e.x,-1*e.y)),e.x=c,e.y=y,e):Math.abs(this.sin_p12+1)<=Ai?(B=this.a*Ra(x,C,k,O,yi),t=Math.sqrt(e.x*e.x+e.y*e.y),L=t-B,y=o2(L/this.a,x,C,k,O),c=Bi(this.long0+Math.atan2(e.x,e.y)),e.x=c,e.y=y,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),Q=Math.atan2(e.x,e.y),V=Gp(this.a,this.e,this.sin_p12),Y=Math.cos(Q),J=this.e*this.cos_p12*Y,re=-J*J/(1-this.es),ce=3*this.es*(1-re)*this.sin_p12*this.cos_p12*Y/(1-this.es),he=t/V,we=he-re*(1+re)*Math.pow(he,3)/6-ce*(1+3*re)*Math.pow(he,4)/24,pe=1-re*we*we/2-he*we*we*we/6,G=Math.asin(this.sin_p12*Math.cos(we)+this.cos_p12*Math.sin(we)*Y),c=Bi(this.long0+Math.asin(Math.sin(Q)*Math.sin(we)/Math.cos(G))),De=Math.sin(G),y=Math.atan2((De-this.es*pe*this.sin_p12)*Math.tan(G),De*(1-this.es)),e.x=c,e.y=y,e))}var xK=["Azimuthal_Equidistant","aeqd"];const wK={init:yK,forward:bK,inverse:vK,names:xK};function FK(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function CK(e){var t,i,a,l,c,y,n,x,C=e.x,k=e.y;return a=Bi(C-this.long0),t=Math.sin(k),i=Math.cos(k),l=Math.cos(a),y=this.sin_p14*t+this.cos_p14*i*l,c=1,(y>0||Math.abs(y)<=Ai)&&(n=this.a*c*i*Math.sin(a),x=this.y0+this.a*c*(this.cos_p14*t-this.sin_p14*i*l)),e.x=n,e.y=x,e}function EK(e){var t,i,a,l,c,y,n;return e.x-=this.x0,e.y-=this.y0,t=Math.sqrt(e.x*e.x+e.y*e.y),i=au(t/this.a),a=Math.sin(i),l=Math.cos(i),y=this.long0,Math.abs(t)<=Ai?(n=this.lat0,e.x=y,e.y=n,e):(n=au(l*this.sin_p14+e.y*a*this.cos_p14/t),c=Math.abs(this.lat0)-yi,Math.abs(c)<=Ai?(this.lat0>=0?y=Bi(this.long0+Math.atan2(e.x,-e.y)):y=Bi(this.long0-Math.atan2(-e.x,e.y)),e.x=y,e.y=n,e):(y=Bi(this.long0+Math.atan2(e.x*a,t*this.cos_p14*l-e.y*this.sin_p14*a)),e.x=y,e.y=n,e))}var SK=["ortho"];const TK={init:FK,forward:CK,inverse:EK,names:SK};var cr={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},vo={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function RK(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=yi-bo/2?this.face=cr.TOP:this.lat0<=-(yi-bo/2)?this.face=cr.BOTTOM:Math.abs(this.long0)<=bo?this.face=cr.FRONT:Math.abs(this.long0)<=yi+bo?this.face=this.long0>0?cr.RIGHT:cr.LEFT:this.face=cr.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function PK(e){var t={x:0,y:0},i,a,l,c,y,n,x={value:0};if(e.x-=this.long0,this.es!==0?i=Math.atan(this.one_minus_f_squared*Math.tan(e.y)):i=e.y,a=e.x,this.face===cr.TOP)c=yi-i,a>=bo&&a<=yi+bo?(x.value=vo.AREA_0,l=a-yi):a>yi+bo||a<=-(yi+bo)?(x.value=vo.AREA_1,l=a>0?a-pr:a+pr):a>-(yi+bo)&&a<=-bo?(x.value=vo.AREA_2,l=a+yi):(x.value=vo.AREA_3,l=a);else if(this.face===cr.BOTTOM)c=yi+i,a>=bo&&a<=yi+bo?(x.value=vo.AREA_0,l=-a+yi):a<bo&&a>=-bo?(x.value=vo.AREA_1,l=-a):a<-bo&&a>=-(yi+bo)?(x.value=vo.AREA_2,l=-a-yi):(x.value=vo.AREA_3,l=a>0?-a+pr:-a-pr);else{var C,k,O,B,L,V,G;this.face===cr.RIGHT?a=Pp(a,+yi):this.face===cr.BACK?a=Pp(a,+pr):this.face===cr.LEFT&&(a=Pp(a,-yi)),B=Math.sin(i),L=Math.cos(i),V=Math.sin(a),G=Math.cos(a),C=L*G,k=L*V,O=B,this.face===cr.FRONT?(c=Math.acos(C),l=sb(c,O,k,x)):this.face===cr.RIGHT?(c=Math.acos(k),l=sb(c,O,-C,x)):this.face===cr.BACK?(c=Math.acos(-C),l=sb(c,O,-k,x)):this.face===cr.LEFT?(c=Math.acos(-k),l=sb(c,O,C,x)):(c=l=0,x.value=vo.AREA_0)}return n=Math.atan(12/pr*(l+Math.acos(Math.sin(l)*Math.cos(bo))-yi)),y=Math.sqrt((1-Math.cos(c))/(Math.cos(n)*Math.cos(n))/(1-Math.cos(Math.atan(1/Math.cos(l))))),x.value===vo.AREA_1?n+=yi:x.value===vo.AREA_2?n+=pr:x.value===vo.AREA_3&&(n+=1.5*pr),t.x=y*Math.cos(n),t.y=y*Math.sin(n),t.x=t.x*this.a+this.x0,t.y=t.y*this.a+this.y0,e.x=t.x,e.y=t.y,e}function IK(e){var t={lam:0,phi:0},i,a,l,c,y,n,x,C,k,O={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,a=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),i=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?O.value=vo.AREA_0:e.y>=0&&e.y>=Math.abs(e.x)?(O.value=vo.AREA_1,i-=yi):e.x<0&&-e.x>=Math.abs(e.y)?(O.value=vo.AREA_2,i=i<0?i+pr:i-pr):(O.value=vo.AREA_3,i+=yi),k=pr/12*Math.tan(i),y=Math.sin(k)/(Math.cos(k)-1/Math.sqrt(2)),n=Math.atan(y),l=Math.cos(i),c=Math.tan(a),x=1-l*l*c*c*(1-Math.cos(Math.atan(1/Math.cos(n)))),x<-1?x=-1:x>1&&(x=1),this.face===cr.TOP)C=Math.acos(x),t.phi=yi-C,O.value===vo.AREA_0?t.lam=n+yi:O.value===vo.AREA_1?t.lam=n<0?n+pr:n-pr:O.value===vo.AREA_2?t.lam=n-yi:t.lam=n;else if(this.face===cr.BOTTOM)C=Math.acos(x),t.phi=C-yi,O.value===vo.AREA_0?t.lam=-n+yi:O.value===vo.AREA_1?t.lam=-n:O.value===vo.AREA_2?t.lam=-n-yi:t.lam=n<0?-n-pr:-n+pr;else{var B,L,V;B=x,k=B*B,k>=1?V=0:V=Math.sqrt(1-k)*Math.sin(n),k+=V*V,k>=1?L=0:L=Math.sqrt(1-k),O.value===vo.AREA_1?(k=L,L=-V,V=k):O.value===vo.AREA_2?(L=-L,V=-V):O.value===vo.AREA_3&&(k=L,L=V,V=-k),this.face===cr.RIGHT?(k=B,B=-L,L=k):this.face===cr.BACK?(B=-B,L=-L):this.face===cr.LEFT&&(k=B,B=L,L=-k),t.phi=Math.acos(-V)-yi,t.lam=Math.atan2(L,B),this.face===cr.RIGHT?t.lam=Pp(t.lam,-yi):this.face===cr.BACK?t.lam=Pp(t.lam,-pr):this.face===cr.LEFT&&(t.lam=Pp(t.lam,+yi))}if(this.es!==0){var G,Q,Y;G=t.phi<0?1:0,Q=Math.tan(t.phi),Y=this.b/Math.sqrt(Q*Q+this.one_minus_f_squared),t.phi=Math.atan(Math.sqrt(this.a*this.a-Y*Y)/(this.one_minus_f*Y)),G&&(t.phi=-t.phi)}return t.lam+=this.long0,e.x=t.lam,e.y=t.phi,e}function sb(e,t,i,a){var l;return e<Ai?(a.value=vo.AREA_0,l=0):(l=Math.atan2(t,i),Math.abs(l)<=bo?a.value=vo.AREA_0:l>bo&&l<=yi+bo?(a.value=vo.AREA_1,l-=yi):l>yi+bo||l<=-(yi+bo)?(a.value=vo.AREA_2,l=l>=0?l-pr:l+pr):(a.value=vo.AREA_3,l+=yi)),l}function Pp(e,t){var i=e+t;return i<-pr?i+=og:i>+pr&&(i-=og),i}var kK=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const MK={init:RK,forward:PK,inverse:IK,names:kK};var Sx=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],v1=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],uP=.8487,hP=1.3523,fP=jc/5,AK=1/fP,xp=18,r2=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))},OK=function(e,t){return e[1]+t*(2*e[2]+t*3*e[3])};function LK(e,t,i,a){for(var l=t;a;--a){var c=e(l);if(l-=c,Math.abs(c)<i)break}return l}function DK(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function BK(e){var t=Bi(e.x-this.long0),i=Math.abs(e.y),a=Math.floor(i*fP);a<0?a=0:a>=xp&&(a=xp-1),i=jc*(i-AK*a);var l={x:r2(Sx[a],i)*t,y:r2(v1[a],i)};return e.y<0&&(l.y=-l.y),l.x=l.x*this.a*uP+this.x0,l.y=l.y*this.a*hP+this.y0,l}function jK(e){var t={x:(e.x-this.x0)/(this.a*uP),y:Math.abs(e.y-this.y0)/(this.a*hP)};if(t.y>=1)t.x/=Sx[xp][0],t.y=e.y<0?-yi:yi;else{var i=Math.floor(t.y*xp);for(i<0?i=0:i>=xp&&(i=xp-1);;)if(v1[i][0]>t.y)--i;else if(v1[i+1][0]<=t.y)++i;else break;var a=v1[i],l=5*(t.y-a[0])/(v1[i+1][0]-a[0]);l=LK(function(c){return(r2(a,c)-t.y)/OK(a,c)},l,Ai,100),t.x/=r2(Sx[i],l),t.y=(5*i+l)*Kr,e.y<0&&(t.y=-t.y)}return t.x=Bi(t.x+this.long0),t}var zK=["Robinson","robin"];const VK={init:DK,forward:BK,inverse:jK,names:zK};function NK(){this.name="geocent"}function $K(e){var t=eP(e,this.es,this.a);return t}function UK(e){var t=tP(e,this.es,this.a,this.b);return t}var GK=["Geocentric","geocentric","geocent","Geocent"];const HK={init:NK,forward:$K,inverse:UK,names:GK};var aa={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},d1={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function qK(){if(Object.keys(d1).forEach((function(i){if(typeof this[i]>"u")this[i]=d1[i].def;else{if(d1[i].num&&isNaN(this[i]))throw new Error("Invalid parameter value, must be numeric "+i+" = "+this[i]);d1[i].num&&(this[i]=parseFloat(this[i]))}d1[i].degrees&&(this[i]=this[i]*Kr)}).bind(this)),Math.abs(Math.abs(this.lat0)-yi)<Ai?this.mode=this.lat0<0?aa.S_POLE:aa.N_POLE:Math.abs(this.lat0)<Ai?this.mode=aa.EQUIT:(this.mode=aa.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var e=this.tilt,t=this.azi;this.cg=Math.cos(t),this.sg=Math.sin(t),this.cw=Math.cos(e),this.sw=Math.sin(e)}function WK(e){e.x-=this.long0;var t=Math.sin(e.y),i=Math.cos(e.y),a=Math.cos(e.x),l,c;switch(this.mode){case aa.OBLIQ:c=this.sinph0*t+this.cosph0*i*a;break;case aa.EQUIT:c=i*a;break;case aa.S_POLE:c=-t;break;case aa.N_POLE:c=t;break}switch(c=this.pn1/(this.p-c),l=c*i*Math.sin(e.x),this.mode){case aa.OBLIQ:c*=this.cosph0*t-this.sinph0*i*a;break;case aa.EQUIT:c*=t;break;case aa.N_POLE:c*=-(i*a);break;case aa.S_POLE:c*=i*a;break}var y,n;return y=c*this.cg+l*this.sg,n=1/(y*this.sw*this.h1+this.cw),l=(l*this.cg-c*this.sg)*this.cw*n,c=y*n,e.x=l*this.a,e.y=c*this.a,e}function KK(e){e.x/=this.a,e.y/=this.a;var t={x:e.x,y:e.y},i,a,l;l=1/(this.pn1-e.y*this.sw),i=this.pn1*e.x*l,a=this.pn1*e.y*this.cw*l,e.x=i*this.cg+a*this.sg,e.y=a*this.cg-i*this.sg;var c=Ua(e.x,e.y);if(Math.abs(c)<Ai)t.x=0,t.y=e.y;else{var y,n;switch(n=1-c*c*this.pfact,n=(this.p-Math.sqrt(n))/(this.pn1/c+c/this.pn1),y=Math.sqrt(1-n*n),this.mode){case aa.OBLIQ:t.y=Math.asin(y*this.sinph0+e.y*n*this.cosph0/c),e.y=(y-this.sinph0*Math.sin(t.y))*c,e.x*=n*this.cosph0;break;case aa.EQUIT:t.y=Math.asin(e.y*n/c),e.y=y*c,e.x*=n;break;case aa.N_POLE:t.y=Math.asin(y),e.y=-e.y;break;case aa.S_POLE:t.y=-Math.asin(y);break}t.x=Math.atan2(e.x,e.y)}return e.x=t.x+this.long0,e.y=t.y,e}var ZK=["Tilted_Perspective","tpers"];const QK={init:qK,forward:WK,inverse:KK,names:ZK};function XK(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var e=1-this.es,t=1/e;this.radius_p=Math.sqrt(e),this.radius_p2=e,this.radius_p_inv2=t,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function JK(e){var t=e.x,i=e.y,a,l,c,y;if(t=t-this.long0,this.shape==="ellipse"){i=Math.atan(this.radius_p2*Math.tan(i));var n=this.radius_p/Ua(this.radius_p*Math.cos(i),Math.sin(i));if(l=n*Math.cos(t)*Math.cos(i),c=n*Math.sin(t)*Math.cos(i),y=n*Math.sin(i),(this.radius_g-l)*l-c*c-y*y*this.radius_p_inv2<0)return e.x=Number.NaN,e.y=Number.NaN,e;a=this.radius_g-l,this.flip_axis?(e.x=this.radius_g_1*Math.atan(c/Ua(y,a)),e.y=this.radius_g_1*Math.atan(y/a)):(e.x=this.radius_g_1*Math.atan(c/a),e.y=this.radius_g_1*Math.atan(y/Ua(c,a)))}else this.shape==="sphere"&&(a=Math.cos(i),l=Math.cos(t)*a,c=Math.sin(t)*a,y=Math.sin(i),a=this.radius_g-l,this.flip_axis?(e.x=this.radius_g_1*Math.atan(c/Ua(y,a)),e.y=this.radius_g_1*Math.atan(y/a)):(e.x=this.radius_g_1*Math.atan(c/a),e.y=this.radius_g_1*Math.atan(y/Ua(c,a))));return e.x=e.x*this.a,e.y=e.y*this.a,e}function YK(e){var t=-1,i=0,a=0,l,c,y,n;if(e.x=e.x/this.a,e.y=e.y/this.a,this.shape==="ellipse"){this.flip_axis?(a=Math.tan(e.y/this.radius_g_1),i=Math.tan(e.x/this.radius_g_1)*Ua(1,a)):(i=Math.tan(e.x/this.radius_g_1),a=Math.tan(e.y/this.radius_g_1)*Ua(1,i));var x=a/this.radius_p;if(l=i*i+x*x+t*t,c=2*this.radius_g*t,y=c*c-4*l*this.C,y<0)return e.x=Number.NaN,e.y=Number.NaN,e;n=(-c-Math.sqrt(y))/(2*l),t=this.radius_g+n*t,i*=n,a*=n,e.x=Math.atan2(i,t),e.y=Math.atan(a*Math.cos(e.x)/t),e.y=Math.atan(this.radius_p_inv2*Math.tan(e.y))}else if(this.shape==="sphere"){if(this.flip_axis?(a=Math.tan(e.y/this.radius_g_1),i=Math.tan(e.x/this.radius_g_1)*Math.sqrt(1+a*a)):(i=Math.tan(e.x/this.radius_g_1),a=Math.tan(e.y/this.radius_g_1)*Math.sqrt(1+i*i)),l=i*i+a*a+t*t,c=2*this.radius_g*t,y=c*c-4*l*this.C,y<0)return e.x=Number.NaN,e.y=Number.NaN,e;n=(-c-Math.sqrt(y))/(2*l),t=this.radius_g+n*t,i*=n,a*=n,e.x=Math.atan2(i,t),e.y=Math.atan(a*Math.cos(e.x)/t)}return e.x=e.x+this.long0,e}var eZ=["Geostationary Satellite View","Geostationary_Satellite","geos"];const tZ={init:XK,forward:JK,inverse:YK,names:eZ};var B1=1.340264,j1=-.081106,z1=893e-6,V1=.003796,a2=Math.sqrt(3)/2;function iZ(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function nZ(e){var t=Bi(e.x-this.long0),i=e.y,a=Math.asin(a2*Math.sin(i)),l=a*a,c=l*l*l;return e.x=t*Math.cos(a)/(a2*(B1+3*j1*l+c*(7*z1+9*V1*l))),e.y=a*(B1+j1*l+c*(z1+V1*l)),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function oZ(e){e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a;var t=1e-9,i=12,a=e.y,l,c,y,n,x,C;for(C=0;C<i&&(l=a*a,c=l*l*l,y=a*(B1+j1*l+c*(z1+V1*l))-e.y,n=B1+3*j1*l+c*(7*z1+9*V1*l),a-=x=y/n,!(Math.abs(x)<t));++C);return l=a*a,c=l*l*l,e.x=a2*e.x*(B1+3*j1*l+c*(7*z1+9*V1*l))/Math.cos(a),e.y=Math.asin(Math.sin(a)/a2),e.x=Bi(e.x+this.long0),e}var rZ=["eqearth","Equal Earth","Equal_Earth"];const aZ={init:iZ,forward:nZ,inverse:oZ,names:rZ};var sg=1e-10;function sZ(){var e;if(this.phi1=this.lat1,Math.abs(this.phi1)<sg)throw new Error;this.es?(this.en=G6(this.es),this.m1=n0(this.phi1,this.am1=Math.sin(this.phi1),e=Math.cos(this.phi1),this.en),this.am1=e/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=lZ,this.forward=cZ):(Math.abs(this.phi1)+sg>=yi?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=uZ,this.forward=dZ)}function cZ(e){var t=Bi(e.x-(this.long0||0)),i=e.y,a,l,c;return a=this.am1+this.m1-n0(i,l=Math.sin(i),c=Math.cos(i),this.en),l=c*t/(a*Math.sqrt(1-this.es*l*l)),e.x=a*Math.sin(l),e.y=this.am1-a*Math.cos(l),e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function lZ(e){e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a;var t,i,a,l;if(i=Ua(e.x,e.y=this.am1-e.y),l=H6(this.am1+this.m1-i,this.es,this.en),(t=Math.abs(l))<yi)t=Math.sin(l),a=i*Math.atan2(e.x,e.y)*Math.sqrt(1-this.es*t*t)/Math.cos(l);else if(Math.abs(t-yi)<=sg)a=0;else throw new Error;return e.x=Bi(a+(this.long0||0)),e.y=gu(l),e}function dZ(e){var t=Bi(e.x-(this.long0||0)),i=e.y,a,l;return l=this.cphi1+this.phi1-i,Math.abs(l)>sg?(e.x=l*Math.sin(a=t*Math.cos(i)/l),e.y=this.cphi1-l*Math.cos(a)):e.x=e.y=0,e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function uZ(e){e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a;var t,i,a=Ua(e.x,e.y=this.cphi1-e.y);if(i=this.cphi1+this.phi1-a,Math.abs(i)>yi)throw new Error;return Math.abs(Math.abs(i)-yi)<=sg?t=0:t=a*Math.atan2(e.x,e.y)/Math.cos(i),e.x=Bi(t+(this.long0||0)),e.y=gu(i),e}var hZ=["bonne","Bonne (Werner lat_1=90)"];const fZ={init:sZ,names:hZ};function pZ(e){e.Proj.projections.add(Sb),e.Proj.projections.add(Tb),e.Proj.projections.add(cq),e.Proj.projections.add(yq),e.Proj.projections.add(Cq),e.Proj.projections.add(Pq),e.Proj.projections.add(Lq),e.Proj.projections.add(Vq),e.Proj.projections.add(Hq),e.Proj.projections.add(Qq),e.Proj.projections.add(fW),e.Proj.projections.add(bW),e.Proj.projections.add(CW),e.Proj.projections.add(IW),e.Proj.projections.add(LW),e.Proj.projections.add(VW),e.Proj.projections.add(HW),e.Proj.projections.add(QW),e.Proj.projections.add(iK),e.Proj.projections.add(sK),e.Proj.projections.add(hK),e.Proj.projections.add(_K),e.Proj.projections.add(wK),e.Proj.projections.add(TK),e.Proj.projections.add(MK),e.Proj.projections.add(VK),e.Proj.projections.add(HK),e.Proj.projections.add(QK),e.Proj.projections.add(tZ),e.Proj.projections.add(aZ),e.Proj.projections.add(fZ)}ka.defaultDatum="WGS84";ka.Proj=Nc;ka.WGS84=new ka.Proj("WGS84");ka.Point=Up;ka.toPoint=iP;ka.defs=Ea;ka.nadgrid=dH;ka.transform=n2;ka.mgrs=SH;ka.version="__VERSION__";pZ(ka);var pP,TC="deflate-raw",RC=self.DecompressionStream;try{new RC(TC),pP=async e=>{let t=new RC(TC),i=t.writable.getWriter(),a=t.readable.getReader();i.write(e),i.close();let l,c=[],y=0,n=0,x;for(;!(x=await a.read()).done;)l=x.value,c.push(l),y+=l.length;return c.length-1?(l=new Uint8Array(y),c.map(C=>{l.set(C,n),n+=C.length}),l):c[0]}}catch{}var mZ=new TextDecoder,T3=e=>{throw new Error("but-unzip~"+e)},PC=e=>mZ.decode(e),gZ=e=>{let t=e.length-20,i=Math.max(t-65516,2);for(;(t=e.lastIndexOf(80,t-1))!==-1&&!(e[t+1]===75&&e[t+2]===5&&e[t+3]===6)&&t>i;);return t};function*_Z(e,t=pP){let i=gZ(e);i===-1&&T3(2);let a=(x,C)=>e.subarray(i+=x,i+=C),l=new DataView(e.buffer,e.byteOffset),c=x=>l.getUint16(x+i,!0),y=x=>l.getUint32(x+i,!0),n=c(10);for(n!==c(8)&&T3(3),i=y(16);n--;){let x=c(10),C=c(28),k=c(30),O=c(32),B=y(20),L=y(42),V=PC(a(46,C)),G=PC(a(k,O)),Q=i,Y;i=L,Y=a(30+c(26)+c(28),B),yield{filename:V,comment:G,read:()=>x&8?t(Y):x?T3(1):Y},i=Q}}const yZ=/.+\.(shp|dbf|json|prj|cpg)$/i,bZ=async e=>{const t={},i=[];for(const c of _Z(e))yZ.test(c.filename)&&i.push(Promise.resolve(c.read()).then(y=>t[c.filename]=y));await Promise.all(i);const a={},l=new TextDecoder;for(const[c,y]of Object.entries(t))c.slice(-3).toLowerCase()==="shp"||c.slice(-3).toLowerCase()==="dbf"?a[c]=new DataView(y.buffer,y.byteOffset,y.byteLength):a[c]=l.decode(y);return a},vZ=globalThis.URL,xZ=(e,t)=>{if(!t)return e;const i=new vZ(e);return i.pathname=`${i.pathname}.${t}`,i.href};async function cg(e,t){const i=xZ(e,t),a=t==="prj"||t==="cpg";try{const l=await fetch(i);if(l.status>399)throw new Error(l.statusText);if(a)return l.text();const c=await l.arrayBuffer();return new DataView(c)}catch(l){if(a||t==="dbf")return!1;throw l}}function wZ(e){let t=0,i=1;const a=e.length;let l,c;const y=[e[0][0],e[0][1],e[0][0],e[0][1]];for(;i<a;)l=c||e[0],c=e[i],t+=(c[0]-l[0])*(c[1]+l[1]),i++,c[0]<y[0]&&(y[0]=c[0]),c[1]<y[1]&&(y[1]=c[1]),c[0]>y[2]&&(y[2]=c[0]),c[1]>y[3]&&(y[3]=c[1]);return{ring:e,clockWise:t>0,bbox:y,children:[]}}function FZ(e,t){return!(e.bbox[0]>t.bbox[0]||e.bbox[1]>t.bbox[1]||e.bbox[2]<t.bbox[2]||e.bbox[3]<t.bbox[3])}function CZ(e){const t=[],i=[];for(const l of e){const c=wZ(l);c.clockWise?t.push(c):i.push(c)}for(const l of i)for(const c of t)if(FZ(c,l)){c.children.push(l.ring);break}const a=[];for(const l of t)a.push([l.ring].concat(l.children));return a}_r.prototype.parsePoint=function(e){return{type:"Point",coordinates:this.parseCoord(e,0)}};_r.prototype.parseZPoint=function(e){const t=this.parsePoint(e);return t.coordinates.push(e.getFloat64(16,!0)),t};_r.prototype.parsePointArray=function(e,t,i){const a=[];let l=0;for(;l<i;)a.push(this.parseCoord(e,t)),t+=16,l++;return a};_r.prototype.parseZPointArray=function(e,t,i,a){let l=0;for(;l<i;)a[l].push(e.getFloat64(t,!0)),l++,t+=8;return a};_r.prototype.parseArrayGroup=function(e,t,i,a,l){const c=[];let y=0,n,x=0,C;for(;y<a;)y++,i+=4,n=x,y===a?x=l:x=e.getInt32(i,!0),C=x-n,C&&(c.push(this.parsePointArray(e,t,C)),t+=C<<4);return c};_r.prototype.parseZArrayGroup=function(e,t,i,a){let l=0;for(;l<i;)a[l]=this.parseZPointArray(e,t,a[l].length,a[l]),t+=a[l].length<<3,l++;return a};_r.prototype.parseMultiPoint=function(e){const t={},i=e.getInt32(32,!0);if(!i)return null;const a=this.parseCoord(e,0),l=this.parseCoord(e,16);t.bbox=[a[0],a[1],l[0],l[1]];const c=36;return i===1?(t.type="Point",t.coordinates=this.parseCoord(e,c)):(t.type="MultiPoint",t.coordinates=this.parsePointArray(e,c,i)),t};_r.prototype.parseZMultiPoint=function(e){const t=this.parseMultiPoint(e);if(!t)return null;let i;if(t.type==="Point")return t.coordinates.push(e.getFloat64(72,!0)),t;i=t.coordinates.length;const a=52+(i<<4);return t.coordinates=this.parseZPointArray(e,a,i,t.coordinates),t};_r.prototype.parsePolyline=function(e){const t={},i=e.getInt32(32,!0);if(!i)return null;const a=this.parseCoord(e,0),l=this.parseCoord(e,16);t.bbox=[a[0],a[1],l[0],l[1]];const c=e.getInt32(36,!0);let y,n;return i===1?(t.type="LineString",y=44,t.coordinates=this.parsePointArray(e,y,c)):(t.type="MultiLineString",y=40+(i<<2),n=40,t.coordinates=this.parseArrayGroup(e,y,n,i,c)),t};_r.prototype.parseZPolyline=function(e){const t=this.parsePolyline(e);if(!t)return null;const i=t.coordinates.length;let a;return t.type==="LineString"?(a=60+(i<<4),t.coordinates=this.parseZPointArray(e,a,i,t.coordinates),t):(a=56+(t.coordinates.reduce(function(c,y){return c+y.length},0)<<4)+(i<<2),t.coordinates=this.parseZArrayGroup(e,a,i,t.coordinates),t)};_r.prototype.polyFuncs=function(e){return e&&(e.type==="LineString"?(e.type="Polygon",e.coordinates=[e.coordinates],e):(e.coordinates=CZ(e.coordinates),e.coordinates.length===1?(e.type="Polygon",e.coordinates=e.coordinates[0],e):(e.type="MultiPolygon",e)))};_r.prototype.parsePolygon=function(e){return this.polyFuncs(this.parsePolyline(e))};_r.prototype.parseZPolygon=function(e){return this.polyFuncs(this.parseZPolyline(e))};const IC={1:"parsePoint",3:"parsePolyline",5:"parsePolygon",8:"parseMultiPoint",11:"parseZPoint",13:"parseZPolyline",15:"parseZPolygon",18:"parseZMultiPoint"};function EZ(e){return e?function(t,i){const a=[t.getFloat64(i,!0),t.getFloat64(i+8,!0)];return e.inverse(a)}:function(t,i){return[t.getFloat64(i,!0),t.getFloat64(i+8,!0)]}}function _r(e,t){if(!(this instanceof _r))return new _r(e,t);this.buffer=e,this.headers=this.parseHeader(),this.shpFuncs(t),this.rows=this.getRows()}_r.prototype.shpFuncs=function(e){let t=this.headers.shpCode;if(t>20&&(t-=20),!(t in IC))throw new Error(`I don't know shp type "${t}"`);this.parseFunc=this[IC[t]],this.parseCoord=EZ(e)};_r.prototype.getShpCode=function(){return this.parseHeader().shpCode};_r.prototype.parseHeader=function(){const e=this.buffer;return{length:e.getInt32(24)<<1,version:e.getInt32(28,!0),shpCode:e.getInt32(32,!0),bbox:[e.getFloat64(36,!0),e.getFloat64(44,!0),e.getFloat64(52,!0),e.getFloat64(60,!0)]}};_r.prototype.getRows=function(){let e=100;const t=this.buffer.byteLength-8,i=[];let a;for(;e<=t&&(a=this.getRow(e),!!a);)e+=8,e+=a.len,a.type?i.push(this.parseFunc(a.data)):i.push(null);return i};_r.prototype.getRow=function(e){const t=this.buffer.getInt32(e),i=this.buffer.getInt32(e+4)<<1;if(i===0)return{id:t,len:i,type:0};if(!(e+i+8>this.buffer.byteLength))return{id:t,len:i,data:new DataView(this.buffer.buffer,this.buffer.byteOffset+e+12,i-4),type:this.buffer.getInt32(e+8,!0)}};function Z6(e,t){return new _r(e,t).rows}var SZ=/^(?:ANSI\s)?(\d+)$/m;function mP(e,t){if(!e)return a;try{new TextDecoder(e.trim())}catch{var i=SZ.exec(e);return i&&!t?mP("windows-"+i[1],!0):(e=void 0,a)}return a;function a(l){var c=new TextDecoder(e||void 0),y=c.decode(l,{stream:!0})+c.decode();return y.replace(/\0/g,"").trim()}}function TZ(e){var t={};return t.lastUpdated=new Date(e.getUint8(1)+1900,e.getUint8(2),e.getUint8(3)),t.records=e.getUint32(4,!0),t.headerLen=e.getUint16(8,!0),t.recLen=e.getUint16(10,!0),t}function RZ(e,t,i){for(var a=[],l=32;l<t&&(a.push({name:i(new Uint8Array(e.buffer.slice(e.byteOffset+l,e.byteOffset+l+11))),dataType:String.fromCharCode(e.getUint8(l+11)),len:e.getUint8(l+16),decimal:e.getUint8(l+17)}),e.getUint8(l+32)!==13);)l+=32;return a}function PZ(e,t,i,a,l){const c=new Uint8Array(e.buffer.slice(e.byteOffset+t,e.byteOffset+t+i));var y=l(c);switch(a){case"N":case"F":case"O":return parseFloat(y,10);case"D":return new Date(y.slice(0,4),parseInt(y.slice(4,6),10)-1,y.slice(6,8));case"L":return y.toLowerCase()==="y"||y.toLowerCase()==="t";default:return y}}function IZ(e,t,i,a){for(var l={},c=0,y=i.length,n,x;c<y;)x=i[c],n=PZ(e,t,x.len,x.dataType,a),t+=x.len,typeof n<"u"&&(l[x.name]=n),c++;return l}function Q6(e,t){for(var i=mP(t),a=TZ(e),l=RZ(e,a.headerLen-1,i),c=(l.length+1<<5)+2,y=a.recLen,n=a.records,x=[];n;)x.push(IZ(e,c,l,i)),c+=y,n--;return x}const kZ=globalThis.URL,MZ=e=>{if(!e)throw new Error("forgot to pass buffer");if(Hp(e))return new Uint8Array(e);if(Hp(e.buffer))return e.BYTES_PER_ELEMENT===1?e:new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("invalid buffer like object")},AZ=new TextDecoder,gP=e=>{if(e){if(typeof e=="string")return e;if(Hp(e)||ArrayBuffer.isView(e)||X6(e))return AZ.decode(e)}},_P=e=>{if(!e)throw new Error("forgot to pass buffer");if(X6(e))return e;if(Hp(e))return new DataView(e);if(Hp(e.buffer))return new DataView(e.buffer,e.byteOffset,e.byteLength);throw new Error("invalid buffer like object")};function Hp(e){return e instanceof globalThis.ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]"}function X6(e){return e instanceof globalThis.DataView||Object.prototype.toString.call(e)==="[object DataView]"}const J6=function([e,t]){const i={};i.type="FeatureCollection",i.features=[];let a=0;const l=e.length;for(t||(t=[]);a<l;)i.features.push({type:"Feature",geometry:e[a],properties:t[a]||{}}),a++;return i},yP=async function(e,t){let i;e=MZ(e);const a=await bZ(e),l=[];t=t||[];for(i in a)i.indexOf("__MACOSX")===-1&&(i.slice(-4).toLowerCase()===".shp"?(l.push(i.slice(0,-4)),a[i.slice(0,-3)+i.slice(-3).toLowerCase()]=a[i]):i.slice(-4).toLowerCase()===".prj"?a[i.slice(0,-3)+i.slice(-3).toLowerCase()]=ka(a[i]):i.slice(-5).toLowerCase()===".json"||t.indexOf(i.split(".").pop())>-1?l.push(i.slice(0,-3)+i.slice(-3).toLowerCase()):(i.slice(-4).toLowerCase()===".dbf"||i.slice(-4).toLowerCase()===".cpg")&&(a[i.slice(0,-3)+i.slice(-3).toLowerCase()]=a[i]));if(!l.length)throw new Error("no layers founds");const c=l.map(function(y){let n,x;const C=y.lastIndexOf(".");return C>-1&&y.slice(C).indexOf("json")>-1?(n=JSON.parse(a[y]),n.fileName=y.slice(0,C)):t.indexOf(y.slice(C+1))>-1?(n=a[y],n.fileName=y):(a[y+".dbf"]&&(x=Q6(a[y+".dbf"],a[y+".cpg"])),n=J6([Z6(a[y+".shp"],a[y+".prj"]),x]),n.fileName=y),n});return c.length===1?c[0]:c};async function OZ(e,t){const i=await cg(e);return yP(i,t)}const LZ=async e=>{const t=await Promise.all([cg(e,"shp"),cg(e,"prj")]);let i=!1;try{t[1]&&(i=ka(t[1]))}catch{i=!1}return Z6(t[0],i)},DZ=async e=>{const[t,i]=await Promise.all([cg(e,"dbf"),cg(e,"cpg")]);if(t)return Q6(t,i)},kC=(e,t)=>{var a;return new kZ(e,(a=globalThis==null?void 0:globalThis.document)==null?void 0:a.location).pathname.slice(-4).toLowerCase()===t},BZ=({shp:e,dbf:t,cpg:i,prj:a})=>{const l=[zZ(e,a)];return t&&l.push(VZ(t,i)),J6(l)},jZ=async function(e,t){if(typeof e!="string"){if(Hp(e)||ArrayBuffer.isView(e)||X6(e))return yP(e);if(e.shp)return BZ(e);throw new TypeError("must be a string, some sort of Buffer, or an object with at least a .shp property")}if(kC(e,".zip"))return OZ(e,t);kC(e,".shp")&&(e=e.slice(0,-4));const i=await Promise.all([LZ(e),DZ(e)]);return J6(i)},zZ=function(e,t){if(e=_P(e),t=gP(t),typeof t=="string")try{t=ka(t)}catch{t=!1}return Z6(e,t)},VZ=function(e,t){return e=_P(e),t=gP(t),Q6(e,t)};function NZ(e,t){if(t=t??{},!UR(t))throw new Error("options is invalid");var i=t.precision,a=t.coordinates,l=t.mutate;if(i=i==null||isNaN(i)?6:i,a=a==null||isNaN(a)?3:a,!e)throw new Error("<geojson> is required");if(typeof i!="number")throw new Error("<precision> must be a number");if(typeof a!="number")throw new Error("<coordinates> must be a number");(l===!1||l===void 0)&&(e=JSON.parse(JSON.stringify(e)));var c=Math.pow(10,i);return V6(e,function(y){$Z(y,c,a)}),e}function $Z(e,t,i){e.length>i&&e.splice(i,e.length);for(var a=0;a<e.length;a++)e[a]=Math.round(e[a]*t)/t;return e}var MC=NZ;const Y6=pu("uploadStore",()=>{let e=ai(!1),t=ai(0),i=ai(null),a=ai({}),l=ai({}),c=ai(5e7);ai(5e6);const y=Li(()=>i.value?a.value[i.value]:null),n=Li(()=>{if(!e2(y.value)&&!e2(y.value.geojson.features)){let pe=Object.keys(y.value.geojson.features[0].properties);return pe=pe.map(De=>({value:De,label:De})),pe.unshift({value:"naturebase-assign",label:"auto-assign name"}),pe}else return[]}),x=Li(()=>{if(y.value){const pe=y.value.selected_features,De={area_count:pe.length,area_ha:0,file_size_kb:0};return De.area_ha=pe.reduce((Ae,Ne)=>Math.round(Ae+Dc(Ne)/1e4),0),De.area_ac=pe.reduce((Ae,Ne)=>Math.round(Ae+Dc(Ne)/4046.86),0),De.file_size_kb=pe.reduce((Ae,Ne)=>Math.round(Ae+C3(Ne)),0),De}else return{area_count:0,area_ha:0,area_ac:0,file_size_kb:0}}),C=pe=>pe?Math.round(Dc(pe)/1e4):0,k=pe=>pe?Math.round(Dc(pe)/4046.86):0,O=pe=>{if(pe&&pe.type==="FeatureCollection"&&pe.features){for(const De of pe.features)if(De.geometry&&De.geometry.type==="Polygon"||De.geometry.type==="MultiPolygon")return console.log(" - polygon is valid"),!0}else return!1},B=pe=>pe>c.value?!1:(console.log(" - file size is valid"),!0),L=pe=>{const De=["SELECT","INSERT","UPDATE","DELETE","FROM","DROP","UNION"],Ae=[";","--","/*","*/"];function Ne(ye){return De.some(Oe=>ye.includes(Oe))||Ae.some(Oe=>ye.includes(Oe))}function it(ye){for(const Oe in ye)if(typeof ye[Oe]=="string"&&Ne(ye[Oe])||typeof ye[Oe]=="object"&&!Array.isArray(ye[Oe])&&!it(ye[Oe]))return!1;return!0}return it(pe)},V=pe=>{console.log("validate geojson");const De=pe;console.log("geojson data validate",De);const Ae=_1();if(!O(De.geojson)){console.log("ERROR: Geojson is not a valid polygon."),Ae.addMessage({type:"ERROR",action:"upload",message:"Uploaded file does not appear to contain any polygons.",time:new Date}),we();return}if(!B(De.size)){Ae.addMessage({code:"E1",message:`File size is too large. Must be less than ${c.value/1e3} MB.`}),we();return}if(!L(De.geojson)){Ae.addMessage({code:"E1",message:"Geojson contains unsafe SQL characters."}),we();return}console.log("Geojson is valid")},G=async pe=>{console.log("processing geojson");const De="file_"+crypto.randomUUID();i.value=De;const Ae=new FileReader;Ae.onload=()=>{const Ne=JSON.parse(Ae.result);console.log("geojson",Ne);const it=MC(Ne,{precision:5});console.log("truncatedGeojson",it),a.value[De]={name:pe.name,geojson:it,size:C3(it),area_ha:C(it),area_ac:k(it),fields:Object.keys(it.features[0].properties),name_field:null,selected_features:[]},V(a.value[De]),e.value=!0},Ae.readAsText(pe)},Q=async pe=>new Promise((De,Ae)=>{const Ne=_1(),it=new FileReader;it.onload=()=>De(it.result),it.onerror=()=>{Ne.addMessage({type:"ERROR",action:"upload",message:"Error reading zip file.",details:it.error,time:new Date}),Ae(it.error)},it.readAsArrayBuffer(pe)}),Y=async pe=>{_1();try{return await jZ(pe)}catch(De){console.log("ERROR",De),we()}},J=async pe=>{const De=await Q(pe),Ae=_1();try{const Ne=await Y(De);console.log("geojson",Ne);const it="file_"+crypto.randomUUID();i.value=it;const ye=MC(Ne,{precision:5});l.value[it]={name:pe.name,size:Math.round(pe.size/1e3),data:pe,zip:De,zip_size:pe.size/1e3},a.value[it]={name:pe.name,size:C3(ye),geojson:ye,area_ha:C(ye),area_ac:k(ye),fields:Object.keys(ye.features[0].properties),name_field:null,selected_features:[]},V(a.value[it]),e.value=!0}catch(Ne){console.log("MAJOR ERROR",Ne),Ae.addMessage({code:"E1",message:"Problem converting shapefile. Check that zipped shapefile contains .shp, .dbf, .shx, and .prj files."}),we();return}},re=(pe,De)=>pe.name_field==="naturebase-assign"||pe.name_field===null?(t.value++,"Uploaded Area "+t.value):De.properties[pe.name_field]?De.properties[pe.name_field]:(t.value++,"Uploaded Area "+t.value),ce=()=>{const De={type:"FeatureCollection",features:y.value.selected_features},Ae=wx(De);return console.log("dissolved geojson",Ae),Ae},he=async()=>{vr();const pe=y.value;pe.geojson.features.length==1&&(pe.selected_features=pe.geojson.features),pe.dissolvePolygons&&(pe.geojson_dissolved=ce());let De={};for(let Ae of pe.selected_features){let Ne="user_"+crypto.randomUUID(),it=Math.round(Dc(Ae)/1e4),ye=Math.round(Dc(Ae)/4046.86),Oe=GU(Ae),ue=gx(Ae).geometry.coordinates,ct=new Date,Ct=re(pe,Ae);const pt={type:"FeatureCollection",features:[Ae]};Ae.ncs_id=Ne,Ae.area_id=Ne,Ae.id=Ne,Ae.properties.input_type="upload",Ae.properties.ncs_id=Ne,Ae.properties.area_id=Ne,Ae.properties.id=Ne,Ae.properties.area_name=Ct;const Ut={area_ha:it,area_ac:ye,bbox:Oe,center:ue,data:{area_ha:it,area_ac:ye,albedo_2_dev_weight:.5,albedo_2_crop_weight:.5},edited:!0,geo_type:"user",geojson:pt,input_type:"upload",ncs_id:Ne,area_id:Ne,area_name:Ct,saved:!1,time_created:ct,time_modified:ct};De[Ne]=Ut}return De},we=()=>{delete a[i.value],delete a[i.value],i.value=null};return{userUploadAreaCount:t,showUploadModal:e,activeGeojson:y,activeGeojsonId:i,activeFieldNames:n,selectedAreasSummary:x,uploadedGeojson:a,uploadedShapefile:l,processGeojson:G,processShapefile:J,analyzeUpload:he,clearUpload:we}}),vr=pu("dataAnalysisStore",()=>{let e="https://action-mapper.s3.amazonaws.com/usa-afc-cog/",t="https://analysis.naturebase.io/summarize-rasters",i=ai(null),a=Li(()=>l.value?x.value[i.value].areas[l.value]:{area_name:"Analysis Area"}),l=ai(null),c=ai(null),y=ai(null),n=ai("add-areas"),x=ai({});ai(0),ai(null);let C=ai(!1),k=ai(!1),O=ai(!1),B=ai(!1),L=ai(15),V=ai(1);const G=()=>{V.value++};let Q=Li(()=>x.value[i.value]);const Y=()=>{const Ct=wr(),pt=we.value;Ct.zoomToBbox(pt)};let J=Li(()=>{if(Q.value.areas){const Ct=Object.values(Q.value.areas);return Ct.forEach(Ut=>{console.log("area",Ut),Ut.data&&(Ut.data.area_ac=Ut.area_ac)}),Ct.sort((Ut,vt)=>Ut.area_name.localeCompare(vt.area_name))}else return[]}),re=Li(()=>{const Ct=fc(),pt=mo();if(Q.value.areas){const Ut=Object.values(Q.value.areas),vt=[];return Ut.forEach(Bt=>{if(Bt.data){const It=UT(Bt.data_opportunities.conversionRate.user,Ct.commitmentPeriod,Bt.data_opportunities.carbonTotalDist.raw,Bt.data_opportunities.unprotectedForestAcres.raw,Bt.data_opportunities.carbonMeanPerForestAcre.raw,pt.includeAlbedo,Bt.data_opportunities.albedo2DevMean.raw,Bt.data_opportunities.albedo2CropMean.raw,pt.albedo2DevWeight,pt.albedo2CropWeight),St=GT(It.afc,Bt.data_opportunities.unprotectedForestPercent.raw,Bt.data_opportunities.landCostTotal.raw);let Wt={area_id:Bt.area_id,workspace_id:i.value,area_name:Bt.area_name,area_ac:B2(Bt.area_ac).string,unsecured_forest_ac:Bt.data_opportunities.unprotectedForestAcres.string,unsecured_forest_percent:Bt.data_opportunities.unprotectedForestPercent.string,unsecured_forest_percent_value:Bt.data_opportunities.unprotectedForestPercent.value,land_cost_total:Bt.data_opportunities.landCostTotal.string,land_cost_mean:Bt.data_opportunities.landCostMean.string,land_cost_total_value:Bt.data_opportunities.landCostTotal.value,forest_legacy_percent:Bt.data_opportunities.forestLegacySummary.percent,unsecured_carbon_total:Bt.data_opportunities.carbonTotalDist.string,unsecured_carbon_mean_ac:Bt.data_opportunities.carbonMeanPerForestAcre.string,avoided_forest_conversion:It.afc,afc_data:{area_id:Bt.area_id,workspace_id:i.value,commitment_period:Ct.commitmentPeriod,conversion_rate:Bt.data_opportunities.conversionRate,unprotected_forest_acres:Bt.data_opportunities.unprotectedForestAcres.value,carbon_mean_per_forest_acre:Bt.data_opportunities.carbonMeanPerForestAcre.value,include_albedo:Bt.data_opportunities.includeAlbedo,albedo_2_dev_mean:Bt.data_opportunities.albedo2DevMean,albedo_2_crop_mean:Bt.data_opportunities.albedo2CropMean,albedo_2_dev_weight:Bt.data_opportunities.albedo2DevWeight,albedo_2_crop_weight:Bt.data_opportunities.albedo2CropWeight,avoided_conversion_amount:It},conversion_rate_mean:Bt.data_opportunities.conversionRate.mean,conversion_rate_min:Bt.data_opportunities.conversionRate.min,conversion_rate_max:Bt.data_opportunities.conversionRate.max,afc_roi:St,afc_roi_usd_per_ton_c_forests:St.usd_per_ton_c_forests.value,resilience_avg_score:Bt.data_cobenefits.rcnResilienceScore.string,rcn_classes:Bt.data_cobenefits.rcnClasses,rcn_percent:Bt.data_cobenefits.rcnPercent,water_provision:Bt.data_cobenefits.waterProvisionClass,critical_habitat_species_number:Bt.data_cobenefits.criticalHabitat.length,critical_habitat_species_list:Bt.data_cobenefits.criticalHabitat,conversion_pressure_index:Bt.data_threats.conversionPressureClass,land_ownership_classes:Bt.data_threats.landOwnership,private_unprotected_percent:Bt.data_threats.privateUnprotected.percent,megaregion_name:Bt.data_threats.megaregion.megaregion};vt.push(Wt)}}),vt}});const ce=Ct=>{if(Q.value.areas){const Ut=Object.values(Q.value.areas).filter(Bt=>Ct.includes(Bt.area_id));return Ut.forEach(Bt=>{console.log("area",Bt),Bt.data&&(Bt.data.area_ac=Bt.area_ac,Bt.data_opportunities=ax(Bt.data),Bt.data_cobenefits=sx(Bt.data),Bt.data_threats=cx(Bt.data))}),Ut.sort((Bt,It)=>Bt.area_name.localeCompare(It.area_name))}else return[]};let he=ai([]);Li(()=>[]);const we=Li(()=>{const Ct=Q.value,pt=[],Ut={type:"FeatureCollection",features:[0,0,0,0]};if(Object.keys(Ct.areas).length>0||Object.keys(Ct.adm_areas).length>0){if(!e2(Ct.areas)&&Object.keys(Ct.areas).length>0)for(const vt in Ct.areas)try{let Bt=Ct.areas[vt].geojson;pt.push(Bt.features[0])}catch{}if(!e2(Ct.adm_areas)&&Object.keys(Ct.adm_areas).length>0)for(const vt in Ct.adm_areas)try{let Bt=Ct.adm_areas[vt].geojson;pt.push(Bt.features[0])}catch{}return Ut.features=pt,Ut}else return{type:"FeatureCollection",features:[]}}),pe=Li(()=>{const Ct=J.value,pt={type:"FeatureCollection",features:[]};if(Ct.length==0)return pt;for(const Ut of Ct){const vt=Ut.center,Bt=Ut.area_name,It={type:"Feature",geometry:{type:"Point",coordinates:vt},properties:{area_name:Bt}};pt.features.push(It)}return pt}),De=Li(()=>({})),Ae=async Ct=>{try{const Ut=await(await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ct)})).json();return console.log("data",Ut),Ut}catch(pt){console.error("Error:",pt)}},Ne=(Ct,pt)=>{const Ut=crypto.randomUUID(),vt=new Date;x.value[Ut]={workspace_id:Ut,project_name:Ct||"Unsaved",project_description:pt||"",time_created:vt.toISOString(),adm_areas:{},areas:{},saved:!1,areaEdits:[]},i.value=Ut},it=Ct=>{console.log("merge"),Object.assign(x.value[i.value].areas,Ct)},ye=()=>{console.log("commit area to analysis");const Ct=c.value,pt=x.value[i.value];var Ut=Ct.area_name;Ut.length<1&&(Ut="Area "+V.value,Ct.area_name=Ut),Ct.saved=!1,Ct.geojson.features[0].properties.area_name=Ut;try{console.log("delete area from active workspace",Ct.area_id),delete pt.areas[Ct.area_id]}catch(vt){console.log("PROBLEM DELETING",vt)}return pt.areas[Ct.area_id]=Ct,G(),Ct.area_id},Oe=async Ct=>{const pt=mo(),Ut=await Ae(Ct);console.log("THE RESPONSE",Ct,Ut);let vt=[];Ut.results[0].zonal_summary.forEach(St=>{vt.push(St.ncs_id)}),console.log("uniqueAreaIds",vt),Ut.results.forEach(St=>{const Wt=pt.spatialMetadata.filter(ui=>ui.short_name==St.short_name)[0];St.zonal_summary.forEach(ui=>{const di=ui.scenario_id,Ji=ui.ncs_id,$t=ui.short_name;let ii={};Wt.analysis_type=="Zonal Histogram"?ii={area_data_id:crypto.randomUUID(),area_id:ui.ncs_id,workspace_id:ui.scenario_id,short_name:$t,metric:"histogram",calculated_value:ui.categories_summary}:Wt.analysis_type=="Zonal Mean"?ii={area_data_id:crypto.randomUUID(),area_id:ui.ncs_id,workspace_id:ui.scenario_id,short_name:$t,metric:"mean",calculated_value:ui.mean}:Wt.analysis_type=="Zonal Sum"?ii={area_data_id:crypto.randomUUID(),area_id:ui.ncs_id,workspace_id:ui.scenario_id,short_name:$t,metric:"sum",calculated_value:ui.sum}:console.log("OTHER",ui),x.value[di].areas[Ji].data[$t]=ii.calculated_value})}),ce(vt);const It={...Ut,results:Ut.results.map(({zonal_summary:St,...Wt})=>Wt)};return he.value.push(It),Ut};return{workspaces:x,userAreaCount:V,incrementUserAreaCount:G,activeWorkspaceId:i,activeWorkspace:Q,activeWorkspaceAreas:J,activeWorkspaceTableData:re,activeAnalysisSection:n,zoomToActiveWorkspace:Y,displayedAnalysisArea:a,displayedAnalysisAreaId:l,activeAnalysisArea:c,activeAnalysisAreaEdit:y,analysisGeoData:we,analysisGeoDataLabels:pe,analysisCompleted:he,showAnalyzeDialog:C,showDeleteDialog:k,showAreaResults:O,showExpandedResults:B,commitDrawnAreaToAnalysis:ye,initWorkspace:Ne,initAnalysis:async(Ct,pt)=>{mo();const Ut=wr(),vt=Y6(),Bt=di=>di=="upload"?{type:"FeatureCollection",features:vt.activeGeojson.selected_features}:di=="draw"||di=="select"?c.value.geojson:di=="update"?De.value.features.filter(Ji=>Ji.properties.area_id==pt):{},It=di=>{const $t=mo().analysisLayersTesting;console.log("analysis layers",$t);let ii=[],ni=[...$t];console.log("### layers",ni);for(let Re of ni){let zi={id:"analysis_"+crypto.randomUUID(),scenario_id:i.value,short_name:Re.short_name,raster_url:`${e}${Re.short_name}.tif`,analyze_event:Ct==="upload"?"F: Existing layer updated":"A: New Area Analyzed",time_start:Date.now(),time_end:null,time_total:null,status:"processing",categorical:Re.analysis_type=="Zonal Histogram"?"true":"false"};ii.push(zi)}return{max_concurrency:L.value,geojson:di,analyses:ii}},St=()=>{Ut.editingActive=!1};let Wt=Bt(Ct);n.value="results";let ui=It(Wt);Y(),await Oe(ui),St()},mergeUploadsForAnalysis:it,deleteUserArea:Ct=>{delete x.value[i.value].areas[Ct]}}},{persist:!1}),UZ=[{id:"gl-draw-polygon-fill-inactive",type:"fill",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],paint:{"fill-color":"#3bb2d0","fill-outline-color":"#3bb2d0","fill-opacity":.2}},{id:"gl-draw-polygon-fill-active",type:"fill",filter:["all",["==","active","true"],["==","$type","Polygon"]],paint:{"fill-color":"#fbb03b","fill-outline-color":"#ffffff","fill-opacity":.2}},{id:"gl-draw-polygon-stroke-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":5}},{id:"gl-draw-polygon-stroke-active",type:"line",filter:["all",["==","active","true"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#ffffff","line-dasharray":[.2,2],"line-width":5}},{id:"gl-draw-line-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","LineString"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":5}},{id:"gl-draw-line-active",type:"line",filter:["all",["==","$type","LineString"],["==","active","true"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#ffffff","line-dasharray":[.2,2],"line-width":5}},{id:"gl-draw-polygon-and-line-vertex-stroke-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":8,"circle-color":"#fff"}},{id:"gl-draw-polygon-and-line-vertex-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":6,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":5,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-fill-static",type:"fill",filter:["all",["==","mode","static"],["==","$type","Polygon"]],paint:{"fill-color":"#404040","fill-outline-color":"#ffffff","fill-opacity":.2}},{id:"gl-draw-polygon-stroke-static",type:"line",filter:["all",["==","mode","static"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#ffffff","line-width":5}}],wr=pu("mapStore",()=>{const e=ai(null),t=ai(Rr.drawZoomThreshold),i=ai(!1),a=ai(0),l=ai(!1),c=ai("disabled"),y=ai("disabled"),n=ai(Rr.mapboxToken),x=ai(Rr.pmTilesUrl),C=ai(Rr.pmTiles),k=ai(Rr.mapBasemapOptions),O=ai(Rr.mapBasemapSelected),B=ai(Rr.mapProjectionOptions),L=ai(Rr.mapProjectionSelected),V=ai(Rr.mapSatelliteOpacity),G=ai(Rr.mapSummaryLevelSelected),Q=ai(Rr.mapSummaryLevelOptions),Y=ai(Rr.mapSymbology),J=ai("c_unprot_for_extent"),re=ai(Rr.mapLayerOptions),ce=async()=>{if(!n.value){console.error("Mapbox token is not set.");return}if(h3.accessToken=n.value,!e.value){const qe=F2(new h3.Map({container:"map",style:Rr.mapStyle,center:Rr.mapCenter,zoom:Rr.mapZoom,minZoom:Rr.minZoom,projection:L.value,hash:!0,logoPosition:"bottom-right",fullScreen:!1}));qe.on("load",()=>{const rt=vr(),Ge=rt.analysisGeoData,Mt=rt.analysisGeoDataLabels;e.value=qe,vt(),St(),ii(),ni(),Oe(J.value),ue(),hn(),ct(),it(),ot(),Te(),ui(Ge),di(Mt),Ji(),$t(),pe(),De(),Ae(),a.value=e.value.getZoom()})}},he=Li(()=>a.value>t.value);let we=ai({});const pe=()=>{const qe=ig.modes;return we.value=new ig({modes:qe,displayControlsDefault:!1,controls:{polygon:!1,line_string:!1,combine_features:!1,trash:!1},userProperties:!0,styles:UZ}),e.value.addControl(we.value),we},De=()=>{const qe=vr();Ir(()=>[i.value],rt=>{if(i.value){let Ge=we.value.getMode();if(console.log("changing draw mode",Ge),qe.activeAnalysisAreaEdit){we.value.changeMode("simple_select");return}else try{Ge==="draw_polygon"?we.value.changeMode("simple_select"):(Ge==="simple_select"||Ge==="direct_select")&&we.value.changeMode("draw_polygon")}catch(Mt){console.log("Problems changing draw mode",Mt)}}})},Ae=()=>{const qe=vr();e.value.on("draw.create",async function(rt){const Ge=vr();console.log("FINISHED DRAWING"),we.value.modes.SIMPLE_SELECT,e.value.doubleClickZoom.disable();const Mt=Ge.activeWorkspaceId;Ge.workspaces[Mt];const nt=rt.features[0],Et="user_"+crypto.randomUUID();nt.properties.input_type="draw",nt.properties.ncs_name="Hey",nt.properties.ncs_id=Et,nt.properties.area_id=Et,nt.ncs_id=Et,nt.area_id=Et,nt.id.toString();let Xt=Math.round(Dc(nt)/1e4),Ti=Math.round(Dc(nt)/4046.86);const wi=_p(nt),Ui=gx(nt).geometry.coordinates,uo=new Date,jn=uo,go=uo;e.value.getCanvas().style.cursor="pointer";const sn={ncs_id:Et,area_id:Et,area_name:"",description:"",geo_type:"user",input_type:"draw",area_ha:Xt,area_ac:Ti,time_created:jn,time_modified:go,geojson:{type:"FeatureCollection",features:[nt]},bbox:wi,center:Ui,display:!1,data:{}};Ge.activeAnalysisArea=sn,we.value.modes.SIMPLE_SELECT}),e.value.on("draw.update",async function(rt){console.log("DRAW UPDATE");const Ge=new Date,Mt=rt.features[0];console.log("drawnPolygon",Mt);let nt=Math.round(Dc(Mt)/1e4),Et=Math.round(Dc(Mt)/4046.86);const Xt=_p(Mt),Ti=gx(Mt).geometry.coordinates;qe.activeAnalysisArea.time_modified=Ge,qe.activeAnalysisArea.geojson.features[0].geometry=Mt.geometry,qe.activeAnalysisArea.area_ha=nt,qe.activeAnalysisArea.area_ac=Et,qe.activeAnalysisArea.bbox=Xt,qe.activeAnalysisArea.center=Ti,qe.activeAnalysisArea.data.area_ha=nt,qe.activeAnalysisAreaEdit=null}),e.value.on("touchstart",rt=>{rt.preventDefault=Function.prototype})},Ne=()=>{we.value.deleteAll(),we.value.changeMode("simple_select"),e.value.doubleClickZoom.enable()},it=()=>{const qe=fc(),rt=vr(),Ge=mo();e.value.on("click","featureLayer",Mt=>{if(i.value||Ge.activeMapSection==="analyze"){console.log("DRAW ACTIVE");return}else{if(!e.value)return;const nt=e.value.queryRenderedFeatures(Mt.point,{layers:["featureLayer"]});if(console.log("features",nt),nt.length){const Et=nt[0];qe.setActiveArea(Et.properties);const Xt=wx({type:"FeatureCollection",features:nt});e.value.getSource("selectedAreaSource").setData(Xt),F1.path!=="/map"&&F1.push("/map")}}}),e.value.on("click","analysisLayerFill",Mt=>{if(i.value||Ge.activeMapSection==="explore"){console.log("DRAW ACTIVE");return}else{if(!e.value)return;const nt=e.value.queryRenderedFeatures(Mt.point,{layers:["analysisLayerFill"]});if(nt.length){const Et=nt[0];rt.displayedAnalysisAreaId=Et.properties.area_id,rt.showAreaResults=!0}}})},ye=qe=>{const rt=fc();vr();const Ge=mo();if(i.value||Ge.activeMapSection==="analyze"){console.log("DRAW ACTIVE");return}else{if(!e.value)return;const Mt=e.value.project(qe);console.log("centerPoint",qe),console.log("point",Mt);const nt=e.value.queryRenderedFeatures(Mt,{layers:["featureLayer"]});if(console.log("features",nt),nt.length){const Et=nt[0];rt.setActiveArea(Et.properties);const Xt=wx({type:"FeatureCollection",features:nt});e.value.getSource("selectedAreaSource").setData(Xt),F1.path!=="/map"&&F1.push("/map")}}};Ir([J,G],qe=>{console.log("Selected Layer:",qe),Oe()});const Oe=qe=>{var nt,Et,Xt;const rt=pt.value;rt.value;const Ge=G.value.value;if(Y.value[rt.symbology].steps,rt.percentiles[Ge].breaks,rt.type!=="raster"){try{(nt=e.value)==null||nt.removeLayer("featureLayer"),(Et=e.value)==null||Et.removeLayer("featureLayerHighlight"),(Xt=e.value)==null||Xt.removeSource("featureSource")}catch(Ti){console.warn("Layer not found:",Ti)}St(),Wt(),Re(),et()}};Li(()=>{if(a.value<t.value)return!1});const ue=()=>{const qe=mo();Ir(()=>qe.activeMapSection,rt=>{var Ge,Mt,nt,Et,Xt,Ti,wi,Ui,uo,jn,go,sn,or,Or,Ln;qe.activeMapSection==="explore"?((Ge=e.value)==null||Ge.setPaintProperty("selectedAreaLayer","line-opacity",1),(Mt=e.value)==null||Mt.setPaintProperty("featureLayerHighlight","line-opacity",1),(nt=e.value)==null||nt.setPaintProperty("featureLayer","fill-opacity",.8),(Et=e.value)==null||Et.setPaintProperty("analysisLayerFill","fill-opacity",0),(Xt=e.value)==null||Xt.setPaintProperty("analysisLayerLine","line-opacity",0),(Ti=e.value)==null||Ti.setPaintProperty("analysisLabelsLayer","text-opacity",0),(wi=e.value)==null||wi.setPaintProperty("mapbox-satellite","raster-opacity",0),setTimeout(()=>{var Mo;(Mo=e.value)==null||Mo.resize()},0)):qe.activeMapSection==="analyze"&&((Ui=e.value)==null||Ui.setPaintProperty("selectedAreaLayer","line-opacity",0),(uo=e.value)==null||uo.setPaintProperty("featureLayerHighlight","line-opacity",0),(jn=e.value)==null||jn.setPaintProperty("featureLayer","fill-opacity",0),(go=e.value)==null||go.setPaintProperty("analysisLayerFill","fill-opacity",.1),(sn=e.value)==null||sn.setPaintProperty("analysisLayerLine","line-opacity",1),(or=e.value)==null||or.setPaintProperty("analysisLabelsLayer","text-opacity",1),O.value.value==="satellite"?(Or=e.value)==null||Or.setPaintProperty("mapbox-satellite","raster-opacity",1):(Ln=e.value)==null||Ln.setPaintProperty("mapbox-satellite","raster-opacity",0),setTimeout(()=>{var Mo;(Mo=e.value)==null||Mo.resize()},0))})},ct=()=>{var qe;(qe=e.value)==null||qe.on("zoomend",()=>{a.value=e.value.getZoom()})},Ct=qe=>{console.log("geojson",qe);const rt=_p(qe);e.value.fitBounds(rt,{padding:100})},pt=Li(()=>{const qe=re.value.flatMap(Et=>Et.items).find(Et=>Et.value===J.value),Ge=Y.value[qe.symbology].steps,Mt=sC[J.value]||[],nt=cC[J.value]||[];return{...qe,percentiles:{counties:Mt,huc12:nt},colorSteps:Ge}}),Ut=Li(()=>{const qe=G.value.value;if(qe==="counties")return sC;if(qe==="huc12")return cC}),vt=()=>{if(!e.value){console.error("Map object is not set.");return}e.value.addControl(new h3.NavigationControl({showCompass:!1,visualizePitch:!1}),"top-left")},Bt=qe=>{var rt;L.value=qe,(rt=e.value)==null||rt.setProjection(qe)},It=qe=>{var Ge;const rt=qe/100;(Ge=e.value)==null||Ge.setPaintProperty("satellite","raster-opacity",rt)},St=()=>{if(!e.value)return;const qe=G.value.value,rt=C.value[qe];e.value.addSource("featureSource",{type:"vector",tiles:[x.value+rt],minzoom:0,maxzoom:14,tolerance:0})},Wt=()=>{const qe=pt.value,rt=qe.value,Ge=G.value.value,nt=Y.value[qe.symbology].steps,Et=qe.percentiles[Ge].breaks,Xt=qe.orientation,Ti=qe.display[Ge];console.log("layerMetadata",qe);const Ui=(()=>{if(Ti==="bounds")return["interpolate",["linear"],["to-number",["get",rt]],Et[0],nt[0],Et[14],nt[nt.length-1]];if(Ti==="breaks"&&Xt==="low-high")return console.log("BREAKS",Et),["interpolate",["linear"],["to-number",["get",rt]],Et[0],nt[0],Et[4],nt[1],Et[7],nt[2],Et[9],nt[3],Et[11],nt[4],Et[13],nt[5]];if(Xt==="high-low")return["interpolate",["linear"],["to-number",["get",rt]],Et[0],nt[5],Et[4],nt[4],Et[7],nt[3],Et[9],nt[2],Et[11],nt[1],Et[13],nt[0]]})();console.log("mapBreaks",Ui),e.value.addLayer({id:"featureLayer",type:"fill",source:"featureSource","source-layer":"counties",paint:{"fill-color":["case",["any",["!",["has",rt]],["==",["to-string",["get",rt]],"NaN"],["==",["to-string",["get",rt]],"inf"],["==",["to-string",["get",rt]],"Infinity"],["==",["to-string",["get",rt]],"-Infinity"]],"#fff",Ui],"fill-opacity":1}},"water")},ui=qe=>{if(qe)e.value.addSource("analysisSource",{type:"geojson",data:qe});else{const rt={type:"FeatureCollection",features:[{type:"Feature",geometry:{},properties:{}}]};e.value.addSource("analysisSource",{type:"geojson",data:rt})}},di=qe=>{if(qe)e.value.addSource("analysisLabelsSource",{type:"geojson",data:qe});else{const rt={type:"FeatureCollection",features:[{type:"Feature",geometry:{},properties:{}}]};e.value.addSource("analysisLabelsSource",{type:"geojson",data:rt})}},Ji=()=>{e.value.addLayer({id:"analysisLayerFill",source:"analysisSource",layout:{},type:"fill",paint:{"fill-color":"#000000","fill-opacity":.1}},"hillshade"),e.value.addLayer({id:"analysisLayerLine",type:"line",source:"analysisSource",layout:{},paint:{"line-color":"#000","line-width":2}},"country-label"),e.value.addLayer({id:"analysisLabelsLayer",type:"symbol",source:"analysisLabelsSource",layout:{"text-field":["get","area_name"],"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":15,"text-offset":[0,1.25],"text-anchor":"top"},paint:{"text-color":"#000","text-halo-color":"#ffffff","text-halo-width":1}},"country-label")},$t=()=>{const qe=vr();Ir(()=>[qe.analysisGeoData.features,qe.activeAnalysisArea],rt=>{if(!qe.activeAnalysisArea)try{console.log("clearing draw"),we.value.deleteAll()}catch{console.log("no draw to clear")}try{const Ge=e.value.getSource("analysisSource"),Mt=qe.analysisGeoData;Ge.setData(Mt);const nt=e.value.getSource("analysisLabelsSource"),Et=qe.analysisGeoDataLabels;nt.setData(Et)}catch(Ge){console.log("Problems updating geojson",Ge)}},{deep:!0})},ii=()=>{e.value&&e.value.addSource("selectedAreaSource",{type:"geojson",data:{type:"FeatureCollection",features:[]}})},ni=()=>{e.value&&e.value.addLayer({id:"selectedAreaLayer",type:"line",source:"selectedAreaSource",layout:{},paint:{"line-color":"#000","line-width":2}})},Re=()=>{const qe="counties";e.value.addLayer({id:"featureLayerHighlight",type:"line",source:"featureSource","source-layer":qe,paint:{"line-color":"#000000","line-width":["case",["boolean",["feature-state","click"],!1],2,["boolean",["feature-state","hover"],!1],2,0]}},"waterway-label");let rt=null;e.value.on("mousemove","featureLayer",Ge=>{Ge.features.length>0&&(rt!==null&&e.value.setFeatureState({source:"featureSource",sourceLayer:qe,id:rt},{hover:!1}),rt=Ge.features[0].id,e.value.setFeatureState({source:"featureSource",sourceLayer:qe,id:rt},{hover:!0}))})},zi=ai(null),hn=()=>{e.value.on("mousemove","featureLayer",qe=>{if(!e.value)return;const rt=e.value.queryRenderedFeatures(qe.point);rt.length&&(zi.value=rt[0].properties[J.value]),e.value.getCanvas().style.cursor=rt.length?"pointer":""}),e.value.on("mouseleave","featureLayer",()=>{zi.value=null,e.value.getCanvas().style.cursor=""})},ze=ai({state:ai([]),forestLegacyArea:ai(!1),rcn:ai("all"),unprotectedForestExtent:ai("all"),unprotectedForestCarbon:ai("all"),landCost:ai("all"),usd_per_ton_c_25_mean:ai("all"),terrestrialResilience:ai("all"),waterProvision:ai("all"),conversionIndex:ai("all"),t_conv_past_all_mean_p:ai("all")}),K=()=>{const qe=[],rt=ze.value.state,Ge=rt==null?void 0:rt.join(",");return ze.value.state.length>0&&qe.push(["in",["get","states"],Ge]),ze.value.forestLegacyArea&&qe.push([">",["get","opp_forest_legacy_areas"],10]),ze.value.unprotectedForestExtent!=="all"&&qe.push([">",["get","c_unprot_for_extent"],ze.value.unprotectedForestExtent]),ze.value.landCost!=="all"&&qe.push(["<",["get","land_cost"],ze.value.landCost]),ze.value.usd_per_ton_c_25_mean!=="all"&&qe.push(["<",["get","usd_per_ton_c_25_mean"],ze.value.usd_per_ton_c_25_mean]),ze.value.rcn!=="all"&&qe.push([">",["get","cob_rcn_1"],Ut.value.cob_rcn_1.breaks[ze.value.rcn]]),ze.value.terrestrialResilience!=="all"&&qe.push([">",["get","cob_rcn_resil_cls"],Ut.value.cob_rcn_resil_cls.breaks[ze.value.terrestrialResilience]]),ze.value.waterProvision!=="all"&&qe.push([">",["get","cob_f2f_imp_r"],ze.value.waterProvision]),ze.value.conversionIndex!=="all"&&qe.push([">",["get","t_cpi_i"],Ut.value.t_cpi_i.breaks[ze.value.conversionIndex]]),ze.value.t_conv_past_all_mean_p!=="all"&&qe.push([">",["get","t_conv_past_all_mean_p"],ze.value.t_conv_past_all_mean_p]),console.log("filter map"),qe.length===0?qe:["all",...qe]},et=()=>{const qe=K();if(qe.length===0){e.value.setFilter("featureLayer",null);return}else e.value.setFilter("featureLayer",qe)},ot=()=>{Ir([ze],()=>{console.log("update filter"),Oe(J.value),setTimeout(()=>{const qe=e.value.queryRenderedFeatures({layers:["featureLayer"]});if(qe.length>0){const Ge=_p({type:"FeatureCollection",features:qe});console.log("bounds",Ge),e.value.fitBounds(Ge,{padding:100})}},250)},{deep:!0})},Te=()=>{Ir(()=>O.value,qe=>{var rt,Ge;console.log("basemap changed",qe,O.value.value),O.value.value==="satellite"?(rt=e.value)==null||rt.setPaintProperty("mapbox-satellite","raster-opacity",1):(Ge=e.value)==null||Ge.setPaintProperty("mapbox-satellite","raster-opacity",0)})},_e=Li(()=>Object.values(ze.value).some(qe=>Array.isArray(qe)?qe.length>0:typeof qe=="boolean"?qe!=!1:qe!=="all"));return{map:e,Draw:we,currentZoom:a,zoomToBbox:Ct,queryCenterpoint:ye,drawZoomThreshold:t,editingActive:l,drawActive:i,drawState:c,drawEnabled:he,cancelDraw:Ne,editingDrawState:y,mapboxToken:n,pmTilesUrl:x,pmTiles:C,mapBasemapOptions:k,mapBasemapSelected:O,mapProjectionOptions:B,mapProjectionSelected:L,mapSummaryLevelOptions:Q,mapSummaryLevelSelected:G,mapSatelliteOpacity:V,mapSymbology:Y,mapLayerSelected:J,mapLayerOptions:re,highlightedValue:zi,initMap:ce,addMapControls:vt,updateMapProjection:Bt,updateSatelliteOpacity:It,addFeatureSource:St,addFeatureLayer:Wt,addFeatureLayerHighlight:Re,highlightAreaOnHover:hn,activeLayerMetadata:pt,activePercentiles:Ut,mapFilters:ze,areThereActiveFilters:_e,resetFilters:()=>{ze.value.state=[],ze.value.forestLegacyArea=!1,ze.value.rcn="all",ze.value.unprotectedForestExtent="all",ze.value.unprotectedForestCarbon="all",ze.value.landCost="all",ze.value.waterProvision="all",ze.value.conversionIndex="all",ze.value.t_conv_past_all_mean_p="all",e.value.setCenter(Rr.mapCenter),e.value.setZoom(Rr.mapZoom)}}}),GZ=[{display_order:1,title:"Welcome to the Avoided Forest Conversion Explorer",description:"<p>This short interactive tour will guide you through the main features of the Avoided Forest Conversion Explorer.</p>",target:"#start",state_change:null,classes:"afc-tour-center"},{display_order:2,title:"Sections Overview",description:`<p>There are two primary sections to the application: </p>
      <p>The <strong>Explore</strong> section allows you to view pre-summarized data for counties and HUC-12 watersheds to gain an understand of the data.</p>
      <p>The <strong>Analyze</strong> section allows you to analyze your own data for a specific area of interest.</p>`,target:"#map-summary-nav",state_change:null,classes:"afc-tour-up"},{display_order:3,title:"Explore Overview",description:"<p>You can explore areas by clicking on the map for a summary. Let's explore Paulding County, Georgia. </p>",state_change:null,classes:"afc-tour-center"},{display_order:4,title:"Explore Overview",description:`<p>Throughout the application, data are grouped into 4 categories: 1) Opportunity, 2) Forest Carbon, 3) Biodiversity and Co-benefits, and 4) Conversion Threats and Protection. Together, these categories help you understand where and how much unsecured forest are available, the benefits they provide, and how threatened they might be.</p> 
      
    `,target:"#opportunity-overview",state_change:null,classes:"afc-tour-right"},{display_order:5,title:"Changing Map Layers",description:`
    <p>Any layer with a <span class="change-map-layer-button"><i class="fa-regular fa-map"></i></span> can be viewed on the map by clicking the <span class="change-map-layer-button"><i class="fa-solid fa-map"></i></span> icon.</p>

    `,target:"#summary-card-c_unprot_for_c_dist",state_change:null,classes:"afc-tour-right"},{display_order:6,title:"Map Layers",description:"<p>You can also change map layers by clicking the Map Layers button and selecting a layer. Note that there are some additional advanced map layers not shown in the summary.</p>",target:".legend-button",state_change:null,classes:"afc-tour-down"},{display_order:7,title:"Viewing Information About a Layer",description:'<p>Any text with a <span class="title-tooltip">dotted underline</span> can be clicked to view more information about the layer, a description, methods, caveats, and data source.</p>',target:"#land-cost-tooltip",state_change:null,classes:"afc-tour-right"},{display_order:8,title:"Changing Map Summary Type",description:"<p>To show data summaries by HUC-12 watershed instead of counties, click Select Summary Type </p>",target:"#explore-actions-pane",state_change:null,classes:"afc-tour-up"},{display_order:9,title:"Filter the Map",description:"<p>Filtering the map allows you to narrow what's shown on the map. For example, you could use map filters to find all the watersheds in Georgia that are at least 50% unsecured (private) forest with an average conversion rate at least 0.25%/year and an average land cost under $2500/ac.</p>",target:"#explore-actions-pane",state_change:null,classes:"afc-tour-up"},{display_order:10,title:"Analyzing Your Data",description:`<p>The Avoided Forest Conversion Explorer can also analyze your own data. You can choose to either draw an area or browse for either a zipped shapefile or geojson file.</p>
    <p>Results are private &mdash; your project outlines are momentarily sent to an analysis tool, but are not stored on our servers.</p>
    
    `,target:"#pv_id_28_accordioncontent_add-areas",state_change:null,classes:"afc-tour-right"},{display_order:11,title:"Changing the Basemap",description:`<p>When in analysis mode, you can choose between landscape/topography and satellite basemaps to help you find your study area.</p>
    
    `,target:".analyze-actions-pane",state_change:null,classes:"afc-tour-up"},{display_order:12,title:"Viewing Results",description:`<p>When analysis is complete, the Analysis Results pane will show a preview. To view the complete results for an individual site, you can click the <i class="fa-solid fa-square-poll-vertical tour-results-icon"></i> button, or click <button class="table-action"><i class="fa-solid fa-expand table-action-icon tour-export-button"></i>Expand Results</button> to view results for all areas in a large table. </p>
    
    `,target:"#pv_id_28_accordioncontent_results",state_change:null,classes:"afc-tour-center"}];/*! shepherd.js 14.5.0 */function HZ(e){return e instanceof Element}function qp(e){return e instanceof HTMLElement}function su(e){return typeof e=="function"}function lg(e){return typeof e=="string"}function la(e){return e===void 0}class e5{on(t,i,a,l=!1){var c;return la(this.bindings)&&(this.bindings={}),la(this.bindings[t])&&(this.bindings[t]=[]),(c=this.bindings[t])==null||c.push({handler:i,ctx:a,once:l}),this}once(t,i,a){return this.on(t,i,a,!0)}off(t,i){if(la(this.bindings)||la(this.bindings[t]))return this;if(la(i))delete this.bindings[t];else{var a;(a=this.bindings[t])==null||a.forEach((l,c)=>{if(l.handler===i){var y;(y=this.bindings[t])==null||y.splice(c,1)}})}return this}trigger(t,...i){if(!la(this.bindings)&&this.bindings[t]){var a;(a=this.bindings[t])==null||a.forEach((l,c)=>{const{ctx:y,handler:n,once:x}=l,C=y||this;if(n.apply(C,i),x){var k;(k=this.bindings[t])==null||k.splice(c,1)}})}return this}}function Ha(){return Ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)({}).hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},Ha.apply(null,arguments)}function t5(e,t){if(e==null)return{};var i={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.includes(a))continue;i[a]=e[a]}return i}const _u={defaultMerge:Symbol("deepmerge-ts: default merge"),skip:Symbol("deepmerge-ts: skip")};_u.defaultMerge;function qZ(e,t){return t}function WZ(e,t){return e.filter(i=>i!==void 0)}var AC;(function(e){e[e.NOT=0]="NOT",e[e.RECORD=1]="RECORD",e[e.ARRAY=2]="ARRAY",e[e.SET=3]="SET",e[e.MAP=4]="MAP",e[e.OTHER=5]="OTHER"})(AC||(AC={}));function OC(e){return typeof e!="object"||e===null?0:Array.isArray(e)?2:QZ(e)?1:e instanceof Set?3:e instanceof Map?4:5}function KZ(e){const t=new Set;for(const i of e)for(const a of[...Object.keys(i),...Object.getOwnPropertySymbols(i)])t.add(a);return t}function ZZ(e,t){return typeof e=="object"&&Object.prototype.propertyIsEnumerable.call(e,t)}function bP(e){return{*[Symbol.iterator](){for(const t of e)for(const i of t)yield i}}}const LC=new Set(["[object Object]","[object Module]"]);function QZ(e){if(!LC.has(Object.prototype.toString.call(e)))return!1;const{constructor:t}=e;if(t===void 0)return!0;const i=t.prototype;return!(i===null||typeof i!="object"||!LC.has(Object.prototype.toString.call(i))||!i.hasOwnProperty("isPrototypeOf"))}function XZ(e,t,i){const a={};for(const l of KZ(e)){const c=[];for(const x of e)ZZ(x,l)&&c.push(x[l]);if(c.length===0)continue;const y=t.metaDataUpdater(i,{key:l,parents:e}),n=vP(c,t,y);n!==_u.skip&&(l==="__proto__"?Object.defineProperty(a,l,{value:n,configurable:!0,enumerable:!0,writable:!0}):a[l]=n)}return a}function JZ(e){return e.flat()}function YZ(e){return new Set(bP(e))}function eQ(e){return new Map(bP(e))}function tQ(e){return e.at(-1)}const cb={mergeRecords:XZ,mergeArrays:JZ,mergeSets:YZ,mergeMaps:eQ,mergeOthers:tQ};function i5(...e){return iQ({})(...e)}function iQ(e,t){const i=nQ(e,a);function a(...l){return vP(l,i,t)}return a}function nQ(e,t){var i,a,l;return{defaultMergeFunctions:cb,mergeFunctions:Ha({},cb,Object.fromEntries(Object.entries(e).filter(([c,y])=>Object.hasOwn(cb,c)).map(([c,y])=>y===!1?[c,cb.mergeOthers]:[c,y]))),metaDataUpdater:(i=e.metaDataUpdater)!=null?i:qZ,deepmerge:t,useImplicitDefaultMerging:(a=e.enableImplicitDefaultMerging)!=null?a:!1,filterValues:e.filterValues===!1?void 0:(l=e.filterValues)!=null?l:WZ,actions:_u}}function vP(e,t,i){var a;const l=(a=t.filterValues==null?void 0:t.filterValues(e,i))!=null?a:e;if(l.length===0)return;if(l.length===1)return R3(l,t,i);const c=OC(l[0]);if(c!==0&&c!==5){for(let y=1;y<l.length;y++)if(OC(l[y])!==c)return R3(l,t,i)}switch(c){case 1:return oQ(l,t,i);case 2:return rQ(l,t,i);case 3:return aQ(l,t,i);case 4:return sQ(l,t,i);default:return R3(l,t,i)}}function oQ(e,t,i){const a=t.mergeFunctions.mergeRecords(e,t,i);return a===_u.defaultMerge||t.useImplicitDefaultMerging&&a===void 0&&t.mergeFunctions.mergeRecords!==t.defaultMergeFunctions.mergeRecords?t.defaultMergeFunctions.mergeRecords(e,t,i):a}function rQ(e,t,i){const a=t.mergeFunctions.mergeArrays(e,t,i);return a===_u.defaultMerge||t.useImplicitDefaultMerging&&a===void 0&&t.mergeFunctions.mergeArrays!==t.defaultMergeFunctions.mergeArrays?t.defaultMergeFunctions.mergeArrays(e):a}function aQ(e,t,i){const a=t.mergeFunctions.mergeSets(e,t,i);return a===_u.defaultMerge||t.useImplicitDefaultMerging&&a===void 0&&t.mergeFunctions.mergeSets!==t.defaultMergeFunctions.mergeSets?t.defaultMergeFunctions.mergeSets(e):a}function sQ(e,t,i){const a=t.mergeFunctions.mergeMaps(e,t,i);return a===_u.defaultMerge||t.useImplicitDefaultMerging&&a===void 0&&t.mergeFunctions.mergeMaps!==t.defaultMergeFunctions.mergeMaps?t.defaultMergeFunctions.mergeMaps(e):a}function R3(e,t,i){const a=t.mergeFunctions.mergeOthers(e,t,i);return a===_u.defaultMerge||t.useImplicitDefaultMerging&&a===void 0&&t.mergeFunctions.mergeOthers!==t.defaultMergeFunctions.mergeOthers?t.defaultMergeFunctions.mergeOthers(e):a}function n5(e){const t=Object.getOwnPropertyNames(e.constructor.prototype);for(let i=0;i<t.length;i++){const a=t[i],l=e[a];a!=="constructor"&&typeof l=="function"&&(e[a]=l.bind(e))}return e}function cQ(e,t){return i=>{if(e.isOpen()){const a=e.el&&i.currentTarget===e.el;(!la(t)&&i.currentTarget.matches(t)||a)&&e.tour.next()}}}function lQ(e){const{event:t,selector:i}=e.options.advanceOn||{};if(t){const a=cQ(e,i);let l=null;if(!la(i)&&(l=document.querySelector(i),!l))return console.error(`No element was found for the selector supplied to advanceOn: ${i}`);l?(l.addEventListener(t,a),e.on("destroy",()=>l.removeEventListener(t,a))):(document.body.addEventListener(t,a,!0),e.on("destroy",()=>document.body.removeEventListener(t,a,!0)))}else return console.error("advanceOn was defined, but no event name was passed.")}class dQ{constructor(t){}}class uQ{constructor(t,i){}}function xP(e){return!lg(e)||e===""?"":e.charAt(e.length-1)!=="-"?`${e}-`:e}function hQ(e){const t=e.options.attachTo||{},i=Object.assign({},t);if(su(i.element)&&(i.element=i.element.call(e)),lg(i.element)){try{i.element=document.querySelector(i.element)}catch{}i.element||console.error(`The element for this Shepherd step was not found ${t.element}`)}return i}function fQ(e){return e.options.extraHighlights?e.options.extraHighlights.flatMap(t=>Array.from(document.querySelectorAll(t))):[]}function wP(e){return e==null?!0:!e.element||!e.on}function FP(){let e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const i=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(t=="x"?i:i&3|8).toString(16)})}const pQ=["top","right","bottom","left"],DC=["start","end"],BC=pQ.reduce((e,t)=>e.concat(t,t+"-"+DC[0],t+"-"+DC[1]),[]),Wp=Math.min,Sh=Math.max,s2=Math.round,lb=Math.floor,$c=e=>({x:e,y:e}),mQ={left:"right",right:"left",bottom:"top",top:"bottom"},gQ={start:"end",end:"start"};function Tx(e,t,i){return Sh(e,Wp(t,i))}function Oh(e,t){return typeof e=="function"?e(t):e}function El(e){return e.split("-")[0]}function wl(e){return e.split("-")[1]}function o5(e){return e==="x"?"y":"x"}function r5(e){return e==="y"?"height":"width"}function Kp(e){return["top","bottom"].includes(El(e))?"y":"x"}function a5(e){return o5(Kp(e))}function CP(e,t,i){i===void 0&&(i=!1);const a=wl(e),l=a5(e),c=r5(l);let y=l==="x"?a===(i?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[c]>t.floating[c]&&(y=l2(y)),[y,l2(y)]}function _Q(e){const t=l2(e);return[c2(e),t,c2(t)]}function c2(e){return e.replace(/start|end/g,t=>gQ[t])}function yQ(e,t,i){const a=["left","right"],l=["right","left"],c=["top","bottom"],y=["bottom","top"];switch(e){case"top":case"bottom":return i?t?l:a:t?a:l;case"left":case"right":return t?c:y;default:return[]}}function bQ(e,t,i,a){const l=wl(e);let c=yQ(El(e),i==="start",a);return l&&(c=c.map(y=>y+"-"+l),t&&(c=c.concat(c.map(c2)))),c}function l2(e){return e.replace(/left|right|bottom|top/g,t=>mQ[t])}function vQ(e){return Ha({top:0,right:0,bottom:0,left:0},e)}function EP(e){return typeof e!="number"?vQ(e):{top:e,right:e,bottom:e,left:e}}function d2(e){const{x:t,y:i,width:a,height:l}=e;return{width:a,height:l,top:i,left:t,right:t+a,bottom:i+l,x:t,y:i}}const xQ=["crossAxis","alignment","allowedPlacements","autoAlignment"],wQ=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],FQ=["mainAxis","crossAxis","limiter"];function jC(e,t,i){let{reference:a,floating:l}=e;const c=Kp(t),y=a5(t),n=r5(y),x=El(t),C=c==="y",k=a.x+a.width/2-l.width/2,O=a.y+a.height/2-l.height/2,B=a[n]/2-l[n]/2;let L;switch(x){case"top":L={x:k,y:a.y-l.height};break;case"bottom":L={x:k,y:a.y+a.height};break;case"right":L={x:a.x+a.width,y:O};break;case"left":L={x:a.x-l.width,y:O};break;default:L={x:a.x,y:a.y}}switch(wl(t)){case"start":L[y]-=B*(i&&C?-1:1);break;case"end":L[y]+=B*(i&&C?-1:1);break}return L}const CQ=async(e,t,i)=>{const{placement:a="bottom",strategy:l="absolute",middleware:c=[],platform:y}=i,n=c.filter(Boolean),x=await(y.isRTL==null?void 0:y.isRTL(t));let C=await y.getElementRects({reference:e,floating:t,strategy:l}),{x:k,y:O}=jC(C,a,x),B=a,L={},V=0;for(let G=0;G<n.length;G++){const{name:Q,fn:Y}=n[G],{x:J,y:re,data:ce,reset:he}=await Y({x:k,y:O,initialPlacement:a,placement:B,strategy:l,middlewareData:L,rects:C,platform:y,elements:{reference:e,floating:t}});k=J??k,O=re??O,L=Ha({},L,{[Q]:Ha({},L[Q],ce)}),he&&V<=50&&(V++,typeof he=="object"&&(he.placement&&(B=he.placement),he.rects&&(C=he.rects===!0?await y.getElementRects({reference:e,floating:t,strategy:l}):he.rects),{x:k,y:O}=jC(C,B,x)),G=-1)}return{x:k,y:O,placement:B,strategy:l,middlewareData:L}};async function s5(e,t){var i;t===void 0&&(t={});const{x:a,y:l,platform:c,rects:y,elements:n,strategy:x}=e,{boundary:C="clippingAncestors",rootBoundary:k="viewport",elementContext:O="floating",altBoundary:B=!1,padding:L=0}=Oh(t,e),V=EP(L),Q=n[B?O==="floating"?"reference":"floating":O],Y=d2(await c.getClippingRect({element:(i=await(c.isElement==null?void 0:c.isElement(Q)))==null||i?Q:Q.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(n.floating)),boundary:C,rootBoundary:k,strategy:x})),J=O==="floating"?{x:a,y:l,width:y.floating.width,height:y.floating.height}:y.reference,re=await(c.getOffsetParent==null?void 0:c.getOffsetParent(n.floating)),ce=await(c.isElement==null?void 0:c.isElement(re))?await(c.getScale==null?void 0:c.getScale(re))||{x:1,y:1}:{x:1,y:1},he=d2(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:n,rect:J,offsetParent:re,strategy:x}):J);return{top:(Y.top-he.top+V.top)/ce.y,bottom:(he.bottom-Y.bottom+V.bottom)/ce.y,left:(Y.left-he.left+V.left)/ce.x,right:(he.right-Y.right+V.right)/ce.x}}const EQ=e=>({name:"arrow",options:e,async fn(t){const{x:i,y:a,placement:l,rects:c,platform:y,elements:n,middlewareData:x}=t,{element:C,padding:k=0}=Oh(e,t)||{};if(C==null)return{};const O=EP(k),B={x:i,y:a},L=a5(l),V=r5(L),G=await y.getDimensions(C),Q=L==="y",Y=Q?"top":"left",J=Q?"bottom":"right",re=Q?"clientHeight":"clientWidth",ce=c.reference[V]+c.reference[L]-B[L]-c.floating[V],he=B[L]-c.reference[L],we=await(y.getOffsetParent==null?void 0:y.getOffsetParent(C));let pe=we?we[re]:0;(!pe||!await(y.isElement==null?void 0:y.isElement(we)))&&(pe=n.floating[re]||c.floating[V]);const De=ce/2-he/2,Ae=pe/2-G[V]/2-1,Ne=Wp(O[Y],Ae),it=Wp(O[J],Ae),ye=Ne,Oe=pe-G[V]-it,ue=pe/2-G[V]/2+De,ct=Tx(ye,ue,Oe),Ct=!x.arrow&&wl(l)!=null&&ue!==ct&&c.reference[V]/2-(ue<ye?Ne:it)-G[V]/2<0,pt=Ct?ue<ye?ue-ye:ue-Oe:0;return{[L]:B[L]+pt,data:Ha({[L]:ct,centerOffset:ue-ct-pt},Ct&&{alignmentOffset:pt}),reset:Ct}}});function SQ(e,t,i){return(e?[...i.filter(l=>wl(l)===e),...i.filter(l=>wl(l)!==e)]:i.filter(l=>El(l)===l)).filter(l=>e?wl(l)===e||(t?c2(l)!==l:!1):!0)}const TQ=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(i){var a,l,c;const{rects:y,middlewareData:n,placement:x,platform:C,elements:k}=i,O=Oh(t,i),{crossAxis:B=!1,alignment:L,allowedPlacements:V=BC,autoAlignment:G=!0}=O,Q=t5(O,xQ),Y=L!==void 0||V===BC?SQ(L||null,G,V):V,J=await s5(i,Q),re=((a=n.autoPlacement)==null?void 0:a.index)||0,ce=Y[re];if(ce==null)return{};const he=CP(ce,y,await(C.isRTL==null?void 0:C.isRTL(k.floating)));if(x!==ce)return{reset:{placement:Y[0]}};const we=[J[El(ce)],J[he[0]],J[he[1]]],pe=[...((l=n.autoPlacement)==null?void 0:l.overflows)||[],{placement:ce,overflows:we}],De=Y[re+1];if(De)return{data:{index:re+1,overflows:pe},reset:{placement:De}};const Ae=pe.map(ye=>{const Oe=wl(ye.placement);return[ye.placement,Oe&&B?ye.overflows.slice(0,2).reduce((ue,ct)=>ue+ct,0):ye.overflows[0],ye.overflows]}).sort((ye,Oe)=>ye[1]-Oe[1]),it=((c=Ae.filter(ye=>ye[2].slice(0,wl(ye[0])?2:3).every(Oe=>Oe<=0))[0])==null?void 0:c[0])||Ae[0][0];return it!==x?{data:{index:re+1,overflows:pe},reset:{placement:it}}:{}}}},RQ=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(i){var a,l;const{placement:c,middlewareData:y,rects:n,initialPlacement:x,platform:C,elements:k}=i,O=Oh(t,i),{mainAxis:B=!0,crossAxis:L=!0,fallbackPlacements:V,fallbackStrategy:G="bestFit",fallbackAxisSideDirection:Q="none",flipAlignment:Y=!0}=O,J=t5(O,wQ);if((a=y.arrow)!=null&&a.alignmentOffset)return{};const re=El(c),ce=Kp(x),he=El(x)===x,we=await(C.isRTL==null?void 0:C.isRTL(k.floating)),pe=V||(he||!Y?[l2(x)]:_Q(x)),De=Q!=="none";!V&&De&&pe.push(...bQ(x,Y,Q,we));const Ae=[x,...pe],Ne=await s5(i,J),it=[];let ye=((l=y.flip)==null?void 0:l.overflows)||[];if(B&&it.push(Ne[re]),L){const Ct=CP(c,n,we);it.push(Ne[Ct[0]],Ne[Ct[1]])}if(ye=[...ye,{placement:c,overflows:it}],!it.every(Ct=>Ct<=0)){var Oe,ue;const Ct=(((Oe=y.flip)==null?void 0:Oe.index)||0)+1,pt=Ae[Ct];if(pt)return{data:{index:Ct,overflows:ye},reset:{placement:pt}};let Ut=(ue=ye.filter(vt=>vt.overflows[0]<=0).sort((vt,Bt)=>vt.overflows[1]-Bt.overflows[1])[0])==null?void 0:ue.placement;if(!Ut)switch(G){case"bestFit":{var ct;const vt=(ct=ye.filter(Bt=>{if(De){const It=Kp(Bt.placement);return It===ce||It==="y"}return!0}).map(Bt=>[Bt.placement,Bt.overflows.filter(It=>It>0).reduce((It,St)=>It+St,0)]).sort((Bt,It)=>Bt[1]-It[1])[0])==null?void 0:ct[0];vt&&(Ut=vt);break}case"initialPlacement":Ut=x;break}if(c!==Ut)return{reset:{placement:Ut}}}return{}}}},PQ=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(i){const{x:a,y:l,placement:c}=i,y=Oh(t,i),{mainAxis:n=!0,crossAxis:x=!1,limiter:C={fn:J=>{let{x:re,y:ce}=J;return{x:re,y:ce}}}}=y,k=t5(y,FQ),O={x:a,y:l},B=await s5(i,k),L=Kp(El(c)),V=o5(L);let G=O[V],Q=O[L];if(n){const J=V==="y"?"top":"left",re=V==="y"?"bottom":"right",ce=G+B[J],he=G-B[re];G=Tx(ce,G,he)}if(x){const J=L==="y"?"top":"left",re=L==="y"?"bottom":"right",ce=Q+B[J],he=Q-B[re];Q=Tx(ce,Q,he)}const Y=C.fn(Ha({},i,{[V]:G,[L]:Q}));return Ha({},Y,{data:{x:Y.x-a,y:Y.y-l}})}}},IQ=function(t){return t===void 0&&(t={}),{options:t,fn(i){const{x:a,y:l,placement:c,rects:y,middlewareData:n}=i,{offset:x=0,mainAxis:C=!0,crossAxis:k=!0}=Oh(t,i),O={x:a,y:l},B=Kp(c),L=o5(B);let V=O[L],G=O[B];const Q=Oh(x,i),Y=typeof Q=="number"?{mainAxis:Q,crossAxis:0}:Ha({mainAxis:0,crossAxis:0},Q);if(C){const ce=L==="y"?"height":"width",he=y.reference[L]-y.floating[ce]+Y.mainAxis,we=y.reference[L]+y.reference[ce]-Y.mainAxis;V<he?V=he:V>we&&(V=we)}if(k){var J,re;const ce=L==="y"?"width":"height",he=["top","left"].includes(El(c)),we=y.reference[B]-y.floating[ce]+(he&&((J=n.offset)==null?void 0:J[B])||0)+(he?0:Y.crossAxis),pe=y.reference[B]+y.reference[ce]+(he?0:((re=n.offset)==null?void 0:re[B])||0)-(he?Y.crossAxis:0);G<we?G=we:G>pe&&(G=pe)}return{[L]:V,[B]:G}}}};function Z2(){return typeof window<"u"}function o0(e){return SP(e)?(e.nodeName||"").toLowerCase():"#document"}function ls(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Zc(e){var t;return(t=(SP(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function SP(e){return Z2()?e instanceof Node||e instanceof ls(e).Node:!1}function _c(e){return Z2()?e instanceof Element||e instanceof ls(e).Element:!1}function qc(e){return Z2()?e instanceof HTMLElement||e instanceof ls(e).HTMLElement:!1}function zC(e){return!Z2()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ls(e).ShadowRoot}function Jg(e){const{overflow:t,overflowX:i,overflowY:a,display:l}=yc(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+i)&&!["inline","contents"].includes(l)}function kQ(e){return["table","td","th"].includes(o0(e))}function Q2(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function c5(e){const t=l5(),i=_c(e)?yc(e):e;return i.transform!=="none"||i.perspective!=="none"||(i.containerType?i.containerType!=="normal":!1)||!t&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!t&&(i.filter?i.filter!=="none":!1)||["transform","perspective","filter"].some(a=>(i.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(i.contain||"").includes(a))}function MQ(e){let t=cu(e);for(;qc(t)&&!Zp(t);){if(c5(t))return t;if(Q2(t))return null;t=cu(t)}return null}function l5(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Zp(e){return["html","body","#document"].includes(o0(e))}function yc(e){return ls(e).getComputedStyle(e)}function X2(e){return _c(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function cu(e){if(o0(e)==="html")return e;const t=e.assignedSlot||e.parentNode||zC(e)&&e.host||Zc(e);return zC(t)?t.host:t}function TP(e){const t=cu(e);return Zp(t)?e.ownerDocument?e.ownerDocument.body:e.body:qc(t)&&Jg(t)?t:TP(t)}function dg(e,t,i){var a;t===void 0&&(t=[]),i===void 0&&(i=!0);const l=TP(e),c=l===((a=e.ownerDocument)==null?void 0:a.body),y=ls(l);if(c){const n=Rx(y);return t.concat(y,y.visualViewport||[],Jg(l)?l:[],n&&i?dg(n):[])}return t.concat(l,dg(l,[],i))}function Rx(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function RP(e){const t=yc(e);let i=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const l=qc(e),c=l?e.offsetWidth:i,y=l?e.offsetHeight:a,n=s2(i)!==c||s2(a)!==y;return n&&(i=c,a=y),{width:i,height:a,$:n}}function d5(e){return _c(e)?e:e.contextElement}function Ip(e){const t=d5(e);if(!qc(t))return $c(1);const i=t.getBoundingClientRect(),{width:a,height:l,$:c}=RP(t);let y=(c?s2(i.width):i.width)/a,n=(c?s2(i.height):i.height)/l;return(!y||!Number.isFinite(y))&&(y=1),(!n||!Number.isFinite(n))&&(n=1),{x:y,y:n}}const AQ=$c(0);function PP(e){const t=ls(e);return!l5()||!t.visualViewport?AQ:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function OQ(e,t,i){return t===void 0&&(t=!1),!i||t&&i!==ls(e)?!1:t}function Lh(e,t,i,a){t===void 0&&(t=!1),i===void 0&&(i=!1);const l=e.getBoundingClientRect(),c=d5(e);let y=$c(1);t&&(a?_c(a)&&(y=Ip(a)):y=Ip(e));const n=OQ(c,i,a)?PP(c):$c(0);let x=(l.left+n.x)/y.x,C=(l.top+n.y)/y.y,k=l.width/y.x,O=l.height/y.y;if(c){const B=ls(c),L=a&&_c(a)?ls(a):a;let V=B,G=Rx(V);for(;G&&a&&L!==V;){const Q=Ip(G),Y=G.getBoundingClientRect(),J=yc(G),re=Y.left+(G.clientLeft+parseFloat(J.paddingLeft))*Q.x,ce=Y.top+(G.clientTop+parseFloat(J.paddingTop))*Q.y;x*=Q.x,C*=Q.y,k*=Q.x,O*=Q.y,x+=re,C+=ce,V=ls(G),G=Rx(V)}}return d2({width:k,height:O,x,y:C})}function u5(e,t){const i=X2(e).scrollLeft;return t?t.left+i:Lh(Zc(e)).left+i}function IP(e,t,i){i===void 0&&(i=!1);const a=e.getBoundingClientRect(),l=a.left+t.scrollLeft-(i?0:u5(e,a)),c=a.top+t.scrollTop;return{x:l,y:c}}function LQ(e){let{elements:t,rect:i,offsetParent:a,strategy:l}=e;const c=l==="fixed",y=Zc(a),n=t?Q2(t.floating):!1;if(a===y||n&&c)return i;let x={scrollLeft:0,scrollTop:0},C=$c(1);const k=$c(0),O=qc(a);if((O||!O&&!c)&&((o0(a)!=="body"||Jg(y))&&(x=X2(a)),qc(a))){const L=Lh(a);C=Ip(a),k.x=L.x+a.clientLeft,k.y=L.y+a.clientTop}const B=y&&!O&&!c?IP(y,x,!0):$c(0);return{width:i.width*C.x,height:i.height*C.y,x:i.x*C.x-x.scrollLeft*C.x+k.x+B.x,y:i.y*C.y-x.scrollTop*C.y+k.y+B.y}}function DQ(e){return Array.from(e.getClientRects())}function BQ(e){const t=Zc(e),i=X2(e),a=e.ownerDocument.body,l=Sh(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),c=Sh(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let y=-i.scrollLeft+u5(e);const n=-i.scrollTop;return yc(a).direction==="rtl"&&(y+=Sh(t.clientWidth,a.clientWidth)-l),{width:l,height:c,x:y,y:n}}function jQ(e,t){const i=ls(e),a=Zc(e),l=i.visualViewport;let c=a.clientWidth,y=a.clientHeight,n=0,x=0;if(l){c=l.width,y=l.height;const C=l5();(!C||C&&t==="fixed")&&(n=l.offsetLeft,x=l.offsetTop)}return{width:c,height:y,x:n,y:x}}function zQ(e,t){const i=Lh(e,!0,t==="fixed"),a=i.top+e.clientTop,l=i.left+e.clientLeft,c=qc(e)?Ip(e):$c(1),y=e.clientWidth*c.x,n=e.clientHeight*c.y,x=l*c.x,C=a*c.y;return{width:y,height:n,x,y:C}}function VC(e,t,i){let a;if(t==="viewport")a=jQ(e,i);else if(t==="document")a=BQ(Zc(e));else if(_c(t))a=zQ(t,i);else{const l=PP(e);a={x:t.x-l.x,y:t.y-l.y,width:t.width,height:t.height}}return d2(a)}function kP(e,t){const i=cu(e);return i===t||!_c(i)||Zp(i)?!1:yc(i).position==="fixed"||kP(i,t)}function VQ(e,t){const i=t.get(e);if(i)return i;let a=dg(e,[],!1).filter(n=>_c(n)&&o0(n)!=="body"),l=null;const c=yc(e).position==="fixed";let y=c?cu(e):e;for(;_c(y)&&!Zp(y);){const n=yc(y),x=c5(y);!x&&n.position==="fixed"&&(l=null),(c?!x&&!l:!x&&n.position==="static"&&!!l&&["absolute","fixed"].includes(l.position)||Jg(y)&&!x&&kP(e,y))?a=a.filter(k=>k!==y):l=n,y=cu(y)}return t.set(e,a),a}function NQ(e){let{element:t,boundary:i,rootBoundary:a,strategy:l}=e;const y=[...i==="clippingAncestors"?Q2(t)?[]:VQ(t,this._c):[].concat(i),a],n=y[0],x=y.reduce((C,k)=>{const O=VC(t,k,l);return C.top=Sh(O.top,C.top),C.right=Wp(O.right,C.right),C.bottom=Wp(O.bottom,C.bottom),C.left=Sh(O.left,C.left),C},VC(t,n,l));return{width:x.right-x.left,height:x.bottom-x.top,x:x.left,y:x.top}}function $Q(e){const{width:t,height:i}=RP(e);return{width:t,height:i}}function UQ(e,t,i){const a=qc(t),l=Zc(t),c=i==="fixed",y=Lh(e,!0,c,t);let n={scrollLeft:0,scrollTop:0};const x=$c(0);if(a||!a&&!c)if((o0(t)!=="body"||Jg(l))&&(n=X2(t)),a){const B=Lh(t,!0,c,t);x.x=B.x+t.clientLeft,x.y=B.y+t.clientTop}else l&&(x.x=u5(l));const C=l&&!a&&!c?IP(l,n):$c(0),k=y.left+n.scrollLeft-x.x-C.x,O=y.top+n.scrollTop-x.y-C.y;return{x:k,y:O,width:y.width,height:y.height}}function P3(e){return yc(e).position==="static"}function NC(e,t){if(!qc(e)||yc(e).position==="fixed")return null;if(t)return t(e);let i=e.offsetParent;return Zc(e)===i&&(i=i.ownerDocument.body),i}function MP(e,t){const i=ls(e);if(Q2(e))return i;if(!qc(e)){let l=cu(e);for(;l&&!Zp(l);){if(_c(l)&&!P3(l))return l;l=cu(l)}return i}let a=NC(e,t);for(;a&&kQ(a)&&P3(a);)a=NC(a,t);return a&&Zp(a)&&P3(a)&&!c5(a)?i:a||MQ(e)||i}const GQ=async function(t){const i=this.getOffsetParent||MP,a=this.getDimensions,l=await a(t.floating);return{reference:UQ(t.reference,await i(t.floating),t.strategy),floating:{x:0,y:0,width:l.width,height:l.height}}};function HQ(e){return yc(e).direction==="rtl"}const qQ={convertOffsetParentRelativeRectToViewportRelativeRect:LQ,getDocumentElement:Zc,getClippingRect:NQ,getOffsetParent:MP,getElementRects:GQ,getClientRects:DQ,getDimensions:$Q,getScale:Ip,isElement:_c,isRTL:HQ};function WQ(e,t){let i=null,a;const l=Zc(e);function c(){var n;clearTimeout(a),(n=i)==null||n.disconnect(),i=null}function y(n,x){n===void 0&&(n=!1),x===void 0&&(x=1),c();const{left:C,top:k,width:O,height:B}=e.getBoundingClientRect();if(n||t(),!O||!B)return;const L=lb(k),V=lb(l.clientWidth-(C+O)),G=lb(l.clientHeight-(k+B)),Q=lb(C),J={rootMargin:-L+"px "+-V+"px "+-G+"px "+-Q+"px",threshold:Sh(0,Wp(1,x))||1};let re=!0;function ce(he){const we=he[0].intersectionRatio;if(we!==x){if(!re)return y();we?y(!1,we):a=setTimeout(()=>{y(!1,1e-7)},1e3)}re=!1}try{i=new IntersectionObserver(ce,Ha({},J,{root:l.ownerDocument}))}catch{i=new IntersectionObserver(ce,J)}i.observe(e)}return y(!0),c}function KQ(e,t,i,a){a===void 0&&(a={});const{ancestorScroll:l=!0,ancestorResize:c=!0,elementResize:y=typeof ResizeObserver=="function",layoutShift:n=typeof IntersectionObserver=="function",animationFrame:x=!1}=a,C=d5(e),k=l||c?[...C?dg(C):[],...dg(t)]:[];k.forEach(Y=>{l&&Y.addEventListener("scroll",i,{passive:!0}),c&&Y.addEventListener("resize",i)});const O=C&&n?WQ(C,i):null;let B=-1,L=null;y&&(L=new ResizeObserver(Y=>{let[J]=Y;J&&J.target===C&&L&&(L.unobserve(t),cancelAnimationFrame(B),B=requestAnimationFrame(()=>{var re;(re=L)==null||re.observe(t)})),i()}),C&&!x&&L.observe(C),L.observe(t));let V,G=x?Lh(e):null;x&&Q();function Q(){const Y=Lh(e);G&&(Y.x!==G.x||Y.y!==G.y||Y.width!==G.width||Y.height!==G.height)&&i(),G=Y,V=requestAnimationFrame(Q)}return i(),()=>{var Y;k.forEach(J=>{l&&J.removeEventListener("scroll",i),c&&J.removeEventListener("resize",i)}),O==null||O(),(Y=L)==null||Y.disconnect(),L=null,x&&cancelAnimationFrame(V)}}const ZQ=TQ,QQ=PQ,XQ=RQ,JQ=EQ,YQ=IQ,eX=(e,t,i)=>{const a=new Map,l=Ha({platform:qQ},i),c=Ha({},l.platform,{_c:a});return CQ(e,t,Ha({},l,{platform:c}))};function tX(e){e.cleanup&&e.cleanup();const t=e._getResolvedAttachToOptions();let i=t.element;const a=sX(t,e),l=wP(t);return l&&(i=document.body,e.shepherdElementComponent.getElement().classList.add("shepherd-centered")),e.cleanup=KQ(i,e.el,()=>{if(!e.el){e.cleanup==null||e.cleanup();return}oX(i,e,a,l)}),e.target=t.element,a}function iX(e,t){return{floatingUIOptions:i5(e.floatingUIOptions||{},t.floatingUIOptions||{})}}function nX(e){e.cleanup&&e.cleanup(),e.cleanup=null}function oX(e,t,i,a){return eX(e,t.el,i).then(rX(t,a)).then(l=>new Promise(c=>{setTimeout(()=>c(l),300)})).then(l=>{l!=null&&l.el&&l.el.focus({preventScroll:!0})})}function rX(e,t){return({x:i,y:a,placement:l,middlewareData:c})=>(e.el&&(t?Object.assign(e.el.style,{position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}):Object.assign(e.el.style,{position:"absolute",left:`${i}px`,top:`${a}px`}),e.el.dataset.popperPlacement=l,aX(e.el,c)),e)}function aX(e,t){const i=e.querySelector(".shepherd-arrow");if(qp(i)&&t.arrow){const{x:a,y:l}=t.arrow;Object.assign(i.style,{left:a!=null?`${a}px`:"",top:l!=null?`${l}px`:""})}}function sX(e,t){var i,a,l;const c={strategy:"absolute"};c.middleware=[];const y=cX(t),n=wP(e),x=(i=e.on)==null?void 0:i.includes("auto"),C=(e==null||(a=e.on)==null?void 0:a.includes("-start"))||(e==null||(l=e.on)==null?void 0:l.includes("-end"));if(!n){if(x){var k;c.middleware.push(ZQ({crossAxis:!0,alignment:C?e==null||(k=e.on)==null?void 0:k.split("-").pop():null}))}else c.middleware.push(XQ());if(c.middleware.push(QQ({limiter:YQ(),crossAxis:!0})),y){const O=typeof t.options.arrow=="object"?t.options.arrow:{padding:4};c.middleware.push(JQ({element:y,padding:C?O.padding:0}))}x||(c.placement=e.on)}return i5(c,t.options.floatingUIOptions||{})}function cX(e){return e.options.arrow&&e.el?e.el.querySelector(".shepherd-arrow"):!1}function ds(){}function lX(e,t){for(const i in t)e[i]=t[i];return e}function AP(e){return e()}function $C(){return Object.create(null)}function Yg(e){e.forEach(AP)}function h5(e){return typeof e=="function"}function Pl(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function dX(e){return Object.keys(e).length===0}function Qp(e,t){e.appendChild(t)}function bc(e,t,i){e.insertBefore(t,i||null)}function Ds(e){e.parentNode&&e.parentNode.removeChild(e)}function uX(e,t){for(let i=0;i<e.length;i+=1)e[i]&&e[i].d(t)}function Wc(e){return document.createElement(e)}function UC(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function OP(e){return document.createTextNode(e)}function u2(){return OP(" ")}function hX(){return OP("")}function J2(e,t,i,a){return e.addEventListener(t,i,a),()=>e.removeEventListener(t,i,a)}function Bo(e,t,i){i==null?e.removeAttribute(t):e.getAttribute(t)!==i&&e.setAttribute(t,i)}const fX=["width","height"];function GC(e,t){const i=Object.getOwnPropertyDescriptors(e.__proto__);for(const a in t)t[a]==null?e.removeAttribute(a):a==="style"?e.style.cssText=t[a]:a==="__value"?e.value=e[a]=t[a]:i[a]&&i[a].set&&fX.indexOf(a)===-1?e[a]=t[a]:Bo(e,a,t[a])}function pX(e){return Array.from(e.childNodes)}function np(e,t,i){e.classList.toggle(t,!!i)}let ug;function N1(e){ug=e}function LP(){if(!ug)throw new Error("Function called outside component initialization");return ug}function mX(e){LP().$$.on_mount.push(e)}function f5(e){LP().$$.after_update.push(e)}const hp=[],Xp=[];let kp=[];const HC=[],gX=Promise.resolve();let Px=!1;function _X(){Px||(Px=!0,gX.then(DP))}function Ix(e){kp.push(e)}const I3=new Set;let op=0;function DP(){if(op!==0)return;const e=ug;do{try{for(;op<hp.length;){const t=hp[op];op++,N1(t),yX(t.$$)}}catch(t){throw hp.length=0,op=0,t}for(N1(null),hp.length=0,op=0;Xp.length;)Xp.pop()();for(let t=0;t<kp.length;t+=1){const i=kp[t];I3.has(i)||(I3.add(i),i())}kp.length=0}while(hp.length);for(;HC.length;)HC.pop()();Px=!1,I3.clear(),N1(e)}function yX(e){if(e.fragment!==null){e.update(),Yg(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ix)}}function bX(e){const t=[],i=[];kp.forEach(a=>e.indexOf(a)===-1?t.push(a):i.push(a)),i.forEach(a=>a()),kp=t}const Rb=new Set;let xh;function Th(){xh={r:0,c:[],p:xh}}function Rh(){xh.r||Yg(xh.c),xh=xh.p}function To(e,t){e&&e.i&&(Rb.delete(e),e.i(t))}function gr(e,t,i,a){if(e&&e.o){if(Rb.has(e))return;Rb.add(e),xh.c.push(()=>{Rb.delete(e),a&&(i&&e.d(1),a())}),e.o(t)}else a&&a()}function qC(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function vX(e,t){const i={},a={},l={$$scope:1};let c=e.length;for(;c--;){const y=e[c],n=t[c];if(n){for(const x in y)x in n||(a[x]=1);for(const x in n)l[x]||(i[x]=n[x],l[x]=1);e[c]=n}else for(const x in y)l[x]=1}for(const y in a)y in i||(i[y]=void 0);return i}function Vh(e){e&&e.c()}function yu(e,t,i){const{fragment:a,after_update:l}=e.$$;a&&a.m(t,i),Ix(()=>{const c=e.$$.on_mount.map(AP).filter(h5);e.$$.on_destroy?e.$$.on_destroy.push(...c):Yg(c),e.$$.on_mount=[]}),l.forEach(Ix)}function bu(e,t){const i=e.$$;i.fragment!==null&&(bX(i.after_update),Yg(i.on_destroy),i.fragment&&i.fragment.d(t),i.on_destroy=i.fragment=null,i.ctx=[])}function xX(e,t){e.$$.dirty[0]===-1&&(hp.push(e),_X(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Il(e,t,i,a,l,c,y=null,n=[-1]){const x=ug;N1(e);const C=e.$$={fragment:null,ctx:[],props:c,update:ds,not_equal:l,bound:$C(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(x?x.$$.context:[])),callbacks:$C(),dirty:n,skip_bound:!1,root:t.target||x.$$.root};y&&y(C.root);let k=!1;if(C.ctx=i?i(e,t.props||{},(O,B,...L)=>{const V=L.length?L[0]:B;return C.ctx&&l(C.ctx[O],C.ctx[O]=V)&&(!C.skip_bound&&C.bound[O]&&C.bound[O](V),k&&xX(e,O)),B}):[],C.update(),k=!0,Yg(C.before_update),C.fragment=a?a(C.ctx):!1,t.target){if(t.hydrate){const O=pX(t.target);C.fragment&&C.fragment.l(O),O.forEach(Ds)}else C.fragment&&C.fragment.c();t.intro&&To(e.$$.fragment),yu(e,t.target,t.anchor),DP()}N1(x)}class kl{constructor(){this.$$=void 0,this.$$set=void 0}$destroy(){bu(this,1),this.$destroy=ds}$on(t,i){if(!h5(i))return ds;const a=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return a.push(i),()=>{const l=a.indexOf(i);l!==-1&&a.splice(l,1)}}$set(t){this.$$set&&!dX(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const wX="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(wX);function FX(e){let t,i,a,l,c;return{c(){t=Wc("button"),Bo(t,"aria-label",i=e[3]?e[3]:null),Bo(t,"class",a=`${e[1]||""} shepherd-button ${e[4]?"shepherd-button-secondary":""}`),t.disabled=e[2],Bo(t,"tabindex","0"),Bo(t,"type","button")},m(y,n){bc(y,t,n),t.innerHTML=e[5],l||(c=J2(t,"click",function(){h5(e[0])&&e[0].apply(this,arguments)}),l=!0)},p(y,[n]){e=y,n&32&&(t.innerHTML=e[5]),n&8&&i!==(i=e[3]?e[3]:null)&&Bo(t,"aria-label",i),n&18&&a!==(a=`${e[1]||""} shepherd-button ${e[4]?"shepherd-button-secondary":""}`)&&Bo(t,"class",a),n&4&&(t.disabled=e[2])},i:ds,o:ds,d(y){y&&Ds(t),l=!1,c()}}}function CX(e,t,i){let{config:a,step:l}=t,c,y,n,x,C,k;function O(B){return su(B)?B=B.call(l):B}return e.$$set=B=>{"config"in B&&i(6,a=B.config),"step"in B&&i(7,l=B.step)},e.$$.update=()=>{e.$$.dirty&192&&(i(0,c=a.action?a.action.bind(l.tour):null),i(1,y=a.classes),i(2,n=a.disabled?O(a.disabled):!1),i(3,x=a.label?O(a.label):null),i(4,C=a.secondary),i(5,k=a.text?O(a.text):null))},[c,y,n,x,C,k,a,l]}class EX extends kl{constructor(t){super(),Il(this,t,CX,FX,Pl,{config:6,step:7})}}function WC(e,t,i){const a=e.slice();return a[2]=t[i],a}function KC(e){let t,i,a=qC(e[1]),l=[];for(let y=0;y<a.length;y+=1)l[y]=ZC(WC(e,a,y));const c=y=>gr(l[y],1,1,()=>{l[y]=null});return{c(){for(let y=0;y<l.length;y+=1)l[y].c();t=hX()},m(y,n){for(let x=0;x<l.length;x+=1)l[x]&&l[x].m(y,n);bc(y,t,n),i=!0},p(y,n){if(n&3){a=qC(y[1]);let x;for(x=0;x<a.length;x+=1){const C=WC(y,a,x);l[x]?(l[x].p(C,n),To(l[x],1)):(l[x]=ZC(C),l[x].c(),To(l[x],1),l[x].m(t.parentNode,t))}for(Th(),x=a.length;x<l.length;x+=1)c(x);Rh()}},i(y){if(!i){for(let n=0;n<a.length;n+=1)To(l[n]);i=!0}},o(y){l=l.filter(Boolean);for(let n=0;n<l.length;n+=1)gr(l[n]);i=!1},d(y){y&&Ds(t),uX(l,y)}}}function ZC(e){let t,i;return t=new EX({props:{config:e[2],step:e[0]}}),{c(){Vh(t.$$.fragment)},m(a,l){yu(t,a,l),i=!0},p(a,l){const c={};l&2&&(c.config=a[2]),l&1&&(c.step=a[0]),t.$set(c)},i(a){i||(To(t.$$.fragment,a),i=!0)},o(a){gr(t.$$.fragment,a),i=!1},d(a){bu(t,a)}}}function SX(e){let t,i,a=e[1]&&KC(e);return{c(){t=Wc("footer"),a&&a.c(),Bo(t,"class","shepherd-footer")},m(l,c){bc(l,t,c),a&&a.m(t,null),i=!0},p(l,[c]){l[1]?a?(a.p(l,c),c&2&&To(a,1)):(a=KC(l),a.c(),To(a,1),a.m(t,null)):a&&(Th(),gr(a,1,1,()=>{a=null}),Rh())},i(l){i||(To(a),i=!0)},o(l){gr(a),i=!1},d(l){l&&Ds(t),a&&a.d()}}}function TX(e,t,i){let a,{step:l}=t;return e.$$set=c=>{"step"in c&&i(0,l=c.step)},e.$$.update=()=>{e.$$.dirty&1&&i(1,a=l.options.buttons)},[l,a]}class RX extends kl{constructor(t){super(),Il(this,t,TX,SX,Pl,{step:0})}}function PX(e){let t,i,a,l,c;return{c(){t=Wc("button"),i=Wc("span"),i.textContent="×",Bo(i,"aria-hidden","true"),Bo(t,"aria-label",a=e[0].label?e[0].label:"Close Tour"),Bo(t,"class","shepherd-cancel-icon"),Bo(t,"type","button")},m(y,n){bc(y,t,n),Qp(t,i),l||(c=J2(t,"click",e[1]),l=!0)},p(y,[n]){n&1&&a!==(a=y[0].label?y[0].label:"Close Tour")&&Bo(t,"aria-label",a)},i:ds,o:ds,d(y){y&&Ds(t),l=!1,c()}}}function IX(e,t,i){let{cancelIcon:a,step:l}=t;const c=y=>{y.preventDefault(),l.cancel()};return e.$$set=y=>{"cancelIcon"in y&&i(0,a=y.cancelIcon),"step"in y&&i(2,l=y.step)},[a,c,l]}class kX extends kl{constructor(t){super(),Il(this,t,IX,PX,Pl,{cancelIcon:0,step:2})}}function MX(e){let t;return{c(){t=Wc("h3"),Bo(t,"id",e[1]),Bo(t,"class","shepherd-title")},m(i,a){bc(i,t,a),e[3](t)},p(i,[a]){a&2&&Bo(t,"id",i[1])},i:ds,o:ds,d(i){i&&Ds(t),e[3](null)}}}function AX(e,t,i){let{labelId:a,element:l,title:c}=t;f5(()=>{su(c)&&i(2,c=c()),i(0,l.innerHTML=c,l)});function y(n){Xp[n?"unshift":"push"](()=>{l=n,i(0,l)})}return e.$$set=n=>{"labelId"in n&&i(1,a=n.labelId),"element"in n&&i(0,l=n.element),"title"in n&&i(2,c=n.title)},[l,a,c,y]}class OX extends kl{constructor(t){super(),Il(this,t,AX,MX,Pl,{labelId:1,element:0,title:2})}}function QC(e){let t,i;return t=new OX({props:{labelId:e[0],title:e[2]}}),{c(){Vh(t.$$.fragment)},m(a,l){yu(t,a,l),i=!0},p(a,l){const c={};l&1&&(c.labelId=a[0]),l&4&&(c.title=a[2]),t.$set(c)},i(a){i||(To(t.$$.fragment,a),i=!0)},o(a){gr(t.$$.fragment,a),i=!1},d(a){bu(t,a)}}}function XC(e){let t,i;return t=new kX({props:{cancelIcon:e[3],step:e[1]}}),{c(){Vh(t.$$.fragment)},m(a,l){yu(t,a,l),i=!0},p(a,l){const c={};l&8&&(c.cancelIcon=a[3]),l&2&&(c.step=a[1]),t.$set(c)},i(a){i||(To(t.$$.fragment,a),i=!0)},o(a){gr(t.$$.fragment,a),i=!1},d(a){bu(t,a)}}}function LX(e){let t,i,a,l=e[2]&&QC(e),c=e[3]&&e[3].enabled&&XC(e);return{c(){t=Wc("header"),l&&l.c(),i=u2(),c&&c.c(),Bo(t,"class","shepherd-header")},m(y,n){bc(y,t,n),l&&l.m(t,null),Qp(t,i),c&&c.m(t,null),a=!0},p(y,[n]){y[2]?l?(l.p(y,n),n&4&&To(l,1)):(l=QC(y),l.c(),To(l,1),l.m(t,i)):l&&(Th(),gr(l,1,1,()=>{l=null}),Rh()),y[3]&&y[3].enabled?c?(c.p(y,n),n&8&&To(c,1)):(c=XC(y),c.c(),To(c,1),c.m(t,null)):c&&(Th(),gr(c,1,1,()=>{c=null}),Rh())},i(y){a||(To(l),To(c),a=!0)},o(y){gr(l),gr(c),a=!1},d(y){y&&Ds(t),l&&l.d(),c&&c.d()}}}function DX(e,t,i){let{labelId:a,step:l}=t,c,y;return e.$$set=n=>{"labelId"in n&&i(0,a=n.labelId),"step"in n&&i(1,l=n.step)},e.$$.update=()=>{e.$$.dirty&2&&(i(2,c=l.options.title),i(3,y=l.options.cancelIcon))},[a,l,c,y]}class BX extends kl{constructor(t){super(),Il(this,t,DX,LX,Pl,{labelId:0,step:1})}}function jX(e){let t;return{c(){t=Wc("div"),Bo(t,"class","shepherd-text"),Bo(t,"id",e[1])},m(i,a){bc(i,t,a),e[3](t)},p(i,[a]){a&2&&Bo(t,"id",i[1])},i:ds,o:ds,d(i){i&&Ds(t),e[3](null)}}}function zX(e,t,i){let{descriptionId:a,element:l,step:c}=t;f5(()=>{let{text:n}=c.options;su(n)&&(n=n.call(c)),qp(n)?l.appendChild(n):i(0,l.innerHTML=n,l)});function y(n){Xp[n?"unshift":"push"](()=>{l=n,i(0,l)})}return e.$$set=n=>{"descriptionId"in n&&i(1,a=n.descriptionId),"element"in n&&i(0,l=n.element),"step"in n&&i(2,c=n.step)},[l,a,c,y]}class VX extends kl{constructor(t){super(),Il(this,t,zX,jX,Pl,{descriptionId:1,element:0,step:2})}}function JC(e){let t,i;return t=new BX({props:{labelId:e[1],step:e[2]}}),{c(){Vh(t.$$.fragment)},m(a,l){yu(t,a,l),i=!0},p(a,l){const c={};l&2&&(c.labelId=a[1]),l&4&&(c.step=a[2]),t.$set(c)},i(a){i||(To(t.$$.fragment,a),i=!0)},o(a){gr(t.$$.fragment,a),i=!1},d(a){bu(t,a)}}}function YC(e){let t,i;return t=new VX({props:{descriptionId:e[0],step:e[2]}}),{c(){Vh(t.$$.fragment)},m(a,l){yu(t,a,l),i=!0},p(a,l){const c={};l&1&&(c.descriptionId=a[0]),l&4&&(c.step=a[2]),t.$set(c)},i(a){i||(To(t.$$.fragment,a),i=!0)},o(a){gr(t.$$.fragment,a),i=!1},d(a){bu(t,a)}}}function eE(e){let t,i;return t=new RX({props:{step:e[2]}}),{c(){Vh(t.$$.fragment)},m(a,l){yu(t,a,l),i=!0},p(a,l){const c={};l&4&&(c.step=a[2]),t.$set(c)},i(a){i||(To(t.$$.fragment,a),i=!0)},o(a){gr(t.$$.fragment,a),i=!1},d(a){bu(t,a)}}}function NX(e){let t,i=!la(e[2].options.title)||e[2].options.cancelIcon&&e[2].options.cancelIcon.enabled,a,l=!la(e[2].options.text),c,y=Array.isArray(e[2].options.buttons)&&e[2].options.buttons.length,n,x=i&&JC(e),C=l&&YC(e),k=y&&eE(e);return{c(){t=Wc("div"),x&&x.c(),a=u2(),C&&C.c(),c=u2(),k&&k.c(),Bo(t,"class","shepherd-content")},m(O,B){bc(O,t,B),x&&x.m(t,null),Qp(t,a),C&&C.m(t,null),Qp(t,c),k&&k.m(t,null),n=!0},p(O,[B]){B&4&&(i=!la(O[2].options.title)||O[2].options.cancelIcon&&O[2].options.cancelIcon.enabled),i?x?(x.p(O,B),B&4&&To(x,1)):(x=JC(O),x.c(),To(x,1),x.m(t,a)):x&&(Th(),gr(x,1,1,()=>{x=null}),Rh()),B&4&&(l=!la(O[2].options.text)),l?C?(C.p(O,B),B&4&&To(C,1)):(C=YC(O),C.c(),To(C,1),C.m(t,c)):C&&(Th(),gr(C,1,1,()=>{C=null}),Rh()),B&4&&(y=Array.isArray(O[2].options.buttons)&&O[2].options.buttons.length),y?k?(k.p(O,B),B&4&&To(k,1)):(k=eE(O),k.c(),To(k,1),k.m(t,null)):k&&(Th(),gr(k,1,1,()=>{k=null}),Rh())},i(O){n||(To(x),To(C),To(k),n=!0)},o(O){gr(x),gr(C),gr(k),n=!1},d(O){O&&Ds(t),x&&x.d(),C&&C.d(),k&&k.d()}}}function $X(e,t,i){let{descriptionId:a,labelId:l,step:c}=t;return e.$$set=y=>{"descriptionId"in y&&i(0,a=y.descriptionId),"labelId"in y&&i(1,l=y.labelId),"step"in y&&i(2,c=y.step)},[a,l,c]}class UX extends kl{constructor(t){super(),Il(this,t,$X,NX,Pl,{descriptionId:0,labelId:1,step:2})}}function tE(e){let t;return{c(){t=Wc("div"),Bo(t,"class","shepherd-arrow"),Bo(t,"data-popper-arrow","")},m(i,a){bc(i,t,a)},d(i){i&&Ds(t)}}}function GX(e){let t,i,a,l,c,y,n,x,C=e[4].options.arrow&&e[4].options.attachTo&&e[4].options.attachTo.element&&e[4].options.attachTo.on&&tE();a=new UX({props:{descriptionId:e[2],labelId:e[3],step:e[4]}});let k=[{"aria-describedby":l=la(e[4].options.text)?null:e[2]},{"aria-labelledby":c=e[4].options.title?e[3]:null},e[1],{open:"true"}],O={};for(let B=0;B<k.length;B+=1)O=lX(O,k[B]);return{c(){t=Wc("dialog"),C&&C.c(),i=u2(),Vh(a.$$.fragment),GC(t,O),np(t,"shepherd-has-cancel-icon",e[5]),np(t,"shepherd-has-title",e[6]),np(t,"shepherd-element",!0)},m(B,L){bc(B,t,L),C&&C.m(t,null),Qp(t,i),yu(a,t,null),e[13](t),y=!0,n||(x=J2(t,"keydown",e[7]),n=!0)},p(B,[L]){B[4].options.arrow&&B[4].options.attachTo&&B[4].options.attachTo.element&&B[4].options.attachTo.on?C||(C=tE(),C.c(),C.m(t,i)):C&&(C.d(1),C=null);const V={};L&4&&(V.descriptionId=B[2]),L&8&&(V.labelId=B[3]),L&16&&(V.step=B[4]),a.$set(V),GC(t,O=vX(k,[(!y||L&20&&l!==(l=la(B[4].options.text)?null:B[2]))&&{"aria-describedby":l},(!y||L&24&&c!==(c=B[4].options.title?B[3]:null))&&{"aria-labelledby":c},L&2&&B[1],{open:"true"}])),np(t,"shepherd-has-cancel-icon",B[5]),np(t,"shepherd-has-title",B[6]),np(t,"shepherd-element",!0)},i(B){y||(To(a.$$.fragment,B),y=!0)},o(B){gr(a.$$.fragment,B),y=!1},d(B){B&&Ds(t),C&&C.d(),bu(a),e[13](null),n=!1,x()}}}const HX=9,qX=27,WX=37,KX=39;function iE(e){return e.split(" ").filter(t=>!!t.length)}function ZX(e,t,i){let{classPrefix:a,element:l,descriptionId:c,firstFocusableElement:y,focusableElements:n,labelId:x,lastFocusableElement:C,step:k,dataStepId:O}=t,B,L,V;const G=()=>l;mX(()=>{i(1,O={[`data-${a}shepherd-step-id`]:k.id}),i(9,n=l.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]')),i(8,y=n[0]),i(10,C=n[n.length-1])}),f5(()=>{V!==k.options.classes&&Q()});function Q(){Y(V),V=k.options.classes,J(V)}function Y(he){if(lg(he)){const we=iE(he);we.length&&l.classList.remove(...we)}}function J(he){if(lg(he)){const we=iE(he);we.length&&l.classList.add(...we)}}const re=he=>{const{tour:we}=k;switch(he.keyCode){case HX:if(n.length===0){he.preventDefault();break}he.shiftKey?(document.activeElement===y||document.activeElement.classList.contains("shepherd-element"))&&(he.preventDefault(),C.focus()):document.activeElement===C&&(he.preventDefault(),y.focus());break;case qX:we.options.exitOnEsc&&(he.preventDefault(),he.stopPropagation(),k.cancel());break;case WX:we.options.keyboardNavigation&&(he.preventDefault(),he.stopPropagation(),we.back());break;case KX:we.options.keyboardNavigation&&(he.preventDefault(),he.stopPropagation(),we.next());break}};function ce(he){Xp[he?"unshift":"push"](()=>{l=he,i(0,l)})}return e.$$set=he=>{"classPrefix"in he&&i(11,a=he.classPrefix),"element"in he&&i(0,l=he.element),"descriptionId"in he&&i(2,c=he.descriptionId),"firstFocusableElement"in he&&i(8,y=he.firstFocusableElement),"focusableElements"in he&&i(9,n=he.focusableElements),"labelId"in he&&i(3,x=he.labelId),"lastFocusableElement"in he&&i(10,C=he.lastFocusableElement),"step"in he&&i(4,k=he.step),"dataStepId"in he&&i(1,O=he.dataStepId)},e.$$.update=()=>{e.$$.dirty&16&&(i(5,B=k.options&&k.options.cancelIcon&&k.options.cancelIcon.enabled),i(6,L=k.options&&k.options.title))},[l,O,c,x,k,B,L,re,y,n,C,a,G,ce]}class QX extends kl{constructor(t){super(),Il(this,t,ZX,GX,Pl,{classPrefix:11,element:0,descriptionId:2,firstFocusableElement:8,focusableElements:9,labelId:3,lastFocusableElement:10,step:4,dataStepId:1,getElement:12})}get getElement(){return this.$$.ctx[12]}}class kx extends e5{constructor(t,i={}){return super(),this._resolvedAttachTo=void 0,this._resolvedExtraHighlightElements=void 0,this.classPrefix=void 0,this.el=void 0,this.target=void 0,this.tour=void 0,this.tour=t,this.classPrefix=this.tour.options?xP(this.tour.options.classPrefix):"",this.styles=t.styles,this._resolvedAttachTo=null,n5(this),this._setOptions(i),this}cancel(){this.tour.cancel(),this.trigger("cancel")}complete(){this.tour.complete(),this.trigger("complete")}destroy(){nX(this),qp(this.el)&&(this.el.remove(),this.el=null),this._updateStepTargetOnHide(),this.trigger("destroy")}getTour(){return this.tour}hide(){var t;(t=this.tour.modal)==null||t.hide(),this.trigger("before-hide"),this.el&&(this.el.hidden=!0),this._updateStepTargetOnHide(),this.trigger("hide")}_resolveExtraHiglightElements(){return this._resolvedExtraHighlightElements=fQ(this),this._resolvedExtraHighlightElements}_resolveAttachToOptions(){return this._resolvedAttachTo=hQ(this),this._resolvedAttachTo}_getResolvedAttachToOptions(){return this._resolvedAttachTo===null?this._resolveAttachToOptions():this._resolvedAttachTo}isOpen(){return!!(this.el&&!this.el.hidden)}show(){return su(this.options.beforeShowPromise)?Promise.resolve(this.options.beforeShowPromise()).then(()=>this._show()):Promise.resolve(this._show())}updateStepOptions(t){Object.assign(this.options,t),this.shepherdElementComponent&&this.shepherdElementComponent.$set({step:this})}getElement(){return this.el}getTarget(){return this.target}_createTooltipContent(){const t=`${this.id}-description`,i=`${this.id}-label`;return this.shepherdElementComponent=new QX({target:this.tour.options.stepsContainer||document.body,props:{classPrefix:this.classPrefix,descriptionId:t,labelId:i,step:this,styles:this.styles}}),this.shepherdElementComponent.getElement()}_scrollTo(t){const{element:i}=this._getResolvedAttachToOptions();su(this.options.scrollToHandler)?this.options.scrollToHandler(i):HZ(i)&&typeof i.scrollIntoView=="function"&&i.scrollIntoView(t)}_getClassOptions(t){const i=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions,a=t.classes?t.classes:"",l=i&&i.classes?i.classes:"",c=[...a.split(" "),...l.split(" ")],y=new Set(c);return Array.from(y).join(" ").trim()}_setOptions(t={}){let i=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions;i=i5({},i||{}),this.options=Object.assign({arrow:!0},i,t,iX(i,t));const{when:a}=this.options;this.options.classes=this._getClassOptions(t),this.destroy(),this.id=this.options.id||`step-${FP()}`,a&&Object.keys(a).forEach(l=>{this.on(l,a[l],this)})}_setupElements(){la(this.el)||this.destroy(),this.el=this._createTooltipContent(),this.options.advanceOn&&lQ(this),tX(this)}_show(){var t;this.trigger("before-show"),this._resolveAttachToOptions(),this._resolveExtraHiglightElements(),this._setupElements(),this.tour.modal||this.tour.setupModal(),(t=this.tour.modal)==null||t.setupForStep(this),this._styleTargetElementForStep(this),this.el&&(this.el.hidden=!1),this.options.scrollTo&&setTimeout(()=>{this._scrollTo(this.options.scrollTo)}),this.el&&(this.el.hidden=!1);const i=this.shepherdElementComponent.getElement(),a=this.target||document.body,l=this._resolvedExtraHighlightElements;a.classList.add(`${this.classPrefix}shepherd-enabled`),a.classList.add(`${this.classPrefix}shepherd-target`),i.classList.add("shepherd-enabled"),l==null||l.forEach(c=>{c.classList.add(`${this.classPrefix}shepherd-enabled`),c.classList.add(`${this.classPrefix}shepherd-target`)}),this.trigger("show")}_styleTargetElementForStep(t){const i=t.target,a=t._resolvedExtraHighlightElements;if(!i)return;const l=t.options.highlightClass;l&&(i.classList.add(l),a==null||a.forEach(c=>c.classList.add(l))),i.classList.remove("shepherd-target-click-disabled"),a==null||a.forEach(c=>c.classList.remove("shepherd-target-click-disabled")),t.options.canClickTarget===!1&&(i.classList.add("shepherd-target-click-disabled"),a==null||a.forEach(c=>c.classList.add("shepherd-target-click-disabled")))}_updateStepTargetOnHide(){const t=this.target||document.body,i=this._resolvedExtraHighlightElements,a=this.options.highlightClass;a&&(t.classList.remove(a),i==null||i.forEach(l=>l.classList.remove(a))),t.classList.remove("shepherd-target-click-disabled",`${this.classPrefix}shepherd-enabled`,`${this.classPrefix}shepherd-target`),i==null||i.forEach(l=>{l.classList.remove("shepherd-target-click-disabled",`${this.classPrefix}shepherd-enabled`,`${this.classPrefix}shepherd-target`)})}}function XX(e){if(e){const{steps:t}=e;t.forEach(i=>{i.options&&i.options.canClickTarget===!1&&i.options.attachTo&&(qp(i.target)&&i.target.classList.remove("shepherd-target-click-disabled"),i._resolvedExtraHighlightElements&&i._resolvedExtraHighlightElements.forEach(a=>{qp(a)&&a.classList.remove("shepherd-target-click-disabled")}))})}}function JX(e){let t="";const{innerWidth:i,innerHeight:a}=window;return e.forEach(l=>{const{width:c,height:y,x:n=0,y:x=0,r:C=0}=l,{topLeft:k=0,topRight:O=0,bottomRight:B=0,bottomLeft:L=0}=typeof C=="number"?{topLeft:C,topRight:C,bottomRight:C,bottomLeft:C}:C;t+=`M${n+k},${x}      a${k},${k},0,0,0-${k},${k}      V${y+x-L}      a${L},${L},0,0,0,${L},${L}      H${c+n-B}      a${B},${B},0,0,0,${B}-${B}      V${x+O}      a${O},${O},0,0,0-${O}-${O}      Z`}),`M${i},${a}          H0          V0          H${i}          V${a}          Z          ${t}`.replace(/\s/g,"")}function YX(e){let t,i,a,l,c;return{c(){t=UC("svg"),i=UC("path"),Bo(i,"d",e[2]),Bo(t,"class",a=`${e[1]?"shepherd-modal-is-visible":""} shepherd-modal-overlay-container`)},m(y,n){bc(y,t,n),Qp(t,i),e[11](t),l||(c=J2(t,"touchmove",e[3]),l=!0)},p(y,[n]){n&4&&Bo(i,"d",y[2]),n&2&&a!==(a=`${y[1]?"shepherd-modal-is-visible":""} shepherd-modal-overlay-container`)&&Bo(t,"class",a)},i:ds,o:ds,d(y){y&&Ds(t),e[11](null),l=!1,c()}}}function BP(e){if(!e)return null;const i=e instanceof HTMLElement&&window.getComputedStyle(e).overflowY;return i!=="hidden"&&i!=="visible"&&e.scrollHeight>=e.clientHeight?e:BP(e.parentElement)}function eJ(e){let t={top:0,left:0};if(!e)return t;let i=e.ownerDocument.defaultView;for(;i!==window.top;){var a;const y=(a=i)==null?void 0:a.frameElement;if(y){var l,c;const n=y.getBoundingClientRect();t.top+=n.top+((l=n.scrollTop)!=null?l:0),t.left+=n.left+((c=n.scrollLeft)!=null?c:0)}i=i.parent}return t}function tJ(e,t){const i=e.getBoundingClientRect();let a=i.y||i.top,l=i.bottom||a+i.height;if(t){const y=t.getBoundingClientRect(),n=y.y||y.top,x=y.bottom||n+y.height;a=Math.max(a,n),l=Math.min(l,x)}const c=Math.max(l-a,0);return{y:a,height:c}}function iJ(e,t,i){let{element:a,openingProperties:l}=t,c=!1,y,n;C();const x=()=>a;function C(){i(4,l=[{width:0,height:0,x:0,y:0,r:0}])}function k(){i(1,c=!1),Y()}function O(ce=0,he=0,we=0,pe=0,De,Ae,Ne){if(Ae){const it=[Ae,...Ne||[]];i(4,l=[]);for(const ye of it){if(!ye||it.indexOf(ye)!==it.lastIndexOf(ye))continue;const{y:Oe,height:ue}=tJ(ye,De),{x:ct,width:Ct,left:pt}=ye.getBoundingClientRect();it.some(vt=>{if(vt===ye)return!1;const Bt=vt.getBoundingClientRect();return ct>=Bt.left&&ct+Ct<=Bt.right&&Oe>=Bt.top&&Oe+ue<=Bt.bottom})||l.push({width:Ct+ce*2,height:ue+ce*2,x:(ct||pt)+we-ce,y:Oe+pe-ce,r:he})}}else C()}function B(ce){Y(),ce.tour.options.useModalOverlay?(J(ce),L()):k()}function L(){i(1,c=!0)}const V=ce=>{ce.preventDefault()},G=ce=>{ce.stopPropagation()};function Q(){window.addEventListener("touchmove",V,{passive:!1})}function Y(){y&&(cancelAnimationFrame(y),y=void 0),window.removeEventListener("touchmove",V,{passive:!1})}function J(ce){const{modalOverlayOpeningPadding:he,modalOverlayOpeningRadius:we,modalOverlayOpeningXOffset:pe=0,modalOverlayOpeningYOffset:De=0}=ce.options,Ae=eJ(ce.target),Ne=BP(ce.target),it=()=>{y=void 0,O(he,we,pe+Ae.left,De+Ae.top,Ne,ce.target,ce._resolvedExtraHighlightElements),y=requestAnimationFrame(it)};it(),Q()}function re(ce){Xp[ce?"unshift":"push"](()=>{a=ce,i(0,a)})}return e.$$set=ce=>{"element"in ce&&i(0,a=ce.element),"openingProperties"in ce&&i(4,l=ce.openingProperties)},e.$$.update=()=>{e.$$.dirty&16&&i(2,n=JX(l))},[a,c,n,G,l,x,C,k,O,B,L,re]}class nJ extends kl{constructor(t){super(),Il(this,t,iJ,YX,Pl,{element:0,openingProperties:4,getElement:5,closeModalOpening:6,hide:7,positionModal:8,setupForStep:9,show:10})}get getElement(){return this.$$.ctx[5]}get closeModalOpening(){return this.$$.ctx[6]}get hide(){return this.$$.ctx[7]}get positionModal(){return this.$$.ctx[8]}get setupForStep(){return this.$$.ctx[9]}get show(){return this.$$.ctx[10]}}class oJ extends e5{constructor(){super(),this.activeTour=void 0,n5(this)}}class rJ extends e5{constructor(t={}){super(),this.trackedEvents=["active","cancel","complete","show"],this.classPrefix=void 0,this.currentStep=void 0,this.focusedElBeforeOpen=void 0,this.id=void 0,this.modal=void 0,this.options=void 0,this.steps=void 0,n5(this);const i={exitOnEsc:!0,keyboardNavigation:!0};return this.options=Object.assign({},i,t),this.classPrefix=xP(this.options.classPrefix),this.steps=[],this.addSteps(this.options.steps),["active","cancel","complete","inactive","show","start"].map(l=>{(c=>{this.on(c,y=>{y=y||{},y.tour=this,wh.trigger(c,y)})})(l)}),this._setTourID(t.id),this}addStep(t,i){let a=t;return a instanceof kx?a.tour=this:a=new kx(this,a),la(i)?this.steps.push(a):this.steps.splice(i,0,a),a}addSteps(t){return Array.isArray(t)&&t.forEach(i=>{this.addStep(i)}),this}back(){const t=this.steps.indexOf(this.currentStep);this.show(t-1,!1)}async cancel(){if(this.options.confirmCancel){const t=this.options.confirmCancelMessage||"Are you sure you want to stop the tour?";let i;su(this.options.confirmCancel)?i=await this.options.confirmCancel():i=window.confirm(t),i&&this._done("cancel")}else this._done("cancel")}complete(){this._done("complete")}getById(t){return this.steps.find(i=>i.id===t)}getCurrentStep(){return this.currentStep}hide(){const t=this.getCurrentStep();if(t)return t.hide()}isActive(){return wh.activeTour===this}next(){const t=this.steps.indexOf(this.currentStep);t===this.steps.length-1?this.complete():this.show(t+1,!0)}removeStep(t){const i=this.getCurrentStep();this.steps.some((a,l)=>{if(a.id===t)return a.isOpen()&&a.hide(),a.destroy(),this.steps.splice(l,1),!0}),i&&i.id===t&&(this.currentStep=void 0,this.steps.length?this.show(0):this.cancel())}show(t=0,i=!0){const a=lg(t)?this.getById(t):this.steps[t];a&&(this._updateStateBeforeShow(),su(a.options.showOn)&&!a.options.showOn()?this._skipStep(a,i):(this.currentStep=a,this.trigger("show",{step:a,previous:this.currentStep}),a.show()))}async start(){this.trigger("start"),this.focusedElBeforeOpen=document.activeElement,this.currentStep=null,this.setupModal(),this._setupActiveTour(),this.next()}_done(t){const i=this.steps.indexOf(this.currentStep);if(Array.isArray(this.steps)&&this.steps.forEach(a=>a.destroy()),XX(this),this.trigger(t,{index:i}),wh.activeTour=null,this.trigger("inactive",{tour:this}),this.modal&&this.modal.hide(),(t==="cancel"||t==="complete")&&this.modal){const a=document.querySelector(".shepherd-modal-overlay-container");a&&(a.remove(),this.modal=null)}qp(this.focusedElBeforeOpen)&&this.focusedElBeforeOpen.focus()}_setupActiveTour(){this.trigger("active",{tour:this}),wh.activeTour=this}setupModal(){this.modal=new nJ({target:this.options.modalContainer||document.body,props:{styles:this.styles}})}_skipStep(t,i){const a=this.steps.indexOf(t);if(a===this.steps.length-1)this.complete();else{const l=i?a+1:a-1;this.show(l,i)}}_updateStateBeforeShow(){this.currentStep&&this.currentStep.hide(),this.isActive()||this._setupActiveTour()}_setTourID(t){const i=this.options.tourName||"tour",a=t||FP();this.id=`${i}--${a}`}}const wh=new oJ,jP=typeof window>"u";wh.Step=jP?dQ:kx;wh.Tour=jP?uQ:rJ;const zP=pu("tourStore",()=>{let e=GZ,t=ai(null),i=ai(!1),a=ai(0),l=ai(null);const c=Li(()=>{const B=e;return B.sort((V,G)=>V.display_order-G.display_order),B.map((V,G)=>{const Y=y().find(J=>J.title===V.title);return Y?V.beforeShowPromiseFunction=Y.action:V.beforeShowPromiseFunction=()=>{},console.log("index",G),G>0&&G<B.length-1?V.buttons=[{text:"Back",action:()=>t.value.back()},{text:"Next",action:()=>t.value.next()}]:G===0?V.buttons=[{text:"Next",action:()=>t.value.next()}]:G===B.length-1&&(V.buttons=[{text:"Back",action:()=>t.value.back()},{text:"End",action:()=>{t.value.complete()}}]),{id:"tour_"+V.id,title:V.title,text:V.description,classes:V.classes,attachTo:{element:V.target,on:"auto"},arrow:{padding:30},buttons:V.buttons,beforeShowPromise:function(){return new Promise(J=>{setTimeout(()=>{V.beforeShowPromiseFunction(),J()},100)})}}})}),y=()=>{const B=wr();fc();const L=mo();return[{target:"start",action:()=>{console.log("start action")}},{target:"map",title:"Explore Overview",action:()=>{console.log("summary nav"),L.activeMapSection="explore",B.map.flyTo({center:[-84.861,33.852],zoom:7,essential:!0}),B.queryCenterpoint([-84.861,33.852])}},{target:"map",title:"Changing Map Layers",action:()=>{console.log("change map layer to carbon"),B.mapLayerSelected="c_unprot_for_c_dist"}},{target:"map",title:"Analyzing Your Data",action:()=>{console.log("analyze data"),L.activeMapSection="analyze"}}]};return{productTourMetadata:e,tour:t,tourInitialized:i,currentStep:a,tourAreaId:l,initializeTour:()=>{const B=mo(),L=wr();if(i.value)return;const V=c.value;t.value=new wh.Tour({useModalOverlay:!1,defaultStepOptions:{modalOverlayOpeningPadding:20,scrollTo:!0,cancelIcon:{enabled:!0,label:"Close"}},steps:V}),t.value.on("complete",()=>{console.log("tour complete"),i.value=!1,B.activeMapSection="explore",L.mapLayerSelected="c_unprot_for_extent",L.map.flyTo({center:[-96.5,40],zoom:3.5,essential:!0})}),t.value.on("cancel",()=>{console.log("tour complete"),i.value=!1,B.activeMapSection="explore",L.mapLayerSelected="c_unprot_for_extent",L.map.flyTo({center:[-96.5,40],zoom:3.5,essential:!0})})},startTour:()=>{console.log("tour started"),t.value.start()},endTour:()=>{console.log("tour ended"),t.value.cancel()},tourSteps:c,nextStep:()=>{t.value.next()},previousStep:()=>{t.value.back()}}}),aJ={class:"nav-wrapper"},sJ=to({__name:"TheNavigationBar",setup(e){const t=mo(),i=fc(),a=wr(),l=zP(),c=ai(!1),y=()=>{c.value=!c.value},n=()=>{t.activeMapSection="explore",i.activeArea=null,a.map.setZoom(3.4),a.map.setCenter([-98.5795,39.8283])},x=()=>{l.initializeTour(),l.startTour()};return(C,k)=>(ge(),Je("header",null,[Se("div",{class:"site-title",onClick:n},k[0]||(k[0]=[Se("img",{src:LV,alt:"logo",class:"logo"},null,-1),Se("span",{class:"title-1"},"Avoided Forest Conversion",-1),Se("span",{class:"title-2"},"Explorer",-1)])),Se("div",aJ,[Se("nav",null,[kt(dt(NT),{to:{name:"home"}},{default:ti(()=>k[1]||(k[1]=[Ei("Home")])),_:1}),Se("a",{class:"nav-tour-launch","aria-current":"page",onClick:x},"Help")])]),Se("button",{class:"veggie-burger",onClick:y}," ☰ ")]))}}),Vo=(e,t)=>{const i=e.__vccOpts||e;for(const[a,l]of t)i[a]=l;return i},cJ=Vo(sJ,[["__scopeId","data-v-d955e16a"]]),lJ=to({__name:"App",setup(e){const t=mo(),i=vr();return Bh(()=>{t.spatialMetadata.length===0&&(console.log("fetch metadata"),t.querySpatialMetadata()),console.log("active workspace",i.activeWorkspaceId),i.activeWorkspaceId||(console.log("INIT WORKSPACE"),i.initWorkspace())}),(a,l)=>(ge(),Je(Ri,null,[kt(cJ),kt(dt($T),null,{default:ti(({Component:c})=>[(ge(),Vt(o6,{include:"MapSummaryView"},[(ge(),Vt(Wi(c)))],1024))]),_:1})],64))}}),dJ="modulepreload",uJ=function(e){return"/"+e},nE={},hJ=function(t,i,a){let l=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const y=document.querySelector("meta[property=csp-nonce]"),n=(y==null?void 0:y.nonce)||(y==null?void 0:y.getAttribute("nonce"));l=Promise.allSettled(i.map(x=>{if(x=uJ(x),x in nE)return;nE[x]=!0;const C=x.endsWith(".css"),k=C?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${k}`))return;const O=document.createElement("link");if(O.rel=C?"stylesheet":dJ,C||(O.as="script"),O.crossOrigin="",O.href=x,n&&O.setAttribute("nonce",n),document.head.appendChild(O),C)return new Promise((B,L)=>{O.addEventListener("load",B),O.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${x}`)))})}))}function c(y){const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=y,window.dispatchEvent(n),!n.defaultPrevented)throw y}return l.then(y=>{for(const n of y||[])n.status==="rejected"&&c(n.reason);return t().catch(c)})};var oE=In.extend({name:"common"});function hg(e){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hg(e)}function fJ(e){return $P(e)||pJ(e)||NP(e)||VP()}function pJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function db(e,t){return $P(e)||mJ(e,t)||NP(e,t)||VP()}function VP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NP(e,t){if(e){if(typeof e=="string")return rE(e,t);var i={}.toString.call(e).slice(8,-1);return i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set"?Array.from(e):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?rE(e,t):void 0}}function rE(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,a=Array(t);i<t;i++)a[i]=e[i];return a}function mJ(e,t){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var a,l,c,y,n=[],x=!0,C=!1;try{if(c=(i=i.call(e)).next,t===0){if(Object(i)!==i)return;x=!1}else for(;!(x=(a=c.call(i)).done)&&(n.push(a.value),n.length!==t);x=!0);}catch(k){C=!0,l=k}finally{try{if(!x&&i.return!=null&&(y=i.return(),Object(y)!==y))return}finally{if(C)throw l}}return n}}function $P(e){if(Array.isArray(e))return e}function aE(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),i.push.apply(i,a)}return i}function lo(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?aE(Object(i),!0).forEach(function(a){Pb(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):aE(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function Pb(e,t,i){return(t=gJ(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function gJ(e){var t=_J(e,"string");return hg(t)=="symbol"?t:t+""}function _J(e,t){if(hg(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t||"default");if(hg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tn={name:"BaseComponent",props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0},dt:{type:Object,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(t){t||(this._loadCoreStyles(),this._themeChangeListener(this._loadCoreStyles))}},dt:{immediate:!0,handler:function(t){var i=this;t?(this._loadScopedThemeStyles(t),this._themeChangeListener(function(){return i._loadScopedThemeStyles(t)})):this._unloadScopedThemeStyles()}}},scopedStyleEl:void 0,rootEl:void 0,beforeCreate:function(){var t,i,a,l,c,y,n,x,C,k,O,B=(t=this.pt)===null||t===void 0?void 0:t._usept,L=B?(i=this.pt)===null||i===void 0||(i=i.originalValue)===null||i===void 0?void 0:i[this.$.type.name]:void 0,V=B?(a=this.pt)===null||a===void 0||(a=a.value)===null||a===void 0?void 0:a[this.$.type.name]:this.pt;(l=V||L)===null||l===void 0||(l=l.hooks)===null||l===void 0||(c=l.onBeforeCreate)===null||c===void 0||c.call(l);var G=(y=this.$primevueConfig)===null||y===void 0||(y=y.pt)===null||y===void 0?void 0:y._usept,Q=G?(n=this.$primevue)===null||n===void 0||(n=n.config)===null||n===void 0||(n=n.pt)===null||n===void 0?void 0:n.originalValue:void 0,Y=G?(x=this.$primevue)===null||x===void 0||(x=x.config)===null||x===void 0||(x=x.pt)===null||x===void 0?void 0:x.value:(C=this.$primevue)===null||C===void 0||(C=C.config)===null||C===void 0?void 0:C.pt;(k=Y||Q)===null||k===void 0||(k=k[this.$.type.name])===null||k===void 0||(k=k.hooks)===null||k===void 0||(O=k.onBeforeCreate)===null||O===void 0||O.call(k)},created:function(){this._hook("onCreated")},beforeMount:function(){this._loadStyles(),this._hook("onBeforeMount")},mounted:function(){this.rootEl=ks(this.$el,'[data-pc-name="'.concat(oc(this.$.type.name),'"]')),this.rootEl&&(this.rootEl.setAttribute(this.$attrSelector,""),this.rootEl.$pc=lo({name:this.$.type.name},this.$params)),this._hook("onMounted")},beforeUpdate:function(){this._hook("onBeforeUpdate")},updated:function(){this._hook("onUpdated")},beforeUnmount:function(){this._hook("onBeforeUnmount")},unmounted:function(){this._unloadScopedThemeStyles(),this._hook("onUnmounted")},methods:{_hook:function(t){if(!this.$options.hostName){var i=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,"hooks.".concat(t)),a=this._useDefaultPT(this._getOptionValue,"hooks.".concat(t));i==null||i(),a==null||a()}},_mergeProps:function(t){for(var i=arguments.length,a=new Array(i>1?i-1:0),l=1;l<i;l++)a[l-1]=arguments[l];return M2(t)?t.apply(void 0,a):Ze.apply(void 0,a)},_loadStyles:function(){var t=this,i=function(){Ud.isStyleNameLoaded("base")||(In.loadCSS(t.$styleOptions),t._loadGlobalStyles(),Ud.setLoadedStyleName("base")),t._loadThemeStyles()};i(),this._themeChangeListener(i)},_loadCoreStyles:function(){var t,i;!Ud.isStyleNameLoaded((t=this.$style)===null||t===void 0?void 0:t.name)&&(i=this.$style)!==null&&i!==void 0&&i.name&&(oE.loadCSS(this.$styleOptions),this.$options.style&&this.$style.loadCSS(this.$styleOptions),Ud.setLoadedStyleName(this.$style.name))},_loadGlobalStyles:function(){var t=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);Bn(t)&&In.load(t,lo({name:"global"},this.$styleOptions))},_loadThemeStyles:function(){var t,i;if(!this.isUnstyled){if(!So.isStyleNameLoaded("common")){var a,l,c=((a=this.$style)===null||a===void 0||(l=a.getCommonTheme)===null||l===void 0?void 0:l.call(a))||{},y=c.primitive,n=c.semantic;In.load(y==null?void 0:y.css,lo({name:"primitive-variables"},this.$styleOptions)),In.load(n==null?void 0:n.css,lo({name:"semantic-variables"},this.$styleOptions)),In.loadTheme(lo({name:"global-style"},this.$styleOptions)),So.setLoadedStyleName("common")}if(!So.isStyleNameLoaded((t=this.$style)===null||t===void 0?void 0:t.name)&&(i=this.$style)!==null&&i!==void 0&&i.name){var x,C,k,O,B=((x=this.$style)===null||x===void 0||(C=x.getComponentTheme)===null||C===void 0?void 0:C.call(x))||{},L=B.css;(k=this.$style)===null||k===void 0||k.load(L,lo({name:"".concat(this.$style.name,"-variables")},this.$styleOptions)),(O=this.$style)===null||O===void 0||O.loadTheme(lo({name:"".concat(this.$style.name,"-style")},this.$styleOptions)),So.setLoadedStyleName(this.$style.name)}if(!So.isStyleNameLoaded("layer-order")){var V,G,Q=(V=this.$style)===null||V===void 0||(G=V.getLayerOrderThemeCSS)===null||G===void 0?void 0:G.call(V);In.load(Q,lo({name:"layer-order",first:!0},this.$styleOptions)),So.setLoadedStyleName("layer-order")}}},_loadScopedThemeStyles:function(t){var i,a,l,c=((i=this.$style)===null||i===void 0||(a=i.getPresetTheme)===null||a===void 0?void 0:a.call(i,t,"[".concat(this.$attrSelector,"]")))||{},y=c.css,n=(l=this.$style)===null||l===void 0?void 0:l.load(y,lo({name:"".concat(this.$attrSelector,"-").concat(this.$style.name)},this.$styleOptions));this.scopedStyleEl=n.el},_unloadScopedThemeStyles:function(){var t;(t=this.scopedStyleEl)===null||t===void 0||(t=t.value)===null||t===void 0||t.remove()},_themeChangeListener:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};Ud.clearLoadedStyleNames(),nc.on("theme:change",t)},_getHostInstance:function(t){return t?this.$options.hostName?t.$.type.name===this.$options.hostName?t:this._getHostInstance(t.$parentInstance):t.$parentInstance:void 0},_getPropValue:function(t){var i;return this[t]||((i=this._getHostInstance(this))===null||i===void 0?void 0:i[t])},_getOptionValue:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return p6(t,i,a)},_getPTValue:function(){var t,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,y=/./g.test(a)&&!!l[a.split(".")[0]],n=this._getPropValue("ptOptions")||((t=this.$primevueConfig)===null||t===void 0?void 0:t.ptOptions)||{},x=n.mergeSections,C=x===void 0?!0:x,k=n.mergeProps,O=k===void 0?!1:k,B=c?y?this._useGlobalPT(this._getPTClassValue,a,l):this._useDefaultPT(this._getPTClassValue,a,l):void 0,L=y?void 0:this._getPTSelf(i,this._getPTClassValue,a,lo(lo({},l),{},{global:B||{}})),V=this._getPTDatasets(a);return C||!C&&L?O?this._mergeProps(O,B,L,V):lo(lo(lo({},B),L),V):lo(lo({},L),V)},_getPTSelf:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length,a=new Array(i>1?i-1:0),l=1;l<i;l++)a[l-1]=arguments[l];return Ze(this._usePT.apply(this,[this._getPT(t,this.$name)].concat(a)),this._usePT.apply(this,[this.$_attrsPT].concat(a)))},_getPTDatasets:function(){var t,i,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l="data-pc-",c=a==="root"&&Bn((t=this.pt)===null||t===void 0?void 0:t["data-pc-section"]);return a!=="transition"&&lo(lo({},a==="root"&&lo(Pb({},"".concat(l,"name"),oc(c?(i=this.pt)===null||i===void 0?void 0:i["data-pc-section"]:this.$.type.name)),c&&Pb({},"".concat(l,"extend"),oc(this.$.type.name)))),{},Pb({},"".concat(l,"section"),oc(a)))},_getPTClassValue:function(){var t=this._getOptionValue.apply(this,arguments);return Ga(t)||m6(t)?{class:t}:t},_getPT:function(t){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",l=arguments.length>2?arguments[2]:void 0,c=function(n){var x,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,k=l?l(n):n,O=oc(a),B=oc(i.$name);return(x=C?O!==B?k==null?void 0:k[O]:void 0:k==null?void 0:k[O])!==null&&x!==void 0?x:k};return t!=null&&t.hasOwnProperty("_usept")?{_usept:t._usept,originalValue:c(t.originalValue),value:c(t.value)}:c(t,!0)},_usePT:function(t,i,a,l){var c=function(G){return i(G,a,l)};if(t!=null&&t.hasOwnProperty("_usept")){var y,n=t._usept||((y=this.$primevueConfig)===null||y===void 0?void 0:y.ptOptions)||{},x=n.mergeSections,C=x===void 0?!0:x,k=n.mergeProps,O=k===void 0?!1:k,B=c(t.originalValue),L=c(t.value);return B===void 0&&L===void 0?void 0:Ga(L)?L:Ga(B)?B:C||!C&&L?O?this._mergeProps(O,B,L):lo(lo({},B),L):L}return c(t)},_useGlobalPT:function(t,i,a){return this._usePT(this.globalPT,t,i,a)},_useDefaultPT:function(t,i,a){return this._usePT(this.defaultPT,t,i,a)},ptm:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,t,lo(lo({},this.$params),i))},ptmi:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ze(this.$_attrsWithoutPT,this.ptm(t,i))},ptmo:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(t,i,lo({instance:this},a),!1)},cx:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,t,lo(lo({},this.$params),i))},sx:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(i){var l=this._getOptionValue(this.$style.inlineStyles,t,lo(lo({},this.$params),a)),c=this._getOptionValue(oE.inlineStyles,t,lo(lo({},this.$params),a));return[c,l]}}},computed:{globalPT:function(){var t,i=this;return this._getPT((t=this.$primevueConfig)===null||t===void 0?void 0:t.pt,void 0,function(a){return Vc(a,{instance:i})})},defaultPT:function(){var t,i=this;return this._getPT((t=this.$primevueConfig)===null||t===void 0?void 0:t.pt,void 0,function(a){return i._getOptionValue(a,i.$name,lo({},i.$params))||Vc(a,lo({},i.$params))})},isUnstyled:function(){var t;return this.unstyled!==void 0?this.unstyled:(t=this.$primevueConfig)===null||t===void 0?void 0:t.unstyled},$theme:function(){var t;return(t=this.$primevueConfig)===null||t===void 0?void 0:t.theme},$style:function(){return lo(lo({classes:void 0,inlineStyles:void 0,load:function(){},loadCSS:function(){},loadTheme:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$styleOptions:function(){var t;return{nonce:(t=this.$primevueConfig)===null||t===void 0||(t=t.csp)===null||t===void 0?void 0:t.nonce}},$primevueConfig:function(){var t;return(t=this.$primevue)===null||t===void 0?void 0:t.config},$name:function(){return this.$options.hostName||this.$.type.name},$params:function(){var t=this._getHostInstance(this)||this.$parent;return{instance:this,props:this.$props,state:this.$data,attrs:this.$attrs,parent:{instance:t,props:t==null?void 0:t.$props,state:t==null?void 0:t.$data,attrs:t==null?void 0:t.$attrs}}},$_attrsPT:function(){return Object.entries(this.$attrs||{}).filter(function(t){var i=db(t,1),a=i[0];return a==null?void 0:a.startsWith("pt:")}).reduce(function(t,i){var a=db(i,2),l=a[0],c=a[1],y=l.split(":"),n=fJ(y),x=n.slice(1);return x==null||x.reduce(function(C,k,O,B){return!C[k]&&(C[k]=O===B.length-1?c:{}),C[k]},t),t},{})},$_attrsWithoutPT:function(){return Object.entries(this.$attrs||{}).filter(function(t){var i=db(t,1),a=i[0];return!(a!=null&&a.startsWith("pt:"))}).reduce(function(t,i){var a=db(i,2),l=a[0],c=a[1];return t[l]=c,t},{})},$attrSelector:function(){return hr("pc")}}},yJ=`
.p-icon {
    display: inline-block;
    vertical-align: baseline;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,bJ=In.extend({name:"baseicon",css:yJ});function fg(e){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fg(e)}function sE(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),i.push.apply(i,a)}return i}function cE(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?sE(Object(i),!0).forEach(function(a){vJ(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):sE(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function vJ(e,t,i){return(t=xJ(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function xJ(e){var t=wJ(e,"string");return fg(t)=="symbol"?t:t+""}function wJ(e,t){if(fg(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t||"default");if(fg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ro={name:"BaseIcon",extends:Tn,props:{label:{type:String,default:void 0},spin:{type:Boolean,default:!1}},style:bJ,provide:function(){return{$pcIcon:this,$parentInstance:this}},methods:{pti:function(){var t=Qr(this.label);return cE(cE({},!this.isUnstyled&&{class:["p-icon",{"p-icon-spin":this.spin}]}),{},{role:t?void 0:"img","aria-label":t?void 0:this.label,"aria-hidden":t})}}},UP={name:"BlankIcon",extends:Ro};function FJ(e,t,i,a,l,c){return ge(),Je("svg",Ze({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),t[0]||(t[0]=[Se("rect",{width:"1",height:"1",fill:"currentColor","fill-opacity":"0"},null,-1)]),16)}UP.render=FJ;var Nh={name:"CheckIcon",extends:Ro};function CJ(e,t,i,a,l,c){return ge(),Je("svg",Ze({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),t[0]||(t[0]=[Se("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"},null,-1)]),16)}Nh.render=CJ;var r0={name:"ChevronDownIcon",extends:Ro};function EJ(e,t,i,a,l,c){return ge(),Je("svg",Ze({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),t[0]||(t[0]=[Se("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"},null,-1)]),16)}r0.render=EJ;var p5={name:"SearchIcon",extends:Ro};function SJ(e,t,i,a,l,c){return ge(),Je("svg",Ze({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),t[0]||(t[0]=[Se("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z",fill:"currentColor"},null,-1)]),16)}p5.render=SJ;var a0={name:"SpinnerIcon",extends:Ro};function TJ(e,t,i,a,l,c){return ge(),Je("svg",Ze({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),t[0]||(t[0]=[Se("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"},null,-1)]),16)}a0.render=TJ;var e_={name:"TimesIcon",extends:Ro};function RJ(e,t,i,a,l,c){return ge(),Je("svg",Ze({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),t[0]||(t[0]=[Se("path",{d:"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z",fill:"currentColor"},null,-1)]),16)}e_.render=RJ;var PJ=function(t){var i=t.dt;return`
.p-iconfield {
    position: relative;
}

.p-inputicon {
    position: absolute;
    top: 50%;
    margin-top: calc(-1 * (`.concat(i("icon.size"),` / 2));
    color: `).concat(i("iconfield.icon.color"),`;
    line-height: 1;
}

.p-iconfield .p-inputicon:first-child {
    left: `).concat(i("form.field.padding.x"),`;
}

.p-iconfield .p-inputicon:last-child {
    right: `).concat(i("form.field.padding.x"),`;
}

.p-iconfield .p-inputtext:not(:first-child) {
    padding-left: calc((`).concat(i("form.field.padding.x")," * 2) + ").concat(i("icon.size"),`);
}

.p-iconfield .p-inputtext:not(:last-child) {
    padding-right: calc((`).concat(i("form.field.padding.x")," * 2) + ").concat(i("icon.size"),`);
}
`)},IJ={root:"p-iconfield"},kJ=In.extend({name:"iconfield",theme:PJ,classes:IJ}),MJ={name:"BaseIconField",extends:Tn,style:kJ,provide:function(){return{$pcIconField:this,$parentInstance:this}}},m5={name:"IconField",extends:MJ,inheritAttrs:!1};function AJ(e,t,i,a,l,c){return ge(),Je("div",Ze({class:e.cx("root")},e.ptmi("root")),[mi(e.$slots,"default")],16)}m5.render=AJ;var OJ={root:"p-inputicon"},LJ=In.extend({name:"inputicon",classes:OJ}),DJ={name:"BaseInputIcon",extends:Tn,style:LJ,props:{class:null},provide:function(){return{$pcInputIcon:this,$parentInstance:this}}},g5={name:"InputIcon",extends:DJ,inheritAttrs:!1,computed:{containerClass:function(){return[this.cx("root"),this.class]}}};function BJ(e,t,i,a,l,c){return ge(),Je("span",Ze({class:c.containerClass},e.ptmi("root")),[mi(e.$slots,"default")],16)}g5.render=BJ;var jJ=function(t){var i=t.dt;return`
.p-inputtext {
    font-family: inherit;
    font-feature-settings: inherit;
    font-size: 1rem;
    color: `.concat(i("inputtext.color"),`;
    background: `).concat(i("inputtext.background"),`;
    padding: `).concat(i("inputtext.padding.y")," ").concat(i("inputtext.padding.x"),`;
    border: 1px solid `).concat(i("inputtext.border.color"),`;
    transition: background `).concat(i("inputtext.transition.duration"),", color ").concat(i("inputtext.transition.duration"),", border-color ").concat(i("inputtext.transition.duration"),", outline-color ").concat(i("inputtext.transition.duration"),", box-shadow ").concat(i("inputtext.transition.duration"),`;
    appearance: none;
    border-radius: `).concat(i("inputtext.border.radius"),`;
    outline-color: transparent;
    box-shadow: `).concat(i("inputtext.shadow"),`;
}

.p-inputtext:enabled:hover {
    border-color: `).concat(i("inputtext.hover.border.color"),`;
}

.p-inputtext:enabled:focus {
    border-color: `).concat(i("inputtext.focus.border.color"),`;
    box-shadow: `).concat(i("inputtext.focus.ring.shadow"),`;
    outline: `).concat(i("inputtext.focus.ring.width")," ").concat(i("inputtext.focus.ring.style")," ").concat(i("inputtext.focus.ring.color"),`;
    outline-offset: `).concat(i("inputtext.focus.ring.offset"),`;
}

.p-inputtext.p-invalid {
    border-color: `).concat(i("inputtext.invalid.border.color"),`;
}

.p-inputtext.p-variant-filled {
    background: `).concat(i("inputtext.filled.background"),`;
}

.p-inputtext.p-variant-filled:enabled:focus {
    background: `).concat(i("inputtext.filled.focus.background"),`;
}

.p-inputtext:disabled {
    opacity: 1;
    background: `).concat(i("inputtext.disabled.background"),`;
    color: `).concat(i("inputtext.disabled.color"),`;
}

.p-inputtext::placeholder {
    color: `).concat(i("inputtext.placeholder.color"),`;
}

.p-inputtext-sm {
    font-size: `).concat(i("inputtext.sm.font.size"),`;
    padding: `).concat(i("inputtext.sm.padding.y")," ").concat(i("inputtext.sm.padding.x"),`;
}

.p-inputtext-lg {
    font-size: `).concat(i("inputtext.lg.font.size"),`;
    padding: `).concat(i("inputtext.lg.padding.y")," ").concat(i("inputtext.lg.padding.x"),`;
}

.p-inputtext-fluid {
    width: 100%;
}
`)},zJ={root:function(t){var i=t.instance,a=t.props;return["p-inputtext p-component",{"p-filled":i.filled,"p-inputtext-sm":a.size==="small","p-inputtext-lg":a.size==="large","p-invalid":a.invalid,"p-variant-filled":a.variant?a.variant==="filled":i.$primevue.config.inputStyle==="filled"||i.$primevue.config.inputVariant==="filled","p-inputtext-fluid":i.hasFluid}]}},VJ=In.extend({name:"inputtext",theme:jJ,classes:zJ}),NJ={name:"BaseInputText",extends:Tn,props:{modelValue:null,size:{type:String,default:null},invalid:{type:Boolean,default:!1},variant:{type:String,default:null},fluid:{type:Boolean,default:null}},style:VJ,provide:function(){return{$pcInputText:this,$parentInstance:this}}},t_={name:"InputText",extends:NJ,inheritAttrs:!1,emits:["update:modelValue"],inject:{$pcFluid:{default:null}},methods:{getPTOptions:function(t){var i=t==="root"?this.ptmi:this.ptm;return i(t,{context:{filled:this.filled,disabled:this.$attrs.disabled||this.$attrs.disabled===""}})},onInput:function(t){this.$emit("update:modelValue",t.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},hasFluid:function(){return Qr(this.fluid)?!!this.$pcFluid:this.fluid}}},$J=["value","aria-invalid"];function UJ(e,t,i,a,l,c){return ge(),Je("input",Ze({type:"text",class:e.cx("root"),value:e.modelValue,"aria-invalid":e.invalid||void 0,onInput:t[0]||(t[0]=function(){return c.onInput&&c.onInput.apply(c,arguments)})},c.getPTOptions("root")),null,16,$J)}t_.render=UJ;var ss=g6(),s0={name:"Portal",props:{appendTo:{type:[String,Object],default:"body"},disabled:{type:Boolean,default:!1}},data:function(){return{mounted:!1}},mounted:function(){this.mounted=w6()},computed:{inline:function(){return this.disabled||this.appendTo==="self"}}};function GJ(e,t,i,a,l,c){return c.inline?mi(e.$slots,"default",{key:0}):l.mounted?(ge(),Vt(EO,{key:1,to:i.appendTo},[mi(e.$slots,"default")],8,["to"])):Zt("",!0)}s0.render=GJ;var HJ=function(t){var i=t.dt;return`
.p-ink {
    display: block;
    position: absolute;
    background: `.concat(i("ripple.background"),`;
    border-radius: 100%;
    transform: scale(0);
    pointer-events: none;
}

.p-ink-active {
    animation: ripple 0.4s linear;
}

@keyframes ripple {
    100% {
        opacity: 0;
        transform: scale(2.5);
    }
}
`)},qJ={root:"p-ink"},WJ=In.extend({name:"ripple-directive",theme:HJ,classes:qJ}),KJ=Vn.extend({style:WJ});function pg(e){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pg(e)}function ZJ(e){return YJ(e)||JJ(e)||XJ(e)||QJ()}function QJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XJ(e,t){if(e){if(typeof e=="string")return Mx(e,t);var i={}.toString.call(e).slice(8,-1);return i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set"?Array.from(e):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Mx(e,t):void 0}}function JJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YJ(e){if(Array.isArray(e))return Mx(e)}function Mx(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,a=Array(t);i<t;i++)a[i]=e[i];return a}function lE(e,t,i){return(t=eY(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function eY(e){var t=tY(e,"string");return pg(t)=="symbol"?t:t+""}function tY(e,t){if(pg(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t||"default");if(pg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bs=KJ.extend("ripple",{watch:{"config.ripple":function(t){t?(this.createRipple(this.$host),this.bindEvents(this.$host),this.$host.setAttribute("data-pd-ripple",!0),this.$host.style.overflow="hidden",this.$host.style.position="relative"):(this.remove(this.$host),this.$host.removeAttribute("data-pd-ripple"))}},unmounted:function(t){this.remove(t)},timeout:void 0,methods:{bindEvents:function(t){t.addEventListener("mousedown",this.onMouseDown.bind(this))},unbindEvents:function(t){t.removeEventListener("mousedown",this.onMouseDown.bind(this))},createRipple:function(t){var i=A1("span",lE(lE({role:"presentation","aria-hidden":!0,"data-p-ink":!0,"data-p-ink-active":!1,class:!this.isUnstyled()&&this.cx("root"),onAnimationEnd:this.onAnimationEnd.bind(this)},this.$attrSelector,""),"p-bind",this.ptm("root")));t.appendChild(i),this.$el=i},remove:function(t){var i=this.getInk(t);i&&(this.$host.style.overflow="",this.$host.style.position="",this.unbindEvents(t),i.removeEventListener("animationend",this.onAnimationEnd),i.remove())},onMouseDown:function(t){var i=this,a=t.currentTarget,l=this.getInk(a);if(!(!l||getComputedStyle(l,null).display==="none")){if(!this.isUnstyled()&&Bc(l,"p-ink-active"),l.setAttribute("data-p-ink-active","false"),!yh(l)&&!bh(l)){var c=Math.max(mr(a),Rs(a));l.style.height=c+"px",l.style.width=c+"px"}var y=$d(a),n=t.pageX-y.left+document.body.scrollTop-bh(l)/2,x=t.pageY-y.top+document.body.scrollLeft-yh(l)/2;l.style.top=x+"px",l.style.left=n+"px",!this.isUnstyled()&&vl(l,"p-ink-active"),l.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(function(){l&&(!i.isUnstyled()&&Bc(l,"p-ink-active"),l.setAttribute("data-p-ink-active","false"))},401)}},onAnimationEnd:function(t){this.timeout&&clearTimeout(this.timeout),!this.isUnstyled()&&Bc(t.currentTarget,"p-ink-active"),t.currentTarget.setAttribute("data-p-ink-active","false")},getInk:function(t){return t&&t.children?ZJ(t.children).find(function(i){return Uo(i,"data-pc-name")==="ripple"}):void 0}}}),iY=function(t){var i=t.dt;return`
.p-virtualscroller {
    position: relative;
    overflow: auto;
    contain: strict;
    transform: translateZ(0);
    will-change: scroll-position;
    outline: 0 none;
}

.p-virtualscroller-content {
    position: absolute;
    top: 0;
    left: 0;
    min-height: 100%;
    min-width: 100%;
    will-change: transform;
}

.p-virtualscroller-spacer {
    position: absolute;
    top: 0;
    left: 0;
    height: 1px;
    width: 1px;
    transform-origin: 0 0;
    pointer-events: none;
}

.p-virtualscroller-loader {
    position: sticky;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: `.concat(i("virtualscroller.loader.mask.background"),`;
    color: `).concat(i("virtualscroller.loader.mask.color"),`;
}

.p-virtualscroller-loader-mask {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-virtualscroller-loading-icon {
    font-size: `).concat(i("virtualscroller.loader.icon.size"),`;
    width: `).concat(i("virtualscroller.loader.icon.size"),`;
    height: `).concat(i("virtualscroller.loader.icon.size"),`;
}

.p-virtualscroller-horizontal > .p-virtualscroller-content {
    display: flex;
}

.p-virtualscroller-inline .p-virtualscroller-content {
    position: static;
}
`)},dE=In.extend({name:"virtualscroller",theme:iY}),nY={name:"BaseVirtualScroller",extends:Tn,props:{id:{type:String,default:null},style:null,class:null,items:{type:Array,default:null},itemSize:{type:[Number,Array],default:0},scrollHeight:null,scrollWidth:null,orientation:{type:String,default:"vertical"},numToleratedItems:{type:Number,default:null},delay:{type:Number,default:0},resizeDelay:{type:Number,default:10},lazy:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loaderDisabled:{type:Boolean,default:!1},columns:{type:Array,default:null},loading:{type:Boolean,default:!1},showSpacer:{type:Boolean,default:!0},showLoader:{type:Boolean,default:!1},tabindex:{type:Number,default:0},inline:{type:Boolean,default:!1},step:{type:Number,default:0},appendOnly:{type:Boolean,default:!1},autoSize:{type:Boolean,default:!1}},style:dE,provide:function(){return{$pcVirtualScroller:this,$parentInstance:this}},beforeMount:function(){var t;dE.loadCSS({nonce:(t=this.$primevueConfig)===null||t===void 0||(t=t.csp)===null||t===void 0?void 0:t.nonce})}};function mg(e){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mg(e)}function uE(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),i.push.apply(i,a)}return i}function u1(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?uE(Object(i),!0).forEach(function(a){GP(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):uE(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function GP(e,t,i){return(t=oY(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function oY(e){var t=rY(e,"string");return mg(t)=="symbol"?t:t+""}function rY(e,t){if(mg(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t||"default");if(mg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y2={name:"VirtualScroller",extends:nY,inheritAttrs:!1,emits:["update:numToleratedItems","scroll","scroll-index-change","lazy-load"],data:function(){var t=this.isBoth();return{first:t?{rows:0,cols:0}:0,last:t?{rows:0,cols:0}:0,page:t?{rows:0,cols:0}:0,numItemsInViewport:t?{rows:0,cols:0}:0,lastScrollPos:t?{top:0,left:0}:0,d_numToleratedItems:this.numToleratedItems,d_loading:this.loading,loaderArr:[],spacerStyle:{},contentStyle:{}}},element:null,content:null,lastScrollPos:null,scrollTimeout:null,resizeTimeout:null,defaultWidth:0,defaultHeight:0,defaultContentWidth:0,defaultContentHeight:0,isRangeChanged:!1,lazyLoadState:{},resizeListener:null,initialized:!1,watch:{numToleratedItems:function(t){this.d_numToleratedItems=t},loading:function(t,i){this.lazy&&t!==i&&t!==this.d_loading&&(this.d_loading=t)},items:function(t,i){(!i||i.length!==(t||[]).length)&&(this.init(),this.calculateAutoSize())},itemSize:function(){this.init(),this.calculateAutoSize()},orientation:function(){this.lastScrollPos=this.isBoth()?{top:0,left:0}:0},scrollHeight:function(){this.init(),this.calculateAutoSize()},scrollWidth:function(){this.init(),this.calculateAutoSize()}},mounted:function(){this.viewInit(),this.lastScrollPos=this.isBoth()?{top:0,left:0}:0,this.lazyLoadState=this.lazyLoadState||{}},updated:function(){!this.initialized&&this.viewInit()},unmounted:function(){this.unbindResizeListener(),this.initialized=!1},methods:{viewInit:function(){Gb(this.element)&&(this.setContentEl(this.content),this.init(),this.calculateAutoSize(),this.bindResizeListener(),this.defaultWidth=bh(this.element),this.defaultHeight=yh(this.element),this.defaultContentWidth=bh(this.content),this.defaultContentHeight=yh(this.content),this.initialized=!0)},init:function(){this.disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize())},isVertical:function(){return this.orientation==="vertical"},isHorizontal:function(){return this.orientation==="horizontal"},isBoth:function(){return this.orientation==="both"},scrollTo:function(t){this.element&&this.element.scrollTo(t)},scrollToIndex:function(t){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",l=this.isBoth(),c=this.isHorizontal(),y=l?t.every(function(pe){return pe>-1}):t>-1;if(y){var n=this.first,x=this.element,C=x.scrollTop,k=C===void 0?0:C,O=x.scrollLeft,B=O===void 0?0:O,L=this.calculateNumItems(),V=L.numToleratedItems,G=this.getContentPosition(),Q=this.itemSize,Y=function(){var De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Ae=arguments.length>1?arguments[1]:void 0;return De<=Ae?0:De},J=function(De,Ae,Ne){return De*Ae+Ne},re=function(){var De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return i.scrollTo({left:De,top:Ae,behavior:a})},ce=l?{rows:0,cols:0}:0,he=!1,we=!1;l?(ce={rows:Y(t[0],V[0]),cols:Y(t[1],V[1])},re(J(ce.cols,Q[1],G.left),J(ce.rows,Q[0],G.top)),we=this.lastScrollPos.top!==k||this.lastScrollPos.left!==B,he=ce.rows!==n.rows||ce.cols!==n.cols):(ce=Y(t,V),c?re(J(ce,Q,G.left),k):re(B,J(ce,Q,G.top)),we=this.lastScrollPos!==(c?B:k),he=ce!==n),this.isRangeChanged=he,we&&(this.first=ce)}},scrollInView:function(t,i){var a=this,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(i){var c=this.isBoth(),y=this.isHorizontal(),n=c?t.every(function(Q){return Q>-1}):t>-1;if(n){var x=this.getRenderedRange(),C=x.first,k=x.viewport,O=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return a.scrollTo({left:Y,top:J,behavior:l})},B=i==="to-start",L=i==="to-end";if(B){if(c)k.first.rows-C.rows>t[0]?O(k.first.cols*this.itemSize[1],(k.first.rows-1)*this.itemSize[0]):k.first.cols-C.cols>t[1]&&O((k.first.cols-1)*this.itemSize[1],k.first.rows*this.itemSize[0]);else if(k.first-C>t){var V=(k.first-1)*this.itemSize;y?O(V,0):O(0,V)}}else if(L){if(c)k.last.rows-C.rows<=t[0]+1?O(k.first.cols*this.itemSize[1],(k.first.rows+1)*this.itemSize[0]):k.last.cols-C.cols<=t[1]+1&&O((k.first.cols+1)*this.itemSize[1],k.first.rows*this.itemSize[0]);else if(k.last-C<=t+1){var G=(k.first+1)*this.itemSize;y?O(G,0):O(0,G)}}}}else this.scrollToIndex(t,l)},getRenderedRange:function(){var t=function(O,B){return Math.floor(O/(B||O))},i=this.first,a=0;if(this.element){var l=this.isBoth(),c=this.isHorizontal(),y=this.element,n=y.scrollTop,x=y.scrollLeft;if(l)i={rows:t(n,this.itemSize[0]),cols:t(x,this.itemSize[1])},a={rows:i.rows+this.numItemsInViewport.rows,cols:i.cols+this.numItemsInViewport.cols};else{var C=c?x:n;i=t(C,this.itemSize),a=i+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:i,last:a}}},calculateNumItems:function(){var t=this.isBoth(),i=this.isHorizontal(),a=this.itemSize,l=this.getContentPosition(),c=this.element?this.element.offsetWidth-l.left:0,y=this.element?this.element.offsetHeight-l.top:0,n=function(B,L){return Math.ceil(B/(L||B))},x=function(B){return Math.ceil(B/2)},C=t?{rows:n(y,a[0]),cols:n(c,a[1])}:n(i?c:y,a),k=this.d_numToleratedItems||(t?[x(C.rows),x(C.cols)]:x(C));return{numItemsInViewport:C,numToleratedItems:k}},calculateOptions:function(){var t=this,i=this.isBoth(),a=this.first,l=this.calculateNumItems(),c=l.numItemsInViewport,y=l.numToleratedItems,n=function(k,O,B){var L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return t.getLast(k+O+(k<B?2:3)*B,L)},x=i?{rows:n(a.rows,c.rows,y[0]),cols:n(a.cols,c.cols,y[1],!0)}:n(a,c,y);this.last=x,this.numItemsInViewport=c,this.d_numToleratedItems=y,this.$emit("update:numToleratedItems",this.d_numToleratedItems),this.showLoader&&(this.loaderArr=i?Array.from({length:c.rows}).map(function(){return Array.from({length:c.cols})}):Array.from({length:c})),this.lazy&&Promise.resolve().then(function(){var C;t.lazyLoadState={first:t.step?i?{rows:0,cols:a.cols}:0:a,last:Math.min(t.step?t.step:x,((C=t.items)===null||C===void 0?void 0:C.length)||0)},t.$emit("lazy-load",t.lazyLoadState)})},calculateAutoSize:function(){var t=this;this.autoSize&&!this.d_loading&&Promise.resolve().then(function(){if(t.content){var i=t.isBoth(),a=t.isHorizontal(),l=t.isVertical();t.content.style.minHeight=t.content.style.minWidth="auto",t.content.style.position="relative",t.element.style.contain="none";var c=[bh(t.element),yh(t.element)],y=c[0],n=c[1];(i||a)&&(t.element.style.width=y<t.defaultWidth?y+"px":t.scrollWidth||t.defaultWidth+"px"),(i||l)&&(t.element.style.height=n<t.defaultHeight?n+"px":t.scrollHeight||t.defaultHeight+"px"),t.content.style.minHeight=t.content.style.minWidth="",t.content.style.position="",t.element.style.contain=""}})},getLast:function(){var t,i,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,l=arguments.length>1?arguments[1]:void 0;return this.items?Math.min(l?((t=this.columns||this.items[0])===null||t===void 0?void 0:t.length)||0:((i=this.items)===null||i===void 0?void 0:i.length)||0,a):0},getContentPosition:function(){if(this.content){var t=getComputedStyle(this.content),i=parseFloat(t.paddingLeft)+Math.max(parseFloat(t.left)||0,0),a=parseFloat(t.paddingRight)+Math.max(parseFloat(t.right)||0,0),l=parseFloat(t.paddingTop)+Math.max(parseFloat(t.top)||0,0),c=parseFloat(t.paddingBottom)+Math.max(parseFloat(t.bottom)||0,0);return{left:i,right:a,top:l,bottom:c,x:i+a,y:l+c}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},setSize:function(){var t=this;if(this.element){var i=this.isBoth(),a=this.isHorizontal(),l=this.element.parentElement,c=this.scrollWidth||"".concat(this.element.offsetWidth||l.offsetWidth,"px"),y=this.scrollHeight||"".concat(this.element.offsetHeight||l.offsetHeight,"px"),n=function(C,k){return t.element.style[C]=k};i||a?(n("height",y),n("width",c)):n("height",y)}},setSpacerSize:function(){var t=this,i=this.items;if(i){var a=this.isBoth(),l=this.isHorizontal(),c=this.getContentPosition(),y=function(x,C,k){var O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return t.spacerStyle=u1(u1({},t.spacerStyle),GP({},"".concat(x),(C||[]).length*k+O+"px"))};a?(y("height",i,this.itemSize[0],c.y),y("width",this.columns||i[1],this.itemSize[1],c.x)):l?y("width",this.columns||i,this.itemSize,c.x):y("height",i,this.itemSize,c.y)}},setContentPosition:function(t){var i=this;if(this.content&&!this.appendOnly){var a=this.isBoth(),l=this.isHorizontal(),c=t?t.first:this.first,y=function(k,O){return k*O},n=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return i.contentStyle=u1(u1({},i.contentStyle),{transform:"translate3d(".concat(k,"px, ").concat(O,"px, 0)")})};if(a)n(y(c.cols,this.itemSize[1]),y(c.rows,this.itemSize[0]));else{var x=y(c,this.itemSize);l?n(x,0):n(0,x)}}},onScrollPositionChange:function(t){var i=this,a=t.target,l=this.isBoth(),c=this.isHorizontal(),y=this.getContentPosition(),n=function(it,ye){return it?it>ye?it-ye:it:0},x=function(it,ye){return Math.floor(it/(ye||it))},C=function(it,ye,Oe,ue,ct,Ct){return it<=ct?ct:Ct?Oe-ue-ct:ye+ct-1},k=function(it,ye,Oe,ue,ct,Ct,pt){return it<=Ct?0:Math.max(0,pt?it<ye?Oe:it-Ct:it>ye?Oe:it-2*Ct)},O=function(it,ye,Oe,ue,ct,Ct){var pt=ye+ue+2*ct;return it>=ct&&(pt+=ct+1),i.getLast(pt,Ct)},B=n(a.scrollTop,y.top),L=n(a.scrollLeft,y.left),V=l?{rows:0,cols:0}:0,G=this.last,Q=!1,Y=this.lastScrollPos;if(l){var J=this.lastScrollPos.top<=B,re=this.lastScrollPos.left<=L;if(!this.appendOnly||this.appendOnly&&(J||re)){var ce={rows:x(B,this.itemSize[0]),cols:x(L,this.itemSize[1])},he={rows:C(ce.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],J),cols:C(ce.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],re)};V={rows:k(ce.rows,he.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],J),cols:k(ce.cols,he.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],re)},G={rows:O(ce.rows,V.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:O(ce.cols,V.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},Q=V.rows!==this.first.rows||G.rows!==this.last.rows||V.cols!==this.first.cols||G.cols!==this.last.cols||this.isRangeChanged,Y={top:B,left:L}}}else{var we=c?L:B,pe=this.lastScrollPos<=we;if(!this.appendOnly||this.appendOnly&&pe){var De=x(we,this.itemSize),Ae=C(De,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,pe);V=k(De,Ae,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,pe),G=O(De,V,this.last,this.numItemsInViewport,this.d_numToleratedItems),Q=V!==this.first||G!==this.last||this.isRangeChanged,Y=we}}return{first:V,last:G,isRangeChanged:Q,scrollPos:Y}},onScrollChange:function(t){var i=this.onScrollPositionChange(t),a=i.first,l=i.last,c=i.isRangeChanged,y=i.scrollPos;if(c){var n={first:a,last:l};if(this.setContentPosition(n),this.first=a,this.last=l,this.lastScrollPos=y,this.$emit("scroll-index-change",n),this.lazy&&this.isPageChanged(a)){var x,C,k={first:this.step?Math.min(this.getPageByFirst(a)*this.step,(((x=this.items)===null||x===void 0?void 0:x.length)||0)-this.step):a,last:Math.min(this.step?(this.getPageByFirst(a)+1)*this.step:l,((C=this.items)===null||C===void 0?void 0:C.length)||0)},O=this.lazyLoadState.first!==k.first||this.lazyLoadState.last!==k.last;O&&this.$emit("lazy-load",k),this.lazyLoadState=k}}},onScroll:function(t){var i=this;if(this.$emit("scroll",t),this.delay){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.isPageChanged()){if(!this.d_loading&&this.showLoader){var a=this.onScrollPositionChange(t),l=a.isRangeChanged,c=l||(this.step?this.isPageChanged():!1);c&&(this.d_loading=!0)}this.scrollTimeout=setTimeout(function(){i.onScrollChange(t),i.d_loading&&i.showLoader&&(!i.lazy||i.loading===void 0)&&(i.d_loading=!1,i.page=i.getPageByFirst())},this.delay)}}else this.onScrollChange(t)},onResize:function(){var t=this;this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){if(Gb(t.element)){var i=t.isBoth(),a=t.isVertical(),l=t.isHorizontal(),c=[bh(t.element),yh(t.element)],y=c[0],n=c[1],x=y!==t.defaultWidth,C=n!==t.defaultHeight,k=i?x||C:l?x:a?C:!1;k&&(t.d_numToleratedItems=t.numToleratedItems,t.defaultWidth=y,t.defaultHeight=n,t.defaultContentWidth=bh(t.content),t.defaultContentHeight=yh(t.content),t.init())}},this.resizeDelay)},bindResizeListener:function(){this.resizeListener||(this.resizeListener=this.onResize.bind(this),window.addEventListener("resize",this.resizeListener),window.addEventListener("orientationchange",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),window.removeEventListener("orientationchange",this.resizeListener),this.resizeListener=null)},getOptions:function(t){var i=(this.items||[]).length,a=this.isBoth()?this.first.rows+t:this.first+t;return{index:a,count:i,first:a===0,last:a===i-1,even:a%2===0,odd:a%2!==0}},getLoaderOptions:function(t,i){var a=this.loaderArr.length;return u1({index:t,count:a,first:t===0,last:t===a-1,even:t%2===0,odd:t%2!==0},i)},getPageByFirst:function(t){return Math.floor(((t??this.first)+this.d_numToleratedItems*4)/(this.step||1))},isPageChanged:function(t){return this.step?this.page!==this.getPageByFirst(t??this.first):!0},setContentEl:function(t){this.content=t||this.content||ks(this.element,'[data-pc-section="content"]')},elementRef:function(t){this.element=t},contentRef:function(t){this.content=t}},computed:{containerClass:function(){return["p-virtualscroller",this.class,{"p-virtualscroller-inline":this.inline,"p-virtualscroller-both p-both-scroll":this.isBoth(),"p-virtualscroller-horizontal p-horizontal-scroll":this.isHorizontal()}]},contentClass:function(){return["p-virtualscroller-content",{"p-virtualscroller-loading":this.d_loading}]},loaderClass:function(){return["p-virtualscroller-loader",{"p-virtualscroller-loader-mask":!this.$slots.loader}]},loadedItems:function(){var t=this;return this.items&&!this.d_loading?this.isBoth()?this.items.slice(this.appendOnly?0:this.first.rows,this.last.rows).map(function(i){return t.columns?i:i.slice(t.appendOnly?0:t.first.cols,t.last.cols)}):this.isHorizontal()&&this.columns?this.items:this.items.slice(this.appendOnly?0:this.first,this.last):[]},loadedRows:function(){return this.d_loading?this.loaderDisabled?this.loaderArr:[]:this.loadedItems},loadedColumns:function(){if(this.columns){var t=this.isBoth(),i=this.isHorizontal();if(t||i)return this.d_loading&&this.loaderDisabled?t?this.loaderArr[0]:this.loaderArr:this.columns.slice(t?this.first.cols:this.first,t?this.last.cols:this.last)}return this.columns}},components:{SpinnerIcon:a0}},aY=["tabindex"];function sY(e,t,i,a,l,c){var y=Mi("SpinnerIcon");return e.disabled?(ge(),Je(Ri,{key:1},[mi(e.$slots,"default"),mi(e.$slots,"content",{items:e.items,rows:e.items,columns:c.loadedColumns})],64)):(ge(),Je("div",Ze({key:0,ref:c.elementRef,class:c.containerClass,tabindex:e.tabindex,style:e.style,onScroll:t[0]||(t[0]=function(){return c.onScroll&&c.onScroll.apply(c,arguments)})},e.ptmi("root")),[mi(e.$slots,"content",{styleClass:c.contentClass,items:c.loadedItems,getItemOptions:c.getOptions,loading:l.d_loading,getLoaderOptions:c.getLoaderOptions,itemSize:e.itemSize,rows:c.loadedRows,columns:c.loadedColumns,contentRef:c.contentRef,spacerStyle:l.spacerStyle,contentStyle:l.contentStyle,vertical:c.isVertical(),horizontal:c.isHorizontal(),both:c.isBoth()},function(){return[Se("div",Ze({ref:c.contentRef,class:c.contentClass,style:l.contentStyle},e.ptm("content")),[(ge(!0),Je(Ri,null,wo(c.loadedItems,function(n,x){return mi(e.$slots,"item",{key:x,item:n,options:c.getOptions(x)})}),128))],16)]}),e.showSpacer?(ge(),Je("div",Ze({key:0,class:"p-virtualscroller-spacer",style:l.spacerStyle},e.ptm("spacer")),null,16)):Zt("",!0),!e.loaderDisabled&&e.showLoader&&l.d_loading?(ge(),Je("div",Ze({key:1,class:c.loaderClass},e.ptm("loader")),[e.$slots&&e.$slots.loader?(ge(!0),Je(Ri,{key:0},wo(l.loaderArr,function(n,x){return mi(e.$slots,"loader",{key:x,options:c.getLoaderOptions(x,c.isBoth()&&{numCols:e.d_numItemsInViewport.cols})})}),128)):Zt("",!0),mi(e.$slots,"loadingicon",{},function(){return[kt(y,Ze({spin:"",class:"p-virtualscroller-loading-icon"},e.ptm("loadingIcon")),null,16)]})],16)):Zt("",!0)],16,aY))}Y2.render=sY;var cY=function(t){var i=t.dt;return`
.p-select {
    display: inline-flex;
    cursor: pointer;
    position: relative;
    user-select: none;
    background: `.concat(i("select.background"),`;
    border: 1px solid `).concat(i("select.border.color"),`;
    transition: background `).concat(i("select.transition.duration"),", color ").concat(i("select.transition.duration"),", border-color ").concat(i("select.transition.duration"),`,
        outline-color `).concat(i("select.transition.duration"),", box-shadow ").concat(i("select.transition.duration"),`;
    border-radius: `).concat(i("select.border.radius"),`;
    outline-color: transparent;
    box-shadow: `).concat(i("select.shadow"),`;
}

.p-select:not(.p-disabled):hover {
    border-color: `).concat(i("select.hover.border.color"),`;
}

.p-select:not(.p-disabled).p-focus {
    border-color: `).concat(i("select.focus.border.color"),`;
    box-shadow: `).concat(i("select.focus.ring.shadow"),`;
    outline: `).concat(i("select.focus.ring.width")," ").concat(i("select.focus.ring.style")," ").concat(i("select.focus.ring.color"),`;
    outline-offset: `).concat(i("select.focus.ring.offset"),`;
}

.p-select.p-variant-filled {
    background: `).concat(i("select.filled.background"),`;
}

.p-select.p-variant-filled.p-focus {
    background: `).concat(i("select.filled.focus.background"),`;
}

.p-select.p-invalid {
    border-color: `).concat(i("select.invalid.border.color"),`;
}

.p-select.p-disabled {
    opacity: 1;
    background: `).concat(i("select.disabled.background"),`;
}

.p-select-clear-icon {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
    color: `).concat(i("select.clear.icon.color"),`;
    right: `).concat(i("select.dropdown.width"),`;
}

.p-select-dropdown {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    background: transparent;
    color: `).concat(i("select.dropdown.color"),`;
    width: `).concat(i("select.dropdown.width"),`;
    border-top-right-radius: `).concat(i("select.border.radius"),`;
    border-bottom-right-radius: `).concat(i("select.border.radius"),`;
}

.p-select-label {
    display: block;
    white-space: nowrap;
    overflow: hidden;
    flex: 1 1 auto;
    width: 1%;
    padding: `).concat(i("select.padding.y")," ").concat(i("select.padding.x"),`;
    text-overflow: ellipsis;
    cursor: pointer;
    color: `).concat(i("select.color"),`;
    background: transparent;
    border: 0 none;
    outline: 0 none;
}

.p-select-label.p-placeholder {
    color: `).concat(i("select.placeholder.color"),`;
}

.p-select:has(.p-select-clear-icon) .p-select-label {
    padding-right: calc(1rem + `).concat(i("select.padding.x"),`);
}

.p-select.p-disabled .p-select-label {
    color: `).concat(i("select.disabled.color"),`;
}

.p-select-label-empty {
    overflow: hidden;
    opacity: 0;
}

input.p-select-label {
    cursor: default;
}

.p-select .p-select-overlay {
    min-width: 100%;
}

.p-select-overlay {
    position: absolute;
    top: 0;
    left: 0;
    background: `).concat(i("select.overlay.background"),`;
    color: `).concat(i("select.overlay.color"),`;
    border: 1px solid `).concat(i("select.overlay.border.color"),`;
    border-radius: `).concat(i("select.overlay.border.radius"),`;
    box-shadow: `).concat(i("select.overlay.shadow"),`;
}

.p-select-header {
    padding: `).concat(i("select.list.header.padding"),`;
}

.p-select-filter {
    width: 100%;
}

.p-select-list-container {
    overflow: auto;
}

.p-select-option-group {
    cursor: auto;
    margin: 0;
    padding: `).concat(i("select.option.group.padding"),`;
    background: `).concat(i("select.option.group.background"),`;
    color: `).concat(i("select.option.group.color"),`;
    font-weight: `).concat(i("select.option.group.font.weight"),`;
}

.p-select-list {
    margin: 0;
    padding: 0;
    list-style-type: none;
    padding: `).concat(i("select.list.padding"),`;
    gap: `).concat(i("select.list.gap"),`;
    display: flex;
    flex-direction: column;
}

.p-select-option {
    cursor: pointer;
    font-weight: normal;
    white-space: nowrap;
    position: relative;
    overflow: hidden;
    display: flex;
    align-items: center;
    padding: `).concat(i("select.option.padding"),`;
    border: 0 none;
    color: `).concat(i("select.option.color"),`;
    background: transparent;
    transition: background `).concat(i("select.transition.duration"),", color ").concat(i("select.transition.duration"),", border-color ").concat(i("select.transition.duration"),`,
            box-shadow `).concat(i("select.transition.duration"),", outline-color ").concat(i("select.transition.duration"),`;
    border-radius: `).concat(i("select.option.border.radius"),`;
}

.p-select-option:not(.p-select-option-selected):not(.p-disabled).p-focus {
    background: `).concat(i("select.option.focus.background"),`;
    color: `).concat(i("select.option.focus.color"),`;
}

.p-select-option.p-select-option-selected {
    background: `).concat(i("select.option.selected.background"),`;
    color: `).concat(i("select.option.selected.color"),`;
}

.p-select-option.p-select-option-selected.p-focus {
    background: `).concat(i("select.option.selected.focus.background"),`;
    color: `).concat(i("select.option.selected.focus.color"),`;
}

.p-select-option-check-icon {
    position: relative;
    margin-inline-start: `).concat(i("select.checkmark.gutter.start"),`;
    margin-inline-end: `).concat(i("select.checkmark.gutter.end"),`;
    color: `).concat(i("select.checkmark.color"),`;
}

.p-select-empty-message {
    padding: `).concat(i("select.empty.message.padding"),`;
}

.p-select-fluid {
    display: flex;
}
`)},lY={root:function(t){var i=t.instance,a=t.props,l=t.state;return["p-select p-component p-inputwrapper",{"p-disabled":a.disabled,"p-invalid":a.invalid,"p-variant-filled":a.variant?a.variant==="filled":i.$primevue.config.inputStyle==="filled"||i.$primevue.config.inputVariant==="filled","p-focus":l.focused,"p-inputwrapper-filled":i.hasSelectedOption,"p-inputwrapper-focus":l.focused||l.overlayVisible,"p-select-open":l.overlayVisible,"p-select-fluid":i.hasFluid}]},label:function(t){var i=t.instance,a=t.props;return["p-select-label",{"p-placeholder":!a.editable&&i.label===a.placeholder,"p-select-label-empty":!a.editable&&!i.$slots.value&&(i.label==="p-emptylabel"||i.label.length===0)}]},clearIcon:"p-select-clear-icon",dropdown:"p-select-dropdown",loadingicon:"p-select-loading-icon",dropdownIcon:"p-select-dropdown-icon",overlay:"p-select-overlay p-component",header:"p-select-header",pcFilter:"p-select-filter",listContainer:"p-select-list-container",list:"p-select-list",optionGroup:"p-select-option-group",optionGroupLabel:"p-select-option-group-label",option:function(t){var i=t.instance,a=t.props,l=t.state,c=t.option,y=t.focusedOption;return["p-select-option",{"p-select-option-selected":i.isSelected(c)&&a.highlightOnSelect,"p-focus":l.focusedOptionIndex===y,"p-disabled":i.isOptionDisabled(c)}]},optionLabel:"p-select-option-label",optionCheckIcon:"p-select-option-check-icon",optionBlankIcon:"p-select-option-blank-icon",emptyMessage:"p-select-empty-message"},dY=In.extend({name:"select",theme:cY,classes:lY}),uY={name:"BaseSelect",extends:Tn,props:{modelValue:null,options:Array,optionLabel:[String,Function],optionValue:[String,Function],optionDisabled:[String,Function],optionGroupLabel:[String,Function],optionGroupChildren:[String,Function],scrollHeight:{type:String,default:"14rem"},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},editable:Boolean,placeholder:{type:String,default:null},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dataKey:null,showClear:{type:Boolean,default:!1},fluid:{type:Boolean,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},labelId:{type:String,default:null},labelClass:{type:[String,Object],default:null},labelStyle:{type:Object,default:null},panelClass:{type:[String,Object],default:null},overlayStyle:{type:Object,default:null},overlayClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},appendTo:{type:[String,Object],default:"body"},loading:{type:Boolean,default:!1},clearIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},resetFilterOnHide:{type:Boolean,default:!1},resetFilterOnClear:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},selectOnFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!0},checkmark:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:dY,provide:function(){return{$pcSelect:this,$parentInstance:this}}};function gg(e){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gg(e)}function hY(e){return gY(e)||mY(e)||pY(e)||fY()}function fY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pY(e,t){if(e){if(typeof e=="string")return Ax(e,t);var i={}.toString.call(e).slice(8,-1);return i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set"?Array.from(e):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Ax(e,t):void 0}}function mY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gY(e){if(Array.isArray(e))return Ax(e)}function Ax(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,a=Array(t);i<t;i++)a[i]=e[i];return a}function hE(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),i.push.apply(i,a)}return i}function fE(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?hE(Object(i),!0).forEach(function(a){HP(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):hE(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function HP(e,t,i){return(t=_Y(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _Y(e){var t=yY(e,"string");return gg(t)=="symbol"?t:t+""}function yY(e,t){if(gg(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t||"default");if(gg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lu={name:"Select",extends:uY,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter"],inject:{$pcFluid:{default:null}},outsideClickListener:null,scrollHandler:null,resizeListener:null,labelClickListener:null,overlay:null,list:null,virtualScroller:null,searchTimeout:null,searchValue:null,isModelValueChanged:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(t){this.id=t||hr()},modelValue:function(){this.isModelValueChanged=!0},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||hr(),this.autoUpdateModel(),this.bindLabelClickListener()},updated:function(){this.overlayVisible&&this.isModelValueChanged&&this.scrollInView(this.findSelectedOptionIndex()),this.isModelValueChanged=!1},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindLabelClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Zr.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(t,i){return this.virtualScrollerDisabled?t:i&&i(t).index},getOptionLabel:function(t){return this.optionLabel?On(t,this.optionLabel):t},getOptionValue:function(t){return this.optionValue?On(t,this.optionValue):t},getOptionRenderKey:function(t,i){return(this.dataKey?On(t,this.dataKey):this.getOptionLabel(t))+"_"+i},getPTItemOptions:function(t,i,a,l){return this.ptm(l,{context:{option:t,index:a,selected:this.isSelected(t),focused:this.focusedOptionIndex===this.getOptionIndex(a,i),disabled:this.isOptionDisabled(t)}})},isOptionDisabled:function(t){return this.optionDisabled?On(t,this.optionDisabled):!1},isOptionGroup:function(t){return this.optionGroupLabel&&t.optionGroup&&t.group},getOptionGroupLabel:function(t){return On(t,this.optionGroupLabel)},getOptionGroupChildren:function(t){return On(t,this.optionGroupChildren)},getAriaPosInset:function(t){var i=this;return(this.optionGroupLabel?t-this.visibleOptions.slice(0,t).filter(function(a){return i.isOptionGroup(a)}).length:t)+1},show:function(t){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),t&&Zo(this.$refs.focusInput)},hide:function(t){var i=this,a=function(){i.$emit("before-hide"),i.overlayVisible=!1,i.clicked=!1,i.focusedOptionIndex=-1,i.searchValue="",i.resetFilterOnHide&&(i.filterValue=null),t&&Zo(i.$refs.focusInput)};setTimeout(function(){a()},0)},onFocus:function(t){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",t))},onBlur:function(t){this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",t)},onKeyDown:function(t){if(this.disabled||zD()){t.preventDefault();return}var i=t.metaKey||t.ctrlKey;switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(t,this.editable);break;case"Home":this.onHomeKey(t,this.editable);break;case"End":this.onEndKey(t,this.editable);break;case"PageDown":this.onPageDownKey(t);break;case"PageUp":this.onPageUpKey(t);break;case"Space":this.onSpaceKey(t,this.editable);break;case"Enter":case"NumpadEnter":this.onEnterKey(t);break;case"Escape":this.onEscapeKey(t);break;case"Tab":this.onTabKey(t);break;case"Backspace":this.onBackspaceKey(t,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!i&&fT(t.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(t,t.key));break}this.clicked=!1},onEditableInput:function(t){var i=t.target.value;this.searchValue="";var a=this.searchOptions(t,i);!a&&(this.focusedOptionIndex=-1),this.updateModel(t,i),!this.overlayVisible&&Bn(i)&&this.show()},onContainerClick:function(t){this.disabled||this.loading||t.target.tagName==="INPUT"||t.target.getAttribute("data-pc-section")==="clearicon"||t.target.closest('[data-pc-section="clearicon"]')||((!this.overlay||!this.overlay.contains(t.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onClearClick:function(t){this.updateModel(t,null),this.resetFilterOnClear&&(this.filterValue=null)},onFirstHiddenFocus:function(t){var i=t.relatedTarget===this.$refs.focusInput?Nd(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Zo(i)},onLastHiddenFocus:function(t){var i=t.relatedTarget===this.$refs.focusInput?b6(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Zo(i)},onOptionSelect:function(t,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=this.getOptionValue(i);this.updateModel(t,l),a&&this.hide(!0)},onOptionMouseMove:function(t,i){this.focusOnHover&&this.changeFocusedOptionIndex(t,i)},onFilterChange:function(t){var i=t.target.value;this.filterValue=i,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:t,value:i}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(t){if(!t.isComposing)switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(t,!0);break;case"Home":this.onHomeKey(t,!0);break;case"End":this.onEndKey(t,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(t);break;case"Escape":this.onEscapeKey(t);break;case"Tab":this.onTabKey(t,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(t){ss.emit("overlay-click",{originalEvent:t,target:this.$el})},onOverlayKeyDown:function(t){switch(t.code){case"Escape":this.onEscapeKey(t);break}},onArrowDownKey:function(t){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(t,this.findSelectedOptionIndex());else{var i=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(t,i)}t.preventDefault()},onArrowUpKey:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.altKey&&!i)this.focusedOptionIndex!==-1&&this.onOptionSelect(t,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),t.preventDefault();else{var a=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(t,a),!this.overlayVisible&&this.show(),t.preventDefault()}},onArrowLeftKey:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i&&(this.focusedOptionIndex=-1)},onHomeKey:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(i){var a=t.currentTarget;t.shiftKey?a.setSelectionRange(0,t.target.selectionStart):(a.setSelectionRange(0,0),this.focusedOptionIndex=-1)}else this.changeFocusedOptionIndex(t,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();t.preventDefault()},onEndKey:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(i){var a=t.currentTarget;if(t.shiftKey)a.setSelectionRange(t.target.selectionStart,a.value.length);else{var l=a.value.length;a.setSelectionRange(l,l),this.focusedOptionIndex=-1}}else this.changeFocusedOptionIndex(t,this.findLastOptionIndex()),!this.overlayVisible&&this.show();t.preventDefault()},onPageUpKey:function(t){this.scrollInView(0),t.preventDefault()},onPageDownKey:function(t){this.scrollInView(this.visibleOptions.length-1),t.preventDefault()},onEnterKey:function(t){this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(t,this.visibleOptions[this.focusedOptionIndex]),this.hide()):(this.focusedOptionIndex=-1,this.onArrowDownKey(t)),t.preventDefault()},onSpaceKey:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;!i&&this.onEnterKey(t)},onEscapeKey:function(t){this.overlayVisible&&this.hide(!0),t.preventDefault(),t.stopPropagation()},onTabKey:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i||(this.overlayVisible&&this.hasFocusableElements()?(Zo(this.$refs.firstHiddenFocusableElementOnOverlay),t.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(t,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onBackspaceKey:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i&&!this.overlayVisible&&this.show()},onOverlayEnter:function(t){Zr.set("overlay",t,this.$primevue.config.zIndex.overlay),kh(t,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&Zo(this.$refs.filterInput.$el)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.autoFilterFocus&&Zo(this.$refs.focusInput),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(t){Zr.clear(t)},alignOverlay:function(){this.appendTo==="self"?wT(this.overlay,this.$el):(this.overlay.style.minWidth=mr(this.$el)+"px",O2(this.overlay,this.$el))},bindOutsideClickListener:function(){var t=this;this.outsideClickListener||(this.outsideClickListener=function(i){t.overlayVisible&&t.overlay&&!t.$el.contains(i.target)&&!t.overlay.contains(i.target)&&t.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var t=this;this.scrollHandler||(this.scrollHandler=new $g(this.$refs.container,function(){t.overlayVisible&&t.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var t=this;this.resizeListener||(this.resizeListener=function(){t.overlayVisible&&!Vg()&&t.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindLabelClickListener:function(){var t=this;if(!this.editable&&!this.labelClickListener){var i=document.querySelector('label[for="'.concat(this.inputId,'"]'));i&&Gb(i)&&(this.labelClickListener=function(){Zo(t.$refs.focusInput)},i.addEventListener("click",this.labelClickListener))}},unbindLabelClickListener:function(){if(this.labelClickListener){var t=document.querySelector('label[for="'.concat(this.inputId,'"]'));t&&Gb(t)&&t.removeEventListener("click",this.labelClickListener)}},hasFocusableElements:function(){return L2(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(t){var i;return this.isValidOption(t)&&typeof this.getOptionLabel(t)=="string"&&((i=this.getOptionLabel(t))===null||i===void 0?void 0:i.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(t){return Bn(t)&&!(this.isOptionDisabled(t)||this.isOptionGroup(t))},isValidSelectedOption:function(t){return this.isValidOption(t)&&this.isSelected(t)},isSelected:function(t){return this.isValidOption(t)&&ac(this.modelValue,this.getOptionValue(t),this.equalityKey)},findFirstOptionIndex:function(){var t=this;return this.visibleOptions.findIndex(function(i){return t.isValidOption(i)})},findLastOptionIndex:function(){var t=this;return fp(this.visibleOptions,function(i){return t.isValidOption(i)})},findNextOptionIndex:function(t){var i=this,a=t<this.visibleOptions.length-1?this.visibleOptions.slice(t+1).findIndex(function(l){return i.isValidOption(l)}):-1;return a>-1?a+t+1:t},findPrevOptionIndex:function(t){var i=this,a=t>0?fp(this.visibleOptions.slice(0,t),function(l){return i.isValidOption(l)}):-1;return a>-1?a:t},findSelectedOptionIndex:function(){var t=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(i){return t.isValidSelectedOption(i)}):-1},findFirstFocusedOptionIndex:function(){var t=this.findSelectedOptionIndex();return t<0?this.findFirstOptionIndex():t},findLastFocusedOptionIndex:function(){var t=this.findSelectedOptionIndex();return t<0?this.findLastOptionIndex():t},searchOptions:function(t,i){var a=this;this.searchValue=(this.searchValue||"")+i;var l=-1,c=!1;return Bn(this.searchValue)&&(this.focusedOptionIndex!==-1?(l=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(y){return a.isOptionMatched(y)}),l=l===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(y){return a.isOptionMatched(y)}):l+this.focusedOptionIndex):l=this.visibleOptions.findIndex(function(y){return a.isOptionMatched(y)}),l!==-1&&(c=!0),l===-1&&this.focusedOptionIndex===-1&&(l=this.findFirstFocusedOptionIndex()),l!==-1&&this.changeFocusedOptionIndex(t,l)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){a.searchValue="",a.searchTimeout=null},500),c},changeFocusedOptionIndex:function(t,i){this.focusedOptionIndex!==i&&(this.focusedOptionIndex=i,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(t,this.visibleOptions[i],!1))},scrollInView:function(){var t=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var a=i!==-1?"".concat(t.id,"_").concat(i):t.focusedOptionId,l=ks(t.list,'li[id="'.concat(a,'"]'));l?l.scrollIntoView&&l.scrollIntoView({block:"nearest",inline:"start"}):t.virtualScrollerDisabled||t.virtualScroller&&t.virtualScroller.scrollToIndex(i!==-1?i:t.focusedOptionIndex)})},autoUpdateModel:function(){this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex(),this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1))},updateModel:function(t,i){this.$emit("update:modelValue",i),this.$emit("change",{originalEvent:t,value:i})},flatOptions:function(t){var i=this;return(t||[]).reduce(function(a,l,c){a.push({optionGroup:l,group:!0,index:c});var y=i.getOptionGroupChildren(l);return y&&y.forEach(function(n){return a.push(n)}),a},[])},overlayRef:function(t){this.overlay=t},listRef:function(t,i){this.list=t,i&&i(t)},virtualScrollerRef:function(t){this.virtualScroller=t}},computed:{visibleOptions:function(){var t=this,i=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var a=$b.filter(i,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var l=this.options||[],c=[];return l.forEach(function(y){var n=t.getOptionGroupChildren(y),x=n.filter(function(C){return a.includes(C)});x.length>0&&c.push(fE(fE({},y),{},HP({},typeof t.optionGroupChildren=="string"?t.optionGroupChildren:"items",hY(x))))}),this.flatOptions(c)}return a}return i},hasSelectedOption:function(){return Bn(this.modelValue)},label:function(){var t=this.findSelectedOptionIndex();return t!==-1?this.getOptionLabel(this.visibleOptions[t]):this.placeholder||"p-emptylabel"},editableInputValue:function(){var t=this.findSelectedOptionIndex();return t!==-1?this.getOptionLabel(this.visibleOptions[t]):this.modelValue||""},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},filterResultMessageText:function(){return Bn(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}","1"):this.emptySelectionMessageText},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var t=this;return this.visibleOptions.filter(function(i){return!t.isOptionGroup(i)}).length},isClearIconVisible:function(){return this.showClear&&this.modelValue!=null&&Bn(this.options)},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions},hasFluid:function(){return Qr(this.fluid)?!!this.$pcFluid:this.fluid}},directives:{ripple:Bs},components:{InputText:t_,VirtualScroller:Y2,Portal:s0,InputIcon:g5,IconField:m5,TimesIcon:e_,ChevronDownIcon:r0,SpinnerIcon:a0,SearchIcon:p5,CheckIcon:Nh,BlankIcon:UP}},bY=["id"],vY=["id","value","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],xY=["id","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-disabled"],wY=["id"],FY=["id"],CY=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-selected","data-p-focused","data-p-disabled"];function EY(e,t,i,a,l,c){var y=Mi("SpinnerIcon"),n=Mi("InputText"),x=Mi("SearchIcon"),C=Mi("InputIcon"),k=Mi("IconField"),O=Mi("CheckIcon"),B=Mi("BlankIcon"),L=Mi("VirtualScroller"),V=Mi("Portal"),G=Nr("ripple");return ge(),Je("div",Ze({ref:"container",id:l.id,class:e.cx("root"),onClick:t[11]||(t[11]=function(){return c.onContainerClick&&c.onContainerClick.apply(c,arguments)})},e.ptmi("root")),[e.editable?(ge(),Je("input",Ze({key:0,ref:"focusInput",id:e.labelId||e.inputId,type:"text",class:[e.cx("label"),e.inputClass,e.labelClass],style:[e.inputStyle,e.labelStyle],value:c.editableInputValue,placeholder:e.placeholder,tabindex:e.disabled?-1:e.tabindex,disabled:e.disabled,autocomplete:"off",role:"combobox","aria-label":e.ariaLabel,"aria-labelledby":e.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":l.overlayVisible,"aria-controls":l.id+"_list","aria-activedescendant":l.focused?c.focusedOptionId:void 0,"aria-invalid":e.invalid||void 0,onFocus:t[0]||(t[0]=function(){return c.onFocus&&c.onFocus.apply(c,arguments)}),onBlur:t[1]||(t[1]=function(){return c.onBlur&&c.onBlur.apply(c,arguments)}),onKeydown:t[2]||(t[2]=function(){return c.onKeyDown&&c.onKeyDown.apply(c,arguments)}),onInput:t[3]||(t[3]=function(){return c.onEditableInput&&c.onEditableInput.apply(c,arguments)})},e.ptm("label")),null,16,vY)):(ge(),Je("span",Ze({key:1,ref:"focusInput",id:e.labelId||e.inputId,class:[e.cx("label"),e.inputClass,e.labelClass],style:[e.inputStyle,e.labelStyle],tabindex:e.disabled?-1:e.tabindex,role:"combobox","aria-label":e.ariaLabel||(c.label==="p-emptylabel"?void 0:c.label),"aria-labelledby":e.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":l.overlayVisible,"aria-controls":l.id+"_list","aria-activedescendant":l.focused?c.focusedOptionId:void 0,"aria-disabled":e.disabled,onFocus:t[4]||(t[4]=function(){return c.onFocus&&c.onFocus.apply(c,arguments)}),onBlur:t[5]||(t[5]=function(){return c.onBlur&&c.onBlur.apply(c,arguments)}),onKeydown:t[6]||(t[6]=function(){return c.onKeyDown&&c.onKeyDown.apply(c,arguments)})},e.ptm("label")),[mi(e.$slots,"value",{value:e.modelValue,placeholder:e.placeholder},function(){return[Ei(li(c.label==="p-emptylabel"?" ":c.label||"empty"),1)]})],16,xY)),c.isClearIconVisible?mi(e.$slots,"clearicon",{key:2,class:Ii(e.cx("clearIcon")),clearCallback:c.onClearClick},function(){return[(ge(),Vt(Wi(e.clearIcon?"i":"TimesIcon"),Ze({ref:"clearIcon",class:[e.cx("clearIcon"),e.clearIcon],onClick:c.onClearClick},e.ptm("clearIcon"),{"data-pc-section":"clearicon"}),null,16,["class","onClick"]))]}):Zt("",!0),Se("div",Ze({class:e.cx("dropdown")},e.ptm("dropdown")),[e.loading?mi(e.$slots,"loadingicon",{key:0,class:Ii(e.cx("loadingIcon"))},function(){return[e.loadingIcon?(ge(),Je("span",Ze({key:0,class:[e.cx("loadingIcon"),"pi-spin",e.loadingIcon],"aria-hidden":"true"},e.ptm("loadingIcon")),null,16)):(ge(),Vt(y,Ze({key:1,class:e.cx("loadingIcon"),spin:"","aria-hidden":"true"},e.ptm("loadingIcon")),null,16,["class"]))]}):mi(e.$slots,"dropdownicon",{key:1,class:Ii(e.cx("dropdownIcon"))},function(){return[(ge(),Vt(Wi(e.dropdownIcon?"span":"ChevronDownIcon"),Ze({class:[e.cx("dropdownIcon"),e.dropdownIcon],"aria-hidden":"true"},e.ptm("dropdownIcon")),null,16,["class"]))]})],16),kt(V,{appendTo:e.appendTo},{default:ti(function(){return[kt(e0,Ze({name:"p-connected-overlay",onEnter:c.onOverlayEnter,onAfterEnter:c.onOverlayAfterEnter,onLeave:c.onOverlayLeave,onAfterLeave:c.onOverlayAfterLeave},e.ptm("transition")),{default:ti(function(){return[l.overlayVisible?(ge(),Je("div",Ze({key:0,ref:c.overlayRef,class:[e.cx("overlay"),e.panelClass,e.overlayClass],style:[e.panelStyle,e.overlayStyle],onClick:t[9]||(t[9]=function(){return c.onOverlayClick&&c.onOverlayClick.apply(c,arguments)}),onKeydown:t[10]||(t[10]=function(){return c.onOverlayKeyDown&&c.onOverlayKeyDown.apply(c,arguments)})},e.ptm("overlay")),[Se("span",Ze({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:t[7]||(t[7]=function(){return c.onFirstHiddenFocus&&c.onFirstHiddenFocus.apply(c,arguments)})},e.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),mi(e.$slots,"header",{value:e.modelValue,options:c.visibleOptions}),e.filter?(ge(),Je("div",Ze({key:0,class:e.cx("header")},e.ptm("header")),[kt(k,{unstyled:e.unstyled,pt:e.ptm("pcFilterContainer")},{default:ti(function(){return[kt(n,{ref:"filterInput",type:"text",value:l.filterValue,onVnodeMounted:c.onFilterUpdated,onVnodeUpdated:c.onFilterUpdated,class:Ii(e.cx("pcFilter")),placeholder:e.filterPlaceholder,variant:e.variant,unstyled:e.unstyled,role:"searchbox",autocomplete:"off","aria-owns":l.id+"_list","aria-activedescendant":c.focusedOptionId,onKeydown:c.onFilterKeyDown,onBlur:c.onFilterBlur,onInput:c.onFilterChange,pt:e.ptm("pcFilter")},null,8,["value","onVnodeMounted","onVnodeUpdated","class","placeholder","variant","unstyled","aria-owns","aria-activedescendant","onKeydown","onBlur","onInput","pt"]),kt(C,{unstyled:e.unstyled,pt:e.ptm("pcFilterIconContainer")},{default:ti(function(){return[mi(e.$slots,"filtericon",{},function(){return[e.filterIcon?(ge(),Je("span",Ze({key:0,class:e.filterIcon},e.ptm("filterIcon")),null,16)):(ge(),Vt(x,Bg(Ze({key:1},e.ptm("filterIcon"))),null,16))]})]}),_:3},8,["unstyled","pt"])]}),_:3},8,["unstyled","pt"]),Se("span",Ze({role:"status","aria-live":"polite",class:"p-hidden-accessible"},e.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),li(c.filterResultMessageText),17)],16)):Zt("",!0),Se("div",Ze({class:e.cx("listContainer"),style:{"max-height":c.virtualScrollerDisabled?e.scrollHeight:""}},e.ptm("listContainer")),[kt(L,Ze({ref:c.virtualScrollerRef},e.virtualScrollerOptions,{items:c.visibleOptions,style:{height:e.scrollHeight},tabindex:-1,disabled:c.virtualScrollerDisabled,pt:e.ptm("virtualScroller")}),Ih({content:ti(function(Q){var Y=Q.styleClass,J=Q.contentRef,re=Q.items,ce=Q.getItemOptions,he=Q.contentStyle,we=Q.itemSize;return[Se("ul",Ze({ref:function(De){return c.listRef(De,J)},id:l.id+"_list",class:[e.cx("list"),Y],style:he,role:"listbox"},e.ptm("list")),[(ge(!0),Je(Ri,null,wo(re,function(pe,De){return ge(),Je(Ri,{key:c.getOptionRenderKey(pe,c.getOptionIndex(De,ce))},[c.isOptionGroup(pe)?(ge(),Je("li",Ze({key:0,id:l.id+"_"+c.getOptionIndex(De,ce),style:{height:we?we+"px":void 0},class:e.cx("optionGroup"),role:"option",ref_for:!0},e.ptm("optionGroup")),[mi(e.$slots,"optiongroup",{option:pe.optionGroup,index:c.getOptionIndex(De,ce)},function(){return[Se("span",Ze({class:e.cx("optionGroupLabel"),ref_for:!0},e.ptm("optionGroupLabel")),li(c.getOptionGroupLabel(pe.optionGroup)),17)]})],16,FY)):Qo((ge(),Je("li",Ze({key:1,id:l.id+"_"+c.getOptionIndex(De,ce),class:e.cx("option",{option:pe,focusedOption:c.getOptionIndex(De,ce)}),style:{height:we?we+"px":void 0},role:"option","aria-label":c.getOptionLabel(pe),"aria-selected":c.isSelected(pe),"aria-disabled":c.isOptionDisabled(pe),"aria-setsize":c.ariaSetSize,"aria-posinset":c.getAriaPosInset(c.getOptionIndex(De,ce)),onClick:function(Ne){return c.onOptionSelect(Ne,pe)},onMousemove:function(Ne){return c.onOptionMouseMove(Ne,c.getOptionIndex(De,ce))},"data-p-selected":c.isSelected(pe),"data-p-focused":l.focusedOptionIndex===c.getOptionIndex(De,ce),"data-p-disabled":c.isOptionDisabled(pe),ref_for:!0},c.getPTItemOptions(pe,ce,De,"option")),[e.checkmark?(ge(),Je(Ri,{key:0},[c.isSelected(pe)?(ge(),Vt(O,Ze({key:0,class:e.cx("optionCheckIcon"),ref_for:!0},e.ptm("optionCheckIcon")),null,16,["class"])):(ge(),Vt(B,Ze({key:1,class:e.cx("optionBlankIcon"),ref_for:!0},e.ptm("optionBlankIcon")),null,16,["class"]))],64)):Zt("",!0),mi(e.$slots,"option",{option:pe,selected:c.isSelected(pe),index:c.getOptionIndex(De,ce)},function(){return[Se("span",Ze({class:e.cx("optionLabel"),ref_for:!0},e.ptm("optionLabel")),li(c.getOptionLabel(pe)),17)]})],16,CY)),[[G]])],64)}),128)),l.filterValue&&(!re||re&&re.length===0)?(ge(),Je("li",Ze({key:0,class:e.cx("emptyMessage"),role:"option"},e.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[mi(e.$slots,"emptyfilter",{},function(){return[Ei(li(c.emptyFilterMessageText),1)]})],16)):!e.options||e.options&&e.options.length===0?(ge(),Je("li",Ze({key:1,class:e.cx("emptyMessage"),role:"option"},e.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[mi(e.$slots,"empty",{},function(){return[Ei(li(c.emptyMessageText),1)]})],16)):Zt("",!0)],16,wY)]}),_:2},[e.$slots.loader?{name:"loader",fn:ti(function(Q){var Y=Q.options;return[mi(e.$slots,"loader",{options:Y})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),mi(e.$slots,"footer",{value:e.modelValue,options:c.visibleOptions}),!e.options||e.options&&e.options.length===0?(ge(),Je("span",Ze({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},e.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),li(c.emptyMessageText),17)):Zt("",!0),Se("span",Ze({role:"status","aria-live":"polite",class:"p-hidden-accessible"},e.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),li(c.selectedMessageText),17),Se("span",Ze({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:t[8]||(t[8]=function(){return c.onLastHiddenFocus&&c.onLastHiddenFocus.apply(c,arguments)})},e.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):Zt("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16,bY)}lu.render=EY;const SY={class:"layer-selections"},TY=["onClick"],RY={class:"layer-label"},PY=to({__name:"TheMapLegendLayerList",setup(e){const t=wr();return(i,a)=>(ge(!0),Je(Ri,null,wo(dt(t).mapLayerOptions,l=>(ge(),Je("div",{key:l.category},[Se("div",SY,[Se("div",{class:"layer-category",style:Mr({color:l.color})},li(l.category),5),Se("ul",null,[(ge(!0),Je(Ri,null,wo(l.items,c=>(ge(),Je("li",{key:c.label,class:Ii(["layer-title",{active:dt(t).mapLayerSelected===c.value}]),onClick:y=>dt(t).mapLayerSelected=c.value},[a[0]||(a[0]=Se("span",{class:"visible-icon"},[Se("i",{class:"fa-regular fa-eye"})],-1)),Se("span",RY,li(c.label),1)],10,TY))),128))])])]))),128))}}),IY=Vo(PY,[["__scopeId","data-v-daada468"]]),kY={class:"axis-labels"},MY={class:"left-label"},AY={class:"units"},OY={class:"right-label"},LY=to({__name:"TheMapSymbology",setup(e){const t=wr(),i=mo();Li(()=>t.mapSummaryLevelSelected);const a=Li(()=>t.activeLayerMetadata.axisType==="Ordinal"?t.activeLayerMetadata.axisLabels.min:tu(t.activeLayerMetadata.percentiles[t.mapSummaryLevelSelected.value].min)),l=Li(()=>t.activeLayerMetadata.axisType==="Ordinal"?t.activeLayerMetadata.axisLabels.max:tu(t.activeLayerMetadata.percentiles[t.mapSummaryLevelSelected.value].breaks[14])),c=Li(()=>{const n=t.activeLayerMetadata.colorSteps,x=t.activeLayerMetadata.orientation;return x==="low-hight"?{background:`linear-gradient(90deg, ${n[0]}, ${n[n.length-1]})`}:x==="high-low"?{background:`linear-gradient(90deg, ${n[n.length-1]}, ${n[0]})`}:{background:`linear-gradient(90deg, ${n[0]}, ${n[n.length-1]})`}}),y=Li(()=>{let n=null;return t.highlightedValue===null?n=null:Math.round(t.highlightedValue)>=l.value?n=344:n=Math.round(350*t.highlightedValue/l.value),n>250?{left:`${n}px`,"border-right":"3px solid black"}:{left:`${n}px`,"border-left":"3px solid black"}});return(n,x)=>(ge(),Je(Ri,null,[dt(i).activeMapSection==="explore"?(ge(),Je("div",{key:0,class:"map-symbology",style:Mr(c.value)},[dt(t).highlightedValue>=0?(ge(),Je("span",{key:0,class:"currentvalue-bar",style:Mr(y.value)},null,4)):Zt("",!0)],4)):Zt("",!0),Se("div",kY,[Se("span",MY,li(a.value.toLocaleString()),1),Se("span",AY,li(dt(t).activeLayerMetadata.units),1),Se("span",OY,li(l.value.toLocaleString()),1)])],64))}}),DY=Vo(LY,[["__scopeId","data-v-48e24743"]]),BY={for:"filter"},jY={class:"button-group"},zY=["onClick"],VY=to({__name:"MapFilterButtonGroup",props:{title:{},short_name:{},selectedValue:{},values:{},labels:{}},setup(e){const t=wr(),i=e,a=Li(()=>i.values.map((c,y)=>({value:c,label:i.labels[y]}))),l=(c,y)=>{console.log("value",y,"selectedValue",c),t.mapFilters[c]=y};return(c,y)=>(ge(),Je(Ri,null,[Se("label",BY,li(c.title),1),Se("div",jY,[(ge(!0),Je(Ri,null,wo(a.value,n=>(ge(),Je("span",{class:Ii(["button-option",{active:dt(t).mapFilters[c.selectedValue]===n.value}]),key:n.label,onClick:x=>l(c.selectedValue,n.value)},li(n.label),11,zY))),128))])],64))}}),rp=Vo(VY,[["__scopeId","data-v-65ba69a1"]]);var qP={name:"MinusIcon",extends:Ro};function NY(e,t,i,a,l,c){return ge(),Je("svg",Ze({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),t[0]||(t[0]=[Se("path",{d:"M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z",fill:"currentColor"},null,-1)]),16)}qP.render=NY;var $Y=function(t){var i=t.dt;return`
.p-checkbox {
    position: relative;
    display: inline-flex;
    user-select: none;
    vertical-align: bottom;
    width: `.concat(i("checkbox.width"),`;
    height: `).concat(i("checkbox.height"),`;
}

.p-checkbox-input {
    cursor: pointer;
    appearance: none;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    padding: 0;
    margin: 0;
    opacity: 0;
    z-index: 1;
    outline: 0 none;
    border: 1px solid transparent;
    border-radius: `).concat(i("checkbox.border.radius"),`;
}

.p-checkbox-box {
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: `).concat(i("checkbox.border.radius"),`;
    border: 1px solid `).concat(i("checkbox.border.color"),`;
    background: `).concat(i("checkbox.background"),`;
    width: `).concat(i("checkbox.width"),`;
    height: `).concat(i("checkbox.height"),`;
    transition: background `).concat(i("checkbox.transition.duration"),", color ").concat(i("checkbox.transition.duration"),", border-color ").concat(i("checkbox.transition.duration"),", box-shadow ").concat(i("checkbox.transition.duration"),", outline-color ").concat(i("checkbox.transition.duration"),`;
    outline-color: transparent;
    box-shadow: `).concat(i("checkbox.shadow"),`;
}

.p-checkbox-icon {
    transition-duration: `).concat(i("checkbox.transition.duration"),`;
    color: `).concat(i("checkbox.icon.color"),`;
    font-size: `).concat(i("checkbox.icon.size"),`;
    width: `).concat(i("checkbox.icon.size"),`;
    height: `).concat(i("checkbox.icon.size"),`;
}

.p-checkbox:not(.p-disabled):has(.p-checkbox-input:hover) .p-checkbox-box {
    border-color: `).concat(i("checkbox.hover.border.color"),`;
}

.p-checkbox-checked .p-checkbox-box {
    border-color: `).concat(i("checkbox.checked.border.color"),`;
    background: `).concat(i("checkbox.checked.background"),`;
}

.p-checkbox-checked .p-checkbox-icon {
    color: `).concat(i("checkbox.icon.checked.color"),`;
}

.p-checkbox-checked:not(.p-disabled):has(.p-checkbox-input:hover) .p-checkbox-box {
    background: `).concat(i("checkbox.checked.hover.background"),`;
    border-color: `).concat(i("checkbox.checked.hover.border.color"),`;
}

.p-checkbox-checked:not(.p-disabled):has(.p-checkbox-input:hover) .p-checkbox-icon {
    color: `).concat(i("checkbox.icon.checked.hover.color"),`;
}

.p-checkbox:not(.p-disabled):has(.p-checkbox-input:focus-visible) .p-checkbox-box {
    border-color: `).concat(i("checkbox.focus.border.color"),`;
    box-shadow: `).concat(i("checkbox.focus.ring.shadow"),`;
    outline: `).concat(i("checkbox.focus.ring.width")," ").concat(i("checkbox.focus.ring.style")," ").concat(i("checkbox.focus.ring.color"),`;
    outline-offset: `).concat(i("checkbox.focus.ring.offset"),`;
}

.p-checkbox-checked:not(.p-disabled):has(.p-checkbox-input:focus-visible) .p-checkbox-box {
    border-color: `).concat(i("checkbox.checked.focus.border.color"),`;
}

.p-checkbox.p-invalid > .p-checkbox-box {
    border-color: `).concat(i("checkbox.invalid.border.color"),`;
}

.p-checkbox.p-variant-filled .p-checkbox-box {
    background: `).concat(i("checkbox.filled.background"),`;
}

.p-checkbox-checked.p-variant-filled .p-checkbox-box {
    background: `).concat(i("checkbox.checked.background"),`;
}

.p-checkbox-checked.p-variant-filled:not(.p-disabled):has(.p-checkbox-input:hover) .p-checkbox-box {
    background: `).concat(i("checkbox.checked.hover.background"),`;
}

.p-checkbox.p-disabled {
    opacity: 1;
}

.p-checkbox.p-disabled .p-checkbox-box {
    background: `).concat(i("checkbox.disabled.background"),`;
    border-color: `).concat(i("checkbox.checked.disabled.border.color"),`;
}

.p-checkbox.p-disabled .p-checkbox-box .p-checkbox-icon {
    color: `).concat(i("checkbox.icon.disabled.color"),`;
}
`)},UY={root:function(t){var i=t.instance,a=t.props;return["p-checkbox p-component",{"p-checkbox-checked":i.checked,"p-disabled":a.disabled,"p-invalid":a.invalid,"p-variant-filled":a.variant?a.variant==="filled":i.$primevue.config.inputStyle==="filled"||i.$primevue.config.inputVariant==="filled"}]},box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon"},GY=In.extend({name:"checkbox",theme:$Y,classes:UY}),HY={name:"BaseCheckbox",extends:Tn,props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},indeterminate:{type:Boolean,default:!1},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:GY,provide:function(){return{$pcCheckbox:this,$parentInstance:this}}};function qY(e){return QY(e)||ZY(e)||KY(e)||WY()}function WY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KY(e,t){if(e){if(typeof e=="string")return Ox(e,t);var i={}.toString.call(e).slice(8,-1);return i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set"?Array.from(e):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Ox(e,t):void 0}}function ZY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QY(e){if(Array.isArray(e))return Ox(e)}function Ox(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,a=Array(t);i<t;i++)a[i]=e[i];return a}var i_={name:"Checkbox",extends:HY,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","update:indeterminate"],data:function(){return{d_indeterminate:this.indeterminate}},watch:{indeterminate:function(t){this.d_indeterminate=t}},methods:{getPTOptions:function(t){var i=t==="root"?this.ptmi:this.ptm;return i(t,{context:{checked:this.checked,indeterminate:this.d_indeterminate,disabled:this.disabled}})},onChange:function(t){var i=this;if(!this.disabled&&!this.readonly){var a;this.binary?a=this.d_indeterminate?this.trueValue:this.checked?this.falseValue:this.trueValue:this.checked||this.d_indeterminate?a=this.modelValue.filter(function(l){return!ac(l,i.value)}):a=this.modelValue?[].concat(qY(this.modelValue),[this.value]):[this.value],this.d_indeterminate&&(this.d_indeterminate=!1,this.$emit("update:indeterminate",this.d_indeterminate)),this.$emit("update:modelValue",a),this.$emit("change",t)}},onFocus:function(t){this.$emit("focus",t)},onBlur:function(t){this.$emit("blur",t)}},computed:{checked:function(){return this.d_indeterminate?!1:this.binary?this.modelValue===this.trueValue:bD(this.value,this.modelValue)}},components:{CheckIcon:Nh,MinusIcon:qP}},XY=["data-p-checked","data-p-indeterminate","data-p-disabled"],JY=["id","value","name","checked","tabindex","disabled","readonly","required","aria-labelledby","aria-label","aria-invalid","aria-checked"];function YY(e,t,i,a,l,c){var y=Mi("CheckIcon"),n=Mi("MinusIcon");return ge(),Je("div",Ze({class:e.cx("root")},c.getPTOptions("root"),{"data-p-checked":c.checked,"data-p-indeterminate":l.d_indeterminate||void 0,"data-p-disabled":e.disabled}),[Se("input",Ze({id:e.inputId,type:"checkbox",class:[e.cx("input"),e.inputClass],style:e.inputStyle,value:e.value,name:e.name,checked:c.checked,tabindex:e.tabindex,disabled:e.disabled,readonly:e.readonly,required:e.required,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,"aria-invalid":e.invalid||void 0,"aria-checked":l.d_indeterminate?"mixed":void 0,onFocus:t[0]||(t[0]=function(){return c.onFocus&&c.onFocus.apply(c,arguments)}),onBlur:t[1]||(t[1]=function(){return c.onBlur&&c.onBlur.apply(c,arguments)}),onChange:t[2]||(t[2]=function(){return c.onChange&&c.onChange.apply(c,arguments)})},c.getPTOptions("input")),null,16,JY),Se("div",Ze({class:e.cx("box")},c.getPTOptions("box")),[mi(e.$slots,"icon",{checked:c.checked,indeterminate:l.d_indeterminate,class:Ii(e.cx("icon"))},function(){return[c.checked?(ge(),Vt(y,Ze({key:0,class:e.cx("icon")},c.getPTOptions("icon")),null,16,["class"])):l.d_indeterminate?(ge(),Vt(n,Ze({key:1,class:e.cx("icon")},c.getPTOptions("icon")),null,16,["class"])):Zt("",!0)]})],16)],16,XY)}i_.render=YY;var WP={name:"TimesCircleIcon",extends:Ro};function eee(e,t,i,a,l,c){return ge(),Je("svg",Ze({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),t[0]||(t[0]=[Se("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"},null,-1)]),16)}WP.render=eee;var tee=function(t){var i=t.dt;return`
.p-chip {
    display: inline-flex;
    align-items: center;
    background: `.concat(i("chip.background"),`;
    color: `).concat(i("chip.color"),`;
    border-radius: `).concat(i("chip.border.radius"),`;
    padding: `).concat(i("chip.padding.y")," ").concat(i("chip.padding.x"),`;
    gap: `).concat(i("chip.gap"),`;
}

.p-chip-icon {
    color: `).concat(i("chip.icon.color"),`;
    font-size: `).concat(i("chip.icon.font.size"),`;
    width: `).concat(i("chip.icon.size"),`;
    height: `).concat(i("chip.icon.size"),`;
}

.p-chip-image {
    border-radius: 50%;
    width: `).concat(i("chip.image.width"),`;
    height: `).concat(i("chip.image.height"),`;
    margin-left: calc(-1 * `).concat(i("chip.padding.y"),`);
}

.p-chip:has(.p-chip-remove-icon) {
    padding-right: `).concat(i("chip.padding.y"),`;
}

.p-chip:has(.p-chip-image) {
    padding-top: calc(`).concat(i("chip.padding.y"),` / 2);
    padding-bottom: calc(`).concat(i("chip.padding.y"),` / 2);
}

.p-chip-remove-icon {
    cursor: pointer;
    font-size: `).concat(i("chip.remove.icon.size"),`;
    width: `).concat(i("chip.remove.icon.size"),`;
    height: `).concat(i("chip.remove.icon.size"),`;
    color: `).concat(i("chip.remove.icon.color"),`;
    border-radius: 50%;
    transition: outline-color `).concat(i("chip.transition.duration"),", box-shadow ").concat(i("chip.transition.duration"),`;
    outline-color: transparent;
}

.p-chip-remove-icon:focus-visible {
    box-shadow: `).concat(i("chip.remove.icon.focus.ring.shadow"),`;
    outline: `).concat(i("chip.remove.icon.focus.ring.width")," ").concat(i("chip.remove.icon.focus.ring.style")," ").concat(i("chip.remove.icon.focus.ring.color"),`;
    outline-offset: `).concat(i("chip.remove.icon.focus.ring.offset"),`;
}
`)},iee={root:"p-chip p-component",image:"p-chip-image",icon:"p-chip-icon",label:"p-chip-label",removeIcon:"p-chip-remove-icon"},nee=In.extend({name:"chip",theme:tee,classes:iee}),oee={name:"BaseChip",extends:Tn,props:{label:{type:String,default:null},icon:{type:String,default:null},image:{type:String,default:null},removable:{type:Boolean,default:!1},removeIcon:{type:String,default:void 0}},style:nee,provide:function(){return{$pcChip:this,$parentInstance:this}}},KP={name:"Chip",extends:oee,inheritAttrs:!1,emits:["remove"],data:function(){return{visible:!0}},methods:{onKeydown:function(t){(t.key==="Enter"||t.key==="Backspace")&&this.close(t)},close:function(t){this.visible=!1,this.$emit("remove",t)}},components:{TimesCircleIcon:WP}},ree=["aria-label"],aee=["src"];function see(e,t,i,a,l,c){return l.visible?(ge(),Je("div",Ze({key:0,class:e.cx("root"),"aria-label":e.label},e.ptmi("root")),[mi(e.$slots,"default",{},function(){return[e.image?(ge(),Je("img",Ze({key:0,src:e.image},e.ptm("image"),{class:e.cx("image")}),null,16,aee)):e.$slots.icon?(ge(),Vt(Wi(e.$slots.icon),Ze({key:1,class:e.cx("icon")},e.ptm("icon")),null,16,["class"])):e.icon?(ge(),Je("span",Ze({key:2,class:[e.cx("icon"),e.icon]},e.ptm("icon")),null,16)):Zt("",!0),e.label?(ge(),Je("div",Ze({key:3,class:e.cx("label")},e.ptm("label")),li(e.label),17)):Zt("",!0)]}),e.removable?mi(e.$slots,"removeicon",{key:0,removeCallback:c.close,keydownCallback:c.onKeydown},function(){return[(ge(),Vt(Wi(e.removeIcon?"span":"TimesCircleIcon"),Ze({tabindex:"0",class:[e.cx("removeIcon"),e.removeIcon],onClick:c.close,onKeydown:c.onKeydown},e.ptm("removeIcon")),null,16,["class","onClick","onKeydown"]))]}):Zt("",!0)],16,ree)):Zt("",!0)}KP.render=see;var cee=function(t){var i=t.dt;return`
.p-multiselect {
    display: inline-flex;
    cursor: pointer;
    position: relative;
    user-select: none;
    background: `.concat(i("multiselect.background"),`;
    border: 1px solid `).concat(i("multiselect.border.color"),`;
    transition: background `).concat(i("multiselect.transition.duration"),", color ").concat(i("multiselect.transition.duration"),", border-color ").concat(i("multiselect.transition.duration"),", outline-color ").concat(i("multiselect.transition.duration"),", box-shadow ").concat(i("multiselect.transition.duration"),`;
    border-radius: `).concat(i("multiselect.border.radius"),`;
    outline-color: transparent;
    box-shadow: `).concat(i("multiselect.shadow"),`;
}

.p-multiselect:not(.p-disabled):hover {
    border-color: `).concat(i("multiselect.hover.border.color"),`;
}

.p-multiselect:not(.p-disabled).p-focus {
    border-color: `).concat(i("multiselect.focus.border.color"),`;
    box-shadow: `).concat(i("multiselect.focus.ring.shadow"),`;
    outline: `).concat(i("multiselect.focus.ring.width")," ").concat(i("multiselect.focus.ring.style")," ").concat(i("multiselect.focus.ring.color"),`;
    outline-offset: `).concat(i("multiselect.focus.ring.offset"),`;
}

.p-multiselect.p-variant-filled {
    background: `).concat(i("multiselect.filled.background"),`;
}

.p-multiselect.p-variant-filled.p-focus {
    background: `).concat(i("multiselect.filled.focus.background"),`;
}

.p-multiselect.p-invalid {
    border-color: `).concat(i("multiselect.invalid.border.color"),`;
}

.p-multiselect.p-disabled {
    opacity: 1;
    background: `).concat(i("multiselect.disabled.background"),`;
}

.p-multiselect-dropdown {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    background: transparent;
    color: `).concat(i("multiselect.dropdown.color"),`;
    width: `).concat(i("multiselect.dropdown.width"),`;
    border-top-right-radius: `).concat(i("multiselect.border.radius"),`;
    border-bottom-right-radius: `).concat(i("multiselect.border.radius"),`;
}

.p-multiselect-label-container {
    overflow: hidden;
    flex: 1 1 auto;
    cursor: pointer;
}

.p-multiselect-label {
    display: flex;
    align-items-center;
    gap: calc(`).concat(i("multiselect.padding.y"),` / 2);
    white-space: nowrap;
    cursor: pointer;
    overflow: hidden;
    text-overflow: ellipsis;
    padding: `).concat(i("multiselect.padding.y")," ").concat(i("multiselect.padding.x"),`;
    color: `).concat(i("multiselect.color"),`;
}

.p-multiselect-label.p-placeholder {
    color: `).concat(i("multiselect.placeholder.color"),`;
}

.p-multiselect.p-disabled .p-multiselect-label {
    color: `).concat(i("multiselect.disabled.color"),`;
}

.p-multiselect-label-empty {
    overflow: hidden;
    visibility: hidden;
}

.p-multiselect .p-multiselect-overlay {
    min-width: 100%;
}

.p-multiselect-overlay {
    position: absolute;
    top: 0;
    left: 0;
    background: `).concat(i("multiselect.overlay.background"),`;
    color: `).concat(i("multiselect.overlay.color"),`;
    border: 1px solid `).concat(i("multiselect.overlay.border.color"),`;
    border-radius: `).concat(i("multiselect.overlay.border.radius"),`;
    box-shadow: `).concat(i("multiselect.overlay.shadow"),`;
}

.p-multiselect-header {
    display: flex;
    align-items: center;
    padding: `).concat(i("multiselect.list.header.padding"),`;
}

.p-multiselect-header .p-checkbox {
    margin-right: `).concat(i("multiselect.option.gap"),`;
}

.p-multiselect-filter-container {
    flex: 1 1 auto;
}

.p-multiselect-filter {
    width: 100%;
}

.p-multiselect-list-container {
    overflow: auto;
}

.p-multiselect-list {
    margin: 0;
    padding: 0;
    list-style-type: none;
    padding: `).concat(i("multiselect.list.padding"),`;
    display: flex;
    flex-direction: column;
    gap: `).concat(i("multiselect.list.gap"),`
}

.p-multiselect-option {
    cursor: pointer;
    font-weight: normal;
    white-space: nowrap;
    position: relative;
    overflow: hidden;
    display: flex;
    align-items: center;
    gap: `).concat(i("multiselect.option.gap"),`;
    padding: `).concat(i("multiselect.option.padding"),`;
    border: 0 none;
    color: `).concat(i("multiselect.option.color"),`;
    background: transparent;
    transition: background `).concat(i("multiselect.transition.duration"),", color ").concat(i("multiselect.transition.duration"),", border-color ").concat(i("multiselect.transition.duration"),", box-shadow ").concat(i("multiselect.transition.duration"),", outline-color ").concat(i("multiselect.transition.duration"),`;
    border-radius: `).concat(i("multiselect.option.border.radius"),`
}

.p-multiselect-option:not(.p-multiselect-option-selected):not(.p-disabled).p-focus {
    background: `).concat(i("multiselect.option.focus.background"),`;
    color: `).concat(i("multiselect.option.focus.color"),`;
}

.p-multiselect-option.p-multiselect-option-selected {
    background: `).concat(i("multiselect.option.selected.background"),`;
    color: `).concat(i("multiselect.option.selected.color"),`;
}

.p-multiselect-option.p-multiselect-option-selected.p-focus {
    background: `).concat(i("multiselect.option.selected.focus.background"),`;
    color: `).concat(i("multiselect.option.selected.focus.color"),`;
}

.p-multiselect-option-group {
    cursor: auto;
    margin: 0;
    padding: `).concat(i("multiselect.option.group.padding"),`;
    background: `).concat(i("multiselect.option.group.background"),`;
    color: `).concat(i("multiselect.option.group.color"),`;
    font-weight: `).concat(i("multiselect.option.group.font.weight"),`;
}

.p-multiselect-empty-message {
    padding: `).concat(i("multiselect.empty.message.padding"),`;
}

.p-multiselect-label .p-chip {
    padding-top: calc(`).concat(i("multiselect.padding.y"),` / 2);
    padding-bottom: calc(`).concat(i("multiselect.padding.y"),` / 2);
    border-radius: `).concat(i("multiselect.chip.border.radius"),`;
}

.p-multiselect-label:has(.p-chip) {
    padding: calc(`).concat(i("multiselect.padding.y")," / 2) calc(").concat(i("multiselect.padding.x"),` / 2);
}

.p-multiselect-fluid {
    display: flex;
}
`)},lee={root:function(t){var i=t.props;return{position:i.appendTo==="self"?"relative":void 0}}},dee={root:function(t){var i=t.instance,a=t.props;return["p-multiselect p-component p-inputwrapper",{"p-multiselect-display-chip":a.display==="chip","p-disabled":a.disabled,"p-invalid":a.invalid,"p-variant-filled":a.variant?a.variant==="filled":i.$primevue.config.inputStyle==="filled"||i.$primevue.config.inputVariant==="filled","p-focus":i.focused,"p-inputwrapper-filled":a.modelValue&&a.modelValue.length,"p-inputwrapper-focus":i.focused||i.overlayVisible,"p-multiselect-open":i.overlayVisible,"p-multiselect-fluid":i.hasFluid}]},labelContainer:"p-multiselect-label-container",label:function(t){var i=t.instance,a=t.props;return["p-multiselect-label",{"p-placeholder":i.label===a.placeholder,"p-multiselect-label-empty":!a.placeholder&&(!a.modelValue||a.modelValue.length===0)}]},chipItem:"p-multiselect-chip-item",pcChip:"p-multiselect-chip",chipIcon:"p-multiselect-chip-icon",dropdown:"p-multiselect-dropdown",loadingIcon:"p-multiselect-loading-icon",dropdownIcon:"p-multiselect-dropdown-icon",overlay:"p-multiselect-overlay p-component",header:"p-multiselect-header",pcFilterContainer:"p-multiselect-filter-container",pcFilter:"p-multiselect-filter",listContainer:"p-multiselect-list-container",list:"p-multiselect-list",optionGroup:"p-multiselect-option-group",option:function(t){var i=t.instance,a=t.option,l=t.index,c=t.getItemOptions,y=t.props;return["p-multiselect-option",{"p-multiselect-option-selected":i.isSelected(a)&&y.highlightOnSelect,"p-focus":i.focusedOptionIndex===i.getOptionIndex(l,c),"p-disabled":i.isOptionDisabled(a)}]},emptyMessage:"p-multiselect-empty-message"},uee=In.extend({name:"multiselect",theme:cee,classes:dee,inlineStyles:lee}),hee={name:"BaseMultiSelect",extends:Tn,props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,scrollHeight:{type:String,default:"14rem"},placeholder:String,variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},fluid:{type:Boolean,default:null},inputId:{type:String,default:null},panelClass:{type:String,default:null},panelStyle:{type:null,default:null},overlayClass:{type:String,default:null},overlayStyle:{type:null,default:null},dataKey:null,filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},appendTo:{type:[String,Object],default:"body"},display:{type:String,default:"comma"},selectedItemsLabel:{type:String,default:"{0} items selected"},maxSelectedLabels:{type:Number,default:null},selectionLimit:{type:Number,default:null},showToggleAll:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},checkboxIcon:{type:String,default:void 0},closeIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},removeTokenIcon:{type:String,default:void 0},chipIcon:{type:String,default:void 0},selectAll:{type:Boolean,default:null},resetFilterOnHide:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:uee,provide:function(){return{$pcMultiSelect:this,$parentInstance:this}}};function _g(e){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_g(e)}function pE(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),i.push.apply(i,a)}return i}function mE(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?pE(Object(i),!0).forEach(function(a){ZP(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):pE(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function ZP(e,t,i){return(t=fee(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function fee(e){var t=pee(e,"string");return _g(t)=="symbol"?t:t+""}function pee(e,t){if(_g(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t||"default");if(_g(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gE(e){return yee(e)||_ee(e)||gee(e)||mee()}function mee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gee(e,t){if(e){if(typeof e=="string")return Lx(e,t);var i={}.toString.call(e).slice(8,-1);return i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set"?Array.from(e):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Lx(e,t):void 0}}function _ee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yee(e){if(Array.isArray(e))return Lx(e)}function Lx(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,a=Array(t);i<t;i++)a[i]=e[i];return a}var QP={name:"MultiSelect",extends:hee,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter","selectall-change"],inject:{$pcFluid:{default:null}},outsideClickListener:null,scrollHandler:null,resizeListener:null,overlay:null,list:null,virtualScroller:null,startRangeIndex:-1,searchTimeout:null,searchValue:"",selectOnFocus:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(t){this.id=t||hr()},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||hr(),this.autoUpdateModel()},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Zr.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(t,i){return this.virtualScrollerDisabled?t:i&&i(t).index},getOptionLabel:function(t){return this.optionLabel?On(t,this.optionLabel):t},getOptionValue:function(t){return this.optionValue?On(t,this.optionValue):t},getOptionRenderKey:function(t,i){return this.dataKey?On(t,this.dataKey):this.getOptionLabel(t)+"_".concat(i)},getHeaderCheckboxPTOptions:function(t){return this.ptm(t,{context:{selected:this.allSelected}})},getCheckboxPTOptions:function(t,i,a,l){return this.ptm(l,{context:{selected:this.isSelected(t),focused:this.focusedOptionIndex===this.getOptionIndex(a,i),disabled:this.isOptionDisabled(t)}})},isOptionDisabled:function(t){return this.maxSelectionLimitReached&&!this.isSelected(t)?!0:this.optionDisabled?On(t,this.optionDisabled):!1},isOptionGroup:function(t){return this.optionGroupLabel&&t.optionGroup&&t.group},getOptionGroupLabel:function(t){return On(t,this.optionGroupLabel)},getOptionGroupChildren:function(t){return On(t,this.optionGroupChildren)},getAriaPosInset:function(t){var i=this;return(this.optionGroupLabel?t-this.visibleOptions.slice(0,t).filter(function(a){return i.isOptionGroup(a)}).length:t)+1},show:function(t){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),t&&Zo(this.$refs.focusInput)},hide:function(t){var i=this,a=function(){i.$emit("before-hide"),i.overlayVisible=!1,i.clicked=!1,i.focusedOptionIndex=-1,i.searchValue="",i.resetFilterOnHide&&(i.filterValue=null),t&&Zo(i.$refs.focusInput)};setTimeout(function(){a()},0)},onFocus:function(t){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",t))},onBlur:function(t){this.clicked=!1,this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",t)},onKeyDown:function(t){var i=this;if(this.disabled){t.preventDefault();return}var a=t.metaKey||t.ctrlKey;switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t);break;case"Home":this.onHomeKey(t);break;case"End":this.onEndKey(t);break;case"PageDown":this.onPageDownKey(t);break;case"PageUp":this.onPageUpKey(t);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(t);break;case"Escape":this.onEscapeKey(t);break;case"Tab":this.onTabKey(t);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey(t);break;default:if(t.code==="KeyA"&&a){var l=this.visibleOptions.filter(function(c){return i.isValidOption(c)}).map(function(c){return i.getOptionValue(c)});this.updateModel(t,l),t.preventDefault();break}!a&&fT(t.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(t),t.preventDefault());break}this.clicked=!1},onContainerClick:function(t){this.disabled||this.loading||((!this.overlay||!this.overlay.contains(t.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onFirstHiddenFocus:function(t){var i=t.relatedTarget===this.$refs.focusInput?Nd(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Zo(i)},onLastHiddenFocus:function(t){var i=t.relatedTarget===this.$refs.focusInput?b6(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Zo(i)},onOptionSelect:function(t,i){var a=this,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!(this.disabled||this.isOptionDisabled(i))){var y=this.isSelected(i),n=null;y?n=this.modelValue.filter(function(x){return!ac(x,a.getOptionValue(i),a.equalityKey)}):n=[].concat(gE(this.modelValue||[]),[this.getOptionValue(i)]),this.updateModel(t,n),l!==-1&&(this.focusedOptionIndex=l),c&&Zo(this.$refs.focusInput)}},onOptionMouseMove:function(t,i){this.focusOnHover&&this.changeFocusedOptionIndex(t,i)},onOptionSelectRange:function(t){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(a===-1&&(a=this.findNearestSelectedOptionIndex(l,!0)),l===-1&&(l=this.findNearestSelectedOptionIndex(a)),a!==-1&&l!==-1){var c=Math.min(a,l),y=Math.max(a,l),n=this.visibleOptions.slice(c,y+1).filter(function(x){return i.isValidOption(x)}).map(function(x){return i.getOptionValue(x)});this.updateModel(t,n)}},onFilterChange:function(t){var i=t.target.value;this.filterValue=i,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:t,value:i}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(t){switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(t,!0);break;case"Home":this.onHomeKey(t,!0);break;case"End":this.onEndKey(t,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(t);break;case"Escape":this.onEscapeKey(t);break;case"Tab":this.onTabKey(t,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(t){ss.emit("overlay-click",{originalEvent:t,target:this.$el})},onOverlayKeyDown:function(t){switch(t.code){case"Escape":this.onEscapeKey(t);break}},onArrowDownKey:function(t){if(!this.overlayVisible)this.show();else{var i=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();t.shiftKey&&this.onOptionSelectRange(t,this.startRangeIndex,i),this.changeFocusedOptionIndex(t,i)}t.preventDefault()},onArrowUpKey:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.altKey&&!i)this.focusedOptionIndex!==-1&&this.onOptionSelect(t,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),t.preventDefault();else{var a=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();t.shiftKey&&this.onOptionSelectRange(t,a,this.startRangeIndex),this.changeFocusedOptionIndex(t,a),!this.overlayVisible&&this.show(),t.preventDefault()}},onArrowLeftKey:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i&&(this.focusedOptionIndex=-1)},onHomeKey:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(i){var a=t.currentTarget;t.shiftKey?a.setSelectionRange(0,t.target.selectionStart):(a.setSelectionRange(0,0),this.focusedOptionIndex=-1)}else{var l=t.metaKey||t.ctrlKey,c=this.findFirstOptionIndex();t.shiftKey&&l&&this.onOptionSelectRange(t,c,this.startRangeIndex),this.changeFocusedOptionIndex(t,c),!this.overlayVisible&&this.show()}t.preventDefault()},onEndKey:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(i){var a=t.currentTarget;if(t.shiftKey)a.setSelectionRange(t.target.selectionStart,a.value.length);else{var l=a.value.length;a.setSelectionRange(l,l),this.focusedOptionIndex=-1}}else{var c=t.metaKey||t.ctrlKey,y=this.findLastOptionIndex();t.shiftKey&&c&&this.onOptionSelectRange(t,this.startRangeIndex,y),this.changeFocusedOptionIndex(t,y),!this.overlayVisible&&this.show()}t.preventDefault()},onPageUpKey:function(t){this.scrollInView(0),t.preventDefault()},onPageDownKey:function(t){this.scrollInView(this.visibleOptions.length-1),t.preventDefault()},onEnterKey:function(t){this.overlayVisible?this.focusedOptionIndex!==-1&&(t.shiftKey?this.onOptionSelectRange(t,this.focusedOptionIndex):this.onOptionSelect(t,this.visibleOptions[this.focusedOptionIndex])):(this.focusedOptionIndex=-1,this.onArrowDownKey(t)),t.preventDefault()},onEscapeKey:function(t){this.overlayVisible&&this.hide(!0),t.preventDefault()},onTabKey:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i||(this.overlayVisible&&this.hasFocusableElements()?(Zo(t.shiftKey?this.$refs.lastHiddenFocusableElementOnOverlay:this.$refs.firstHiddenFocusableElementOnOverlay),t.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(t,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onShiftKey:function(){this.startRangeIndex=this.focusedOptionIndex},onOverlayEnter:function(t){Zr.set("overlay",t,this.$primevue.config.zIndex.overlay),kh(t,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&Zo(this.$refs.filterInput.$el)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(t){Zr.clear(t)},alignOverlay:function(){this.appendTo==="self"?wT(this.overlay,this.$el):(this.overlay.style.minWidth=mr(this.$el)+"px",O2(this.overlay,this.$el))},bindOutsideClickListener:function(){var t=this;this.outsideClickListener||(this.outsideClickListener=function(i){t.overlayVisible&&t.isOutsideClicked(i)&&t.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var t=this;this.scrollHandler||(this.scrollHandler=new $g(this.$refs.container,function(){t.overlayVisible&&t.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var t=this;this.resizeListener||(this.resizeListener=function(){t.overlayVisible&&!Vg()&&t.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isOutsideClicked:function(t){return!(this.$el.isSameNode(t.target)||this.$el.contains(t.target)||this.overlay&&this.overlay.contains(t.target))},getLabelByValue:function(t){var i=this,a=this.optionGroupLabel?this.flatOptions(this.options):this.options||[],l=a.find(function(c){return!i.isOptionGroup(c)&&ac(i.getOptionValue(c),t,i.equalityKey)});return l?this.getOptionLabel(l):null},getSelectedItemsLabel:function(){var t=/{(.*?)}/,i=this.selectedItemsLabel||this.$primevue.config.locale.selectionMessage;return t.test(i)?i.replace(i.match(t)[0],this.modelValue.length+""):i},onToggleAll:function(t){var i=this;if(this.selectAll!==null)this.$emit("selectall-change",{originalEvent:t,checked:!this.allSelected});else{var a=this.allSelected?[]:this.visibleOptions.filter(function(l){return i.isValidOption(l)}).map(function(l){return i.getOptionValue(l)});this.updateModel(t,a)}},removeOption:function(t,i){var a=this;t.stopPropagation();var l=this.modelValue.filter(function(c){return!ac(c,i,a.equalityKey)});this.updateModel(t,l)},clearFilter:function(){this.filterValue=null},hasFocusableElements:function(){return L2(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(t){var i;return this.isValidOption(t)&&typeof this.getOptionLabel(t)=="string"&&((i=this.getOptionLabel(t))===null||i===void 0?void 0:i.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(t){return Bn(t)&&!(this.isOptionDisabled(t)||this.isOptionGroup(t))},isValidSelectedOption:function(t){return this.isValidOption(t)&&this.isSelected(t)},isEquals:function(t,i){return ac(t,i,this.equalityKey)},isSelected:function(t){var i=this,a=this.getOptionValue(t);return(this.modelValue||[]).some(function(l){return i.isEquals(l,a)})},findFirstOptionIndex:function(){var t=this;return this.visibleOptions.findIndex(function(i){return t.isValidOption(i)})},findLastOptionIndex:function(){var t=this;return fp(this.visibleOptions,function(i){return t.isValidOption(i)})},findNextOptionIndex:function(t){var i=this,a=t<this.visibleOptions.length-1?this.visibleOptions.slice(t+1).findIndex(function(l){return i.isValidOption(l)}):-1;return a>-1?a+t+1:t},findPrevOptionIndex:function(t){var i=this,a=t>0?fp(this.visibleOptions.slice(0,t),function(l){return i.isValidOption(l)}):-1;return a>-1?a:t},findSelectedOptionIndex:function(){var t=this;if(this.hasSelectedOption){for(var i=function(){var y=t.modelValue[l],n=t.visibleOptions.findIndex(function(x){return t.isValidSelectedOption(x)&&t.isEquals(y,t.getOptionValue(x))});if(n>-1)return{v:n}},a,l=this.modelValue.length-1;l>=0;l--)if(a=i(),a)return a.v}return-1},findFirstSelectedOptionIndex:function(){var t=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(i){return t.isValidSelectedOption(i)}):-1},findLastSelectedOptionIndex:function(){var t=this;return this.hasSelectedOption?fp(this.visibleOptions,function(i){return t.isValidSelectedOption(i)}):-1},findNextSelectedOptionIndex:function(t){var i=this,a=this.hasSelectedOption&&t<this.visibleOptions.length-1?this.visibleOptions.slice(t+1).findIndex(function(l){return i.isValidSelectedOption(l)}):-1;return a>-1?a+t+1:-1},findPrevSelectedOptionIndex:function(t){var i=this,a=this.hasSelectedOption&&t>0?fp(this.visibleOptions.slice(0,t),function(l){return i.isValidSelectedOption(l)}):-1;return a>-1?a:-1},findNearestSelectedOptionIndex:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=-1;return this.hasSelectedOption&&(i?(a=this.findPrevSelectedOptionIndex(t),a=a===-1?this.findNextSelectedOptionIndex(t):a):(a=this.findNextSelectedOptionIndex(t),a=a===-1?this.findPrevSelectedOptionIndex(t):a)),a>-1?a:t},findFirstFocusedOptionIndex:function(){var t=this.findSelectedOptionIndex();return t<0?this.findFirstOptionIndex():t},findLastFocusedOptionIndex:function(){var t=this.findSelectedOptionIndex();return t<0?this.findLastOptionIndex():t},searchOptions:function(t){var i=this;this.searchValue=(this.searchValue||"")+t.key;var a=-1;Bn(this.searchValue)&&(this.focusedOptionIndex!==-1?(a=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(l){return i.isOptionMatched(l)}),a=a===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(l){return i.isOptionMatched(l)}):a+this.focusedOptionIndex):a=this.visibleOptions.findIndex(function(l){return i.isOptionMatched(l)}),a===-1&&this.focusedOptionIndex===-1&&(a=this.findFirstFocusedOptionIndex()),a!==-1&&this.changeFocusedOptionIndex(t,a)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){i.searchValue="",i.searchTimeout=null},500)},changeFocusedOptionIndex:function(t,i){this.focusedOptionIndex!==i&&(this.focusedOptionIndex=i,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(t,this.visibleOptions[i]))},scrollInView:function(){var t=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var a=i!==-1?"".concat(t.id,"_").concat(i):t.focusedOptionId,l=ks(t.list,'li[id="'.concat(a,'"]'));l?l.scrollIntoView&&l.scrollIntoView({block:"nearest",inline:"nearest"}):t.virtualScrollerDisabled||t.virtualScroller&&t.virtualScroller.scrollToIndex(i!==-1?i:t.focusedOptionIndex)})},autoUpdateModel:function(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption){this.focusedOptionIndex=this.findFirstFocusedOptionIndex();var t=this.getOptionValue(this.visibleOptions[this.focusedOptionIndex]);this.updateModel(null,[t])}},updateModel:function(t,i){this.$emit("update:modelValue",i),this.$emit("change",{originalEvent:t,value:i})},flatOptions:function(t){var i=this;return(t||[]).reduce(function(a,l,c){a.push({optionGroup:l,group:!0,index:c});var y=i.getOptionGroupChildren(l);return y&&y.forEach(function(n){return a.push(n)}),a},[])},overlayRef:function(t){this.overlay=t},listRef:function(t,i){this.list=t,i&&i(t)},virtualScrollerRef:function(t){this.virtualScroller=t}},computed:{visibleOptions:function(){var t=this,i=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var a=$b.filter(i,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var l=this.options||[],c=[];return l.forEach(function(y){var n=t.getOptionGroupChildren(y),x=n.filter(function(C){return a.includes(C)});x.length>0&&c.push(mE(mE({},y),{},ZP({},typeof t.optionGroupChildren=="string"?t.optionGroupChildren:"items",gE(x))))}),this.flatOptions(c)}return a}return i},label:function(){var t;if(this.modelValue&&this.modelValue.length){if(Bn(this.maxSelectedLabels)&&this.modelValue.length>this.maxSelectedLabels)return this.getSelectedItemsLabel();t="";for(var i=0;i<this.modelValue.length;i++)i!==0&&(t+=", "),t+=this.getLabelByValue(this.modelValue[i])}else t=this.placeholder;return t},chipSelectedItems:function(){return Bn(this.maxSelectedLabels)&&this.modelValue&&this.modelValue.length>this.maxSelectedLabels?this.modelValue.slice(0,this.maxSelectedLabels):this.modelValue},allSelected:function(){var t=this;return this.selectAll!==null?this.selectAll:Bn(this.visibleOptions)&&this.visibleOptions.every(function(i){return t.isOptionGroup(i)||t.isOptionDisabled(i)||t.isSelected(i)})},hasSelectedOption:function(){return Bn(this.modelValue)},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},maxSelectionLimitReached:function(){return this.selectionLimit&&this.modelValue&&this.modelValue.length===this.selectionLimit},filterResultMessageText:function(){return Bn(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}",this.modelValue.length):this.emptySelectionMessageText},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var t=this;return this.visibleOptions.filter(function(i){return!t.isOptionGroup(i)}).length},toggleAllAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria[this.allSelected?"selectAll":"unselectAll"]:void 0},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0},listAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.listLabel:void 0},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions},hasFluid:function(){return Qr(this.fluid)?!!this.$pcFluid:this.fluid}},directives:{ripple:Bs},components:{InputText:t_,Checkbox:i_,VirtualScroller:Y2,Portal:s0,Chip:KP,IconField:m5,InputIcon:g5,TimesIcon:e_,SearchIcon:p5,ChevronDownIcon:r0,SpinnerIcon:a0,CheckIcon:Nh}};function yg(e){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yg(e)}function _E(e,t,i){return(t=bee(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function bee(e){var t=vee(e,"string");return yg(t)=="symbol"?t:t+""}function vee(e,t){if(yg(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t||"default");if(yg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xee=["id","disabled","placeholder","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],wee=["id","aria-label"],Fee=["id"],Cee=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-selected","data-p-focused","data-p-disabled"];function Eee(e,t,i,a,l,c){var y=Mi("Chip"),n=Mi("SpinnerIcon"),x=Mi("Checkbox"),C=Mi("InputText"),k=Mi("SearchIcon"),O=Mi("InputIcon"),B=Mi("IconField"),L=Mi("VirtualScroller"),V=Mi("Portal"),G=Nr("ripple");return ge(),Je("div",Ze({ref:"container",class:e.cx("root"),style:e.sx("root"),onClick:t[7]||(t[7]=function(){return c.onContainerClick&&c.onContainerClick.apply(c,arguments)})},e.ptmi("root")),[Se("div",Ze({class:"p-hidden-accessible"},e.ptm("hiddenInputContainer"),{"data-p-hidden-accessible":!0}),[Se("input",Ze({ref:"focusInput",id:e.inputId,type:"text",readonly:"",disabled:e.disabled,placeholder:e.placeholder,tabindex:e.disabled?-1:e.tabindex,role:"combobox","aria-label":e.ariaLabel,"aria-labelledby":e.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":l.overlayVisible,"aria-controls":l.id+"_list","aria-activedescendant":l.focused?c.focusedOptionId:void 0,"aria-invalid":e.invalid||void 0,onFocus:t[0]||(t[0]=function(){return c.onFocus&&c.onFocus.apply(c,arguments)}),onBlur:t[1]||(t[1]=function(){return c.onBlur&&c.onBlur.apply(c,arguments)}),onKeydown:t[2]||(t[2]=function(){return c.onKeyDown&&c.onKeyDown.apply(c,arguments)})},e.ptm("hiddenInput")),null,16,xee)],16),Se("div",Ze({class:e.cx("labelContainer")},e.ptm("labelContainer")),[Se("div",Ze({class:e.cx("label")},e.ptm("label")),[mi(e.$slots,"value",{value:e.modelValue,placeholder:e.placeholder},function(){return[e.display==="comma"?(ge(),Je(Ri,{key:0},[Ei(li(c.label||"empty"),1)],64)):e.display==="chip"?(ge(),Je(Ri,{key:1},[(ge(!0),Je(Ri,null,wo(c.chipSelectedItems,function(Q){return ge(),Je("span",Ze({key:c.getLabelByValue(Q),class:e.cx("chipItem"),ref_for:!0},e.ptm("chipItem")),[mi(e.$slots,"chip",{value:Q,removeCallback:function(J){return c.removeOption(J,Q)}},function(){return[kt(y,{class:Ii(e.cx("pcChip")),label:c.getLabelByValue(Q),removeIcon:e.chipIcon||e.removeTokenIcon,removable:"",unstyled:e.unstyled,onRemove:function(J){return c.removeOption(J,Q)},pt:e.ptm("pcChip")},{removeicon:ti(function(){return[mi(e.$slots,e.$slots.chipicon?"chipicon":"removetokenicon",{class:Ii(e.cx("chipIcon")),item:Q,removeCallback:function(J){return c.removeOption(J,Q)}})]}),_:2},1032,["class","label","removeIcon","unstyled","onRemove","pt"])]})],16)}),128)),!e.modelValue||e.modelValue.length===0?(ge(),Je(Ri,{key:0},[Ei(li(e.placeholder||"empty"),1)],64)):Zt("",!0)],64)):Zt("",!0)]})],16)],16),Se("div",Ze({class:e.cx("dropdown")},e.ptm("dropdown")),[e.loading?mi(e.$slots,"loadingicon",{key:0,class:Ii(e.cx("loadingIcon"))},function(){return[e.loadingIcon?(ge(),Je("span",Ze({key:0,class:[e.cx("loadingIcon"),"pi-spin",e.loadingIcon],"aria-hidden":"true"},e.ptm("loadingIcon")),null,16)):(ge(),Vt(n,Ze({key:1,class:e.cx("loadingIcon"),spin:"","aria-hidden":"true"},e.ptm("loadingIcon")),null,16,["class"]))]}):mi(e.$slots,"dropdownicon",{key:1,class:Ii(e.cx("dropdownIcon"))},function(){return[(ge(),Vt(Wi(e.dropdownIcon?"span":"ChevronDownIcon"),Ze({class:[e.cx("dropdownIcon"),e.dropdownIcon],"aria-hidden":"true"},e.ptm("dropdownIcon")),null,16,["class"]))]})],16),kt(V,{appendTo:e.appendTo},{default:ti(function(){return[kt(e0,Ze({name:"p-connected-overlay",onEnter:c.onOverlayEnter,onAfterEnter:c.onOverlayAfterEnter,onLeave:c.onOverlayLeave,onAfterLeave:c.onOverlayAfterLeave},e.ptm("transition")),{default:ti(function(){return[l.overlayVisible?(ge(),Je("div",Ze({key:0,ref:c.overlayRef,style:[e.panelStyle,e.overlayStyle],class:[e.cx("overlay"),e.panelClass,e.overlayClass],onClick:t[5]||(t[5]=function(){return c.onOverlayClick&&c.onOverlayClick.apply(c,arguments)}),onKeydown:t[6]||(t[6]=function(){return c.onOverlayKeyDown&&c.onOverlayKeyDown.apply(c,arguments)})},e.ptm("overlay")),[Se("span",Ze({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:t[3]||(t[3]=function(){return c.onFirstHiddenFocus&&c.onFirstHiddenFocus.apply(c,arguments)})},e.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),mi(e.$slots,"header",{value:e.modelValue,options:c.visibleOptions}),e.showToggleAll&&e.selectionLimit==null||e.filter?(ge(),Je("div",Ze({key:0,class:e.cx("header")},e.ptm("header")),[e.showToggleAll&&e.selectionLimit==null?(ge(),Vt(x,{key:0,modelValue:c.allSelected,binary:!0,disabled:e.disabled,variant:e.variant,"aria-label":c.toggleAllAriaLabel,onChange:c.onToggleAll,unstyled:e.unstyled,pt:c.getHeaderCheckboxPTOptions("pcHeaderCheckbox")},{icon:ti(function(Q){return[e.$slots.headercheckboxicon?(ge(),Vt(Wi(e.$slots.headercheckboxicon),{key:0,checked:Q.checked,class:Ii(Q.class)},null,8,["checked","class"])):Q.checked?(ge(),Vt(Wi(e.checkboxIcon?"span":"CheckIcon"),Ze({key:1,class:[Q.class,_E({},e.checkboxIcon,Q.checked)]},c.getHeaderCheckboxPTOptions("pcHeaderCheckbox.icon")),null,16,["class"])):Zt("",!0)]}),_:1},8,["modelValue","disabled","variant","aria-label","onChange","unstyled","pt"])):Zt("",!0),e.filter?(ge(),Vt(B,{key:1,class:Ii(e.cx("pcFilterContainer")),unstyled:e.unstyled,pt:e.ptm("pcFilterContainer")},{default:ti(function(){return[kt(C,{ref:"filterInput",value:l.filterValue,onVnodeMounted:c.onFilterUpdated,onVnodeUpdated:c.onFilterUpdated,class:Ii(e.cx("pcFilter")),placeholder:e.filterPlaceholder,disabled:e.disabled,variant:e.variant,unstyled:e.unstyled,role:"searchbox",autocomplete:"off","aria-owns":l.id+"_list","aria-activedescendant":c.focusedOptionId,onKeydown:c.onFilterKeyDown,onBlur:c.onFilterBlur,onInput:c.onFilterChange,pt:e.ptm("pcFilter")},null,8,["value","onVnodeMounted","onVnodeUpdated","class","placeholder","disabled","variant","unstyled","aria-owns","aria-activedescendant","onKeydown","onBlur","onInput","pt"]),kt(O,{unstyled:e.unstyled,pt:e.ptm("pcFilterIconContainer")},{default:ti(function(){return[mi(e.$slots,"filtericon",{},function(){return[e.filterIcon?(ge(),Je("span",Ze({key:0,class:e.filterIcon},e.ptm("filterIcon")),null,16)):(ge(),Vt(k,Bg(Ze({key:1},e.ptm("filterIcon"))),null,16))]})]}),_:3},8,["unstyled","pt"])]}),_:3},8,["class","unstyled","pt"])):Zt("",!0),e.filter?(ge(),Je("span",Ze({key:2,role:"status","aria-live":"polite",class:"p-hidden-accessible"},e.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),li(c.filterResultMessageText),17)):Zt("",!0)],16)):Zt("",!0),Se("div",Ze({class:e.cx("listContainer"),style:{"max-height":c.virtualScrollerDisabled?e.scrollHeight:""}},e.ptm("listContainer")),[kt(L,Ze({ref:c.virtualScrollerRef},e.virtualScrollerOptions,{items:c.visibleOptions,style:{height:e.scrollHeight},tabindex:-1,disabled:c.virtualScrollerDisabled,pt:e.ptm("virtualScroller")}),Ih({content:ti(function(Q){var Y=Q.styleClass,J=Q.contentRef,re=Q.items,ce=Q.getItemOptions,he=Q.contentStyle,we=Q.itemSize;return[Se("ul",Ze({ref:function(De){return c.listRef(De,J)},id:l.id+"_list",class:[e.cx("list"),Y],style:he,role:"listbox","aria-multiselectable":"true","aria-label":c.listAriaLabel},e.ptm("list")),[(ge(!0),Je(Ri,null,wo(re,function(pe,De){return ge(),Je(Ri,{key:c.getOptionRenderKey(pe,c.getOptionIndex(De,ce))},[c.isOptionGroup(pe)?(ge(),Je("li",Ze({key:0,id:l.id+"_"+c.getOptionIndex(De,ce),style:{height:we?we+"px":void 0},class:e.cx("optionGroup"),role:"option",ref_for:!0},e.ptm("optionGroup")),[mi(e.$slots,"optiongroup",{option:pe.optionGroup,index:c.getOptionIndex(De,ce)},function(){return[Ei(li(c.getOptionGroupLabel(pe.optionGroup)),1)]})],16,Fee)):Qo((ge(),Je("li",Ze({key:1,id:l.id+"_"+c.getOptionIndex(De,ce),style:{height:we?we+"px":void 0},class:e.cx("option",{option:pe,index:De,getItemOptions:ce}),role:"option","aria-label":c.getOptionLabel(pe),"aria-selected":c.isSelected(pe),"aria-disabled":c.isOptionDisabled(pe),"aria-setsize":c.ariaSetSize,"aria-posinset":c.getAriaPosInset(c.getOptionIndex(De,ce)),onClick:function(Ne){return c.onOptionSelect(Ne,pe,c.getOptionIndex(De,ce),!0)},onMousemove:function(Ne){return c.onOptionMouseMove(Ne,c.getOptionIndex(De,ce))},ref_for:!0},c.getCheckboxPTOptions(pe,ce,De,"option"),{"data-p-selected":c.isSelected(pe),"data-p-focused":l.focusedOptionIndex===c.getOptionIndex(De,ce),"data-p-disabled":c.isOptionDisabled(pe)}),[kt(x,{modelValue:c.isSelected(pe),binary:!0,tabindex:-1,variant:e.variant,unstyled:e.unstyled,pt:c.getCheckboxPTOptions(pe,ce,De,"pcOptionCheckbox")},{icon:ti(function(Ae){return[e.$slots.optioncheckboxicon||e.$slots.itemcheckboxicon?(ge(),Vt(Wi(e.$slots.optioncheckboxicon||e.$slots.itemcheckboxicon),{key:0,checked:Ae.checked,class:Ii(Ae.class)},null,8,["checked","class"])):Ae.checked?(ge(),Vt(Wi(e.checkboxIcon?"span":"CheckIcon"),Ze({key:1,class:[Ae.class,_E({},e.checkboxIcon,Ae.checked)],ref_for:!0},c.getCheckboxPTOptions(pe,ce,De,"pcOptionCheckbox.icon")),null,16,["class"])):Zt("",!0)]}),_:2},1032,["modelValue","variant","unstyled","pt"]),mi(e.$slots,"option",{option:pe,selected:c.isSelected(pe),index:c.getOptionIndex(De,ce)},function(){return[Se("span",Ze({ref_for:!0},e.ptm("optionLabel")),li(c.getOptionLabel(pe)),17)]})],16,Cee)),[[G]])],64)}),128)),l.filterValue&&(!re||re&&re.length===0)?(ge(),Je("li",Ze({key:0,class:e.cx("emptyMessage"),role:"option"},e.ptm("emptyMessage")),[mi(e.$slots,"emptyfilter",{},function(){return[Ei(li(c.emptyFilterMessageText),1)]})],16)):!e.options||e.options&&e.options.length===0?(ge(),Je("li",Ze({key:1,class:e.cx("emptyMessage"),role:"option"},e.ptm("emptyMessage")),[mi(e.$slots,"empty",{},function(){return[Ei(li(c.emptyMessageText),1)]})],16)):Zt("",!0)],16,wee)]}),_:2},[e.$slots.loader?{name:"loader",fn:ti(function(Q){var Y=Q.options;return[mi(e.$slots,"loader",{options:Y})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),mi(e.$slots,"footer",{value:e.modelValue,options:c.visibleOptions}),!e.options||e.options&&e.options.length===0?(ge(),Je("span",Ze({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},e.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),li(c.emptyMessageText),17)):Zt("",!0),Se("span",Ze({role:"status","aria-live":"polite",class:"p-hidden-accessible"},e.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),li(c.selectedMessageText),17),Se("span",Ze({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:t[4]||(t[4]=function(){return c.onLastHiddenFocus&&c.onLastHiddenFocus.apply(c,arguments)})},e.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):Zt("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16)}QP.render=Eee;(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('.vue-slider-dot{position:absolute;transition:all 0s;z-index:5}.vue-slider-dot:focus{outline:none}.vue-slider-dot-tooltip{position:absolute;visibility:hidden}.vue-slider-dot-hover:hover .vue-slider-dot-tooltip,.vue-slider-dot-tooltip-show{visibility:visible}.vue-slider-dot-tooltip-top{top:-10px;left:50%;transform:translate(-50%,-100%)}.vue-slider-dot-tooltip-bottom{bottom:-10px;left:50%;transform:translate(-50%,100%)}.vue-slider-dot-tooltip-left{left:-10px;top:50%;transform:translate(-100%,-50%)}.vue-slider-dot-tooltip-right{right:-10px;top:50%;transform:translate(100%,-50%)}.vue-slider-marks{position:relative;width:100%;height:100%}.vue-slider-mark{position:absolute;z-index:1}.vue-slider-ltr .vue-slider-mark,.vue-slider-rtl .vue-slider-mark{width:0;height:100%;top:50%}.vue-slider-ltr .vue-slider-mark-step,.vue-slider-rtl .vue-slider-mark-step{top:0}.vue-slider-ltr .vue-slider-mark-label,.vue-slider-rtl .vue-slider-mark-label{top:100%;margin-top:10px}.vue-slider-ltr .vue-slider-mark{transform:translate(-50%,-50%)}.vue-slider-ltr .vue-slider-mark-step{left:0}.vue-slider-ltr .vue-slider-mark-label{left:50%;transform:translate(-50%)}.vue-slider-rtl .vue-slider-mark{transform:translate(50%,-50%)}.vue-slider-rtl .vue-slider-mark-step{right:0}.vue-slider-rtl .vue-slider-mark-label{right:50%;transform:translate(50%)}.vue-slider-ttb .vue-slider-mark,.vue-slider-btt .vue-slider-mark{width:100%;height:0;left:50%}.vue-slider-ttb .vue-slider-mark-step,.vue-slider-btt .vue-slider-mark-step{left:0}.vue-slider-ttb .vue-slider-mark-label,.vue-slider-btt .vue-slider-mark-label{left:100%;margin-left:10px}.vue-slider-btt .vue-slider-mark{transform:translate(-50%,50%)}.vue-slider-btt .vue-slider-mark-step{top:0}.vue-slider-btt .vue-slider-mark-label{top:50%;transform:translateY(-50%)}.vue-slider-ttb .vue-slider-mark{transform:translate(-50%,-50%)}.vue-slider-ttb .vue-slider-mark-step{bottom:0}.vue-slider-ttb .vue-slider-mark-label{bottom:50%;transform:translateY(50%)}.vue-slider-mark-step,.vue-slider-mark-label{position:absolute}.vue-slider-disabled{opacity:.5;cursor:not-allowed}.vue-slider-rail{background-color:#ccc;border-radius:15px}.vue-slider-process{background-color:#3498db;border-radius:15px}.vue-slider-mark{z-index:4}.vue-slider-mark:first-child .vue-slider-mark-step,.vue-slider-mark:last-child .vue-slider-mark-step{display:none}.vue-slider-mark-step{width:100%;height:100%;border-radius:50%;background-color:#00000029}.vue-slider-mark-label{font-size:14px;white-space:nowrap}.vue-slider-dot-handle{cursor:pointer;width:100%;height:100%;border-radius:50%;background-color:#fff;box-sizing:border-box;box-shadow:.5px .5px 2px 1px #00000052}.vue-slider-dot-handle-focus{box-shadow:0 0 1px 2px #3498db5c}.vue-slider-dot-handle-disabled{cursor:not-allowed;background-color:#ccc}.vue-slider-dot-tooltip-inner{font-size:14px;white-space:nowrap;padding:2px 5px;min-width:20px;text-align:center;color:#fff;border-radius:5px;border-color:#3498db;background-color:#3498db;box-sizing:content-box}.vue-slider-dot-tooltip-inner:after{content:"";position:absolute}.vue-slider-dot-tooltip-inner-top:after{top:100%;left:50%;transform:translate(-50%);height:0;width:0;border-color:transparent;border-style:solid;border-width:5px;border-top-color:inherit}.vue-slider-dot-tooltip-inner-bottom:after{bottom:100%;left:50%;transform:translate(-50%);height:0;width:0;border-color:transparent;border-style:solid;border-width:5px;border-bottom-color:inherit}.vue-slider-dot-tooltip-inner-left:after{left:100%;top:50%;transform:translateY(-50%);height:0;width:0;border-color:transparent;border-style:solid;border-width:5px;border-left-color:inherit}.vue-slider-dot-tooltip-inner-right:after{right:100%;top:50%;transform:translateY(-50%);height:0;width:0;border-color:transparent;border-style:solid;border-width:5px;border-right-color:inherit}.vue-slider-dot-tooltip-wrapper{opacity:0;transition:all .3s}.vue-slider-dot-tooltip-wrapper-show{opacity:1}.vue-slider{position:relative;box-sizing:content-box;-webkit-user-select:none;user-select:none;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.vue-slider-rail{position:relative;width:100%;height:100%;transition-property:width,height,left,right,top,bottom}.vue-slider-process{position:absolute;z-index:1}')),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();var See=Object.defineProperty,Tee=(e,t,i)=>t in e?See(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,fr=(e,t,i)=>(Tee(e,typeof t!="symbol"?t+"":t,i),i);const _5=(e,t)=>{const i=e.__vccOpts||e;for(const[a,l]of t)i[a]=l;return i},Ree={emits:["drag-start"],props:{value:{type:[Number,String],default:0},tooltip:{type:String,required:!0},dotStyle:{type:Array,default:()=>({})},tooltipStyle:{type:Array,default:()=>({})},tooltipPlacement:{type:String,required:!0},tooltipFormatter:{type:[String,Array,Object,Function],default:void 0},focus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{dotClasses(){return["vue-slider-dot",{"vue-slider-dot-hover":this.tooltip==="hover"||this.tooltip==="active","vue-slider-dot-disabled":this.disabled,"vue-slider-dot-focus":this.focus}]},handleClasses(){return["vue-slider-dot-handle",{"vue-slider-dot-handle-disabled":this.disabled,"vue-slider-dot-handle-focus":this.focus}]},tooltipClasses(){return["vue-slider-dot-tooltip",[`vue-slider-dot-tooltip-${this.tooltipPlacement}`],{"vue-slider-dot-tooltip-show":this.showTooltip}]},tooltipInnerClasses(){return["vue-slider-dot-tooltip-inner",[`vue-slider-dot-tooltip-inner-${this.tooltipPlacement}`],{"vue-slider-dot-tooltip-inner-disabled":this.disabled,"vue-slider-dot-tooltip-inner-focus":this.focus}]},showTooltip(){switch(this.tooltip){case"always":return!0;case"none":return!1;case"focus":case"active":return!!this.focus;default:return!1}},tooltipValue(){return this.tooltipFormatter?typeof this.tooltipFormatter=="string"?this.tooltipFormatter.replace(/\{value\}/,String(this.value)):this.tooltipFormatter(this.value):this.value}},methods:{dragStart(e){if(this.disabled)return!1;this.$emit("drag-start")}}},Pee=["aria-valuetext"],Iee={class:"vue-slider-dot-tooltip-text"};function kee(e,t,i,a,l,c){return ge(),Je("div",{ref:"dot",class:Ii(c.dotClasses),"aria-valuetext":c.tooltipValue,onMousedown:t[0]||(t[0]=(...y)=>c.dragStart&&c.dragStart(...y)),onTouchstartPassive:t[1]||(t[1]=(...y)=>c.dragStart&&c.dragStart(...y))},[mi(e.$slots,"dot",{},()=>[Se("div",{class:Ii(c.handleClasses),style:Mr(i.dotStyle)},null,6)]),i.tooltip!=="none"?(ge(),Je("div",{key:0,class:Ii(c.tooltipClasses)},[mi(e.$slots,"tooltip",{},()=>[Se("div",{class:Ii(c.tooltipInnerClasses),style:Mr(i.tooltipStyle)},[Se("span",Iee,li(c.tooltipValue),1)],6)])],2)):Zt("",!0)],42,Pee)}const XP=_5(Ree,[["render",kee]]),Mee={props:{mark:{type:Object,required:!0},hideLabel:{type:Boolean,default:!1},stepStyle:{type:Object,default:void 0},stepActiveStyle:{type:Object,default:void 0},labelStyle:{type:Object,default:void 0},labelActiveStyle:{type:Object,default:void 0}},computed:{marksClasses(){return["vue-slider-mark",{"vue-slider-mark-active":this.mark.active}]},stepClasses(){return["vue-slider-mark-step",{"vue-slider-mark-step-active":this.mark.active}]},labelClasses(){return["vue-slider-mark-label",{"vue-slider-mark-label-active":this.mark.active}]}},methods:{labelClickHandle(e){e.stopPropagation(),this.$emit("pressLabel",this.mark.pos)}}};function Aee(e,t,i,a,l,c){return ge(),Je("div",{class:Ii(c.marksClasses)},[mi(e.$slots,"step",{},()=>[Se("div",{class:Ii(c.stepClasses),style:Mr([i.stepStyle,i.mark.style,i.mark.active?i.stepActiveStyle:null,i.mark.active?i.mark.activeStyle:null])},null,6)]),i.hideLabel?Zt("",!0):mi(e.$slots,"label",{key:0},()=>[Se("div",{class:Ii(c.labelClasses),style:Mr([i.labelStyle,i.mark.labelStyle,i.mark.active?i.labelActiveStyle:null,i.mark.active?i.mark.labelActiveStyle:null]),onClick:t[0]||(t[0]=(...y)=>c.labelClickHandle&&c.labelClickHandle(...y))},li(i.mark.label),7)])],2)}const JP=_5(Mee,[["render",Aee]]),h1=e=>typeof e=="number"?`${e}px`:e,Oee=e=>{const t=document.documentElement,i=document.body,a=e.getBoundingClientRect();return{y:a.top+(window.pageYOffset||t.scrollTop)-(t.clientTop||i.clientTop||0),x:a.left+(window.pageXOffset||t.scrollLeft)-(t.clientLeft||i.clientLeft||0)}},Lee=(e,t,i)=>{const a="targetTouches"in e?e.targetTouches[0]:e,l=Oee(t),c={x:a.pageX-l.x,y:a.pageY-l.y};return{x:i?t.offsetWidth-c.x:c.x,y:i?t.offsetHeight-c.y:c.y}},Dee=(e,t)=>{if(t.hook){const i=t.hook(e);if(typeof i=="function")return i;if(!i)return null}switch(e.keyCode){case 38:return i=>t.direction==="ttb"?i-1:i+1;case 39:return i=>t.direction==="rtl"?i-1:i+1;case 40:return i=>t.direction==="ttb"?i+1:i-1;case 37:return i=>t.direction==="rtl"?i+1:i-1;case 35:return()=>t.max;case 36:return()=>t.min;case 33:return i=>i+10;case 34:return i=>i-10;default:return null}};class ml{constructor(t){fr(this,"num"),this.num=t}decimal(t,i){const a=this.num,l=this.getDecimalLen(a),c=this.getDecimalLen(t);let y=0;switch(i){case"+":y=this.getExponent(l,c),this.num=(this.safeRoundUp(a,y)+this.safeRoundUp(t,y))/y;break;case"-":y=this.getExponent(l,c),this.num=(this.safeRoundUp(a,y)-this.safeRoundUp(t,y))/y;break;case"*":this.num=this.safeRoundUp(this.safeRoundUp(a,this.getExponent(l)),this.safeRoundUp(t,this.getExponent(c)))/this.getExponent(l+c);break;case"/":y=this.getExponent(l,c),this.num=this.safeRoundUp(a,y)/this.safeRoundUp(t,y);break;case"%":y=this.getExponent(l,c),this.num=this.safeRoundUp(a,y)%this.safeRoundUp(t,y)/y;break}return this}plus(t){return this.decimal(t,"+")}minus(t){return this.decimal(t,"-")}multiply(t){return this.decimal(t,"*")}divide(t){return this.decimal(t,"/")}remainder(t){return this.decimal(t,"%")}toNumber(){return this.num}getDecimalLen(t){const i=`${t}`.split("e");return(`${i[0]}`.split(".")[1]||"").length-(i[1]?+i[1]:0)}getExponent(t,i){return Math.pow(10,i!==void 0?Math.max(t,i):t)}safeRoundUp(t,i){return Math.round(t*i)}}const Bee={1:'The type of the "value" is illegal',2:'The prop "interval" is invalid, "(max - min)" must be divisible by "interval"',3:'The "value" must be greater than or equal to the "min".',4:'The "value" must be less than or equal to the "max".',5:'When "order" is false, the parameters "minRange", "maxRange", "fixed", "enabled" are invalid.'};class jee{constructor(t){fr(this,"dotsPos",[]),fr(this,"dotsValue",[]),fr(this,"data"),fr(this,"enableCross"),fr(this,"fixed"),fr(this,"max"),fr(this,"min"),fr(this,"interval"),fr(this,"minRange"),fr(this,"maxRange"),fr(this,"order"),fr(this,"marks"),fr(this,"included"),fr(this,"process"),fr(this,"adsorb"),fr(this,"dotOptions"),fr(this,"onError"),fr(this,"cacheRangeDir",{}),this.data=t.data,this.max=t.max,this.min=t.min,this.interval=t.interval,this.order=t.order,this.marks=t.marks,this.included=t.included,this.process=t.process,this.adsorb=t.adsorb,this.dotOptions=t.dotOptions,this.onError=t.onError,this.order?(this.minRange=t.minRange||0,this.maxRange=t.maxRange||0,this.enableCross=t.enableCross,this.fixed=t.fixed):((t.minRange||t.maxRange||!t.enableCross||t.fixed)&&this.emitError(5),this.minRange=0,this.maxRange=0,this.enableCross=!0,this.fixed=!1),this.setValue(t.value)}setValue(t){this.setDotsValue(Array.isArray(t)?this.order?[...t].sort((i,a)=>this.getIndexByValue(i)-this.getIndexByValue(a)):[...t]:[t],!0)}setDotsValue(t,i){this.dotsValue=t,i&&this.syncDotsPos()}setDotsPos(t){const i=this.order?[...t].sort((a,l)=>a-l):t;this.dotsPos=i,this.setDotsValue(i.map(a=>this.getValueByPos(a)),this.adsorb)}getValueByPos(t){let i=this.parsePos(t);if(this.included){let a=100;this.markList.forEach(l=>{const c=Math.abs(l.pos-t);c<a&&(a=c,i=l.value)})}return i}syncDotsPos(){this.dotsPos=this.dotsValue.map(t=>this.parseValue(t))}get markList(){if(!this.marks)return[];const t=(i,a)=>{const l=this.parseValue(i);return{pos:l,value:i,label:i,active:this.isActiveByPos(l),...a}};return this.marks===!0?this.getValues().map(i=>t(i)):Object.prototype.toString.call(this.marks)==="[object Object]"?Object.keys(this.marks).sort((i,a)=>+i-+a).map(i=>{const a=this.marks[i];return t(i,typeof a!="string"?a:{label:a})}):Array.isArray(this.marks)?this.marks.map(i=>t(i)):typeof this.marks=="function"?this.getValues().map(i=>({value:i,result:this.marks(i)})).filter(({result:i})=>!!i).map(({value:i,result:a})=>t(i,a)):[]}getRecentDot(t){const i=this.dotsPos.filter((a,l)=>!(this.getDotOption(l)&&this.getDotOption(l).disabled)).map(a=>Math.abs(a-t));return i.indexOf(Math.min(...i))}getIndexByValue(t){return this.data?this.data.indexOf(t):new ml(+t).minus(this.min).divide(this.interval).toNumber()}getValueByIndex(t){return t<0?t=0:t>this.total&&(t=this.total),this.data?this.data[t]:new ml(t).multiply(this.interval).plus(this.min).toNumber()}setDotPos(t,i){t=this.getValidPos(t,i).pos;const a=t-this.dotsPos[i];if(!a)return;let l=new Array(this.dotsPos.length);this.fixed?l=this.getFixedChangePosArr(a,i):this.minRange||this.maxRange?l=this.getLimitRangeChangePosArr(t,a,i):l[i]=a,this.setDotsPos(this.dotsPos.map((c,y)=>c+(l[y]||0)))}getFixedChangePosArr(t,i){return this.dotsPos.forEach((a,l)=>{if(l!==i){const{pos:c,inRange:y}=this.getValidPos(a+t,l);y||(t=Math.min(Math.abs(c-a),Math.abs(t))*(t<0?-1:1))}}),this.dotsPos.map(a=>t)}getLimitRangeChangePosArr(t,i,a){const l=[{index:a,changePos:i}],c=i;return[this.minRange,this.maxRange].forEach((y,n)=>{if(!y)return!1;const x=n===0,C=i>0;let k=0;x?k=C?1:-1:k=C?-1:1;const O=(G,Q)=>{const Y=Math.abs(G-Q);return x?Y<this.minRangeDir:Y>this.maxRangeDir};let B=a+k,L=this.dotsPos[B],V=t;for(;this.isPos(L)&&O(L,V);){const{pos:G}=this.getValidPos(L+c,B);l.push({index:B,changePos:G-L}),B=B+k,V=G,L=this.dotsPos[B]}}),this.dotsPos.map((y,n)=>{const x=l.filter(C=>C.index===n);return x.length?x[0].changePos:0})}isPos(t){return typeof t=="number"}getValidPos(t,i){const a=this.valuePosRange[i];let l=!0;return t<a[0]?(t=a[0],l=!1):t>a[1]&&(t=a[1],l=!1),{pos:t,inRange:l}}parseValue(t){if(this.data)t=this.data.indexOf(t);else if(typeof t=="number"||typeof t=="string"){if(t=+t,t<this.min)return this.emitError(3),0;if(t>this.max)return this.emitError(4),0;if(typeof t!="number"||t!==t)return this.emitError(1),0;t=new ml(t).minus(this.min).divide(this.interval).toNumber()}const i=new ml(t).multiply(this.gap).toNumber();return i<0?0:i>100?100:i}parsePos(t){const i=Math.round(t/this.gap);return this.getValueByIndex(i)}isActiveByPos(t){return this.processArray.some(([i,a])=>t>=i&&t<=a)}getValues(){if(this.data)return this.data;{const t=[];for(let i=0;i<=this.total;i++)t.push(new ml(i).multiply(this.interval).plus(this.min).toNumber());return t}}getRangeDir(t){return t?new ml(t).divide(new ml(this.data?this.data.length-1:this.max).minus(this.data?0:this.min).toNumber()).multiply(100).toNumber():100}emitError(t){this.onError&&this.onError(t,Bee[t])}get processArray(){if(this.process){if(typeof this.process=="function")return this.process(this.dotsPos);if(this.dotsPos.length===1)return[[0,this.dotsPos[0]]];if(this.dotsPos.length>1)return[[Math.min(...this.dotsPos),Math.max(...this.dotsPos)]]}return[]}get total(){let t=0;return this.data?t=this.data.length-1:t=new ml(this.max).minus(this.min).divide(this.interval).toNumber(),t-Math.floor(t)!==0?(this.emitError(2),0):t}get gap(){return 100/this.total}get minRangeDir(){return this.cacheRangeDir[this.minRange]?this.cacheRangeDir[this.minRange]:this.cacheRangeDir[this.minRange]=this.getRangeDir(this.minRange)}get maxRangeDir(){return this.cacheRangeDir[this.maxRange]?this.cacheRangeDir[this.maxRange]:this.cacheRangeDir[this.maxRange]=this.getRangeDir(this.maxRange)}getDotOption(t){return Array.isArray(this.dotOptions)?this.dotOptions[t]:this.dotOptions}getDotRange(t,i,a){if(!this.dotOptions)return a;const l=this.getDotOption(t);return l&&l[i]!==void 0?this.parseValue(l[i]):a}get valuePosRange(){const t=this.dotsPos,i=[];return t.forEach((a,l)=>{i.push([Math.max(this.minRange?this.minRangeDir*l:0,this.enableCross?0:t[l-1]||0,this.getDotRange(l,"min",0)),Math.min(this.minRange?100-this.minRangeDir*(t.length-1-l):100,this.enableCross?100:t[l+1]||100,this.getDotRange(l,"max",100))])}),i}get dotsIndex(){return this.dotsValue.map(t=>this.getIndexByValue(t))}}class zee{constructor(t){fr(this,"map"),fr(this,"states",0),this.map=t}add(t){this.states|=t}delete(t){this.states&=~t}toggle(t){this.has(t)?this.delete(t):this.add(t)}has(t){return!!(this.states&t)}}const k3=4,Wr={None:0,Drag:2,Focus:4},Vee={emits:["update:modelValue","change","drag-start","drag-end","dragging","error"],components:{VueSliderDot:XP,VueSliderMark:JP},props:{modelValue:{type:[Number,String,Array],default:0},silent:{type:Boolean,default:!1},direction:{type:String,default:"ltr",validator:e=>["ltr","rtl","ttb","btt"].indexOf(e)>-1},width:{type:[Number,String],default:void 0},height:{type:[Number,String],default:void 0},dotSize:{type:[Array,Number],default:14},contained:{type:Boolean,default:!1},min:{type:Number,default:0},max:{type:Number,default:100},interval:{type:Number,default:1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0},dragOnClick:{type:Boolean,default:!0},duration:{type:Number,default:.5},data:{type:[Object,Array],default:void 0},dataValue:{type:String,default:"value"},dataLabel:{type:String,default:"label"},lazy:{type:Boolean,default:!1},tooltip:{type:String,default:"active",validator:e=>["none","always","focus","hover","active"].indexOf(e)>-1},tooltipPlacement:{type:[String,Array],default:void 0,validator:e=>(Array.isArray(e)?e:[e]).every(t=>["top","right","bottom","left"].indexOf(t)>-1)},tooltipFormatter:{type:[String,Array,Function],default:""},useKeyboard:{type:Boolean,default:!0},keydownHook:{type:[Boolean,Function],default:void 0},enableCross:{type:Boolean,default:!0},fixed:{type:Boolean,default:!1},order:{type:Boolean,default:!0},minRange:{type:Number,default:void 0},maxRange:{type:Number,default:void 0},marks:{type:[Boolean,Object,Array,Function],default:!1},process:{type:[Boolean,Function],default:!0},zoom:{type:[Number],default:void 0},included:{type:[Boolean],default:!1},adsorb:{type:[Boolean],default:!1},hideLabel:{type:[Boolean],default:!1},dotOptions:{type:Object,default:void 0},dotAttrs:{type:Object,default:void 0},railStyle:{type:Object,default:null},processStyle:{type:Object,default:null},dotStyle:{type:Object,default:null},tooltipStyle:{type:Object,default:null},stepStyle:{type:Object,default:null},stepActiveStyle:{type:Object,default:null},labelStyle:{type:Object,default:null},labelActiveStyle:{type:Object,default:null}},data(){return{control:null,states:new zee(Wr),scale:1,focusDotIndex:0}},computed:{tailSize(){return h1((this.isHorizontal?this.height:this.width)||k3)},containerClasses(){return["vue-slider",[`vue-slider-${this.direction}`],{"vue-slider-disabled":this.disabled}]},containerStyles(){const[e,t]=Array.isArray(this.dotSize)?this.dotSize:[this.dotSize,this.dotSize],i=this.width?h1(this.width):this.isHorizontal?"auto":h1(k3),a=this.height?h1(this.height):this.isHorizontal?h1(k3):"auto";return{padding:this.contained?`${t/2}px ${e/2}px`:this.isHorizontal?`${t/2}px 0`:`0 ${e/2}px`,width:i,height:a}},processArray(){return this.control.processArray.map(([e,t,i],a)=>{e>t&&([e,t]=[t,e]);const l=this.isHorizontal?"width":"height";return{start:e,end:t,index:a,style:{[this.isHorizontal?"height":"width"]:"100%",[this.isHorizontal?"top":"left"]:0,[this.mainDirection]:`${e}%`,[l]:`${t-e}%`,transitionProperty:`${l},${this.mainDirection}`,transitionDuration:`${this.animateTime}s`,...this.processStyle,...i}}})},dotBaseStyle(){const[e,t]=Array.isArray(this.dotSize)?this.dotSize:[this.dotSize,this.dotSize];let i;return this.isHorizontal?i={transform:`translate(${this.isReverse?"50%":"-50%"}, -50%)`,"-WebkitTransform":`translate(${this.isReverse?"50%":"-50%"}, -50%)`,top:"50%",[this.direction==="ltr"?"left":"right"]:"0"}:i={transform:`translate(-50%, ${this.isReverse?"50%":"-50%"})`,"-WebkitTransform":`translate(-50%, ${this.isReverse?"50%":"-50%"})`,left:"50%",[this.direction==="btt"?"bottom":"top"]:"0"},{width:`${e}px`,height:`${t}px`,...i}},mainDirection(){switch(this.direction){case"ltr":return"left";case"rtl":return"right";case"btt":return"bottom";case"ttb":return"top"}},isHorizontal(){return this.direction==="ltr"||this.direction==="rtl"},isReverse(){return this.direction==="rtl"||this.direction==="btt"},tooltipDirections(){const e=this.tooltipPlacement||(this.isHorizontal?"top":"left");return Array.isArray(e)?e:this.dots.map(()=>e)},dots(){return this.control.dotsPos.map((e,t)=>({pos:e,index:t,value:this.control.dotsValue[t],focus:this.states.has(Wr.Focus)&&this.focusDotIndex===t,disabled:this.disabled,style:this.dotStyle,...(Array.isArray(this.dotOptions)?this.dotOptions[t]:this.dotOptions)||{}}))},animateTime(){return this.states.has(Wr.Drag)?0:this.duration},canSort(){return this.order&&!this.minRange&&!this.maxRange&&!this.fixed&&this.enableCross},sliderData(){return this.isObjectArrayData(this.data)?this.data.map(e=>e[this.dataValue]):this.isObjectData(this.data)?Object.keys(this.data):this.data},sliderMarks(){if(this.marks)return this.marks;if(this.isObjectArrayData(this.data))return e=>{const t={label:e};return this.data.some(i=>i[this.dataValue]===e?(t.label=i[this.dataLabel],!0):!1),t};if(this.isObjectData(this.data))return this.data},sliderTooltipFormatter(){if(this.tooltipFormatter)return this.tooltipFormatter;if(this.isObjectArrayData(this.data))return e=>{let t=""+e;return this.data.some(i=>i[this.dataValue]===e?(t=i[this.dataLabel],!0):!1),t};if(this.isObjectData(this.data)){const e=this.data;return t=>e[t]}},isNotSync(){const e=this.control.dotsValue;return Array.isArray(this.modelValue)?this.modelValue.length!==e.length||this.modelValue.some((t,i)=>t!==e[i]):this.modelValue!==e[0]},dragRange(){const e=this.dots[this.focusDotIndex-1],t=this.dots[this.focusDotIndex+1];return[e?e.pos:-1/0,t?t.pos:1/0]}},created(){this.initControl()},mounted(){this.bindEvent()},beforeUnmount(){this.unbindEvent()},methods:{isObjectData(e){return!!e&&Object.prototype.toString.call(e)==="[object Object]"},isObjectArrayData(e){return!!e&&Array.isArray(e)&&e.length>0&&typeof e[0]=="object"},bindEvent(){document.addEventListener("touchmove",this.dragMove,{passive:!1}),document.addEventListener("touchend",this.dragEnd,{passive:!1}),document.addEventListener("mousedown",this.blurHandle),document.addEventListener("mousemove",this.dragMove,{passive:!1}),document.addEventListener("mouseup",this.dragEnd),document.addEventListener("mouseleave",this.dragEnd),document.addEventListener("keydown",this.keydownHandle)},unbindEvent(){document.removeEventListener("touchmove",this.dragMove),document.removeEventListener("touchend",this.dragEnd),document.removeEventListener("mousedown",this.blurHandle),document.removeEventListener("mousemove",this.dragMove),document.removeEventListener("mouseup",this.dragEnd),document.removeEventListener("mouseleave",this.dragEnd),document.removeEventListener("keydown",this.keydownHandle)},setScale(){const e=new ml(Math.floor(this.isHorizontal?this.$refs.rail.offsetWidth:this.$refs.rail.offsetHeight));this.zoom!==void 0&&e.multiply(this.zoom),e.divide(100),this.scale=e.toNumber()},initControl(){this.control=new jee({value:this.modelValue,data:this.sliderData,enableCross:this.enableCross,fixed:this.fixed,max:this.max,min:this.min,interval:this.interval,minRange:this.minRange,maxRange:this.maxRange,order:this.order,marks:this.sliderMarks,included:this.included,process:this.process,adsorb:this.adsorb,dotOptions:this.dotOptions,onError:this.emitError}),this.syncValueByPos(),["data","enableCross","fixed","max","min","interval","minRange","maxRange","order","marks","process","adsorb","included","dotOptions"].forEach(e=>{this.$watch(e,t=>{if(e==="data"&&Array.isArray(this.control.data)&&Array.isArray(t)&&this.control.data.length===t.length&&t.every((i,a)=>i===this.control.data[a]))return!1;switch(e){case"data":case"dataLabel":case"dataValue":this.control.data=this.sliderData;break;case"mark":this.control.marks=this.sliderMarks;break;default:this.control[e]=t}["data","max","min","interval"].indexOf(e)>-1&&this.control.syncDotsPos()})})},syncValueByPos(){const e=this.control.dotsValue;if(this.isDiff(e,Array.isArray(this.modelValue)?this.modelValue:[this.modelValue])){const t=e.length===1?e[0]:[...e];this.$emit("change",t,this.focusDotIndex),this.$emit("update:modelValue",t,this.focusDotIndex)}},isDiff(e,t){return e.length!==t.length||e.some((i,a)=>i!==t[a])},emitError(e,t){this.silent||console.error(`[VueSlider error]: ${t}`),this.$emit("error",e,t)},dragStartOnProcess(e){if(this.dragOnClick){this.setScale();const t=this.getPosByEvent(e),i=this.control.getRecentDot(t);if(this.dots[i].disabled)return;this.dragStart(i),this.control.setDotPos(t,this.focusDotIndex),this.lazy||this.syncValueByPos()}},dragStart(e){this.focusDotIndex=e,this.setScale(),this.states.add(Wr.Drag),this.states.add(Wr.Focus),this.$emit("drag-start",this.focusDotIndex)},dragMove(e){if(!this.states.has(Wr.Drag))return!1;e.preventDefault();const t=this.getPosByEvent(e);this.isCrossDot(t),this.control.setDotPos(t,this.focusDotIndex),this.lazy||this.syncValueByPos();const i=this.control.dotsValue;this.$emit("dragging",i.length===1?i[0]:[...i],this.focusDotIndex)},isCrossDot(e){if(this.canSort){const t=this.focusDotIndex;let i=e;if(i>this.dragRange[1]?(i=this.dragRange[1],this.focusDotIndex++):i<this.dragRange[0]&&(i=this.dragRange[0],this.focusDotIndex--),t!==this.focusDotIndex){const a=this.$refs[`dot-${this.focusDotIndex}`];a&&a.$el&&a.$el.focus(),this.control.setDotPos(i,t)}}},dragEnd(e){if(!this.states.has(Wr.Drag))return!1;setTimeout(()=>{this.lazy&&this.syncValueByPos(),this.included&&this.isNotSync?this.control.setValue(this.modelValue):this.control.syncDotsPos(),this.states.delete(Wr.Drag),(!this.useKeyboard||"targetTouches"in e)&&this.states.delete(Wr.Focus),this.$emit("drag-end",this.focusDotIndex)})},blurHandle(e){if(!this.states.has(Wr.Focus)||!this.$refs.container||this.$refs.container.contains(e.target))return!1;this.states.delete(Wr.Focus)},clickHandle(e){if(!this.clickable||this.disabled)return!1;if(this.states.has(Wr.Drag))return;this.setScale();const t=this.getPosByEvent(e);this.setValueByPos(t)},focus(e=0){this.states.add(Wr.Focus),this.focusDotIndex=e},blur(){this.states.delete(Wr.Focus)},getValue(){const e=this.control.dotsValue;return e.length===1?e[0]:e},getIndex(){const e=this.control.dotsIndex;return e.length===1?e[0]:e},setValue(e){this.control.setValue(Array.isArray(e)?[...e]:[e]),this.syncValueByPos()},setIndex(e){const t=Array.isArray(e)?e.map(i=>this.control.getValueByIndex(i)):this.control.getValueByIndex(e);this.setValue(t)},setValueByPos(e){const t=this.control.getRecentDot(e);if(this.disabled||this.dots[t].disabled)return!1;this.focusDotIndex=t,this.control.setDotPos(e,t),this.syncValueByPos(),this.useKeyboard&&this.states.add(Wr.Focus),setTimeout(()=>{this.included&&this.isNotSync?this.control.setValue(this.modelValue):this.control.syncDotsPos()})},keydownHandle(e){if(!this.useKeyboard||!this.states.has(Wr.Focus))return!1;const t=this.included&&this.marks,i=Dee(e,{direction:this.direction,max:t?this.control.markList.length-1:this.control.total,min:0,hook:this.keydownHook});if(i){e.preventDefault();let a=-1,l=0;t?(this.control.markList.some((c,y)=>c.value===this.control.dotsValue[this.focusDotIndex]?(a=i(y),!0):!1),a<0?a=0:a>this.control.markList.length-1&&(a=this.control.markList.length-1),l=this.control.markList[a].pos):(a=i(this.control.getIndexByValue(this.control.dotsValue[this.focusDotIndex])),l=this.control.parseValue(this.control.getValueByIndex(a))),this.isCrossDot(l),this.control.setDotPos(l,this.focusDotIndex),this.syncValueByPos()}},getPosByEvent(e){return Lee(e,this.$refs.rail,this.isReverse)[this.isHorizontal?"x":"y"]/this.scale}},watch:{modelValue:{handler(){this.control&&!this.states.has(Wr.Drag)&&this.isNotSync&&(this.control.setValue(this.modelValue),this.syncValueByPos())},deep:!0}}},Nee={key:0,class:"vue-slider-marks"};function $ee(e,t,i,a,l,c){const y=Mi("VueSliderMark"),n=Mi("VueSliderDot");return ge(),Je("div",Ze({ref:"container",class:c.containerClasses,style:c.containerStyles,onClick:t[0]||(t[0]=(...x)=>c.clickHandle&&c.clickHandle(...x)),onTouchstartPassive:t[1]||(t[1]=(...x)=>c.dragStartOnProcess&&c.dragStartOnProcess(...x)),onMousedown:t[2]||(t[2]=(...x)=>c.dragStartOnProcess&&c.dragStartOnProcess(...x))},e.$attrs),[Se("div",{ref:"rail",class:"vue-slider-rail",style:Mr(i.railStyle)},[(ge(!0),Je(Ri,null,wo(c.processArray,(x,C)=>mi(e.$slots,"process",Ze({ref_for:!0},{...x}),()=>[(ge(),Je("div",{class:"vue-slider-process",key:`process-${C}`,style:Mr(x.style)},null,4))])),256)),c.sliderMarks?(ge(),Je("div",Nee,[(ge(!0),Je(Ri,null,wo(l.control.markList,(x,C)=>mi(e.$slots,"mark",Ze({ref_for:!0},{...x}),()=>[(ge(),Vt(y,{key:`mark-${C}`,mark:x,hideLabel:i.hideLabel,style:Mr({[c.isHorizontal?"height":"width"]:"100%",[c.isHorizontal?"width":"height"]:c.tailSize,[c.mainDirection]:`${x.pos}%`}),stepStyle:i.stepStyle,stepActiveStyle:i.stepActiveStyle,labelStyle:i.labelStyle,labelActiveStyle:i.labelActiveStyle,onPressLabel:k=>i.clickable&&c.setValueByPos(k)},{step:ti(()=>[mi(e.$slots,"step",Ze({ref_for:!0},{...x}))]),label:ti(()=>[mi(e.$slots,"label",Ze({ref_for:!0},{...x}))]),_:2},1032,["mark","hideLabel","style","stepStyle","stepActiveStyle","labelStyle","labelActiveStyle","onPressLabel"]))])),256))])):Zt("",!0),(ge(!0),Je(Ri,null,wo(c.dots,(x,C)=>(ge(),Je(Ri,null,[kt(n,Ze({ref_for:!0,ref:`dot-${C}`,value:x.value,disabled:x.disabled,focus:x.focus,"dot-style":[x.style,x.disabled?x.disabledStyle:null,x.focus?x.focusStyle:null],tooltip:x.tooltip||i.tooltip,"tooltip-style":[i.tooltipStyle,x.tooltipStyle,x.disabled?x.tooltipDisabledStyle:null,x.focus?x.tooltipFocusStyle:null],"tooltip-formatter":Array.isArray(c.sliderTooltipFormatter)?c.sliderTooltipFormatter[C]:c.sliderTooltipFormatter,"tooltip-placement":c.tooltipDirections[C],style:[c.dotBaseStyle,{[c.mainDirection]:`${x.pos}%`,transition:`${c.mainDirection} ${c.animateTime}s`}],"onDrag-start":()=>c.dragStart(C),role:"slider","aria-valuenow":x.value,"aria-valuemin":this.min,"aria-valuemax":this.max,"aria-orientation":this.isHorizontal?"horizontal":"vertical",tabindex:"0",nativeOnFocus:()=>!x.disabled&&c.focus(C),nativeOnBlur:()=>c.blur()},{...i.dotAttrs}),{dot:ti(()=>[mi(e.$slots,"dot",Ze({ref_for:!0},{...x}))]),tooltip:ti(()=>[mi(e.$slots,"tooltip",Ze({ref_for:!0},{...x}))]),_:2},1040,["value","disabled","focus","dot-style","tooltip","tooltip-style","tooltip-formatter","tooltip-placement","style","onDrag-start","aria-valuenow","aria-valuemin","aria-valuemax","aria-orientation","nativeOnFocus","nativeOnBlur"]),mi(e.$slots,"default",Ze({ref_for:!0},{value:c.getValue()}))],64))),256))],4)],16)}const h2=_5(Vee,[["render",$ee]]);h2.VueSliderMark=JP;h2.VueSliderDot=XP;const Uee={key:0,class:"reset-filters"},Gee={id:"map-filters"},Hee={class:"filter"},qee=to({__name:"TheMapFilters",setup(e){const t=wr();ai(t.waterProvisionFilter);const i=[{label:"Alabama",value:"AL"},{label:"Arizona",value:"AZ"},{label:"Arkansas",value:"AR"},{label:"California",value:"CA"},{label:"Colorado",value:"CO"},{label:"Connecticut",value:"CT"},{label:"Delaware",value:"DE"},{label:"Florida",value:"FL"},{label:"Georgia",value:"GA"},{label:"Idaho",value:"ID"},{label:"Illinois",value:"IL"},{label:"Indiana",value:"IN"},{label:"Iowa",value:"IA"},{label:"Kansas",value:"KS"},{label:"Kentucky",value:"KY"},{label:"Louisiana",value:"LA"},{label:"Maine",value:"ME"},{label:"Maryland",value:"MD"},{label:"Massachusetts",value:"MA"},{label:"Michigan",value:"MI"},{label:"Minnesota",value:"MN"},{label:"Mississippi",value:"MS"},{label:"Missouri",value:"MO"},{label:"Montana",value:"MT"},{label:"Nebraska",value:"NE"},{label:"Nevada",value:"NV"},{label:"New Hampshire",value:"NH"},{label:"New Jersey",value:"NJ"},{label:"New Mexico",value:"NM"},{label:"New York",value:"NY"},{label:"North Carolina",value:"NC"},{label:"North Dakota",value:"ND"},{label:"Ohio",value:"OH"},{label:"Oklahoma",value:"OK"},{label:"Oregon",value:"OR"},{label:"Pennsylvania",value:"PA"},{label:"Rhode Island",value:"RI"},{label:"South Carolina",value:"SC"},{label:"South Dakota",value:"SD"},{label:"Tennessee",value:"TN"},{label:"Texas",value:"TX"},{label:"Utah",value:"UT"},{label:"Vermont",value:"VT"},{label:"Virginia",value:"VA"},{label:"Washington",value:"WA"},{label:"West Virginia",value:"WV"},{label:"Wisconsin",value:"WI"},{label:"Wyoming",value:"WY"}];return(a,l)=>(ge(),Je(Ri,null,[l[5]||(l[5]=Se("h3",null,"Filter Areas",-1)),l[6]||(l[6]=Se("p",{class:"small"},"Combine filters to narrow areas shown on the map.",-1)),dt(t).areThereActiveFilters?(ge(),Je("div",Uee,[Se("button",{onClick:l[0]||(l[0]=(...c)=>dt(t).resetFilters&&dt(t).resetFilters(...c)),class:"reset-filters-button"},l[3]||(l[3]=[Se("i",{class:"fa-solid fa-xmark"},null,-1),Ei(" Reset Filters ")]))])):Zt("",!0),Se("div",Gee,[kt(dt(QP),{id:"state-filter",modelValue:dt(t).mapFilters.state,"onUpdate:modelValue":l[1]||(l[1]=c=>dt(t).mapFilters.state=c),options:i,optionLabel:"label",optionValue:"value",placeholder:"Select a State",size:"small",showclear:!0,clearIcon:"x",showToggleAll:!1,class:"map-state-dropdown dropdown"},null,8,["modelValue"]),Se("div",Hee,[kt(dt(i_),{modelValue:dt(t).mapFilters.forestLegacyArea,"onUpdate:modelValue":l[2]||(l[2]=c=>dt(t).mapFilters.forestLegacyArea=c),binary:"",id:"forest-legacy-areas-filter"},null,8,["modelValue"]),l[4]||(l[4]=Se("label",{for:"forest-legacy-areas-filter"},"Forest Legacy Areas",-1))]),kt(rp,{title:"% Unsecured Forest",short_name:"carbon",selectedValue:"unprotectedForestExtent",values:["all",25,50,75,90],labels:["ALL","25%","50%","75%","90%"]}),kt(rp,{title:"Land Cost ($/ac)",short_name:"carbon",selectedValue:"landCost",values:["all",500,1e3,2500,5e3],labels:["ALL","< $500","< $1000","< $2500","< $5000"]}),kt(rp,{title:"Carbon Cost ($/ton)",short_name:"carbon",selectedValue:"usd_per_ton_c_25_mean",values:["all",500,1e3,2500,5e3],labels:["ALL","< $500","< $1000","< $2500","< $5000"]}),kt(rp,{title:"% Resilient and Connected Network",short_name:"",selectedValue:"rcn",values:["all",5,8,10,12],labels:["ALL","25%","50%","75%","90%"]}),kt(rp,{title:"Forest Water Provision",short_name:"carbon",selectedValue:"waterProvision",values:["all",20,40,60,80],labels:["ALL","Low","Med","High","V High"]}),kt(rp,{title:"Mean Annual Historic Forest Conversion",short_name:"carbon",selectedValue:"t_conv_past_all_mean_p",values:["all",.05,.1,.25,.5,1],labels:["ALL","0.05%","0.1%","0.25%","0.5%","1%"]})])],64))}}),Wee=Vo(qee,[["__scopeId","data-v-f7065785"]]);var Kee={name:"Dropdown",extends:lu,mounted:function(){console.warn("Deprecated since v4. Use Select component instead.")}};const Zee={key:0,id:"map-legend",class:"map-legend"},Qee={class:"legend-header"},Xee={class:"active-layer-title"},Jee={class:"legend-body"},Yee={key:1,class:"map-legend"},ete=to({__name:"TheMapLegend",setup(e){const t=wr(),i=mo();let a=ai(!1);return ai(0),ai("TheMapFilters"),(l,c)=>(ge(),Je(Ri,null,[dt(i).activeMapSection==="explore"?(ge(),Je("div",Zee,[Se("div",Qee,[Se("div",Xee,li(dt(t).activeLayerMetadata.label),1),dt(a)?Zt("",!0):(ge(),Je("button",{key:0,onClick:c[0]||(c[0]=y=>xo(a)?a.value=!dt(a):a=!dt(a)),class:"legend-button"},c[2]||(c[2]=[Se("i",{class:"fa-solid fa-angle-up"},null,-1),Ei(" Map Layers ")]))),dt(a)?(ge(),Je("button",{key:1,onClick:c[1]||(c[1]=y=>xo(a)?a.value=!dt(a):a=!dt(a)),class:"legend-button"},c[3]||(c[3]=[Se("i",{class:"fa-solid fa-angle-down"},null,-1),Ei(" Map Layers ")]))):Zt("",!0)]),Se("div",Jee,[Se("div",{class:Ii(["legend-body-inner",{open:dt(a)}])},[kt(IY)],2)]),kt(DY)])):Zt("",!0),dt(i).activeMapSection==="analyze"?(ge(),Je("div",Yee,c[4]||(c[4]=[Se("div",{class:"analysis-areas"},[Se("span",{class:"analysis-areas-symbology"}),Se("span",{class:"analysis-areas-title active-layer-title"}," Analysis Areas ")],-1)]))):Zt("",!0)],64))}}),tte=Vo(ete,[["__scopeId","data-v-aff367f2"]]);var ite=In.extend({name:"focustrap-directive"}),nte=Vn.extend({style:ite});function bg(e){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bg(e)}function yE(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),i.push.apply(i,a)}return i}function bE(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?yE(Object(i),!0).forEach(function(a){ote(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):yE(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function ote(e,t,i){return(t=rte(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function rte(e){var t=ate(e,"string");return bg(t)=="symbol"?t:t+""}function ate(e,t){if(bg(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t||"default");if(bg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y5=nte.extend("focustrap",{mounted:function(t,i){var a=i.value||{},l=a.disabled;l||(this.createHiddenFocusableElements(t,i),this.bind(t,i),this.autoElementFocus(t,i)),t.setAttribute("data-pd-focustrap",!0),this.$el=t},updated:function(t,i){var a=i.value||{},l=a.disabled;l&&this.unbind(t)},unmounted:function(t){this.unbind(t)},methods:{getComputedSelector:function(t){return':not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])'.concat(t??"")},bind:function(t,i){var a=this,l=i.value||{},c=l.onFocusIn,y=l.onFocusOut;t.$_pfocustrap_mutationobserver=new MutationObserver(function(n){n.forEach(function(x){if(x.type==="childList"&&!t.contains(document.activeElement)){var C=function(O){var B=$9(O)?$9(O,a.getComputedSelector(t.$_pfocustrap_focusableselector))?O:Nd(t,a.getComputedSelector(t.$_pfocustrap_focusableselector)):Nd(O);return Bn(B)?B:O.nextSibling&&C(O.nextSibling)};Zo(C(x.nextSibling))}})}),t.$_pfocustrap_mutationobserver.disconnect(),t.$_pfocustrap_mutationobserver.observe(t,{childList:!0}),t.$_pfocustrap_focusinlistener=function(n){return c&&c(n)},t.$_pfocustrap_focusoutlistener=function(n){return y&&y(n)},t.addEventListener("focusin",t.$_pfocustrap_focusinlistener),t.addEventListener("focusout",t.$_pfocustrap_focusoutlistener)},unbind:function(t){t.$_pfocustrap_mutationobserver&&t.$_pfocustrap_mutationobserver.disconnect(),t.$_pfocustrap_focusinlistener&&t.removeEventListener("focusin",t.$_pfocustrap_focusinlistener)&&(t.$_pfocustrap_focusinlistener=null),t.$_pfocustrap_focusoutlistener&&t.removeEventListener("focusout",t.$_pfocustrap_focusoutlistener)&&(t.$_pfocustrap_focusoutlistener=null)},autoFocus:function(t){this.autoElementFocus(this.$el,{value:bE(bE({},t),{},{autoFocus:!0})})},autoElementFocus:function(t,i){var a=i.value||{},l=a.autoFocusSelector,c=l===void 0?"":l,y=a.firstFocusableSelector,n=y===void 0?"":y,x=a.autoFocus,C=x===void 0?!1:x,k=Nd(t,"[autofocus]".concat(this.getComputedSelector(c)));C&&!k&&(k=Nd(t,this.getComputedSelector(n))),Zo(k)},onFirstHiddenElementFocus:function(t){var i,a=t.currentTarget,l=t.relatedTarget,c=l===a.$_pfocustrap_lasthiddenfocusableelement||!((i=this.$el)!==null&&i!==void 0&&i.contains(l))?Nd(a.parentElement,this.getComputedSelector(a.$_pfocustrap_focusableselector)):a.$_pfocustrap_lasthiddenfocusableelement;Zo(c)},onLastHiddenElementFocus:function(t){var i,a=t.currentTarget,l=t.relatedTarget,c=l===a.$_pfocustrap_firsthiddenfocusableelement||!((i=this.$el)!==null&&i!==void 0&&i.contains(l))?b6(a.parentElement,this.getComputedSelector(a.$_pfocustrap_focusableselector)):a.$_pfocustrap_firsthiddenfocusableelement;Zo(c)},createHiddenFocusableElements:function(t,i){var a=this,l=i.value||{},c=l.tabIndex,y=c===void 0?0:c,n=l.firstFocusableSelector,x=n===void 0?"":n,C=l.lastFocusableSelector,k=C===void 0?"":C,O=function(G){return A1("span",{class:"p-hidden-accessible p-hidden-focusable",tabIndex:y,role:"presentation","aria-hidden":!0,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:G==null?void 0:G.bind(a)})},B=O(this.onFirstHiddenElementFocus),L=O(this.onLastHiddenElementFocus);B.$_pfocustrap_lasthiddenfocusableelement=L,B.$_pfocustrap_focusableselector=x,B.setAttribute("data-pc-section","firstfocusableelement"),L.$_pfocustrap_firsthiddenfocusableelement=B,L.$_pfocustrap_focusableselector=k,L.setAttribute("data-pc-section","lastfocusableelement"),t.prepend(B),t.append(L)}}}),ste=function(t){var i=t.dt;return`
.p-popover {
    margin-top: `.concat(i("popover.gutter"),`;
    background: `).concat(i("popover.background"),`;
    color: `).concat(i("popover.color"),`;
    border: 1px solid `).concat(i("popover.border.color"),`;
    border-radius: `).concat(i("popover.border.radius"),`;
    box-shadow: `).concat(i("popover.shadow"),`;
}

.p-popover-content {
    padding: `).concat(i("popover.content.padding"),`;
}

.p-popover-flipped {
    margin-top: calc(`).concat(i("popover.gutter"),` * -1);
    margin-bottom: `).concat(i("popover.gutter"),`;
}

.p-popover-enter-from {
    opacity: 0;
    transform: scaleY(0.8);
}

.p-popover-leave-to {
    opacity: 0;
}

.p-popover-enter-active {
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1), opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-popover-leave-active {
    transition: opacity 0.1s linear;
}

.p-popover:after,
.p-popover:before {
    bottom: 100%;
    left: calc(`).concat(i("popover.arrow.offset")," + ").concat(i("popover.arrow.left"),`);
    content: " ";
    height: 0;
    width: 0;
    position: absolute;
    pointer-events: none;
}

.p-popover:after {
    border-width: calc(`).concat(i("popover.gutter"),` - 2px);
    margin-left: calc(-1 * (`).concat(i("popover.gutter"),` - 2px));
    border-style: solid;
    border-color: transparent;
    border-bottom-color: `).concat(i("popover.background"),`;
}

.p-popover:before {
    border-width: `).concat(i("popover.gutter"),`;
    margin-left: calc(-1 * `).concat(i("popover.gutter"),`);
    border-style: solid;
    border-color: transparent;
    border-bottom-color: `).concat(i("popover.border.color"),`;
}

.p-popover-flipped:after,
.p-popover-flipped:before {
    bottom: auto;
    top: 100%;
}

.p-popover.p-popover-flipped:after {
    border-bottom-color: transparent;
    border-top-color: `).concat(i("popover.background"),`;
}

.p-popover.p-popover-flipped:before {
    border-bottom-color: transparent;
    border-top-color: `).concat(i("popover.border.color"),`;
}
`)},cte={root:"p-popover p-component",content:"p-popover-content"},lte=In.extend({name:"popover",theme:ste,classes:cte}),dte={name:"BasePopover",extends:Tn,props:{dismissable:{type:Boolean,default:!0},appendTo:{type:[String,Object],default:"body"},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0},breakpoints:{type:Object,default:null},closeOnEscape:{type:Boolean,default:!0}},style:lte,provide:function(){return{$pcPopover:this,$parentInstance:this}}},Dh={name:"Popover",extends:dte,inheritAttrs:!1,emits:["show","hide"],data:function(){return{visible:!1}},watch:{dismissable:{immediate:!0,handler:function(t){t?this.bindOutsideClickListener():this.unbindOutsideClickListener()}}},selfClick:!1,target:null,eventTarget:null,outsideClickListener:null,scrollHandler:null,resizeListener:null,container:null,styleElement:null,overlayEventListener:null,documentKeydownListener:null,beforeUnmount:function(){this.dismissable&&this.unbindOutsideClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.destroyStyle(),this.unbindResizeListener(),this.target=null,this.container&&this.autoZIndex&&Zr.clear(this.container),this.overlayEventListener&&(ss.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null),this.container=null},mounted:function(){this.breakpoints&&this.createStyle()},methods:{toggle:function(t,i){this.visible?this.hide():this.show(t,i)},show:function(t,i){this.visible=!0,this.eventTarget=t.currentTarget,this.target=i||t.currentTarget},hide:function(){this.visible=!1},onContentClick:function(){this.selfClick=!0},onEnter:function(t){var i=this;this.container.setAttribute(this.attributeSelector,""),kh(t,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.dismissable&&this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.autoZIndex&&Zr.set("overlay",t,this.baseZIndex+this.$primevue.config.zIndex.overlay),this.overlayEventListener=function(a){i.container.contains(a.target)&&(i.selfClick=!0)},this.focus(),ss.on("overlay-click",this.overlayEventListener),this.$emit("show"),this.closeOnEscape&&this.bindDocumentKeyDownListener()},onLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.unbindDocumentKeyDownListener(),ss.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null,this.$emit("hide")},onAfterLeave:function(t){this.autoZIndex&&Zr.clear(t)},alignOverlay:function(){O2(this.container,this.target,!1);var t=$d(this.container),i=$d(this.target),a=0;t.left<i.left&&(a=i.left-t.left),this.container.style.setProperty(PD("popover.arrow.left").name,"".concat(a,"px")),t.top<i.top&&(this.container.setAttribute("data-p-popover-flipped","true"),!this.isUnstyled&&vl(this.container,"p-popover-flipped"))},onContentKeydown:function(t){t.code==="Escape"&&this.closeOnEscape&&(this.hide(),Zo(this.target))},onButtonKeydown:function(t){switch(t.code){case"ArrowDown":case"ArrowUp":case"ArrowLeft":case"ArrowRight":t.preventDefault()}},focus:function(){var t=this.container.querySelector("[autofocus]");t&&t.focus()},onKeyDown:function(t){t.code==="Escape"&&this.closeOnEscape&&(this.visible=!1)},bindDocumentKeyDownListener:function(){this.documentKeydownListener||(this.documentKeydownListener=this.onKeyDown.bind(this),window.document.addEventListener("keydown",this.documentKeydownListener))},unbindDocumentKeyDownListener:function(){this.documentKeydownListener&&(window.document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)},bindOutsideClickListener:function(){var t=this;!this.outsideClickListener&&w6()&&(this.outsideClickListener=function(i){t.visible&&!t.selfClick&&!t.isTargetClicked(i)&&(t.visible=!1),t.selfClick=!1},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null,this.selfClick=!1)},bindScrollListener:function(){var t=this;this.scrollHandler||(this.scrollHandler=new $g(this.target,function(){t.visible&&(t.visible=!1)})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var t=this;this.resizeListener||(this.resizeListener=function(){t.visible&&!Vg()&&(t.visible=!1)},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isTargetClicked:function(t){return this.eventTarget&&(this.eventTarget===t.target||this.eventTarget.contains(t.target))},containerRef:function(t){this.container=t},createStyle:function(){if(!this.styleElement&&!this.isUnstyled){var t;this.styleElement=document.createElement("style"),this.styleElement.type="text/css",Ng(this.styleElement,"nonce",(t=this.$primevue)===null||t===void 0||(t=t.config)===null||t===void 0||(t=t.csp)===null||t===void 0?void 0:t.nonce),document.head.appendChild(this.styleElement);var i="";for(var a in this.breakpoints)i+=`
                        @media screen and (max-width: `.concat(a,`) {
                            .p-popover[`).concat(this.attributeSelector,`] {
                                width: `).concat(this.breakpoints[a],` !important;
                            }
                        }
                    `);this.styleElement.innerHTML=i}},destroyStyle:function(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)},onOverlayClick:function(t){ss.emit("overlay-click",{originalEvent:t,target:this.target})}},computed:{attributeSelector:function(){return hr()}},directives:{focustrap:y5,ripple:Bs},components:{Portal:s0}},ute=["aria-modal"];function hte(e,t,i,a,l,c){var y=Mi("Portal"),n=Nr("focustrap");return ge(),Vt(y,{appendTo:e.appendTo},{default:ti(function(){return[kt(e0,Ze({name:"p-popover",onEnter:c.onEnter,onLeave:c.onLeave,onAfterLeave:c.onAfterLeave},e.ptm("transition")),{default:ti(function(){return[l.visible?Qo((ge(),Je("div",Ze({key:0,ref:c.containerRef,role:"dialog","aria-modal":l.visible,onClick:t[3]||(t[3]=function(){return c.onOverlayClick&&c.onOverlayClick.apply(c,arguments)}),class:e.cx("root")},e.ptmi("root")),[e.$slots.container?mi(e.$slots,"container",{key:0,closeCallback:c.hide,keydownCallback:function(C){return c.onButtonKeydown(C)}}):(ge(),Je("div",Ze({key:1,class:e.cx("content"),onClick:t[0]||(t[0]=function(){return c.onContentClick&&c.onContentClick.apply(c,arguments)}),onMousedown:t[1]||(t[1]=function(){return c.onContentClick&&c.onContentClick.apply(c,arguments)}),onKeydown:t[2]||(t[2]=function(){return c.onContentKeydown&&c.onContentKeydown.apply(c,arguments)})},e.ptm("content")),[mi(e.$slots,"default")],16))],16,ute)),[[n]]):Zt("",!0)]}),_:3},16,["onEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])}Dh.render=hte;const fte={class:"df-button"},pte=["innerHTML"],mte={class:"label"},gte=to({__name:"Button",props:{label:{},name:{},icon:{}},setup(e){mo();const t=e;return(i,a)=>(ge(),Je("button",fte,[Se("span",{class:"icon",innerHTML:t.icon},null,8,pte),Se("span",mte,li(t.label),1)]))}}),vE=Vo(gte,[["__scopeId","data-v-127e6ef2"]]),_te=to({__name:"TheAddAreasBySelectPane",setup(e){mo(),vr();const t=wr();return ai(null),ai([{name:"Counties",value:"counties"},{name:"Watersheds",value:"watersheds"}]),(i,a)=>(ge(),Je(Ri,null,[a[1]||(a[1]=Se("h3",null,"Select Areas",-1)),a[2]||(a[2]=Se("p",null," Choose counties or 12-digit watersheds to analyze, then click map to select ",-1)),kt(dt(lu),{id:"summary-level",modelValue:dt(t).mapSummaryLevelSelected,"onUpdate:modelValue":a[0]||(a[0]=l=>dt(t).mapSummaryLevelSelected=l),options:dt(t).mapSummaryLevelOptions,optionLabel:"label",placeholder:"Select Summary Level",class:"map-summary-level-dropdown dropdown map-select-dropdown"},null,8,["modelValue","options"])],64))}}),yte=Vo(_te,[["__scopeId","data-v-56667ab2"]]),bte={id:"explore-actions-pane"},vte={class:"button-panel"},xte=to({__name:"TheExploreActionsPane",setup(e){mo(),ai();const t=ai(),i=ai(),a=c=>{t.value.toggle(c)},l=c=>{i.value.toggle(c)};return(c,y)=>(ge(),Je("div",bte,[Se("div",vte,[kt(vE,{label:"Select Summary Layer",name:"select",icon:'<i class="fa-solid fa-bullseye-pointer map-action-icon"></i>',onClick:a}),kt(vE,{label:"Filter Map Areas",name:"filter",icon:'<i class="fa-solid fa-filter map-action-icon"></i>',onClick:l})]),kt(dt(Dh),{ref_key:"showSelect",ref:t,class:"explore-popover"},{default:ti(()=>[kt(yte)]),_:1},512),kt(dt(Dh),{ref_key:"showFilters",ref:i,class:"explore-popover"},{default:ti(()=>[kt(Wee)]),_:1},512)]))}}),wte=Vo(xte,[["__scopeId","data-v-48de8a86"]]),Fte={class:"analyze-actions-pane"},Cte=to({__name:"TheAnalyzeActionsPane",setup(e){mo();const t=wr();return ai(),ai(),ai(),(i,a)=>(ge(),Je("div",Fte,[kt(dt(Kee),{id:"basemap",modelValue:dt(t).mapBasemapSelected,"onUpdate:modelValue":a[0]||(a[0]=l=>dt(t).mapBasemapSelected=l),options:dt(t).mapBasemapOptions,optionLabel:"label",placeholder:"Select Basemap",class:"map-basemap-dropdown dropdown"},null,8,["modelValue","options"])]))}}),Ete=Vo(Cte,[["__scopeId","data-v-d028479d"]]),Ste={id:"map"},Tte={class:"map-actions"},Rte={key:0,class:"map-legend-outer"},Pte={class:"map-legend-container shadow-2"},Ite=to({name:"Map",__name:"TheMapboxMap",setup(e){const t=wr(),i=mo(),a=OV(),l=Li(()=>a.path);return Bh(()=>{t.map?(console.log("map already initialized"),t.map.resize()):t.initMap()}),(c,y)=>(ge(),Je(Ri,null,[Se("div",Ste,[Se("div",Tte,[dt(i).activeMapSection==="explore"?(ge(),Vt(wte,{key:0})):dt(i).activeMapSection==="analyze"?(ge(),Vt(Ete,{key:1})):Zt("",!0)]),l.value=="/map"?(ge(),Je("div",Rte,[Se("div",Pte,[kt(tte)])])):Zt("",!0)]),y[0]||(y[0]=Se("div",{id:"info"},null,-1))],64))}}),kte={class:"location-info"},Mte={class:"breadcrumb"},Ate={class:"state-name"},Ote={class:"area-name"},Lte={class:"area-size"},Dte=to({__name:"LocationInformation",props:{locationInfo:{}},setup(e){const t=e,i=Li(()=>t.locationInfo.state_names.join(", "));return(a,l)=>(ge(),Je("div",kte,[Se("div",Mte,[Se("span",Ate,li(i.value)+" >",1)]),Se("h1",Ote,li(a.locationInfo.area_name),1),Se("span",Lte,li(a.locationInfo.area_ac.string)+" acres",1)]))}}),Bte=Vo(Dte,[["__scopeId","data-v-80211d6c"]]),jte=to({__name:"ChangeMapLayerButton",props:{name:{},map_layer_name:{}},setup(e){const t=mo(),i=wr(),a=e,l=c=>{i.mapLayerSelected=c};return(c,y)=>{const n=Nr("tooltip");return dt(t).activeMapSection==="explore"?Qo((ge(),Je("button",{key:0,class:"change-map-layer-button",onClick:y[0]||(y[0]=x=>l(a.map_layer_name))},y[1]||(y[1]=[Se("span",{class:"icon"},[Se("i",{class:"fa-regular fa-map"})],-1)]))),[[n,"Show "+c.name+" on map"]]):Zt("",!0)}}}),f2=Vo(jte,[["__scopeId","data-v-e4aceba8"]]),zte={class:"summary-card"},Vte=["id"],Nte={key:0},$te={class:"value"},Ute=to({__name:"SummaryCardPlain",props:{title:{},metadata_id:{},value:{},state_rank:{},state_total:{},map_layer_name:{}},setup(e){const t=mo(),i=e,a=Li(()=>i.metadata_id?"title-tooltip":"");return(l,c)=>{const y=Nr("tooltip");return ge(),Je("div",zte,[Se("span",{class:"metric-title",id:`summary-card-${l.map_layer_name}`},[Qo((ge(),Je("span",{class:Ii(["title",a.value]),onClick:c[0]||(c[0]=n=>dt(t).showMetadata(l.metadata_id))},[Ei(li(l.title),1)],2)),[[y,`Show metadata for ${l.title}`]]),i.map_layer_name?(ge(),Je("span",Nte,[kt(f2,{map_layer_name:l.map_layer_name,name:l.title},null,8,["map_layer_name","name"])])):Zt("",!0)],8,Vte),Se("span",$te,li(l.value),1),mi(l.$slots,"details",{},void 0,!0)])}}}),Ms=Vo(Ute,[["__scopeId","data-v-03b4ede4"]]),Gte={class:"section-summary-card box-shadow-2",id:"opportunity-overview"},Hte={class:"grid-container-interior"},qte={class:"col-12-sm col-6-md interior"},Wte={class:"col-12-sm col-6-md interior"},Kte={class:"programs"},Zte={key:0},Qte={key:1},YP=to({__name:"SummarySectionOpportunity",props:{metrics:{}},setup(e){const t=mo();return(i,a)=>(ge(),Je("div",Gte,[a[12]||(a[12]=Se("h3",{class:"overview-background"},"Opportunity",-1)),Se("div",Hte,[Se("div",qte,[kt(Ms,{title:"% Unsecured Forest",metadata_id:"unsecured_forest_percent",value:`${i.metrics.unprotectedForestPercent.value}%`,state_rank:"35",state_total:"100",map_layer_name:"c_unprot_for_extent"},null,8,["value"])]),Se("div",Wte,[kt(Ms,{title:"Unsecured Forest (acres)",value:i.metrics.unprotectedForestAcres.string,state_rank:"35",state_total:"100",content:"Lorem ipsum dolor"},null,8,["value"])])]),Se("div",Kte,[a[9]||(a[9]=Se("hr",null,null,-1)),a[10]||(a[10]=Se("h4",null,"Land Cost",-1)),Se("p",null,[a[3]||(a[3]=Ei(" The average ")),Se("span",{id:"land-cost-tooltip",class:"title-tooltip",onClick:a[0]||(a[0]=l=>dt(t).showMetadata("land_cost"))},"land cost"),a[4]||(a[4]=Ei(" within this area is ")),Se("strong",null,"$"+li(i.metrics.landCostMean.string)+" per acre",1),kt(f2,{map_layer_name:"land_cost",name:"Land Cost"}),a[5]||(a[5]=Ei(" . "))]),a[11]||(a[11]=Se("h4",null,"Programs",-1)),i.metrics.forestLegacySummary.percent>0?(ge(),Je("p",Zte,[Ei(" The area contains "+li(i.metrics.forestLegacySummary.percent)+"% overlap with ",1),Se("span",{class:"title-tooltip",onClick:a[1]||(a[1]=l=>dt(t).showMetadata("forest_legacy_percent"))},"forest legacy areas"),kt(f2,{map_layer_name:"opp_forest_legacy_areas",name:"Forest Legacy Areas"}),a[6]||(a[6]=Ei(", indicating forest protection may be eligible for the Forest Legacy Program. Project tracts must additionally have a minimum of 75% forestland or a plan to reforest. "))])):(ge(),Je("p",Qte,[a[7]||(a[7]=Ei(" The area contains 0% overlap with ")),Se("span",{class:"title-tooltip",onClick:a[2]||(a[2]=l=>dt(t).showMetadata("forest_legacy_percent"))},"forest legacy areas"),a[8]||(a[8]=Ei(", indicating forest protection may not be eligible for the Forest Legacy Program. "))]))])]))}});var eI={name:"WindowMaximizeIcon",extends:Ro};function Xte(e,t,i,a,l,c){return ge(),Je("svg",Ze({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),t[0]||(t[0]=[Se("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z",fill:"currentColor"},null,-1)]),16)}eI.render=Xte;var tI={name:"WindowMinimizeIcon",extends:Ro};function Jte(e,t,i,a,l,c){return ge(),Je("svg",Ze({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),t[0]||(t[0]=[Se("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z",fill:"currentColor"},null,-1)]),16)}tI.render=Jte;var Yte=function(t){var i=t.dt;return`
.p-badge {
    display: inline-flex;
    border-radius: `.concat(i("badge.border.radius"),`;
    align-items: center;
    justify-content: center;
    padding: `).concat(i("badge.padding"),`;
    background: `).concat(i("badge.primary.background"),`;
    color: `).concat(i("badge.primary.color"),`;
    font-size: `).concat(i("badge.font.size"),`;
    font-weight: `).concat(i("badge.font.weight"),`;
    min-width: `).concat(i("badge.min.width"),`;
    height: `).concat(i("badge.height"),`;
}

.p-badge-dot {
    width: `).concat(i("badge.dot.size"),`;
    min-width: `).concat(i("badge.dot.size"),`;
    height: `).concat(i("badge.dot.size"),`;
    border-radius: 50%;
    padding: 0;
}

.p-badge-circle {
    padding: 0;
    border-radius: 50%;
}

.p-badge-secondary {
    background: `).concat(i("badge.secondary.background"),`;
    color: `).concat(i("badge.secondary.color"),`;
}

.p-badge-success {
    background: `).concat(i("badge.success.background"),`;
    color: `).concat(i("badge.success.color"),`;
}

.p-badge-info {
    background: `).concat(i("badge.info.background"),`;
    color: `).concat(i("badge.info.color"),`;
}

.p-badge-warn {
    background: `).concat(i("badge.warn.background"),`;
    color: `).concat(i("badge.warn.color"),`;
}

.p-badge-danger {
    background: `).concat(i("badge.danger.background"),`;
    color: `).concat(i("badge.danger.color"),`;
}

.p-badge-contrast {
    background: `).concat(i("badge.contrast.background"),`;
    color: `).concat(i("badge.contrast.color"),`;
}

.p-badge-sm {
    font-size: `).concat(i("badge.sm.font.size"),`;
    min-width: `).concat(i("badge.sm.min.width"),`;
    height: `).concat(i("badge.sm.height"),`;
}

.p-badge-lg {
    font-size: `).concat(i("badge.lg.font.size"),`;
    min-width: `).concat(i("badge.lg.min.width"),`;
    height: `).concat(i("badge.lg.height"),`;
}

.p-badge-xl {
    font-size: `).concat(i("badge.xl.font.size"),`;
    min-width: `).concat(i("badge.xl.min.width"),`;
    height: `).concat(i("badge.xl.height"),`;
}
`)},eie={root:function(t){var i=t.props,a=t.instance;return["p-badge p-component",{"p-badge-circle":Bn(i.value)&&String(i.value).length===1,"p-badge-dot":Qr(i.value)&&!a.$slots.default,"p-badge-sm":i.size==="small","p-badge-lg":i.size==="large","p-badge-xl":i.size==="xlarge","p-badge-info":i.severity==="info","p-badge-success":i.severity==="success","p-badge-warn":i.severity==="warn","p-badge-danger":i.severity==="danger","p-badge-secondary":i.severity==="secondary","p-badge-contrast":i.severity==="contrast"}]}},tie=In.extend({name:"badge",theme:Yte,classes:eie}),iie={name:"BaseBadge",extends:Tn,props:{value:{type:[String,Number],default:null},severity:{type:String,default:null},size:{type:String,default:null}},style:tie,provide:function(){return{$pcBadge:this,$parentInstance:this}}},b5={name:"Badge",extends:iie,inheritAttrs:!1};function nie(e,t,i,a,l,c){return ge(),Je("span",Ze({class:e.cx("root")},e.ptmi("root")),[mi(e.$slots,"default",{},function(){return[Ei(li(e.value),1)]})],16)}b5.render=nie;function vg(e){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vg(e)}function Ac(e,t,i){return(t=oie(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function oie(e){var t=rie(e,"string");return vg(t)=="symbol"?t:t+""}function rie(e,t){if(vg(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t||"default");if(vg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aie=function(t){var i=t.dt;return`
.p-button {
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    color: `.concat(i("button.primary.color"),`;
    background: `).concat(i("button.primary.background"),`;
    border: 1px solid `).concat(i("button.primary.border.color"),`;
    padding: `).concat(i("button.padding.y")," ").concat(i("button.padding.x"),`;
    font-size: 1rem;
    font-family: inherit;
    font-feature-settings: inherit;
    transition: background `).concat(i("button.transition.duration"),", color ").concat(i("button.transition.duration"),", border-color ").concat(i("button.transition.duration"),`,
            outline-color `).concat(i("button.transition.duration"),", box-shadow ").concat(i("button.transition.duration"),`;
    border-radius: `).concat(i("button.border.radius"),`;
    outline-color: transparent;
    gap: `).concat(i("button.gap"),`;
}

.p-button:disabled {
    cursor: default;
}

.p-button-icon-right {
    order: 1;
}

.p-button-icon-bottom {
    order: 2;
}

.p-button-icon-only {
    width: `).concat(i("button.icon.only.width"),`;
    padding-left: 0;
    padding-right: 0;
    gap: 0;
}

.p-button-icon-only.p-button-rounded {
    border-radius: 50%;
    height: `).concat(i("button.icon.only.width"),`;
}

.p-button-icon-only .p-button-label {
    visibility: hidden;
    width: 0;
}

.p-button-sm {
    font-size: `).concat(i("button.sm.font.size"),`;
    padding: `).concat(i("button.sm.padding.y")," ").concat(i("button.sm.padding.x"),`;
}

.p-button-sm .p-button-icon {
    font-size: `).concat(i("button.sm.font.size"),`;
}

.p-button-lg {
    font-size: `).concat(i("button.lg.font.size"),`;
    padding: `).concat(i("button.lg.padding.y")," ").concat(i("button.lg.padding.x"),`;
}

.p-button-lg .p-button-icon {
    font-size: `).concat(i("button.lg.font.size"),`;
}

.p-button-vertical {
    flex-direction: column;
}

.p-button-label {
    font-weight: `).concat(i("button.label.font.weight"),`;
}

.p-button-fluid {
    width: 100%;
}

.p-button-fluid.p-button-icon-only {
    width: `).concat(i("button.icon.only.width"),`;
}

.p-button:not(:disabled):hover {
    background: `).concat(i("button.primary.hover.background"),`;
    border: 1px solid `).concat(i("button.primary.hover.border.color"),`;
    color: `).concat(i("button.primary.hover.color"),`;
}

.p-button:not(:disabled):active {
    background: `).concat(i("button.primary.active.background"),`;
    border: 1px solid `).concat(i("button.primary.active.border.color"),`;
    color: `).concat(i("button.primary.active.color"),`;
}

.p-button:focus-visible {
    box-shadow: `).concat(i("button.primary.focus.ring.shadow"),`;
    outline: `).concat(i("button.focus.ring.width")," ").concat(i("button.focus.ring.style")," ").concat(i("button.primary.focus.ring.color"),`;
    outline-offset: `).concat(i("button.focus.ring.offset"),`;
}

.p-button .p-badge {
    min-width: `).concat(i("button.badge.size"),`;
    height: `).concat(i("button.badge.size"),`;
    line-height: `).concat(i("button.badge.size"),`;
}

.p-button-raised {
    box-shadow: `).concat(i("button.raised.shadow"),`;
}

.p-button-rounded {
    border-radius: `).concat(i("button.rounded.border.radius"),`;
}

.p-button-secondary {
    background: `).concat(i("button.secondary.background"),`;
    border: 1px solid `).concat(i("button.secondary.border.color"),`;
    color: `).concat(i("button.secondary.color"),`;
}

.p-button-secondary:not(:disabled):hover {
    background: `).concat(i("button.secondary.hover.background"),`;
    border: 1px solid `).concat(i("button.secondary.hover.border.color"),`;
    color: `).concat(i("button.secondary.hover.color"),`;
}

.p-button-secondary:not(:disabled):active {
    background: `).concat(i("button.secondary.active.background"),`;
    border: 1px solid `).concat(i("button.secondary.active.border.color"),`;
    color: `).concat(i("button.secondary.active.color"),`;
}

.p-button-secondary:focus-visible {
    outline-color: `).concat(i("button.secondary.focus.ring.color"),`;
    box-shadow: `).concat(i("button.secondary.focus.ring.shadow"),`;
}

.p-button-success {
    background: `).concat(i("button.success.background"),`;
    border: 1px solid `).concat(i("button.success.border.color"),`;
    color: `).concat(i("button.success.color"),`;
}

.p-button-success:not(:disabled):hover {
    background: `).concat(i("button.success.hover.background"),`;
    border: 1px solid `).concat(i("button.success.hover.border.color"),`;
    color: `).concat(i("button.success.hover.color"),`;
}

.p-button-success:not(:disabled):active {
    background: `).concat(i("button.success.active.background"),`;
    border: 1px solid `).concat(i("button.success.active.border.color"),`;
    color: `).concat(i("button.success.active.color"),`;
}

.p-button-success:focus-visible {
    outline-color: `).concat(i("button.success.focus.ring.color"),`;
    box-shadow: `).concat(i("button.success.focus.ring.shadow"),`;
}

.p-button-info {
    background: `).concat(i("button.info.background"),`;
    border: 1px solid `).concat(i("button.info.border.color"),`;
    color: `).concat(i("button.info.color"),`;
}

.p-button-info:not(:disabled):hover {
    background: `).concat(i("button.info.hover.background"),`;
    border: 1px solid `).concat(i("button.info.hover.border.color"),`;
    color: `).concat(i("button.info.hover.color"),`;
}

.p-button-info:not(:disabled):active {
    background: `).concat(i("button.info.active.background"),`;
    border: 1px solid `).concat(i("button.info.active.border.color"),`;
    color: `).concat(i("button.info.active.color"),`;
}

.p-button-info:focus-visible {
    outline-color: `).concat(i("button.info.focus.ring.color"),`;
    box-shadow: `).concat(i("button.info.focus.ring.shadow"),`;
}

.p-button-warn {
    background: `).concat(i("button.warn.background"),`;
    border: 1px solid `).concat(i("button.warn.border.color"),`;
    color: `).concat(i("button.warn.color"),`;
}

.p-button-warn:not(:disabled):hover {
    background: `).concat(i("button.warn.hover.background"),`;
    border: 1px solid `).concat(i("button.warn.hover.border.color"),`;
    color: `).concat(i("button.warn.hover.color"),`;
}

.p-button-warn:not(:disabled):active {
    background: `).concat(i("button.warn.active.background"),`;
    border: 1px solid `).concat(i("button.warn.active.border.color"),`;
    color: `).concat(i("button.warn.active.color"),`;
}

.p-button-warn:focus-visible {
    outline-color: `).concat(i("button.warn.focus.ring.color"),`;
    box-shadow: `).concat(i("button.warn.focus.ring.shadow"),`;
}

.p-button-help {
    background: `).concat(i("button.help.background"),`;
    border: 1px solid `).concat(i("button.help.border.color"),`;
    color: `).concat(i("button.help.color"),`;
}

.p-button-help:not(:disabled):hover {
    background: `).concat(i("button.help.hover.background"),`;
    border: 1px solid `).concat(i("button.help.hover.border.color"),`;
    color: `).concat(i("button.help.hover.color"),`;
}

.p-button-help:not(:disabled):active {
    background: `).concat(i("button.help.active.background"),`;
    border: 1px solid `).concat(i("button.help.active.border.color"),`;
    color: `).concat(i("button.help.active.color"),`;
}

.p-button-help:focus-visible {
    outline-color: `).concat(i("button.help.focus.ring.color"),`;
    box-shadow: `).concat(i("button.help.focus.ring.shadow"),`;
}

.p-button-danger {
    background: `).concat(i("button.danger.background"),`;
    border: 1px solid `).concat(i("button.danger.border.color"),`;
    color: `).concat(i("button.danger.color"),`;
}

.p-button-danger:not(:disabled):hover {
    background: `).concat(i("button.danger.hover.background"),`;
    border: 1px solid `).concat(i("button.danger.hover.border.color"),`;
    color: `).concat(i("button.danger.hover.color"),`;
}

.p-button-danger:not(:disabled):active {
    background: `).concat(i("button.danger.active.background"),`;
    border: 1px solid `).concat(i("button.danger.active.border.color"),`;
    color: `).concat(i("button.danger.active.color"),`;
}

.p-button-danger:focus-visible {
    outline-color: `).concat(i("button.danger.focus.ring.color"),`;
    box-shadow: `).concat(i("button.danger.focus.ring.shadow"),`;
}

.p-button-contrast {
    background: `).concat(i("button.contrast.background"),`;
    border: 1px solid `).concat(i("button.contrast.border.color"),`;
    color: `).concat(i("button.contrast.color"),`;
}

.p-button-contrast:not(:disabled):hover {
    background: `).concat(i("button.contrast.hover.background"),`;
    border: 1px solid `).concat(i("button.contrast.hover.border.color"),`;
    color: `).concat(i("button.contrast.hover.color"),`;
}

.p-button-contrast:not(:disabled):active {
    background: `).concat(i("button.contrast.active.background"),`;
    border: 1px solid `).concat(i("button.contrast.active.border.color"),`;
    color: `).concat(i("button.contrast.active.color"),`;
}

.p-button-contrast:focus-visible {
    outline-color: `).concat(i("button.contrast.focus.ring.color"),`;
    box-shadow: `).concat(i("button.contrast.focus.ring.shadow"),`;
}

.p-button-outlined {
    background: transparent;
    border-color: `).concat(i("button.outlined.primary.border.color"),`;
    color: `).concat(i("button.outlined.primary.color"),`;
}

.p-button-outlined:not(:disabled):hover {
    background: `).concat(i("button.outlined.primary.hover.background"),`;
    border-color: `).concat(i("button.outlined.primary.border.color"),`;
    color: `).concat(i("button.outlined.primary.color"),`;
}

.p-button-outlined:not(:disabled):active {
    background: `).concat(i("button.outlined.primary.active.background"),`;
    border-color: `).concat(i("button.outlined.primary.border.color"),`;
    color: `).concat(i("button.outlined.primary.color"),`;
}

.p-button-outlined.p-button-secondary {
    border-color: `).concat(i("button.outlined.secondary.border.color"),`;
    color: `).concat(i("button.outlined.secondary.color"),`;
}

.p-button-outlined.p-button-secondary:not(:disabled):hover {
    background: `).concat(i("button.outlined.secondary.hover.background"),`;
    border-color: `).concat(i("button.outlined.secondary.border.color"),`;
    color: `).concat(i("button.outlined.secondary.color"),`;
}

.p-button-outlined.p-button-secondary:not(:disabled):active {
    background: `).concat(i("button.outlined.secondary.active.background"),`;
    border-color: `).concat(i("button.outlined.secondary.border.color"),`;
    color: `).concat(i("button.outlined.secondary.color"),`;
}

.p-button-outlined.p-button-success {
    border-color: `).concat(i("button.outlined.success.border.color"),`;
    color: `).concat(i("button.outlined.success.color"),`;
}

.p-button-outlined.p-button-success:not(:disabled):hover {
    background: `).concat(i("button.outlined.success.hover.background"),`;
    border-color: `).concat(i("button.outlined.success.border.color"),`;
    color: `).concat(i("button.outlined.success.color"),`;
}

.p-button-outlined.p-button-success:not(:disabled):active {
    background: `).concat(i("button.outlined.success.active.background"),`;
    border-color: `).concat(i("button.outlined.success.border.color"),`;
    color: `).concat(i("button.outlined.success.color"),`;
}

.p-button-outlined.p-button-info {
    border-color: `).concat(i("button.outlined.info.border.color"),`;
    color: `).concat(i("button.outlined.info.color"),`;
}

.p-button-outlined.p-button-info:not(:disabled):hover {
    background: `).concat(i("button.outlined.info.hover.background"),`;
    border-color: `).concat(i("button.outlined.info.border.color"),`;
    color: `).concat(i("button.outlined.info.color"),`;
}

.p-button-outlined.p-button-info:not(:disabled):active {
    background: `).concat(i("button.outlined.info.active.background"),`;
    border-color: `).concat(i("button.outlined.info.border.color"),`;
    color: `).concat(i("button.outlined.info.color"),`;
}

.p-button-outlined.p-button-warn {
    border-color: `).concat(i("button.outlined.warn.border.color"),`;
    color: `).concat(i("button.outlined.warn.color"),`;
}

.p-button-outlined.p-button-warn:not(:disabled):hover {
    background: `).concat(i("button.outlined.warn.hover.background"),`;
    border-color: `).concat(i("button.outlined.warn.border.color"),`;
    color: `).concat(i("button.outlined.warn.color"),`;
}

.p-button-outlined.p-button-warn:not(:disabled):active {
    background: `).concat(i("button.outlined.warn.active.background"),`;
    border-color: `).concat(i("button.outlined.warn.border.color"),`;
    color: `).concat(i("button.outlined.warn.color"),`;
}

.p-button-outlined.p-button-help {
    border-color: `).concat(i("button.outlined.help.border.color"),`;
    color: `).concat(i("button.outlined.help.color"),`;
}

.p-button-outlined.p-button-help:not(:disabled):hover {
    background: `).concat(i("button.outlined.help.hover.background"),`;
    border-color: `).concat(i("button.outlined.help.border.color"),`;
    color: `).concat(i("button.outlined.help.color"),`;
}

.p-button-outlined.p-button-help:not(:disabled):active {
    background: `).concat(i("button.outlined.help.active.background"),`;
    border-color: `).concat(i("button.outlined.help.border.color"),`;
    color: `).concat(i("button.outlined.help.color"),`;
}

.p-button-outlined.p-button-danger {
    border-color: `).concat(i("button.outlined.danger.border.color"),`;
    color: `).concat(i("button.outlined.danger.color"),`;
}

.p-button-outlined.p-button-danger:not(:disabled):hover {
    background: `).concat(i("button.outlined.danger.hover.background"),`;
    border-color: `).concat(i("button.outlined.danger.border.color"),`;
    color: `).concat(i("button.outlined.danger.color"),`;
}

.p-button-outlined.p-button-danger:not(:disabled):active {
    background: `).concat(i("button.outlined.danger.active.background"),`;
    border-color: `).concat(i("button.outlined.danger.border.color"),`;
    color: `).concat(i("button.outlined.danger.color"),`;
}

.p-button-outlined.p-button-contrast {
    border-color: `).concat(i("button.outlined.contrast.border.color"),`;
    color: `).concat(i("button.outlined.contrast.color"),`;
}

.p-button-outlined.p-button-contrast:not(:disabled):hover {
    background: `).concat(i("button.outlined.contrast.hover.background"),`;
    border-color: `).concat(i("button.outlined.contrast.border.color"),`;
    color: `).concat(i("button.outlined.contrast.color"),`;
}

.p-button-outlined.p-button-contrast:not(:disabled):active {
    background: `).concat(i("button.outlined.contrast.active.background"),`;
    border-color: `).concat(i("button.outlined.contrast.border.color"),`;
    color: `).concat(i("button.outlined.contrast.color"),`;
}

.p-button-outlined.p-button-plain {
    border-color: `).concat(i("button.outlined.plain.border.color"),`;
    color: `).concat(i("button.outlined.plain.color"),`;
}

.p-button-outlined.p-button-plain:not(:disabled):hover {
    background: `).concat(i("button.outlined.plain.hover.background"),`;
    border-color: `).concat(i("button.outlined.plain.border.color"),`;
    color: `).concat(i("button.outlined.plain.color"),`;
}

.p-button-outlined.p-button-plain:not(:disabled):active {
    background: `).concat(i("button.outlined.plain.active.background"),`;
    border-color: `).concat(i("button.outlined.plain.border.color"),`;
    color: `).concat(i("button.outlined.plain.color"),`;
}

.p-button-text {
    background: transparent;
    border-color: transparent;
    color: `).concat(i("button.text.primary.color"),`;
}

.p-button-text:not(:disabled):hover {
    background: `).concat(i("button.text.primary.hover.background"),`;
    border-color: transparent;
    color: `).concat(i("button.text.primary.color"),`;
}

.p-button-text:not(:disabled):active {
    background: `).concat(i("button.text.primary.active.background"),`;
    border-color: transparent;
    color: `).concat(i("button.text.primary.color"),`;
}

.p-button-text.p-button-secondary {
    background: transparent;
    border-color: transparent;
    color: `).concat(i("button.text.secondary.color"),`;
}

.p-button-text.p-button-secondary:not(:disabled):hover {
    background: `).concat(i("button.text.secondary.hover.background"),`;
    border-color: transparent;
    color: `).concat(i("button.text.secondary.color"),`;
}

.p-button-text.p-button-secondary:not(:disabled):active {
    background: `).concat(i("button.text.secondary.active.background"),`;
    border-color: transparent;
    color: `).concat(i("button.text.secondary.color"),`;
}

.p-button-text.p-button-success {
    background: transparent;
    border-color: transparent;
    color: `).concat(i("button.text.success.color"),`;
}

.p-button-text.p-button-success:not(:disabled):hover {
    background: `).concat(i("button.text.success.hover.background"),`;
    border-color: transparent;
    color: `).concat(i("button.text.success.color"),`;
}

.p-button-text.p-button-success:not(:disabled):active {
    background: `).concat(i("button.text.success.active.background"),`;
    border-color: transparent;
    color: `).concat(i("button.text.success.color"),`;
}

.p-button-text.p-button-info {
    background: transparent;
    border-color: transparent;
    color: `).concat(i("button.text.info.color"),`;
}

.p-button-text.p-button-info:not(:disabled):hover {
    background: `).concat(i("button.text.info.hover.background"),`;
    border-color: transparent;
    color: `).concat(i("button.text.info.color"),`;
}

.p-button-text.p-button-info:not(:disabled):active {
    background: `).concat(i("button.text.info.active.background"),`;
    border-color: transparent;
    color: `).concat(i("button.text.info.color"),`;
}

.p-button-text.p-button-warn {
    background: transparent;
    border-color: transparent;
    color: `).concat(i("button.text.warn.color"),`;
}

.p-button-text.p-button-warn:not(:disabled):hover {
    background: `).concat(i("button.text.warn.hover.background"),`;
    border-color: transparent;
    color: `).concat(i("button.text.warn.color"),`;
}

.p-button-text.p-button-warn:not(:disabled):active {
    background: `).concat(i("button.text.warn.active.background"),`;
    border-color: transparent;
    color: `).concat(i("button.text.warn.color"),`;
}

.p-button-text.p-button-help {
    background: transparent;
    border-color: transparent;
    color: `).concat(i("button.text.help.color"),`;
}

.p-button-text.p-button-help:not(:disabled):hover {
    background: `).concat(i("button.text.help.hover.background"),`;
    border-color: transparent;
    color: `).concat(i("button.text.help.color"),`;
}

.p-button-text.p-button-help:not(:disabled):active {
    background: `).concat(i("button.text.help.active.background"),`;
    border-color: transparent;
    color: `).concat(i("button.text.help.color"),`;
}

.p-button-text.p-button-danger {
    background: transparent;
    border-color: transparent;
    color: `).concat(i("button.text.danger.color"),`;
}

.p-button-text.p-button-danger:not(:disabled):hover {
    background: `).concat(i("button.text.danger.hover.background"),`;
    border-color: transparent;
    color: `).concat(i("button.text.danger.color"),`;
}

.p-button-text.p-button-danger:not(:disabled):active {
    background: `).concat(i("button.text.danger.active.background"),`;
    border-color: transparent;
    color: `).concat(i("button.text.danger.color"),`;
}

.p-button-text.p-button-plain {
    background: transparent;
    border-color: transparent;
    color: `).concat(i("button.text.plain.color"),`;
}

.p-button-text.p-button-plain:not(:disabled):hover {
    background: `).concat(i("button.text.plain.hover.background"),`;
    border-color: transparent;
    color: `).concat(i("button.text.plain.color"),`;
}

.p-button-text.p-button-plain:not(:disabled):active {
    background: `).concat(i("button.text.plain.active.background"),`;
    border-color: transparent;
    color: `).concat(i("button.text.plain.color"),`;
}

.p-button-link {
    background: transparent;
    border-color: transparent;
    color: `).concat(i("button.link.color"),`;
}

.p-button-link:not(:disabled):hover {
    background: transparent;
    border-color: transparent;
    color: `).concat(i("button.link.hover.color"),`;
}

.p-button-link:not(:disabled):hover .p-button-label {
    text-decoration: underline;
}

.p-button-link:not(:disabled):active {
    background: transparent;
    border-color: transparent;
    color: `).concat(i("button.link.active.color"),`;
}
`)},sie={root:function(t){var i=t.instance,a=t.props;return["p-button p-component",Ac(Ac(Ac(Ac(Ac(Ac(Ac(Ac(Ac({"p-button-icon-only":i.hasIcon&&!a.label&&!a.badge,"p-button-vertical":(a.iconPos==="top"||a.iconPos==="bottom")&&a.label,"p-button-loading":a.loading,"p-button-link":a.link},"p-button-".concat(a.severity),a.severity),"p-button-raised",a.raised),"p-button-rounded",a.rounded),"p-button-text",a.text),"p-button-outlined",a.outlined),"p-button-sm",a.size==="small"),"p-button-lg",a.size==="large"),"p-button-plain",a.plain),"p-button-fluid",i.hasFluid)]},loadingIcon:"p-button-loading-icon",icon:function(t){var i=t.props;return["p-button-icon",Ac({},"p-button-icon-".concat(i.iconPos),i.label)]},label:"p-button-label"},cie=In.extend({name:"button",theme:aie,classes:sie}),lie={name:"BaseButton",extends:Tn,props:{label:{type:String,default:null},icon:{type:String,default:null},iconPos:{type:String,default:"left"},iconClass:{type:String,default:null},badge:{type:String,default:null},badgeClass:{type:String,default:null},badgeSeverity:{type:String,default:"secondary"},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:void 0},as:{type:[String,Object],default:"BUTTON"},asChild:{type:Boolean,default:!1},link:{type:Boolean,default:!1},severity:{type:String,default:null},raised:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},size:{type:String,default:null},plain:{type:Boolean,default:!1},fluid:{type:Boolean,default:null}},style:cie,provide:function(){return{$pcButton:this,$parentInstance:this}}},rc={name:"Button",extends:lie,inheritAttrs:!1,inject:{$pcFluid:{default:null}},methods:{getPTOptions:function(t){var i=t==="root"?this.ptmi:this.ptm;return i(t,{context:{disabled:this.disabled}})}},computed:{disabled:function(){return this.$attrs.disabled||this.$attrs.disabled===""||this.loading},defaultAriaLabel:function(){return this.label?this.label+(this.badge?" "+this.badge:""):this.$attrs.ariaLabel},hasIcon:function(){return this.icon||this.$slots.icon},attrs:function(){return Ze(this.asAttrs,this.a11yAttrs,this.getPTOptions("root"))},asAttrs:function(){return this.as==="BUTTON"?{type:"button",disabled:this.disabled}:void 0},a11yAttrs:function(){return{"aria-label":this.defaultAriaLabel,"data-pc-name":"button","data-p-disabled":this.disabled,"data-p-severity":this.severity}},hasFluid:function(){return Qr(this.fluid)?!!this.$pcFluid:this.fluid}},components:{SpinnerIcon:a0,Badge:b5},directives:{ripple:Bs}};function die(e,t,i,a,l,c){var y=Mi("SpinnerIcon"),n=Mi("Badge"),x=Nr("ripple");return e.asChild?mi(e.$slots,"default",{key:1,class:Ii(e.cx("root")),a11yAttrs:c.a11yAttrs}):Qo((ge(),Vt(Wi(e.as),Ze({key:0,class:e.cx("root")},c.attrs),{default:ti(function(){return[mi(e.$slots,"default",{},function(){return[e.loading?mi(e.$slots,"loadingicon",{key:0,class:Ii([e.cx("loadingIcon"),e.cx("icon")])},function(){return[e.loadingIcon?(ge(),Je("span",Ze({key:0,class:[e.cx("loadingIcon"),e.cx("icon"),e.loadingIcon]},e.ptm("loadingIcon")),null,16)):(ge(),Vt(y,Ze({key:1,class:[e.cx("loadingIcon"),e.cx("icon")],spin:""},e.ptm("loadingIcon")),null,16,["class"]))]}):mi(e.$slots,"icon",{key:1,class:Ii([e.cx("icon")])},function(){return[e.icon?(ge(),Je("span",Ze({key:0,class:[e.cx("icon"),e.icon,e.iconClass]},e.ptm("icon")),null,16)):Zt("",!0)]}),Se("span",Ze({class:e.cx("label")},e.ptm("label")),li(e.label||" "),17),e.badge?(ge(),Vt(n,Ze({key:2,value:e.badge,class:e.badgeClass,severity:e.badgeSeverity,unstyled:e.unstyled},e.ptm("pcBadge")),null,16,["value","class","severity","unstyled"])):Zt("",!0)]})]}),_:3},16,["class"])),[[x]])}rc.render=die;var uie=function(t){var i=t.dt;return`
.p-dialog {
    max-height: 90%;
    transform: scale(1);
    border-radius: `.concat(i("dialog.border.radius"),`;
    box-shadow: `).concat(i("dialog.shadow"),`;
    background: `).concat(i("dialog.background"),`;
    border: 1px solid `).concat(i("dialog.border.color"),`;
    color: `).concat(i("dialog.color"),`;
}

.p-dialog-content {
    overflow-y: auto;
    padding: `).concat(i("dialog.content.padding"),`;
}

.p-dialog-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-shrink: 0;
    padding: `).concat(i("dialog.header.padding"),`;
}

.p-dialog-title {
    font-weight: `).concat(i("dialog.title.font.weight"),`;
    font-size: `).concat(i("dialog.title.font.size"),`;
}

.p-dialog-footer {
    flex-shrink: 0;
    padding: `).concat(i("dialog.footer.padding"),`;
    display: flex;
    justify-content: flex-end;
    gap: `).concat(i("dialog.footer.gap"),`;
}

.p-dialog-header-actions {
    display: flex;
    align-items: center;
    gap: `).concat(i("dialog.header.gap"),`;
}
.p-dialog-enter-active {
    transition: all 150ms cubic-bezier(0, 0, 0.2, 1);
}

.p-dialog-leave-active {
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
}

.p-dialog-enter-from,
.p-dialog-leave-to {
    opacity: 0;
    transform: scale(0.7);
}

.p-dialog-top .p-dialog,
.p-dialog-bottom .p-dialog,
.p-dialog-left .p-dialog,
.p-dialog-right .p-dialog,
.p-dialog-topleft .p-dialog,
.p-dialog-topright .p-dialog,
.p-dialog-bottomleft .p-dialog,
.p-dialog-bottomright .p-dialog {
    margin: 0.75rem;
    transform: translate3d(0px, 0px, 0px);
}

.p-dialog-top .p-dialog-enter-active,
.p-dialog-top .p-dialog-leave-active,
.p-dialog-bottom .p-dialog-enter-active,
.p-dialog-bottom .p-dialog-leave-active,
.p-dialog-left .p-dialog-enter-active,
.p-dialog-left .p-dialog-leave-active,
.p-dialog-right .p-dialog-enter-active,
.p-dialog-right .p-dialog-leave-active,
.p-dialog-topleft .p-dialog-enter-active,
.p-dialog-topleft .p-dialog-leave-active,
.p-dialog-topright .p-dialog-enter-active,
.p-dialog-topright .p-dialog-leave-active,
.p-dialog-bottomleft .p-dialog-enter-active,
.p-dialog-bottomleft .p-dialog-leave-active,
.p-dialog-bottomright .p-dialog-enter-active,
.p-dialog-bottomright .p-dialog-leave-active {
    transition: all 0.3s ease-out;
}

.p-dialog-top .p-dialog-enter-from,
.p-dialog-top .p-dialog-leave-to {
    transform: translate3d(0px, -100%, 0px);
}

.p-dialog-bottom .p-dialog-enter-from,
.p-dialog-bottom .p-dialog-leave-to {
    transform: translate3d(0px, 100%, 0px);
}

.p-dialog-left .p-dialog-enter-from,
.p-dialog-left .p-dialog-leave-to,
.p-dialog-topleft .p-dialog-enter-from,
.p-dialog-topleft .p-dialog-leave-to,
.p-dialog-bottomleft .p-dialog-enter-from,
.p-dialog-bottomleft .p-dialog-leave-to {
    transform: translate3d(-100%, 0px, 0px);
}

.p-dialog-right .p-dialog-enter-from,
.p-dialog-right .p-dialog-leave-to,
.p-dialog-topright .p-dialog-enter-from,
.p-dialog-topright .p-dialog-leave-to,
.p-dialog-bottomright .p-dialog-enter-from,
.p-dialog-bottomright .p-dialog-leave-to {
    transform: translate3d(100%, 0px, 0px);
}

.p-dialog-maximized {
    width: 100vw !important;
    height: 100vh !important;
    top: 0px !important;
    left: 0px !important;
    max-height: 100%;
    height: 100%;
    border-radius: 0;
}

.p-dialog-maximized .p-dialog-content {
    flex-grow: 1;
}
`)},hie={mask:function(t){var i=t.position,a=t.modal;return{position:"fixed",height:"100%",width:"100%",left:0,top:0,display:"flex",justifyContent:i==="left"||i==="topleft"||i==="bottomleft"?"flex-start":i==="right"||i==="topright"||i==="bottomright"?"flex-end":"center",alignItems:i==="top"||i==="topleft"||i==="topright"?"flex-start":i==="bottom"||i==="bottomleft"||i==="bottomright"?"flex-end":"center",pointerEvents:a?"auto":"none"}},root:{display:"flex",flexDirection:"column",pointerEvents:"auto"}},fie={mask:function(t){var i=t.props,a=["left","right","top","topleft","topright","bottom","bottomleft","bottomright"],l=a.find(function(c){return c===i.position});return["p-dialog-mask",{"p-overlay-mask p-overlay-mask-enter":i.modal},l?"p-dialog-".concat(l):""]},root:function(t){var i=t.props,a=t.instance;return["p-dialog p-component",{"p-dialog-maximized":i.maximizable&&a.maximized}]},header:"p-dialog-header",title:"p-dialog-title",headerActions:"p-dialog-header-actions",pcMaximizeButton:"p-dialog-maximize-button",pcCloseButton:"p-dialog-close-button",content:"p-dialog-content",footer:"p-dialog-footer"},pie=In.extend({name:"dialog",theme:uie,classes:fie,inlineStyles:hie}),mie={name:"BaseDialog",extends:Tn,props:{header:{type:null,default:null},footer:{type:null,default:null},visible:{type:Boolean,default:!1},modal:{type:Boolean,default:null},contentStyle:{type:null,default:null},contentClass:{type:String,default:null},contentProps:{type:null,default:null},maximizable:{type:Boolean,default:!1},dismissableMask:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},closeOnEscape:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!1},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0},position:{type:String,default:"center"},breakpoints:{type:Object,default:null},draggable:{type:Boolean,default:!0},keepInViewport:{type:Boolean,default:!0},minX:{type:Number,default:0},minY:{type:Number,default:0},appendTo:{type:[String,Object],default:"body"},closeIcon:{type:String,default:void 0},maximizeIcon:{type:String,default:void 0},minimizeIcon:{type:String,default:void 0},closeButtonProps:{type:Object,default:function(){return{severity:"secondary",text:!0,rounded:!0}}},maximizeButtonProps:{type:Object,default:function(){return{severity:"secondary",text:!0,rounded:!0}}},_instance:null},style:pie,provide:function(){return{$pcDialog:this,$parentInstance:this}}},Jp={name:"Dialog",extends:mie,inheritAttrs:!1,emits:["update:visible","show","hide","after-hide","maximize","unmaximize","dragstart","dragend"],provide:function(){var t=this;return{dialogRef:Li(function(){return t._instance})}},data:function(){return{id:this.$attrs.id,containerVisible:this.visible,maximized:!1,focusableMax:null,focusableClose:null,target:null}},watch:{"$attrs.id":function(t){this.id=t||hr()}},documentKeydownListener:null,container:null,mask:null,content:null,headerContainer:null,footerContainer:null,maximizableButton:null,closeButton:null,styleElement:null,dragging:null,documentDragListener:null,documentDragEndListener:null,lastPageX:null,lastPageY:null,maskMouseDownTarget:null,updated:function(){this.visible&&(this.containerVisible=this.visible)},beforeUnmount:function(){this.unbindDocumentState(),this.unbindGlobalListeners(),this.destroyStyle(),this.mask&&this.autoZIndex&&Zr.clear(this.mask),this.container=null,this.mask=null},mounted:function(){this.id=this.id||hr(),this.breakpoints&&this.createStyle()},methods:{close:function(){this.$emit("update:visible",!1)},onBeforeEnter:function(t){t.setAttribute(this.attributeSelector,"")},onEnter:function(){this.$emit("show"),this.target=document.activeElement,this.enableDocumentSettings(),this.bindGlobalListeners(),this.autoZIndex&&Zr.set("modal",this.mask,this.baseZIndex+this.$primevue.config.zIndex.modal)},onAfterEnter:function(){this.focus()},onBeforeLeave:function(){this.modal&&!this.isUnstyled&&vl(this.mask,"p-overlay-mask-leave"),this.dragging&&this.documentDragEndListener&&this.documentDragEndListener()},onLeave:function(){this.$emit("hide"),Zo(this.target),this.target=null,this.focusableClose=null,this.focusableMax=null},onAfterLeave:function(){this.autoZIndex&&Zr.clear(this.mask),this.containerVisible=!1,this.unbindDocumentState(),this.unbindGlobalListeners(),this.$emit("after-hide")},onMaskMouseDown:function(t){this.maskMouseDownTarget=t.target},onMaskMouseUp:function(){this.dismissableMask&&this.modal&&this.mask===this.maskMouseDownTarget&&this.close()},focus:function(){var t=function(l){return l&&l.querySelector("[autofocus]")},i=this.$slots.footer&&t(this.footerContainer);i||(i=this.$slots.header&&t(this.headerContainer),i||(i=this.$slots.default&&t(this.content),i||(this.maximizable?(this.focusableMax=!0,i=this.maximizableButton):(this.focusableClose=!0,i=this.closeButton)))),i&&Zo(i,{focusVisible:!0})},maximize:function(t){this.maximized?(this.maximized=!1,this.$emit("unmaximize",t)):(this.maximized=!0,this.$emit("maximize",t)),this.modal||(this.maximized?j9():z9())},enableDocumentSettings:function(){(this.modal||!this.modal&&this.blockScroll||this.maximizable&&this.maximized)&&j9()},unbindDocumentState:function(){(this.modal||!this.modal&&this.blockScroll||this.maximizable&&this.maximized)&&z9()},onKeyDown:function(t){t.code==="Escape"&&this.closeOnEscape&&this.close()},bindDocumentKeyDownListener:function(){this.documentKeydownListener||(this.documentKeydownListener=this.onKeyDown.bind(this),window.document.addEventListener("keydown",this.documentKeydownListener))},unbindDocumentKeyDownListener:function(){this.documentKeydownListener&&(window.document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)},containerRef:function(t){this.container=t},maskRef:function(t){this.mask=t},contentRef:function(t){this.content=t},headerContainerRef:function(t){this.headerContainer=t},footerContainerRef:function(t){this.footerContainer=t},maximizableRef:function(t){this.maximizableButton=t?t.$el:void 0},closeButtonRef:function(t){this.closeButton=t?t.$el:void 0},createStyle:function(){if(!this.styleElement&&!this.isUnstyled){var t;this.styleElement=document.createElement("style"),this.styleElement.type="text/css",Ng(this.styleElement,"nonce",(t=this.$primevue)===null||t===void 0||(t=t.config)===null||t===void 0||(t=t.csp)===null||t===void 0?void 0:t.nonce),document.head.appendChild(this.styleElement);var i="";for(var a in this.breakpoints)i+=`
                        @media screen and (max-width: `.concat(a,`) {
                            .p-dialog[`).concat(this.attributeSelector,`] {
                                width: `).concat(this.breakpoints[a],` !important;
                            }
                        }
                    `);this.styleElement.innerHTML=i}},destroyStyle:function(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)},initDrag:function(t){t.target.closest("div").getAttribute("data-pc-section")!=="headeractions"&&this.draggable&&(this.dragging=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,this.container.style.margin="0",document.body.setAttribute("data-p-unselectable-text","true"),!this.isUnstyled&&kh(document.body,{"user-select":"none"}),this.$emit("dragstart",t))},bindGlobalListeners:function(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.closeOnEscape&&this.closable&&this.bindDocumentKeyDownListener()},unbindGlobalListeners:function(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentKeyDownListener()},bindDocumentDragListener:function(){var t=this;this.documentDragListener=function(i){if(t.dragging){var a=mr(t.container),l=Rs(t.container),c=i.pageX-t.lastPageX,y=i.pageY-t.lastPageY,n=t.container.getBoundingClientRect(),x=n.left+c,C=n.top+y,k=A2(),O=getComputedStyle(t.container),B=parseFloat(O.marginLeft),L=parseFloat(O.marginTop);t.container.style.position="fixed",t.keepInViewport?(x>=t.minX&&x+a<k.width&&(t.lastPageX=i.pageX,t.container.style.left=x-B+"px"),C>=t.minY&&C+l<k.height&&(t.lastPageY=i.pageY,t.container.style.top=C-L+"px")):(t.lastPageX=i.pageX,t.container.style.left=x-B+"px",t.lastPageY=i.pageY,t.container.style.top=C-L+"px")}},window.document.addEventListener("mousemove",this.documentDragListener)},unbindDocumentDragListener:function(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)},bindDocumentDragEndListener:function(){var t=this;this.documentDragEndListener=function(i){t.dragging&&(t.dragging=!1,document.body.removeAttribute("data-p-unselectable-text"),!t.isUnstyled&&(document.body.style["user-select"]=""),t.$emit("dragend",i))},window.document.addEventListener("mouseup",this.documentDragEndListener)},unbindDocumentDragEndListener:function(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}},computed:{maximizeIconComponent:function(){return this.maximized?this.minimizeIcon?"span":"WindowMinimizeIcon":this.maximizeIcon?"span":"WindowMaximizeIcon"},ariaLabelledById:function(){return this.header!=null||this.$attrs["aria-labelledby"]!==null?this.id+"_header":null},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0},attributeSelector:function(){return hr()}},directives:{ripple:Bs,focustrap:y5},components:{Button:rc,Portal:s0,WindowMinimizeIcon:tI,WindowMaximizeIcon:eI,TimesIcon:e_}};function xg(e){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xg(e)}function xE(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),i.push.apply(i,a)}return i}function wE(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?xE(Object(i),!0).forEach(function(a){gie(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):xE(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function gie(e,t,i){return(t=_ie(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _ie(e){var t=yie(e,"string");return xg(t)=="symbol"?t:t+""}function yie(e,t){if(xg(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t||"default");if(xg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bie=["aria-labelledby","aria-modal"],vie=["id"];function xie(e,t,i,a,l,c){var y=Mi("Button"),n=Mi("Portal"),x=Nr("focustrap");return ge(),Vt(n,{appendTo:e.appendTo},{default:ti(function(){return[l.containerVisible?(ge(),Je("div",Ze({key:0,ref:c.maskRef,class:e.cx("mask"),style:e.sx("mask",!0,{position:e.position,modal:e.modal}),onMousedown:t[1]||(t[1]=function(){return c.onMaskMouseDown&&c.onMaskMouseDown.apply(c,arguments)}),onMouseup:t[2]||(t[2]=function(){return c.onMaskMouseUp&&c.onMaskMouseUp.apply(c,arguments)})},e.ptm("mask")),[kt(e0,Ze({name:"p-dialog",onBeforeEnter:c.onBeforeEnter,onEnter:c.onEnter,onAfterEnter:c.onAfterEnter,onBeforeLeave:c.onBeforeLeave,onLeave:c.onLeave,onAfterLeave:c.onAfterLeave,appear:""},e.ptm("transition")),{default:ti(function(){return[e.visible?Qo((ge(),Je("div",Ze({key:0,ref:c.containerRef,class:e.cx("root"),style:e.sx("root"),role:"dialog","aria-labelledby":c.ariaLabelledById,"aria-modal":e.modal},e.ptmi("root")),[e.$slots.container?mi(e.$slots,"container",{key:0,closeCallback:c.close,maximizeCallback:function(k){return c.maximize(k)}}):(ge(),Je(Ri,{key:1},[e.showHeader?(ge(),Je("div",Ze({key:0,ref:c.headerContainerRef,class:e.cx("header"),onMousedown:t[0]||(t[0]=function(){return c.initDrag&&c.initDrag.apply(c,arguments)})},e.ptm("header")),[mi(e.$slots,"header",{class:Ii(e.cx("title"))},function(){return[e.header?(ge(),Je("span",Ze({key:0,id:c.ariaLabelledById,class:e.cx("title")},e.ptm("title")),li(e.header),17,vie)):Zt("",!0)]}),Se("div",Ze({class:e.cx("headerActions")},e.ptm("headerActions")),[e.maximizable?(ge(),Vt(y,Ze({key:0,ref:c.maximizableRef,autofocus:l.focusableMax,class:e.cx("pcMaximizeButton"),onClick:c.maximize,tabindex:e.maximizable?"0":"-1",unstyled:e.unstyled},e.maximizeButtonProps,{pt:e.ptm("pcMaximizeButton"),"data-pc-group-section":"headericon"}),{icon:ti(function(C){return[mi(e.$slots,"maximizeicon",{maximized:l.maximized},function(){return[(ge(),Vt(Wi(c.maximizeIconComponent),Ze({class:[C.class,l.maximized?e.minimizeIcon:e.maximizeIcon]},e.ptm("pcMaximizeButton").icon),null,16,["class"]))]})]}),_:3},16,["autofocus","class","onClick","tabindex","unstyled","pt"])):Zt("",!0),e.closable?(ge(),Vt(y,Ze({key:1,ref:c.closeButtonRef,autofocus:l.focusableClose,class:e.cx("pcCloseButton"),onClick:c.close,"aria-label":c.closeAriaLabel,unstyled:e.unstyled},e.closeButtonProps,{pt:e.ptm("pcCloseButton"),"data-pc-group-section":"headericon"}),{icon:ti(function(C){return[mi(e.$slots,"closeicon",{},function(){return[(ge(),Vt(Wi(e.closeIcon?"span":"TimesIcon"),Ze({class:[e.closeIcon,C.class]},e.ptm("pcCloseButton").icon),null,16,["class"]))]})]}),_:3},16,["autofocus","class","onClick","aria-label","unstyled","pt"])):Zt("",!0)],16)],16)):Zt("",!0),Se("div",Ze({ref:c.contentRef,class:[e.cx("content"),e.contentClass],style:e.contentStyle},wE(wE({},e.contentProps),e.ptm("content"))),[mi(e.$slots,"default")],16),e.footer||e.$slots.footer?(ge(),Je("div",Ze({key:1,ref:c.footerContainerRef,class:e.cx("footer")},e.ptm("footer")),[mi(e.$slots,"footer",{},function(){return[Ei(li(e.footer),1)]})],16)):Zt("",!0)],64))],16,bie)),[[x,{disabled:!e.modal}]]):Zt("",!0)]}),_:3},16,["onBeforeEnter","onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave"])],16)):Zt("",!0)]}),_:3},8,["appendTo"])}Jp.render=xie;var iI={name:"AngleDownIcon",extends:Ro};function wie(e,t,i,a,l,c){return ge(),Je("svg",Ze({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),t[0]||(t[0]=[Se("path",{d:"M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z",fill:"currentColor"},null,-1)]),16)}iI.render=wie;var nI={name:"AngleUpIcon",extends:Ro};function Fie(e,t,i,a,l,c){return ge(),Je("svg",Ze({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),t[0]||(t[0]=[Se("path",{d:"M10.4134 9.49931C10.3148 9.49977 10.2172 9.48055 10.1262 9.44278C10.0352 9.405 9.95263 9.34942 9.88338 9.27931L6.88338 6.27931L3.88338 9.27931C3.73811 9.34946 3.57409 9.3709 3.41567 9.34044C3.25724 9.30999 3.11286 9.22926 3.00395 9.11025C2.89504 8.99124 2.82741 8.84028 2.8111 8.67978C2.79478 8.51928 2.83065 8.35781 2.91338 8.21931L6.41338 4.71931C6.55401 4.57886 6.74463 4.49997 6.94338 4.49997C7.14213 4.49997 7.33276 4.57886 7.47338 4.71931L10.9734 8.21931C11.1138 8.35994 11.1927 8.55056 11.1927 8.74931C11.1927 8.94806 11.1138 9.13868 10.9734 9.27931C10.9007 9.35315 10.8132 9.41089 10.7168 9.44879C10.6203 9.48669 10.5169 9.5039 10.4134 9.49931Z",fill:"currentColor"},null,-1)]),16)}nI.render=Fie;var Cie=function(t){var i=t.dt;return`
.p-inputnumber {
    display: inline-flex;
    position: relative;
}

.p-inputnumber-button {
    display: flex;
    align-items: center;
    justify-content: center;
    flex: 0 0 auto;
    cursor: pointer;
    background: `.concat(i("inputnumber.button.background"),`;
    color: `).concat(i("inputnumber.button.color"),`;
    width: `).concat(i("inputnumber.button.width"),`;
    transition: background `).concat(i("inputnumber.transition.duration"),", color ").concat(i("inputnumber.transition.duration"),", border-color ").concat(i("inputnumber.transition.duration"),", outline-color ").concat(i("inputnumber.transition.duration"),`;
}

.p-inputnumber-button:hover {
    background: `).concat(i("inputnumber.button.hover.background"),`;
    color: `).concat(i("inputnumber.button.hover.color"),`;
}

.p-inputnumber-button:active {
    background: `).concat(i("inputnumber.button.active.background"),`;
    color: `).concat(i("inputnumber.button.active.color"),`;
}

.p-inputnumber-stacked .p-inputnumber-button {
    position: relative;
    border: 0 none;
}

.p-inputnumber-stacked .p-inputnumber-button-group {
    display: flex;
    flex-direction: column;
    position: absolute;
    top: 1px;
    right: 1px;
    height: calc(100% - 2px);
    z-index: 1;
}

.p-inputnumber-stacked .p-inputnumber-increment-button {
    padding: 0;
    border-top-right-radius: calc(`).concat(i("inputnumber.button.border.radius"),` - 1px);
}

.p-inputnumber-stacked .p-inputnumber-decrement-button {
    padding: 0;
    border-bottom-right-radius: calc(`).concat(i("inputnumber.button.border.radius"),` - 1px);
}

.p-inputnumber-stacked .p-inputnumber-button {
    flex: 1 1 auto;
    border: 0 none;
}

.p-inputnumber-horizontal .p-inputnumber-button {
    border: 1px solid `).concat(i("inputnumber.button.border.color"),`;
}

.p-inputnumber-horizontal .p-inputnumber-button:hover {
    border-color: `).concat(i("inputnumber.button.hover.border.color"),`;
}

.p-inputnumber-horizontal .p-inputnumber-button:active {
    border-color: `).concat(i("inputnumber.button.active.border.color"),`;
}

.p-inputnumber-horizontal .p-inputnumber-increment-button {
    order: 3;
    border-top-right-radius: `).concat(i("inputnumber.button.border.radius"),`;
    border-bottom-right-radius: `).concat(i("inputnumber.button.border.radius"),`;
    border-left: 0 none;
}

.p-inputnumber-horizontal .p-inputnumber-input {
    order: 2;
    border-radius: 0;
}

.p-inputnumber-horizontal .p-inputnumber-decrement-button {
    order: 1;
    border-top-left-radius: `).concat(i("inputnumber.button.border.radius"),`;
    border-bottom-left-radius: `).concat(i("inputnumber.button.border.radius"),`;
    border-right: 0 none;
}

.p-inputnumber-vertical {
    flex-direction: column;
}

.p-inputnumber-vertical .p-inputnumber-button {
    border: 1px solid `).concat(i("inputnumber.button.border.color"),`;
    padding: `).concat(i("inputnumber.button.vertical.padding"),`; 0;
}

.p-inputnumber-vertical .p-inputnumber-button:hover {
    border-color: `).concat(i("inputnumber.button.hover.border.color"),`;
}

.p-inputnumber-vertical .p-inputnumber-button:active {
    border-color: `).concat(i("inputnumber.button.active.border.color"),`;
}

.p-inputnumber-vertical .p-inputnumber-increment-button {
    order: 1;
    border-top-left-radius: `).concat(i("inputnumber.button.border.radius"),`;
    border-top-right-radius: `).concat(i("inputnumber.button.border.radius"),`;
    width: 100%;
    border-bottom: 0 none;
}

.p-inputnumber-vertical .p-inputnumber-input {
    order: 2;
    border-radius: 0;
    text-align: center;
}

.p-inputnumber-vertical .p-inputnumber-decrement-button {
    order: 3;
    border-bottom-left-radius: `).concat(i("inputnumber.button.border.radius"),`;
    border-bottom-right-radius: `).concat(i("inputnumber.button.border.radius"),`;
    width: 100%;
    border-top: 0 none;
}

.p-inputnumber-input {
    flex: 1 1 auto;
}

.p-inputnumber-fluid {
    width: 100%;
}

.p-inputnumber-fluid .p-inputnumber-input {
    width: 1%;
}

.p-inputnumber-fluid.p-inputnumber-vertical .p-inputnumber-input {
    width: 100%;
}
`)},Eie={root:function(t){var i=t.instance,a=t.props;return["p-inputnumber p-component p-inputwrapper",{"p-inputwrapper-filled":i.filled||a.allowEmpty===!1,"p-inputwrapper-focus":i.focused,"p-inputnumber-stacked":a.showButtons&&a.buttonLayout==="stacked","p-inputnumber-horizontal":a.showButtons&&a.buttonLayout==="horizontal","p-inputnumber-vertical":a.showButtons&&a.buttonLayout==="vertical","p-inputnumber-fluid":i.hasFluid}]},pcInput:"p-inputnumber-input",buttonGroup:"p-inputnumber-button-group",incrementButton:function(t){var i=t.instance,a=t.props;return["p-inputnumber-button p-inputnumber-increment-button",{"p-disabled":a.showButtons&&a.max!==null&&i.maxBoundry()}]},decrementButton:function(t){var i=t.instance,a=t.props;return["p-inputnumber-button p-inputnumber-decrement-button",{"p-disabled":a.showButtons&&a.min!==null&&i.minBoundry()}]}},Sie=In.extend({name:"inputnumber",theme:Cie,classes:Eie}),Tie={name:"BaseInputNumber",extends:Tn,props:{modelValue:{type:Number,default:null},format:{type:Boolean,default:!0},showButtons:{type:Boolean,default:!1},buttonLayout:{type:String,default:"stacked"},incrementButtonClass:{type:String,default:null},decrementButtonClass:{type:String,default:null},incrementButtonIcon:{type:String,default:void 0},incrementIcon:{type:String,default:void 0},decrementButtonIcon:{type:String,default:void 0},decrementIcon:{type:String,default:void 0},locale:{type:String,default:void 0},localeMatcher:{type:String,default:void 0},mode:{type:String,default:"decimal"},prefix:{type:String,default:null},suffix:{type:String,default:null},currency:{type:String,default:void 0},currencyDisplay:{type:String,default:void 0},useGrouping:{type:Boolean,default:!0},minFractionDigits:{type:Number,default:void 0},maxFractionDigits:{type:Number,default:void 0},roundingMode:{type:String,default:"halfExpand",validator:function(t){return["ceil","floor","expand","trunc","halfCeil","halfFloor","halfExpand","halfTrunc","halfEven"].includes(t)}},min:{type:Number,default:null},max:{type:Number,default:null},step:{type:Number,default:1},allowEmpty:{type:Boolean,default:!0},highlightOnFocus:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},fluid:{type:Boolean,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:Sie,provide:function(){return{$pcInputNumber:this,$parentInstance:this}}};function wg(e){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wg(e)}function FE(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),i.push.apply(i,a)}return i}function CE(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?FE(Object(i),!0).forEach(function(a){Rie(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):FE(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function Rie(e,t,i){return(t=Pie(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Pie(e){var t=Iie(e,"string");return wg(t)=="symbol"?t:t+""}function Iie(e,t){if(wg(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t||"default");if(wg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kie(e){return Lie(e)||Oie(e)||Aie(e)||Mie()}function Mie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aie(e,t){if(e){if(typeof e=="string")return Dx(e,t);var i={}.toString.call(e).slice(8,-1);return i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set"?Array.from(e):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Dx(e,t):void 0}}function Oie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lie(e){if(Array.isArray(e))return Dx(e)}function Dx(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,a=Array(t);i<t;i++)a[i]=e[i];return a}var v5={name:"InputNumber",extends:Tie,inheritAttrs:!1,emits:["update:modelValue","input","focus","blur"],inject:{$pcFluid:{default:null}},numberFormat:null,_numeral:null,_decimal:null,_group:null,_minusSign:null,_currency:null,_suffix:null,_prefix:null,_index:null,groupChar:"",isSpecialChar:null,prefixChar:null,suffixChar:null,timer:null,data:function(){return{d_modelValue:this.modelValue,focused:!1}},watch:{modelValue:function(t){this.d_modelValue=t},locale:function(t,i){this.updateConstructParser(t,i)},localeMatcher:function(t,i){this.updateConstructParser(t,i)},mode:function(t,i){this.updateConstructParser(t,i)},currency:function(t,i){this.updateConstructParser(t,i)},currencyDisplay:function(t,i){this.updateConstructParser(t,i)},useGrouping:function(t,i){this.updateConstructParser(t,i)},minFractionDigits:function(t,i){this.updateConstructParser(t,i)},maxFractionDigits:function(t,i){this.updateConstructParser(t,i)},suffix:function(t,i){this.updateConstructParser(t,i)},prefix:function(t,i){this.updateConstructParser(t,i)}},created:function(){this.constructParser()},methods:{getOptions:function(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits,roundingMode:this.roundingMode}},constructParser:function(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());var t=kie(new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)).reverse(),i=new Map(t.map(function(a,l){return[a,l]}));this._numeral=new RegExp("[".concat(t.join(""),"]"),"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=function(a){return i.get(a)}},updateConstructParser:function(t,i){t!==i&&this.constructParser()},escapeRegExp:function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},getDecimalExpression:function(){var t=new Intl.NumberFormat(this.locale,CE(CE({},this.getOptions()),{},{useGrouping:!1}));return new RegExp("[".concat(t.format(1.1).replace(this._currency,"").trim().replace(this._numeral,""),"]"),"g")},getGroupingExpression:function(){var t=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=t.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp("[".concat(this.groupChar,"]"),"g")},getMinusSignExpression:function(){var t=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp("[".concat(t.format(-1).trim().replace(this._numeral,""),"]"),"g")},getCurrencyExpression:function(){if(this.currency){var t=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0,roundingMode:this.roundingMode});return new RegExp("[".concat(t.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,""),"]"),"g")}return new RegExp("[]","g")},getPrefixExpression:function(){if(this.prefix)this.prefixChar=this.prefix;else{var t=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=t.format(1).split("1")[0]}return new RegExp("".concat(this.escapeRegExp(this.prefixChar||"")),"g")},getSuffixExpression:function(){if(this.suffix)this.suffixChar=this.suffix;else{var t=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0,roundingMode:this.roundingMode});this.suffixChar=t.format(1).split("1")[1]}return new RegExp("".concat(this.escapeRegExp(this.suffixChar||"")),"g")},formatValue:function(t){if(t!=null){if(t==="-")return t;if(this.format){var i=new Intl.NumberFormat(this.locale,this.getOptions()),a=i.format(t);return this.prefix&&(a=this.prefix+a),this.suffix&&(a=a+this.suffix),a}return t.toString()}return""},parseValue:function(t){var i=t.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(i){if(i==="-")return i;var a=+i;return isNaN(a)?null:a}return null},repeat:function(t,i,a){var l=this;if(!this.readonly){var c=i||500;this.clearTimer(),this.timer=setTimeout(function(){l.repeat(t,40,a)},c),this.spin(t,a)}},spin:function(t,i){if(this.$refs.input){var a=this.step*i,l=this.parseValue(this.$refs.input.$el.value)||0,c=this.validateValue(l+a);this.updateInput(c,null,"spin"),this.updateModel(t,c),this.handleOnInput(t,l,c)}},onUpButtonMouseDown:function(t){this.disabled||(this.$refs.input.$el.focus(),this.repeat(t,null,1),t.preventDefault())},onUpButtonMouseUp:function(){this.disabled||this.clearTimer()},onUpButtonMouseLeave:function(){this.disabled||this.clearTimer()},onUpButtonKeyUp:function(){this.disabled||this.clearTimer()},onUpButtonKeyDown:function(t){(t.code==="Space"||t.code==="Enter"||t.code==="NumpadEnter")&&this.repeat(t,null,1)},onDownButtonMouseDown:function(t){this.disabled||(this.$refs.input.$el.focus(),this.repeat(t,null,-1),t.preventDefault())},onDownButtonMouseUp:function(){this.disabled||this.clearTimer()},onDownButtonMouseLeave:function(){this.disabled||this.clearTimer()},onDownButtonKeyUp:function(){this.disabled||this.clearTimer()},onDownButtonKeyDown:function(t){(t.code==="Space"||t.code==="Enter"||t.code==="NumpadEnter")&&this.repeat(t,null,-1)},onUserInput:function(){this.isSpecialChar&&(this.$refs.input.$el.value=this.lastValue),this.isSpecialChar=!1},onInputKeyDown:function(t){if(!this.readonly){if(t.altKey||t.ctrlKey||t.metaKey){this.isSpecialChar=!0,this.lastValue=this.$refs.input.$el.value;return}this.lastValue=t.target.value;var i=t.target.selectionStart,a=t.target.selectionEnd,l=t.target.value,c=null;switch(t.code){case"ArrowUp":this.spin(t,1),t.preventDefault();break;case"ArrowDown":this.spin(t,-1),t.preventDefault();break;case"ArrowLeft":this.isNumeralChar(l.charAt(i-1))||t.preventDefault();break;case"ArrowRight":this.isNumeralChar(l.charAt(i))||t.preventDefault();break;case"Tab":case"Enter":case"NumpadEnter":c=this.validateValue(this.parseValue(l)),this.$refs.input.$el.value=this.formatValue(c),this.$refs.input.$el.setAttribute("aria-valuenow",c),this.updateModel(t,c);break;case"Backspace":{if(t.preventDefault(),i===a){var y=l.charAt(i-1),n=this.getDecimalCharIndexes(l),x=n.decimalCharIndex,C=n.decimalCharIndexWithoutPrefix;if(this.isNumeralChar(y)){var k=this.getDecimalLength(l);if(this._group.test(y))this._group.lastIndex=0,c=l.slice(0,i-2)+l.slice(i-1);else if(this._decimal.test(y))this._decimal.lastIndex=0,k?this.$refs.input.$el.setSelectionRange(i-1,i-1):c=l.slice(0,i-1)+l.slice(i);else if(x>0&&i>x){var O=this.isDecimalMode()&&(this.minFractionDigits||0)<k?"":"0";c=l.slice(0,i-1)+O+l.slice(i)}else C===1?(c=l.slice(0,i-1)+"0"+l.slice(i),c=this.parseValue(c)>0?c:""):c=l.slice(0,i-1)+l.slice(i)}this.updateValue(t,c,null,"delete-single")}else c=this.deleteRange(l,i,a),this.updateValue(t,c,null,"delete-range");break}case"Delete":if(t.preventDefault(),i===a){var B=l.charAt(i),L=this.getDecimalCharIndexes(l),V=L.decimalCharIndex,G=L.decimalCharIndexWithoutPrefix;if(this.isNumeralChar(B)){var Q=this.getDecimalLength(l);if(this._group.test(B))this._group.lastIndex=0,c=l.slice(0,i)+l.slice(i+2);else if(this._decimal.test(B))this._decimal.lastIndex=0,Q?this.$refs.input.$el.setSelectionRange(i+1,i+1):c=l.slice(0,i)+l.slice(i+1);else if(V>0&&i>V){var Y=this.isDecimalMode()&&(this.minFractionDigits||0)<Q?"":"0";c=l.slice(0,i)+Y+l.slice(i+1)}else G===1?(c=l.slice(0,i)+"0"+l.slice(i+1),c=this.parseValue(c)>0?c:""):c=l.slice(0,i)+l.slice(i+1)}this.updateValue(t,c,null,"delete-back-single")}else c=this.deleteRange(l,i,a),this.updateValue(t,c,null,"delete-range");break;case"Home":t.preventDefault(),Bn(this.min)&&this.updateModel(t,this.min);break;case"End":t.preventDefault(),Bn(this.max)&&this.updateModel(t,this.max);break}}},onInputKeyPress:function(t){if(!this.readonly){var i=t.key,a=this.isDecimalSign(i),l=this.isMinusSign(i);t.code!=="Enter"&&t.preventDefault(),(Number(i)>=0&&Number(i)<=9||l||a)&&this.insert(t,i,{isDecimalSign:a,isMinusSign:l})}},onPaste:function(t){t.preventDefault();var i=(t.clipboardData||window.clipboardData).getData("Text");if(i){var a=this.parseValue(i);a!=null&&this.insert(t,a.toString())}},allowMinusSign:function(){return this.min===null||this.min<0},isMinusSign:function(t){return this._minusSign.test(t)||t==="-"?(this._minusSign.lastIndex=0,!0):!1},isDecimalSign:function(t){return this._decimal.test(t)?(this._decimal.lastIndex=0,!0):!1},isDecimalMode:function(){return this.mode==="decimal"},getDecimalCharIndexes:function(t){var i=t.search(this._decimal);this._decimal.lastIndex=0;var a=t.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,""),l=a.search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:i,decimalCharIndexWithoutPrefix:l}},getCharIndexes:function(t){var i=t.search(this._decimal);this._decimal.lastIndex=0;var a=t.search(this._minusSign);this._minusSign.lastIndex=0;var l=t.search(this._suffix);this._suffix.lastIndex=0;var c=t.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:i,minusCharIndex:a,suffixCharIndex:l,currencyCharIndex:c}},insert:function(t,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{isDecimalSign:!1,isMinusSign:!1},l=i.search(this._minusSign);if(this._minusSign.lastIndex=0,!(!this.allowMinusSign()&&l!==-1)){var c=this.$refs.input.$el.selectionStart,y=this.$refs.input.$el.selectionEnd,n=this.$refs.input.$el.value.trim(),x=this.getCharIndexes(n),C=x.decimalCharIndex,k=x.minusCharIndex,O=x.suffixCharIndex,B=x.currencyCharIndex,L;if(a.isMinusSign)c===0&&(L=n,(k===-1||y!==0)&&(L=this.insertText(n,i,0,y)),this.updateValue(t,L,i,"insert"));else if(a.isDecimalSign)C>0&&c===C?this.updateValue(t,n,i,"insert"):C>c&&C<y?(L=this.insertText(n,i,c,y),this.updateValue(t,L,i,"insert")):C===-1&&this.maxFractionDigits&&(L=this.insertText(n,i,c,y),this.updateValue(t,L,i,"insert"));else{var V=this.numberFormat.resolvedOptions().maximumFractionDigits,G=c!==y?"range-insert":"insert";if(C>0&&c>C){if(c+i.length-(C+1)<=V){var Q=B>=c?B-1:O>=c?O:n.length;L=n.slice(0,c)+i+n.slice(c+i.length,Q)+n.slice(Q),this.updateValue(t,L,i,G)}}else L=this.insertText(n,i,c,y),this.updateValue(t,L,i,G)}}},insertText:function(t,i,a,l){var c=i==="."?i:i.split(".");if(c.length===2){var y=t.slice(a,l).search(this._decimal);return this._decimal.lastIndex=0,y>0?t.slice(0,a)+this.formatValue(i)+t.slice(l):this.formatValue(i)||t}else return l-a===t.length?this.formatValue(i):a===0?i+t.slice(l):l===t.length?t.slice(0,a)+i:t.slice(0,a)+i+t.slice(l)},deleteRange:function(t,i,a){var l;return a-i===t.length?l="":i===0?l=t.slice(a):a===t.length?l=t.slice(0,i):l=t.slice(0,i)+t.slice(a),l},initCursor:function(){var t=this.$refs.input.$el.selectionStart,i=this.$refs.input.$el.value,a=i.length,l=null,c=(this.prefixChar||"").length;i=i.replace(this._prefix,""),t=t-c;var y=i.charAt(t);if(this.isNumeralChar(y))return t+c;for(var n=t-1;n>=0;)if(y=i.charAt(n),this.isNumeralChar(y)){l=n+c;break}else n--;if(l!==null)this.$refs.input.$el.setSelectionRange(l+1,l+1);else{for(n=t;n<a;)if(y=i.charAt(n),this.isNumeralChar(y)){l=n+c;break}else n++;l!==null&&this.$refs.input.$el.setSelectionRange(l,l)}return l||0},onInputClick:function(){var t=this.$refs.input.$el.value;!this.readonly&&t!==V9()&&this.initCursor()},isNumeralChar:function(t){return t.length===1&&(this._numeral.test(t)||this._decimal.test(t)||this._group.test(t)||this._minusSign.test(t))?(this.resetRegex(),!0):!1},resetRegex:function(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0},updateValue:function(t,i,a,l){var c=this.$refs.input.$el.value,y=null;i!=null&&(y=this.parseValue(i),y=!y&&!this.allowEmpty?0:y,this.updateInput(y,a,l,i),this.handleOnInput(t,c,y))},handleOnInput:function(t,i,a){this.isValueChanged(i,a)&&this.$emit("input",{originalEvent:t,value:a,formattedValue:i})},isValueChanged:function(t,i){if(i===null&&t!==null)return!0;if(i!=null){var a=typeof t=="string"?this.parseValue(t):t;return i!==a}return!1},validateValue:function(t){return t==="-"||t==null?null:this.min!=null&&t<this.min?this.min:this.max!=null&&t>this.max?this.max:t},updateInput:function(t,i,a,l){i=i||"";var c=this.$refs.input.$el.value,y=this.formatValue(t),n=c.length;if(y!==l&&(y=this.concatValues(y,l)),n===0){this.$refs.input.$el.value=y,this.$refs.input.$el.setSelectionRange(0,0);var x=this.initCursor(),C=x+i.length;this.$refs.input.$el.setSelectionRange(C,C)}else{var k=this.$refs.input.$el.selectionStart,O=this.$refs.input.$el.selectionEnd;this.$refs.input.$el.value=y;var B=y.length;if(a==="range-insert"){var L=this.parseValue((c||"").slice(0,k)),V=L!==null?L.toString():"",G=V.split("").join("(".concat(this.groupChar,")?")),Q=new RegExp(G,"g");Q.test(y);var Y=i.split("").join("(".concat(this.groupChar,")?")),J=new RegExp(Y,"g");J.test(y.slice(Q.lastIndex)),O=Q.lastIndex+J.lastIndex,this.$refs.input.$el.setSelectionRange(O,O)}else if(B===n)a==="insert"||a==="delete-back-single"?this.$refs.input.$el.setSelectionRange(O+1,O+1):a==="delete-single"?this.$refs.input.$el.setSelectionRange(O-1,O-1):(a==="delete-range"||a==="spin")&&this.$refs.input.$el.setSelectionRange(O,O);else if(a==="delete-back-single"){var re=c.charAt(O-1),ce=c.charAt(O),he=n-B,we=this._group.test(ce);we&&he===1?O+=1:!we&&this.isNumeralChar(re)&&(O+=-1*he+1),this._group.lastIndex=0,this.$refs.input.$el.setSelectionRange(O,O)}else if(c==="-"&&a==="insert"){this.$refs.input.$el.setSelectionRange(0,0);var pe=this.initCursor(),De=pe+i.length+1;this.$refs.input.$el.setSelectionRange(De,De)}else O=O+(B-n),this.$refs.input.$el.setSelectionRange(O,O)}this.$refs.input.$el.setAttribute("aria-valuenow",t)},concatValues:function(t,i){if(t&&i){var a=i.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?a!==-1?t.replace(this.suffixChar,"").split(this._decimal)[0]+i.replace(this.suffixChar,"").slice(a)+this.suffixChar:t:a!==-1?t.split(this._decimal)[0]+i.slice(a):t}return t},getDecimalLength:function(t){if(t){var i=t.split(this._decimal);if(i.length===2)return i[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0},updateModel:function(t,i){this.d_modelValue=i,this.$emit("update:modelValue",i)},onInputFocus:function(t){this.focused=!0,!this.disabled&&!this.readonly&&this.$refs.input.$el.value!==V9()&&this.highlightOnFocus&&t.target.select(),this.$emit("focus",t)},onInputBlur:function(t){this.focused=!1;var i=t.target,a=this.validateValue(this.parseValue(i.value));this.$emit("blur",{originalEvent:t,value:i.value}),i.value=this.formatValue(a),i.setAttribute("aria-valuenow",a),this.updateModel(t,a),!this.disabled&&!this.readonly&&this.highlightOnFocus&&vb()},clearTimer:function(){this.timer&&clearInterval(this.timer)},maxBoundry:function(){return this.d_modelValue>=this.max},minBoundry:function(){return this.d_modelValue<=this.min}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},upButtonListeners:function(){var t=this;return{mousedown:function(a){return t.onUpButtonMouseDown(a)},mouseup:function(a){return t.onUpButtonMouseUp(a)},mouseleave:function(a){return t.onUpButtonMouseLeave(a)},keydown:function(a){return t.onUpButtonKeyDown(a)},keyup:function(a){return t.onUpButtonKeyUp(a)}}},downButtonListeners:function(){var t=this;return{mousedown:function(a){return t.onDownButtonMouseDown(a)},mouseup:function(a){return t.onDownButtonMouseUp(a)},mouseleave:function(a){return t.onDownButtonMouseLeave(a)},keydown:function(a){return t.onDownButtonKeyDown(a)},keyup:function(a){return t.onDownButtonKeyUp(a)}}},formattedValue:function(){var t=!this.modelValue&&!this.allowEmpty?0:this.modelValue;return this.formatValue(t)},getFormatter:function(){return this.numberFormat},hasFluid:function(){return Qr(this.fluid)?!!this.$pcFluid:this.fluid}},components:{InputText:t_,AngleUpIcon:nI,AngleDownIcon:iI}},Die=["disabled"],Bie=["disabled"],jie=["disabled"],zie=["disabled"];function Vie(e,t,i,a,l,c){var y=Mi("InputText");return ge(),Je("span",Ze({class:e.cx("root")},e.ptmi("root")),[kt(y,{ref:"input",id:e.inputId,role:"spinbutton",class:Ii([e.cx("pcInput"),e.inputClass]),style:Mr(e.inputStyle),value:c.formattedValue,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,inputmode:e.mode==="decimal"&&!e.minFractionDigits?"numeric":"decimal",disabled:e.disabled,readonly:e.readonly,placeholder:e.placeholder,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,invalid:e.invalid,variant:e.variant,onInput:c.onUserInput,onKeydown:c.onInputKeyDown,onKeypress:c.onInputKeyPress,onPaste:c.onPaste,onClick:c.onInputClick,onFocus:c.onInputFocus,onBlur:c.onInputBlur,pt:e.ptm("pcInput"),unstyled:e.unstyled},null,8,["id","class","style","value","aria-valuemin","aria-valuemax","aria-valuenow","inputmode","disabled","readonly","placeholder","aria-labelledby","aria-label","invalid","variant","onInput","onKeydown","onKeypress","onPaste","onClick","onFocus","onBlur","pt","unstyled"]),e.showButtons&&e.buttonLayout==="stacked"?(ge(),Je("span",Ze({key:0,class:e.cx("buttonGroup")},e.ptm("buttonGroup")),[mi(e.$slots,"incrementbutton",{listeners:c.upButtonListeners},function(){return[Se("button",Ze({class:[e.cx("incrementButton"),e.incrementButtonClass]},tb(c.upButtonListeners),{disabled:e.disabled,tabindex:-1,"aria-hidden":"true",type:"button"},e.ptm("incrementButton")),[mi(e.$slots,e.$slots.incrementicon?"incrementicon":"incrementbuttonicon",{},function(){return[(ge(),Vt(Wi(e.incrementIcon||e.incrementButtonIcon?"span":"AngleUpIcon"),Ze({class:[e.incrementIcon,e.incrementButtonIcon]},e.ptm("incrementIcon"),{"data-pc-section":"incrementicon"}),null,16,["class"]))]})],16,Die)]}),mi(e.$slots,"decrementbutton",{listeners:c.downButtonListeners},function(){return[Se("button",Ze({class:[e.cx("decrementButton"),e.decrementButtonClass]},tb(c.downButtonListeners),{disabled:e.disabled,tabindex:-1,"aria-hidden":"true",type:"button"},e.ptm("decrementButton")),[mi(e.$slots,e.$slots.decrementicon?"decrementicon":"decrementbuttonicon",{},function(){return[(ge(),Vt(Wi(e.decrementIcon||e.decrementButtonIcon?"span":"AngleDownIcon"),Ze({class:[e.decrementIcon,e.decrementButtonIcon]},e.ptm("decrementIcon"),{"data-pc-section":"decrementicon"}),null,16,["class"]))]})],16,Bie)]})],16)):Zt("",!0),mi(e.$slots,"incrementbutton",{listeners:c.upButtonListeners},function(){return[e.showButtons&&e.buttonLayout!=="stacked"?(ge(),Je("button",Ze({key:0,class:[e.cx("incrementButton"),e.incrementButtonClass]},tb(c.upButtonListeners),{disabled:e.disabled,tabindex:-1,"aria-hidden":"true",type:"button"},e.ptm("incrementButton")),[mi(e.$slots,e.$slots.incrementicon?"incrementicon":"incrementbuttonicon",{},function(){return[(ge(),Vt(Wi(e.incrementIcon||e.incrementButtonIcon?"span":"AngleUpIcon"),Ze({class:[e.incrementIcon,e.incrementButtonIcon]},e.ptm("incrementIcon"),{"data-pc-section":"incrementicon"}),null,16,["class"]))]})],16,jie)):Zt("",!0)]}),mi(e.$slots,"decrementbutton",{listeners:c.downButtonListeners},function(){return[e.showButtons&&e.buttonLayout!=="stacked"?(ge(),Je("button",Ze({key:0,class:[e.cx("decrementButton"),e.decrementButtonClass]},tb(c.downButtonListeners),{disabled:e.disabled,tabindex:-1,"aria-hidden":"true",type:"button"},e.ptm("decrementButton")),[mi(e.$slots,e.$slots.decrementicon?"decrementicon":"decrementbuttonicon",{},function(){return[(ge(),Vt(Wi(e.decrementIcon||e.decrementButtonIcon?"span":"AngleDownIcon"),Ze({class:[e.decrementIcon,e.decrementButtonIcon]},e.ptm("decrementIcon"),{"data-pc-section":"decrementicon"}),null,16,["class"]))]})],16,zie)):Zt("",!0)]})],16)}v5.render=Vie;const Nie={class:"accordion"},$ie={class:"triangle"},Uie={class:"label"},Gie={key:0,class:"accordion-content"},Hie={__name:"Accordion",props:{label:{type:String,default:"Expand"}},setup(e){const t=ai(!1);return(i,a)=>(ge(),Je("div",Nie,[Se("button",{class:"accordion-header",onClick:a[0]||(a[0]=l=>t.value=!t.value)},[Se("span",$ie,li(t.value?"▼":"▶"),1),Se("span",Uie,li(e.label),1)]),t.value?(ge(),Je("div",Gie,[mi(i.$slots,"default",{},void 0,!0)])):Zt("",!0)]))}},qie=Vo(Hie,[["__scopeId","data-v-411dc47d"]]);var Wie=function(t){var i=t.dt;return`
.p-radiobutton {
    position: relative;
    display: inline-flex;
    user-select: none;
    vertical-align: bottom;
    width: `.concat(i("radiobutton.width"),`;
    height: `).concat(i("radiobutton.height"),`;
}

.p-radiobutton-input {
    cursor: pointer;
    appearance: none;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    padding: 0;
    margin: 0;
    opacity: 0;
    z-index: 1;
    outline: 0 none;
    border: 1px solid transparent;
    border-radius: 50%;
}

.p-radiobutton-box {
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 50%;
    border: 1px solid `).concat(i("radiobutton.border.color"),`;
    background: `).concat(i("radiobutton.background"),`;
    width: `).concat(i("radiobutton.width"),`;
    height: `).concat(i("radiobutton.height"),`;
    transition: background `).concat(i("radiobutton.transition.duration"),", color ").concat(i("radiobutton.transition.duration"),", border-color ").concat(i("radiobutton.transition.duration"),", box-shadow ").concat(i("radiobutton.transition.duration"),", outline-color ").concat(i("radiobutton.transition.duration"),`;
    outline-color: transparent;
    box-shadow: `).concat(i("radiobutton.shadow"),`;
}

.p-radiobutton-icon {
    transition-duration: `).concat(i("radiobutton.transition.duration"),`;
    background: transparent;
    font-size: `).concat(i("radiobutton.icon.size"),`;
    width: `).concat(i("radiobutton.icon.size"),`;
    height: `).concat(i("radiobutton.icon.size"),`;
    border-radius: 50%;
    backface-visibility: hidden;
    transform: translateZ(0) scale(0.1);
}

.p-radiobutton:not(.p-disabled):has(.p-radiobutton-input:hover) .p-radiobutton-box {
    border-color: `).concat(i("radiobutton.hover.border.color"),`;
}

.p-radiobutton-checked .p-radiobutton-box {
    border-color: `).concat(i("radiobutton.checked.border.color"),`;
    background: `).concat(i("radiobutton.checked.background"),`;
}

.p-radiobutton-checked .p-radiobutton-box .p-radiobutton-icon {
    background: `).concat(i("radiobutton.icon.checked.color"),`;
    transform: translateZ(0) scale(1, 1);
    visibility: visible;
}

.p-radiobutton-checked:not(.p-disabled):has(.p-radiobutton-input:hover) .p-radiobutton-box {
    border-color: `).concat(i("radiobutton.checked.hover.border.color"),`;
    background: `).concat(i("radiobutton.checked.hover.background"),`;
}

.p-radiobutton:not(.p-disabled):has(.p-radiobutton-input:hover).p-radiobutton-checked .p-radiobutton-box .p-radiobutton-icon {
    background: `).concat(i("radiobutton.icon.checked.hover.color"),`;
}

.p-radiobutton:not(.p-disabled):has(.p-radiobutton-input:focus-visible) .p-radiobutton-box {
    border-color: `).concat(i("radiobutton.focus.border.color"),`;
    box-shadow: `).concat(i("radiobutton.focus.ring.shadow"),`;
    outline: `).concat(i("radiobutton.focus.ring.width")," ").concat(i("radiobutton.focus.ring.style")," ").concat(i("radiobutton.focus.ring.color"),`;
    outline-offset: `).concat(i("radiobutton.focus.ring.offset"),`;
}

.p-radiobutton-checked:not(.p-disabled):has(.p-radiobutton-input:focus-visible) .p-radiobutton-box {
    border-color: `).concat(i("radiobutton.checked.focus.border.color"),`;
}

.p-radiobutton.p-invalid > .p-radiobutton-box {
    border-color: `).concat(i("radiobutton.invalid.border.color"),`;
}

.p-radiobutton.p-variant-filled .p-radiobutton-box {
    background: `).concat(i("radiobutton.filled.background"),`;
}

.p-radiobutton.p-variant-filled.p-radiobutton-checked .p-radiobutton-box {
    background: `).concat(i("radiobutton.checked.background"),`;
}

.p-radiobutton.p-variant-filled:not(.p-disabled):has(.p-radiobutton-input:hover).p-radiobutton-checked .p-radiobutton-box {
    background: `).concat(i("radiobutton.checked.hover.background"),`;
}

.p-radiobutton.p-disabled {
    opacity: 1;
}

.p-radiobutton.p-disabled .p-radiobutton-box {
    background: `).concat(i("radiobutton.disabled.background"),`;
    border-color: `).concat(i("radiobutton.checked.disabled.border.color"),`;
}

.p-radiobutton-checked.p-disabled .p-radiobutton-box .p-radiobutton-icon {
    background: `).concat(i("radiobutton.icon.disabled.color"),`;
}
`)},Kie={root:function(t){var i=t.instance,a=t.props;return["p-radiobutton p-component",{"p-radiobutton-checked":i.checked,"p-disabled":a.disabled,"p-invalid":a.invalid,"p-variant-filled":a.variant?a.variant==="filled":i.$primevue.config.inputStyle==="filled"||i.$primevue.config.inputVariant==="filled"}]},box:"p-radiobutton-box",input:"p-radiobutton-input",icon:"p-radiobutton-icon"},Zie=In.extend({name:"radiobutton",theme:Wie,classes:Kie}),Qie={name:"BaseRadioButton",extends:Tn,props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:Zie,provide:function(){return{$pcRadioButton:this,$parentInstance:this}}},wp={name:"RadioButton",extends:Qie,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(t){var i=t==="root"?this.ptmi:this.ptm;return i(t,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(t){if(!this.disabled&&!this.readonly){var i=this.binary?!this.checked:this.value;this.$emit("update:modelValue",i),this.$emit("change",t)}},onFocus:function(t){this.$emit("focus",t)},onBlur:function(t){this.$emit("blur",t)}},computed:{checked:function(){return this.modelValue!=null&&(this.binary?!!this.modelValue:ac(this.modelValue,this.value))}}},Xie=["data-p-checked","data-p-disabled"],Jie=["id","value","name","checked","tabindex","disabled","readonly","aria-labelledby","aria-label","aria-invalid"];function Yie(e,t,i,a,l,c){return ge(),Je("div",Ze({class:e.cx("root")},c.getPTOptions("root"),{"data-p-checked":c.checked,"data-p-disabled":e.disabled}),[Se("input",Ze({id:e.inputId,type:"radio",class:[e.cx("input"),e.inputClass],style:e.inputStyle,value:e.value,name:e.name,checked:c.checked,tabindex:e.tabindex,disabled:e.disabled,readonly:e.readonly,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,"aria-invalid":e.invalid||void 0,onFocus:t[0]||(t[0]=function(){return c.onFocus&&c.onFocus.apply(c,arguments)}),onBlur:t[1]||(t[1]=function(){return c.onBlur&&c.onBlur.apply(c,arguments)}),onChange:t[2]||(t[2]=function(){return c.onChange&&c.onChange.apply(c,arguments)})},c.getPTOptions("input")),null,16,Jie),Se("div",Ze({class:e.cx("box")},c.getPTOptions("box")),[Se("div",Ze({class:e.cx("icon")},c.getPTOptions("icon")),null,16)],16)],16,Xie)}wp.render=Yie;const ene={class:"popover-content"},tne={class:"grid-container-interior"},ine={class:"col-6-sm"},nne={id:"high-risk-option"},one={class:"radio-button-container"},rne={for:"low-conversion"},ane={class:"radio-button-container"},sne={for:"mean-conversion"},cne={class:"radio-button-container"},lne={for:"high-conversion"},dne={key:0,class:"radio-button-container"},une={class:"col-4-sm"},hne={key:0,class:"warning"},fne={class:"ac-value"},pne={class:"warning"},mne={class:"code"},gne={class:"calculated-value"},_ne={class:"code"},yne={class:"calculated-value"},bne={key:0,class:"albedo-calculation"},vne={class:"grid-container-interior"},xne={class:"col-10-sm"},wne={class:"albedo-slider-container"},Fne={class:"albedo-slider"},Cne={class:"albedo-slider-axis-label"},Ene={class:"code"},Sne={class:"calculated-value"},Tne={class:"code"},Rne={class:"calculated-value"},Pne={class:"footnotes"},Ine=to({__name:"AvoidedConversionCalculatorAnalyze",props:{workspaceId:{},areaId:{},unprotectedForestAcres:{},carbonMeanPerForestAcre:{},includeAlbedo:{type:Boolean},albedo2DevMean:{},albedo2CropMean:{},albedo2DevWeight:{},albedo2CropWeight:{},conversionRate:{},commitmentPeriod:{},avoidedConversionAmount:{}},setup(e){const t=fc(),i=vr(),a=mo(),l=e;let c=ai(l.includeAlbedo),y=ai(l.albedo2DevWeight),n=ai(l.conversionRate.user),x=ai(l.conversionRate.user);Bh(()=>{console.log("onMounted userConversionRate",n.value),n.value===null?n.value=l.conversionRate.mean:l.conversionRate.user!=l.conversionRate.mean&&l.conversionRate.user!=l.conversionRate.min&&l.conversionRate.user!=l.conversionRate.max&&(n.value="user")}),Ir(n,L=>{L==="user"?(console.log("do nothing"),C(x.value)):C(L)}),Ir(x,L=>{L!=0?C(L):console.log("userConversionRateValue is 0, not updating conversion rate")});const C=L=>{if(console.log("updateConversionRate",L,l.areaId,l.workspaceId),a.activeMapSection==="explore")t.activeArea.data_opportunities.conversionRate.user=L;else if(l.areaId&&l.workspaceId){let G=i.workspaces[l.workspaceId].areas[l.areaId];G.data_opportunities.conversionRate.user=L}else{const G=i.displayedAnalysisArea.area_id,Q=i.activeWorkspaceId;console.log("areaId",G);let Y=i.workspaces[Q].areas[G];Y.data_opportunities.conversionRate.user=L}},k=L=>{a.activeMapSection,a.albedo2DevWeight=L,a.albedo2CropWeight=1-L},O=(L,V,G)=>{let Q=L*(V/100)*G;return Q>L&&(Q=L),Yn(Q)},B=L=>{const V=L*100;return`${100-V}% Ag, ${V}% Dev`};return(L,V)=>{const G=Mi("RadioButtonGroup");return ge(),Je("div",ene,[V[38]||(V[38]=Se("h4",{class:"calculator-header"},"Understanding the calculation",-1)),V[39]||(V[39]=Se("p",null," The anticipated emissions from forest conversion calculation is composed of two components: ",-1)),V[40]||(V[40]=Se("p",null,[Se("strong",null,"Anticipated acres of future forest loss"),Ei(" is calculated by taking the current amount of unsecured forest acres for this area and multiplying it by an annual conversion rate, estimate by county. By default we use the mean forest conversion rate from 1990-2017 and a time period of 25 years"),Se("sup",null,"*"),Ei(". You can adjust both to see their impacts: ")],-1)),Se("div",tne,[Se("div",ine,[V[9]||(V[9]=Se("span",{class:"submetric-title-conversion"},[Se("strong",null,"Annual forest conversion rate")],-1)),Se("div",nne,[kt(G,null,{default:ti(()=>[Se("div",one,[kt(dt(wp),{inputId:"low-conversion",modelValue:dt(n),"onUpdate:modelValue":V[0]||(V[0]=Q=>xo(n)?n.value=Q:n=Q),value:L.conversionRate.min,class:"radio-button"},null,8,["modelValue","value"]),Se("label",rne,"Conservative ("+li(L.conversionRate.min)+"% - Min)",1)]),Se("div",ane,[kt(dt(wp),{inputId:"mean-conversion",modelValue:dt(n),"onUpdate:modelValue":V[1]||(V[1]=Q=>xo(n)?n.value=Q:n=Q),value:L.conversionRate.mean,class:"radio-button"},null,8,["modelValue","value"]),Se("label",sne,"Moderate ("+li(L.conversionRate.mean)+"% - Mean)",1)]),Se("div",cne,[kt(dt(wp),{inputId:"high-conversion",modelValue:dt(n),"onUpdate:modelValue":V[2]||(V[2]=Q=>xo(n)?n.value=Q:n=Q),value:L.conversionRate.max,class:"radio-button"},null,8,["modelValue","value"]),Se("label",lne,"High ("+li(L.conversionRate.max)+"% - Max Annual Rate)",1)]),dt(a).activeMapSection!="explore"?(ge(),Je("div",dne,[kt(dt(wp),{inputId:"high-conversion",modelValue:dt(n),"onUpdate:modelValue":V[3]||(V[3]=Q=>xo(n)?n.value=Q:n=Q),value:"user",class:"radio-button"},null,8,["modelValue"]),V[8]||(V[8]=Se("label",{for:"high-conversion"},"This site faces higher conversion risk",-1))])):Zt("",!0)]),_:1})])]),V[14]||(V[14]=Se("div",{class:"col-1-sm"},null,-1)),Se("div",une,[V[10]||(V[10]=Se("span",{class:"submetric-title"},[Se("strong",null,"Years of conversion")],-1)),kt(dt(h2),{class:"calculator-slider",modelValue:dt(t).commitmentPeriod,"onUpdate:modelValue":V[4]||(V[4]=Q=>dt(t).commitmentPeriod=Q),data:[{value:25,label:"25"},{value:50,label:"50"},{value:75,label:"75"},{value:100,label:"100"}],tooltipStyle:{background:"#10b981"},processStyle:{background:"#10b981"}},null,8,["modelValue"])]),dt(n)==="user"?(ge(),Je("div",hne,[Se("span",fne,[kt(dt(v5),{modelValue:dt(x),"onUpdate:modelValue":[V[5]||(V[5]=Q=>xo(x)?x.value=Q:x=Q),C],size:"small",max:100,minFractionDigits:1,fluid:""},null,8,["modelValue"])]),Se("p",pne,[V[11]||(V[11]=Se("i",{class:"fa-solid fa-triangle-exclamation warning-icon"},null,-1)),V[12]||(V[12]=Se("strong",null,"Warning:",-1)),V[13]||(V[13]=Ei(" Are you sure this land would be converted without protection? To estimate the probability of future forest conversion beyond historical rates you should have specific, credible evidence — like development plans, zoning changes, sale documents noting development potential, or market demand — showing an imminent and financially viable threat of conversion. ")),Se("span",{class:"metadata-link",onClick:V[6]||(V[6]=I2(Q=>dt(a).showMetadata("avoided_forest_conversion"),["stop","prevent"]))},"Learn more about the dangers of baseline inflation when calculating carbon benefits.")])])):Zt("",!0)]),Se("p",mne,[Ei(li(dt(Yn)(L.unprotectedForestAcres).string)+" ac * "+li(L.conversionRate.user)+"% conversion/year * "+li(dt(t).commitmentPeriod)+" years = ",1),Se("span",gne,li(O(L.unprotectedForestAcres,L.conversionRate.user,dt(t).commitmentPeriod).string)+" ac",1)]),V[41]||(V[41]=Se("p",null,[Se("strong",null,"Anticipated emissions from forest conversion"),Ei(" is calculated by multiplying the anticipated acres of unsecured forest converted calculated above by the average amount of carbon per acre of unsecured forest in the polygon"),Se("sup",null,"1"),Ei(". ")],-1)),Se("p",_ne,[Ei(li(O(L.unprotectedForestAcres,L.conversionRate.user,dt(t).commitmentPeriod).string)+" ac * "+li(dt(Yn)(L.carbonMeanPerForestAcre).string)+" t CO",1),V[17]||(V[17]=Se("sub",null,"2",-1)),V[18]||(V[18]=Ei("e/ac = ")),Se("span",yne,[Ei(li(dt(Yn)(L.avoidedConversionAmount.afc).string)+" t CO",1),V[15]||(V[15]=Se("sub",null,"2",-1)),V[16]||(V[16]=Ei("e"))])]),kt(qie,{label:"Advanced: Incorporate albedo into carbon calculation"},{default:ti(()=>[V[37]||(V[37]=Se("p",null," Albedo is a measure of how much sunlight a surface reflects — forests are generally darker and absorb more sunlight, while crops, grasslands, or developed areas tend to reflect more. When forests are cleared, especially in snowy northern regions, the increased reflectivity can slightly cool the climate and offset some of the carbon emissions prevented by avoiding deforestation. ",-1)),dt(c)?(ge(),Je("div",bne,[Se("div",vne,[V[25]||(V[25]=Se("div",{class:"col-1-sm"},null,-1)),Se("div",xne,[Se("div",wne,[V[23]||(V[23]=Se("span",{class:"submetric-title2"},"Proportion of conversion in area transitioning to agriculture or development",-1)),Se("div",Fne,[kt(dt(h2),{modelValue:dt(y),"onUpdate:modelValue":V[7]||(V[7]=Q=>xo(y)?y.value=Q:y=Q),onChange:k,min:0,max:1,interval:.1,"tooltip-formatter":B(dt(y)),tooltipStyle:{background:"#10b981"},processStyle:{background:"#10b981"}},null,8,["modelValue","tooltip-formatter"])]),V[24]||(V[24]=Se("div",{class:"albedo-slider-axis-label"},[Se("span",null,"Agriculture"),Se("span",null,"Development")],-1)),Se("div",Cne,[Se("span",null,[Ei(li(L.albedo2CropMean)+" t CO",1),V[19]||(V[19]=Se("sub",null,"2",-1)),V[20]||(V[20]=Ei("e/ac"))]),Se("span",null,[Ei(li(L.albedo2DevMean)+" t CO",1),V[21]||(V[21]=Se("sub",null,"2",-1)),V[22]||(V[22]=Ei("e/ac"))])])])]),V[26]||(V[26]=Se("div",{class:"col-1-sm"},null,-1))]),V[35]||(V[35]=Se("p",null," First we calculated a modified carbon density estimate by adding the the weighted average albedo, based the proportion of land converted to development or agriculture, as determined using the slider above: ",-1)),Se("p",Ene,[Ei(li(dt(Yn)(L.carbonMeanPerForestAcre).string)+" t CO",1),V[29]||(V[29]=Se("sub",null,"2",-1)),Ei("e/ac + Crop albedo fraction ("+li(dt(Yn)(L.albedo2CropMean).string)+" t CO",1),V[30]||(V[30]=Se("sub",null,"2",-1)),Ei("e/ac * "+li(dt(Yn)(L.albedo2CropWeight).string)+") + Development albedo fraction ("+li(dt(Yn)(L.albedo2DevMean).string)+" t CO",1),V[31]||(V[31]=Se("sub",null,"2",-1)),Ei("e/ac * "+li(dt(Yn)(L.albedo2DevWeight).string)+") = ",1),Se("span",Sne,[Ei(li(dt(Yn)(L.carbonMeanPerForestAcre+L.albedo2CropMean*L.albedo2CropWeight+L.albedo2DevMean*L.albedo2DevWeight).string)+" t CO",1),V[27]||(V[27]=Se("sub",null,"2",-1)),V[28]||(V[28]=Ei("e/ac"))])]),V[36]||(V[36]=Se("p",null," Then we multiply the albedo-adjusted forest carbon by anticipated acres of unsecured forest converted ",-1)),Se("p",Tne,[Ei(li(dt(Yn)(L.carbonMeanPerForestAcre+L.albedo2CropMean*L.albedo2CropWeight+L.albedo2DevMean*L.albedo2DevWeight).string)+" t CO",1),V[34]||(V[34]=Se("sub",null,"2",-1)),Ei("e/ac * "+li(dt(Yn)(L.unprotectedForestAcres*(L.conversionRate.user/100)*dt(t).commitmentPeriod).string)+" ac = ",1),Se("span",Rne,[Ei(li(dt(Yn)(L.unprotectedForestAcres*(L.conversionRate.user/100)*dt(t).commitmentPeriod*(L.carbonMeanPerForestAcre+L.albedo2CropMean*L.albedo2CropWeight+L.albedo2DevMean*L.albedo2DevWeight)).string)+" t CO",1),V[32]||(V[32]=Se("sub",null,"2",-1)),V[33]||(V[33]=Ei("e "))])])])):Zt("",!0)]),_:1}),Se("div",Pne,[Se("p",null," * Annual forest conversion was summarized by county and measured against 1990 forest extent as a baseline. Average conversion rate from 1990 to 2017 ("+li(L.conversionRate.mean)+"%) is used as default, with lowest and highest annual forest conversion from 1990 to 2017 provided as minimum ("+li(L.conversionRate.min)+"%) and maximum values ("+li(L.conversionRate.max)+"%). ",1)])])}}}),oI=Vo(Ine,[["__scopeId","data-v-bab98399"]]),kne={class:"section-summary-card box-shadow-2"},Mne={class:"grid-container-interior"},Ane={class:"col-12-sm col-12-md col-12-lg interior"},One={class:"submetric-value"},Lne={class:"grid-container-interior"},Dne={class:"col-12-sm col-12-md col-12-lg interior"},Bne=to({__name:"SummarySectionCarbon",props:{metrics:{},conversionRate:{},commitmentPeriod:{}},setup(e){fc();const t=mo();ai(!1),ai(!1);let i=e;const a=ai(null),l=()=>{a.value.hide(event),Fl(()=>{a.value.show(event)})},c=x=>{i.conversionRate=x},y=Li(()=>UT(i.metrics.conversionRate.user,i.commitmentPeriod,i.metrics.carbonTotalDist.raw,i.metrics.unprotectedForestAcres.raw,i.metrics.carbonMeanPerForestAcre.raw,t.includeAlbedo,i.metrics.albedo2DevMean.raw,i.metrics.albedo2CropMean.raw,t.albedo2DevWeight,t.albedo2CropWeight)),n=Li(()=>GT(y.value.afc,i.metrics.unprotectedForestPercent.raw,i.metrics.landCostTotal.raw));return(x,C)=>(ge(),Je(Ri,null,[Se("div",kne,[C[9]||(C[9]=Se("h3",{class:"carbon-background"},"Forest Carbon",-1)),Se("div",Mne,[Se("div",Ane,[kt(Ms,{title:"Unsecured Forest Carbon (tCO2e)",metadata_id:"unsecured_carbon_total",value:x.metrics.carbonTotalDist.string,state_rank:"15",state_total:"100",content:"Lorem ipsum dolor sit amet",map_layer_name:"c_unprot_for_c_dist"},{details:ti(()=>[Se("span",One,[Ei(li(x.metrics.carbonMeanPerForestAcre.string)+" tCO",1),C[2]||(C[2]=Se("sub",null,"2",-1)),C[3]||(C[3]=Ei("e/ac"))])]),default:ti(()=>[C[4]||(C[4]=Ei(" /> "))]),_:1},8,["value"])])]),Se("div",Lne,[Se("div",Dne,[kt(Ms,{title:"Anticipated Emissions from Forest Conversion (tCO2e)",metadata_id:"avoided_forest_conversion",value:dt(Yn)(y.value.afc).string,content:"Lorem ipsum dolor sit amet",map_layer_name:"afc_mean_25_acre"},{details:ti(()=>[Se("span",{class:"submetric-value afc-calc",onClick:C[0]||(C[0]=k=>l())},C[5]||(C[5]=[Se("i",{class:"fa-light fa-calculator afc-icon change-map-layer-button"},null,-1),Ei(" Understand & customize calculation ")]))]),_:1},8,["value"])])]),C[10]||(C[10]=Se("hr",null,null,-1)),Se("h4",null,[C[6]||(C[6]=Ei(" Avoided Conversion Emissions ROI ")),kt(f2,{map_layer_name:"usd_per_ton_c_forest_25_mean",name:"Land Cost"})]),Se("p",null,[C[7]||(C[7]=Ei(" If considering just the cost of just the unsecured forests within this area, the ")),Se("span",{class:"title-tooltip",onClick:C[1]||(C[1]=k=>dt(t).showMetadata("afc_roi"))},"estimated cost to protect unsecured forest carbon"),C[8]||(C[8]=Ei(" in this area is ")),Se("strong",null,"$"+li(n.value.usd_per_ton_c_forests.string)+" per ton of carbon",1),Ei(". At a forest conversion rate of "+li(dt(ox)(x.conversionRate.user))+"% per year over a protection period of "+li(x.commitmentPeriod)+" years this is equal to protecting "+li(dt(Yn)(x.metrics.unprotectedForestAcres.raw*x.conversionRate.user/100).string)+" forest acres per year. ",1)]),C[11]||(C[11]=Se("p",null,null,-1))]),kt(dt(Dh),{ref_key:"afcPopover",ref:a,class:"afc-popover custom-popover",style:{"max-width":"750px"}},{default:ti(()=>[kt(oI,{areaId:null,workspaceId:null,commitmentPeriod:dt(i).commitmentPeriod,unprotectedForestAcres:x.metrics.unprotectedForestAcres.raw,carbonMeanPerForestAcre:x.metrics.carbonMeanPerForestAcre.raw,conversionRate:dt(i).conversionRate,albedo2CropMean:x.metrics.albedo2CropMean.raw,albedo2DevMean:x.metrics.albedo2DevMean.raw,albedo2DevWeight:dt(t).albedo2DevWeight,albedo2CropWeight:dt(t).albedo2CropWeight,includeAlbedo:dt(t).includeAlbedo,avoidedConversionAmount:y.value,onUpdateConversionRate:c},null,8,["commitmentPeriod","unprotectedForestAcres","carbonMeanPerForestAcre","conversionRate","albedo2CropMean","albedo2DevMean","albedo2DevWeight","albedo2CropWeight","includeAlbedo","avoidedConversionAmount"])]),_:1},512)],64))}}),rI=Vo(Bne,[["__scopeId","data-v-595d73b5"]]),jne={class:"bar-chart"},zne={class:"bar-label"},Vne={class:"bar-value-label"},Nne=to({__name:"BarChart",props:{data:{}},setup(e){return(t,i)=>(ge(),Je("div",jne,[(ge(!0),Je(Ri,null,wo(t.data,a=>(ge(),Je("div",{key:a.id,class:"bar-container"},[Se("div",zne,[Ei(li(a.label)+" ",1),Se("span",Vne,"("+li(a.percent)+"%)",1)]),Se("div",{class:"bar",style:Mr({width:a.percent+"%",background:a.color})},null,4)]))),128))]))}}),aI=Vo(Nne,[["__scopeId","data-v-3178389a"]]);var sI={name:"ArrowDownIcon",extends:Ro};function $ne(e,t,i,a,l,c){return ge(),Je("svg",Ze({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),t[0]||(t[0]=[Se("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.99994 14C6.91097 14.0004 6.82281 13.983 6.74064 13.9489C6.65843 13.9148 6.58387 13.8646 6.52133 13.8013L1.10198 8.38193C0.982318 8.25351 0.917175 8.08367 0.920272 7.90817C0.923368 7.73267 0.994462 7.56523 1.11858 7.44111C1.24269 7.317 1.41014 7.2459 1.58563 7.2428C1.76113 7.23971 1.93098 7.30485 2.0594 7.42451L6.32263 11.6877V0.677419C6.32263 0.497756 6.394 0.325452 6.52104 0.198411C6.64808 0.0713706 6.82039 0 7.00005 0C7.17971 0 7.35202 0.0713706 7.47906 0.198411C7.6061 0.325452 7.67747 0.497756 7.67747 0.677419V11.6877L11.9407 7.42451C12.0691 7.30485 12.2389 7.23971 12.4144 7.2428C12.5899 7.2459 12.7574 7.317 12.8815 7.44111C13.0056 7.56523 13.0767 7.73267 13.0798 7.90817C13.0829 8.08367 13.0178 8.25351 12.8981 8.38193L7.47875 13.8013C7.41621 13.8646 7.34164 13.9148 7.25944 13.9489C7.17727 13.983 7.08912 14.0004 7.00015 14C7.00012 14 7.00009 14 7.00005 14C7.00001 14 6.99998 14 6.99994 14Z",fill:"currentColor"},null,-1)]),16)}sI.render=$ne;var cI={name:"ArrowUpIcon",extends:Ro};function Une(e,t,i,a,l,c){return ge(),Je("svg",Ze({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),t[0]||(t[0]=[Se("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.51551 13.799C6.64205 13.9255 6.813 13.9977 6.99193 14C7.17087 13.9977 7.34182 13.9255 7.46835 13.799C7.59489 13.6725 7.66701 13.5015 7.66935 13.3226V2.31233L11.9326 6.57554C11.9951 6.63887 12.0697 6.68907 12.1519 6.72319C12.2341 6.75731 12.3223 6.77467 12.4113 6.77425C12.5003 6.77467 12.5885 6.75731 12.6707 6.72319C12.7529 6.68907 12.8274 6.63887 12.89 6.57554C13.0168 6.44853 13.0881 6.27635 13.0881 6.09683C13.0881 5.91732 13.0168 5.74514 12.89 5.61812L7.48846 0.216594C7.48274 0.210436 7.4769 0.204374 7.47094 0.198411C7.3439 0.0713707 7.1716 0 6.99193 0C6.81227 0 6.63997 0.0713707 6.51293 0.198411C6.50704 0.204296 6.50128 0.210278 6.49563 0.216354L1.09386 5.61812C0.974201 5.74654 0.909057 5.91639 0.912154 6.09189C0.91525 6.26738 0.986345 6.43483 1.11046 6.55894C1.23457 6.68306 1.40202 6.75415 1.57752 6.75725C1.75302 6.76035 1.92286 6.6952 2.05128 6.57554L6.31451 2.31231V13.3226C6.31685 13.5015 6.38898 13.6725 6.51551 13.799Z",fill:"currentColor"},null,-1)]),16)}cI.render=Une;function Fg(e){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fg(e)}function Gne(e,t,i){return(t=Hne(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Hne(e){var t=qne(e,"string");return Fg(t)=="symbol"?t:t+""}function qne(e,t){if(Fg(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t||"default");if(Fg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wne=function(t){var i=t.dt;return`
.p-paginator {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
    background: `.concat(i("paginator.background"),`;
    color: `).concat(i("paginator.color"),`;
    padding: `).concat(i("paginator.padding"),`;
    border-radius: `).concat(i("paginator.border.radius"),`;
    gap: `).concat(i("paginator.gap"),`;
}

.p-paginator-content {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
    gap: `).concat(i("paginator.gap"),`;
}

.p-paginator-content-start {
    margin-right: auto;
}

.p-paginator-content-end {
    margin-left: auto;
}

.p-paginator-page,
.p-paginator-next,
.p-paginator-last,
.p-paginator-first,
.p-paginator-prev {
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
    user-select: none;
    overflow: hidden;
    position: relative;
    background: `).concat(i("paginator.nav.button.background"),`;
    border: 0 none;
    color: `).concat(i("paginator.nav.button.color"),`;
    min-width: `).concat(i("paginator.nav.button.width"),`;
    height: `).concat(i("paginator.nav.button.height"),`;
    transition: background `).concat(i("paginator.transition.duration"),", color ").concat(i("paginator.transition.duration"),", outline-color ").concat(i("paginator.transition.duration"),", box-shadow ").concat(i("paginator.transition.duration"),`;
    border-radius: `).concat(i("paginator.nav.button.border.radius"),`;
    padding: 0;
    margin: 0;
}

.p-paginator-page:focus-visible,
.p-paginator-next:focus-visible,
.p-paginator-last:focus-visible,
.p-paginator-first:focus-visible,
.p-paginator-prev:focus-visible {
    box-shadow: `).concat(i("paginator.nav.button.focus.ring.shadow"),`;
    outline: `).concat(i("paginator.nav.button.focus.ring.width")," ").concat(i("paginator.nav.button.focus.ring.style")," ").concat(i("paginator.nav.button.focus.ring.color"),`;
    outline-offset: `).concat(i("paginator.nav.button.focus.ring.offset"),`;
}

.p-paginator-page:not(.p-disabled):not(.p-paginator-page-selected):hover,
.p-paginator-first:not(.p-disabled):hover,
.p-paginator-prev:not(.p-disabled):hover,
.p-paginator-next:not(.p-disabled):hover,
.p-paginator-last:not(.p-disabled):hover {
    background: `).concat(i("paginator.nav.button.hover.background"),`;
    color: `).concat(i("paginator.nav.button.hover.color"),`;
}

.p-paginator-page.p-paginator-page-selected {
    background: `).concat(i("paginator.nav.button.selected.background"),`;
    color: `).concat(i("paginator.nav.button.selected.color"),`;
}

.p-paginator-current {
    color: `).concat(i("paginator.current.page.report.color"),`;
}

.p-paginator-pages {
    display: flex;
    align-items: center;
    gap: `).concat(i("paginator.gap"),`;
}

.p-paginator-jtp-input .p-inputtext {
    max-width: `).concat(i("paginator.jump.to.page.input.max.width"),`;
}
`)},Kne={paginator:function(t){var i=t.instance,a=t.key;return["p-paginator p-component",Gne({"p-paginator-default":!i.hasBreakpoints()},"p-paginator-".concat(a),i.hasBreakpoints())]},content:"p-paginator-content",contentStart:"p-paginator-content-start",contentEnd:"p-paginator-content-end",first:function(t){var i=t.instance;return["p-paginator-first",{"p-disabled":i.$attrs.disabled}]},firstIcon:"p-paginator-first-icon",prev:function(t){var i=t.instance;return["p-paginator-prev",{"p-disabled":i.$attrs.disabled}]},prevIcon:"p-paginator-prev-icon",next:function(t){var i=t.instance;return["p-paginator-next",{"p-disabled":i.$attrs.disabled}]},nextIcon:"p-paginator-next-icon",last:function(t){var i=t.instance;return["p-paginator-last",{"p-disabled":i.$attrs.disabled}]},lastIcon:"p-paginator-last-icon",pages:"p-paginator-pages",page:function(t){var i=t.props,a=t.pageLink;return["p-paginator-page",{"p-paginator-page-selected":a-1===i.page}]},current:"p-paginator-current",pcRowPerPageDropdown:"p-paginator-rpp-dropdown",pcJumpToPageDropdown:"p-paginator-jtp-dropdown",pcJumpToPageInput:"p-paginator-jtp-input"},Zne=In.extend({name:"paginator",theme:Wne,classes:Kne}),lI={name:"AngleDoubleLeftIcon",extends:Ro};function Qne(e,t,i,a,l,c){return ge(),Je("svg",Ze({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),t[0]||(t[0]=[Se("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.71602 11.164C5.80782 11.2021 5.9063 11.2215 6.00569 11.221C6.20216 11.2301 6.39427 11.1612 6.54025 11.0294C6.68191 10.8875 6.76148 10.6953 6.76148 10.4948C6.76148 10.2943 6.68191 10.1021 6.54025 9.96024L3.51441 6.9344L6.54025 3.90855C6.624 3.76126 6.65587 3.59011 6.63076 3.42254C6.60564 3.25498 6.525 3.10069 6.40175 2.98442C6.2785 2.86815 6.11978 2.79662 5.95104 2.7813C5.78229 2.76598 5.61329 2.80776 5.47112 2.89994L1.97123 6.39983C1.82957 6.54167 1.75 6.73393 1.75 6.9344C1.75 7.13486 1.82957 7.32712 1.97123 7.46896L5.47112 10.9991C5.54096 11.0698 5.62422 11.1259 5.71602 11.164ZM11.0488 10.9689C11.1775 11.1156 11.3585 11.2061 11.5531 11.221C11.7477 11.2061 11.9288 11.1156 12.0574 10.9689C12.1815 10.8302 12.25 10.6506 12.25 10.4645C12.25 10.2785 12.1815 10.0989 12.0574 9.96024L9.03158 6.93439L12.0574 3.90855C12.1248 3.76739 12.1468 3.60881 12.1204 3.45463C12.0939 3.30045 12.0203 3.15826 11.9097 3.04765C11.7991 2.93703 11.6569 2.86343 11.5027 2.83698C11.3486 2.81053 11.19 2.83252 11.0488 2.89994L7.51865 6.36957C7.37699 6.51141 7.29742 6.70367 7.29742 6.90414C7.29742 7.1046 7.37699 7.29686 7.51865 7.4387L11.0488 10.9689Z",fill:"currentColor"},null,-1)]),16)}lI.render=Qne;var dI={name:"AngleDoubleRightIcon",extends:Ro};function Xne(e,t,i,a,l,c){return ge(),Je("svg",Ze({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),t[0]||(t[0]=[Se("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.68757 11.1451C7.7791 11.1831 7.8773 11.2024 7.9764 11.2019C8.07769 11.1985 8.17721 11.1745 8.26886 11.1312C8.36052 11.088 8.44238 11.0265 8.50943 10.9505L12.0294 7.49085C12.1707 7.34942 12.25 7.15771 12.25 6.95782C12.25 6.75794 12.1707 6.56622 12.0294 6.42479L8.50943 2.90479C8.37014 2.82159 8.20774 2.78551 8.04633 2.80192C7.88491 2.81833 7.73309 2.88635 7.6134 2.99588C7.4937 3.10541 7.41252 3.25061 7.38189 3.40994C7.35126 3.56927 7.37282 3.73423 7.44337 3.88033L10.4605 6.89748L7.44337 9.91463C7.30212 10.0561 7.22278 10.2478 7.22278 10.4477C7.22278 10.6475 7.30212 10.8393 7.44337 10.9807C7.51301 11.0512 7.59603 11.1071 7.68757 11.1451ZM1.94207 10.9505C2.07037 11.0968 2.25089 11.1871 2.44493 11.2019C2.63898 11.1871 2.81949 11.0968 2.94779 10.9505L6.46779 7.49085C6.60905 7.34942 6.68839 7.15771 6.68839 6.95782C6.68839 6.75793 6.60905 6.56622 6.46779 6.42479L2.94779 2.90479C2.80704 2.83757 2.6489 2.81563 2.49517 2.84201C2.34143 2.86839 2.19965 2.94178 2.08936 3.05207C1.97906 3.16237 1.90567 3.30415 1.8793 3.45788C1.85292 3.61162 1.87485 3.76975 1.94207 3.9105L4.95922 6.92765L1.94207 9.9448C1.81838 10.0831 1.75 10.2621 1.75 10.4477C1.75 10.6332 1.81838 10.8122 1.94207 10.9505Z",fill:"currentColor"},null,-1)]),16)}dI.render=Xne;var uI={name:"AngleRightIcon",extends:Ro};function Jne(e,t,i,a,l,c){return ge(),Je("svg",Ze({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),t[0]||(t[0]=[Se("path",{d:"M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z",fill:"currentColor"},null,-1)]),16)}uI.render=Jne;var hI={name:"AngleLeftIcon",extends:Ro};function Yne(e,t,i,a,l,c){return ge(),Je("svg",Ze({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),t[0]||(t[0]=[Se("path",{d:"M8.75 11.185C8.65146 11.1854 8.55381 11.1662 8.4628 11.1284C8.37179 11.0906 8.28924 11.0351 8.22 10.965L4.72 7.46496C4.57955 7.32433 4.50066 7.13371 4.50066 6.93496C4.50066 6.73621 4.57955 6.54558 4.72 6.40496L8.22 2.93496C8.36095 2.84357 8.52851 2.80215 8.69582 2.81733C8.86312 2.83252 9.02048 2.90344 9.14268 3.01872C9.26487 3.134 9.34483 3.28696 9.36973 3.4531C9.39463 3.61924 9.36303 3.78892 9.28 3.93496L6.28 6.93496L9.28 9.93496C9.42045 10.0756 9.49934 10.2662 9.49934 10.465C9.49934 10.6637 9.42045 10.8543 9.28 10.995C9.13526 11.1257 8.9448 11.1939 8.75 11.185Z",fill:"currentColor"},null,-1)]),16)}hI.render=Yne;var eoe={name:"BasePaginator",extends:Tn,props:{totalRecords:{type:Number,default:0},rows:{type:Number,default:0},first:{type:Number,default:0},pageLinkSize:{type:Number,default:5},rowsPerPageOptions:{type:Array,default:null},template:{type:[Object,String],default:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown"},currentPageReportTemplate:{type:null,default:"({currentPage} of {totalPages})"},alwaysShow:{type:Boolean,default:!0}},style:Zne,provide:function(){return{$pcPaginator:this,$parentInstance:this}}},fI={name:"CurrentPageReport",hostName:"Paginator",extends:Tn,props:{pageCount:{type:Number,default:0},currentPage:{type:Number,default:0},page:{type:Number,default:0},first:{type:Number,default:0},rows:{type:Number,default:0},totalRecords:{type:Number,default:0},template:{type:String,default:"({currentPage} of {totalPages})"}},computed:{text:function(){var t=this.template.replace("{currentPage}",this.currentPage).replace("{totalPages}",this.pageCount).replace("{first}",this.pageCount>0?this.first+1:0).replace("{last}",Math.min(this.first+this.rows,this.totalRecords)).replace("{rows}",this.rows).replace("{totalRecords}",this.totalRecords);return t}}};function toe(e,t,i,a,l,c){return ge(),Je("span",Ze({class:e.cx("current")},e.ptm("current")),li(c.text),17)}fI.render=toe;var pI={name:"FirstPageLink",hostName:"Paginator",extends:Tn,props:{template:{type:Function,default:null}},methods:{getPTOptions:function(t){return this.ptm(t,{context:{disabled:this.$attrs.disabled}})}},components:{AngleDoubleLeftIcon:lI},directives:{ripple:Bs}};function ioe(e,t,i,a,l,c){var y=Nr("ripple");return Qo((ge(),Je("button",Ze({class:e.cx("first"),type:"button"},c.getPTOptions("first"),{"data-pc-group-section":"pagebutton"}),[(ge(),Vt(Wi(i.template||"AngleDoubleLeftIcon"),Ze({class:e.cx("firstIcon")},c.getPTOptions("firstIcon")),null,16,["class"]))],16)),[[y]])}pI.render=ioe;var mI={name:"JumpToPageDropdown",hostName:"Paginator",extends:Tn,emits:["page-change"],props:{page:Number,pageCount:Number,disabled:Boolean,templates:null},methods:{onChange:function(t){this.$emit("page-change",t)}},computed:{pageOptions:function(){for(var t=[],i=0;i<this.pageCount;i++)t.push({label:String(i+1),value:i});return t}},components:{JTPSelect:lu}};function noe(e,t,i,a,l,c){var y=Mi("JTPSelect");return ge(),Vt(y,{modelValue:i.page,options:c.pageOptions,optionLabel:"label",optionValue:"value","onUpdate:modelValue":t[0]||(t[0]=function(n){return c.onChange(n)}),class:Ii(e.cx("pcJumpToPageDropdown")),disabled:i.disabled,unstyled:e.unstyled,pt:e.ptm("pcJumpToPageDropdown"),"data-pc-group-section":"pagedropdown"},Ih({_:2},[i.templates.jumptopagedropdownicon?{name:"dropdownicon",fn:ti(function(n){return[(ge(),Vt(Wi(i.templates.jumptopagedropdownicon),{class:Ii(n.class)},null,8,["class"]))]}),key:"0"}:void 0]),1032,["modelValue","options","class","disabled","unstyled","pt"])}mI.render=noe;var gI={name:"JumpToPageInput",hostName:"Paginator",extends:Tn,inheritAttrs:!1,emits:["page-change"],props:{page:Number,pageCount:Number,disabled:Boolean},data:function(){return{d_page:this.page}},watch:{page:function(t){this.d_page=t}},methods:{onChange:function(t){t!==this.page&&(this.d_page=t,this.$emit("page-change",t-1))}},computed:{inputArialabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.jumpToPageInputLabel:void 0}},components:{JTPInput:v5}};function ooe(e,t,i,a,l,c){var y=Mi("JTPInput");return ge(),Vt(y,{ref:"jtpInput",modelValue:l.d_page,class:Ii(e.cx("pcJumpToPageInput")),"aria-label":c.inputArialabel,disabled:i.disabled,"onUpdate:modelValue":c.onChange,unstyled:e.unstyled,pt:e.ptm("pcJumpToPageInput")},null,8,["modelValue","class","aria-label","disabled","onUpdate:modelValue","unstyled","pt"])}gI.render=ooe;var _I={name:"LastPageLink",hostName:"Paginator",extends:Tn,props:{template:{type:Function,default:null}},methods:{getPTOptions:function(t){return this.ptm(t,{context:{disabled:this.$attrs.disabled}})}},components:{AngleDoubleRightIcon:dI},directives:{ripple:Bs}};function roe(e,t,i,a,l,c){var y=Nr("ripple");return Qo((ge(),Je("button",Ze({class:e.cx("last"),type:"button"},c.getPTOptions("last"),{"data-pc-group-section":"pagebutton"}),[(ge(),Vt(Wi(i.template||"AngleDoubleRightIcon"),Ze({class:e.cx("lastIcon")},c.getPTOptions("lastIcon")),null,16,["class"]))],16)),[[y]])}_I.render=roe;var yI={name:"NextPageLink",hostName:"Paginator",extends:Tn,props:{template:{type:Function,default:null}},methods:{getPTOptions:function(t){return this.ptm(t,{context:{disabled:this.$attrs.disabled}})}},components:{AngleRightIcon:uI},directives:{ripple:Bs}};function aoe(e,t,i,a,l,c){var y=Nr("ripple");return Qo((ge(),Je("button",Ze({class:e.cx("next"),type:"button"},c.getPTOptions("next"),{"data-pc-group-section":"pagebutton"}),[(ge(),Vt(Wi(i.template||"AngleRightIcon"),Ze({class:e.cx("nextIcon")},c.getPTOptions("nextIcon")),null,16,["class"]))],16)),[[y]])}yI.render=aoe;var bI={name:"PageLinks",hostName:"Paginator",extends:Tn,inheritAttrs:!1,emits:["click"],props:{value:Array,page:Number},methods:{getPTOptions:function(t,i){return this.ptm(i,{context:{active:t===this.page}})},onPageLinkClick:function(t,i){this.$emit("click",{originalEvent:t,value:i})},ariaPageLabel:function(t){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.pageLabel.replace(/{page}/g,t):void 0}},directives:{ripple:Bs}},soe=["aria-label","aria-current","onClick","data-p-active"];function coe(e,t,i,a,l,c){var y=Nr("ripple");return ge(),Je("span",Ze({class:e.cx("pages")},e.ptm("pages")),[(ge(!0),Je(Ri,null,wo(i.value,function(n){return Qo((ge(),Je("button",Ze({key:n,class:e.cx("page",{pageLink:n}),type:"button","aria-label":c.ariaPageLabel(n),"aria-current":n-1===i.page?"page":void 0,onClick:function(C){return c.onPageLinkClick(C,n)},ref_for:!0},c.getPTOptions(n-1,"page"),{"data-p-active":n-1===i.page}),[Ei(li(n),1)],16,soe)),[[y]])}),128))],16)}bI.render=coe;var vI={name:"PrevPageLink",hostName:"Paginator",extends:Tn,props:{template:{type:Function,default:null}},methods:{getPTOptions:function(t){return this.ptm(t,{context:{disabled:this.$attrs.disabled}})}},components:{AngleLeftIcon:hI},directives:{ripple:Bs}};function loe(e,t,i,a,l,c){var y=Nr("ripple");return Qo((ge(),Je("button",Ze({class:e.cx("prev"),type:"button"},c.getPTOptions("prev"),{"data-pc-group-section":"pagebutton"}),[(ge(),Vt(Wi(i.template||"AngleLeftIcon"),Ze({class:e.cx("prevIcon")},c.getPTOptions("prevIcon")),null,16,["class"]))],16)),[[y]])}vI.render=loe;var xI={name:"RowsPerPageDropdown",hostName:"Paginator",extends:Tn,emits:["rows-change"],props:{options:Array,rows:Number,disabled:Boolean,templates:null},methods:{onChange:function(t){this.$emit("rows-change",t)}},computed:{rowsOptions:function(){var t=[];if(this.options)for(var i=0;i<this.options.length;i++)t.push({label:String(this.options[i]),value:this.options[i]});return t}},components:{RPPSelect:lu}};function doe(e,t,i,a,l,c){var y=Mi("RPPSelect");return ge(),Vt(y,{modelValue:i.rows,options:c.rowsOptions,optionLabel:"label",optionValue:"value","onUpdate:modelValue":t[0]||(t[0]=function(n){return c.onChange(n)}),class:Ii(e.cx("pcRowPerPageDropdown")),disabled:i.disabled,unstyled:e.unstyled,pt:e.ptm("pcRowPerPageDropdown"),"data-pc-group-section":"pagedropdown"},Ih({_:2},[i.templates.rowsperpagedropdownicon?{name:"dropdownicon",fn:ti(function(n){return[(ge(),Vt(Wi(i.templates.rowsperpagedropdownicon),{class:Ii(n.class)},null,8,["class"]))]}),key:"0"}:void 0]),1032,["modelValue","options","class","disabled","unstyled","pt"])}xI.render=doe;function uoe(e){return poe(e)||foe(e)||wI(e)||hoe()}function hoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function foe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function poe(e){if(Array.isArray(e))return jx(e)}function Bx(e){"@babel/helpers - typeof";return Bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bx(e)}function EE(e,t){return _oe(e)||goe(e,t)||wI(e,t)||moe()}function moe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wI(e,t){if(e){if(typeof e=="string")return jx(e,t);var i={}.toString.call(e).slice(8,-1);return i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set"?Array.from(e):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?jx(e,t):void 0}}function jx(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,a=Array(t);i<t;i++)a[i]=e[i];return a}function goe(e,t){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var a,l,c,y,n=[],x=!0,C=!1;try{if(c=(i=i.call(e)).next,t===0){if(Object(i)!==i)return;x=!1}else for(;!(x=(a=c.call(i)).done)&&(n.push(a.value),n.length!==t);x=!0);}catch(k){C=!0,l=k}finally{try{if(!x&&i.return!=null&&(y=i.return(),Object(y)!==y))return}finally{if(C)throw l}}return n}}function _oe(e){if(Array.isArray(e))return e}var FI={name:"Paginator",extends:eoe,inheritAttrs:!1,emits:["update:first","update:rows","page"],data:function(){return{d_first:this.first,d_rows:this.rows}},watch:{first:function(t){this.d_first=t},rows:function(t){this.d_rows=t},totalRecords:function(t){this.page>0&&t&&this.d_first>=t&&this.changePage(this.pageCount-1)}},mounted:function(){this.setPaginatorAttribute(),this.createStyle()},methods:{changePage:function(t){var i=this.pageCount;if(t>=0&&t<i){this.d_first=this.d_rows*t;var a={page:t,first:this.d_first,rows:this.d_rows,pageCount:i};this.$emit("update:first",this.d_first),this.$emit("update:rows",this.d_rows),this.$emit("page",a)}},changePageToFirst:function(t){this.isFirstPage||this.changePage(0),t.preventDefault()},changePageToPrev:function(t){this.changePage(this.page-1),t.preventDefault()},changePageLink:function(t){this.changePage(t.value-1),t.originalEvent.preventDefault()},changePageToNext:function(t){this.changePage(this.page+1),t.preventDefault()},changePageToLast:function(t){this.isLastPage||this.changePage(this.pageCount-1),t.preventDefault()},onRowChange:function(t){this.d_rows=t,this.changePage(this.page)},createStyle:function(){var t=this;if(this.hasBreakpoints()&&!this.isUnstyled){var i;this.styleElement=document.createElement("style"),this.styleElement.type="text/css",Ng(this.styleElement,"nonce",(i=this.$primevue)===null||i===void 0||(i=i.config)===null||i===void 0||(i=i.csp)===null||i===void 0?void 0:i.nonce),document.head.appendChild(this.styleElement);var a="",l=Object.keys(this.template),c={};l.sort(function(V,G){return parseInt(V)-parseInt(G)}).forEach(function(V){c[V]=t.template[V]});for(var y=0,n=Object.entries(Object.entries(c));y<n.length;y++){var x=EE(n[y],2),C=x[0],k=EE(x[1],1),O=k[0],B=void 0,L=void 0;O!=="default"&&typeof Object.keys(c)[C-1]=="string"?L=Number(Object.keys(c)[C-1].slice(0,-2))+1+"px":L=Object.keys(c)[C-1],B=Object.entries(c)[C-1]?"and (min-width:".concat(L,")"):"",O==="default"?a+=`
                            @media screen `.concat(B,` {
                                .paginator[`).concat(this.attributeSelector,`],
                                    display: flex;
                                }
                            }
                        `):a+=`
.paginator[`.concat(this.attributeSelector,"], .p-paginator-").concat(O,` {
    display: none;
}
@media screen `).concat(B," and (max-width: ").concat(O,`) {
    .paginator[`).concat(this.attributeSelector,"], .p-paginator-").concat(O,` {
        display: flex;
    }
    .paginator[`).concat(this.attributeSelector,`],
    .p-paginator-default{
        display: none;
    }
}
                    `)}this.styleElement.innerHTML=a}},hasBreakpoints:function(){return Bx(this.template)==="object"},setPaginatorAttribute:function(){var t=this;this.$refs.paginator&&this.$refs.paginator.length>=0&&uoe(this.$refs.paginator).forEach(function(i){i.setAttribute(t.attributeSelector,"")})},getAriaLabel:function(t){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria[t]:void 0}},computed:{templateItems:function(){var t={};if(this.hasBreakpoints()){t=this.template,t.default||(t.default="FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown");for(var i in t)t[i]=this.template[i].split(" ").map(function(a){return a.trim()});return t}return t.default=this.template.split(" ").map(function(a){return a.trim()}),t},page:function(){return Math.floor(this.d_first/this.d_rows)},pageCount:function(){return Math.ceil(this.totalRecords/this.d_rows)},isFirstPage:function(){return this.page===0},isLastPage:function(){return this.page===this.pageCount-1},calculatePageLinkBoundaries:function(){var t=this.pageCount,i=Math.min(this.pageLinkSize,t),a=Math.max(0,Math.ceil(this.page-i/2)),l=Math.min(t-1,a+i-1),c=this.pageLinkSize-(l-a+1);return a=Math.max(0,a-c),[a,l]},pageLinks:function(){for(var t=[],i=this.calculatePageLinkBoundaries,a=i[0],l=i[1],c=a;c<=l;c++)t.push(c+1);return t},currentState:function(){return{page:this.page,first:this.d_first,rows:this.d_rows}},empty:function(){return this.pageCount===0},currentPage:function(){return this.pageCount>0?this.page+1:0},attributeSelector:function(){return hr()}},components:{CurrentPageReport:fI,FirstPageLink:pI,LastPageLink:_I,NextPageLink:yI,PageLinks:bI,PrevPageLink:vI,RowsPerPageDropdown:xI,JumpToPageDropdown:mI,JumpToPageInput:gI}};function yoe(e,t,i,a,l,c){var y=Mi("FirstPageLink"),n=Mi("PrevPageLink"),x=Mi("NextPageLink"),C=Mi("LastPageLink"),k=Mi("PageLinks"),O=Mi("CurrentPageReport"),B=Mi("RowsPerPageDropdown"),L=Mi("JumpToPageDropdown"),V=Mi("JumpToPageInput");return e.alwaysShow||c.pageLinks&&c.pageLinks.length>1?(ge(),Je("nav",Bg(Ze({key:0},e.ptmi("paginatorContainer"))),[(ge(!0),Je(Ri,null,wo(c.templateItems,function(G,Q){return ge(),Je("div",Ze({key:Q,ref_for:!0,ref:"paginator",class:e.cx("paginator",{key:Q})},e.ptm("root")),[e.$slots.start?(ge(),Je("div",Ze({key:0,class:e.cx("contentStart"),ref_for:!0},e.ptm("contentStart")),[mi(e.$slots,"start",{state:c.currentState})],16)):Zt("",!0),Se("div",Ze({class:e.cx("content"),ref_for:!0},e.ptm("content")),[(ge(!0),Je(Ri,null,wo(G,function(Y){return ge(),Je(Ri,{key:Y},[Y==="FirstPageLink"?(ge(),Vt(y,{key:0,"aria-label":c.getAriaLabel("firstPageLabel"),template:e.$slots.firsticon||e.$slots.firstpagelinkicon,onClick:t[0]||(t[0]=function(J){return c.changePageToFirst(J)}),disabled:c.isFirstPage||c.empty,unstyled:e.unstyled,pt:e.pt},null,8,["aria-label","template","disabled","unstyled","pt"])):Y==="PrevPageLink"?(ge(),Vt(n,{key:1,"aria-label":c.getAriaLabel("prevPageLabel"),template:e.$slots.previcon||e.$slots.prevpagelinkicon,onClick:t[1]||(t[1]=function(J){return c.changePageToPrev(J)}),disabled:c.isFirstPage||c.empty,unstyled:e.unstyled,pt:e.pt},null,8,["aria-label","template","disabled","unstyled","pt"])):Y==="NextPageLink"?(ge(),Vt(x,{key:2,"aria-label":c.getAriaLabel("nextPageLabel"),template:e.$slots.nexticon||e.$slots.nextpagelinkicon,onClick:t[2]||(t[2]=function(J){return c.changePageToNext(J)}),disabled:c.isLastPage||c.empty,unstyled:e.unstyled,pt:e.pt},null,8,["aria-label","template","disabled","unstyled","pt"])):Y==="LastPageLink"?(ge(),Vt(C,{key:3,"aria-label":c.getAriaLabel("lastPageLabel"),template:e.$slots.lasticon||e.$slots.lastpagelinkicon,onClick:t[3]||(t[3]=function(J){return c.changePageToLast(J)}),disabled:c.isLastPage||c.empty,unstyled:e.unstyled,pt:e.pt},null,8,["aria-label","template","disabled","unstyled","pt"])):Y==="PageLinks"?(ge(),Vt(k,{key:4,"aria-label":c.getAriaLabel("pageLabel"),value:c.pageLinks,page:c.page,onClick:t[4]||(t[4]=function(J){return c.changePageLink(J)}),unstyled:e.unstyled,pt:e.pt},null,8,["aria-label","value","page","unstyled","pt"])):Y==="CurrentPageReport"?(ge(),Vt(O,{key:5,"aria-live":"polite",template:e.currentPageReportTemplate,currentPage:c.currentPage,page:c.page,pageCount:c.pageCount,first:l.d_first,rows:l.d_rows,totalRecords:e.totalRecords,unstyled:e.unstyled,pt:e.pt},null,8,["template","currentPage","page","pageCount","first","rows","totalRecords","unstyled","pt"])):Y==="RowsPerPageDropdown"&&e.rowsPerPageOptions?(ge(),Vt(B,{key:6,"aria-label":c.getAriaLabel("rowsPerPageLabel"),rows:l.d_rows,options:e.rowsPerPageOptions,onRowsChange:t[5]||(t[5]=function(J){return c.onRowChange(J)}),disabled:c.empty,templates:e.$slots,unstyled:e.unstyled,pt:e.pt},null,8,["aria-label","rows","options","disabled","templates","unstyled","pt"])):Y==="JumpToPageDropdown"?(ge(),Vt(L,{key:7,"aria-label":c.getAriaLabel("jumpToPageDropdownLabel"),page:c.page,pageCount:c.pageCount,onPageChange:t[6]||(t[6]=function(J){return c.changePage(J)}),disabled:c.empty,templates:e.$slots,unstyled:e.unstyled,pt:e.pt},null,8,["aria-label","page","pageCount","disabled","templates","unstyled","pt"])):Y==="JumpToPageInput"?(ge(),Vt(V,{key:8,page:c.currentPage,onPageChange:t[7]||(t[7]=function(J){return c.changePage(J)}),disabled:c.empty,unstyled:e.unstyled,pt:e.pt},null,8,["page","disabled","unstyled","pt"])):Zt("",!0)],64)}),128))],16),e.$slots.end?(ge(),Je("div",Ze({key:1,class:e.cx("contentEnd"),ref_for:!0},e.ptm("contentEnd")),[mi(e.$slots,"end",{state:c.currentState})],16)):Zt("",!0)],16)}),128))],16)):Zt("",!0)}FI.render=yoe;var boe=function(t){var i=t.dt;return`
.p-datatable {
    position: relative;
}

.p-datatable-table {
    border-spacing: 0;
    width: 100%;
}

.p-datatable-scrollable > .p-datatable-table-container {
    position: relative;
}

.p-datatable-scrollable-table > .p-datatable-thead {
    top: 0;
    z-index: 1;
}

.p-datatable-scrollable-table > .p-datatable-frozen-tbody {
    position: sticky;
    z-index: 1;
}

.p-datatable-scrollable-table>.p-datatable-tfoot {
    bottom: 0;
    z-index: 1;
}

.p-datatable-scrollable .p-datatable-frozen-column {
    position: sticky;
    background: `.concat(i("datatable.header.cell.background"),`;
}

.p-datatable-scrollable th.p-datatable-frozen-column {
    z-index: 1;
}

.p-datatable-scrollable > .p-datatable-table-container > .p-datatable-table > .p-datatable-thead,
.p-datatable-scrollable > .p-datatable-table-container > .p-virtualscroller > .p-datatable-table > .p-datatable-thead {
    background: `).concat(i("datatable.header.cell.background"),`;
}

.p-datatable-scrollable > .p-datatable-table-container > .p-datatable-table > .p-datatable-tfoot,
.p-datatable-scrollable > .p-datatable-table-container > .p-virtualscroller > .p-datatable-table > .p-datatable-tfoot {
    background: `).concat(i("datatable.footer.cell.background"),`;
}

.p-datatable-flex-scrollable {
    display: flex;
    flex-direction: column;
    height: 100%;
}

.p-datatable-flex-scrollable > .p-datatable-table-container {
    display: flex;
    flex-direction: column;
    flex: 1;
    height: 100%;
}

.p-datatable-scrollable-table > .p-datatable-tbody > .p-datatable-row-group-header {
    position: sticky;
    z-index: 1;
}

.p-datatable-resizable-table > .p-datatable-thead > tr > th,
.p-datatable-resizable-table > .p-datatable-tfoot > tr > td,
.p-datatable-resizable-table > .p-datatable-tbody > tr > td {
    overflow: hidden;
    white-space: nowrap;
}

.p-datatable-resizable-table > .p-datatable-thead > tr > th.p-datatable-resizable-column:not(.p-datatable-frozen-column) {
    background-clip: padding-box;
    position: relative;
}

.p-datatable-resizable-table-fit > .p-datatable-thead > tr > th.p-datatable-resizable-column:last-child .p-datatable-column-resizer {
    display: none;
}

.p-datatable-column-resizer {
    display: block;
    position: absolute;
    top: 0;
    right: 0;
    margin: 0;
    width: `).concat(i("datatable.column.resizer.width"),`;
    height: 100%;
    padding: 0px;
    cursor: col-resize;
    border: 1px solid transparent;
}

.p-datatable-column-header-content {
    display: flex;
    align-items: center;
    gap: `).concat(i("datatable.header.cell.gap"),`;
}

.p-datatable-column-resize-indicator {
    width: `).concat(i("datatable.resize.indicator.width"),`;
    position: absolute;
    z-index: 10;
    display: none;
    background: `).concat(i("datatable.resize.indicator.color"),`;
}

.p-datatable-row-reorder-indicator-up,
.p-datatable-row-reorder-indicator-down {
    position: absolute;
    display: none;
}

.p-datatable-reorderable-column,
.p-datatable-reorderable-row-handle {
    cursor: move;
}

.p-datatable-mask {
    position: absolute;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2;
}

.p-datatable-inline-filter {
    display: flex;
    align-items: center;
    width: 100%;
    gap: `).concat(i("datatable.filter.inline.gap"),`;
}

.p-datatable-inline-filter .p-datatable-filter-element-container {
    flex: 1 1 auto;
    width: 1%;
}

.p-datatable-filter-overlay {
    background: `).concat(i("datatable.filter.overlay.select.background"),`;
    color: `).concat(i("datatable.filter.overlay.select.color"),`;
    border: 1px solid `).concat(i("datatable.filter.overlay.select.border.color"),`;
    border-radius: `).concat(i("datatable.filter.overlay.select.border.radius"),`;
    box-shadow: `).concat(i("datatable.filter.overlay.select.shadow"),`;
    min-width: 12.5rem;
}

.p-datatable-filter-constraint-list {
    margin: 0;
    list-style: none;
    display: flex;
    flex-direction: column;
    padding: `).concat(i("datatable.filter.constraint.list.padding"),`;
    gap: `).concat(i("datatable.filter.constraint.list.gap"),`;
}

.p-datatable-filter-constraint {
    padding: `).concat(i("datatable.filter.constraint.padding"),`;
    color: `).concat(i("datatable.filter.constraint.color"),`;
    border-radius: `).concat(i("datatable.filter.constraint.border.radius"),`;
    cursor: pointer;
    transition: background `).concat(i("datatable.transition.duration"),", color ").concat(i("datatable.transition.duration"),", border-color ").concat(i("datatable.transition.duration"),`,
        box-shadow `).concat(i("datatable.transition.duration"),`;
}

.p-datatable-filter-constraint-selected {
    background: `).concat(i("datatable.filter.constraint.selected.background"),`;
    color: `).concat(i("datatable.filter.constraint.selected.color"),`;
}

.p-datatable-filter-constraint:not(.p-datatable-filter-constraint-selected):not(.p-disabled):hover {
    background: `).concat(i("datatable.filter.constraint.focus.background"),`;
    color: `).concat(i("datatable.filter.constraint.focus.color"),`;
}

.p-datatable-filter-constraint:focus-visible {
    outline: 0 none;
    background: `).concat(i("datatable.filter.constraint.focus.background"),`;
    color: `).concat(i("datatable.filter.constraint.focus.color"),`;
}

.p-datatable-filter-constraint-selected:focus-visible {
    outline: 0 none;
    background: `).concat(i("datatable.filter.constraint.selected.focus.background"),`;
    color: `).concat(i("datatable.filter.constraint.selected.focus.color"),`;
}

.p-datatable-filter-constraint-separator {
    border-top: 1px solid `).concat(i("datatable.filter.constraint.separator.border.color"),`;
}

.p-datatable-popover-filter {
    display: inline-flex;
    margin-left: auto;
}

.p-datatable-filter-overlay-popover {
    background: `).concat(i("datatable.filter.overlay.popover.background"),`;
    color: `).concat(i("datatable.filter.overlay.popover.color"),`;
    border: 1px solid `).concat(i("datatable.filter.overlay.popover.border.color"),`;
    border-radius: `).concat(i("datatable.filter.overlay.popover.border.radius"),`;
    box-shadow: `).concat(i("datatable.filter.overlay.popover.shadow"),`;
    min-width: 12.5rem;
    padding: `).concat(i("datatable.filter.overlay.popover.padding"),`;
    display: flex;
    flex-direction: column;
    gap: `).concat(i("datatable.filter.overlay.popover.gap"),`;
}

.p-datatable-filter-operator-dropdown {
    width: 100%;
}

.p-datatable-filter-rule-list,
.p-datatable-filter-rule {
    display: flex;
    flex-direction: column;
    gap: `).concat(i("datatable.filter.overlay.popover.gap"),`;
}

.p-datatable-filter-rule {
    border-bottom: 1px solid `).concat(i("datatable.filter.rule.border.color"),`;
}

.p-datatable-filter-rule:last-child {
    border-bottom: 0 none;
}

.p-datatable-filter-add-rule-button {
    width: 100%;
}

.p-datatable-filter-remove-button {
    width: 100%;
}

.p-datatable-filter-buttonbar {
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.p-datatable-virtualscroller-spacer {
    display: flex;
}

.p-datatable .p-virtualscroller .p-virtualscroller-loading {
    transform: none !important;
    min-height: 0;
    position: sticky;
    top: 0;
    left: 0;
}

.p-datatable-paginator-top {
    border-color: `).concat(i("datatable.paginator.top.border.color"),`;
    border-style: solid;
    border-width: `).concat(i("datatable.paginator.top.border.width"),`;
}

.p-datatable-paginator-bottom {
    border-color: `).concat(i("datatable.paginator.bottom.border.color"),`;
    border-style: solid;
    border-width: `).concat(i("datatable.paginator.bottom.border.width"),`;
}

.p-datatable-header {
    background: `).concat(i("datatable.header.background"),`;
    color: `).concat(i("datatable.header.color"),`;
    border-color: `).concat(i("datatable.header.border.color"),`;
    border-style: solid;
    border-width: `).concat(i("datatable.header.border.width"),`;
    padding: `).concat(i("datatable.header.padding"),`;
}

.p-datatable-footer {
    background: `).concat(i("datatable.footer.background"),`;
    color: `).concat(i("datatable.footer.color"),`;
    border-color: `).concat(i("datatable.footer.border.color"),`;
    border-style: solid;
    border-width: `).concat(i("datatable.footer.border.width"),`;
    padding: `).concat(i("datatable.footer.padding"),`;
}

.p-datatable-header-cell {
    padding: `).concat(i("datatable.header.cell.padding"),`;
    background: `).concat(i("datatable.header.cell.background"),`;
    border-color: `).concat(i("datatable.header.cell.border.color"),`;
    border-style: solid;
    border-width: 0 0 1px 0;
    color: `).concat(i("datatable.header.cell.color"),`;
    font-weight: normal;
    text-align: left;
    transition: background `).concat(i("datatable.transition.duration"),", color ").concat(i("datatable.transition.duration"),", border-color ").concat(i("datatable.transition.duration"),`,
            outline-color `).concat(i("datatable.transition.duration"),", box-shadow ").concat(i("datatable.transition.duration"),`;
}

.p-datatable-column-title {
    font-weight: `).concat(i("datatable.column.title.font.weight"),`;
}

.p-datatable-tbody > tr {
    outline-color: transparent;
    background: `).concat(i("datatable.row.background"),`;
    color: `).concat(i("datatable.row.color"),`;
    transition: background `).concat(i("datatable.transition.duration"),", color ").concat(i("datatable.transition.duration"),", border-color ").concat(i("datatable.transition.duration"),`,
            outline-color `).concat(i("datatable.transition.duration"),", box-shadow ").concat(i("datatable.transition.duration"),`;
}

.p-datatable-tbody > tr > td {
    text-align: left;
    border-color: `).concat(i("datatable.body.cell.border.color"),`;
    border-style: solid;
    border-width: 0 0 1px 0;
    padding: `).concat(i("datatable.body.cell.padding"),`;
}

.p-datatable-hoverable .p-datatable-tbody > tr:not(.p-datatable-row-selected):hover {
    background: `).concat(i("datatable.row.hover.background"),`;
    color: `).concat(i("datatable.row.hover.color"),`;
}

.p-datatable-tbody > tr.p-datatable-row-selected {
    background: `).concat(i("datatable.row.selected.background"),`;
    color: `).concat(i("datatable.row.selected.color"),`;
}

.p-datatable-tbody > tr:has(+ .p-datatable-row-selected) > td {
    border-bottom-color: `).concat(i("datatable.body.cell.selected.border.color"),`;
}

.p-datatable-tbody > tr.p-datatable-row-selected > td {
    border-bottom-color: `).concat(i("datatable.body.cell.selected.border.color"),`;
}

.p-datatable-tbody > tr:focus-visible,
.p-datatable-tbody > tr.p-datatable-contextmenu-row-selected {
    box-shadow: `).concat(i("datatable.body.cell.focus.ring.shadow"),`;
    outline: `).concat(i("datatable.body.cell.focus.ring.width")," ").concat(i("datatable.body.cell.focus.ring.style")," ").concat(i("datatable.body.cell.focus.ring.color"),`;
    outline-offset: `).concat(i("datatable.body.cell.focus.ring.offset"),`;
}

.p-datatable-tfoot > tr > td {
    text-align: left;
    padding: `).concat(i("datatable.footer.cell.padding"),`;
    border-color: `).concat(i("datatable.footer.cell.border.color"),`;
    border-style: solid;
    border-width: 0 0 1px 0;
    color: `).concat(i("datatable.footer.cell.color"),`;
    background: `).concat(i("datatable.footer.cell.background"),`;
}

.p-datatable-column-footer {
    font-weight: `).concat(i("datatable.column.footer.font.weight"),`;
}

.p-datatable-sortable-column {
    cursor: pointer;
    user-select: none;
    outline-color: transparent;
}

.p-datatable-column-title,
.p-datatable-sort-icon,
.p-datatable-sort-badge {
    vertical-align: middle;
}

.p-datatable-sort-icon {
    color: `).concat(i("datatable.sort.icon.color"),`;
    transition: color `).concat(i("datatable.transition.duration"),`;
}

.p-datatable-sortable-column:not(.p-datatable-column-sorted):hover {
    background: `).concat(i("datatable.header.cell.hover.background"),`;
    color: `).concat(i("datatable.header.cell.hover.color"),`;
}

.p-datatable-sortable-column:not(.p-datatable-column-sorted):hover .p-datatable-sort-icon {
    color: `).concat(i("datatable.sort.icon.hover.color"),`;
}

.p-datatable-column-sorted {
    background: `).concat(i("datatable.header.cell.selected.background"),`;
    color: `).concat(i("datatable.header.cell.selected.color"),`;
}

.p-datatable-column-sorted .p-datatable-sort-icon {
    color: `).concat(i("datatable.header.cell.selected.color"),`;
}

.p-datatable-sortable-column:focus-visible {
    box-shadow: `).concat(i("datatable.header.cell.focus.ring.shadow"),`;
    outline: `).concat(i("datatable.header.cell.focus.ring.width")," ").concat(i("datatable.header.cell.focus.ring.style")," ").concat(i("datatable.header.cell.focus.ring.color"),`;
    outline-offset: `).concat(i("datatable.header.cell.focus.ring.offset"),`;
}

.p-datatable-hoverable .p-datatable-selectable-row {
    cursor: pointer;
}

.p-datatable-tbody > tr.p-datatable-dragpoint-top > td {
    box-shadow: inset 0 2px 0 0 `).concat(i("datatable.drop.point.color"),`;
}

.p-datatable-tbody > tr.p-datatable-dragpoint-bottom > td {
    box-shadow: inset 0 -2px 0 0 `).concat(i("datatable.drop.point.color"),`;
}

.p-datatable-loading-icon {
    font-size: `).concat(i("datatable.loading.icon.size"),`;
    width: `).concat(i("datatable.loading.icon.size"),`;
    height: `).concat(i("datatable.loading.icon.size"),`;
}

.p-datatable-gridlines .p-datatable-header {
    border-width: 1px 1px 0 1px;
}

.p-datatable-gridlines .p-datatable-footer {
    border-width: 0 1px 1px 1px;
}

.p-datatable-gridlines .p-datatable-paginator-top {
    border-width: 1px 1px 0 1px;
}

.p-datatable-gridlines .p-datatable-paginator-bottom {
    border-width: 0 1px 1px 1px;
}

.p-datatable-gridlines .p-datatable-thead > tr > th {
    border-width: 1px 0 1px 1px;
}

.p-datatable-gridlines .p-datatable-thead > tr > th:last-child {
    border-width: 1px;
}

.p-datatable-gridlines .p-datatable-tbody > tr > td {
    border-width: 1px 0 0 1px;
}

.p-datatable-gridlines .p-datatable-tbody > tr > td:last-child {
    border-width: 1px 1px 0 1px;
}

p-datatable-gridlines .p-datatable-tbody > tr:last-child > td {
    border-width: 1px 0 1px 1px;
}

.p-datatable-gridlines .p-datatable-tbody > tr:last-child > td:last-child {
    border-width: 1px;
}

.p-datatable-gridlines .p-datatable-tfoot > tr > td {
    border-width: 1px 0 1px 1px;
}

.p-datatable-gridlines .p-datatable-tfoot > tr > td:last-child {
    border-width: 1px 1px 1px 1px;
}

.p-datatable.p-datatable-gridlines .p-datatable-thead + .p-datatable-tfoot > tr > td {
    border-width: 0 0 1px 1px;
}

.p-datatable.p-datatable-gridlines .p-datatable-thead + .p-datatable-tfoot > tr > td:last-child {
    border-width: 0 1px 1px 1px;
}

.p-datatable.p-datatable-gridlines:has(.p-datatable-thead):has(.p-datatable-tbody) .p-datatable-tbody > tr > td {
    border-width: 0 0 1px 1px;
}

.p-datatable.p-datatable-gridlines:has(.p-datatable-thead):has(.p-datatable-tbody) .p-datatable-tbody > tr > td:last-child {
    border-width: 0 1px 1px 1px;
}

.p-datatable.p-datatable-gridlines:has(.p-datatable-tbody):has(.p-datatable-tfoot) .p-datatable-tbody > tr:last-child > td {
    border-width: 0 0 0 1px;
}

.p-datatable.p-datatable-gridlines:has(.p-datatable-tbody):has(.p-datatable-tfoot) .p-datatable-tbody > tr:last-child > td:last-child {
    border-width: 0 1px 0 1px;
}

.p-datatable.p-datatable-striped .p-datatable-tbody > tr.p-row-odd {
    background: `).concat(i("datatable.row.striped.background"),`;
}

.p-datatable.p-datatable-striped .p-datatable-tbody > tr.p-row-odd.p-datatable-row-selected {
    background: `).concat(i("datatable.row.selected.background"),`;
    color: `).concat(i("datatable.row.selected.color"),`;
}

.p-datatable.p-datatable-sm .p-datatable-header {
    padding: 0.375rem 0.5rem;
}

.p-datatable.p-datatable-sm .p-datatable-thead > tr > th {
    padding: 0.375rem 0.5rem;
}

.p-datatable.p-datatable-sm .p-datatable-tbody > tr > td {
    padding: 0.375rem 0.5rem;
}

.p-datatable.p-datatable-sm .p-datatable-tfoot > tr > td {
    padding: 0.375rem 0.5rem;
}

.p-datatable.p-datatable-sm .p-datatable-footer {
    padding: 0.375rem 0.5rem;
}

.p-datatable.p-datatable-lg .p-datatable-header {
    padding: 0.9375rem 1.25rem;
}

.p-datatable.p-datatable-lg .p-datatable-thead > tr > th {
    padding: 0.9375rem 1.25rem;
}

.p-datatable.p-datatable-lg .p-datatable-tbody>tr>td {
    padding: 0.9375rem 1.25rem;
}

.p-datatable.p-datatable-lg .p-datatable-tfoot>tr>td {
    padding: 0.9375rem 1.25rem;
}

.p-datatable.p-datatable-lg .p-datatable-footer {
    padding: 0.9375rem 1.25rem;
}

.p-datatable-row-toggle-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    width: `).concat(i("datatable.row.toggle.button.size"),`;
    height: `).concat(i("datatable.row.toggle.button.size"),`;
    color: `).concat(i("datatable.row.toggle.button.color"),`;
    border: 0 none;
    background: transparent;
    cursor: pointer;
    border-radius: `).concat(i("datatable.row.toggle.button.border.radius"),`;
    transition: background `).concat(i("datatable.transition.duration"),", color ").concat(i("datatable.transition.duration"),", border-color ").concat(i("datatable.transition.duration"),`,
            outline-color `).concat(i("datatable.transition.duration"),", box-shadow ").concat(i("datatable.transition.duration"),`;
    outline-color: transparent;
    user-select: none;
}

.p-datatable-row-toggle-button:enabled:hover {
    color: `).concat(i("datatable.row.toggle.button.hover.color"),`;
    background: `).concat(i("datatable.row.toggle.button.hover.background"),`;
}

.p-datatable-tbody > tr.p-datatable-row-selected .p-datatable-row-toggle-button:hover {
    background: `).concat(i("datatable.row.toggle.button.selected.hover.background"),`;
    `).concat(i("datatable.row.toggle.button.selected.hover.color"),`;
}

.p-datatable-row-toggle-button:focus-visible {
    box-shadow: `).concat(i("datatable.row.toggle.button.focus.ring.shadow"),`;
    outline: `).concat(i("datatable.row.toggle.button.focus.ring.width")," ").concat(i("datatable.row.toggle.button.focus.ring.style")," ").concat(i("datatable.row.toggle.button.focus.ring.color"),`;
    outline-offset: `).concat(i("datatable.row.toggle.button.focus.ring.offset"),`;
}
`)},voe={root:function(t){var i=t.props;return["p-datatable p-component",{"p-datatable-hoverable":i.rowHover||i.selectionMode,"p-datatable-resizable":i.resizableColumns,"p-datatable-resizable-fit":i.resizableColumns&&i.columnResizeMode==="fit","p-datatable-scrollable":i.scrollable,"p-datatable-flex-scrollable":i.scrollable&&i.scrollHeight==="flex","p-datatable-striped":i.stripedRows,"p-datatable-gridlines":i.showGridlines,"p-datatable-sm":i.size==="small","p-datatable-lg":i.size==="large"}]},mask:"p-datatable-mask p-overlay-mask",loadingIcon:"p-datatable-loading-icon",header:"p-datatable-header",pcPaginator:function(t){var i=t.position;return"p-datatable-paginator-"+i},tableContainer:"p-datatable-table-container",table:function(t){var i=t.props;return["p-datatable-table",{"p-datatable-scrollable-table":i.scrollable,"p-datatable-resizable-table":i.resizableColumns,"p-datatable-resizable-table-fit":i.resizableColumns&&i.columnResizeMode==="fit"}]},thead:"p-datatable-thead",headerCell:function(t){var i=t.instance,a=t.props,l=t.column;return l&&!i.columnProp(l,"hidden")&&(a.rowGroupMode!=="subheader"||a.groupRowsBy!==i.columnProp(l,"field"))?["p-datatable-header-cell",{"p-datatable-frozen-column":i.columnProp(l,"frozen")}]:["p-datatable-header-cell",{"p-datatable-sortable-column":i.columnProp("sortable"),"p-datatable-resizable-column":i.resizableColumns,"p-datatable-column-sorted":i.isColumnSorted(),"p-datatable-frozen-column":i.columnProp("frozen"),"p-datatable-reorderable-column":a.reorderableColumns}]},columnResizer:"p-datatable-column-resizer",columnHeaderContent:"p-datatable-column-header-content",columnTitle:"p-datatable-column-title",columnFooter:"p-datatable-column-footer",sortIcon:"p-datatable-sort-icon",pcSortBadge:"p-datatable-sort-badge",filter:function(t){var i=t.props;return["p-datatable-filter",{"p-datatable-inline-filter":i.display==="row","p-datatable-popover-filter":i.display==="menu"}]},filterElementContainer:"p-datatable-filter-element-container",pcColumnFilterButton:"p-datatable-column-filter-button",pcColumnFilterClearButton:"p-datatable-column-filter-clear-button",filterOverlay:function(t){t.instance;var i=t.props;return["p-datatable-filter-overlay p-component",{"p-datatable-filter-overlay-popover":i.display==="menu"}]},filterConstraintList:"p-datatable-filter-constraint-list",filterConstraint:function(t){var i=t.instance,a=t.matchMode;return["p-datatable-filter-constraint",{"p-datatable-filter-constraint-selected":a&&i.isRowMatchModeSelected(a.value)}]},filterConstraintSeparator:"p-datatable-filter-constraint-separator",filterOperator:"p-datatable-filter-operator",pcFilterOperatorDropdown:"p-datatable-filter-operator-dropdown",filterRuleList:"p-datatable-filter-rule-list",filterRule:"p-datatable-filter-rule",pcFilterConstraintDropdown:"p-datatable-filter-constraint-dropdown",pcFilterRemoveRuleButton:"p-datatable-filter-remove-rule-button",pcFilterAddRuleButton:"p-datatable-filter-add-rule-button",filterButtonbar:"p-datatable-filter-buttonbar",pcFilterClearButton:"p-datatable-filter-clear-button",pcFilterApplyButton:"p-datatable-filter-apply-button",tbody:function(t){var i=t.props;return i.frozenRow?"p-datatable-tbody p-datatable-frozen-tbody":"p-datatable-tbody"},rowGroupHeader:"p-datatable-row-group-header",rowToggleButton:"p-datatable-row-toggle-button",rowToggleIcon:"p-datatable-row-toggle-icon",row:function(t){var i=t.instance,a=t.props,l=t.index,c=t.columnSelectionMode,y=[];return a.selectionMode&&y.push("p-datatable-selectable-row"),a.selection&&y.push({"p-datatable-row-selected":c?i.isSelected&&i.$parentInstance.$parentInstance.highlightOnSelect:i.isSelected}),a.contextMenuSelection&&y.push({"p-datatable-contextmenu-row-selected":i.isSelectedWithContextMenu}),y.push(l%2===0?"p-row-even":"p-row-odd"),y},rowExpansion:"p-datatable-row-expansion",rowGroupFooter:"p-datatable-row-group-footer",emptyMessage:"p-datatable-empty-message",bodyCell:function(t){var i=t.instance;return[{"p-datatable-frozen-column":i.columnProp("frozen")}]},reorderableRowHandle:"p-datatable-reorderable-row-handle",pcRowEditorInit:"p-datatable-row-editor-init",pcRowEditorSave:"p-datatable-row-editor-save",pcRowEditorCancel:"p-datatable-row-editor-cancel",tfoot:"p-datatable-tfoot",footerCell:function(t){var i=t.instance;return[{"p-datatable-frozen-column":i.columnProp("frozen")}]},virtualScrollerSpacer:"p-datatable-virtualscroller-spacer",footer:"p-datatable-footer",columnResizeIndicator:"p-datatable-column-resize-indicator",rowReorderIndicatorUp:"p-datatable-row-reorder-indicator-up",rowReorderIndicatorDown:"p-datatable-row-reorder-indicator-down"},xoe={tableContainer:{overflow:"auto"},thead:{position:"sticky"},tfoot:{position:"sticky"}},woe=In.extend({name:"datatable",theme:boe,classes:voe,inlineStyles:xoe}),ev={name:"ChevronRightIcon",extends:Ro};function Foe(e,t,i,a,l,c){return ge(),Je("svg",Ze({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),t[0]||(t[0]=[Se("path",{d:"M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z",fill:"currentColor"},null,-1)]),16)}ev.render=Foe;var CI={name:"BarsIcon",extends:Ro};function Coe(e,t,i,a,l,c){return ge(),Je("svg",Ze({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),t[0]||(t[0]=[Se("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.3226 3.6129H0.677419C0.497757 3.6129 0.325452 3.54152 0.198411 3.41448C0.0713707 3.28744 0 3.11514 0 2.93548C0 2.75581 0.0713707 2.58351 0.198411 2.45647C0.325452 2.32943 0.497757 2.25806 0.677419 2.25806H13.3226C13.5022 2.25806 13.6745 2.32943 13.8016 2.45647C13.9286 2.58351 14 2.75581 14 2.93548C14 3.11514 13.9286 3.28744 13.8016 3.41448C13.6745 3.54152 13.5022 3.6129 13.3226 3.6129ZM13.3226 7.67741H0.677419C0.497757 7.67741 0.325452 7.60604 0.198411 7.479C0.0713707 7.35196 0 7.17965 0 6.99999C0 6.82033 0.0713707 6.64802 0.198411 6.52098C0.325452 6.39394 0.497757 6.32257 0.677419 6.32257H13.3226C13.5022 6.32257 13.6745 6.39394 13.8016 6.52098C13.9286 6.64802 14 6.82033 14 6.99999C14 7.17965 13.9286 7.35196 13.8016 7.479C13.6745 7.60604 13.5022 7.67741 13.3226 7.67741ZM0.677419 11.7419H13.3226C13.5022 11.7419 13.6745 11.6706 13.8016 11.5435C13.9286 11.4165 14 11.2442 14 11.0645C14 10.8848 13.9286 10.7125 13.8016 10.5855C13.6745 10.4585 13.5022 10.3871 13.3226 10.3871H0.677419C0.497757 10.3871 0.325452 10.4585 0.198411 10.5855C0.0713707 10.7125 0 10.8848 0 11.0645C0 11.2442 0.0713707 11.4165 0.198411 11.5435C0.325452 11.6706 0.497757 11.7419 0.677419 11.7419Z",fill:"currentColor"},null,-1)]),16)}CI.render=Coe;var EI={name:"PencilIcon",extends:Ro};function Eoe(e,t,i,a,l,c){return ge(),Je("svg",Ze({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),t[0]||(t[0]=[Se("path",{d:"M0.609628 13.959C0.530658 13.9599 0.452305 13.9451 0.379077 13.9156C0.305849 13.8861 0.239191 13.8424 0.18294 13.787C0.118447 13.7234 0.0688234 13.6464 0.0376166 13.5614C0.00640987 13.4765 -0.00560954 13.3857 0.00241768 13.2956L0.25679 10.1501C0.267698 10.0041 0.331934 9.86709 0.437312 9.76516L9.51265 0.705715C10.0183 0.233014 10.6911 -0.0203041 11.3835 0.00127367C12.0714 0.00660201 12.7315 0.27311 13.2298 0.746671C13.7076 1.23651 13.9824 1.88848 13.9992 2.57201C14.0159 3.25554 13.7733 3.92015 13.32 4.4327L4.23648 13.5331C4.13482 13.6342 4.0017 13.6978 3.85903 13.7133L0.667067 14L0.609628 13.959ZM1.43018 10.4696L1.25787 12.714L3.50619 12.5092L12.4502 3.56444C12.6246 3.35841 12.7361 3.10674 12.7714 2.83933C12.8067 2.57193 12.7644 2.30002 12.6495 2.05591C12.5346 1.8118 12.3519 1.60575 12.1231 1.46224C11.8943 1.31873 11.6291 1.2438 11.3589 1.24633C11.1813 1.23508 11.0033 1.25975 10.8355 1.31887C10.6677 1.37798 10.5136 1.47033 10.3824 1.59036L1.43018 10.4696Z",fill:"currentColor"},null,-1)]),16)}EI.render=Eoe;var SI={name:"FilterIcon",extends:Ro};function Soe(e,t,i,a,l,c){return ge(),Je("svg",Ze({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),t[0]||(t[0]=[Se("path",{d:"M8.64708 14H5.35296C5.18981 13.9979 5.03395 13.9321 4.91858 13.8167C4.8032 13.7014 4.73745 13.5455 4.73531 13.3824V7L0.329431 0.98C0.259794 0.889466 0.217389 0.780968 0.20718 0.667208C0.19697 0.553448 0.219379 0.439133 0.271783 0.337647C0.324282 0.236453 0.403423 0.151519 0.500663 0.0920138C0.597903 0.0325088 0.709548 0.000692754 0.823548 0H13.1765C13.2905 0.000692754 13.4021 0.0325088 13.4994 0.0920138C13.5966 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7826 0.780968 13.7402 0.889466 13.6706 0.98L9.26472 7V13.3824C9.26259 13.5455 9.19683 13.7014 9.08146 13.8167C8.96609 13.9321 8.81022 13.9979 8.64708 14ZM5.97061 12.7647H8.02943V6.79412C8.02878 6.66289 8.07229 6.53527 8.15296 6.43177L11.9412 1.23529H2.05884L5.86355 6.43177C5.94422 6.53527 5.98773 6.66289 5.98708 6.79412L5.97061 12.7647Z",fill:"currentColor"},null,-1)]),16)}SI.render=Soe;var TI={name:"FilterSlashIcon",extends:Ro};function Toe(e,t,i,a,l,c){return ge(),Je("svg",Ze({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),t[0]||(t[0]=[Se("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.4994 0.0920138C13.5967 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7827 0.780968 13.7403 0.889466 13.6707 0.98L11.406 4.06823C11.3099 4.19928 11.1656 4.28679 11.005 4.3115C10.8444 4.33621 10.6805 4.2961 10.5495 4.2C10.4184 4.1039 10.3309 3.95967 10.3062 3.79905C10.2815 3.63843 10.3216 3.47458 10.4177 3.34353L11.9412 1.23529H7.41184C7.24803 1.23529 7.09093 1.17022 6.97509 1.05439C6.85926 0.938558 6.79419 0.781457 6.79419 0.617647C6.79419 0.453837 6.85926 0.296736 6.97509 0.180905C7.09093 0.0650733 7.24803 0 7.41184 0H13.1765C13.2905 0.000692754 13.4022 0.0325088 13.4994 0.0920138ZM4.20008 0.181168H4.24126L13.2013 9.03411C13.3169 9.14992 13.3819 9.3069 13.3819 9.47058C13.3819 9.63426 13.3169 9.79124 13.2013 9.90705C13.1445 9.96517 13.0766 10.0112 13.0016 10.0423C12.9266 10.0735 12.846 10.0891 12.7648 10.0882C12.6836 10.0886 12.6032 10.0728 12.5283 10.0417C12.4533 10.0106 12.3853 9.96479 12.3283 9.90705L9.3142 6.92587L9.26479 6.99999V13.3823C9.26265 13.5455 9.19689 13.7014 9.08152 13.8167C8.96615 13.9321 8.81029 13.9979 8.64714 14H5.35302C5.18987 13.9979 5.03401 13.9321 4.91864 13.8167C4.80327 13.7014 4.73751 13.5455 4.73537 13.3823V6.99999L0.329492 1.02117C0.259855 0.930634 0.21745 0.822137 0.207241 0.708376C0.197031 0.594616 0.21944 0.480301 0.271844 0.378815C0.324343 0.277621 0.403484 0.192687 0.500724 0.133182C0.597964 0.073677 0.709609 0.041861 0.823609 0.0411682H3.86243C3.92448 0.0461551 3.9855 0.060022 4.04361 0.0823446C4.10037 0.10735 4.15311 0.140655 4.20008 0.181168ZM8.02949 6.79411C8.02884 6.66289 8.07235 6.53526 8.15302 6.43176L8.42478 6.05293L3.55773 1.23529H2.0589L5.84714 6.43176C5.92781 6.53526 5.97132 6.66289 5.97067 6.79411V12.7647H8.02949V6.79411Z",fill:"currentColor"},null,-1)]),16)}TI.render=Toe;var RI={name:"PlusIcon",extends:Ro};function Roe(e,t,i,a,l,c){return ge(),Je("svg",Ze({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),t[0]||(t[0]=[Se("path",{d:"M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z",fill:"currentColor"},null,-1)]),16)}RI.render=Roe;var PI={name:"TrashIcon",extends:Ro};function Poe(e,t,i,a,l,c){return ge(),Je("svg",Ze({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),t[0]||(t[0]=[Se("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.44802 13.9955H10.552C10.8056 14.0129 11.06 13.9797 11.3006 13.898C11.5412 13.8163 11.7632 13.6877 11.9537 13.5196C12.1442 13.3515 12.2995 13.1473 12.4104 12.9188C12.5213 12.6903 12.5858 12.442 12.6 12.1884V4.36041H13.4C13.5591 4.36041 13.7117 4.29722 13.8243 4.18476C13.9368 4.07229 14 3.91976 14 3.76071C14 3.60166 13.9368 3.44912 13.8243 3.33666C13.7117 3.22419 13.5591 3.16101 13.4 3.16101H12.0537C12.0203 3.1557 11.9863 3.15299 11.952 3.15299C11.9178 3.15299 11.8838 3.1557 11.8503 3.16101H11.2285C11.2421 3.10893 11.2487 3.05513 11.248 3.00106V1.80966C11.2171 1.30262 10.9871 0.828306 10.608 0.48989C10.229 0.151475 9.73159 -0.0236625 9.22402 0.00257442H4.77602C4.27251 -0.0171866 3.78126 0.160868 3.40746 0.498617C3.03365 0.836366 2.807 1.30697 2.77602 1.80966V3.00106C2.77602 3.0556 2.78346 3.10936 2.79776 3.16101H0.6C0.521207 3.16101 0.443185 3.17652 0.37039 3.20666C0.297595 3.2368 0.231451 3.28097 0.175736 3.33666C0.120021 3.39235 0.0758251 3.45846 0.0456722 3.53121C0.0155194 3.60397 0 3.68196 0 3.76071C0 3.83946 0.0155194 3.91744 0.0456722 3.9902C0.0758251 4.06296 0.120021 4.12907 0.175736 4.18476C0.231451 4.24045 0.297595 4.28462 0.37039 4.31476C0.443185 4.3449 0.521207 4.36041 0.6 4.36041H1.40002V12.1884C1.41426 12.442 1.47871 12.6903 1.58965 12.9188C1.7006 13.1473 1.85582 13.3515 2.04633 13.5196C2.23683 13.6877 2.45882 13.8163 2.69944 13.898C2.94005 13.9797 3.1945 14.0129 3.44802 13.9955ZM2.60002 4.36041H11.304V12.1884C11.304 12.5163 10.952 12.7961 10.504 12.7961H3.40002C2.97602 12.7961 2.60002 12.5163 2.60002 12.1884V4.36041ZM3.95429 3.16101C3.96859 3.10936 3.97602 3.0556 3.97602 3.00106V1.80966C3.97602 1.48183 4.33602 1.20197 4.77602 1.20197H9.24802C9.66403 1.20197 10.048 1.48183 10.048 1.80966V3.00106C10.0473 3.05515 10.054 3.10896 10.0678 3.16101H3.95429ZM5.57571 10.997C5.41731 10.995 5.26597 10.9311 5.15395 10.8191C5.04193 10.7071 4.97808 10.5558 4.97601 10.3973V6.77517C4.97601 6.61612 5.0392 6.46359 5.15166 6.35112C5.26413 6.23866 5.41666 6.17548 5.57571 6.17548C5.73476 6.17548 5.8873 6.23866 5.99976 6.35112C6.11223 6.46359 6.17541 6.61612 6.17541 6.77517V10.3894C6.17647 10.4688 6.16174 10.5476 6.13208 10.6213C6.10241 10.695 6.05841 10.762 6.00261 10.8186C5.94682 10.8751 5.88035 10.92 5.80707 10.9506C5.73378 10.9813 5.65514 10.9971 5.57571 10.997ZM7.99968 10.8214C8.11215 10.9339 8.26468 10.997 8.42373 10.997C8.58351 10.9949 8.73604 10.93 8.84828 10.8163C8.96052 10.7025 9.02345 10.5491 9.02343 10.3894V6.77517C9.02343 6.61612 8.96025 6.46359 8.84778 6.35112C8.73532 6.23866 8.58278 6.17548 8.42373 6.17548C8.26468 6.17548 8.11215 6.23866 7.99968 6.35112C7.88722 6.46359 7.82404 6.61612 7.82404 6.77517V10.3973C7.82404 10.5564 7.88722 10.7089 7.99968 10.8214Z",fill:"currentColor"},null,-1)]),16)}PI.render=Poe;var zx={name:"SortAltIcon",extends:Ro};function Ioe(e,t,i,a,l,c){return ge(),Je("svg",Ze({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),t[0]||(t[0]=[Se("path",{d:"M5.64515 3.61291C5.47353 3.61291 5.30192 3.54968 5.16644 3.4142L3.38708 1.63484L1.60773 3.4142C1.34579 3.67613 0.912244 3.67613 0.650309 3.4142C0.388374 3.15226 0.388374 2.71871 0.650309 2.45678L2.90837 0.198712C3.17031 -0.0632236 3.60386 -0.0632236 3.86579 0.198712L6.12386 2.45678C6.38579 2.71871 6.38579 3.15226 6.12386 3.4142C5.98837 3.54968 5.81676 3.61291 5.64515 3.61291Z",fill:"currentColor"},null,-1),Se("path",{d:"M3.38714 14C3.01681 14 2.70972 13.6929 2.70972 13.3226V0.677419C2.70972 0.307097 3.01681 0 3.38714 0C3.75746 0 4.06456 0.307097 4.06456 0.677419V13.3226C4.06456 13.6929 3.75746 14 3.38714 14Z",fill:"currentColor"},null,-1),Se("path",{d:"M10.6129 14C10.4413 14 10.2697 13.9368 10.1342 13.8013L7.87611 11.5432C7.61418 11.2813 7.61418 10.8477 7.87611 10.5858C8.13805 10.3239 8.5716 10.3239 8.83353 10.5858L10.6129 12.3652L12.3922 10.5858C12.6542 10.3239 13.0877 10.3239 13.3497 10.5858C13.6116 10.8477 13.6116 11.2813 13.3497 11.5432L11.0916 13.8013C10.9561 13.9368 10.7845 14 10.6129 14Z",fill:"currentColor"},null,-1),Se("path",{d:"M10.6129 14C10.2426 14 9.93552 13.6929 9.93552 13.3226V0.677419C9.93552 0.307097 10.2426 0 10.6129 0C10.9833 0 11.2904 0.307097 11.2904 0.677419V13.3226C11.2904 13.6929 10.9832 14 10.6129 14Z",fill:"currentColor"},null,-1)]),16)}zx.render=Ioe;var Vx={name:"SortAmountDownIcon",extends:Ro};function koe(e,t,i,a,l,c){return ge(),Je("svg",Ze({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),t[0]||(t[0]=[Se("path",{d:"M4.93953 10.5858L3.83759 11.6877V0.677419C3.83759 0.307097 3.53049 0 3.16017 0C2.78985 0 2.48275 0.307097 2.48275 0.677419V11.6877L1.38082 10.5858C1.11888 10.3239 0.685331 10.3239 0.423396 10.5858C0.16146 10.8477 0.16146 11.2813 0.423396 11.5432L2.68146 13.8013C2.74469 13.8645 2.81694 13.9097 2.89823 13.9458C2.97952 13.9819 3.06985 14 3.16017 14C3.25049 14 3.33178 13.9819 3.42211 13.9458C3.5034 13.9097 3.57565 13.8645 3.63888 13.8013L5.89694 11.5432C6.15888 11.2813 6.15888 10.8477 5.89694 10.5858C5.63501 10.3239 5.20146 10.3239 4.93953 10.5858ZM13.0957 0H7.22468C6.85436 0 6.54726 0.307097 6.54726 0.677419C6.54726 1.04774 6.85436 1.35484 7.22468 1.35484H13.0957C13.466 1.35484 13.7731 1.04774 13.7731 0.677419C13.7731 0.307097 13.466 0 13.0957 0ZM7.22468 5.41935H9.48275C9.85307 5.41935 10.1602 5.72645 10.1602 6.09677C10.1602 6.4671 9.85307 6.77419 9.48275 6.77419H7.22468C6.85436 6.77419 6.54726 6.4671 6.54726 6.09677C6.54726 5.72645 6.85436 5.41935 7.22468 5.41935ZM7.6763 8.12903H7.22468C6.85436 8.12903 6.54726 8.43613 6.54726 8.80645C6.54726 9.17677 6.85436 9.48387 7.22468 9.48387H7.6763C8.04662 9.48387 8.35372 9.17677 8.35372 8.80645C8.35372 8.43613 8.04662 8.12903 7.6763 8.12903ZM7.22468 2.70968H11.2892C11.6595 2.70968 11.9666 3.01677 11.9666 3.3871C11.9666 3.75742 11.6595 4.06452 11.2892 4.06452H7.22468C6.85436 4.06452 6.54726 3.75742 6.54726 3.3871C6.54726 3.01677 6.85436 2.70968 7.22468 2.70968Z",fill:"currentColor"},null,-1)]),16)}Vx.render=koe;var Nx={name:"SortAmountUpAltIcon",extends:Ro};function Moe(e,t,i,a,l,c){return ge(),Je("svg",Ze({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),t[0]||(t[0]=[Se("path",{d:"M3.63435 0.19871C3.57113 0.135484 3.49887 0.0903226 3.41758 0.0541935C3.255 -0.0180645 3.06532 -0.0180645 2.90274 0.0541935C2.82145 0.0903226 2.74919 0.135484 2.68597 0.19871L0.427901 2.45677C0.165965 2.71871 0.165965 3.15226 0.427901 3.41419C0.689836 3.67613 1.12338 3.67613 1.38532 3.41419L2.48726 2.31226V13.3226C2.48726 13.6929 2.79435 14 3.16467 14C3.535 14 3.84209 13.6929 3.84209 13.3226V2.31226L4.94403 3.41419C5.07951 3.54968 5.25113 3.6129 5.42274 3.6129C5.59435 3.6129 5.76597 3.54968 5.90145 3.41419C6.16338 3.15226 6.16338 2.71871 5.90145 2.45677L3.64338 0.19871H3.63435ZM13.7685 13.3226C13.7685 12.9523 13.4615 12.6452 13.0911 12.6452H7.22016C6.84984 12.6452 6.54274 12.9523 6.54274 13.3226C6.54274 13.6929 6.84984 14 7.22016 14H13.0911C13.4615 14 13.7685 13.6929 13.7685 13.3226ZM7.22016 8.58064C6.84984 8.58064 6.54274 8.27355 6.54274 7.90323C6.54274 7.5329 6.84984 7.22581 7.22016 7.22581H9.47823C9.84855 7.22581 10.1556 7.5329 10.1556 7.90323C10.1556 8.27355 9.84855 8.58064 9.47823 8.58064H7.22016ZM7.22016 5.87097H7.67177C8.0421 5.87097 8.34919 5.56387 8.34919 5.19355C8.34919 4.82323 8.0421 4.51613 7.67177 4.51613H7.22016C6.84984 4.51613 6.54274 4.82323 6.54274 5.19355C6.54274 5.56387 6.84984 5.87097 7.22016 5.87097ZM11.2847 11.2903H7.22016C6.84984 11.2903 6.54274 10.9832 6.54274 10.6129C6.54274 10.2426 6.84984 9.93548 7.22016 9.93548H11.2847C11.655 9.93548 11.9621 10.2426 11.9621 10.6129C11.9621 10.9832 11.655 11.2903 11.2847 11.2903Z",fill:"currentColor"},null,-1)]),16)}Nx.render=Moe;var Aoe={name:"BaseDataTable",extends:Tn,props:{value:{type:Array,default:null},dataKey:{type:[String,Function],default:null},rows:{type:Number,default:0},first:{type:Number,default:0},totalRecords:{type:Number,default:0},paginator:{type:Boolean,default:!1},paginatorPosition:{type:String,default:"bottom"},alwaysShowPaginator:{type:Boolean,default:!0},paginatorTemplate:{type:[Object,String],default:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown"},pageLinkSize:{type:Number,default:5},rowsPerPageOptions:{type:Array,default:null},currentPageReportTemplate:{type:String,default:"({currentPage} of {totalPages})"},lazy:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:void 0},sortField:{type:[String,Function],default:null},sortOrder:{type:Number,default:null},defaultSortOrder:{type:Number,default:1},nullSortOrder:{type:Number,default:1},multiSortMeta:{type:Array,default:null},sortMode:{type:String,default:"single"},removableSort:{type:Boolean,default:!1},filters:{type:Object,default:null},filterDisplay:{type:String,default:null},globalFilterFields:{type:Array,default:null},filterLocale:{type:String,default:void 0},selection:{type:[Array,Object],default:null},selectionMode:{type:String,default:null},compareSelectionBy:{type:String,default:"deepEquals"},metaKeySelection:{type:Boolean,default:!1},contextMenu:{type:Boolean,default:!1},contextMenuSelection:{type:Object,default:null},selectAll:{type:Boolean,default:null},rowHover:{type:Boolean,default:!1},csvSeparator:{type:String,default:","},exportFilename:{type:String,default:"download"},exportFunction:{type:Function,default:null},resizableColumns:{type:Boolean,default:!1},columnResizeMode:{type:String,default:"fit"},reorderableColumns:{type:Boolean,default:!1},expandedRows:{type:[Array,Object],default:null},expandedRowIcon:{type:String,default:void 0},collapsedRowIcon:{type:String,default:void 0},rowGroupMode:{type:String,default:null},groupRowsBy:{type:[Array,String,Function],default:null},expandableRowGroups:{type:Boolean,default:!1},expandedRowGroups:{type:Array,default:null},stateStorage:{type:String,default:"session"},stateKey:{type:String,default:null},editMode:{type:String,default:null},editingRows:{type:Array,default:null},rowClass:{type:Function,default:null},rowStyle:{type:Function,default:null},scrollable:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},scrollHeight:{type:String,default:null},frozenValue:{type:Array,default:null},breakpoint:{type:String,default:"960px"},showGridlines:{type:Boolean,default:!1},stripedRows:{type:Boolean,default:!1},highlightOnSelect:{type:Boolean,default:!1},size:{type:String,default:null},tableStyle:{type:null,default:null},tableClass:{type:[String,Object],default:null},tableProps:{type:Object,default:null},filterInputProps:{type:null,default:null},filterButtonProps:{type:Object,default:function(){return{filter:{severity:"secondary",text:!0,rounded:!0},inline:{clear:{severity:"secondary",text:!0,rounded:!0}},popover:{addRule:{severity:"info",text:!0,size:"small"},removeRule:{severity:"danger",text:!0,size:"small"},apply:{size:"small"},clear:{outlined:!0,size:"small"}}}}},editButtonProps:{type:Object,default:function(){return{init:{severity:"secondary",text:!0,rounded:!0},save:{severity:"secondary",text:!0,rounded:!0},cancel:{severity:"secondary",text:!0,rounded:!0}}}}},style:woe,provide:function(){return{$pcDataTable:this,$parentInstance:this}}},II={name:"RowCheckbox",hostName:"DataTable",extends:Tn,emits:["change"],props:{value:null,checked:null,column:null,rowCheckboxIconTemplate:{type:Function,default:null},index:{type:Number,default:null}},methods:{getColumnPT:function(t){var i={props:this.column.props,parent:{instance:this,props:this.$props,state:this.$data},context:{index:this.index,checked:this.checked,disabled:this.$attrs.disabled}};return Ze(this.ptm("column.".concat(t),{column:i}),this.ptm("column.".concat(t),i),this.ptmo(this.getColumnProp(),t,i))},getColumnProp:function(){return this.column.props&&this.column.props.pt?this.column.props.pt:void 0},onChange:function(t){this.$attrs.disabled||this.$emit("change",{originalEvent:t,data:this.value})}},computed:{checkboxAriaLabel:function(){return this.$primevue.config.locale.aria?this.checked?this.$primevue.config.locale.aria.selectRow:this.$primevue.config.locale.aria.unselectRow:void 0}},components:{CheckIcon:Nh,Checkbox:i_}};function Ooe(e,t,i,a,l,c){var y=Mi("CheckIcon"),n=Mi("Checkbox");return ge(),Vt(n,{modelValue:i.checked,binary:!0,disabled:e.$attrs.disabled,"aria-label":c.checkboxAriaLabel,onChange:c.onChange,unstyled:e.unstyled,pt:c.getColumnPT("pcRowCheckbox")},{icon:ti(function(x){return[i.rowCheckboxIconTemplate?(ge(),Vt(Wi(i.rowCheckboxIconTemplate),{key:0,checked:x.checked,class:Ii(x.class)},null,8,["checked","class"])):!i.rowCheckboxIconTemplate&&x.checked?(ge(),Vt(y,Ze({key:1,class:x.class},c.getColumnPT("pcRowCheckbox").icon),null,16,["class"])):Zt("",!0)]}),_:1},8,["modelValue","disabled","aria-label","onChange","unstyled","pt"])}II.render=Ooe;var kI={name:"RowRadioButton",hostName:"DataTable",extends:Tn,emits:["change"],props:{value:null,checked:null,name:null,column:null,index:{type:Number,default:null}},methods:{getColumnPT:function(t){var i={props:this.column.props,parent:{instance:this,props:this.$props,state:this.$data},context:{index:this.index,checked:this.checked,disabled:this.$attrs.disabled}};return Ze(this.ptm("column.".concat(t),{column:i}),this.ptm("column.".concat(t),i),this.ptmo(this.getColumnProp(),t,i))},getColumnProp:function(){return this.column.props&&this.column.props.pt?this.column.props.pt:void 0},onChange:function(t){this.$attrs.disabled||this.$emit("change",{originalEvent:t,data:this.value})}},components:{RadioButton:wp}};function Loe(e,t,i,a,l,c){var y=Mi("RadioButton");return ge(),Vt(y,{modelValue:i.checked,binary:!0,disabled:e.$attrs.disabled,name:i.name,onChange:c.onChange,unstyled:e.unstyled,pt:c.getColumnPT("pcRowRadiobutton")},null,8,["modelValue","disabled","name","onChange","unstyled","pt"])}kI.render=Loe;var MI={name:"BodyCell",hostName:"DataTable",extends:Tn,emits:["cell-edit-init","cell-edit-complete","cell-edit-cancel","row-edit-init","row-edit-save","row-edit-cancel","row-toggle","radio-change","checkbox-change","editing-meta-change"],props:{rowData:{type:Object,default:null},column:{type:Object,default:null},frozenRow:{type:Boolean,default:!1},rowIndex:{type:Number,default:null},index:{type:Number,default:null},isRowExpanded:{type:Boolean,default:!1},selected:{type:Boolean,default:!1},editing:{type:Boolean,default:!1},editingMeta:{type:Object,default:null},editMode:{type:String,default:null},virtualScrollerContentProps:{type:Object,default:null},ariaControls:{type:String,default:null},name:{type:String,default:null},expandedRowIcon:{type:String,default:null},collapsedRowIcon:{type:String,default:null},editButtonProps:{type:Object,default:null}},documentEditListener:null,selfClick:!1,overlayEventListener:null,data:function(){return{d_editing:this.editing,styleObject:{}}},watch:{editing:function(t){this.d_editing=t},"$data.d_editing":function(t){this.$emit("editing-meta-change",{data:this.rowData,field:this.field||"field_".concat(this.index),index:this.rowIndex,editing:t})}},mounted:function(){this.columnProp("frozen")&&this.updateStickyPosition()},updated:function(){var t=this;this.columnProp("frozen")&&this.updateStickyPosition(),this.d_editing&&(this.editMode==="cell"||this.editMode==="row"&&this.columnProp("rowEditor"))&&setTimeout(function(){var i=Nd(t.$el);i&&i.focus()},1)},beforeUnmount:function(){this.overlayEventListener&&(ss.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null)},methods:{columnProp:function(t){return jh(this.column,t)},getColumnPT:function(t){var i,a,l={props:this.column.props,parent:{instance:this,props:this.$props,state:this.$data},context:{index:this.index,size:(i=this.$parentInstance)===null||i===void 0||(i=i.$parentInstance)===null||i===void 0?void 0:i.size,showGridlines:(a=this.$parentInstance)===null||a===void 0||(a=a.$parentInstance)===null||a===void 0?void 0:a.showGridlines}};return Ze(this.ptm("column.".concat(t),{column:l}),this.ptm("column.".concat(t),l),this.ptmo(this.getColumnProp(),t,l))},getColumnProp:function(){return this.column.props&&this.column.props.pt?this.column.props.pt:void 0},resolveFieldData:function(){return On(this.rowData,this.field)},toggleRow:function(t){this.$emit("row-toggle",{originalEvent:t,data:this.rowData})},toggleRowWithRadio:function(t,i){this.$emit("radio-change",{originalEvent:t.originalEvent,index:i,data:t.data})},toggleRowWithCheckbox:function(t,i){this.$emit("checkbox-change",{originalEvent:t.originalEvent,index:i,data:t.data})},isEditable:function(){return this.column.children&&this.column.children.editor!=null},bindDocumentEditListener:function(){var t=this;this.documentEditListener||(this.documentEditListener=function(i){t.selfClick||t.completeEdit(i,"outside"),t.selfClick=!1},document.addEventListener("click",this.documentEditListener))},unbindDocumentEditListener:function(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null,this.selfClick=!1)},switchCellToViewMode:function(){this.d_editing=!1,this.unbindDocumentEditListener(),ss.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null},onClick:function(t){var i=this;this.editMode==="cell"&&this.isEditable()&&(this.selfClick=!0,this.d_editing||(this.d_editing=!0,this.bindDocumentEditListener(),this.$emit("cell-edit-init",{originalEvent:t,data:this.rowData,field:this.field,index:this.rowIndex}),this.overlayEventListener=function(a){i.$el&&i.$el.contains(a.target)&&(i.selfClick=!0)},ss.on("overlay-click",this.overlayEventListener)))},completeEdit:function(t,i){var a={originalEvent:t,data:this.rowData,newData:this.editingRowData,value:this.rowData[this.field],newValue:this.editingRowData[this.field],field:this.field,index:this.rowIndex,type:i,defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0}};this.$emit("cell-edit-complete",a),a.defaultPrevented||this.switchCellToViewMode()},onKeyDown:function(t){if(this.editMode==="cell")switch(t.code){case"Enter":case"NumpadEnter":this.completeEdit(t,"enter");break;case"Escape":this.switchCellToViewMode(),this.$emit("cell-edit-cancel",{originalEvent:t,data:this.rowData,field:this.field,index:this.rowIndex});break;case"Tab":this.completeEdit(t,"tab"),t.shiftKey?this.moveToPreviousCell(t):this.moveToNextCell(t);break}},moveToPreviousCell:function(t){var i=this.findCell(t.target),a=this.findPreviousEditableColumn(i);a&&(N9(a,"click"),t.preventDefault())},moveToNextCell:function(t){var i=this.findCell(t.target),a=this.findNextEditableColumn(i);a&&(N9(a,"click"),t.preventDefault())},findCell:function(t){if(t){for(var i=t;i&&!Uo(i,"data-p-cell-editing");)i=i.parentElement;return i}else return null},findPreviousEditableColumn:function(t){var i=t.previousElementSibling;if(!i){var a=t.parentElement.previousElementSibling;a&&(i=a.lastElementChild)}return i?Uo(i,"data-p-editable-column")?i:this.findPreviousEditableColumn(i):null},findNextEditableColumn:function(t){var i=t.nextElementSibling;if(!i){var a=t.parentElement.nextElementSibling;a&&(i=a.firstElementChild)}return i?Uo(i,"data-p-editable-column")?i:this.findNextEditableColumn(i):null},onRowEditInit:function(t){this.$emit("row-edit-init",{originalEvent:t,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex})},onRowEditSave:function(t){this.$emit("row-edit-save",{originalEvent:t,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex})},onRowEditCancel:function(t){this.$emit("row-edit-cancel",{originalEvent:t,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex})},editorInitCallback:function(t){this.$emit("row-edit-init",{originalEvent:t,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex})},editorSaveCallback:function(t){this.editMode==="row"?this.$emit("row-edit-save",{originalEvent:t,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex}):this.completeEdit(t,"enter")},editorCancelCallback:function(t){this.editMode==="row"?this.$emit("row-edit-cancel",{originalEvent:t,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex}):(this.switchCellToViewMode(),this.$emit("cell-edit-cancel",{originalEvent:t,data:this.rowData,field:this.field,index:this.rowIndex}))},updateStickyPosition:function(){if(this.columnProp("frozen")){var t=this.columnProp("alignFrozen");if(t==="right"){var i=0,a=v6(this.$el,'[data-p-frozen-column="true"]');a&&(i=mr(a)+parseFloat(a.style.right||0)),this.styleObject.right=i+"px"}else{var l=0,c=x6(this.$el,'[data-p-frozen-column="true"]');c&&(l=mr(c)+parseFloat(c.style.left||0)),this.styleObject.left=l+"px"}}},getVirtualScrollerProp:function(t){return this.virtualScrollerContentProps?this.virtualScrollerContentProps[t]:null}},computed:{editingRowData:function(){return this.editingMeta[this.rowIndex]?this.editingMeta[this.rowIndex].data:this.rowData},field:function(){return this.columnProp("field")},containerClass:function(){return[this.columnProp("bodyClass"),this.columnProp("class"),this.cx("bodyCell")]},containerStyle:function(){var t=this.columnProp("bodyStyle"),i=this.columnProp("style");return this.columnProp("frozen")?[i,t,this.styleObject]:[i,t]},loading:function(){return this.getVirtualScrollerProp("loading")},loadingOptions:function(){var t=this.getVirtualScrollerProp("getLoaderOptions");return t&&t(this.rowIndex,{cellIndex:this.index,cellFirst:this.index===0,cellLast:this.index===this.getVirtualScrollerProp("columns").length-1,cellEven:this.index%2===0,cellOdd:this.index%2!==0,column:this.column,field:this.field})},expandButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.isRowExpanded?this.$primevue.config.locale.aria.expandRow:this.$primevue.config.locale.aria.collapseRow:void 0},initButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.editRow:void 0},saveButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.saveEdit:void 0},cancelButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.cancelEdit:void 0}},components:{DTRadioButton:kI,DTCheckbox:II,Button:rc,ChevronDownIcon:r0,ChevronRightIcon:ev,BarsIcon:CI,PencilIcon:EI,CheckIcon:Nh,TimesIcon:e_},directives:{ripple:Bs}};function Cg(e){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cg(e)}function SE(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),i.push.apply(i,a)}return i}function ub(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?SE(Object(i),!0).forEach(function(a){Doe(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):SE(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function Doe(e,t,i){return(t=Boe(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Boe(e){var t=joe(e,"string");return Cg(t)=="symbol"?t:t+""}function joe(e,t){if(Cg(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t||"default");if(Cg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zoe=["colspan","rowspan","data-p-selection-column","data-p-editable-column","data-p-cell-editing","data-p-frozen-column"],Voe=["aria-expanded","aria-controls","aria-label"];function Noe(e,t,i,a,l,c){var y=Mi("DTRadioButton"),n=Mi("DTCheckbox"),x=Mi("BarsIcon"),C=Mi("ChevronDownIcon"),k=Mi("ChevronRightIcon"),O=Mi("Button"),B=Nr("ripple");return c.loading?(ge(),Je("td",Ze({key:0,style:c.containerStyle,class:c.containerClass,role:"cell"},ub(ub({},c.getColumnPT("root")),c.getColumnPT("bodyCell"))),[(ge(),Vt(Wi(i.column.children.loading),{data:i.rowData,column:i.column,field:c.field,index:i.rowIndex,frozenRow:i.frozenRow,loadingOptions:c.loadingOptions},null,8,["data","column","field","index","frozenRow","loadingOptions"]))],16)):(ge(),Je("td",Ze({key:1,style:c.containerStyle,class:c.containerClass,colspan:c.columnProp("colspan"),rowspan:c.columnProp("rowspan"),onClick:t[3]||(t[3]=function(){return c.onClick&&c.onClick.apply(c,arguments)}),onKeydown:t[4]||(t[4]=function(){return c.onKeyDown&&c.onKeyDown.apply(c,arguments)}),role:"cell"},ub(ub({},c.getColumnPT("root")),c.getColumnPT("bodyCell")),{"data-p-selection-column":c.columnProp("selectionMode")!=null,"data-p-editable-column":c.isEditable(),"data-p-cell-editing":l.d_editing,"data-p-frozen-column":c.columnProp("frozen")}),[i.column.children&&i.column.children.body&&!l.d_editing?(ge(),Vt(Wi(i.column.children.body),{key:0,data:i.rowData,column:i.column,field:c.field,index:i.rowIndex,frozenRow:i.frozenRow,editorInitCallback:c.editorInitCallback,rowTogglerCallback:c.toggleRow},null,8,["data","column","field","index","frozenRow","editorInitCallback","rowTogglerCallback"])):i.column.children&&i.column.children.editor&&l.d_editing?(ge(),Vt(Wi(i.column.children.editor),{key:1,data:c.editingRowData,column:i.column,field:c.field,index:i.rowIndex,frozenRow:i.frozenRow,editorSaveCallback:c.editorSaveCallback,editorCancelCallback:c.editorCancelCallback},null,8,["data","column","field","index","frozenRow","editorSaveCallback","editorCancelCallback"])):i.column.children&&i.column.children.body&&!i.column.children.editor&&l.d_editing?(ge(),Vt(Wi(i.column.children.body),{key:2,data:c.editingRowData,column:i.column,field:c.field,index:i.rowIndex,frozenRow:i.frozenRow},null,8,["data","column","field","index","frozenRow"])):c.columnProp("selectionMode")?(ge(),Je(Ri,{key:3},[c.columnProp("selectionMode")==="single"?(ge(),Vt(y,{key:0,value:i.rowData,name:i.name,checked:i.selected,onChange:t[0]||(t[0]=function(L){return c.toggleRowWithRadio(L,i.rowIndex)}),column:i.column,index:i.index,unstyled:e.unstyled,pt:e.pt},null,8,["value","name","checked","column","index","unstyled","pt"])):c.columnProp("selectionMode")==="multiple"?(ge(),Vt(n,{key:1,value:i.rowData,checked:i.selected,rowCheckboxIconTemplate:i.column.children&&i.column.children.rowcheckboxicon,"aria-selected":i.selected?!0:void 0,onChange:t[1]||(t[1]=function(L){return c.toggleRowWithCheckbox(L,i.rowIndex)}),column:i.column,index:i.index,unstyled:e.unstyled,pt:e.pt},null,8,["value","checked","rowCheckboxIconTemplate","aria-selected","column","index","unstyled","pt"])):Zt("",!0)],64)):c.columnProp("rowReorder")?(ge(),Je(Ri,{key:4},[i.column.children&&i.column.children.rowreordericon?(ge(),Vt(Wi(i.column.children.rowreordericon),{key:0,class:Ii(e.cx("reorderableRowHandle"))},null,8,["class"])):c.columnProp("rowReorderIcon")?(ge(),Je("i",Ze({key:1,class:[e.cx("reorderableRowHandle"),c.columnProp("rowReorderIcon")]},c.getColumnPT("reorderableRowHandle")),null,16)):(ge(),Vt(x,Ze({key:2,class:e.cx("reorderableRowHandle")},c.getColumnPT("reorderableRowHandle")),null,16,["class"]))],64)):c.columnProp("expander")?Qo((ge(),Je("button",Ze({key:5,class:e.cx("rowToggleButton"),type:"button","aria-expanded":i.isRowExpanded,"aria-controls":i.ariaControls,"aria-label":c.expandButtonAriaLabel,onClick:t[2]||(t[2]=function(){return c.toggleRow&&c.toggleRow.apply(c,arguments)})},c.getColumnPT("rowToggleButton"),{"data-pc-group-section":"rowactionbutton"}),[i.column.children&&i.column.children.rowtogglericon?(ge(),Vt(Wi(i.column.children.rowtogglericon),{key:0,class:Ii(e.cx("rowToggleIcon")),rowExpanded:i.isRowExpanded},null,8,["class","rowExpanded"])):(ge(),Je(Ri,{key:1},[i.isRowExpanded&&i.expandedRowIcon?(ge(),Je("span",{key:0,class:Ii([e.cx("rowToggleIcon"),i.expandedRowIcon])},null,2)):i.isRowExpanded&&!i.expandedRowIcon?(ge(),Vt(C,Ze({key:1,class:e.cx("rowToggleIcon")},c.getColumnPT("rowToggleIcon")),null,16,["class"])):!i.isRowExpanded&&i.collapsedRowIcon?(ge(),Je("span",{key:2,class:Ii([e.cx("rowToggleIcon"),i.collapsedRowIcon])},null,2)):!i.isRowExpanded&&!i.collapsedRowIcon?(ge(),Vt(k,Ze({key:3,class:e.cx("rowToggleIcon")},c.getColumnPT("rowToggleIcon")),null,16,["class"])):Zt("",!0)],64))],16,Voe)),[[B]]):i.editMode==="row"&&c.columnProp("rowEditor")?(ge(),Je(Ri,{key:6},[l.d_editing?Zt("",!0):(ge(),Vt(O,Ze({key:0,class:e.cx("pcRowEditorInit"),"aria-label":c.initButtonAriaLabel,unstyled:e.unstyled,onClick:c.onRowEditInit},i.editButtonProps.init,{pt:c.getColumnPT("pcRowEditorInit"),"data-pc-group-section":"rowactionbutton"}),{icon:ti(function(L){return[(ge(),Vt(Wi(i.column.children&&i.column.children.roweditoriniticon||"PencilIcon"),Ze({class:L.class},c.getColumnPT("pcRowEditorInit").icon),null,16,["class"]))]}),_:1},16,["class","aria-label","unstyled","onClick","pt"])),l.d_editing?(ge(),Vt(O,Ze({key:1,class:e.cx("pcRowEditorSave"),"aria-label":c.saveButtonAriaLabel,unstyled:e.unstyled,onClick:c.onRowEditSave},i.editButtonProps.save,{pt:c.getColumnPT("pcRowEditorSave"),"data-pc-group-section":"rowactionbutton"}),{icon:ti(function(L){return[(ge(),Vt(Wi(i.column.children&&i.column.children.roweditorsaveicon||"CheckIcon"),Ze({class:L.class},c.getColumnPT("pcRowEditorSave").icon),null,16,["class"]))]}),_:1},16,["class","aria-label","unstyled","onClick","pt"])):Zt("",!0),l.d_editing?(ge(),Vt(O,Ze({key:2,class:e.cx("pcRowEditorCancel"),"aria-label":c.cancelButtonAriaLabel,unstyled:e.unstyled,onClick:c.onRowEditCancel},i.editButtonProps.cancel,{pt:c.getColumnPT("pcRowEditorCancel"),"data-pc-group-section":"rowactionbutton"}),{icon:ti(function(L){return[(ge(),Vt(Wi(i.column.children&&i.column.children.roweditorcancelicon||"TimesIcon"),Ze({class:L.class},c.getColumnPT("pcRowEditorCancel").icon),null,16,["class"]))]}),_:1},16,["class","aria-label","unstyled","onClick","pt"])):Zt("",!0)],64)):(ge(),Je(Ri,{key:7},[Ei(li(c.resolveFieldData()),1)],64))],16,zoe))}MI.render=Noe;function Eg(e){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(e)}function $oe(e,t){var i=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=Uoe(e))||t){i&&(e=i);var a=0,l=function(){};return{s:l,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(C){throw C},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,y=!0,n=!1;return{s:function(){i=i.call(e)},n:function(){var C=i.next();return y=C.done,C},e:function(C){n=!0,c=C},f:function(){try{y||i.return==null||i.return()}finally{if(n)throw c}}}}function Uoe(e,t){if(e){if(typeof e=="string")return TE(e,t);var i={}.toString.call(e).slice(8,-1);return i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set"?Array.from(e):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?TE(e,t):void 0}}function TE(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,a=Array(t);i<t;i++)a[i]=e[i];return a}function RE(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),i.push.apply(i,a)}return i}function PE(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?RE(Object(i),!0).forEach(function(a){Goe(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):RE(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function Goe(e,t,i){return(t=Hoe(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Hoe(e){var t=qoe(e,"string");return Eg(t)=="symbol"?t:t+""}function qoe(e,t){if(Eg(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t||"default");if(Eg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AI={name:"BodyRow",hostName:"DataTable",extends:Tn,emits:["rowgroup-toggle","row-click","row-dblclick","row-rightclick","row-touchend","row-keydown","row-mousedown","row-dragstart","row-dragover","row-dragleave","row-dragend","row-drop","row-toggle","radio-change","checkbox-change","cell-edit-init","cell-edit-complete","cell-edit-cancel","row-edit-init","row-edit-save","row-edit-cancel","editing-meta-change"],props:{rowData:{type:Object,default:null},index:{type:Number,default:0},value:{type:Array,default:null},columns:{type:null,default:null},frozenRow:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},rowGroupMode:{type:String,default:null},groupRowsBy:{type:[Array,String,Function],default:null},expandableRowGroups:{type:Boolean,default:!1},expandedRowGroups:{type:Array,default:null},first:{type:Number,default:0},dataKey:{type:[String,Function],default:null},expandedRowIcon:{type:String,default:null},collapsedRowIcon:{type:String,default:null},expandedRows:{type:[Array,Object],default:null},selection:{type:[Array,Object],default:null},selectionKeys:{type:null,default:null},selectionMode:{type:String,default:null},contextMenu:{type:Boolean,default:!1},contextMenuSelection:{type:Object,default:null},rowClass:{type:null,default:null},rowStyle:{type:null,default:null},rowGroupHeaderStyle:{type:null,default:null},editMode:{type:String,default:null},compareSelectionBy:{type:String,default:"deepEquals"},editingRows:{type:Array,default:null},editingRowKeys:{type:null,default:null},editingMeta:{type:Object,default:null},templates:{type:null,default:null},scrollable:{type:Boolean,default:!1},editButtonProps:{type:Object,default:null},virtualScrollerContentProps:{type:Object,default:null},isVirtualScrollerDisabled:{type:Boolean,default:!1},expandedRowId:{type:String,default:null},nameAttributeSelector:{type:String,default:null}},data:function(){return{d_rowExpanded:!1}},watch:{expandedRows:{deep:!0,immediate:!0,handler:function(t){var i=this;this.d_rowExpanded=this.dataKey?(t==null?void 0:t[On(this.rowData,this.dataKey)])!==void 0:t==null?void 0:t.some(function(a){return i.equals(i.rowData,a)})}}},methods:{columnProp:function(t,i){return jh(t,i)},getColumnPT:function(t){var i={parent:{instance:this,props:this.$props,state:this.$data}};return Ze(this.ptm("column.".concat(t),{column:i}),this.ptm("column.".concat(t),i),this.ptmo(this.columnProp({},"pt"),t,i))},getBodyRowPTOptions:function(t){var i,a=(i=this.$parentInstance)===null||i===void 0?void 0:i.$parentInstance;return this.ptm(t,{context:{index:this.rowIndex,selectable:(a==null?void 0:a.rowHover)||(a==null?void 0:a.selectionMode),selected:this.isSelected,stripedRows:(a==null?void 0:a.stripedRows)||!1}})},shouldRenderBodyCell:function(t){var i=this.columnProp(t,"hidden");if(this.rowGroupMode&&!i){var a=this.columnProp(t,"field");if(this.rowGroupMode==="subheader")return this.groupRowsBy!==a;if(this.rowGroupMode==="rowspan")if(this.isGrouped(t)){var l=this.value[this.rowIndex-1];if(l){var c=On(this.value[this.rowIndex],a),y=On(l,a);return c!==y}else return!0}else return!0}else return!i},calculateRowGroupSize:function(t){if(this.isGrouped(t)){for(var i=this.rowIndex,a=this.columnProp(t,"field"),l=On(this.value[i],a),c=l,y=0;l===c;){y++;var n=this.value[++i];if(n)c=On(n,a);else break}return y===1?null:y}else return null},isGrouped:function(t){var i=this.columnProp(t,"field");return this.groupRowsBy&&i?Array.isArray(this.groupRowsBy)?this.groupRowsBy.indexOf(i)>-1:this.groupRowsBy===i:!1},findIndexInSelection:function(t){return this.findIndex(t,this.selection)},findIndex:function(t,i){var a=-1;if(i&&i.length){for(var l=0;l<i.length;l++)if(this.equals(t,i[l])){a=l;break}}return a},equals:function(t,i){return this.compareSelectionBy==="equals"?t===i:ac(t,i,this.dataKey)},onRowGroupToggle:function(t){this.$emit("rowgroup-toggle",{originalEvent:t,data:this.rowData})},onRowClick:function(t){this.$emit("row-click",{originalEvent:t,data:this.rowData,index:this.rowIndex})},onRowDblClick:function(t){this.$emit("row-dblclick",{originalEvent:t,data:this.rowData,index:this.rowIndex})},onRowRightClick:function(t){this.$emit("row-rightclick",{originalEvent:t,data:this.rowData,index:this.rowIndex})},onRowTouchEnd:function(t){this.$emit("row-touchend",t)},onRowKeyDown:function(t){this.$emit("row-keydown",{originalEvent:t,data:this.rowData,index:this.rowIndex})},onRowMouseDown:function(t){this.$emit("row-mousedown",t)},onRowDragStart:function(t){this.$emit("row-dragstart",{originalEvent:t,index:this.rowIndex})},onRowDragOver:function(t){this.$emit("row-dragover",{originalEvent:t,index:this.rowIndex})},onRowDragLeave:function(t){this.$emit("row-dragleave",t)},onRowDragEnd:function(t){this.$emit("row-dragend",t)},onRowDrop:function(t){this.$emit("row-drop",t)},onRowToggle:function(t){this.d_rowExpanded=!this.d_rowExpanded,this.$emit("row-toggle",PE(PE({},t),{},{expanded:this.d_rowExpanded}))},onRadioChange:function(t){this.$emit("radio-change",t)},onCheckboxChange:function(t){this.$emit("checkbox-change",t)},onCellEditInit:function(t){this.$emit("cell-edit-init",t)},onCellEditComplete:function(t){this.$emit("cell-edit-complete",t)},onCellEditCancel:function(t){this.$emit("cell-edit-cancel",t)},onRowEditInit:function(t){this.$emit("row-edit-init",t)},onRowEditSave:function(t){this.$emit("row-edit-save",t)},onRowEditCancel:function(t){this.$emit("row-edit-cancel",t)},onEditingMetaChange:function(t){this.$emit("editing-meta-change",t)},getVirtualScrollerProp:function(t,i){return i=i||this.virtualScrollerContentProps,i?i[t]:null}},computed:{rowIndex:function(){var t=this.getVirtualScrollerProp("getItemOptions");return t?t(this.index).index:this.index},rowStyles:function(){var t;return(t=this.rowStyle)===null||t===void 0?void 0:t.call(this,this.rowData)},rowClasses:function(){var t=[],i=null;if(this.rowClass){var a=this.rowClass(this.rowData);a&&t.push(a)}if(this.columns){var l=$oe(this.columns),c;try{for(l.s();!(c=l.n()).done;){var y=c.value,n=this.columnProp(y,"selectionMode");if(Bn(n)){i=n;break}}}catch(x){l.e(x)}finally{l.f()}}return[this.cx("row",{rowData:this.rowData,index:this.rowIndex,columnSelectionMode:i}),t]},rowTabindex:function(){return this.selection===null&&(this.selectionMode==="single"||this.selectionMode==="multiple")&&this.rowIndex===0?0:-1},isRowEditing:function(){return this.rowData&&this.editingRows?this.dataKey?this.editingRowKeys?this.editingRowKeys[On(this.rowData,this.dataKey)]!==void 0:!1:this.findIndex(this.rowData,this.editingRows)>-1:!1},isRowGroupExpanded:function(){if(this.expandableRowGroups&&this.expandedRowGroups){var t=On(this.rowData,this.groupRowsBy);return this.expandedRowGroups.indexOf(t)>-1}return!1},isSelected:function(){return this.rowData&&this.selection?this.dataKey?this.selectionKeys?this.selectionKeys[On(this.rowData,this.dataKey)]!==void 0:!1:this.selection instanceof Array?this.findIndexInSelection(this.rowData)>-1:this.equals(this.rowData,this.selection):!1},isSelectedWithContextMenu:function(){return this.rowData&&this.contextMenuSelection?this.equals(this.rowData,this.contextMenuSelection,this.dataKey):!1},shouldRenderRowGroupHeader:function(){var t=On(this.rowData,this.groupRowsBy),i=this.value[this.rowIndex-1];if(i){var a=On(i,this.groupRowsBy);return t!==a}else return!0},shouldRenderRowGroupFooter:function(){if(this.expandableRowGroups&&!this.isRowGroupExpanded)return!1;var t=On(this.rowData,this.groupRowsBy),i=this.value[this.rowIndex+1];if(i){var a=On(i,this.groupRowsBy);return t!==a}else return!0},columnsLength:function(){var t=this;if(this.columns){var i=0;return this.columns.forEach(function(a){t.columnProp(a,"selectionMode")==="single"&&i--,t.columnProp(a,"hidden")&&i++}),this.columns.length-i}return 0}},components:{DTBodyCell:MI,ChevronDownIcon:r0,ChevronRightIcon:ev}};function Sg(e){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sg(e)}function IE(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),i.push.apply(i,a)}return i}function Md(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?IE(Object(i),!0).forEach(function(a){Woe(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):IE(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function Woe(e,t,i){return(t=Koe(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Koe(e){var t=Zoe(e,"string");return Sg(t)=="symbol"?t:t+""}function Zoe(e,t){if(Sg(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t||"default");if(Sg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qoe=["colspan"],Xoe=["tabindex","aria-selected","data-p-index","data-p-selectable-row","data-p-selected","data-p-selected-contextmenu"],Joe=["id"],Yoe=["colspan"],ere=["colspan"],tre=["colspan"];function ire(e,t,i,a,l,c){var y=Mi("ChevronDownIcon"),n=Mi("ChevronRightIcon"),x=Mi("DTBodyCell");return i.empty?(ge(),Je("tr",Ze({key:1,class:e.cx("emptyMessage"),role:"row"},e.ptm("emptyMessage")),[Se("td",Ze({colspan:c.columnsLength},Md(Md({},c.getColumnPT("bodycell")),e.ptm("emptyMessageCell"))),[i.templates.empty?(ge(),Vt(Wi(i.templates.empty),{key:0})):Zt("",!0)],16,tre)],16)):(ge(),Je(Ri,{key:0},[i.templates.groupheader&&i.rowGroupMode==="subheader"&&c.shouldRenderRowGroupHeader?(ge(),Je("tr",Ze({key:0,class:e.cx("rowGroupHeader"),style:i.rowGroupHeaderStyle,role:"row"},e.ptm("rowGroupHeader")),[Se("td",Ze({colspan:c.columnsLength-1},Md(Md({},c.getColumnPT("bodycell")),e.ptm("rowGroupHeaderCell"))),[i.expandableRowGroups?(ge(),Je("button",Ze({key:0,class:e.cx("rowToggleButton"),onClick:t[0]||(t[0]=function(){return c.onRowGroupToggle&&c.onRowGroupToggle.apply(c,arguments)}),type:"button"},e.ptm("rowToggleButton")),[i.templates.rowtoggleicon||i.templates.rowgrouptogglericon?(ge(),Vt(Wi(i.templates.rowtoggleicon||i.templates.rowgrouptogglericon),{key:0,expanded:c.isRowGroupExpanded},null,8,["expanded"])):(ge(),Je(Ri,{key:1},[c.isRowGroupExpanded&&i.expandedRowIcon?(ge(),Je("span",Ze({key:0,class:[e.cx("rowToggleIcon"),i.expandedRowIcon]},e.ptm("rowToggleIcon")),null,16)):c.isRowGroupExpanded&&!i.expandedRowIcon?(ge(),Vt(y,Ze({key:1,class:e.cx("rowToggleIcon")},e.ptm("rowToggleIcon")),null,16,["class"])):!c.isRowGroupExpanded&&i.collapsedRowIcon?(ge(),Je("span",Ze({key:2,class:[e.cx("rowToggleIcon"),i.collapsedRowIcon]},e.ptm("rowToggleIcon")),null,16)):!c.isRowGroupExpanded&&!i.collapsedRowIcon?(ge(),Vt(n,Ze({key:3,class:e.cx("rowToggleIcon")},e.ptm("rowToggleIcon")),null,16,["class"])):Zt("",!0)],64))],16)):Zt("",!0),(ge(),Vt(Wi(i.templates.groupheader),{data:i.rowData,index:c.rowIndex},null,8,["data","index"]))],16,Qoe)],16)):Zt("",!0),!i.expandableRowGroups||c.isRowGroupExpanded?(ge(),Je("tr",Ze({key:1,class:c.rowClasses,style:c.rowStyles,tabindex:c.rowTabindex,role:"row","aria-selected":i.selectionMode?c.isSelected:null,onClick:t[1]||(t[1]=function(){return c.onRowClick&&c.onRowClick.apply(c,arguments)}),onDblclick:t[2]||(t[2]=function(){return c.onRowDblClick&&c.onRowDblClick.apply(c,arguments)}),onContextmenu:t[3]||(t[3]=function(){return c.onRowRightClick&&c.onRowRightClick.apply(c,arguments)}),onTouchend:t[4]||(t[4]=function(){return c.onRowTouchEnd&&c.onRowTouchEnd.apply(c,arguments)}),onKeydown:t[5]||(t[5]=I2(function(){return c.onRowKeyDown&&c.onRowKeyDown.apply(c,arguments)},["self"])),onMousedown:t[6]||(t[6]=function(){return c.onRowMouseDown&&c.onRowMouseDown.apply(c,arguments)}),onDragstart:t[7]||(t[7]=function(){return c.onRowDragStart&&c.onRowDragStart.apply(c,arguments)}),onDragover:t[8]||(t[8]=function(){return c.onRowDragOver&&c.onRowDragOver.apply(c,arguments)}),onDragleave:t[9]||(t[9]=function(){return c.onRowDragLeave&&c.onRowDragLeave.apply(c,arguments)}),onDragend:t[10]||(t[10]=function(){return c.onRowDragEnd&&c.onRowDragEnd.apply(c,arguments)}),onDrop:t[11]||(t[11]=function(){return c.onRowDrop&&c.onRowDrop.apply(c,arguments)})},c.getBodyRowPTOptions("bodyRow"),{"data-p-index":c.rowIndex,"data-p-selectable-row":!!i.selectionMode,"data-p-selected":i.selection&&c.isSelected,"data-p-selected-contextmenu":i.contextMenuSelection&&c.isSelectedWithContextMenu}),[(ge(!0),Je(Ri,null,wo(i.columns,function(C,k){return ge(),Je(Ri,null,[c.shouldRenderBodyCell(C)?(ge(),Vt(x,{key:c.columnProp(C,"columnKey")||c.columnProp(C,"field")||k,rowData:i.rowData,column:C,rowIndex:c.rowIndex,index:k,selected:c.isSelected,frozenRow:i.frozenRow,rowspan:i.rowGroupMode==="rowspan"?c.calculateRowGroupSize(C):null,editMode:i.editMode,editing:i.editMode==="row"&&c.isRowEditing,editingMeta:i.editingMeta,virtualScrollerContentProps:i.virtualScrollerContentProps,ariaControls:i.expandedRowId+"_"+c.rowIndex+"_expansion",name:i.nameAttributeSelector,isRowExpanded:l.d_rowExpanded,expandedRowIcon:i.expandedRowIcon,collapsedRowIcon:i.collapsedRowIcon,editButtonProps:i.editButtonProps,onRadioChange:c.onRadioChange,onCheckboxChange:c.onCheckboxChange,onRowToggle:c.onRowToggle,onCellEditInit:c.onCellEditInit,onCellEditComplete:c.onCellEditComplete,onCellEditCancel:c.onCellEditCancel,onRowEditInit:c.onRowEditInit,onRowEditSave:c.onRowEditSave,onRowEditCancel:c.onRowEditCancel,onEditingMetaChange:c.onEditingMetaChange,unstyled:e.unstyled,pt:e.pt},null,8,["rowData","column","rowIndex","index","selected","frozenRow","rowspan","editMode","editing","editingMeta","virtualScrollerContentProps","ariaControls","name","isRowExpanded","expandedRowIcon","collapsedRowIcon","editButtonProps","onRadioChange","onCheckboxChange","onRowToggle","onCellEditInit","onCellEditComplete","onCellEditCancel","onRowEditInit","onRowEditSave","onRowEditCancel","onEditingMetaChange","unstyled","pt"])):Zt("",!0)],64)}),256))],16,Xoe)):Zt("",!0),i.templates.expansion&&i.expandedRows&&l.d_rowExpanded?(ge(),Je("tr",Ze({key:2,id:i.expandedRowId+"_"+c.rowIndex+"_expansion",class:e.cx("rowExpansion"),role:"row"},e.ptm("rowExpansion")),[Se("td",Ze({colspan:c.columnsLength},Md(Md({},c.getColumnPT("bodycell")),e.ptm("rowExpansionCell"))),[(ge(),Vt(Wi(i.templates.expansion),{data:i.rowData,index:c.rowIndex},null,8,["data","index"]))],16,Yoe)],16,Joe)):Zt("",!0),i.templates.groupfooter&&i.rowGroupMode==="subheader"&&c.shouldRenderRowGroupFooter?(ge(),Je("tr",Ze({key:3,class:e.cx("rowGroupFooter"),role:"row"},e.ptm("rowGroupFooter")),[Se("td",Ze({colspan:c.columnsLength-1},Md(Md({},c.getColumnPT("bodycell")),e.ptm("rowGroupFooterCell"))),[(ge(),Vt(Wi(i.templates.groupfooter),{data:i.rowData,index:c.rowIndex},null,8,["data","index"]))],16,ere)],16)):Zt("",!0)],64))}AI.render=ire;var OI={name:"TableBody",hostName:"DataTable",extends:Tn,emits:["rowgroup-toggle","row-click","row-dblclick","row-rightclick","row-touchend","row-keydown","row-mousedown","row-dragstart","row-dragover","row-dragleave","row-dragend","row-drop","row-toggle","radio-change","checkbox-change","cell-edit-init","cell-edit-complete","cell-edit-cancel","row-edit-init","row-edit-save","row-edit-cancel","editing-meta-change"],props:{value:{type:Array,default:null},columns:{type:null,default:null},frozenRow:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},rowGroupMode:{type:String,default:null},groupRowsBy:{type:[Array,String,Function],default:null},expandableRowGroups:{type:Boolean,default:!1},expandedRowGroups:{type:Array,default:null},first:{type:Number,default:0},dataKey:{type:[String,Function],default:null},expandedRowIcon:{type:String,default:null},collapsedRowIcon:{type:String,default:null},expandedRows:{type:[Array,Object],default:null},selection:{type:[Array,Object],default:null},selectionKeys:{type:null,default:null},selectionMode:{type:String,default:null},contextMenu:{type:Boolean,default:!1},contextMenuSelection:{type:Object,default:null},rowClass:{type:null,default:null},rowStyle:{type:null,default:null},editMode:{type:String,default:null},compareSelectionBy:{type:String,default:"deepEquals"},editingRows:{type:Array,default:null},editingRowKeys:{type:null,default:null},editingMeta:{type:Object,default:null},templates:{type:null,default:null},scrollable:{type:Boolean,default:!1},editButtonProps:{type:Object,default:null},virtualScrollerContentProps:{type:Object,default:null},isVirtualScrollerDisabled:{type:Boolean,default:!1}},data:function(){return{rowGroupHeaderStyleObject:{}}},mounted:function(){this.frozenRow&&this.updateFrozenRowStickyPosition(),this.scrollable&&this.rowGroupMode==="subheader"&&this.updateFrozenRowGroupHeaderStickyPosition()},updated:function(){this.frozenRow&&this.updateFrozenRowStickyPosition(),this.scrollable&&this.rowGroupMode==="subheader"&&this.updateFrozenRowGroupHeaderStickyPosition()},methods:{getRowKey:function(t,i){return this.dataKey?On(t,this.dataKey):i},updateFrozenRowStickyPosition:function(){this.$el.style.top=Rs(this.$el.previousElementSibling)+"px"},updateFrozenRowGroupHeaderStickyPosition:function(){var t=Rs(this.$el.previousElementSibling);this.rowGroupHeaderStyleObject.top=t+"px"},getVirtualScrollerProp:function(t,i){return i=i||this.virtualScrollerContentProps,i?i[t]:null},bodyRef:function(t){var i=this.getVirtualScrollerProp("contentRef");i&&i(t)}},computed:{rowGroupHeaderStyle:function(){return this.scrollable?{top:this.rowGroupHeaderStyleObject.top}:null},bodyContentStyle:function(){return this.getVirtualScrollerProp("contentStyle")},ptmTBodyOptions:function(){var t;return{context:{scrollable:(t=this.$parentInstance)===null||t===void 0||(t=t.$parentInstance)===null||t===void 0?void 0:t.scrollable}}},expandedRowId:function(){return hr()},nameAttributeSelector:function(){return hr()}},components:{DTBodyRow:AI}};function nre(e,t,i,a,l,c){var y=Mi("DTBodyRow");return ge(),Je("tbody",Ze({ref:c.bodyRef,class:e.cx("tbody"),role:"rowgroup",style:c.bodyContentStyle},e.ptm("tbody",c.ptmTBodyOptions)),[i.empty?(ge(),Vt(y,{key:1,empty:i.empty,columns:i.columns,templates:i.templates},null,8,["empty","columns","templates"])):(ge(!0),Je(Ri,{key:0},wo(i.value,function(n,x){return ge(),Vt(y,{key:c.getRowKey(n,x),rowData:n,index:x,value:i.value,columns:i.columns,frozenRow:i.frozenRow,empty:i.empty,first:i.first,dataKey:i.dataKey,selection:i.selection,selectionKeys:i.selectionKeys,selectionMode:i.selectionMode,contextMenu:i.contextMenu,contextMenuSelection:i.contextMenuSelection,rowGroupMode:i.rowGroupMode,groupRowsBy:i.groupRowsBy,expandableRowGroups:i.expandableRowGroups,rowClass:i.rowClass,rowStyle:i.rowStyle,editMode:i.editMode,compareSelectionBy:i.compareSelectionBy,scrollable:i.scrollable,expandedRowIcon:i.expandedRowIcon,collapsedRowIcon:i.collapsedRowIcon,expandedRows:i.expandedRows,expandedRowGroups:i.expandedRowGroups,editingRows:i.editingRows,editingRowKeys:i.editingRowKeys,templates:i.templates,editButtonProps:i.editButtonProps,virtualScrollerContentProps:i.virtualScrollerContentProps,isVirtualScrollerDisabled:i.isVirtualScrollerDisabled,editingMeta:i.editingMeta,rowGroupHeaderStyle:c.rowGroupHeaderStyle,expandedRowId:c.expandedRowId,nameAttributeSelector:c.nameAttributeSelector,onRowgroupToggle:t[0]||(t[0]=function(C){return e.$emit("rowgroup-toggle",C)}),onRowClick:t[1]||(t[1]=function(C){return e.$emit("row-click",C)}),onRowDblclick:t[2]||(t[2]=function(C){return e.$emit("row-dblclick",C)}),onRowRightclick:t[3]||(t[3]=function(C){return e.$emit("row-rightclick",C)}),onRowTouchend:t[4]||(t[4]=function(C){return e.$emit("row-touchend",C)}),onRowKeydown:t[5]||(t[5]=function(C){return e.$emit("row-keydown",C)}),onRowMousedown:t[6]||(t[6]=function(C){return e.$emit("row-mousedown",C)}),onRowDragstart:t[7]||(t[7]=function(C){return e.$emit("row-dragstart",C)}),onRowDragover:t[8]||(t[8]=function(C){return e.$emit("row-dragover",C)}),onRowDragleave:t[9]||(t[9]=function(C){return e.$emit("row-dragleave",C)}),onRowDragend:t[10]||(t[10]=function(C){return e.$emit("row-dragend",C)}),onRowDrop:t[11]||(t[11]=function(C){return e.$emit("row-drop",C)}),onRowToggle:t[12]||(t[12]=function(C){return e.$emit("row-toggle",C)}),onRadioChange:t[13]||(t[13]=function(C){return e.$emit("radio-change",C)}),onCheckboxChange:t[14]||(t[14]=function(C){return e.$emit("checkbox-change",C)}),onCellEditInit:t[15]||(t[15]=function(C){return e.$emit("cell-edit-init",C)}),onCellEditComplete:t[16]||(t[16]=function(C){return e.$emit("cell-edit-complete",C)}),onCellEditCancel:t[17]||(t[17]=function(C){return e.$emit("cell-edit-cancel",C)}),onRowEditInit:t[18]||(t[18]=function(C){return e.$emit("row-edit-init",C)}),onRowEditSave:t[19]||(t[19]=function(C){return e.$emit("row-edit-save",C)}),onRowEditCancel:t[20]||(t[20]=function(C){return e.$emit("row-edit-cancel",C)}),onEditingMetaChange:t[21]||(t[21]=function(C){return e.$emit("editing-meta-change",C)}),unstyled:e.unstyled,pt:e.pt},null,8,["rowData","index","value","columns","frozenRow","empty","first","dataKey","selection","selectionKeys","selectionMode","contextMenu","contextMenuSelection","rowGroupMode","groupRowsBy","expandableRowGroups","rowClass","rowStyle","editMode","compareSelectionBy","scrollable","expandedRowIcon","collapsedRowIcon","expandedRows","expandedRowGroups","editingRows","editingRowKeys","templates","editButtonProps","virtualScrollerContentProps","isVirtualScrollerDisabled","editingMeta","rowGroupHeaderStyle","expandedRowId","nameAttributeSelector","unstyled","pt"])}),128))],16)}OI.render=nre;var LI={name:"FooterCell",hostName:"DataTable",extends:Tn,props:{column:{type:Object,default:null},index:{type:Number,default:null}},data:function(){return{styleObject:{}}},mounted:function(){this.columnProp("frozen")&&this.updateStickyPosition()},updated:function(){this.columnProp("frozen")&&this.updateStickyPosition()},methods:{columnProp:function(t){return jh(this.column,t)},getColumnPT:function(t){var i,a,l={props:this.column.props,parent:{instance:this,props:this.$props,state:this.$data},context:{index:this.index,size:(i=this.$parentInstance)===null||i===void 0||(i=i.$parentInstance)===null||i===void 0?void 0:i.size,showGridlines:((a=this.$parentInstance)===null||a===void 0||(a=a.$parentInstance)===null||a===void 0?void 0:a.showGridlines)||!1}};return Ze(this.ptm("column.".concat(t),{column:l}),this.ptm("column.".concat(t),l),this.ptmo(this.getColumnProp(),t,l))},getColumnProp:function(){return this.column.props&&this.column.props.pt?this.column.props.pt:void 0},updateStickyPosition:function(){if(this.columnProp("frozen")){var t=this.columnProp("alignFrozen");if(t==="right"){var i=0,a=v6(this.$el,'[data-p-frozen-column="true"]');a&&(i=mr(a)+parseFloat(a.style.right||0)),this.styleObject.right=i+"px"}else{var l=0,c=x6(this.$el,'[data-p-frozen-column="true"]');c&&(l=mr(c)+parseFloat(c.style.left||0)),this.styleObject.left=l+"px"}}}},computed:{containerClass:function(){return[this.columnProp("footerClass"),this.columnProp("class"),this.cx("footerCell")]},containerStyle:function(){var t=this.columnProp("footerStyle"),i=this.columnProp("style");return this.columnProp("frozen")?[i,t,this.styleObject]:[i,t]}}};function Tg(e){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tg(e)}function kE(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),i.push.apply(i,a)}return i}function ME(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?kE(Object(i),!0).forEach(function(a){ore(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):kE(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function ore(e,t,i){return(t=rre(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function rre(e){var t=are(e,"string");return Tg(t)=="symbol"?t:t+""}function are(e,t){if(Tg(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t||"default");if(Tg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sre=["colspan","rowspan","data-p-frozen-column"];function cre(e,t,i,a,l,c){return ge(),Je("td",Ze({style:c.containerStyle,class:c.containerClass,role:"cell",colspan:c.columnProp("colspan"),rowspan:c.columnProp("rowspan")},ME(ME({},c.getColumnPT("root")),c.getColumnPT("footerCell")),{"data-p-frozen-column":c.columnProp("frozen")}),[i.column.children&&i.column.children.footer?(ge(),Vt(Wi(i.column.children.footer),{key:0,column:i.column},null,8,["column"])):Zt("",!0),c.columnProp("footer")?(ge(),Je("span",Ze({key:1,class:e.cx("columnFooter")},c.getColumnPT("columnFooter")),li(c.columnProp("footer")),17)):Zt("",!0)],16,sre)}LI.render=cre;function lre(e,t){var i=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=dre(e))||t){i&&(e=i);var a=0,l=function(){};return{s:l,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(C){throw C},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,y=!0,n=!1;return{s:function(){i=i.call(e)},n:function(){var C=i.next();return y=C.done,C},e:function(C){n=!0,c=C},f:function(){try{y||i.return==null||i.return()}finally{if(n)throw c}}}}function dre(e,t){if(e){if(typeof e=="string")return AE(e,t);var i={}.toString.call(e).slice(8,-1);return i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set"?Array.from(e):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?AE(e,t):void 0}}function AE(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,a=Array(t);i<t;i++)a[i]=e[i];return a}var DI={name:"TableFooter",hostName:"DataTable",extends:Tn,props:{columnGroup:{type:null,default:null},columns:{type:Object,default:null}},provide:function(){return{$rows:this.d_footerRows,$columns:this.d_footerColumns}},data:function(){return{d_footerRows:new Dp({type:"Row"}),d_footerColumns:new Dp({type:"Column"})}},beforeUnmount:function(){this.d_footerRows.clear(),this.d_footerColumns.clear()},methods:{columnProp:function(t,i){return jh(t,i)},getColumnGroupPT:function(t){var i={props:this.getColumnGroupProps(),parent:{instance:this,props:this.$props,state:this.$data},context:{type:"footer",scrollable:this.ptmTFootOptions.context.scrollable}};return Ze(this.ptm("columnGroup.".concat(t),{columnGroup:i}),this.ptm("columnGroup.".concat(t),i),this.ptmo(this.getColumnGroupProps(),t,i))},getColumnGroupProps:function(){return this.columnGroup&&this.columnGroup.props&&this.columnGroup.props.pt?this.columnGroup.props.pt:void 0},getRowPT:function(t,i,a){var l={props:t.props,parent:{instance:this,props:this.$props,state:this.$data},context:{index:a}};return Ze(this.ptm("row.".concat(i),{row:l}),this.ptm("row.".concat(i),l),this.ptmo(this.getRowProp(t),i,l))},getRowProp:function(t){return t.props&&t.props.pt?t.props.pt:void 0},getFooterRows:function(){var t;return(t=this.d_footerRows)===null||t===void 0?void 0:t.get(this.columnGroup,this.columnGroup.children)},getFooterColumns:function(t){var i;return(i=this.d_footerColumns)===null||i===void 0?void 0:i.get(t,t.children)}},computed:{hasFooter:function(){var t=!1;if(this.columnGroup)t=!0;else if(this.columns){var i=lre(this.columns),a;try{for(i.s();!(a=i.n()).done;){var l=a.value;if(this.columnProp(l,"footer")||l.children&&l.children.footer){t=!0;break}}}catch(c){i.e(c)}finally{i.f()}}return t},ptmTFootOptions:function(){var t;return{context:{scrollable:(t=this.$parentInstance)===null||t===void 0||(t=t.$parentInstance)===null||t===void 0?void 0:t.scrollable}}}},components:{DTFooterCell:LI}};function Rg(e){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rg(e)}function OE(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),i.push.apply(i,a)}return i}function hb(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?OE(Object(i),!0).forEach(function(a){ure(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):OE(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function ure(e,t,i){return(t=hre(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function hre(e){var t=fre(e,"string");return Rg(t)=="symbol"?t:t+""}function fre(e,t){if(Rg(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t||"default");if(Rg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pre(e,t,i,a,l,c){var y=Mi("DTFooterCell");return c.hasFooter?(ge(),Je("tfoot",Ze({key:0,class:e.cx("tfoot"),style:e.sx("tfoot"),role:"rowgroup"},i.columnGroup?hb(hb({},e.ptm("tfoot",c.ptmTFootOptions)),c.getColumnGroupPT("root")):e.ptm("tfoot",c.ptmTFootOptions),{"data-pc-section":"tfoot"}),[i.columnGroup?(ge(!0),Je(Ri,{key:1},wo(c.getFooterRows(),function(n,x){return ge(),Je("tr",Ze({key:x,role:"row",ref_for:!0},hb(hb({},e.ptm("footerRow")),c.getRowPT(n,"root",x))),[(ge(!0),Je(Ri,null,wo(c.getFooterColumns(n),function(C,k){return ge(),Je(Ri,{key:c.columnProp(C,"columnKey")||c.columnProp(C,"field")||k},[c.columnProp(C,"hidden")?Zt("",!0):(ge(),Vt(y,{key:0,column:C,index:x,pt:e.pt},null,8,["column","index","pt"]))],64)}),128))],16)}),128)):(ge(),Je("tr",Ze({key:0,role:"row"},e.ptm("footerRow")),[(ge(!0),Je(Ri,null,wo(i.columns,function(n,x){return ge(),Je(Ri,{key:c.columnProp(n,"columnKey")||c.columnProp(n,"field")||x},[c.columnProp(n,"hidden")?Zt("",!0):(ge(),Vt(y,{key:0,column:n,pt:e.pt},null,8,["column","pt"]))],64)}),128))],16))],16)):Zt("",!0)}DI.render=pre;function Pg(e){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pg(e)}function LE(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),i.push.apply(i,a)}return i}function mh(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?LE(Object(i),!0).forEach(function(a){mre(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):LE(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function mre(e,t,i){return(t=gre(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function gre(e){var t=_re(e,"string");return Pg(t)=="symbol"?t:t+""}function _re(e,t){if(Pg(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t||"default");if(Pg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x5={name:"ColumnFilter",hostName:"DataTable",extends:Tn,emits:["filter-change","filter-apply","operator-change","matchmode-change","constraint-add","constraint-remove","filter-clear","apply-click"],props:{field:{type:String,default:null},type:{type:String,default:"text"},display:{type:String,default:null},showMenu:{type:Boolean,default:!0},matchMode:{type:String,default:null},showOperator:{type:Boolean,default:!0},showClearButton:{type:Boolean,default:!0},showApplyButton:{type:Boolean,default:!0},showMatchModes:{type:Boolean,default:!0},showAddButton:{type:Boolean,default:!0},matchModeOptions:{type:Array,default:null},maxConstraints:{type:Number,default:2},filterElement:{type:Function,default:null},filterHeaderTemplate:{type:Function,default:null},filterFooterTemplate:{type:Function,default:null},filterClearTemplate:{type:Function,default:null},filterApplyTemplate:{type:Function,default:null},filterIconTemplate:{type:Function,default:null},filterAddIconTemplate:{type:Function,default:null},filterRemoveIconTemplate:{type:Function,default:null},filterClearIconTemplate:{type:Function,default:null},filters:{type:Object,default:null},filtersStore:{type:Object,default:null},filterMenuClass:{type:String,default:null},filterMenuStyle:{type:null,default:null},filterInputProps:{type:null,default:null},filterButtonProps:{type:null,default:null},column:null},data:function(){return{id:this.$attrs.id,overlayVisible:!1,defaultMatchMode:null,defaultOperator:null}},watch:{"$attrs.id":function(t){this.id=t||hr()}},overlay:null,selfClick:!1,overlayEventListener:null,beforeUnmount:function(){this.overlayEventListener&&(ss.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null),this.overlay&&(Zr.clear(this.overlay),this.onOverlayHide())},mounted:function(){if(this.id=this.id||hr(),this.filters&&this.filters[this.field]){var t=this.filters[this.field];t.operator?(this.defaultMatchMode=t.constraints[0].matchMode,this.defaultOperator=t.operator):this.defaultMatchMode=this.filters[this.field].matchMode}},methods:{getColumnPT:function(t,i){var a=mh({props:this.column.props,parent:{instance:this,props:this.$props,state:this.$data}},i);return Ze(this.ptm("column.".concat(t),{column:a}),this.ptm("column.".concat(t),a),this.ptmo(this.getColumnProp(),t,a))},getColumnProp:function(){return this.column.props&&this.column.props.pt?this.column.props.pt:void 0},ptmFilterConstraintOptions:function(t){return{context:{highlighted:t&&this.isRowMatchModeSelected(t.value)}}},clearFilter:function(){var t=mh({},this.filters);t[this.field].operator?(t[this.field].constraints.splice(1),t[this.field].operator=this.defaultOperator,t[this.field].constraints[0]={value:null,matchMode:this.defaultMatchMode}):(t[this.field].value=null,t[this.field].matchMode=this.defaultMatchMode),this.$emit("filter-clear"),this.$emit("filter-change",t),this.$emit("filter-apply"),this.hide()},applyFilter:function(){this.$emit("apply-click",{field:this.field,constraints:this.filters[this.field]}),this.$emit("filter-apply"),this.hide()},hasFilter:function(){if(this.filtersStore){var t=this.filtersStore[this.field];if(t)return t.operator?!this.isFilterBlank(t.constraints[0].value):!this.isFilterBlank(t.value)}return!1},hasRowFilter:function(){return this.filters[this.field]&&!this.isFilterBlank(this.filters[this.field].value)},isFilterBlank:function(t){return t!=null?typeof t=="string"&&t.trim().length==0||t instanceof Array&&t.length==0:!0},toggleMenu:function(t){this.overlayVisible=!this.overlayVisible,t.preventDefault()},onToggleButtonKeyDown:function(t){switch(t.code){case"Enter":case"NumpadEnter":case"Space":this.toggleMenu(t);break;case"Escape":this.overlayVisible=!1;break}},onRowMatchModeChange:function(t){var i=mh({},this.filters);i[this.field].matchMode=t,this.$emit("matchmode-change",{field:this.field,matchMode:t}),this.$emit("filter-change",i),this.$emit("filter-apply"),this.hide()},onRowMatchModeKeyDown:function(t){var i=t.target;switch(t.code){case"ArrowDown":var a=this.findNextItem(i);a&&(i.removeAttribute("tabindex"),a.tabIndex="0",a.focus()),t.preventDefault();break;case"ArrowUp":var l=this.findPrevItem(i);l&&(i.removeAttribute("tabindex"),l.tabIndex="0",l.focus()),t.preventDefault();break}},isRowMatchModeSelected:function(t){return this.filters[this.field].matchMode===t},onOperatorChange:function(t){var i=mh({},this.filters);i[this.field].operator=t,this.$emit("filter-change",i),this.$emit("operator-change",{field:this.field,operator:t}),this.showApplyButton||this.$emit("filter-apply")},onMenuMatchModeChange:function(t,i){var a=mh({},this.filters);a[this.field].constraints[i].matchMode=t,this.$emit("matchmode-change",{field:this.field,matchMode:t,index:i}),this.showApplyButton||this.$emit("filter-apply")},addConstraint:function(){var t=mh({},this.filters),i={value:null,matchMode:this.defaultMatchMode};t[this.field].constraints.push(i),this.$emit("constraint-add",{field:this.field,constraing:i}),this.$emit("filter-change",t),this.showApplyButton||this.$emit("filter-apply")},removeConstraint:function(t){var i=mh({},this.filters),a=i[this.field].constraints.splice(t,1);this.$emit("constraint-remove",{field:this.field,constraing:a}),this.$emit("filter-change",i),this.showApplyButton||this.$emit("filter-apply")},filterCallback:function(){this.$emit("filter-apply")},findNextItem:function(t){var i=t.nextElementSibling;return i?Uo(i,"data-pc-section")==="filterconstraintseparator"?this.findNextItem(i):i:t.parentElement.firstElementChild},findPrevItem:function(t){var i=t.previousElementSibling;return i?Uo(i,"data-pc-section")==="filterconstraintseparator"?this.findPrevItem(i):i:t.parentElement.lastElementChild},hide:function(){this.overlayVisible=!1,this.showMenuButton&&Zo(this.$refs.icon.$el)},onContentClick:function(t){this.selfClick=!0,ss.emit("overlay-click",{originalEvent:t,target:this.overlay})},onContentMouseDown:function(){this.selfClick=!0},onOverlayEnter:function(t){var i=this;this.filterMenuStyle&&kh(this.overlay,this.filterMenuStyle),Zr.set("overlay",t,this.$primevue.config.zIndex.overlay),kh(t,{position:"absolute",top:"0",left:"0"}),O2(this.overlay,this.$refs.icon.$el),this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.overlayEventListener=function(a){i.isOutsideClicked(a.target)||(i.selfClick=!0)},ss.on("overlay-click",this.overlayEventListener)},onOverlayAfterEnter:function(){var t;(t=this.overlay)===null||t===void 0||(t=t.$focustrap)===null||t===void 0||t.autoFocus()},onOverlayLeave:function(){this.onOverlayHide()},onOverlayAfterLeave:function(t){Zr.clear(t)},onOverlayHide:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.overlay=null,ss.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null},overlayRef:function(t){this.overlay=t},isOutsideClicked:function(t){return!this.isTargetClicked(t)&&this.overlay&&!(this.overlay.isSameNode(t)||this.overlay.contains(t))},isTargetClicked:function(t){return this.$refs.icon&&(this.$refs.icon.$el.isSameNode(t)||this.$refs.icon.$el.contains(t))},bindOutsideClickListener:function(){var t=this;this.outsideClickListener||(this.outsideClickListener=function(i){t.overlayVisible&&!t.selfClick&&t.isOutsideClicked(i.target)&&(t.overlayVisible=!1),t.selfClick=!1},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null,this.selfClick=!1)},bindScrollListener:function(){var t=this;this.scrollHandler||(this.scrollHandler=new $g(this.$refs.icon.$el,function(){t.overlayVisible&&t.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var t=this;this.resizeListener||(this.resizeListener=function(){t.overlayVisible&&!Vg()&&t.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}},computed:{showMenuButton:function(){return this.showMenu&&(this.display==="row"?this.type!=="boolean":!0)},overlayId:function(){return this.id+"_overlay"},matchModes:function(){var t=this;return this.matchModeOptions||this.$primevue.config.filterMatchModeOptions[this.type].map(function(i){return{label:t.$primevue.config.locale[i],value:i}})},isShowMatchModes:function(){return this.type!=="boolean"&&this.showMatchModes&&this.matchModes},operatorOptions:function(){return[{label:this.$primevue.config.locale.matchAll,value:Nb.AND},{label:this.$primevue.config.locale.matchAny,value:Nb.OR}]},noFilterLabel:function(){return this.$primevue.config.locale?this.$primevue.config.locale.noFilter:void 0},isShowOperator:function(){return this.showOperator&&this.filters[this.field].operator},operator:function(){return this.filters[this.field].operator},fieldConstraints:function(){return this.filters[this.field].constraints||[this.filters[this.field]]},showRemoveIcon:function(){return this.fieldConstraints.length>1},removeRuleButtonLabel:function(){return this.$primevue.config.locale?this.$primevue.config.locale.removeRule:void 0},addRuleButtonLabel:function(){return this.$primevue.config.locale?this.$primevue.config.locale.addRule:void 0},isShowAddConstraint:function(){return this.showAddButton&&this.filters[this.field].operator&&this.fieldConstraints&&this.fieldConstraints.length<this.maxConstraints},clearButtonLabel:function(){return this.$primevue.config.locale?this.$primevue.config.locale.clear:void 0},applyButtonLabel:function(){return this.$primevue.config.locale?this.$primevue.config.locale.apply:void 0},columnFilterButtonAriaLabel:function(){return this.$primevue.config.locale?this.overlayVisible?this.$primevue.config.locale.showFilterMenu:this.$primevue.config.locale.hideFilterMenu:void 0},filterOperatorAriaLabel:function(){return this.$primevue.config.locale?this.$primevue.config.locale.filterOperator:void 0},filterRuleAriaLabel:function(){return this.$primevue.config.locale?this.$primevue.config.locale.filterConstraint:void 0},ptmHeaderFilterClearParams:function(){return{context:{hidden:this.hasRowFilter()}}},ptmFilterMenuParams:function(){return{context:{overlayVisible:this.overlayVisible,active:this.hasFilter()}}}},components:{Select:lu,Button:rc,Portal:s0,FilterSlashIcon:TI,FilterIcon:SI,TrashIcon:PI,PlusIcon:RI},directives:{focustrap:y5}};function Ig(e){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(e)}function DE(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),i.push.apply(i,a)}return i}function ap(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?DE(Object(i),!0).forEach(function(a){yre(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):DE(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function yre(e,t,i){return(t=bre(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function bre(e){var t=vre(e,"string");return Ig(t)=="symbol"?t:t+""}function vre(e,t){if(Ig(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t||"default");if(Ig(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xre=["id","aria-modal"],wre=["onClick","onKeydown","tabindex"];function Fre(e,t,i,a,l,c){var y=Mi("Button"),n=Mi("Select"),x=Mi("Portal"),C=Nr("focustrap");return ge(),Je("div",Ze({class:e.cx("filter")},c.getColumnPT("filter")),[i.display==="row"?(ge(),Je("div",Ze({key:0,class:e.cx("filterElementContainer")},ap(ap({},i.filterInputProps),c.getColumnPT("filterElementContainer"))),[(ge(),Vt(Wi(i.filterElement),{field:i.field,filterModel:i.filters[i.field],filterCallback:c.filterCallback},null,8,["field","filterModel","filterCallback"]))],16)):Zt("",!0),c.showMenuButton?(ge(),Vt(y,Ze({key:1,ref:"icon","aria-label":c.columnFilterButtonAriaLabel,"aria-haspopup":"true","aria-expanded":l.overlayVisible,"aria-controls":c.overlayId,class:e.cx("pcColumnFilterButton"),unstyled:e.unstyled,onClick:t[0]||(t[0]=function(k){return c.toggleMenu(k)}),onKeydown:t[1]||(t[1]=function(k){return c.onToggleButtonKeyDown(k)})},ap(ap({},c.getColumnPT("pcColumnFilterButton",c.ptmFilterMenuParams)),i.filterButtonProps.filter)),{icon:ti(function(k){return[(ge(),Vt(Wi(i.filterIconTemplate||"FilterIcon"),Ze({class:k.class},c.getColumnPT("filterMenuIcon")),null,16,["class"]))]}),_:1},16,["aria-label","aria-expanded","aria-controls","class","unstyled"])):Zt("",!0),i.showClearButton&&i.display==="row"&&c.hasRowFilter()?(ge(),Vt(y,Ze({key:2,class:e.cx("pcColumnFilterClearButton"),unstyled:e.unstyled,onClick:t[2]||(t[2]=function(k){return c.clearFilter()})},ap(ap({},c.getColumnPT("pcColumnFilterClearButton",c.ptmHeaderFilterClearParams)),i.filterButtonProps.inline.clear)),{icon:ti(function(k){return[(ge(),Vt(Wi(i.filterClearIconTemplate||"FilterSlashIcon"),Ze({class:k.class},c.getColumnPT("filterClearIcon")),null,16,["class"]))]}),_:1},16,["class","unstyled"])):Zt("",!0),kt(x,null,{default:ti(function(){return[kt(e0,Ze({name:"p-connected-overlay",onEnter:c.onOverlayEnter,onAfterEnter:c.onOverlayAfterEnter,onLeave:c.onOverlayLeave,onAfterLeave:c.onOverlayAfterLeave},c.getColumnPT("transition")),{default:ti(function(){return[l.overlayVisible?Qo((ge(),Je("div",Ze({key:0,ref:c.overlayRef,id:c.overlayId,"aria-modal":l.overlayVisible,role:"dialog",class:[e.cx("filterOverlay"),i.filterMenuClass],onKeydown:t[10]||(t[10]=t3(function(){return c.hide&&c.hide.apply(c,arguments)},["escape"])),onClick:t[11]||(t[11]=function(){return c.onContentClick&&c.onContentClick.apply(c,arguments)}),onMousedown:t[12]||(t[12]=function(){return c.onContentMouseDown&&c.onContentMouseDown.apply(c,arguments)})},c.getColumnPT("filterOverlay")),[(ge(),Vt(Wi(i.filterHeaderTemplate),{field:i.field,filterModel:i.filters[i.field],filterCallback:c.filterCallback},null,8,["field","filterModel","filterCallback"])),i.display==="row"?(ge(),Je("ul",Ze({key:0,class:e.cx("filterConstraintList")},c.getColumnPT("filterConstraintList")),[(ge(!0),Je(Ri,null,wo(c.matchModes,function(k,O){return ge(),Je("li",Ze({key:k.label,class:e.cx("filterConstraint",{matchMode:k}),onClick:function(L){return c.onRowMatchModeChange(k.value)},onKeydown:[t[3]||(t[3]=function(B){return c.onRowMatchModeKeyDown(B)}),t3(I2(function(B){return c.onRowMatchModeChange(k.value)},["prevent"]),["enter"])],tabindex:O===0?"0":null,ref_for:!0},c.getColumnPT("filterConstraint",c.ptmFilterConstraintOptions(k))),li(k.label),17,wre)}),128)),Se("li",Ze({class:e.cx("filterConstraintSeparator")},c.getColumnPT("filterConstraintSeparator")),null,16),Se("li",Ze({class:e.cx("filterConstraint"),onClick:t[4]||(t[4]=function(k){return c.clearFilter()}),onKeydown:[t[5]||(t[5]=function(k){return c.onRowMatchModeKeyDown(k)}),t[6]||(t[6]=t3(function(k){return e.onRowClearItemClick()},["enter"]))]},c.getColumnPT("filterConstraint")),li(c.noFilterLabel),17)],16)):(ge(),Je(Ri,{key:1},[c.isShowOperator?(ge(),Je("div",Ze({key:0,class:e.cx("filterOperator")},c.getColumnPT("filterOperator")),[kt(n,{options:c.operatorOptions,modelValue:c.operator,"aria-label":c.filterOperatorAriaLabel,class:Ii(e.cx("pcFilterOperatorDropdown")),optionLabel:"label",optionValue:"value","onUpdate:modelValue":t[7]||(t[7]=function(k){return c.onOperatorChange(k)}),unstyled:e.unstyled,pt:c.getColumnPT("pcFilterOperatorDropdown")},null,8,["options","modelValue","aria-label","class","unstyled","pt"])],16)):Zt("",!0),Se("div",Ze({class:e.cx("filterRuleList")},c.getColumnPT("filterRuleList")),[(ge(!0),Je(Ri,null,wo(c.fieldConstraints,function(k,O){return ge(),Je("div",Ze({key:O,class:e.cx("filterRule"),ref_for:!0},c.getColumnPT("filterRule")),[c.isShowMatchModes?(ge(),Vt(n,{key:0,options:c.matchModes,modelValue:k.matchMode,class:Ii(e.cx("pcFilterConstraintDropdown")),optionLabel:"label",optionValue:"value","aria-label":c.filterRuleAriaLabel,"onUpdate:modelValue":function(L){return c.onMenuMatchModeChange(L,O)},unstyled:e.unstyled,pt:c.getColumnPT("pcFilterConstraintDropdown")},null,8,["options","modelValue","class","aria-label","onUpdate:modelValue","unstyled","pt"])):Zt("",!0),i.display==="menu"?(ge(),Vt(Wi(i.filterElement),{key:1,field:i.field,filterModel:k,filterCallback:c.filterCallback,applyFilter:c.applyFilter},null,8,["field","filterModel","filterCallback","applyFilter"])):Zt("",!0),c.showRemoveIcon?(ge(),Je("div",Ze({key:2,ref_for:!0},c.getColumnPT("filterRemove")),[kt(y,Ze({type:"button",class:e.cx("pcFilterRemoveRuleButton"),onClick:function(L){return c.removeConstraint(O)},label:c.removeRuleButtonLabel,unstyled:e.unstyled,ref_for:!0},i.filterButtonProps.popover.removeRule,{pt:c.getColumnPT("pcFilterRemoveRuleButton")}),{icon:ti(function(B){return[(ge(),Vt(Wi(i.filterRemoveIconTemplate||"TrashIcon"),Ze({class:B.class,ref_for:!0},c.getColumnPT("pcFilterRemoveRuleButton").icon),null,16,["class"]))]}),_:2},1040,["class","onClick","label","unstyled","pt"])],16)):Zt("",!0)],16)}),128))],16),c.isShowAddConstraint?(ge(),Je("div",Bg(Ze({key:1},c.getColumnPT("filterAddButtonContainer"))),[kt(y,Ze({type:"button",label:c.addRuleButtonLabel,iconPos:"left",class:e.cx("pcFilterAddRuleButton"),onClick:t[8]||(t[8]=function(k){return c.addConstraint()}),unstyled:e.unstyled},i.filterButtonProps.popover.addRule,{pt:c.getColumnPT("pcFilterAddRuleButton")}),{icon:ti(function(k){return[(ge(),Vt(Wi(i.filterAddIconTemplate||"PlusIcon"),Ze({class:k.class},c.getColumnPT("pcFilterAddRuleButton").icon),null,16,["class"]))]}),_:1},16,["label","class","unstyled","pt"])],16)):Zt("",!0),Se("div",Ze({class:e.cx("filterButtonbar")},c.getColumnPT("filterButtonbar")),[!i.filterClearTemplate&&i.showClearButton?(ge(),Vt(y,Ze({key:0,type:"button",class:e.cx("pcFilterClearButton"),label:c.clearButtonLabel,onClick:c.clearFilter,unstyled:e.unstyled},i.filterButtonProps.popover.clear,{pt:c.getColumnPT("pcFilterClearButton")}),null,16,["class","label","onClick","unstyled","pt"])):(ge(),Vt(Wi(i.filterClearTemplate),{key:1,field:i.field,filterModel:i.filters[i.field],filterCallback:c.clearFilter},null,8,["field","filterModel","filterCallback"])),i.showApplyButton?(ge(),Je(Ri,{key:2},[i.filterApplyTemplate?(ge(),Vt(Wi(i.filterApplyTemplate),{key:1,field:i.field,filterModel:i.filters[i.field],filterCallback:c.applyFilter},null,8,["field","filterModel","filterCallback"])):(ge(),Vt(y,Ze({key:0,type:"button",class:e.cx("pcFilterApplyButton"),label:c.applyButtonLabel,onClick:t[9]||(t[9]=function(k){return c.applyFilter()}),unstyled:e.unstyled},i.filterButtonProps.popover.apply,{pt:c.getColumnPT("pcFilterApplyButton")}),null,16,["class","label","unstyled","pt"]))],64)):Zt("",!0)],16)],64)),(ge(),Vt(Wi(i.filterFooterTemplate),{field:i.field,filterModel:i.filters[i.field],filterCallback:c.filterCallback},null,8,["field","filterModel","filterCallback"]))],16,xre)),[[C]]):Zt("",!0)]}),_:1},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:1})],16)}x5.render=Fre;var w5={name:"HeaderCheckbox",hostName:"DataTable",extends:Tn,emits:["change"],props:{checked:null,disabled:null,column:null,headerCheckboxIconTemplate:{type:Function,default:null}},methods:{getColumnPT:function(t){var i={props:this.column.props,parent:{instance:this,props:this.$props,state:this.$data},context:{checked:this.checked,disabled:this.disabled}};return Ze(this.ptm("column.".concat(t),{column:i}),this.ptm("column.".concat(t),i),this.ptmo(this.getColumnProp(),t,i))},getColumnProp:function(){return this.column.props&&this.column.props.pt?this.column.props.pt:void 0},onChange:function(t){this.$emit("change",{originalEvent:t,checked:!this.checked})}},computed:{headerCheckboxAriaLabel:function(){return this.$primevue.config.locale.aria?this.checked?this.$primevue.config.locale.aria.selectAll:this.$primevue.config.locale.aria.unselectAll:void 0}},components:{CheckIcon:Nh,Checkbox:i_}};function Cre(e,t,i,a,l,c){var y=Mi("CheckIcon"),n=Mi("Checkbox");return ge(),Vt(n,{modelValue:i.checked,binary:!0,disabled:i.disabled,"aria-label":c.headerCheckboxAriaLabel,onChange:c.onChange,pt:c.getColumnPT("pcHeaderCheckbox")},{icon:ti(function(x){return[i.headerCheckboxIconTemplate?(ge(),Vt(Wi(i.headerCheckboxIconTemplate),{key:0,checked:x.checked,class:Ii(x.class)},null,8,["checked","class"])):!i.headerCheckboxIconTemplate&&x.checked?(ge(),Vt(y,Ze({key:1,class:x.class},c.getColumnPT("pcHeaderCheckbox").icon),null,16,["class"])):Zt("",!0)]}),_:1},8,["modelValue","disabled","aria-label","onChange","pt"])}w5.render=Cre;var BI={name:"HeaderCell",hostName:"DataTable",extends:Tn,emits:["column-click","column-mousedown","column-dragstart","column-dragover","column-dragleave","column-drop","column-resizestart","checkbox-change","filter-change","filter-apply","operator-change","matchmode-change","constraint-add","constraint-remove","filter-clear","apply-click"],props:{column:{type:Object,default:null},index:{type:Number,default:null},resizableColumns:{type:Boolean,default:!1},groupRowsBy:{type:[Array,String,Function],default:null},sortMode:{type:String,default:"single"},groupRowSortField:{type:[String,Function],default:null},sortField:{type:[String,Function],default:null},sortOrder:{type:Number,default:null},multiSortMeta:{type:Array,default:null},allRowsSelected:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},filterDisplay:{type:String,default:null},filters:{type:Object,default:null},filtersStore:{type:Object,default:null},filterColumn:{type:Boolean,default:!1},reorderableColumns:{type:Boolean,default:!1},filterInputProps:{type:null,default:null},filterButtonProps:{type:null,default:null}},data:function(){return{styleObject:{}}},mounted:function(){this.columnProp("frozen")&&this.updateStickyPosition()},updated:function(){this.columnProp("frozen")&&this.updateStickyPosition()},methods:{columnProp:function(t){return jh(this.column,t)},getColumnPT:function(t){var i,a,l={props:this.column.props,parent:{instance:this,props:this.$props,state:this.$data},context:{index:this.index,sortable:this.columnProp("sortable")===""||this.columnProp("sortable"),sorted:this.isColumnSorted(),resizable:this.resizableColumns,size:(i=this.$parentInstance)===null||i===void 0||(i=i.$parentInstance)===null||i===void 0?void 0:i.size,showGridlines:((a=this.$parentInstance)===null||a===void 0||(a=a.$parentInstance)===null||a===void 0?void 0:a.showGridlines)||!1}};return Ze(this.ptm("column.".concat(t),{column:l}),this.ptm("column.".concat(t),l),this.ptmo(this.getColumnProp(),t,l))},getColumnProp:function(){return this.column.props&&this.column.props.pt?this.column.props.pt:void 0},onClick:function(t){this.$emit("column-click",{originalEvent:t,column:this.column})},onKeyDown:function(t){(t.code==="Enter"||t.code==="NumpadEnter"||t.code==="Space")&&t.currentTarget.nodeName==="TH"&&Uo(t.currentTarget,"data-p-sortable-column")&&(this.$emit("column-click",{originalEvent:t,column:this.column}),t.preventDefault())},onMouseDown:function(t){this.$emit("column-mousedown",{originalEvent:t,column:this.column})},onDragStart:function(t){this.$emit("column-dragstart",{originalEvent:t,column:this.column})},onDragOver:function(t){this.$emit("column-dragover",{originalEvent:t,column:this.column})},onDragLeave:function(t){this.$emit("column-dragleave",{originalEvent:t,column:this.column})},onDrop:function(t){this.$emit("column-drop",{originalEvent:t,column:this.column})},onResizeStart:function(t){this.$emit("column-resizestart",t)},getMultiSortMetaIndex:function(){var t=this;return this.multiSortMeta.findIndex(function(i){return i.field===t.columnProp("field")||i.field===t.columnProp("sortField")})},getBadgeValue:function(){var t=this.getMultiSortMetaIndex();return this.groupRowsBy&&this.groupRowsBy===this.groupRowSortField&&t>-1?t:t+1},isMultiSorted:function(){return this.sortMode==="multiple"&&this.columnProp("sortable")&&this.getMultiSortMetaIndex()>-1},isColumnSorted:function(){return this.sortMode==="single"?this.sortField&&(this.sortField===this.columnProp("field")||this.sortField===this.columnProp("sortField")):this.isMultiSorted()},updateStickyPosition:function(){if(this.columnProp("frozen")){var t=this.columnProp("alignFrozen");if(t==="right"){var i=0,a=v6(this.$el,'[data-p-frozen-column="true"]');a&&(i=mr(a)+parseFloat(a.style.right||0)),this.styleObject.right=i+"px"}else{var l=0,c=x6(this.$el,'[data-p-frozen-column="true"]');c&&(l=mr(c)+parseFloat(c.style.left||0)),this.styleObject.left=l+"px"}var y=this.$el.parentElement.nextElementSibling;if(y){var n=xb(this.$el);y.children[n]&&(y.children[n].style.left=this.styleObject.left,y.children[n].style.right=this.styleObject.right)}}},onHeaderCheckboxChange:function(t){this.$emit("checkbox-change",t)}},computed:{containerClass:function(){return[this.cx("headerCell"),this.filterColumn?this.columnProp("filterHeaderClass"):this.columnProp("headerClass"),this.columnProp("class")]},containerStyle:function(){var t=this.filterColumn?this.columnProp("filterHeaderStyle"):this.columnProp("headerStyle"),i=this.columnProp("style");return this.columnProp("frozen")?[i,t,this.styleObject]:[i,t]},sortState:function(){var t=!1,i=null;if(this.sortMode==="single")t=this.sortField&&(this.sortField===this.columnProp("field")||this.sortField===this.columnProp("sortField")),i=t?this.sortOrder:0;else if(this.sortMode==="multiple"){var a=this.getMultiSortMetaIndex();a>-1&&(t=!0,i=this.multiSortMeta[a].order)}return{sorted:t,sortOrder:i}},sortableColumnIcon:function(){var t=this.sortState,i=t.sorted,a=t.sortOrder;if(i){if(i&&a>0)return Nx;if(i&&a<0)return Vx}else return zx;return null},ariaSort:function(){if(this.columnProp("sortable")){var t=this.sortState,i=t.sorted,a=t.sortOrder;return i&&a<0?"descending":i&&a>0?"ascending":"none"}else return null}},components:{Badge:b5,DTHeaderCheckbox:w5,DTColumnFilter:x5,SortAltIcon:zx,SortAmountUpAltIcon:Nx,SortAmountDownIcon:Vx}};function kg(e){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kg(e)}function BE(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),i.push.apply(i,a)}return i}function jE(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?BE(Object(i),!0).forEach(function(a){Ere(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):BE(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function Ere(e,t,i){return(t=Sre(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Sre(e){var t=Tre(e,"string");return kg(t)=="symbol"?t:t+""}function Tre(e,t){if(kg(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t||"default");if(kg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rre=["tabindex","colspan","rowspan","aria-sort","data-p-sortable-column","data-p-resizable-column","data-p-sorted","data-p-filter-column","data-p-frozen-column","data-p-reorderable-column"];function Pre(e,t,i,a,l,c){var y=Mi("Badge"),n=Mi("DTHeaderCheckbox"),x=Mi("DTColumnFilter");return ge(),Je("th",Ze({style:c.containerStyle,class:c.containerClass,tabindex:c.columnProp("sortable")?"0":null,role:"columnheader",colspan:c.columnProp("colspan"),rowspan:c.columnProp("rowspan"),"aria-sort":c.ariaSort,onClick:t[8]||(t[8]=function(){return c.onClick&&c.onClick.apply(c,arguments)}),onKeydown:t[9]||(t[9]=function(){return c.onKeyDown&&c.onKeyDown.apply(c,arguments)}),onMousedown:t[10]||(t[10]=function(){return c.onMouseDown&&c.onMouseDown.apply(c,arguments)}),onDragstart:t[11]||(t[11]=function(){return c.onDragStart&&c.onDragStart.apply(c,arguments)}),onDragover:t[12]||(t[12]=function(){return c.onDragOver&&c.onDragOver.apply(c,arguments)}),onDragleave:t[13]||(t[13]=function(){return c.onDragLeave&&c.onDragLeave.apply(c,arguments)}),onDrop:t[14]||(t[14]=function(){return c.onDrop&&c.onDrop.apply(c,arguments)})},jE(jE({},c.getColumnPT("root")),c.getColumnPT("headerCell")),{"data-p-sortable-column":c.columnProp("sortable"),"data-p-resizable-column":i.resizableColumns,"data-p-sorted":c.isColumnSorted(),"data-p-filter-column":i.filterColumn,"data-p-frozen-column":c.columnProp("frozen"),"data-p-reorderable-column":i.reorderableColumns}),[i.resizableColumns&&!c.columnProp("frozen")?(ge(),Je("span",Ze({key:0,class:e.cx("columnResizer"),onMousedown:t[0]||(t[0]=function(){return c.onResizeStart&&c.onResizeStart.apply(c,arguments)})},c.getColumnPT("columnResizer")),null,16)):Zt("",!0),Se("div",Ze({class:e.cx("columnHeaderContent")},c.getColumnPT("columnHeaderContent")),[i.column.children&&i.column.children.header?(ge(),Vt(Wi(i.column.children.header),{key:0,column:i.column},null,8,["column"])):Zt("",!0),c.columnProp("header")?(ge(),Je("span",Ze({key:1,class:e.cx("columnTitle")},c.getColumnPT("columnTitle")),li(c.columnProp("header")),17)):Zt("",!0),c.columnProp("sortable")?(ge(),Je("span",Bg(Ze({key:2},c.getColumnPT("sort"))),[(ge(),Vt(Wi(i.column.children&&i.column.children.sorticon||c.sortableColumnIcon),Ze({sorted:c.sortState.sorted,sortOrder:c.sortState.sortOrder,class:e.cx("sortIcon")},c.getColumnPT("sorticon")),null,16,["sorted","sortOrder","class"]))],16)):Zt("",!0),c.isMultiSorted()?(ge(),Vt(y,{key:3,class:Ii(e.cx("pcSortBadge")),pt:c.getColumnPT("pcSortBadge"),value:c.getBadgeValue(),size:"small"},null,8,["class","pt","value"])):Zt("",!0),c.columnProp("selectionMode")==="multiple"&&i.filterDisplay!=="row"?(ge(),Vt(n,{key:4,checked:i.allRowsSelected,onChange:c.onHeaderCheckboxChange,disabled:i.empty,headerCheckboxIconTemplate:i.column.children&&i.column.children.headercheckboxicon,column:i.column,unstyled:e.unstyled,pt:e.pt},null,8,["checked","onChange","disabled","headerCheckboxIconTemplate","column","unstyled","pt"])):Zt("",!0),i.filterDisplay==="menu"&&i.column.children&&i.column.children.filter?(ge(),Vt(x,{key:5,field:c.columnProp("filterField")||c.columnProp("field"),type:c.columnProp("dataType"),display:"menu",showMenu:c.columnProp("showFilterMenu"),filterElement:i.column.children&&i.column.children.filter,filterHeaderTemplate:i.column.children&&i.column.children.filterheader,filterFooterTemplate:i.column.children&&i.column.children.filterfooter,filterClearTemplate:i.column.children&&i.column.children.filterclear,filterApplyTemplate:i.column.children&&i.column.children.filterapply,filterIconTemplate:i.column.children&&i.column.children.filtericon,filterAddIconTemplate:i.column.children&&i.column.children.filteraddicon,filterRemoveIconTemplate:i.column.children&&i.column.children.filterremoveicon,filterClearIconTemplate:i.column.children&&i.column.children.filterclearicon,filters:i.filters,filtersStore:i.filtersStore,filterInputProps:i.filterInputProps,filterButtonProps:i.filterButtonProps,onFilterChange:t[1]||(t[1]=function(C){return e.$emit("filter-change",C)}),onFilterApply:t[2]||(t[2]=function(C){return e.$emit("filter-apply")}),filterMenuStyle:c.columnProp("filterMenuStyle"),filterMenuClass:c.columnProp("filterMenuClass"),showOperator:c.columnProp("showFilterOperator"),showClearButton:c.columnProp("showClearButton"),showApplyButton:c.columnProp("showApplyButton"),showMatchModes:c.columnProp("showFilterMatchModes"),showAddButton:c.columnProp("showAddButton"),matchModeOptions:c.columnProp("filterMatchModeOptions"),maxConstraints:c.columnProp("maxConstraints"),onOperatorChange:t[3]||(t[3]=function(C){return e.$emit("operator-change",C)}),onMatchmodeChange:t[4]||(t[4]=function(C){return e.$emit("matchmode-change",C)}),onConstraintAdd:t[5]||(t[5]=function(C){return e.$emit("constraint-add",C)}),onConstraintRemove:t[6]||(t[6]=function(C){return e.$emit("constraint-remove",C)}),onApplyClick:t[7]||(t[7]=function(C){return e.$emit("apply-click",C)}),column:i.column,unstyled:e.unstyled,pt:e.pt},null,8,["field","type","showMenu","filterElement","filterHeaderTemplate","filterFooterTemplate","filterClearTemplate","filterApplyTemplate","filterIconTemplate","filterAddIconTemplate","filterRemoveIconTemplate","filterClearIconTemplate","filters","filtersStore","filterInputProps","filterButtonProps","filterMenuStyle","filterMenuClass","showOperator","showClearButton","showApplyButton","showMatchModes","showAddButton","matchModeOptions","maxConstraints","column","unstyled","pt"])):Zt("",!0)],16)],16,Rre)}BI.render=Pre;var jI={name:"TableHeader",hostName:"DataTable",extends:Tn,emits:["column-click","column-mousedown","column-dragstart","column-dragover","column-dragleave","column-drop","column-resizestart","checkbox-change","filter-change","filter-apply","operator-change","matchmode-change","constraint-add","constraint-remove","filter-clear","apply-click"],props:{columnGroup:{type:null,default:null},columns:{type:null,default:null},rowGroupMode:{type:String,default:null},groupRowsBy:{type:[Array,String,Function],default:null},resizableColumns:{type:Boolean,default:!1},allRowsSelected:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},sortMode:{type:String,default:"single"},groupRowSortField:{type:[String,Function],default:null},sortField:{type:[String,Function],default:null},sortOrder:{type:Number,default:null},multiSortMeta:{type:Array,default:null},filterDisplay:{type:String,default:null},filters:{type:Object,default:null},filtersStore:{type:Object,default:null},reorderableColumns:{type:Boolean,default:!1},first:{type:Number,default:0},filterInputProps:{type:null,default:null},filterButtonProps:{type:null,default:null}},provide:function(){return{$rows:this.d_headerRows,$columns:this.d_headerColumns}},data:function(){return{d_headerRows:new Dp({type:"Row"}),d_headerColumns:new Dp({type:"Column"})}},beforeUnmount:function(){this.d_headerRows.clear(),this.d_headerColumns.clear()},methods:{columnProp:function(t,i){return jh(t,i)},getColumnGroupPT:function(t){var i,a={props:this.getColumnGroupProps(),parent:{instance:this,props:this.$props,state:this.$data},context:{type:"header",scrollable:(i=this.$parentInstance)===null||i===void 0||(i=i.$parentInstance)===null||i===void 0?void 0:i.scrollable}};return Ze(this.ptm("columnGroup.".concat(t),{columnGroup:a}),this.ptm("columnGroup.".concat(t),a),this.ptmo(this.getColumnGroupProps(),t,a))},getColumnGroupProps:function(){return this.columnGroup&&this.columnGroup.props&&this.columnGroup.props.pt?this.columnGroup.props.pt:void 0},getRowPT:function(t,i,a){var l={props:t.props,parent:{instance:this,props:this.$props,state:this.$data},context:{index:a}};return Ze(this.ptm("row.".concat(i),{row:l}),this.ptm("row.".concat(i),l),this.ptmo(this.getRowProp(t),i,l))},getRowProp:function(t){return t.props&&t.props.pt?t.props.pt:void 0},getColumnPT:function(t,i,a){var l={props:t.props,parent:{instance:this,props:this.$props,state:this.$data},context:{index:a}};return Ze(this.ptm("column.".concat(i),{column:l}),this.ptm("column.".concat(i),l),this.ptmo(this.getColumnProp(t),i,l))},getColumnProp:function(t){return t.props&&t.props.pt?t.props.pt:void 0},getFilterColumnHeaderClass:function(t){return[this.cx("headerCell",{column:t}),this.columnProp(t,"filterHeaderClass"),this.columnProp(t,"class")]},getFilterColumnHeaderStyle:function(t){return[this.columnProp(t,"filterHeaderStyle"),this.columnProp(t,"style")]},getHeaderRows:function(){var t;return(t=this.d_headerRows)===null||t===void 0?void 0:t.get(this.columnGroup,this.columnGroup.children)},getHeaderColumns:function(t){var i;return(i=this.d_headerColumns)===null||i===void 0?void 0:i.get(t,t.children)}},computed:{ptmTHeadOptions:function(){var t;return{context:{scrollable:(t=this.$parentInstance)===null||t===void 0||(t=t.$parentInstance)===null||t===void 0?void 0:t.scrollable}}}},components:{DTHeaderCell:BI,DTHeaderCheckbox:w5,DTColumnFilter:x5}};function Mg(e){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mg(e)}function zE(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),i.push.apply(i,a)}return i}function sp(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?zE(Object(i),!0).forEach(function(a){Ire(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):zE(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function Ire(e,t,i){return(t=kre(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function kre(e){var t=Mre(e,"string");return Mg(t)=="symbol"?t:t+""}function Mre(e,t){if(Mg(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t||"default");if(Mg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Are(e,t,i,a,l,c){var y=Mi("DTHeaderCell"),n=Mi("DTHeaderCheckbox"),x=Mi("DTColumnFilter");return ge(),Je("thead",Ze({class:e.cx("thead"),style:e.sx("thead"),role:"rowgroup"},i.columnGroup?sp(sp({},e.ptm("thead",c.ptmTHeadOptions)),c.getColumnGroupPT("root")):e.ptm("thead",c.ptmTHeadOptions),{"data-pc-section":"thead"}),[i.columnGroup?(ge(!0),Je(Ri,{key:1},wo(c.getHeaderRows(),function(C,k){return ge(),Je("tr",Ze({key:k,role:"row",ref_for:!0},sp(sp({},e.ptm("headerRow")),c.getRowPT(C,"root",k))),[(ge(!0),Je(Ri,null,wo(c.getHeaderColumns(C),function(O,B){return ge(),Je(Ri,{key:c.columnProp(O,"columnKey")||c.columnProp(O,"field")||B},[!c.columnProp(O,"hidden")&&(i.rowGroupMode!=="subheader"||i.groupRowsBy!==c.columnProp(O,"field"))&&typeof O.children!="string"?(ge(),Vt(y,{key:0,column:O,onColumnClick:t[23]||(t[23]=function(L){return e.$emit("column-click",L)}),onColumnMousedown:t[24]||(t[24]=function(L){return e.$emit("column-mousedown",L)}),groupRowsBy:i.groupRowsBy,groupRowSortField:i.groupRowSortField,sortMode:i.sortMode,sortField:i.sortField,sortOrder:i.sortOrder,multiSortMeta:i.multiSortMeta,allRowsSelected:i.allRowsSelected,empty:i.empty,onCheckboxChange:t[25]||(t[25]=function(L){return e.$emit("checkbox-change",L)}),filters:i.filters,filterDisplay:i.filterDisplay,filtersStore:i.filtersStore,onFilterChange:t[26]||(t[26]=function(L){return e.$emit("filter-change",L)}),onFilterApply:t[27]||(t[27]=function(L){return e.$emit("filter-apply")}),onOperatorChange:t[28]||(t[28]=function(L){return e.$emit("operator-change",L)}),onMatchmodeChange:t[29]||(t[29]=function(L){return e.$emit("matchmode-change",L)}),onConstraintAdd:t[30]||(t[30]=function(L){return e.$emit("constraint-add",L)}),onConstraintRemove:t[31]||(t[31]=function(L){return e.$emit("constraint-remove",L)}),onApplyClick:t[32]||(t[32]=function(L){return e.$emit("apply-click",L)}),unstyled:e.unstyled,pt:e.pt},null,8,["column","groupRowsBy","groupRowSortField","sortMode","sortField","sortOrder","multiSortMeta","allRowsSelected","empty","filters","filterDisplay","filtersStore","unstyled","pt"])):Zt("",!0)],64)}),128))],16)}),128)):(ge(),Je(Ri,{key:0},[Se("tr",Ze({role:"row"},e.ptm("headerRow")),[(ge(!0),Je(Ri,null,wo(i.columns,function(C,k){return ge(),Je(Ri,{key:c.columnProp(C,"columnKey")||c.columnProp(C,"field")||k},[!c.columnProp(C,"hidden")&&(i.rowGroupMode!=="subheader"||i.groupRowsBy!==c.columnProp(C,"field"))?(ge(),Vt(y,{key:0,column:C,index:k,onColumnClick:t[0]||(t[0]=function(O){return e.$emit("column-click",O)}),onColumnMousedown:t[1]||(t[1]=function(O){return e.$emit("column-mousedown",O)}),onColumnDragstart:t[2]||(t[2]=function(O){return e.$emit("column-dragstart",O)}),onColumnDragover:t[3]||(t[3]=function(O){return e.$emit("column-dragover",O)}),onColumnDragleave:t[4]||(t[4]=function(O){return e.$emit("column-dragleave",O)}),onColumnDrop:t[5]||(t[5]=function(O){return e.$emit("column-drop",O)}),groupRowsBy:i.groupRowsBy,groupRowSortField:i.groupRowSortField,reorderableColumns:i.reorderableColumns,resizableColumns:i.resizableColumns,onColumnResizestart:t[6]||(t[6]=function(O){return e.$emit("column-resizestart",O)}),sortMode:i.sortMode,sortField:i.sortField,sortOrder:i.sortOrder,multiSortMeta:i.multiSortMeta,allRowsSelected:i.allRowsSelected,empty:i.empty,onCheckboxChange:t[7]||(t[7]=function(O){return e.$emit("checkbox-change",O)}),filters:i.filters,filterDisplay:i.filterDisplay,filtersStore:i.filtersStore,filterInputProps:i.filterInputProps,filterButtonProps:i.filterButtonProps,first:i.first,onFilterChange:t[8]||(t[8]=function(O){return e.$emit("filter-change",O)}),onFilterApply:t[9]||(t[9]=function(O){return e.$emit("filter-apply")}),onOperatorChange:t[10]||(t[10]=function(O){return e.$emit("operator-change",O)}),onMatchmodeChange:t[11]||(t[11]=function(O){return e.$emit("matchmode-change",O)}),onConstraintAdd:t[12]||(t[12]=function(O){return e.$emit("constraint-add",O)}),onConstraintRemove:t[13]||(t[13]=function(O){return e.$emit("constraint-remove",O)}),onApplyClick:t[14]||(t[14]=function(O){return e.$emit("apply-click",O)}),unstyled:e.unstyled,pt:e.pt},null,8,["column","index","groupRowsBy","groupRowSortField","reorderableColumns","resizableColumns","sortMode","sortField","sortOrder","multiSortMeta","allRowsSelected","empty","filters","filterDisplay","filtersStore","filterInputProps","filterButtonProps","first","unstyled","pt"])):Zt("",!0)],64)}),128))],16),i.filterDisplay==="row"?(ge(),Je("tr",Ze({key:0,role:"row"},e.ptm("headerRow")),[(ge(!0),Je(Ri,null,wo(i.columns,function(C,k){return ge(),Je(Ri,{key:c.columnProp(C,"columnKey")||c.columnProp(C,"field")||k},[!c.columnProp(C,"hidden")&&(i.rowGroupMode!=="subheader"||i.groupRowsBy!==c.columnProp(C,"field"))?(ge(),Je("th",Ze({key:0,style:c.getFilterColumnHeaderStyle(C),class:c.getFilterColumnHeaderClass(C),ref_for:!0},sp(sp({},c.getColumnPT(C,"root",k)),c.getColumnPT(C,"headerCell",k))),[c.columnProp(C,"selectionMode")==="multiple"?(ge(),Vt(n,{key:0,checked:i.allRowsSelected,disabled:i.empty,onChange:t[15]||(t[15]=function(O){return e.$emit("checkbox-change",O)}),column:C,unstyled:e.unstyled,pt:e.pt},null,8,["checked","disabled","column","unstyled","pt"])):Zt("",!0),C.children&&C.children.filter?(ge(),Vt(x,{key:1,field:c.columnProp(C,"filterField")||c.columnProp(C,"field"),type:c.columnProp(C,"dataType"),display:"row",showMenu:c.columnProp(C,"showFilterMenu"),filterElement:C.children&&C.children.filter,filterHeaderTemplate:C.children&&C.children.filterheader,filterFooterTemplate:C.children&&C.children.filterfooter,filterClearTemplate:C.children&&C.children.filterclear,filterApplyTemplate:C.children&&C.children.filterapply,filterIconTemplate:C.children&&C.children.filtericon,filterAddIconTemplate:C.children&&C.children.filteraddicon,filterRemoveIconTemplate:C.children&&C.children.filterremoveicon,filterClearIconTemplate:C.children&&C.children.filterclearicon,filters:i.filters,filtersStore:i.filtersStore,filterInputProps:i.filterInputProps,filterButtonProps:i.filterButtonProps,onFilterChange:t[16]||(t[16]=function(O){return e.$emit("filter-change",O)}),onFilterApply:t[17]||(t[17]=function(O){return e.$emit("filter-apply")}),filterMenuStyle:c.columnProp(C,"filterMenuStyle"),filterMenuClass:c.columnProp(C,"filterMenuClass"),showOperator:c.columnProp(C,"showFilterOperator"),showClearButton:c.columnProp(C,"showClearButton"),showApplyButton:c.columnProp(C,"showApplyButton"),showMatchModes:c.columnProp(C,"showFilterMatchModes"),showAddButton:c.columnProp(C,"showAddButton"),matchModeOptions:c.columnProp(C,"filterMatchModeOptions"),maxConstraints:c.columnProp(C,"maxConstraints"),onOperatorChange:t[18]||(t[18]=function(O){return e.$emit("operator-change",O)}),onMatchmodeChange:t[19]||(t[19]=function(O){return e.$emit("matchmode-change",O)}),onConstraintAdd:t[20]||(t[20]=function(O){return e.$emit("constraint-add",O)}),onConstraintRemove:t[21]||(t[21]=function(O){return e.$emit("constraint-remove",O)}),onApplyClick:t[22]||(t[22]=function(O){return e.$emit("apply-click",O)}),column:C,unstyled:e.unstyled,pt:e.pt},null,8,["field","type","showMenu","filterElement","filterHeaderTemplate","filterFooterTemplate","filterClearTemplate","filterApplyTemplate","filterIconTemplate","filterAddIconTemplate","filterRemoveIconTemplate","filterClearIconTemplate","filters","filtersStore","filterInputProps","filterButtonProps","filterMenuStyle","filterMenuClass","showOperator","showClearButton","showApplyButton","showMatchModes","showAddButton","matchModeOptions","maxConstraints","column","unstyled","pt"])):Zt("",!0)],16)):Zt("",!0)],64)}),128))],16)):Zt("",!0)],64))],16)}jI.render=Are;function Ag(e){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ag(e)}var Ore=["expanded"];function Lre(e,t){if(e==null)return{};var i,a,l=Dre(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)i=c[a],t.includes(i)||{}.propertyIsEnumerable.call(e,i)&&(l[i]=e[i])}return l}function Dre(e,t){if(e==null)return{};var i={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.includes(a))continue;i[a]=e[a]}return i}function VE(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),i.push.apply(i,a)}return i}function rs(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?VE(Object(i),!0).forEach(function(a){Bre(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):VE(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function Bre(e,t,i){return(t=jre(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function jre(e){var t=zre(e,"string");return Ag(t)=="symbol"?t:t+""}function zre(e,t){if(Ag(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t||"default");if(Ag(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NE(e,t){return $re(e)||Nre(e,t)||F5(e,t)||Vre()}function Vre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nre(e,t){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var a,l,c,y,n=[],x=!0,C=!1;try{if(c=(i=i.call(e)).next,t!==0)for(;!(x=(a=c.call(i)).done)&&(n.push(a.value),n.length!==t);x=!0);}catch(k){C=!0,l=k}finally{try{if(!x&&i.return!=null&&(y=i.return(),Object(y)!==y))return}finally{if(C)throw l}}return n}}function $re(e){if(Array.isArray(e))return e}function f1(e,t){var i=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=F5(e))||t){i&&(e=i);var a=0,l=function(){};return{s:l,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(C){throw C},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,y=!0,n=!1;return{s:function(){i=i.call(e)},n:function(){var C=i.next();return y=C.done,C},e:function(C){n=!0,c=C},f:function(){try{y||i.return==null||i.return()}finally{if(n)throw c}}}}function ir(e){return Hre(e)||Gre(e)||F5(e)||Ure()}function Ure(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F5(e,t){if(e){if(typeof e=="string")return $x(e,t);var i={}.toString.call(e).slice(8,-1);return i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set"?Array.from(e):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?$x(e,t):void 0}}function Gre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hre(e){if(Array.isArray(e))return $x(e)}function $x(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,a=Array(t);i<t;i++)a[i]=e[i];return a}var n_={name:"DataTable",extends:Aoe,inheritAttrs:!1,emits:["value-change","update:first","update:rows","page","update:sortField","update:sortOrder","update:multiSortMeta","sort","filter","row-click","row-dblclick","update:selection","row-select","row-unselect","update:contextMenuSelection","row-contextmenu","row-unselect-all","row-select-all","select-all-change","column-resize-end","column-reorder","row-reorder","update:expandedRows","row-collapse","row-expand","update:expandedRowGroups","rowgroup-collapse","rowgroup-expand","update:filters","state-restore","state-save","cell-edit-init","cell-edit-complete","cell-edit-cancel","update:editingRows","row-edit-init","row-edit-save","row-edit-cancel"],provide:function(){return{$columns:this.d_columns,$columnGroups:this.d_columnGroups}},data:function(){return{d_first:this.first,d_rows:this.rows,d_sortField:this.sortField,d_sortOrder:this.sortOrder,d_nullSortOrder:this.nullSortOrder,d_multiSortMeta:this.multiSortMeta?ir(this.multiSortMeta):[],d_groupRowsSortMeta:null,d_selectionKeys:null,d_columnOrder:null,d_editingRowKeys:null,d_editingMeta:{},d_filters:this.cloneFilters(this.filters),d_columns:new Dp({type:"Column"}),d_columnGroups:new Dp({type:"ColumnGroup"})}},rowTouched:!1,anchorRowIndex:null,rangeRowIndex:null,documentColumnResizeListener:null,documentColumnResizeEndListener:null,lastResizeHelperX:null,resizeColumnElement:null,columnResizing:!1,colReorderIconWidth:null,colReorderIconHeight:null,draggedColumn:null,draggedColumnElement:null,draggedRowIndex:null,droppedRowIndex:null,rowDragging:null,columnWidthsState:null,tableWidthState:null,columnWidthsRestored:!1,watch:{first:function(t){this.d_first=t},rows:function(t){this.d_rows=t},sortField:function(t){this.d_sortField=t},sortOrder:function(t){this.d_sortOrder=t},nullSortOrder:function(t){this.d_nullSortOrder=t},multiSortMeta:function(t){this.d_multiSortMeta=t},selection:{immediate:!0,handler:function(t){this.dataKey&&this.updateSelectionKeys(t)}},editingRows:{immediate:!0,handler:function(t){this.dataKey&&this.updateEditingRowKeys(t)}},filters:{deep:!0,handler:function(t){this.d_filters=this.cloneFilters(t)}}},mounted:function(){this.$el.setAttribute(this.attributeSelector,""),this.isStateful()&&(this.restoreState(),this.resizableColumns&&this.restoreColumnWidths()),this.editMode==="row"&&this.dataKey&&!this.d_editingRowKeys&&this.updateEditingRowKeys(this.editingRows)},beforeUnmount:function(){this.unbindColumnResizeEvents(),this.destroyStyleElement(),this.d_columns.clear(),this.d_columnGroups.clear()},updated:function(){this.isStateful()&&this.saveState(),this.editMode==="row"&&this.dataKey&&!this.d_editingRowKeys&&this.updateEditingRowKeys(this.editingRows)},methods:{columnProp:function(t,i){return jh(t,i)},onPage:function(t){var i=this;this.clearEditingMetaData(),this.d_first=t.first,this.d_rows=t.rows;var a=this.createLazyLoadEvent(t);a.pageCount=t.pageCount,a.page=t.page,this.$emit("update:first",this.d_first),this.$emit("update:rows",this.d_rows),this.$emit("page",a),this.$nextTick(function(){i.$emit("value-change",i.processedData)})},onColumnHeaderClick:function(t){var i=this,a=t.originalEvent,l=t.column;if(this.columnProp(l,"sortable")){var c=a.target,y=this.columnProp(l,"sortField")||this.columnProp(l,"field");if(Uo(c,"data-p-sortable-column")===!0||Uo(c,"data-pc-section")==="columntitle"||Uo(c,"data-pc-section")==="columnheadercontent"||Uo(c,"data-pc-section")==="sorticon"||Uo(c.parentElement,"data-pc-section")==="sorticon"||Uo(c.parentElement.parentElement,"data-pc-section")==="sorticon"||c.closest('[data-p-sortable-column="true"]')&&!c.closest('[data-pc-section="columnfilterbutton"]')&&!a3(a.target)){if(vb(),this.sortMode==="single")this.d_sortField===y?this.removableSort&&this.d_sortOrder*-1===this.defaultSortOrder?(this.d_sortOrder=null,this.d_sortField=null):this.d_sortOrder=this.d_sortOrder*-1:(this.d_sortOrder=this.defaultSortOrder,this.d_sortField=y),this.$emit("update:sortField",this.d_sortField),this.$emit("update:sortOrder",this.d_sortOrder),this.resetPage();else if(this.sortMode==="multiple"){var n=a.metaKey||a.ctrlKey;n||(this.d_multiSortMeta=this.d_multiSortMeta.filter(function(x){return x.field===y})),this.addMultiSortField(y),this.$emit("update:multiSortMeta",this.d_multiSortMeta)}this.$emit("sort",this.createLazyLoadEvent(a)),this.$nextTick(function(){i.$emit("value-change",i.processedData)})}}},sortSingle:function(t){var i=this;if(this.clearEditingMetaData(),this.groupRowsBy&&this.groupRowsBy===this.sortField)return this.d_multiSortMeta=[{field:this.sortField,order:this.sortOrder||this.defaultSortOrder},{field:this.d_sortField,order:this.d_sortOrder}],this.sortMultiple(t);var a=ir(t),l=new Map,c=f1(a),y;try{for(c.s();!(y=c.n()).done;){var n=y.value;l.set(n,On(n,this.d_sortField))}}catch(C){c.e(C)}finally{c.f()}var x=P9();return a.sort(function(C,k){var O=l.get(C),B=l.get(k);return k9(O,B,i.d_sortOrder,x,i.d_nullSortOrder)}),a},sortMultiple:function(t){var i=this;if(this.clearEditingMetaData(),this.groupRowsBy&&(this.d_groupRowsSortMeta||this.d_multiSortMeta.length&&this.groupRowsBy===this.d_multiSortMeta[0].field)){var a=this.d_multiSortMeta[0];!this.d_groupRowsSortMeta&&(this.d_groupRowsSortMeta=a),a.field!==this.d_groupRowsSortMeta.field&&(this.d_multiSortMeta=[this.d_groupRowsSortMeta].concat(ir(this.d_multiSortMeta)))}var l=ir(t);return l.sort(function(c,y){return i.multisortField(c,y,0)}),l},multisortField:function(t,i,a){var l=On(t,this.d_multiSortMeta[a].field),c=On(i,this.d_multiSortMeta[a].field),y=P9();return l===c?this.d_multiSortMeta.length-1>a?this.multisortField(t,i,a+1):0:k9(l,c,this.d_multiSortMeta[a].order,y,this.d_nullSortOrder)},addMultiSortField:function(t){var i=this.d_multiSortMeta.findIndex(function(a){return a.field===t});i>=0?this.removableSort&&this.d_multiSortMeta[i].order*-1===this.defaultSortOrder?this.d_multiSortMeta.splice(i,1):this.d_multiSortMeta[i]={field:t,order:this.d_multiSortMeta[i].order*-1}:this.d_multiSortMeta.push({field:t,order:this.defaultSortOrder}),this.d_multiSortMeta=ir(this.d_multiSortMeta)},getActiveFilters:function(t){var i=function(y){var n=NE(y,2),x=n[0],C=n[1];if(C.constraints){var k=C.constraints.filter(function(O){return O.value!==null});if(k.length>0)return[x,rs(rs({},C),{},{constraints:k})]}else if(C.value!==null)return[x,C]},a=function(y){return y!==void 0},l=Object.entries(t).map(i).filter(a);return Object.fromEntries(l)},filter:function(t){var i=this;if(t){this.clearEditingMetaData();var a=this.getActiveFilters(this.filters),l;a.global&&(l=this.globalFilterFields||this.columns.map(function(ce){return i.columnProp(ce,"filterField")||i.columnProp(ce,"field")}));for(var c=[],y=0;y<t.length;y++){var n=!0,x=!1,C=!1;for(var k in a)if(Object.prototype.hasOwnProperty.call(a,k)&&k!=="global"){C=!0;var O=k,B=a[O];if(B.operator){var L=f1(B.constraints),V;try{for(L.s();!(V=L.n()).done;){var G=V.value;if(n=this.executeLocalFilter(O,t[y],G),B.operator===Nb.OR&&n||B.operator===Nb.AND&&!n)break}}catch(ce){L.e(ce)}finally{L.f()}}else n=this.executeLocalFilter(O,t[y],B);if(!n)break}if(n&&a.global&&!x&&l)for(var Q=0;Q<l.length;Q++){var Y=l[Q];if(x=$b.filters[a.global.matchMode||jr.CONTAINS](On(t[y],Y),a.global.value,this.filterLocale),x)break}var J=void 0;a.global?J=C?C&&n&&x:x:J=C&&n,J&&c.push(t[y])}(c.length===this.value.length||Object.keys(a).length==0)&&(c=t);var re=this.createLazyLoadEvent();return re.filteredValue=c,this.$emit("filter",re),this.$nextTick(function(){i.$emit("value-change",i.processedData)}),c}},executeLocalFilter:function(t,i,a){var l=a.value,c=a.matchMode||jr.STARTS_WITH,y=On(i,t),n=$b.filters[c];return n(y,l,this.filterLocale)},onRowClick:function(t){var i=t.originalEvent,a=this.$refs.bodyRef&&this.$refs.bodyRef.$el,l=ks(a,'tr[data-p-selectable-row="true"][tabindex="0"]');if(!a3(i.currentTarget)){if(this.$emit("row-click",t),this.selectionMode){var c=t.data,y=this.d_first+t.index;if(this.isMultipleSelectionMode()&&i.shiftKey&&this.anchorRowIndex!=null)vb(),this.rangeRowIndex=y,this.selectRange(i);else{var n=this.isSelected(c),x=this.rowTouched?!1:this.metaKeySelection;if(this.anchorRowIndex=y,this.rangeRowIndex=y,x){var C=i.metaKey||i.ctrlKey;if(n&&C){if(this.isSingleSelectionMode())this.$emit("update:selection",null);else{var k=this.findIndexInSelection(c),O=this.selection.filter(function(re,ce){return ce!=k});this.$emit("update:selection",O)}this.$emit("row-unselect",{originalEvent:i,data:c,index:y,type:"row"})}else{if(this.isSingleSelectionMode())this.$emit("update:selection",c);else if(this.isMultipleSelectionMode()){var B=C?this.selection||[]:[];B=[].concat(ir(B),[c]),this.$emit("update:selection",B)}this.$emit("row-select",{originalEvent:i,data:c,index:y,type:"row"})}}else if(this.selectionMode==="single")n?(this.$emit("update:selection",null),this.$emit("row-unselect",{originalEvent:i,data:c,index:y,type:"row"})):(this.$emit("update:selection",c),this.$emit("row-select",{originalEvent:i,data:c,index:y,type:"row"}));else if(this.selectionMode==="multiple")if(n){var L=this.findIndexInSelection(c),V=this.selection.filter(function(re,ce){return ce!=L});this.$emit("update:selection",V),this.$emit("row-unselect",{originalEvent:i,data:c,index:y,type:"row"})}else{var G=this.selection?[].concat(ir(this.selection),[c]):[c];this.$emit("update:selection",G),this.$emit("row-select",{originalEvent:i,data:c,index:y,type:"row"})}}}if(this.rowTouched=!1,l){var Q,Y;if(((Q=i.currentTarget)===null||Q===void 0?void 0:Q.getAttribute("data-pc-section"))==="rowtoggleicon")return;var J=(Y=i.currentTarget)===null||Y===void 0?void 0:Y.closest('tr[data-p-selectable-row="true"]');l.tabIndex="-1",J.tabIndex="0"}}},onRowDblClick:function(t){var i=t.originalEvent;a3(i.target)||this.$emit("row-dblclick",t)},onRowRightClick:function(t){this.contextMenu&&(vb(),t.originalEvent.target.focus()),this.$emit("update:contextMenuSelection",t.data),this.$emit("row-contextmenu",t)},onRowTouchEnd:function(){this.rowTouched=!0},onRowKeyDown:function(t,i){var a=t.originalEvent,l=t.data,c=t.index,y=a.metaKey||a.ctrlKey;if(this.selectionMode){var n=a.target;switch(a.code){case"ArrowDown":this.onArrowDownKey(a,n,c,i);break;case"ArrowUp":this.onArrowUpKey(a,n,c,i);break;case"Home":this.onHomeKey(a,n,c,i);break;case"End":this.onEndKey(a,n,c,i);break;case"Enter":case"NumpadEnter":this.onEnterKey(a,l,c);break;case"Space":this.onSpaceKey(a,l,c,i);break;case"Tab":this.onTabKey(a,c);break;default:if(a.code==="KeyA"&&y&&this.isMultipleSelectionMode()){var x=this.dataToRender(i.rows);this.$emit("update:selection",x)}a.preventDefault();break}}},onArrowDownKey:function(t,i,a,l){var c=this.findNextSelectableRow(i);if(c&&this.focusRowChange(i,c),t.shiftKey){var y=this.dataToRender(l.rows),n=a+1>=y.length?y.length-1:a+1;this.onRowClick({originalEvent:t,data:y[n],index:n})}t.preventDefault()},onArrowUpKey:function(t,i,a,l){var c=this.findPrevSelectableRow(i);if(c&&this.focusRowChange(i,c),t.shiftKey){var y=this.dataToRender(l.rows),n=a-1<=0?0:a-1;this.onRowClick({originalEvent:t,data:y[n],index:n})}t.preventDefault()},onHomeKey:function(t,i,a,l){var c=this.findFirstSelectableRow();if(c&&this.focusRowChange(i,c),t.ctrlKey&&t.shiftKey){var y=this.dataToRender(l.rows);this.$emit("update:selection",y.slice(0,a+1))}t.preventDefault()},onEndKey:function(t,i,a,l){var c=this.findLastSelectableRow();if(c&&this.focusRowChange(i,c),t.ctrlKey&&t.shiftKey){var y=this.dataToRender(l.rows);this.$emit("update:selection",y.slice(a,y.length))}t.preventDefault()},onEnterKey:function(t,i,a){this.onRowClick({originalEvent:t,data:i,index:a}),t.preventDefault()},onSpaceKey:function(t,i,a,l){if(this.onEnterKey(t,i,a),t.shiftKey&&this.selection!==null){var c=this.dataToRender(l.rows),y;if(this.selection.length>0){var n,x;n=n3(this.selection[0],c),x=n3(this.selection[this.selection.length-1],c),y=a<=n?x:n}else y=n3(this.selection,c);var C=y!==a?c.slice(Math.min(y,a),Math.max(y,a)+1):i;this.$emit("update:selection",C)}},onTabKey:function(t,i){var a=this.$refs.bodyRef&&this.$refs.bodyRef.$el,l=lp(a,'tr[data-p-selectable-row="true"]');if(t.code==="Tab"&&l&&l.length>0){var c=ks(a,'tr[data-p-selected="true"]'),y=ks(a,'tr[data-p-selectable-row="true"][tabindex="0"]');c?(c.tabIndex="0",y&&y!==c&&(y.tabIndex="-1")):(l[0].tabIndex="0",y!==l[0]&&(l[i].tabIndex="-1"))}},findNextSelectableRow:function(t){var i=t.nextElementSibling;return i?Uo(i,"data-p-selectable-row")===!0?i:this.findNextSelectableRow(i):null},findPrevSelectableRow:function(t){var i=t.previousElementSibling;return i?Uo(i,"data-p-selectable-row")===!0?i:this.findPrevSelectableRow(i):null},findFirstSelectableRow:function(){var t=ks(this.$refs.table,'tr[data-p-selectable-row="true"]');return t},findLastSelectableRow:function(){var t=lp(this.$refs.table,'tr[data-p-selectable-row="true"]');return t?t[t.length-1]:null},focusRowChange:function(t,i){t.tabIndex="-1",i.tabIndex="0",Zo(i)},toggleRowWithRadio:function(t){var i=t.data;this.isSelected(i)?(this.$emit("update:selection",null),this.$emit("row-unselect",{originalEvent:t.originalEvent,data:i,index:t.index,type:"radiobutton"})):(this.$emit("update:selection",i),this.$emit("row-select",{originalEvent:t.originalEvent,data:i,index:t.index,type:"radiobutton"}))},toggleRowWithCheckbox:function(t){var i=t.data;if(this.isSelected(i)){var a=this.findIndexInSelection(i),l=this.selection.filter(function(y,n){return n!=a});this.$emit("update:selection",l),this.$emit("row-unselect",{originalEvent:t.originalEvent,data:i,index:t.index,type:"checkbox"})}else{var c=this.selection?ir(this.selection):[];c=[].concat(ir(c),[i]),this.$emit("update:selection",c),this.$emit("row-select",{originalEvent:t.originalEvent,data:i,index:t.index,type:"checkbox"})}},toggleRowsWithCheckbox:function(t){if(this.selectAll!==null)this.$emit("select-all-change",t);else{var i=t.originalEvent,a=t.checked,l=[];a?(l=this.frozenValue?[].concat(ir(this.frozenValue),ir(this.processedData)):this.processedData,this.$emit("row-select-all",{originalEvent:i,data:l})):this.$emit("row-unselect-all",{originalEvent:i}),this.$emit("update:selection",l)}},isSingleSelectionMode:function(){return this.selectionMode==="single"},isMultipleSelectionMode:function(){return this.selectionMode==="multiple"},isSelected:function(t){return t&&this.selection?this.dataKey?this.d_selectionKeys?this.d_selectionKeys[On(t,this.dataKey)]!==void 0:!1:this.selection instanceof Array?this.findIndexInSelection(t)>-1:this.equals(t,this.selection):!1},findIndexInSelection:function(t){return this.findIndex(t,this.selection)},findIndex:function(t,i){var a=-1;if(i&&i.length){for(var l=0;l<i.length;l++)if(this.equals(t,i[l])){a=l;break}}return a},updateSelectionKeys:function(t){if(this.d_selectionKeys={},Array.isArray(t)){var i=f1(t),a;try{for(i.s();!(a=i.n()).done;){var l=a.value;this.d_selectionKeys[String(On(l,this.dataKey))]=1}}catch(c){i.e(c)}finally{i.f()}}else this.d_selectionKeys[String(On(t,this.dataKey))]=1},updateEditingRowKeys:function(t){if(t&&t.length){this.d_editingRowKeys={};var i=f1(t),a;try{for(i.s();!(a=i.n()).done;){var l=a.value;this.d_editingRowKeys[String(On(l,this.dataKey))]=1}}catch(c){i.e(c)}finally{i.f()}}else this.d_editingRowKeys=null},equals:function(t,i){return this.compareSelectionBy==="equals"?t===i:ac(t,i,this.dataKey)},selectRange:function(t){var i,a;this.rangeRowIndex>this.anchorRowIndex?(i=this.anchorRowIndex,a=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(i=this.rangeRowIndex,a=this.anchorRowIndex):(i=this.rangeRowIndex,a=this.rangeRowIndex),this.lazy&&this.paginator&&(i-=this.first,a-=this.first);for(var l=this.processedData,c=[],y=i;y<=a;y++){var n=l[y];c.push(n),this.$emit("row-select",{originalEvent:t,data:n,type:"row"})}this.$emit("update:selection",c)},exportCSV:function(t,i){var a=this,l="\uFEFF";i||(i=this.processedData,t&&t.selectionOnly?i=this.selection||[]:this.frozenValue&&(i=i?[].concat(ir(this.frozenValue),ir(i)):this.frozenValue));for(var c=!1,y=0;y<this.columns.length;y++){var n=this.columns[y];this.columnProp(n,"exportable")!==!1&&this.columnProp(n,"field")&&(c?l+=this.csvSeparator:c=!0,l+='"'+(this.columnProp(n,"exportHeader")||this.columnProp(n,"header")||this.columnProp(n,"field"))+'"')}i&&i.forEach(function(O){l+=`
`;for(var B=!1,L=0;L<a.columns.length;L++){var V=a.columns[L];if(a.columnProp(V,"exportable")!==!1&&a.columnProp(V,"field")){B?l+=a.csvSeparator:B=!0;var G=On(O,a.columnProp(V,"field"));G!=null?a.exportFunction?G=a.exportFunction({data:G,field:a.columnProp(V,"field")}):G=String(G).replace(/"/g,'""'):G="",l+='"'+G+'"'}}});for(var x=!1,C=0;C<this.columns.length;C++){var k=this.columns[C];C===0&&(l+=`
`),this.columnProp(k,"exportable")!==!1&&this.columnProp(k,"exportFooter")&&(x?l+=this.csvSeparator:x=!0,l+='"'+(this.columnProp(k,"exportFooter")||this.columnProp(k,"footer")||this.columnProp(k,"field"))+'"')}OD(l,this.exportFilename)},resetPage:function(){this.d_first=0,this.$emit("update:first",this.d_first)},onColumnResizeStart:function(t){var i=$d(this.$el).left;this.resizeColumnElement=t.target.parentElement,this.columnResizing=!0,this.lastResizeHelperX=t.pageX-i+this.$el.scrollLeft,this.bindColumnResizeEvents()},onColumnResize:function(t){var i=$d(this.$el).left;this.$el.setAttribute("data-p-unselectable-text","true"),!this.isUnstyled&&kh(this.$el,{"user-select":"none"}),this.$refs.resizeHelper.style.height=this.$el.offsetHeight+"px",this.$refs.resizeHelper.style.top="0px",this.$refs.resizeHelper.style.left=t.pageX-i+this.$el.scrollLeft+"px",this.$refs.resizeHelper.style.display="block"},onColumnResizeEnd:function(){var t=this.$refs.resizeHelper.offsetLeft-this.lastResizeHelperX,i=this.resizeColumnElement.offsetWidth,a=i+t,l=this.resizeColumnElement.style.minWidth||15;if(i+t>parseInt(l,10)){if(this.columnResizeMode==="fit"){var c=this.resizeColumnElement.nextElementSibling,y=c.offsetWidth-t;a>15&&y>15&&this.resizeTableCells(a,y)}else if(this.columnResizeMode==="expand"){var n=this.$refs.table.offsetWidth+t+"px",x=function(B){B&&(B.style.width=B.style.minWidth=n)};if(this.resizeTableCells(a),x(this.$refs.table),!this.virtualScrollerDisabled){var C=this.$refs.bodyRef&&this.$refs.bodyRef.$el,k=this.$refs.frozenBodyRef&&this.$refs.frozenBodyRef.$el;x(C),x(k)}}this.$emit("column-resize-end",{element:this.resizeColumnElement,delta:t})}this.$refs.resizeHelper.style.display="none",this.resizeColumn=null,this.$el.removeAttribute("data-p-unselectable-text"),!this.isUnstyled&&(this.$el.style["user-select"]=""),this.unbindColumnResizeEvents(),this.isStateful()&&this.saveState()},resizeTableCells:function(t,i){var a=xb(this.resizeColumnElement),l=[],c=lp(this.$refs.table,'thead[data-pc-section="thead"] > tr > th');c.forEach(function(x){return l.push(mr(x))}),this.destroyStyleElement(),this.createStyleElement();var y="",n='[data-pc-name="datatable"]['.concat(this.attributeSelector,'] > [data-pc-section="tablecontainer"] ').concat(this.virtualScrollerDisabled?"":'> [data-pc-name="virtualscroller"]',' > table[data-pc-section="table"]');l.forEach(function(x,C){var k=C===a?t:i&&C===a+1?i:x,O="width: ".concat(k,"px !important; max-width: ").concat(k,"px !important");y+=`
                    `.concat(n,' > thead[data-pc-section="thead"] > tr > th:nth-child(').concat(C+1,`),
                    `).concat(n,' > tbody[data-pc-section="tbody"] > tr > td:nth-child(').concat(C+1,`),
                    `).concat(n,' > tfoot[data-pc-section="tfoot"] > tr > td:nth-child(').concat(C+1,`) {
                        `).concat(O,`
                    }
                `)}),this.styleElement.innerHTML=y},bindColumnResizeEvents:function(){var t=this;this.documentColumnResizeListener||(this.documentColumnResizeListener=document.addEventListener("mousemove",function(){t.columnResizing&&t.onColumnResize(event)})),this.documentColumnResizeEndListener||(this.documentColumnResizeEndListener=document.addEventListener("mouseup",function(){t.columnResizing&&(t.columnResizing=!1,t.onColumnResizeEnd())}))},unbindColumnResizeEvents:function(){this.documentColumnResizeListener&&(document.removeEventListener("document",this.documentColumnResizeListener),this.documentColumnResizeListener=null),this.documentColumnResizeEndListener&&(document.removeEventListener("document",this.documentColumnResizeEndListener),this.documentColumnResizeEndListener=null)},onColumnHeaderMouseDown:function(t){var i=t.originalEvent,a=t.column;this.reorderableColumns&&this.columnProp(a,"reorderableColumn")!==!1&&(i.target.nodeName==="INPUT"||i.target.nodeName==="TEXTAREA"||Uo(i.target,'[data-pc-section="columnresizer"]')?i.currentTarget.draggable=!1:i.currentTarget.draggable=!0)},onColumnHeaderDragStart:function(t){var i=t.originalEvent,a=t.column;if(this.columnResizing){i.preventDefault();return}this.colReorderIconWidth=BD(this.$refs.reorderIndicatorUp),this.colReorderIconHeight=DD(this.$refs.reorderIndicatorUp),this.draggedColumn=a,this.draggedColumnElement=this.findParentHeader(i.target),i.dataTransfer.setData("text","b")},onColumnHeaderDragOver:function(t){var i=t.originalEvent,a=t.column,l=this.findParentHeader(i.target);if(this.reorderableColumns&&this.draggedColumnElement&&l&&!this.columnProp(a,"frozen")){i.preventDefault();var c=$d(this.$el),y=$d(l);if(this.draggedColumnElement!==l){var n=y.left-c.left,x=y.left+l.offsetWidth/2;this.$refs.reorderIndicatorUp.style.top=y.top-c.top-(this.colReorderIconHeight-1)+"px",this.$refs.reorderIndicatorDown.style.top=y.top-c.top+l.offsetHeight+"px",i.pageX>x?(this.$refs.reorderIndicatorUp.style.left=n+l.offsetWidth-Math.ceil(this.colReorderIconWidth/2)+"px",this.$refs.reorderIndicatorDown.style.left=n+l.offsetWidth-Math.ceil(this.colReorderIconWidth/2)+"px",this.dropPosition=1):(this.$refs.reorderIndicatorUp.style.left=n-Math.ceil(this.colReorderIconWidth/2)+"px",this.$refs.reorderIndicatorDown.style.left=n-Math.ceil(this.colReorderIconWidth/2)+"px",this.dropPosition=-1),this.$refs.reorderIndicatorUp.style.display="block",this.$refs.reorderIndicatorDown.style.display="block"}}},onColumnHeaderDragLeave:function(t){var i=t.originalEvent;this.reorderableColumns&&this.draggedColumnElement&&(i.preventDefault(),this.$refs.reorderIndicatorUp.style.display="none",this.$refs.reorderIndicatorDown.style.display="none")},onColumnHeaderDrop:function(t){var i=this,a=t.originalEvent,l=t.column;if(a.preventDefault(),this.draggedColumnElement){var c=xb(this.draggedColumnElement),y=xb(this.findParentHeader(a.target)),n=c!==y;if(n&&(y-c===1&&this.dropPosition===-1||y-c===-1&&this.dropPosition===1)&&(n=!1),n){var x=function(Y,J){return i.columnProp(Y,"columnKey")||i.columnProp(J,"columnKey")?i.columnProp(Y,"columnKey")===i.columnProp(J,"columnKey"):i.columnProp(Y,"field")===i.columnProp(J,"field")},C=this.columns.findIndex(function(Q){return x(Q,i.draggedColumn)}),k=this.columns.findIndex(function(Q){return x(Q,l)}),O=[],B=lp(this.$el,'thead[data-pc-section="thead"] > tr > th');B.forEach(function(Q){return O.push(mr(Q))});var L=O.find(function(Q,Y){return Y===C}),V=O.filter(function(Q,Y){return Y!==C}),G=[].concat(ir(V.slice(0,k)),[L],ir(V.slice(k)));this.addColumnWidthStyles(G),k<C&&this.dropPosition===1&&k++,k>C&&this.dropPosition===-1&&k--,I9(this.columns,C,k),this.updateReorderableColumns(),this.$emit("column-reorder",{originalEvent:a,dragIndex:C,dropIndex:k})}this.$refs.reorderIndicatorUp.style.display="none",this.$refs.reorderIndicatorDown.style.display="none",this.draggedColumnElement.draggable=!1,this.draggedColumnElement=null,this.draggedColumn=null,this.dropPosition=null}},findParentHeader:function(t){if(t.nodeName==="TH")return t;for(var i=t.parentElement;i.nodeName!=="TH"&&(i=i.parentElement,!!i););return i},findColumnByKey:function(t,i){if(t&&t.length)for(var a=0;a<t.length;a++){var l=t[a];if(this.columnProp(l,"columnKey")===i||this.columnProp(l,"field")===i)return l}return null},onRowMouseDown:function(t){Uo(t.target,"data-pc-section")==="reorderablerowhandle"||Uo(t.target.parentElement,"data-pc-section")==="reorderablerowhandle"?t.currentTarget.draggable=!0:t.currentTarget.draggable=!1},onRowDragStart:function(t){var i=t.originalEvent,a=t.index;this.rowDragging=!0,this.draggedRowIndex=a,i.dataTransfer.setData("text","b")},onRowDragOver:function(t){var i=t.originalEvent,a=t.index;if(this.rowDragging&&this.draggedRowIndex!==a){var l=i.currentTarget,c=$d(l).top+_6(),y=i.pageY,n=c+Rs(l)/2,x=l.previousElementSibling;y<n?(l.setAttribute("data-p-datatable-dragpoint-bottom","false"),!this.isUnstyled&&Bc(l,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=a,x?(x.setAttribute("data-p-datatable-dragpoint-bottom","true"),!this.isUnstyled&&vl(x,"p-datatable-dragpoint-bottom")):(l.setAttribute("data-p-datatable-dragpoint-top","true"),!this.isUnstyled&&vl(l,"p-datatable-dragpoint-top"))):(x?(x.setAttribute("data-p-datatable-dragpoint-bottom","false"),!this.isUnstyled&&Bc(x,"p-datatable-dragpoint-bottom")):(l.setAttribute("data-p-datatable-dragpoint-top","true"),!this.isUnstyled&&vl(l,"p-datatable-dragpoint-top")),this.droppedRowIndex=a+1,l.setAttribute("data-p-datatable-dragpoint-bottom","true"),!this.isUnstyled&&vl(l,"p-datatable-dragpoint-bottom")),i.preventDefault()}},onRowDragLeave:function(t){var i=t.currentTarget,a=i.previousElementSibling;a&&(a.setAttribute("data-p-datatable-dragpoint-bottom","false"),!this.isUnstyled&&Bc(a,"p-datatable-dragpoint-bottom")),i.setAttribute("data-p-datatable-dragpoint-bottom","false"),!this.isUnstyled&&Bc(i,"p-datatable-dragpoint-bottom"),i.setAttribute("data-p-datatable-dragpoint-top","false"),!this.isUnstyled&&Bc(i,"p-datatable-dragpoint-top")},onRowDragEnd:function(t){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null,t.currentTarget.draggable=!1},onRowDrop:function(t){if(this.droppedRowIndex!=null){var i=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:this.droppedRowIndex===0?0:this.droppedRowIndex-1,a=ir(this.processedData);I9(a,this.draggedRowIndex+this.d_first,i+this.d_first),this.$emit("row-reorder",{originalEvent:t,dragIndex:this.draggedRowIndex,dropIndex:i,value:a})}this.onRowDragLeave(t),this.onRowDragEnd(t),t.preventDefault()},toggleRow:function(t){var i=this,a=t.expanded,l=Lre(t,Ore),c=t.data,y;if(this.dataKey){var n=On(c,this.dataKey);y=this.expandedRows?rs({},this.expandedRows):{},a?y[n]=!0:delete y[n]}else y=this.expandedRows?ir(this.expandedRows):[],a?y.push(c):y=y.filter(function(x){return!i.equals(c,x)});this.$emit("update:expandedRows",y),a?this.$emit("row-expand",l):this.$emit("row-collapse",l)},toggleRowGroup:function(t){var i=t.originalEvent,a=t.data,l=On(a,this.groupRowsBy),c=this.expandedRowGroups?ir(this.expandedRowGroups):[];this.isRowGroupExpanded(a)?(c=c.filter(function(y){return y!==l}),this.$emit("update:expandedRowGroups",c),this.$emit("rowgroup-collapse",{originalEvent:i,data:l})):(c.push(l),this.$emit("update:expandedRowGroups",c),this.$emit("rowgroup-expand",{originalEvent:i,data:l}))},isRowGroupExpanded:function(t){if(this.expandableRowGroups&&this.expandedRowGroups){var i=On(t,this.groupRowsBy);return this.expandedRowGroups.indexOf(i)>-1}return!1},isStateful:function(){return this.stateKey!=null},getStorage:function(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}},saveState:function(){var t=this.getStorage(),i={};this.paginator&&(i.first=this.d_first,i.rows=this.d_rows),this.d_sortField&&(i.sortField=this.d_sortField,i.sortOrder=this.d_sortOrder),this.d_multiSortMeta&&(i.multiSortMeta=this.d_multiSortMeta),this.hasFilters&&(i.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(i),this.reorderableColumns&&(i.columnOrder=this.d_columnOrder),this.expandedRows&&(i.expandedRows=this.expandedRows),this.expandedRowGroups&&(i.expandedRowGroups=this.expandedRowGroups),this.selection&&(i.selection=this.selection,i.selectionKeys=this.d_selectionKeys),Object.keys(i).length&&t.setItem(this.stateKey,JSON.stringify(i)),this.$emit("state-save",i)},restoreState:function(){var t=this.getStorage(),i=t.getItem(this.stateKey),a=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,l=function(n,x){return typeof x=="string"&&a.test(x)?new Date(x):x};if(i){var c=JSON.parse(i,l);this.paginator&&(this.d_first=c.first,this.d_rows=c.rows),c.sortField&&(this.d_sortField=c.sortField,this.d_sortOrder=c.sortOrder),c.multiSortMeta&&(this.d_multiSortMeta=c.multiSortMeta),c.filters&&this.$emit("update:filters",c.filters),this.resizableColumns&&(this.columnWidthsState=c.columnWidths,this.tableWidthState=c.tableWidth),this.reorderableColumns&&(this.d_columnOrder=c.columnOrder),c.expandedRows&&this.$emit("update:expandedRows",c.expandedRows),c.expandedRowGroups&&this.$emit("update:expandedRowGroups",c.expandedRowGroups),c.selection&&(this.d_selectionKeys=c.d_selectionKeys,this.$emit("update:selection",c.selection)),this.$emit("state-restore",c)}},saveColumnWidths:function(t){var i=[],a=lp(this.$el,'thead[data-pc-section="thead"] > tr > th');a.forEach(function(l){return i.push(mr(l))}),t.columnWidths=i.join(","),this.columnResizeMode==="expand"&&(t.tableWidth=mr(this.$refs.table)+"px")},addColumnWidthStyles:function(t){this.createStyleElement();var i="",a='[data-pc-name="datatable"]['.concat(this.attributeSelector,'] > [data-pc-section="tablecontainer"] ').concat(this.virtualScrollerDisabled?"":'> [data-pc-name="virtualscroller"]',' > table[data-pc-section="table"]');t.forEach(function(l,c){var y="width: ".concat(l,"px !important; max-width: ").concat(l,"px !important");i+=`
        `.concat(a,' > thead[data-pc-section="thead"] > tr > th:nth-child(').concat(c+1,`),
        `).concat(a,' > tbody[data-pc-section="tbody"] > tr > td:nth-child(').concat(c+1,`),
        `).concat(a,' > tfoot[data-pc-section="tfoot"] > tr > td:nth-child(').concat(c+1,`) {
            `).concat(y,`
        }
    `)}),this.styleElement.innerHTML=i},restoreColumnWidths:function(){if(this.columnWidthsState){var t=this.columnWidthsState.split(",");this.columnResizeMode==="expand"&&this.tableWidthState&&(this.$refs.table.style.width=this.tableWidthState,this.$refs.table.style.minWidth=this.tableWidthState),Bn(t)&&this.addColumnWidthStyles(t)}},onCellEditInit:function(t){this.$emit("cell-edit-init",t)},onCellEditComplete:function(t){this.$emit("cell-edit-complete",t)},onCellEditCancel:function(t){this.$emit("cell-edit-cancel",t)},onRowEditInit:function(t){var i=this.editingRows?ir(this.editingRows):[];i.push(t.data),this.$emit("update:editingRows",i),this.$emit("row-edit-init",t)},onRowEditSave:function(t){var i=ir(this.editingRows);i.splice(this.findIndex(t.data,i),1),this.$emit("update:editingRows",i),this.$emit("row-edit-save",t)},onRowEditCancel:function(t){var i=ir(this.editingRows);i.splice(this.findIndex(t.data,i),1),this.$emit("update:editingRows",i),this.$emit("row-edit-cancel",t)},onEditingMetaChange:function(t){var i=t.data,a=t.field,l=t.index,c=t.editing,y=rs({},this.d_editingMeta),n=y[l];if(c)!n&&(n=y[l]={data:rs({},i),fields:[]}),n.fields.push(a);else if(n){var x=n.fields.filter(function(C){return C!==a});x.length?n.fields=x:delete y[l]}this.d_editingMeta=y},clearEditingMetaData:function(){this.editMode&&(this.d_editingMeta={})},createLazyLoadEvent:function(t){return{originalEvent:t,first:this.d_first,rows:this.d_rows,sortField:this.d_sortField,sortOrder:this.d_sortOrder,multiSortMeta:this.d_multiSortMeta,filters:this.d_filters}},hasGlobalFilter:function(){return this.filters&&Object.prototype.hasOwnProperty.call(this.filters,"global")},onFilterChange:function(t){this.d_filters=t},onFilterApply:function(){this.d_first=0,this.$emit("update:first",this.d_first),this.$emit("update:filters",this.d_filters),this.lazy&&this.$emit("filter",this.createLazyLoadEvent())},cloneFilters:function(){var t={};return this.filters&&Object.entries(this.filters).forEach(function(i){var a=NE(i,2),l=a[0],c=a[1];t[l]=c.operator?{operator:c.operator,constraints:c.constraints.map(function(y){return rs({},y)})}:rs({},c)}),t},updateReorderableColumns:function(){var t=this,i=[];this.columns.forEach(function(a){return i.push(t.columnProp(a,"columnKey")||t.columnProp(a,"field"))}),this.d_columnOrder=i},createStyleElement:function(){var t;this.styleElement=document.createElement("style"),this.styleElement.type="text/css",Ng(this.styleElement,"nonce",(t=this.$primevue)===null||t===void 0||(t=t.config)===null||t===void 0||(t=t.csp)===null||t===void 0?void 0:t.nonce),document.head.appendChild(this.styleElement)},destroyStyleElement:function(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)},dataToRender:function(t){var i=t||this.processedData;if(i&&this.paginator){var a=this.lazy?0:this.d_first;return i.slice(a,a+this.d_rows)}return i},getVirtualScrollerRef:function(){return this.$refs.virtualScroller},hasSpacerStyle:function(t){return Bn(t)}},computed:{columns:function(){var t=this.d_columns.get(this);if(this.reorderableColumns&&this.d_columnOrder){var i=[],a=f1(this.d_columnOrder),l;try{for(a.s();!(l=a.n()).done;){var c=l.value,y=this.findColumnByKey(t,c);y&&!this.columnProp(y,"hidden")&&i.push(y)}}catch(n){a.e(n)}finally{a.f()}return[].concat(i,ir(t.filter(function(n){return i.indexOf(n)<0})))}return t},columnGroups:function(){return this.d_columnGroups.get(this)},headerColumnGroup:function(){var t,i=this;return(t=this.columnGroups)===null||t===void 0?void 0:t.find(function(a){return i.columnProp(a,"type")==="header"})},footerColumnGroup:function(){var t,i=this;return(t=this.columnGroups)===null||t===void 0?void 0:t.find(function(a){return i.columnProp(a,"type")==="footer"})},hasFilters:function(){return this.filters&&Object.keys(this.filters).length>0&&this.filters.constructor===Object},processedData:function(){var t,i=this.value||[];return!this.lazy&&!((t=this.virtualScrollerOptions)!==null&&t!==void 0&&t.lazy)&&i&&i.length&&(this.hasFilters&&(i=this.filter(i)),this.sorted&&(this.sortMode==="single"?i=this.sortSingle(i):this.sortMode==="multiple"&&(i=this.sortMultiple(i)))),i},totalRecordsLength:function(){if(this.lazy)return this.totalRecords;var t=this.processedData;return t?t.length:0},empty:function(){var t=this.processedData;return!t||t.length===0},paginatorTop:function(){return this.paginator&&(this.paginatorPosition!=="bottom"||this.paginatorPosition==="both")},paginatorBottom:function(){return this.paginator&&(this.paginatorPosition!=="top"||this.paginatorPosition==="both")},sorted:function(){return this.d_sortField||this.d_multiSortMeta&&this.d_multiSortMeta.length>0},allRowsSelected:function(){var t=this;if(this.selectAll!==null)return this.selectAll;var i=this.frozenValue?[].concat(ir(this.frozenValue),ir(this.processedData)):this.processedData;return Bn(i)&&this.selection&&Array.isArray(this.selection)&&i.every(function(a){return t.selection.some(function(l){return t.equals(l,a)})})},attributeSelector:function(){return hr()},groupRowSortField:function(){return this.sortMode==="single"?this.sortField:this.d_groupRowsSortMeta?this.d_groupRowsSortMeta.field:null},headerFilterButtonProps:function(){return rs(rs({filter:{severity:"secondary",text:!0,rounded:!0}},this.filterButtonProps),{},{inline:rs({clear:{severity:"secondary",text:!0,rounded:!0}},this.filterButtonProps.inline),popover:rs({addRule:{severity:"info",text:!0,size:"small"},removeRule:{severity:"danger",text:!0,size:"small"},apply:{size:"small"},clear:{outlined:!0,size:"small"}},this.filterButtonProps.popover)})},rowEditButtonProps:function(){return rs(rs({},{init:{severity:"secondary",text:!0,rounded:!0},save:{severity:"secondary",text:!0,rounded:!0},cancel:{severity:"secondary",text:!0,rounded:!0}}),this.editButtonProps)},virtualScrollerDisabled:function(){return Qr(this.virtualScrollerOptions)||!this.scrollable}},components:{DTPaginator:FI,DTTableHeader:jI,DTTableBody:OI,DTTableFooter:DI,DTVirtualScroller:Y2,ArrowDownIcon:sI,ArrowUpIcon:cI,SpinnerIcon:a0}};function Og(e){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Og(e)}function $E(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),i.push.apply(i,a)}return i}function UE(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?$E(Object(i),!0).forEach(function(a){qre(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):$E(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function qre(e,t,i){return(t=Wre(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Wre(e){var t=Kre(e,"string");return Og(t)=="symbol"?t:t+""}function Kre(e,t){if(Og(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t||"default");if(Og(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zre(e,t,i,a,l,c){var y=Mi("SpinnerIcon"),n=Mi("DTPaginator"),x=Mi("DTTableHeader"),C=Mi("DTTableBody"),k=Mi("DTTableFooter"),O=Mi("DTVirtualScroller");return ge(),Je("div",Ze({class:e.cx("root"),"data-scrollselectors":".p-datatable-wrapper"},e.ptmi("root")),[mi(e.$slots,"default"),e.loading?(ge(),Je("div",Ze({key:0,class:e.cx("mask")},e.ptm("mask")),[e.$slots.loading?mi(e.$slots,"loading",{key:0}):(ge(),Je(Ri,{key:1},[e.$slots.loadingicon?(ge(),Vt(Wi(e.$slots.loadingicon),{key:0,class:Ii(e.cx("loadingIcon"))},null,8,["class"])):e.loadingIcon?(ge(),Je("i",Ze({key:1,class:[e.cx("loadingIcon"),"pi-spin",e.loadingIcon]},e.ptm("loadingIcon")),null,16)):(ge(),Vt(y,Ze({key:2,spin:"",class:e.cx("loadingIcon")},e.ptm("loadingIcon")),null,16,["class"]))],64))],16)):Zt("",!0),e.$slots.header?(ge(),Je("div",Ze({key:1,class:e.cx("header")},e.ptm("header")),[mi(e.$slots,"header")],16)):Zt("",!0),c.paginatorTop?(ge(),Vt(n,{key:2,rows:l.d_rows,first:l.d_first,totalRecords:c.totalRecordsLength,pageLinkSize:e.pageLinkSize,template:e.paginatorTemplate,rowsPerPageOptions:e.rowsPerPageOptions,currentPageReportTemplate:e.currentPageReportTemplate,class:Ii(e.cx("pcPaginator",{position:"top"})),onPage:t[0]||(t[0]=function(B){return c.onPage(B)}),alwaysShow:e.alwaysShowPaginator,unstyled:e.unstyled,pt:e.ptm("pcPaginator")},Ih({_:2},[e.$slots.paginatorstart?{name:"start",fn:ti(function(){return[mi(e.$slots,"paginatorstart")]}),key:"0"}:void 0,e.$slots.paginatorend?{name:"end",fn:ti(function(){return[mi(e.$slots,"paginatorend")]}),key:"1"}:void 0,e.$slots.paginatorfirstpagelinkicon?{name:"firstpagelinkicon",fn:ti(function(B){return[mi(e.$slots,"paginatorfirstpagelinkicon",{class:Ii(B.class)})]}),key:"2"}:void 0,e.$slots.paginatorprevpagelinkicon?{name:"prevpagelinkicon",fn:ti(function(B){return[mi(e.$slots,"paginatorprevpagelinkicon",{class:Ii(B.class)})]}),key:"3"}:void 0,e.$slots.paginatornextpagelinkicon?{name:"nextpagelinkicon",fn:ti(function(B){return[mi(e.$slots,"paginatornextpagelinkicon",{class:Ii(B.class)})]}),key:"4"}:void 0,e.$slots.paginatorlastpagelinkicon?{name:"lastpagelinkicon",fn:ti(function(B){return[mi(e.$slots,"paginatorlastpagelinkicon",{class:Ii(B.class)})]}),key:"5"}:void 0,e.$slots.paginatorjumptopagedropdownicon?{name:"jumptopagedropdownicon",fn:ti(function(B){return[mi(e.$slots,"paginatorjumptopagedropdownicon",{class:Ii(B.class)})]}),key:"6"}:void 0,e.$slots.paginatorrowsperpagedropdownicon?{name:"rowsperpagedropdownicon",fn:ti(function(B){return[mi(e.$slots,"paginatorrowsperpagedropdownicon",{class:Ii(B.class)})]}),key:"7"}:void 0]),1032,["rows","first","totalRecords","pageLinkSize","template","rowsPerPageOptions","currentPageReportTemplate","class","alwaysShow","unstyled","pt"])):Zt("",!0),Se("div",Ze({class:e.cx("tableContainer"),style:[e.sx("tableContainer"),{maxHeight:c.virtualScrollerDisabled?e.scrollHeight:""}]},e.ptm("tableContainer")),[kt(O,Ze({ref:"virtualScroller"},e.virtualScrollerOptions,{items:c.processedData,columns:c.columns,style:e.scrollHeight!=="flex"?{height:e.scrollHeight}:void 0,scrollHeight:e.scrollHeight!=="flex"?void 0:"100%",disabled:c.virtualScrollerDisabled,loaderDisabled:"",inline:"",autoSize:"",showSpacer:!1,pt:e.ptm("virtualScroller")}),{content:ti(function(B){return[Se("table",Ze({ref:"table",role:"table",class:[e.cx("table"),e.tableClass],style:[e.tableStyle,B.spacerStyle]},UE(UE({},e.tableProps),e.ptm("table"))),[kt(x,{columnGroup:c.headerColumnGroup,columns:B.columns,rowGroupMode:e.rowGroupMode,groupRowsBy:e.groupRowsBy,groupRowSortField:c.groupRowSortField,reorderableColumns:e.reorderableColumns,resizableColumns:e.resizableColumns,allRowsSelected:c.allRowsSelected,empty:c.empty,sortMode:e.sortMode,sortField:l.d_sortField,sortOrder:l.d_sortOrder,multiSortMeta:l.d_multiSortMeta,filters:l.d_filters,filtersStore:e.filters,filterDisplay:e.filterDisplay,filterButtonProps:c.headerFilterButtonProps,filterInputProps:e.filterInputProps,first:l.d_first,onColumnClick:t[1]||(t[1]=function(L){return c.onColumnHeaderClick(L)}),onColumnMousedown:t[2]||(t[2]=function(L){return c.onColumnHeaderMouseDown(L)}),onFilterChange:c.onFilterChange,onFilterApply:c.onFilterApply,onColumnDragstart:t[3]||(t[3]=function(L){return c.onColumnHeaderDragStart(L)}),onColumnDragover:t[4]||(t[4]=function(L){return c.onColumnHeaderDragOver(L)}),onColumnDragleave:t[5]||(t[5]=function(L){return c.onColumnHeaderDragLeave(L)}),onColumnDrop:t[6]||(t[6]=function(L){return c.onColumnHeaderDrop(L)}),onColumnResizestart:t[7]||(t[7]=function(L){return c.onColumnResizeStart(L)}),onCheckboxChange:t[8]||(t[8]=function(L){return c.toggleRowsWithCheckbox(L)}),unstyled:e.unstyled,pt:e.pt},null,8,["columnGroup","columns","rowGroupMode","groupRowsBy","groupRowSortField","reorderableColumns","resizableColumns","allRowsSelected","empty","sortMode","sortField","sortOrder","multiSortMeta","filters","filtersStore","filterDisplay","filterButtonProps","filterInputProps","first","onFilterChange","onFilterApply","unstyled","pt"]),e.frozenValue?(ge(),Vt(C,{key:0,ref:"frozenBodyRef",value:e.frozenValue,frozenRow:!0,columns:B.columns,first:l.d_first,dataKey:e.dataKey,selection:e.selection,selectionKeys:l.d_selectionKeys,selectionMode:e.selectionMode,contextMenu:e.contextMenu,contextMenuSelection:e.contextMenuSelection,rowGroupMode:e.rowGroupMode,groupRowsBy:e.groupRowsBy,expandableRowGroups:e.expandableRowGroups,rowClass:e.rowClass,rowStyle:e.rowStyle,editMode:e.editMode,compareSelectionBy:e.compareSelectionBy,scrollable:e.scrollable,expandedRowIcon:e.expandedRowIcon,collapsedRowIcon:e.collapsedRowIcon,expandedRows:e.expandedRows,expandedRowGroups:e.expandedRowGroups,editingRows:e.editingRows,editingRowKeys:l.d_editingRowKeys,templates:e.$slots,editButtonProps:c.rowEditButtonProps,isVirtualScrollerDisabled:!0,onRowgroupToggle:c.toggleRowGroup,onRowClick:t[9]||(t[9]=function(L){return c.onRowClick(L)}),onRowDblclick:t[10]||(t[10]=function(L){return c.onRowDblClick(L)}),onRowRightclick:t[11]||(t[11]=function(L){return c.onRowRightClick(L)}),onRowTouchend:c.onRowTouchEnd,onRowKeydown:c.onRowKeyDown,onRowMousedown:c.onRowMouseDown,onRowDragstart:t[12]||(t[12]=function(L){return c.onRowDragStart(L)}),onRowDragover:t[13]||(t[13]=function(L){return c.onRowDragOver(L)}),onRowDragleave:t[14]||(t[14]=function(L){return c.onRowDragLeave(L)}),onRowDragend:t[15]||(t[15]=function(L){return c.onRowDragEnd(L)}),onRowDrop:t[16]||(t[16]=function(L){return c.onRowDrop(L)}),onRowToggle:t[17]||(t[17]=function(L){return c.toggleRow(L)}),onRadioChange:t[18]||(t[18]=function(L){return c.toggleRowWithRadio(L)}),onCheckboxChange:t[19]||(t[19]=function(L){return c.toggleRowWithCheckbox(L)}),onCellEditInit:t[20]||(t[20]=function(L){return c.onCellEditInit(L)}),onCellEditComplete:t[21]||(t[21]=function(L){return c.onCellEditComplete(L)}),onCellEditCancel:t[22]||(t[22]=function(L){return c.onCellEditCancel(L)}),onRowEditInit:t[23]||(t[23]=function(L){return c.onRowEditInit(L)}),onRowEditSave:t[24]||(t[24]=function(L){return c.onRowEditSave(L)}),onRowEditCancel:t[25]||(t[25]=function(L){return c.onRowEditCancel(L)}),editingMeta:l.d_editingMeta,onEditingMetaChange:c.onEditingMetaChange,unstyled:e.unstyled,pt:e.pt},null,8,["value","columns","first","dataKey","selection","selectionKeys","selectionMode","contextMenu","contextMenuSelection","rowGroupMode","groupRowsBy","expandableRowGroups","rowClass","rowStyle","editMode","compareSelectionBy","scrollable","expandedRowIcon","collapsedRowIcon","expandedRows","expandedRowGroups","editingRows","editingRowKeys","templates","editButtonProps","onRowgroupToggle","onRowTouchend","onRowKeydown","onRowMousedown","editingMeta","onEditingMetaChange","unstyled","pt"])):Zt("",!0),kt(C,{ref:"bodyRef",value:c.dataToRender(B.rows),class:Ii(B.styleClass),columns:B.columns,empty:c.empty,first:l.d_first,dataKey:e.dataKey,selection:e.selection,selectionKeys:l.d_selectionKeys,selectionMode:e.selectionMode,contextMenu:e.contextMenu,contextMenuSelection:e.contextMenuSelection,rowGroupMode:e.rowGroupMode,groupRowsBy:e.groupRowsBy,expandableRowGroups:e.expandableRowGroups,rowClass:e.rowClass,rowStyle:e.rowStyle,editMode:e.editMode,compareSelectionBy:e.compareSelectionBy,scrollable:e.scrollable,expandedRowIcon:e.expandedRowIcon,collapsedRowIcon:e.collapsedRowIcon,expandedRows:e.expandedRows,expandedRowGroups:e.expandedRowGroups,editingRows:e.editingRows,editingRowKeys:l.d_editingRowKeys,templates:e.$slots,editButtonProps:c.rowEditButtonProps,virtualScrollerContentProps:B,isVirtualScrollerDisabled:c.virtualScrollerDisabled,onRowgroupToggle:c.toggleRowGroup,onRowClick:t[26]||(t[26]=function(L){return c.onRowClick(L)}),onRowDblclick:t[27]||(t[27]=function(L){return c.onRowDblClick(L)}),onRowRightclick:t[28]||(t[28]=function(L){return c.onRowRightClick(L)}),onRowTouchend:c.onRowTouchEnd,onRowKeydown:function(V){return c.onRowKeyDown(V,B)},onRowMousedown:c.onRowMouseDown,onRowDragstart:t[29]||(t[29]=function(L){return c.onRowDragStart(L)}),onRowDragover:t[30]||(t[30]=function(L){return c.onRowDragOver(L)}),onRowDragleave:t[31]||(t[31]=function(L){return c.onRowDragLeave(L)}),onRowDragend:t[32]||(t[32]=function(L){return c.onRowDragEnd(L)}),onRowDrop:t[33]||(t[33]=function(L){return c.onRowDrop(L)}),onRowToggle:t[34]||(t[34]=function(L){return c.toggleRow(L)}),onRadioChange:t[35]||(t[35]=function(L){return c.toggleRowWithRadio(L)}),onCheckboxChange:t[36]||(t[36]=function(L){return c.toggleRowWithCheckbox(L)}),onCellEditInit:t[37]||(t[37]=function(L){return c.onCellEditInit(L)}),onCellEditComplete:t[38]||(t[38]=function(L){return c.onCellEditComplete(L)}),onCellEditCancel:t[39]||(t[39]=function(L){return c.onCellEditCancel(L)}),onRowEditInit:t[40]||(t[40]=function(L){return c.onRowEditInit(L)}),onRowEditSave:t[41]||(t[41]=function(L){return c.onRowEditSave(L)}),onRowEditCancel:t[42]||(t[42]=function(L){return c.onRowEditCancel(L)}),editingMeta:l.d_editingMeta,onEditingMetaChange:c.onEditingMetaChange,unstyled:e.unstyled,pt:e.pt},null,8,["value","class","columns","empty","first","dataKey","selection","selectionKeys","selectionMode","contextMenu","contextMenuSelection","rowGroupMode","groupRowsBy","expandableRowGroups","rowClass","rowStyle","editMode","compareSelectionBy","scrollable","expandedRowIcon","collapsedRowIcon","expandedRows","expandedRowGroups","editingRows","editingRowKeys","templates","editButtonProps","virtualScrollerContentProps","isVirtualScrollerDisabled","onRowgroupToggle","onRowTouchend","onRowKeydown","onRowMousedown","editingMeta","onEditingMetaChange","unstyled","pt"]),c.hasSpacerStyle(B.spacerStyle)?(ge(),Je("tbody",Ze({key:1,class:e.cx("virtualScrollerSpacer"),style:{height:"calc(".concat(B.spacerStyle.height," - ").concat(B.rows.length*B.itemSize,"px)")}},e.ptm("virtualScrollerSpacer")),null,16)):Zt("",!0),kt(k,{columnGroup:c.footerColumnGroup,columns:B.columns,pt:e.pt},null,8,["columnGroup","columns","pt"])],16)]}),_:1},16,["items","columns","style","scrollHeight","disabled","pt"])],16),c.paginatorBottom?(ge(),Vt(n,{key:3,rows:l.d_rows,first:l.d_first,totalRecords:c.totalRecordsLength,pageLinkSize:e.pageLinkSize,template:e.paginatorTemplate,rowsPerPageOptions:e.rowsPerPageOptions,currentPageReportTemplate:e.currentPageReportTemplate,class:Ii(e.cx("pcPaginator",{position:"bottom"})),onPage:t[43]||(t[43]=function(B){return c.onPage(B)}),alwaysShow:e.alwaysShowPaginator,unstyled:e.unstyled,pt:e.ptm("pcPaginator")},Ih({_:2},[e.$slots.paginatorstart?{name:"start",fn:ti(function(){return[mi(e.$slots,"paginatorstart")]}),key:"0"}:void 0,e.$slots.paginatorend?{name:"end",fn:ti(function(){return[mi(e.$slots,"paginatorend")]}),key:"1"}:void 0,e.$slots.paginatorfirstpagelinkicon?{name:"firstpagelinkicon",fn:ti(function(B){return[mi(e.$slots,"paginatorfirstpagelinkicon",{class:Ii(B.class)})]}),key:"2"}:void 0,e.$slots.paginatorprevpagelinkicon?{name:"prevpagelinkicon",fn:ti(function(B){return[mi(e.$slots,"paginatorprevpagelinkicon",{class:Ii(B.class)})]}),key:"3"}:void 0,e.$slots.paginatornextpagelinkicon?{name:"nextpagelinkicon",fn:ti(function(B){return[mi(e.$slots,"paginatornextpagelinkicon",{class:Ii(B.class)})]}),key:"4"}:void 0,e.$slots.paginatorlastpagelinkicon?{name:"lastpagelinkicon",fn:ti(function(B){return[mi(e.$slots,"paginatorlastpagelinkicon",{class:Ii(B.class)})]}),key:"5"}:void 0,e.$slots.paginatorjumptopagedropdownicon?{name:"jumptopagedropdownicon",fn:ti(function(B){return[mi(e.$slots,"paginatorjumptopagedropdownicon",{class:Ii(B.class)})]}),key:"6"}:void 0,e.$slots.paginatorrowsperpagedropdownicon?{name:"rowsperpagedropdownicon",fn:ti(function(B){return[mi(e.$slots,"paginatorrowsperpagedropdownicon",{class:Ii(B.class)})]}),key:"7"}:void 0]),1032,["rows","first","totalRecords","pageLinkSize","template","rowsPerPageOptions","currentPageReportTemplate","class","alwaysShow","unstyled","pt"])):Zt("",!0),e.$slots.footer?(ge(),Je("div",Ze({key:4,class:e.cx("footer")},e.ptm("footer")),[mi(e.$slots,"footer")],16)):Zt("",!0),Se("div",Ze({ref:"resizeHelper",class:e.cx("columnResizeIndicator"),style:{display:"none"}},e.ptm("columnResizeIndicator")),null,16),e.reorderableColumns?(ge(),Je("span",Ze({key:5,ref:"reorderIndicatorUp",class:e.cx("rowReorderIndicatorUp"),style:{position:"absolute",display:"none"}},e.ptm("rowReorderIndicatorUp")),[(ge(),Vt(Wi(e.$slots.rowreorderindicatorupicon||e.$slots.reorderindicatorupicon||"ArrowDownIcon")))],16)):Zt("",!0),e.reorderableColumns?(ge(),Je("span",Ze({key:6,ref:"reorderIndicatorDown",class:e.cx("rowReorderIndicatorDown"),style:{position:"absolute",display:"none"}},e.ptm("rowReorderIndicatorDown")),[(ge(),Vt(Wi(e.$slots.rowreorderindicatordownicon||e.$slots.reorderindicatordownicon||"ArrowUpIcon")))],16)):Zt("",!0)],16)}n_.render=Zre;var Qre=In.extend({name:"column"}),Xre={name:"BaseColumn",extends:Tn,props:{columnKey:{type:null,default:null},field:{type:[String,Function],default:null},sortField:{type:[String,Function],default:null},filterField:{type:[String,Function],default:null},dataType:{type:String,default:"text"},sortable:{type:Boolean,default:!1},header:{type:null,default:null},footer:{type:null,default:null},style:{type:null,default:null},class:{type:String,default:null},headerStyle:{type:null,default:null},headerClass:{type:String,default:null},bodyStyle:{type:null,default:null},bodyClass:{type:String,default:null},footerStyle:{type:null,default:null},footerClass:{type:String,default:null},showFilterMenu:{type:Boolean,default:!0},showFilterOperator:{type:Boolean,default:!0},showClearButton:{type:Boolean,default:!0},showApplyButton:{type:Boolean,default:!0},showFilterMatchModes:{type:Boolean,default:!0},showAddButton:{type:Boolean,default:!0},filterMatchModeOptions:{type:Array,default:null},maxConstraints:{type:Number,default:2},excludeGlobalFilter:{type:Boolean,default:!1},filterHeaderClass:{type:String,default:null},filterHeaderStyle:{type:null,default:null},filterMenuClass:{type:String,default:null},filterMenuStyle:{type:null,default:null},selectionMode:{type:String,default:null},expander:{type:Boolean,default:!1},colspan:{type:Number,default:null},rowspan:{type:Number,default:null},rowReorder:{type:Boolean,default:!1},rowReorderIcon:{type:String,default:void 0},reorderableColumn:{type:Boolean,default:!0},rowEditor:{type:Boolean,default:!1},frozen:{type:Boolean,default:!1},alignFrozen:{type:String,default:"left"},exportable:{type:Boolean,default:!0},exportHeader:{type:String,default:null},exportFooter:{type:String,default:null},filterMatchMode:{type:String,default:null},hidden:{type:Boolean,default:!1}},style:Qre,provide:function(){return{$pcColumn:this,$parentInstance:this}}},En={name:"Column",extends:Xre,inheritAttrs:!1,inject:["$columns"],mounted:function(){var t;(t=this.$columns)===null||t===void 0||t.add(this.$)},unmounted:function(){var t;(t=this.$columns)===null||t===void 0||t.delete(this.$)},render:function(){return null}};const Jre={class:"section-summary-card box-shadow-2"},Yre={class:"grid-container-interior"},eae={class:"col-12-sm col-6-md interior"},tae={class:"submetric-value"},iae={class:"col-12-sm col-6-md interior"},nae={class:"ch-popover"},oae=["href"],rae={class:"species-common"},aae={class:"species-latin"},sae={class:"acres"},cae=to({__name:"SummarySectionCobenefits",props:{metrics:{}},setup(e){const t=e;Li(()=>!t.metrics.criticalHabitat>0?0:t.metrics.criticalHabitat.length),ai(!1),ai(!1);const i=ai(null),a=()=>{i.value.hide(event),Fl(()=>{i.value.show(event)})};return(l,c)=>(ge(),Je(Ri,null,[Se("div",Jre,[c[2]||(c[2]=Se("h3",{class:"cobenefits-background"},[Ei(" Biodiversity "),Se("span",{class:"amp"},"&"),Ei(" Cobenefits ")],-1)),Se("div",Yre,[Se("div",eae,[kt(Ms,{title:"Resilient & Connected Lands",metadata_id:"rcn_percent",value:`${l.metrics.rcnPercent}%`,state_rank:"35",state_total:"100",content:"Lorem ipsum dolor",map_layer_name:"cob_rcn_1"},{details:ti(()=>[Se("span",tae,li(l.metrics.rcnAcres.string)+" acres",1)]),_:1},8,["value"]),kt(Ms,{title:"Threatened & Endangered Species",metadata_id:"critical_habitat_species",value:l.metrics.criticalHabitatNumber,content:"Lorem ipsum dolor"},Ih({_:2},[l.metrics.criticalHabitatNumber>0?{name:"details",fn:ti(()=>[Se("span",{class:"submetric-value afc-calc ch-span",onClick:c[0]||(c[0]=y=>a())},c[1]||(c[1]=[Se("i",{class:"fa-light fa-list-dropdown change-map-layer-button ch-icon"},null,-1),Ei(" View Species ")]))]),key:"0"}:void 0]),1032,["value"]),kt(Ms,{title:"Water Provision",metadata_id:"water_provision",value:l.metrics.waterProvisionClass,state_rank:"35",state_total:"100",content:"Lorem ipsum dolor",map_layer_name:"cob_f2f_imp_r"},null,8,["value"])]),Se("div",iae,[kt(Ms,{title:"Terrestrial Resilience",metadata_id:"terrestrial_resilience",state_rank:"35",state_total:"100",content:"Lorem ipsum dolor"},{details:ti(()=>[kt(aI,{data:l.metrics.rcnClasses},null,8,["data"])]),_:1})])])]),kt(dt(Dh),{ref_key:"chPopover",ref:i},{default:ti(()=>[Se("div",nae,[c[3]||(c[3]=Se("h4",null,"Critical Habitat Species",-1)),kt(dt(n_),{value:l.metrics.criticalHabitat,size:"small",id:"species-list-table"},{default:ti(()=>[kt(dt(En),{header:"Name"},{body:ti(y=>[Se("a",{href:`https://ecos.fws.gov/ecp/species/${y.data.spcode}`,target:"_blank"},[Se("span",rae,li(y.data.comname),1)],8,oae),Se("span",aae,"("+li(y.data.sciname)+")",1)]),_:1}),kt(dt(En),{field:"area_ac",header:"Acres",class:"acres"},{body:ti(y=>[Se("span",sae,li(dt(Yn)(y.data.area_ac).string),1)]),_:1})]),_:1},8,["value"])])]),_:1},512)],64))}}),zI=Vo(cae,[["__scopeId","data-v-11909800"]]),lae={class:"section-summary-card box-shadow-2"},dae={class:"grid-container-interior"},uae={class:"col-6-sm col-6-md interior"},hae={class:"submetric-value"},fae={class:"col-6-sm col-6-md interior"},pae={key:0},mae=["innerHTML"],gae=to({__name:"SummarySectionThreats",props:{metrics:{}},setup(e){const t=e;return Li(()=>{const i=t.metrics.deforestationDrivers,a=i.map(c=>c.label),l=i.map(c=>c.percent);return{chartData:{labels:a,datasets:[{data:l,backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF"]}]},chartOptions:{maintainAspectRaio:!0,plugins:{legend:{position:"bottom",display:!1,align:"start",labels:{boxWidth:50,padding:30}}}}}}),Li(()=>{const i=t.metrics.landOwnership,a=i.map(c=>c.label),l=i.map(c=>c.percent);return{chartData:{labels:a,datasets:[{data:l,backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF"]}]},chartOptions:{maintainAspectRaio:!1,plugins:{legend:{position:"bottom",display:!1,align:"start",labels:{boxWidth:30,padding:30}}}}}}),(i,a)=>(ge(),Je("div",lae,[a[1]||(a[1]=Se("h3",{class:"threats-background"},[Ei(" Conversion Threats "),Se("span",{class:"amp"},"&"),Ei(" Protection ")],-1)),Se("div",dae,[Se("div",uae,[kt(Ms,{title:"Yearly Forest Conversion (mean)",metadata_id:"historic_conversion",value:`${i.metrics.historicConversion.mean}%`,state_rank:"15",state_total:"100",content:"Lorem ipsum dolor sit amet",map_layer_name:"t_conv_past_all_mean_p"},{details:ti(()=>[Se("span",hae,li(i.metrics.historicConversion.min)+"% – "+li(i.metrics.historicConversion.max)+"% range, 1990-2017",1)]),_:1},8,["value"]),kt(Ms,{title:"Conversion Pressure Index",metadata_id:"conversion_pressure_index",value:i.metrics.conversionPressureClass,state_rank:"15",state_total:"100",content:"Lorem ipsum dolor sit amet",map_layer_name:"t_cpi_i"},{details:ti(()=>a[0]||(a[0]=[])),_:1},8,["value"])]),Se("div",fae,[kt(Ms,{title:"Private Unprotected %",metadata_id:"private_unprotected",value:`${i.metrics.privateUnprotected.percent}%`,state_rank:"15",state_total:"100",content:"Lorem ipsum dolor sit amet"},null,8,["value"]),kt(Ms,{title:"Land Management",metadata_id:"land_management",content:"Lorem ipsum dolor sit amet"},{details:ti(()=>[kt(aI,{data:i.metrics.landOwnership},null,8,["data"])]),_:1})])]),i.metrics.megaregion?(ge(),Je("div",pae,[Se("p",{innerHTML:i.metrics.megaregion.string},null,8,mae)])):Zt("",!0)]))}}),VI=Vo(gae,[["__scopeId","data-v-02ffe572"]]),_ae="/assets/tnc-logo-primary-registered-dark-text-awHkP4PW.svg",yae="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAACiCAMAAAAtIEIjAAABVlBMVEX///8AAAA5mEdQt0gUr+YJltQjfUaKxk9uzfQAdLsAZkS62Hat4PkFUJ5GRkbt7e0XFxfz8/OUlJTT09PLy8ugoKDi4uI+Pj4PDw8wMDBra2tzc3NeXl68vLxYWFivr6+Kioo3NzfG6vtQhbv7/fdJSUkpKSkcHByCgoKYmJhQUFDw8PDCwsLc3Nz2/P+Mr9Orq6ua3fVWt+J3xegVgMGq0emF1fbY8v252e1jqtYaX6YmZ6vk7PXo9/5BjXTL4pe/2dHu9dyQvqJjo3yz2o14uYGHzoKW0u3N6fY7veses+cpn9eR2fc8lctmvuUoisZ/u9/I2OptmcfZ5fE9eLSivtuSvrDi78Woy8AzhWobd1jU5uD0+eh6sJ7b67bE3olZnIbc7LpZnXSn1XpDkGLD4qWmyrSazmeCtpa73MCe04JRo2Btw2Zeo3Sp06+z4LDN5dGr3adBj7o2AAALMUlEQVR4nO2b6VvbxhaHpUBsSI0teZUNxjYBG7wVEgJZ6pY0JJCENF3uvVnbtAkJ4UIT7v//5WpGs5wZSbawB8n08e9DHiNrjs47Z5nR+ImmXZy629tLS4mNjb29xO2l/e3uBT7qgtRd2ph5PE10lWj6p739S8TSTcxMQ12FupG4FCQ2w5PpaX+MS0HS25IZPDBs3exF7WkfeUJ4Ylx9OrYgXW8Ib4yxBdnfeuxN4YNx9enmrah9dqm7MTOzdT6MZ7Ozd8YsIPtbM0jnSqpZW+MVkA0M4RcOb4zns1h3xqb5dg9mZvpx+AcD6dmYJFZva4ZJ6lVPHttoB3s3f7px46lc3xRj9vl3URMgQQoYjpmtJWGee4mbN4T6Ztrcj8p3ru0ZQaTpPt7wTPnu3g0ppRyO22F7LasnUuBwPDnok+69m0+lYIxBPISMIuVxMKD3dPeeisFAHJHWR9dNEWT32v1Zxph9HmXfPZAhtraDDdx/LnM8i44j4QpF4KHugNy5QEf7alumCBgKR7c2JY6I2pVcGFvnXI73JY7NaNIqMRqFpv0mFUgkaSWl1NYQc9mTOKJIqw0RY6gN3m9iXkXQrbYTCVgb56purn1YG8/nvlXrYwAlkBjF0JuJWzwUd+fm7oYdjm2MkTg473rh0h2yis/OIYUdjgTV1pDlTdXddPLJUcjh2E5wDV0Yjm7Pbj6bYwo3HAmopdFs/XyXU8zdU+NfMPUEjBET4bs5qF/UeBhI+5Bi5FeeXyHGryr8CyiVwZDCcVeFf8HUUxoMKRzhZdWS0mBo2i/RZJXCNuXoXhS9qgsxRlozqL6F4QjrdKGnOKfsnS7ECGu7DpfwEXZTUHAFDGshhxWupDQ07TrAuK7G5EApLw2xOMJaOSCGolN9oeWGs8sVGpUqm+G3qovA0MJfx3sXgXEvUgxFjUrT/gUw/q3KaF/1lrgUNSq7VV3nCgfjnyKTS1lvXAZSZbO//nON63tVRn/4huuFKqN99RJgvFJl9B3AuK/KaF/tAIzXqoyGj/EGYFxTZRRQfPNWldG+akGMlhqbyxAjpBqHGC/VmLwPMdSYHKjXAON3NSb/ABTv1JgcqD/Vd1zYbz+qMTlQcOFQVOMwp8JZNsSOe21HhUWhNMJpVJpY43+qMPgxggrXtFdwAVSxrYIUPyiwF0y/K265LyDGX6PbCyhhHVfQq2CfCq80xKwavcjvR5NTUssdORxCMMJqt0hCVo0aDiEYYW2oHH0PKN6/H83Wh92IcgqugK8OY7EfRzH1MR4/4m8b4bxrMJEif/0+hvRmeEP340gf3kURDBoOByIWOxze0FHc0W4UwcDheH8Yo/o8rJndONXRbvjBsMPxikPEhi6Pj3Ggo3ehB0PTHsQEfRrGxl9xQR9U+xhALREjtnN+Ey9EiniI+xCuT7ER4yHFIh7eplCQlFbnrY+PEkUUKYUkp1XswTl2Esu7EkU0KYX0UuY43Ak69P6RTBHmnlDSjzJH7HOggCzLCRWPh3Ue4qnPLo4Hx4NHHf93vCjcZR47uXIyAOT4dOpUptgNx1tfLb8XKf6+Yuvki29qvf16OmXrkdSkQn3L8JIpcBxeIXroRbL89dEU0ZhRaGJe/X2F6+Thl7O3xMHlt2dfH51OccFw7I4DBazzwytunZycQv+peMONuLq5PvH69pIHxBSv8j+i9p7r7NCVUoMwpj5giKMIVz23zAf+wfDBOB2jsuDaOfQLhg+GXeXjFQpH5mcfCj+MqbELhaOzh+fBeHQWtb++8ga5ZBBIXiCXDgJp+VgmkRmOx7MmXLJJTrwxTh99vSQMRMtnXygLJfjf2eVCAFp+c3Z2zHaIE0000UQTTTTRRBNNNNFEE000ujKrNUO3iqU2vNhqJrFWSuvsWopcwyqRi9YKGNW2B2TcTzBXa5beKFTz7Aq1vrAu3dmouodXSnVLN4rzzLIJHVnAlzpNnaqQ5UM77Kpeo8OzOpBBLOr6Ih9Vtb/IudxoN+igkkkmhNspZuGtVd0wpdHlOrt3kcxDHjqi45sseGXNC0PXs30x9IX+GHnwiHkXhq6Xwb0N6APWqvDQrDdG2flk1Q3nQxpiWIZhYBfqJsOwikSLHIM654OBwt1YXSshUxmAQa03+H9nyaGHCYNLjn+FZg34l4eOJOlELSLjnXlhahBGE30oo4yoMowFTRTG0Ff7YdjPsFLo1qpFZwlhJNGHdh3OgobzB5ZLDkOk0TS25tmdCAOW5CK6iT4XpzCdC4ahte1PtQEYhNMTo0NdBmIYWgbOfwXbqvH7Wmia67Q2MzTfJAxkAzw2C+aCY6DZNAZhECteGDgDUn4YqBoserng2OItExdGVpMlYaxyX+W/OQZytNEXw2L4nkmFMqXY8cOwOAayXxBcElPOD6MgsWKfZIwq+4Qfk3OUAkMK6Ba94ofhpEoJgnCMNTSeXEW9oFPgjcDpSOIEsOtF4kheDCjjSjGMZCaTKZeoi2LDrUIMDbUHq+23bjjdRm/yhRFh1Gzr7XmQ1s7MVUDIUVkabgqh4drB0uX2tsimQlg3SHP1x9AWEEfWB0NLk0G0oYnrBk2PBacsUCKRZa7ictATw5Bhk8wExCimBmJoK4gj44OhdUrCfAgYdbA0FzUnzUg9BIxGUZdSDxWrJmOwOUQYK1lHdMtAMcwaemTJB8N+8rwF6AHGPLU0T8aa9uRaJnci72HMvlzjjszrYiPI6azekIViOp1eq/A9jl+nwkNSdOvjjWF3d3QD8Q9h1LF1toKbqGVlOrZKHLehB+lUKGigS+M1Pc0xmtLovhhavtEfw8nJLMOQlsQqLBfS4Z3mMHDd0FAmNFh7Q32KbjDPj6FlLB8MOuPo+7IfRkPAIFZwVrFVPE+3KTIGDodexa7nsBd0vR8CQ8tanhhZssHG0cj4YOREClzsmpP2ZE9lrlq0TGUM0gqtwmLSmUrmpR9GfYFo1Y3h7JddGCjki7l22uDeuTFQ4bQ7REkWNtw7wQ43xzAa1BFcO2JK8rn2w2AC7xsMA8+p156KCWzUBYyK8Lgy/7q1AodbZbdJp7WClysDvLEMh4FmxRWNMkt7iya3CwOVJXiJLnJircrfuuh7qAeGPYUr+MZCGr4+phqGIbe6vH2NiXpRN4wSuGdel96uEeoaTg1rge1zTWkU+htWXdl+EpuO1CpOKKtZoVda0JEicDDjscgMJ48TBezLSE8wFTo40UQTTTTRRIPV4kdMfLeQgudO+TZY8lJEdHNupkzpm5T8TYtfkQa3pL+HVwe8frGd4xrYAFXQjskqkUV2ge10yMsO21HzI2WyW7HIXizDnpBktzhgfOs08hKegRg62Qel+VlvhTyoKGO06ZikjJGj39ToE4jZguT2hWGQzwCjbm9bO+sF6ls7na46L/EtCSNjX7P0hv1v3g+jnE7br0lJ+xVdoxiFNJL0W8HoGHpVxDDJdh5Wh/DDjbAht+AxsxtDw+8CfF+dh9+MJhkDv+WCaFi64T5mHneMWgOnNsBYQG9bwu9cSjEWM7Y8TnFHw2h2DHSgCzBa6EXNqF4UhqIKlzHQ6YdVBhiaiY8DizyzLgUGet23FoXfHVMIhL+PK8VIrtuqaCPLhaGt4wkqCzdZ/AQgMEaDHA1W+Ll2WCWOm2vahYEKnZ0kBMVoEiNNaCxEDLwg0yevNnLoYAOctAbFsKNg5PIZewYawml3aBho8unyh37fLFjw59OgGPg3ITlBvUtc9WaEHsA12aOdk1+9xh8UGMN0folvwPy8KAyzUmGrT7nC6niNGTbbuXROOLuvVMDWpFzJ+vyB/Cyv5drC2gkfhywR9XXx/+OPeg/LSUFvAAAAAElFTkSuQmCC",bae="/assets/clark-university-BM9Fs1LN.svg",vae="/assets/tpl-logo-DWIO-Vxh.png",xae="/assets/american-forests-BUPwka_6.png",wae={class:"section-summary-card box-shadow-2"},Fae=to({__name:"AppOverview",setup(e){const t=zP(),i=()=>{t.initializeTour(),t.startTour()};return(a,l)=>(ge(),Je("div",wae,[Se("div",{class:"home-overview"},[l[2]||(l[2]=yL('<h1 data-v-fe1b1310>Unlock the Benefits of Private Forest Protection</h1><p data-v-fe1b1310> The United States has more than 800 million acres of forest land, most of which is privately owned. These private lands contribute to a number of benefits, including carbon storage, clean water, important habitat, and recreational opportunities. </p><p data-v-fe1b1310> The Avoided Forest Conversion Explorer helps you explore good locations to protect forests, including: </p><ul data-v-fe1b1310><li data-v-fe1b1310><span class="home-category opportunity" data-v-fe1b1310>Opportunity</span> — Assess acres of unsecured private forests; their estimated of cost of acquisition; eligibility for Forest Legacy grants </li><li data-v-fe1b1310><span class="home-category carbon" data-v-fe1b1310>Forest Carbon</span> — Quantify standing carbon stocks and sequestration to 2050 with estimates of carbon emissions avoided through land conversion </li><li data-v-fe1b1310><span class="home-category cobenefits" data-v-fe1b1310>Co-benefits</span> — Identify forests which support resilient and connected lands, water quality, and important habitat </li><li data-v-fe1b1310><span class="home-category threats" data-v-fe1b1310>Risk</span> — Find the forests most at risk based on past and projected rates of forest conversion </li><li data-v-fe1b1310><span class="home-category opportunity" data-v-fe1b1310>Protection</span> — Distinguish between forests that are already protected versus unsecured forests not currently under easement or conservation ownership. </li></ul>',4)),Se("p",null,[l[0]||(l[0]=Ei(" Get started by clicking the map to explore summaries by county or watershed, bring your own data for a custom analysis, or ")),Se("span",{class:"tour-launch",onClick:i},"take an interactive tour"),l[1]||(l[1]=Ei(" to understand what you can do with the Avoided Forest Conversion Explorer. "))]),l[3]||(l[3]=Se("hr",null,null,-1)),l[4]||(l[4]=Se("h2",null,"Brought to you by",-1)),l[5]||(l[5]=Se("div",{class:"logos"},[Se("span",{class:"org-logo"},[Se("a",{href:"https://www.nature.org",_target:"blank"},[Se("img",{src:_ae,class:"logo"})])]),Se("span",{class:"org-logo"},[Se("a",{href:"https://www.openspaceinstitute.org/",_target:"blank"},[Se("img",{src:yae,class:"logo",style:{width:"150px"}})])]),Se("span",{class:"org-logo"},[Se("a",{href:"https://www.clarku.edu/",_target:"blank"},[Se("img",{src:bae,class:"logo"})])]),Se("span",{class:"org-logo"},[Se("a",{href:"https://www.tpl.org/",_target:"blank"},[Se("img",{src:vae,class:"logo"})])]),Se("span",{class:"org-logo"},[Se("a",{href:"https://www.americanforests.org/",_target:"blank"},[Se("img",{src:xae,class:"logo"})])])],-1)),l[6]||(l[6]=Se("p",null,[Se("a",{href:"https://www.nature.org/en-us/about-us/who-we-are/accountability/terms-of-use/",target:"_blank",class:"terms"},"Terms of Use"),Se("a",{href:"https://www.nature.org/en-us/about-us/who-we-are/accountability/privacy-policy/",target:"_blank",class:"terms"},"Privacy Statement")],-1))])]))}}),Cae=Vo(Fae,[["__scopeId","data-v-fe1b1310"]]),Eae={key:0},Sae={key:1},Tae=to({__name:"TheMapViewExplorePane",setup(e){const t=fc();vr();const i=mo(),a=Li(()=>t.activeArea);Li(()=>i.addAreasMode);const l=Li(()=>t.locationInfo);return Li(()=>t.opportunities),Li(()=>t.cobenefits),Li(()=>t.threats),(c,y)=>a.value?(ge(),Je("div",Eae,[kt(Bte,{locationInfo:l.value},null,8,["locationInfo"]),kt(YP,{metrics:a.value.data_opportunities},null,8,["metrics"]),kt(rI,{metrics:a.value.data_opportunities,conversionRate:a.value.data_opportunities.conversionRate,commitmentPeriod:dt(t).commitmentPeriod},null,8,["metrics","conversionRate","commitmentPeriod"]),kt(zI,{metrics:a.value.data_cobenefits},null,8,["metrics"]),kt(VI,{metrics:a.value.data_threats},null,8,["metrics"])])):(ge(),Je("div",Sae,[kt(Cae)]))}}),Rae={class:"area-inputs"},Pae={class:"area-input"},Iae=to({__name:"TheAddAreasByDrawPane",setup(e){mo();const t=vr(),i=wr(),a=Li(()=>({disabled:!i.drawEnabled||t.activeAnalysisArea,active:i.drawActive,hidden:i.drawState==="drawing"})),l=Li(()=>({disabled:!t.activeAnalysisArea,active:i.drawState==="analyzing",hidden:i.drawState==="disabled"})),c=Li(()=>({disabled:i.drawState!="drawing",active:i.drawState==="drawing",hidden:i.drawState!="drawing"})),y=C=>{if(i.drawActive){i.drawActive=!1,i.drawState="deleting",t.showDeleteDialog=!1;return}else i.drawState="drawing",i.drawActive=!0},n=()=>{i.cancelDraw(),t.activeAnalysisArea=null,i.drawState="disabled",i.drawActive=!1},x=C=>{console.log("analyzeDrawnArea",t.showAnalyzeDialog),t.showAnalyzeDialog=!1,console.log("dataAnalysisStore.showAnalyzeDialog",t.showAnalyzeDialog);const k=t.commitDrawnAreaToAnalysis();t.initAnalysis("draw",k),t.activeAnalysisArea=null,i.drawState="disabled",i.drawActive=!1};return(C,k)=>{const O=Nr("tooltip");return ge(),Je(Ri,null,[k[10]||(k[10]=Se("p",null,[Se("strong",null,"Draw Area"),Ei(" — Zoom in to the map until the draw button is enabled. To draw a polygon, click the draw area button, then click on each of the vertices of the polygon and double click when done. ")],-1)),a.value.disabled?Zt("",!0):Qo((ge(),Vt(dt(rc),{key:0,label:"Draw Area",onClick:y,class:Ii(["draw-button draw-button-activate button",a.value])},{default:ti(()=>k[3]||(k[3]=[Se("i",{class:"fa-light fa-vector-square draw-icon-secondary"},null,-1),Ei(" Draw Area ")])),_:1},8,["class"])),[[O,"Draw Area"]]),a.value.disabled?Qo((ge(),Vt(dt(rc),{key:1,label:"Draw Area",class:Ii(["draw-button draw-button-activate button",a.value])},{default:ti(()=>k[4]||(k[4]=[Se("i",{class:"fa-light fa-vector-square draw-icon-secondary"},null,-1),Ei(" Draw Area ")])),_:1},8,["class"])),[[O,"Disabled"]]):Zt("",!0),Qo((ge(),Vt(dt(rc),{class:Ii(["draw-button button secondary cancel",c.value]),onClick:n},{default:ti(()=>k[5]||(k[5]=[Se("i",{class:"fa-regular fa-xmark draw-icon-secondary"},null,-1),Ei(" Cancel ")])),_:1},8,["class"])),[[O,"Cancel Draw Shape"]]),l.value.disabled!=!0?Qo((ge(),Vt(dt(rc),{key:2,class:Ii(["draw-button",l.value]),onClick:k[0]||(k[0]=B=>dt(t).showAnalyzeDialog=!0)},{default:ti(()=>k[6]||(k[6]=[Se("i",{class:"fa-light fa-person-running-fast draw-icon-secondary"},null,-1),Ei(" Run Analysis ")])),_:1},8,["class"])),[[O,"Run Analysis"]]):Zt("",!0),l.value.disabled?Qo((ge(),Vt(dt(rc),{key:3,class:Ii(["draw-button",l.value])},{default:ti(()=>k[7]||(k[7]=[Se("i",{class:"fa-light fa-person-running-fast draw-icon-secondary"},null,-1),Ei(" Run Analysis ")])),_:1},8,["class"])),[[O,"Run Analysis Disabled"]]):Zt("",!0),kt(dt(Jp),{visible:dt(t).showAnalyzeDialog,"onUpdate:visible":k[2]||(k[2]=B=>dt(t).showAnalyzeDialog=B),modal:"",header:"Analyze Area",style:{width:"400px"}},{footer:ti(()=>[Se("div",{class:"p-button p-component nb-primary-button",onClick:x},k[8]||(k[8]=[Se("span",{class:"save-project-label"},"Run Analysis",-1)]))]),default:ti(()=>[k[9]||(k[9]=Se("p",{class:"p-modal"},"Optional: Give the area a name",-1)),Se("div",Rae,[Se("div",Pae,[kt(dt(t_),{id:"area-name",class:"full-width area-name",modelValue:dt(t).activeAnalysisArea.area_name,"onUpdate:modelValue":k[1]||(k[1]=B=>dt(t).activeAnalysisArea.area_name=B)},null,8,["modelValue"])])])]),_:1},8,["visible"])],64)}}}),kae=Vo(Iae,[["__scopeId","data-v-2f2b089e"]]),Mae={key:0},Aae={class:"summary-details"},Oae={class:"summary-detail"},Lae={class:"summary-detail"},Dae={class:"summary-detail"},Bae={key:0},jae={key:1},zae={key:0},Vae={key:1},Nae={key:2,class:"error"},$ae=to({__name:"TheAnalyzeFileUploaderModal",setup(e){const t=vr();wr();const i=Y6();ai(null);const a=Li(()=>i.activeGeojson?i.activeGeojson.geojson.features.length>1?(console.log("multiple"),"multiple"):"single":"error"),l=Li(()=>a.value=="multiple"?{"max-width":"95vw",background:"#ffffff"}:a.value=="single"?{width:"500px","max-height":"580px",background:"#ffffff"}:{width:"60vw","max-height":"780px",background:"#ffffff"}),c=Li(()=>{if(i.activeGeojson){let k=i.activeGeojson.name.split(".");return k.pop(),`Analyze File ${k}`}else return"Error Uploading Area"}),y=async()=>{console.log("analyzeUpload");const C=await i.analyzeUpload();console.log("prepped data",C),t.mergeUploadsForAnalysis(C),t.initAnalysis("upload"),i.showUploadModal=!1},n=()=>{console.log("cancelUpload"),i.showUploadModal=!1},x=Li(()=>i.activeGeojson&&i.activeGeojson.geojson.features.length>1&&i.activeGeojson.selected_features.length>0?!1:!(i.activeGeojson&&i.activeGeojson.geojson.features.length==1));return(C,k)=>(ge(),Vt(dt(Jp),{visible:dt(i).showUploadModal,"onUpdate:visible":k[3]||(k[3]=O=>dt(i).showUploadModal=O),header:c.value,style:Mr(l.value),closable:!1},{footer:ti(()=>[kt(dt(rc),{label:"Cancel",onClick:n,text:"",class:"left-button nb-secondary-button"}),dt(i).activeGeojson?(ge(),Vt(dt(rc),{key:0,onClick:y,autofocus:"",class:"nb-primary-button",disabled:x.value},{default:ti(()=>k[9]||(k[9]=[Ei(" Analyze Areas ")])),_:1},8,["disabled"])):Zt("",!0)]),default:ti(()=>[a.value==="multiple"?(ge(),Je("div",Mae,[k[5]||(k[5]=Se("p",null," Select field to use for area name or let the application auto-assign a name. Use the checkbox to select areas for analysis ",-1)),kt(dt(lu),{modelValue:dt(i).activeGeojson.name_field,"onUpdate:modelValue":k[0]||(k[0]=O=>dt(i).activeGeojson.name_field=O),options:dt(i).activeFieldNames,optionLabel:"label",optionValue:"value",placeholder:"Select field"},null,8,["modelValue","options"]),dt(i).activeGeojson.geojson.features.length>1?(ge(),Vt(dt(n_),{key:0,value:dt(i).activeGeojson.geojson.features,selection:dt(i).activeGeojson.selected_features,"onUpdate:selection":k[1]||(k[1]=O=>dt(i).activeGeojson.selected_features=O),paginator:"",rows:5,class:"upload-table"},{default:ti(()=>[kt(dt(En),{selectionMode:"multiple",headerStyle:"width: 3rem"}),(ge(!0),Je(Ri,null,wo(dt(i).activeGeojson.fields,O=>(ge(),Vt(dt(En),{key:`properties.${O}`,field:`properties.${O}`,header:`${O}`,sortable:""},null,8,["field","header"]))),128))]),_:1},8,["value","selection"])):Zt("",!0),Se("div",null,[Se("div",null,[Se("p",Aae,[Se("span",Oae,li(dt(i).selectedAreasSummary.area_count)+" selected areas",1),Se("span",Lae,li(dt(i).selectedAreasSummary.area_ac.toLocaleString())+" total ac",1),Se("span",Dae,li(dt(i).selectedAreasSummary.file_size_kb.toLocaleString())+" kb file size",1)])]),C.isSelectionExceeded?(ge(),Je("div",Bae,k[4]||(k[4]=[Se("p",null,"Selection limit exceeded!",-1)]))):Zt("",!0)])])):a.value==="single"?(ge(),Je("div",jae,[dt(i).activeGeojson.fields.length>1?(ge(),Je("div",zae,[k[6]||(k[6]=Se("p",null," Select field to use for area name or let the application auto-assign a name. ",-1)),kt(dt(lu),{modelValue:dt(i).activeGeojson.name_field,"onUpdate:modelValue":k[2]||(k[2]=O=>dt(i).activeGeojson.name_field=O),options:dt(i).activeFieldNames,optionLabel:"label",optionValue:"value",placeholder:"Select field"},null,8,["modelValue","options"])])):(ge(),Je("div",Vae,k[7]||(k[7]=[Se("p",null," No fields found in this file. The application will auto-assign a name. ",-1)])))])):a.value==="error"?(ge(),Je("div",Nae,k[8]||(k[8]=[Se("p",null,"There was an error processing your file.",-1)]))):Zt("",!0)]),_:1},8,["visible","header","style"]))}}),Uae=Vo($ae,[["__scopeId","data-v-19693b04"]]),Gae={key:0,id:"upload-msg-center"},Hae=to({__name:"TheAddAreasByUploadPane",setup(e){const t=wr();mo();const i=Y6();_1();const a=ai(null);ai(null);const l=()=>{a.value.click()},c=async(y,n)=>{let x;n==="drop"?(console.log("drop"),y.preventDefault(),x=y.dataTransfer.files[0],console.log("FILE IS HERE drop",y)):(console.log("change"),x=y.target.files[0],console.log("FILE IS HERE change",y.target));const C=x.name.split(".").pop();if(C==="zip")console.log("zip file"),await i.processShapefile(x);else if(C==="geojson"||C==="json")await i.processGeojson(x);else{i.clearUpload();return}};return(y,n)=>(ge(),Je(Ri,null,[n[5]||(n[5]=Se("p",null,[Se("strong",null,"Upload Areas"),Ei(" — Zipped shapefiles (.zip) or geojson files (.geojson or .json) accepted. "),Se("strong",null,"Max file size 5 MB.")],-1)),Se("div",{class:"file-upload",onDragover:n[1]||(n[1]=I2(()=>{},["prevent"])),onDrop:n[2]||(n[2]=x=>c(x,"drop")),onClick:l},[Se("input",{class:"file-upload-input",type:"file",ref_key:"fileInput",ref:a,onChange:n[0]||(n[0]=x=>c(x,"change"))},null,544),n[3]||(n[3]=Se("i",{class:"fa-solid fa-file-arrow-up upload-icon"},null,-1)),n[4]||(n[4]=Se("div",{class:"drop-text"},[Ei(" Drag & drop file or "),Se("span",{class:"button upload-button small-button"},"BROWSE")],-1))],32),dt(t).uploadedGeojson?(ge(),Je("div",Gae," Uploaded file: "+li(dt(t).uploadedGeojson.name)+" ("+li(dt(t).uploadedGeojson.size/1e6)+" MB) ",1)):Zt("",!0),kt(Uae)],64))}}),qae=Vo(Hae,[["__scopeId","data-v-fe4a5b54"]]),Wae={class:"add-areas-pane"},Kae=to({__name:"TheAddAreasPane",setup(e){return mo(),(t,i)=>(ge(),Je("div",Wae,[i[0]||(i[0]=Se("p",null,"Analyze custom areas by drawing or uploading a polygon.",-1)),kt(kae),kt(qae)]))}});var Lg={},cs={};Object.defineProperty(cs,"__esModule",{value:!0});cs.excelBOM=cs.defaultCsv2JsonOptions=cs.defaultJson2CsvOptions=cs.errors=void 0;cs.errors={optionsRequired:"Options were not passed and are required.",json2csv:{cannotCallOn:"Cannot call json2csv on",dataCheckFailure:"Data provided was not an array of documents.",notSameSchema:"Not all documents have the same schema."},csv2json:{cannotCallOn:"Cannot call csv2json on",dataCheckFailure:"CSV is not a string."}};cs.defaultJson2CsvOptions={arrayIndexesAsKeys:!1,checkSchemaDifferences:!1,delimiter:{field:",",wrap:'"',eol:`
`},emptyFieldValue:void 0,escapeHeaderNestedDots:!0,excelBOM:!1,excludeKeys:[],expandNestedObjects:!0,expandArrayObjects:!1,prependHeader:!0,preventCsvInjection:!1,sortHeader:!1,trimFieldValues:!1,trimHeaderFields:!1,unwindArrays:!1,useDateIso8601Format:!1,useLocaleFormat:!1,wrapBooleans:!1};cs.defaultCsv2JsonOptions={delimiter:{field:",",wrap:'"',eol:`
`},excelBOM:!1,preventCsvInjection:!1,trimFieldValues:!1,trimHeaderFields:!1};cs.excelBOM="\uFEFF";var tv={},du={};/**
 * @license MIT
 * doc-path <https://github.com/mrodrig/doc-path>
 * Copyright (c) 2015-present, Michael Rodrigues.
 */Object.defineProperty(du,"__esModule",{value:!0});du.setPath=du.evaluatePath=void 0;function x1(e,t){if(!e)return null;const{dotIndex:i,key:a,remaining:l}=p2(t),c=typeof e=="object"&&t in e?e[t]:void 0,y=typeof e=="object"&&a in e?e[a]:void 0;if(i>=0&&typeof e=="object"&&!(t in e)){const{key:n}=p2(l),x=parseInt(n);return Array.isArray(y)&&isNaN(x)?y.map(C=>x1(C,l)):x1(y,l)}else if(Array.isArray(e)){const n=parseInt(a);return t===a&&i===-1&&!isNaN(n)?y:e.map(x=>x1(x,t))}else{if(i>=0&&t!==a&&typeof e=="object"&&a in e)return x1(y,l);if(i===-1&&typeof e=="object"&&a in e&&!(t in e))return y}return c}du.evaluatePath=x1;function Zae(e,t,i){if(e){if(!t)throw new Error("No keyPath was provided.")}else throw new Error("No object was provided.");return w1(e,t,i)}du.setPath=Zae;function w1(e,t,i){const{dotIndex:a,key:l,remaining:c}=p2(t);if(t.startsWith("__proto__")||t.startsWith("constructor")||t.startsWith("prototype"))return e;if(a>=0){const y=parseInt(l);if(typeof e=="object"&&e!==null&&!(l in e)&&Array.isArray(e)&&!isNaN(y))return e[l]=e[l]??{},w1(e[l],c,i),e;if(typeof e=="object"&&e!==null&&!(l in e)&&Array.isArray(e))return e.forEach(n=>w1(n,t,i)),e;if(typeof e=="object"&&e!==null&&!(l in e)&&!Array.isArray(e)){const{key:n}=p2(c),x=parseInt(n);if(!isNaN(x))e[l]=[];else{if(c==="")return e[t]=i,e;e[l]={}}}w1(e[l],c,i)}else if(Array.isArray(e)){const y=parseInt(l);return t===l&&a===-1&&!isNaN(y)?(e[l]=i,e):(e.forEach(n=>w1(n,c,i)),e)}else e[l]=i;return e}function p2(e){const t=Qae(e);return{dotIndex:t,key:e.slice(0,t>=0?t:void 0).replace(/\\./g,"."),remaining:e.slice(t+1)}}function Qae(e){for(let t=0;t<e.length;t++){const i=t>0?e[t-1]:"";if(e[t]==="."&&i!=="\\")return t}return-1}var NI={},eu={};Object.defineProperty(eu,"__esModule",{value:!0});eu.isDocumentToRecurOn=eu.flatten=eu.unique=void 0;function Xae(e){return[...new Set(e)]}eu.unique=Xae;function Jae(e){return[].concat(...e)}eu.flatten=Jae;function Yae(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)&&Object.keys(e).length}eu.isDocumentToRecurOn=Yae;var $I={};Object.defineProperty($I,"__esModule",{value:!0});(function(e){var t=Nn&&Nn.__createBinding||(Object.create?function(L,V,G,Q){Q===void 0&&(Q=G);var Y=Object.getOwnPropertyDescriptor(V,G);(!Y||("get"in Y?!V.__esModule:Y.writable||Y.configurable))&&(Y={enumerable:!0,get:function(){return V[G]}}),Object.defineProperty(L,Q,Y)}:function(L,V,G,Q){Q===void 0&&(Q=G),L[Q]=V[G]}),i=Nn&&Nn.__setModuleDefault||(Object.create?function(L,V){Object.defineProperty(L,"default",{enumerable:!0,value:V})}:function(L,V){L.default=V}),a=Nn&&Nn.__importStar||function(L){if(L&&L.__esModule)return L;var V={};if(L!=null)for(var G in L)G!=="default"&&Object.prototype.hasOwnProperty.call(L,G)&&t(V,L,G);return i(V,L),V},l=Nn&&Nn.__exportStar||function(L,V){for(var G in L)G!=="default"&&!Object.prototype.hasOwnProperty.call(V,G)&&t(V,L,G)};Object.defineProperty(e,"__esModule",{value:!0}),e.deepKeysFromList=e.deepKeys=void 0;const c=a(eu);l($I,e);function y(L,V){const G=B(V);return typeof L=="object"&&L!==null?x("",L,G):[]}e.deepKeys=y;function n(L,V){const G=B(V);return L.map(Q=>typeof Q=="object"&&Q!==null?y(Q,G):[])}e.deepKeysFromList=n;function x(L,V,G){const Q=Object.keys(V).map(Y=>{const J=O(L,k(Y,G));return G.expandNestedObjects&&c.isDocumentToRecurOn(V[Y])||G.arrayIndexesAsKeys&&Array.isArray(V[Y])&&V[Y].length?x(J,V[Y],G):G.expandArrayObjects&&Array.isArray(V[Y])?C(V[Y],J,G):G.ignoreEmptyArrays&&Array.isArray(V[Y])&&!V[Y].length?[]:J});return c.flatten(Q)}function C(L,V,G){let Q=n(L,G);return L.length?L.length&&c.flatten(Q).length===0?[V]:(Q=Q.map(Y=>Array.isArray(Y)&&Y.length===0?[V]:Y.map(J=>O(V,k(J,G)))),c.unique(c.flatten(Q))):G.ignoreEmptyArraysWhenExpanding?[]:[V]}function k(L,V){return V.escapeNestedDots?L.replace(/\./g,"\\."):L}function O(L,V){return L?L+"."+V:V}function B(L){return{arrayIndexesAsKeys:!1,expandNestedObjects:!0,expandArrayObjects:!1,ignoreEmptyArraysWhenExpanding:!1,escapeNestedDots:!1,ignoreEmptyArrays:!1,...L??{}}}})(NI);var vn={};Object.defineProperty(vn,"__esModule",{value:!0});vn.isInvalid=vn.flatten=vn.unique=vn.arrayDifference=vn.isError=vn.isUndefined=vn.isNull=vn.isObject=vn.isString=vn.isNumber=vn.unwind=vn.getNCharacters=vn.removeEmptyFields=vn.isEmptyField=vn.computeSchemaDifferences=vn.isDateRepresentation=vn.isStringRepresentation=vn.deepCopy=vn.validate=vn.buildC2JOptions=vn.buildJ2COptions=void 0;const M3=du,Kd=cs,ese=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,A3=1e5;function tse(e){var t,i,a;return{...Kd.defaultJson2CsvOptions,...e,delimiter:{field:((t=e==null?void 0:e.delimiter)==null?void 0:t.field)??Kd.defaultJson2CsvOptions.delimiter.field,wrap:((i=e==null?void 0:e.delimiter)==null?void 0:i.wrap)||Kd.defaultJson2CsvOptions.delimiter.wrap,eol:((a=e==null?void 0:e.delimiter)==null?void 0:a.eol)||Kd.defaultJson2CsvOptions.delimiter.eol},fieldTitleMap:Object.create({})}}vn.buildJ2COptions=tse;function ise(e){var t,i,a;return{...Kd.defaultCsv2JsonOptions,...e,delimiter:{field:((t=e==null?void 0:e.delimiter)==null?void 0:t.field)??Kd.defaultCsv2JsonOptions.delimiter.field,wrap:((i=e==null?void 0:e.delimiter)==null?void 0:i.wrap)||Kd.defaultCsv2JsonOptions.delimiter.wrap,eol:((a=e==null?void 0:e.delimiter)==null?void 0:a.eol)||Kd.defaultCsv2JsonOptions.delimiter.eol}}}vn.buildC2JOptions=ise;function nse(e,t,i){if(!e)throw new Error(`${i.cannotCallOn} ${e}.`);if(!t(e))throw new Error(i.dataCheckFailure);return!0}vn.validate=nse;function Ux(e){return JSON.parse(JSON.stringify(e))}vn.deepCopy=Ux;function ose(e,t){const i=e[0],a=e.length-1,l=e[a];return i===t.delimiter.wrap&&l===t.delimiter.wrap}vn.isStringRepresentation=ose;function rse(e){return ese.test(e)}vn.isDateRepresentation=rse;function ase(e,t){return Gx(e,t).concat(Gx(t,e))}vn.computeSchemaDifferences=ase;function UI(e){return HI(e)||GI(e)||e===""}vn.isEmptyField=UI;function sse(e){return e.filter(t=>!UI(t))}vn.removeEmptyFields=sse;function cse(e,t,i){return e.substring(t,t+i)}vn.getNCharacters=cse;function lse(e,t,i){const a=(0,M3.evaluatePath)(t,i);let l=Ux(t);Array.isArray(a)&&a.length?a.forEach(c=>{l=Ux(t),e.push((0,M3.setPath)(l,i,c))}):(Array.isArray(a)&&a.length===0&&(0,M3.setPath)(l,i,""),e.push(l))}function dse(e,t){const i=[];return e.forEach(a=>{lse(i,a,t)}),i}vn.unwind=dse;function use(e){return!isNaN(Number(e))}vn.isNumber=use;function hse(e){return typeof e=="string"}vn.isString=hse;function fse(e){return typeof e=="object"}vn.isObject=fse;function GI(e){return e===null}vn.isNull=GI;function HI(e){return typeof e>"u"}vn.isUndefined=HI;function pse(e){return Object.prototype.toString.call(e)==="[object Error]"}vn.isError=pse;function Gx(e,t){return e.filter(i=>!t.includes(i))}vn.arrayDifference=Gx;function mse(e){return[...new Set(e)]}vn.unique=mse;function gse(e){if(e.flat)return e.flat();if(e.length>A3){let t=[];for(let i=0;i<e.length;i+=A3)t=t.concat(...e.slice(i,i+A3));return t}return e.reduce((t,i)=>t.concat(i),[])}vn.flatten=gse;function _se(e){return e===1/0||e===-1/0}vn.isInvalid=_se;var yse=Nn&&Nn.__createBinding||(Object.create?function(e,t,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(t,i);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,a,l)}:function(e,t,i,a){a===void 0&&(a=i),e[a]=t[i]}),bse=Nn&&Nn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),vse=Nn&&Nn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)&&yse(t,e,i);return bse(t,e),t};Object.defineProperty(tv,"__esModule",{value:!0});tv.Json2Csv=void 0;const xse=du,wse=NI,GE=cs,Ad=vse(vn),Fse=function(e){const t=new RegExp(e.delimiter.wrap,"g"),i=/\r?\n|\r/,a=e.parseValue&&typeof e.parseValue=="function"?e.parseValue:null,l=e.expandArrayObjects&&!e.unwindArrays,c={arrayIndexesAsKeys:e.arrayIndexesAsKeys,expandNestedObjects:e.expandNestedObjects,expandArrayObjects:l,ignoreEmptyArraysWhenExpanding:l,escapeNestedDots:!0};function y(Oe){return(0,wse.deepKeysFromList)(Oe,c)}function n(Oe){return Oe.length===0?[]:e.checkSchemaDifferences?x(Oe):Ad.unique(Ad.flatten(Oe))}function x(Oe){const ue=Oe[0],ct=Oe.slice(1);if(C(ue,ct))throw new Error(GE.errors.json2csv.notSameSchema);return ue}function C(Oe,ue){return ue.reduce((ct,Ct)=>Ad.computeSchemaDifferences(Oe,Ct).length>0?ct+1:ct,0)}function k(Oe){return e.excludeKeys?Oe.filter(ue=>{for(const ct of e.excludeKeys){const Ct=ct instanceof RegExp?ct:new RegExp(`^${ct}`);if(ct===ue||ue.match(Ct))return!1}return!0}):Oe}function O(Oe){return e.sortHeader&&typeof e.sortHeader=="function"?Oe.sort(e.sortHeader):e.sortHeader?Oe.sort():Oe}function B(Oe){return e.trimHeaderFields&&(Oe.headerFields=Oe.headerFields.map(ue=>ue.split(".").map(ct=>ct.trim()).join("."))),Oe}function L(Oe){return e.prependHeader&&(Oe.headerFields=Oe.headerFields.map(function(ue){return Ae(ue)})),Oe}function V(Oe){const ue=Object.keys(e.fieldTitleMap);return Oe.header=Oe.headerFields.map(function(ct){let Ct=ct;return ue.includes(ct)?Ct=e.fieldTitleMap[ct]:e.escapeHeaderNestedDots||(Ct=Ct.replace(/\\\./g,".")),Ct}).join(e.delimiter.field),Oe}function G(){return e.keys?e.keys.map(Oe=>typeof Oe=="object"&&"field"in Oe?(e.fieldTitleMap[Oe.field]=Oe.title??Oe.field,Oe.field):Oe):[]}function Q(){return e.keys?e.keys.flatMap(Oe=>typeof Oe=="string"?[]:Oe!=null&&Oe.wildcardMatch?Oe.field:[]):[]}function Y(Oe){const ue=Q(),ct=G(),Ct=y(Oe),pt=n(Ct);if(e.keys){e.keys=ct;const vt=ct.flatMap(Bt=>{if(!ue.includes(Bt))return Bt;const It=[],St=new RegExp(`^${Bt}`);for(const Wt of pt)(Bt===Wt||Wt.match(St))&&It.push(Wt);return It});if(!e.unwindArrays){const Bt=k(vt);return O(Bt)}}const Ut=k(pt);return O(Ut)}function J(Oe,ue=!1){if(e.unwindArrays){const ct=Oe.records.length;Oe.headerFields.forEach(pt=>{Oe.records=Ad.unwind(Oe.records,pt)});const Ct=Y(Oe.records);if(Oe.headerFields=Ct,ct!==Oe.records.length)return J(Oe);if(!ue)return J(Oe,!0);if(e.keys){const pt=G();Oe.headerFields=k(pt)}return Oe}return Oe}function re(Oe){return Oe.recordString=Oe.records.map(ue=>{const ct=he(ue,Oe.headerFields),Ct=ct.map(pt=>{pt=pe(pt),pt=De(pt);let Ut=a?a(pt,we):we(pt);return Ut=Ae(Ut),Ut});return Ne(Ct)}).join(e.delimiter.eol),Oe}function ce(Oe){const ue=Ad.removeEmptyFields(Oe);return!Oe.length||!ue.length?e.emptyFieldValue||"":ue.length===1?ue[0]:Oe}function he(Oe,ue){const ct=[];return ue.forEach(Ct=>{let pt=(0,xse.evaluatePath)(Oe,Ct);!Ad.isUndefined(e.emptyFieldValue)&&Ad.isEmptyField(pt)?pt=e.emptyFieldValue:e.expandArrayObjects&&Array.isArray(pt)&&(pt=ce(pt)),ct.push(pt)}),ct}function we(Oe){const ue=Oe instanceof Date;return Oe===null||Array.isArray(Oe)||typeof Oe=="object"&&!ue?JSON.stringify(Oe):typeof Oe>"u"?"undefined":ue&&e.useDateIso8601Format?Oe.toISOString():e.useLocaleFormat?Oe.toLocaleString():Oe.toString()}function pe(Oe){return e.trimFieldValues?Array.isArray(Oe)?Oe.map(pe):typeof Oe=="string"?Oe.trim():Oe:Oe}function De(Oe){return e.preventCsvInjection?Array.isArray(Oe)?Oe.map(De):typeof Oe=="string"&&!Ad.isNumber(Oe)?Oe.replace(/^[=+\-@\t\r]+/g,""):Oe:Oe}function Ae(Oe){const ue=e.delimiter.wrap;return Oe.includes(e.delimiter.wrap)&&(Oe=Oe.replace(t,ue+ue)),(Oe.includes(e.delimiter.field)||Oe.includes(e.delimiter.wrap)||Oe.match(i)||e.wrapBooleans&&(Oe==="true"||Oe==="false"))&&(Oe=ue+Oe+ue),Oe}function Ne(Oe){return Oe.join(e.delimiter.field)}function it(Oe){const ue=Oe.header,ct=Oe.recordString;return(e.excelBOM?GE.excelBOM:"")+(e.prependHeader?ue+e.delimiter.eol:"")+ct}function ye(Oe){Array.isArray(Oe)||(Oe=[Oe]);const ue={headerFields:Y(Oe),records:Oe,header:"",recordString:""},ct=J(ue),Ct=re(ct),pt=L(Ct),Ut=B(pt),vt=V(Ut);return it(vt)}return{convert:ye}};tv.Json2Csv=Fse;var iv={},Cse=Nn&&Nn.__createBinding||(Object.create?function(e,t,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(t,i);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,a,l)}:function(e,t,i,a){a===void 0&&(a=i),e[a]=t[i]}),Ese=Nn&&Nn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Sse=Nn&&Nn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)&&Cse(t,e,i);return Ese(t,e),t};Object.defineProperty(iv,"__esModule",{value:!0});iv.Csv2Json=void 0;const Tse=du,Rse=cs,Od=Sse(vn),Pse=function(e){const t=new RegExp(e.delimiter.wrap+e.delimiter.wrap,"g"),i=new RegExp("^"+Rse.excelBOM),a=e.parseValue&&typeof e.parseValue=="function"?e.parseValue:JSON.parse;function l(J){return J=L(J),e.trimHeaderFields?J.split(".").map(re=>re.trim()).join("."):J}function c(J){let re=[];if(e.headerFields)re=e.headerFields.map((ce,he)=>({value:l(ce),index:he}));else if(re=J[0].map((he,we)=>({value:l(he),index:we})),e.keys){const he=e.keys;re=re.filter(we=>he.includes(we.value))}return{lines:J,headerFields:re,recordLines:[]}}function y(J){return e.excelBOM?J.replace(i,""):J}function n(J){const re=[],ce=J.length-1,he=e.delimiter.eol.length,we={insideWrapDelimiter:!1,parsingValue:!0,justParsedDoubleQuote:!1,startIndex:0};let pe=[],De,Ae,Ne,it,ye=0;for(;ye<J.length;){if(De=J[ye],Ae=ye?J[ye-1]:"",Ne=ye<ce?J[ye+1]:"",it=Od.getNCharacters(J,ye,he),(it===e.delimiter.eol&&!we.insideWrapDelimiter||ye===ce)&&Ae===e.delimiter.field)it===e.delimiter.eol&&we.startIndex===ye||De===e.delimiter.field?pe.push(""):pe.push(J.substring(we.startIndex)),pe.push(""),re.push(pe),pe=[],we.startIndex=ye+he,we.parsingValue=!0,we.insideWrapDelimiter=Ne===e.delimiter.wrap;else if(ye===ce&&De===e.delimiter.field){const Oe=J.substring(we.startIndex,ye);pe.push(Oe),pe.push(""),re.push(pe)}else if(ye===ce||it===e.delimiter.eol&&(!we.insideWrapDelimiter||we.insideWrapDelimiter&&Ae===e.delimiter.wrap&&!we.justParsedDoubleQuote)){const Oe=ye!==ce||Ae===e.delimiter.wrap?ye:void 0;pe.push(J.substring(we.startIndex,Oe)),re.push(pe),pe=[],we.startIndex=ye+he,we.parsingValue=!0,we.insideWrapDelimiter=Ne===e.delimiter.wrap}else if(De===e.delimiter.wrap&&Ae===e.delimiter.field&&!we.insideWrapDelimiter&&!we.parsingValue)we.startIndex=ye,we.insideWrapDelimiter=!0,we.parsingValue=!0,Od.getNCharacters(J,ye+1,he)===e.delimiter.eol&&(ye+=e.delimiter.eol.length+1);else if(Ae===e.delimiter.field&&De===e.delimiter.wrap&&Ne===e.delimiter.eol)pe.push(J.substring(we.startIndex,ye-1)),we.startIndex=ye,we.parsingValue=!0,we.insideWrapDelimiter=!0,we.justParsedDoubleQuote=!0,ye+=1;else if((Ae!==e.delimiter.wrap||we.justParsedDoubleQuote&&Ae===e.delimiter.wrap)&&De===e.delimiter.wrap&&Od.getNCharacters(J,ye+1,he)===e.delimiter.eol)we.insideWrapDelimiter=!1,we.parsingValue=!1;else if(De===e.delimiter.wrap&&(ye===0||Od.getNCharacters(J,ye-he,he)===e.delimiter.eol&&!we.insideWrapDelimiter))we.insideWrapDelimiter=!0,we.parsingValue=!0,we.startIndex=ye;else if(De===e.delimiter.wrap&&Ne===e.delimiter.field&&we.insideWrapDelimiter)pe.push(J.substring(we.startIndex,ye+1)),we.startIndex=ye+2,we.insideWrapDelimiter=!1,we.parsingValue=!1;else if(De===e.delimiter.wrap&&Ae===e.delimiter.field&&!we.insideWrapDelimiter&&we.parsingValue)pe.push(J.substring(we.startIndex,ye-1)),we.insideWrapDelimiter=!0,we.parsingValue=!0,we.startIndex=ye;else if(De===e.delimiter.wrap&&Ne===e.delimiter.wrap&&ye!==we.startIndex){ye+=2,we.justParsedDoubleQuote=!0;continue}else De===e.delimiter.field&&Ae!==e.delimiter.wrap&&Ne!==e.delimiter.wrap&&!we.insideWrapDelimiter&&we.parsingValue?(pe.push(J.substring(we.startIndex,ye)),we.startIndex=ye+1):De===e.delimiter.field&&Ae===e.delimiter.wrap&&Ne!==e.delimiter.wrap&&!we.parsingValue&&(we.insideWrapDelimiter=!1,we.parsingValue=!0,we.startIndex=ye+1);ye++,we.justParsedDoubleQuote=!1}return re}function x(J){return e.headerFields?J.recordLines=J.lines:J.recordLines=J.lines.splice(1),J}function C(J,re){const ce=re[J.index];return k(ce)}function k(J){const re=Q(J);return!Od.isError(re)&&!Od.isInvalid(re)?re:J==="undefined"?void 0:J}function O(J){return e.trimFieldValues&&J!==null?J.trim():J}function B(J,re){return J.reduce((ce,he)=>{const we=C(he,re);try{return(0,Tse.setPath)(ce,he.value,we)}catch{return ce}},{})}function L(J){const re=J[0],ce=J.length-1,he=J[ce];return re===e.delimiter.wrap&&he===e.delimiter.wrap?J.length<=2?"":J.substring(1,ce):J}function V(J){return J.replace(t,e.delimiter.wrap)}function G(J){return J.recordLines.reduce((re,ce)=>{ce=ce.map(we=>(we=L(we),we=V(we),we=O(we),we));const he=B(J.headerFields,ce);return re.concat(he)},[])}function Q(J){try{if(Od.isStringRepresentation(J,e)&&!Od.isDateRepresentation(J))return J;const re=a(J);return Array.isArray(re)?re.map(O):re}catch(re){return re}}function Y(J){const re=y(J),ce=n(re),he=c(ce),we=x(he);return G(we)}return{convert:Y}};iv.Csv2Json=Pse;Object.defineProperty(Lg,"__esModule",{value:!0});Lg.csv2json=WI=Lg.json2csv=void 0;const qI=cs,Ise=tv,kse=iv,Mp=vn;function Mse(e,t){const i=(0,Mp.buildJ2COptions)(t??{});return(0,Mp.validate)(e,Mp.isObject,qI.errors.json2csv),(0,Ise.Json2Csv)(i).convert(e)}var WI=Lg.json2csv=Mse;function Ase(e,t){const i=(0,Mp.buildC2JOptions)(t??{});return(0,Mp.validate)(e,Mp.isString,qI.errors.csv2json),(0,kse.Csv2Json)(i).convert(e)}Lg.csv2json=Ase;function fb(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var KI={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(i){e.exports=i()})(function(){return function i(a,l,c){function y(C,k){if(!l[C]){if(!a[C]){var O=typeof fb=="function"&&fb;if(!k&&O)return O(C,!0);if(n)return n(C,!0);var B=new Error("Cannot find module '"+C+"'");throw B.code="MODULE_NOT_FOUND",B}var L=l[C]={exports:{}};a[C][0].call(L.exports,function(V){var G=a[C][1][V];return y(G||V)},L,L.exports,i,a,l,c)}return l[C].exports}for(var n=typeof fb=="function"&&fb,x=0;x<c.length;x++)y(c[x]);return y}({1:[function(i,a,l){var c=i("./utils"),y=i("./support"),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";l.encode=function(x){for(var C,k,O,B,L,V,G,Q=[],Y=0,J=x.length,re=J,ce=c.getTypeOf(x)!=="string";Y<x.length;)re=J-Y,O=ce?(C=x[Y++],k=Y<J?x[Y++]:0,Y<J?x[Y++]:0):(C=x.charCodeAt(Y++),k=Y<J?x.charCodeAt(Y++):0,Y<J?x.charCodeAt(Y++):0),B=C>>2,L=(3&C)<<4|k>>4,V=1<re?(15&k)<<2|O>>6:64,G=2<re?63&O:64,Q.push(n.charAt(B)+n.charAt(L)+n.charAt(V)+n.charAt(G));return Q.join("")},l.decode=function(x){var C,k,O,B,L,V,G=0,Q=0,Y="data:";if(x.substr(0,Y.length)===Y)throw new Error("Invalid base64 input, it looks like a data url.");var J,re=3*(x=x.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(x.charAt(x.length-1)===n.charAt(64)&&re--,x.charAt(x.length-2)===n.charAt(64)&&re--,re%1!=0)throw new Error("Invalid base64 input, bad content length.");for(J=y.uint8array?new Uint8Array(0|re):new Array(0|re);G<x.length;)C=n.indexOf(x.charAt(G++))<<2|(B=n.indexOf(x.charAt(G++)))>>4,k=(15&B)<<4|(L=n.indexOf(x.charAt(G++)))>>2,O=(3&L)<<6|(V=n.indexOf(x.charAt(G++))),J[Q++]=C,L!==64&&(J[Q++]=k),V!==64&&(J[Q++]=O);return J}},{"./support":30,"./utils":32}],2:[function(i,a,l){var c=i("./external"),y=i("./stream/DataWorker"),n=i("./stream/Crc32Probe"),x=i("./stream/DataLengthProbe");function C(k,O,B,L,V){this.compressedSize=k,this.uncompressedSize=O,this.crc32=B,this.compression=L,this.compressedContent=V}C.prototype={getContentWorker:function(){var k=new y(c.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new x("data_length")),O=this;return k.on("end",function(){if(this.streamInfo.data_length!==O.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),k},getCompressedWorker:function(){return new y(c.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},C.createWorkerFrom=function(k,O,B){return k.pipe(new n).pipe(new x("uncompressedSize")).pipe(O.compressWorker(B)).pipe(new x("compressedSize")).withStreamInfo("compression",O)},a.exports=C},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(i,a,l){var c=i("./stream/GenericWorker");l.STORE={magic:"\0\0",compressWorker:function(){return new c("STORE compression")},uncompressWorker:function(){return new c("STORE decompression")}},l.DEFLATE=i("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(i,a,l){var c=i("./utils"),y=function(){for(var n,x=[],C=0;C<256;C++){n=C;for(var k=0;k<8;k++)n=1&n?3988292384^n>>>1:n>>>1;x[C]=n}return x}();a.exports=function(n,x){return n!==void 0&&n.length?c.getTypeOf(n)!=="string"?function(C,k,O,B){var L=y,V=B+O;C^=-1;for(var G=B;G<V;G++)C=C>>>8^L[255&(C^k[G])];return-1^C}(0|x,n,n.length,0):function(C,k,O,B){var L=y,V=B+O;C^=-1;for(var G=B;G<V;G++)C=C>>>8^L[255&(C^k.charCodeAt(G))];return-1^C}(0|x,n,n.length,0):0}},{"./utils":32}],5:[function(i,a,l){l.base64=!1,l.binary=!1,l.dir=!1,l.createFolders=!0,l.date=null,l.compression=null,l.compressionOptions=null,l.comment=null,l.unixPermissions=null,l.dosPermissions=null},{}],6:[function(i,a,l){var c=null;c=typeof Promise<"u"?Promise:i("lie"),a.exports={Promise:c}},{lie:37}],7:[function(i,a,l){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",y=i("pako"),n=i("./utils"),x=i("./stream/GenericWorker"),C=c?"uint8array":"array";function k(O,B){x.call(this,"FlateWorker/"+O),this._pako=null,this._pakoAction=O,this._pakoOptions=B,this.meta={}}l.magic="\b\0",n.inherits(k,x),k.prototype.processChunk=function(O){this.meta=O.meta,this._pako===null&&this._createPako(),this._pako.push(n.transformTo(C,O.data),!1)},k.prototype.flush=function(){x.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},k.prototype.cleanUp=function(){x.prototype.cleanUp.call(this),this._pako=null},k.prototype._createPako=function(){this._pako=new y[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var O=this;this._pako.onData=function(B){O.push({data:B,meta:O.meta})}},l.compressWorker=function(O){return new k("Deflate",O)},l.uncompressWorker=function(){return new k("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(i,a,l){function c(L,V){var G,Q="";for(G=0;G<V;G++)Q+=String.fromCharCode(255&L),L>>>=8;return Q}function y(L,V,G,Q,Y,J){var re,ce,he=L.file,we=L.compression,pe=J!==C.utf8encode,De=n.transformTo("string",J(he.name)),Ae=n.transformTo("string",C.utf8encode(he.name)),Ne=he.comment,it=n.transformTo("string",J(Ne)),ye=n.transformTo("string",C.utf8encode(Ne)),Oe=Ae.length!==he.name.length,ue=ye.length!==Ne.length,ct="",Ct="",pt="",Ut=he.dir,vt=he.date,Bt={crc32:0,compressedSize:0,uncompressedSize:0};V&&!G||(Bt.crc32=L.crc32,Bt.compressedSize=L.compressedSize,Bt.uncompressedSize=L.uncompressedSize);var It=0;V&&(It|=8),pe||!Oe&&!ue||(It|=2048);var St=0,Wt=0;Ut&&(St|=16),Y==="UNIX"?(Wt=798,St|=function(di,Ji){var $t=di;return di||($t=Ji?16893:33204),(65535&$t)<<16}(he.unixPermissions,Ut)):(Wt=20,St|=function(di){return 63&(di||0)}(he.dosPermissions)),re=vt.getUTCHours(),re<<=6,re|=vt.getUTCMinutes(),re<<=5,re|=vt.getUTCSeconds()/2,ce=vt.getUTCFullYear()-1980,ce<<=4,ce|=vt.getUTCMonth()+1,ce<<=5,ce|=vt.getUTCDate(),Oe&&(Ct=c(1,1)+c(k(De),4)+Ae,ct+="up"+c(Ct.length,2)+Ct),ue&&(pt=c(1,1)+c(k(it),4)+ye,ct+="uc"+c(pt.length,2)+pt);var ui="";return ui+=`
\0`,ui+=c(It,2),ui+=we.magic,ui+=c(re,2),ui+=c(ce,2),ui+=c(Bt.crc32,4),ui+=c(Bt.compressedSize,4),ui+=c(Bt.uncompressedSize,4),ui+=c(De.length,2),ui+=c(ct.length,2),{fileRecord:O.LOCAL_FILE_HEADER+ui+De+ct,dirRecord:O.CENTRAL_FILE_HEADER+c(Wt,2)+ui+c(it.length,2)+"\0\0\0\0"+c(St,4)+c(Q,4)+De+ct+it}}var n=i("../utils"),x=i("../stream/GenericWorker"),C=i("../utf8"),k=i("../crc32"),O=i("../signature");function B(L,V,G,Q){x.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=V,this.zipPlatform=G,this.encodeFileName=Q,this.streamFiles=L,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}n.inherits(B,x),B.prototype.push=function(L){var V=L.meta.percent||0,G=this.entriesCount,Q=this._sources.length;this.accumulate?this.contentBuffer.push(L):(this.bytesWritten+=L.data.length,x.prototype.push.call(this,{data:L.data,meta:{currentFile:this.currentFile,percent:G?(V+100*(G-Q-1))/G:100}}))},B.prototype.openedSource=function(L){this.currentSourceOffset=this.bytesWritten,this.currentFile=L.file.name;var V=this.streamFiles&&!L.file.dir;if(V){var G=y(L,V,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:G.fileRecord,meta:{percent:0}})}else this.accumulate=!0},B.prototype.closedSource=function(L){this.accumulate=!1;var V=this.streamFiles&&!L.file.dir,G=y(L,V,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(G.dirRecord),V)this.push({data:function(Q){return O.DATA_DESCRIPTOR+c(Q.crc32,4)+c(Q.compressedSize,4)+c(Q.uncompressedSize,4)}(L),meta:{percent:100}});else for(this.push({data:G.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},B.prototype.flush=function(){for(var L=this.bytesWritten,V=0;V<this.dirRecords.length;V++)this.push({data:this.dirRecords[V],meta:{percent:100}});var G=this.bytesWritten-L,Q=function(Y,J,re,ce,he){var we=n.transformTo("string",he(ce));return O.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(Y,2)+c(Y,2)+c(J,4)+c(re,4)+c(we.length,2)+we}(this.dirRecords.length,G,L,this.zipComment,this.encodeFileName);this.push({data:Q,meta:{percent:100}})},B.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},B.prototype.registerPrevious=function(L){this._sources.push(L);var V=this;return L.on("data",function(G){V.processChunk(G)}),L.on("end",function(){V.closedSource(V.previous.streamInfo),V._sources.length?V.prepareNextSource():V.end()}),L.on("error",function(G){V.error(G)}),this},B.prototype.resume=function(){return!!x.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},B.prototype.error=function(L){var V=this._sources;if(!x.prototype.error.call(this,L))return!1;for(var G=0;G<V.length;G++)try{V[G].error(L)}catch{}return!0},B.prototype.lock=function(){x.prototype.lock.call(this);for(var L=this._sources,V=0;V<L.length;V++)L[V].lock()},a.exports=B},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(i,a,l){var c=i("../compressions"),y=i("./ZipFileWorker");l.generateWorker=function(n,x,C){var k=new y(x.streamFiles,C,x.platform,x.encodeFileName),O=0;try{n.forEach(function(B,L){O++;var V=function(J,re){var ce=J||re,he=c[ce];if(!he)throw new Error(ce+" is not a valid compression method !");return he}(L.options.compression,x.compression),G=L.options.compressionOptions||x.compressionOptions||{},Q=L.dir,Y=L.date;L._compressWorker(V,G).withStreamInfo("file",{name:B,dir:Q,date:Y,comment:L.comment||"",unixPermissions:L.unixPermissions,dosPermissions:L.dosPermissions}).pipe(k)}),k.entriesCount=O}catch(B){k.error(B)}return k}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(i,a,l){function c(){if(!(this instanceof c))return new c;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var y=new c;for(var n in this)typeof this[n]!="function"&&(y[n]=this[n]);return y}}(c.prototype=i("./object")).loadAsync=i("./load"),c.support=i("./support"),c.defaults=i("./defaults"),c.version="3.10.1",c.loadAsync=function(y,n){return new c().loadAsync(y,n)},c.external=i("./external"),a.exports=c},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(i,a,l){var c=i("./utils"),y=i("./external"),n=i("./utf8"),x=i("./zipEntries"),C=i("./stream/Crc32Probe"),k=i("./nodejsUtils");function O(B){return new y.Promise(function(L,V){var G=B.decompressed.getContentWorker().pipe(new C);G.on("error",function(Q){V(Q)}).on("end",function(){G.streamInfo.crc32!==B.decompressed.crc32?V(new Error("Corrupted zip : CRC32 mismatch")):L()}).resume()})}a.exports=function(B,L){var V=this;return L=c.extend(L||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:n.utf8decode}),k.isNode&&k.isStream(B)?y.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):c.prepareContent("the loaded zip file",B,!0,L.optimizedBinaryString,L.base64).then(function(G){var Q=new x(L);return Q.load(G),Q}).then(function(G){var Q=[y.Promise.resolve(G)],Y=G.files;if(L.checkCRC32)for(var J=0;J<Y.length;J++)Q.push(O(Y[J]));return y.Promise.all(Q)}).then(function(G){for(var Q=G.shift(),Y=Q.files,J=0;J<Y.length;J++){var re=Y[J],ce=re.fileNameStr,he=c.resolve(re.fileNameStr);V.file(he,re.decompressed,{binary:!0,optimizedBinaryString:!0,date:re.date,dir:re.dir,comment:re.fileCommentStr.length?re.fileCommentStr:null,unixPermissions:re.unixPermissions,dosPermissions:re.dosPermissions,createFolders:L.createFolders}),re.dir||(V.file(he).unsafeOriginalName=ce)}return Q.zipComment.length&&(V.comment=Q.zipComment),V})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(i,a,l){var c=i("../utils"),y=i("../stream/GenericWorker");function n(x,C){y.call(this,"Nodejs stream input adapter for "+x),this._upstreamEnded=!1,this._bindStream(C)}c.inherits(n,y),n.prototype._bindStream=function(x){var C=this;(this._stream=x).pause(),x.on("data",function(k){C.push({data:k,meta:{percent:0}})}).on("error",function(k){C.isPaused?this.generatedError=k:C.error(k)}).on("end",function(){C.isPaused?C._upstreamEnded=!0:C.end()})},n.prototype.pause=function(){return!!y.prototype.pause.call(this)&&(this._stream.pause(),!0)},n.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},a.exports=n},{"../stream/GenericWorker":28,"../utils":32}],13:[function(i,a,l){var c=i("readable-stream").Readable;function y(n,x,C){c.call(this,x),this._helper=n;var k=this;n.on("data",function(O,B){k.push(O)||k._helper.pause(),C&&C(B)}).on("error",function(O){k.emit("error",O)}).on("end",function(){k.push(null)})}i("../utils").inherits(y,c),y.prototype._read=function(){this._helper.resume()},a.exports=y},{"../utils":32,"readable-stream":16}],14:[function(i,a,l){a.exports={isNode:typeof Buffer<"u",newBufferFrom:function(c,y){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(c,y);if(typeof c=="number")throw new Error('The "data" argument must not be a number');return new Buffer(c,y)},allocBuffer:function(c){if(Buffer.alloc)return Buffer.alloc(c);var y=new Buffer(c);return y.fill(0),y},isBuffer:function(c){return Buffer.isBuffer(c)},isStream:function(c){return c&&typeof c.on=="function"&&typeof c.pause=="function"&&typeof c.resume=="function"}}},{}],15:[function(i,a,l){function c(he,we,pe){var De,Ae=n.getTypeOf(we),Ne=n.extend(pe||{},k);Ne.date=Ne.date||new Date,Ne.compression!==null&&(Ne.compression=Ne.compression.toUpperCase()),typeof Ne.unixPermissions=="string"&&(Ne.unixPermissions=parseInt(Ne.unixPermissions,8)),Ne.unixPermissions&&16384&Ne.unixPermissions&&(Ne.dir=!0),Ne.dosPermissions&&16&Ne.dosPermissions&&(Ne.dir=!0),Ne.dir&&(he=Y(he)),Ne.createFolders&&(De=Q(he))&&J.call(this,De,!0);var it=Ae==="string"&&Ne.binary===!1&&Ne.base64===!1;pe&&pe.binary!==void 0||(Ne.binary=!it),(we instanceof O&&we.uncompressedSize===0||Ne.dir||!we||we.length===0)&&(Ne.base64=!1,Ne.binary=!0,we="",Ne.compression="STORE",Ae="string");var ye=null;ye=we instanceof O||we instanceof x?we:V.isNode&&V.isStream(we)?new G(he,we):n.prepareContent(he,we,Ne.binary,Ne.optimizedBinaryString,Ne.base64);var Oe=new B(he,ye,Ne);this.files[he]=Oe}var y=i("./utf8"),n=i("./utils"),x=i("./stream/GenericWorker"),C=i("./stream/StreamHelper"),k=i("./defaults"),O=i("./compressedObject"),B=i("./zipObject"),L=i("./generate"),V=i("./nodejsUtils"),G=i("./nodejs/NodejsStreamInputAdapter"),Q=function(he){he.slice(-1)==="/"&&(he=he.substring(0,he.length-1));var we=he.lastIndexOf("/");return 0<we?he.substring(0,we):""},Y=function(he){return he.slice(-1)!=="/"&&(he+="/"),he},J=function(he,we){return we=we!==void 0?we:k.createFolders,he=Y(he),this.files[he]||c.call(this,he,null,{dir:!0,createFolders:we}),this.files[he]};function re(he){return Object.prototype.toString.call(he)==="[object RegExp]"}var ce={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(he){var we,pe,De;for(we in this.files)De=this.files[we],(pe=we.slice(this.root.length,we.length))&&we.slice(0,this.root.length)===this.root&&he(pe,De)},filter:function(he){var we=[];return this.forEach(function(pe,De){he(pe,De)&&we.push(De)}),we},file:function(he,we,pe){if(arguments.length!==1)return he=this.root+he,c.call(this,he,we,pe),this;if(re(he)){var De=he;return this.filter(function(Ne,it){return!it.dir&&De.test(Ne)})}var Ae=this.files[this.root+he];return Ae&&!Ae.dir?Ae:null},folder:function(he){if(!he)return this;if(re(he))return this.filter(function(Ae,Ne){return Ne.dir&&he.test(Ae)});var we=this.root+he,pe=J.call(this,we),De=this.clone();return De.root=pe.name,De},remove:function(he){he=this.root+he;var we=this.files[he];if(we||(he.slice(-1)!=="/"&&(he+="/"),we=this.files[he]),we&&!we.dir)delete this.files[he];else for(var pe=this.filter(function(Ae,Ne){return Ne.name.slice(0,he.length)===he}),De=0;De<pe.length;De++)delete this.files[pe[De].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(he){var we,pe={};try{if((pe=n.extend(he||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:y.utf8encode})).type=pe.type.toLowerCase(),pe.compression=pe.compression.toUpperCase(),pe.type==="binarystring"&&(pe.type="string"),!pe.type)throw new Error("No output type specified.");n.checkSupport(pe.type),pe.platform!=="darwin"&&pe.platform!=="freebsd"&&pe.platform!=="linux"&&pe.platform!=="sunos"||(pe.platform="UNIX"),pe.platform==="win32"&&(pe.platform="DOS");var De=pe.comment||this.comment||"";we=L.generateWorker(this,pe,De)}catch(Ae){(we=new x("error")).error(Ae)}return new C(we,pe.type||"string",pe.mimeType)},generateAsync:function(he,we){return this.generateInternalStream(he).accumulate(we)},generateNodeStream:function(he,we){return(he=he||{}).type||(he.type="nodebuffer"),this.generateInternalStream(he).toNodejsStream(we)}};a.exports=ce},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(i,a,l){a.exports=i("stream")},{stream:void 0}],17:[function(i,a,l){var c=i("./DataReader");function y(n){c.call(this,n);for(var x=0;x<this.data.length;x++)n[x]=255&n[x]}i("../utils").inherits(y,c),y.prototype.byteAt=function(n){return this.data[this.zero+n]},y.prototype.lastIndexOfSignature=function(n){for(var x=n.charCodeAt(0),C=n.charCodeAt(1),k=n.charCodeAt(2),O=n.charCodeAt(3),B=this.length-4;0<=B;--B)if(this.data[B]===x&&this.data[B+1]===C&&this.data[B+2]===k&&this.data[B+3]===O)return B-this.zero;return-1},y.prototype.readAndCheckSignature=function(n){var x=n.charCodeAt(0),C=n.charCodeAt(1),k=n.charCodeAt(2),O=n.charCodeAt(3),B=this.readData(4);return x===B[0]&&C===B[1]&&k===B[2]&&O===B[3]},y.prototype.readData=function(n){if(this.checkOffset(n),n===0)return[];var x=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,x},a.exports=y},{"../utils":32,"./DataReader":18}],18:[function(i,a,l){var c=i("../utils");function y(n){this.data=n,this.length=n.length,this.index=0,this.zero=0}y.prototype={checkOffset:function(n){this.checkIndex(this.index+n)},checkIndex:function(n){if(this.length<this.zero+n||n<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+n+"). Corrupted zip ?")},setIndex:function(n){this.checkIndex(n),this.index=n},skip:function(n){this.setIndex(this.index+n)},byteAt:function(){},readInt:function(n){var x,C=0;for(this.checkOffset(n),x=this.index+n-1;x>=this.index;x--)C=(C<<8)+this.byteAt(x);return this.index+=n,C},readString:function(n){return c.transformTo("string",this.readData(n))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var n=this.readInt(4);return new Date(Date.UTC(1980+(n>>25&127),(n>>21&15)-1,n>>16&31,n>>11&31,n>>5&63,(31&n)<<1))}},a.exports=y},{"../utils":32}],19:[function(i,a,l){var c=i("./Uint8ArrayReader");function y(n){c.call(this,n)}i("../utils").inherits(y,c),y.prototype.readData=function(n){this.checkOffset(n);var x=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,x},a.exports=y},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(i,a,l){var c=i("./DataReader");function y(n){c.call(this,n)}i("../utils").inherits(y,c),y.prototype.byteAt=function(n){return this.data.charCodeAt(this.zero+n)},y.prototype.lastIndexOfSignature=function(n){return this.data.lastIndexOf(n)-this.zero},y.prototype.readAndCheckSignature=function(n){return n===this.readData(4)},y.prototype.readData=function(n){this.checkOffset(n);var x=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,x},a.exports=y},{"../utils":32,"./DataReader":18}],21:[function(i,a,l){var c=i("./ArrayReader");function y(n){c.call(this,n)}i("../utils").inherits(y,c),y.prototype.readData=function(n){if(this.checkOffset(n),n===0)return new Uint8Array(0);var x=this.data.subarray(this.zero+this.index,this.zero+this.index+n);return this.index+=n,x},a.exports=y},{"../utils":32,"./ArrayReader":17}],22:[function(i,a,l){var c=i("../utils"),y=i("../support"),n=i("./ArrayReader"),x=i("./StringReader"),C=i("./NodeBufferReader"),k=i("./Uint8ArrayReader");a.exports=function(O){var B=c.getTypeOf(O);return c.checkSupport(B),B!=="string"||y.uint8array?B==="nodebuffer"?new C(O):y.uint8array?new k(c.transformTo("uint8array",O)):new n(c.transformTo("array",O)):new x(O)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(i,a,l){l.LOCAL_FILE_HEADER="PK",l.CENTRAL_FILE_HEADER="PK",l.CENTRAL_DIRECTORY_END="PK",l.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",l.ZIP64_CENTRAL_DIRECTORY_END="PK",l.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(i,a,l){var c=i("./GenericWorker"),y=i("../utils");function n(x){c.call(this,"ConvertWorker to "+x),this.destType=x}y.inherits(n,c),n.prototype.processChunk=function(x){this.push({data:y.transformTo(this.destType,x.data),meta:x.meta})},a.exports=n},{"../utils":32,"./GenericWorker":28}],25:[function(i,a,l){var c=i("./GenericWorker"),y=i("../crc32");function n(){c.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}i("../utils").inherits(n,c),n.prototype.processChunk=function(x){this.streamInfo.crc32=y(x.data,this.streamInfo.crc32||0),this.push(x)},a.exports=n},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(i,a,l){var c=i("../utils"),y=i("./GenericWorker");function n(x){y.call(this,"DataLengthProbe for "+x),this.propName=x,this.withStreamInfo(x,0)}c.inherits(n,y),n.prototype.processChunk=function(x){if(x){var C=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=C+x.data.length}y.prototype.processChunk.call(this,x)},a.exports=n},{"../utils":32,"./GenericWorker":28}],27:[function(i,a,l){var c=i("../utils"),y=i("./GenericWorker");function n(x){y.call(this,"DataWorker");var C=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,x.then(function(k){C.dataIsReady=!0,C.data=k,C.max=k&&k.length||0,C.type=c.getTypeOf(k),C.isPaused||C._tickAndRepeat()},function(k){C.error(k)})}c.inherits(n,y),n.prototype.cleanUp=function(){y.prototype.cleanUp.call(this),this.data=null},n.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,c.delay(this._tickAndRepeat,[],this)),!0)},n.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(c.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},n.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var x=null,C=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":x=this.data.substring(this.index,C);break;case"uint8array":x=this.data.subarray(this.index,C);break;case"array":case"nodebuffer":x=this.data.slice(this.index,C)}return this.index=C,this.push({data:x,meta:{percent:this.max?this.index/this.max*100:0}})},a.exports=n},{"../utils":32,"./GenericWorker":28}],28:[function(i,a,l){function c(y){this.name=y||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}c.prototype={push:function(y){this.emit("data",y)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(y){this.emit("error",y)}return!0},error:function(y){return!this.isFinished&&(this.isPaused?this.generatedError=y:(this.isFinished=!0,this.emit("error",y),this.previous&&this.previous.error(y),this.cleanUp()),!0)},on:function(y,n){return this._listeners[y].push(n),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(y,n){if(this._listeners[y])for(var x=0;x<this._listeners[y].length;x++)this._listeners[y][x].call(this,n)},pipe:function(y){return y.registerPrevious(this)},registerPrevious:function(y){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=y.streamInfo,this.mergeStreamInfo(),this.previous=y;var n=this;return y.on("data",function(x){n.processChunk(x)}),y.on("end",function(){n.end()}),y.on("error",function(x){n.error(x)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var y=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),y=!0),this.previous&&this.previous.resume(),!y},flush:function(){},processChunk:function(y){this.push(y)},withStreamInfo:function(y,n){return this.extraStreamInfo[y]=n,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var y in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,y)&&(this.streamInfo[y]=this.extraStreamInfo[y])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var y="Worker "+this.name;return this.previous?this.previous+" -> "+y:y}},a.exports=c},{}],29:[function(i,a,l){var c=i("../utils"),y=i("./ConvertWorker"),n=i("./GenericWorker"),x=i("../base64"),C=i("../support"),k=i("../external"),O=null;if(C.nodestream)try{O=i("../nodejs/NodejsStreamOutputAdapter")}catch{}function B(V,G){return new k.Promise(function(Q,Y){var J=[],re=V._internalType,ce=V._outputType,he=V._mimeType;V.on("data",function(we,pe){J.push(we),G&&G(pe)}).on("error",function(we){J=[],Y(we)}).on("end",function(){try{var we=function(pe,De,Ae){switch(pe){case"blob":return c.newBlob(c.transformTo("arraybuffer",De),Ae);case"base64":return x.encode(De);default:return c.transformTo(pe,De)}}(ce,function(pe,De){var Ae,Ne=0,it=null,ye=0;for(Ae=0;Ae<De.length;Ae++)ye+=De[Ae].length;switch(pe){case"string":return De.join("");case"array":return Array.prototype.concat.apply([],De);case"uint8array":for(it=new Uint8Array(ye),Ae=0;Ae<De.length;Ae++)it.set(De[Ae],Ne),Ne+=De[Ae].length;return it;case"nodebuffer":return Buffer.concat(De);default:throw new Error("concat : unsupported type '"+pe+"'")}}(re,J),he);Q(we)}catch(pe){Y(pe)}J=[]}).resume()})}function L(V,G,Q){var Y=G;switch(G){case"blob":case"arraybuffer":Y="uint8array";break;case"base64":Y="string"}try{this._internalType=Y,this._outputType=G,this._mimeType=Q,c.checkSupport(Y),this._worker=V.pipe(new y(Y)),V.lock()}catch(J){this._worker=new n("error"),this._worker.error(J)}}L.prototype={accumulate:function(V){return B(this,V)},on:function(V,G){var Q=this;return V==="data"?this._worker.on(V,function(Y){G.call(Q,Y.data,Y.meta)}):this._worker.on(V,function(){c.delay(G,arguments,Q)}),this},resume:function(){return c.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(V){if(c.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new O(this,{objectMode:this._outputType!=="nodebuffer"},V)}},a.exports=L},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(i,a,l){if(l.base64=!0,l.array=!0,l.string=!0,l.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",l.nodebuffer=typeof Buffer<"u",l.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")l.blob=!1;else{var c=new ArrayBuffer(0);try{l.blob=new Blob([c],{type:"application/zip"}).size===0}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);y.append(c),l.blob=y.getBlob("application/zip").size===0}catch{l.blob=!1}}}try{l.nodestream=!!i("readable-stream").Readable}catch{l.nodestream=!1}},{"readable-stream":16}],31:[function(i,a,l){for(var c=i("./utils"),y=i("./support"),n=i("./nodejsUtils"),x=i("./stream/GenericWorker"),C=new Array(256),k=0;k<256;k++)C[k]=252<=k?6:248<=k?5:240<=k?4:224<=k?3:192<=k?2:1;C[254]=C[254]=1;function O(){x.call(this,"utf-8 decode"),this.leftOver=null}function B(){x.call(this,"utf-8 encode")}l.utf8encode=function(L){return y.nodebuffer?n.newBufferFrom(L,"utf-8"):function(V){var G,Q,Y,J,re,ce=V.length,he=0;for(J=0;J<ce;J++)(64512&(Q=V.charCodeAt(J)))==55296&&J+1<ce&&(64512&(Y=V.charCodeAt(J+1)))==56320&&(Q=65536+(Q-55296<<10)+(Y-56320),J++),he+=Q<128?1:Q<2048?2:Q<65536?3:4;for(G=y.uint8array?new Uint8Array(he):new Array(he),J=re=0;re<he;J++)(64512&(Q=V.charCodeAt(J)))==55296&&J+1<ce&&(64512&(Y=V.charCodeAt(J+1)))==56320&&(Q=65536+(Q-55296<<10)+(Y-56320),J++),Q<128?G[re++]=Q:(Q<2048?G[re++]=192|Q>>>6:(Q<65536?G[re++]=224|Q>>>12:(G[re++]=240|Q>>>18,G[re++]=128|Q>>>12&63),G[re++]=128|Q>>>6&63),G[re++]=128|63&Q);return G}(L)},l.utf8decode=function(L){return y.nodebuffer?c.transformTo("nodebuffer",L).toString("utf-8"):function(V){var G,Q,Y,J,re=V.length,ce=new Array(2*re);for(G=Q=0;G<re;)if((Y=V[G++])<128)ce[Q++]=Y;else if(4<(J=C[Y]))ce[Q++]=65533,G+=J-1;else{for(Y&=J===2?31:J===3?15:7;1<J&&G<re;)Y=Y<<6|63&V[G++],J--;1<J?ce[Q++]=65533:Y<65536?ce[Q++]=Y:(Y-=65536,ce[Q++]=55296|Y>>10&1023,ce[Q++]=56320|1023&Y)}return ce.length!==Q&&(ce.subarray?ce=ce.subarray(0,Q):ce.length=Q),c.applyFromCharCode(ce)}(L=c.transformTo(y.uint8array?"uint8array":"array",L))},c.inherits(O,x),O.prototype.processChunk=function(L){var V=c.transformTo(y.uint8array?"uint8array":"array",L.data);if(this.leftOver&&this.leftOver.length){if(y.uint8array){var G=V;(V=new Uint8Array(G.length+this.leftOver.length)).set(this.leftOver,0),V.set(G,this.leftOver.length)}else V=this.leftOver.concat(V);this.leftOver=null}var Q=function(J,re){var ce;for((re=re||J.length)>J.length&&(re=J.length),ce=re-1;0<=ce&&(192&J[ce])==128;)ce--;return ce<0||ce===0?re:ce+C[J[ce]]>re?ce:re}(V),Y=V;Q!==V.length&&(y.uint8array?(Y=V.subarray(0,Q),this.leftOver=V.subarray(Q,V.length)):(Y=V.slice(0,Q),this.leftOver=V.slice(Q,V.length))),this.push({data:l.utf8decode(Y),meta:L.meta})},O.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:l.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},l.Utf8DecodeWorker=O,c.inherits(B,x),B.prototype.processChunk=function(L){this.push({data:l.utf8encode(L.data),meta:L.meta})},l.Utf8EncodeWorker=B},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(i,a,l){var c=i("./support"),y=i("./base64"),n=i("./nodejsUtils"),x=i("./external");function C(G){return G}function k(G,Q){for(var Y=0;Y<G.length;++Y)Q[Y]=255&G.charCodeAt(Y);return Q}i("setimmediate"),l.newBlob=function(G,Q){l.checkSupport("blob");try{return new Blob([G],{type:Q})}catch{try{var Y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return Y.append(G),Y.getBlob(Q)}catch{throw new Error("Bug : can't construct the Blob.")}}};var O={stringifyByChunk:function(G,Q,Y){var J=[],re=0,ce=G.length;if(ce<=Y)return String.fromCharCode.apply(null,G);for(;re<ce;)Q==="array"||Q==="nodebuffer"?J.push(String.fromCharCode.apply(null,G.slice(re,Math.min(re+Y,ce)))):J.push(String.fromCharCode.apply(null,G.subarray(re,Math.min(re+Y,ce)))),re+=Y;return J.join("")},stringifyByChar:function(G){for(var Q="",Y=0;Y<G.length;Y++)Q+=String.fromCharCode(G[Y]);return Q},applyCanBeUsed:{uint8array:function(){try{return c.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return c.nodebuffer&&String.fromCharCode.apply(null,n.allocBuffer(1)).length===1}catch{return!1}}()}};function B(G){var Q=65536,Y=l.getTypeOf(G),J=!0;if(Y==="uint8array"?J=O.applyCanBeUsed.uint8array:Y==="nodebuffer"&&(J=O.applyCanBeUsed.nodebuffer),J)for(;1<Q;)try{return O.stringifyByChunk(G,Y,Q)}catch{Q=Math.floor(Q/2)}return O.stringifyByChar(G)}function L(G,Q){for(var Y=0;Y<G.length;Y++)Q[Y]=G[Y];return Q}l.applyFromCharCode=B;var V={};V.string={string:C,array:function(G){return k(G,new Array(G.length))},arraybuffer:function(G){return V.string.uint8array(G).buffer},uint8array:function(G){return k(G,new Uint8Array(G.length))},nodebuffer:function(G){return k(G,n.allocBuffer(G.length))}},V.array={string:B,array:C,arraybuffer:function(G){return new Uint8Array(G).buffer},uint8array:function(G){return new Uint8Array(G)},nodebuffer:function(G){return n.newBufferFrom(G)}},V.arraybuffer={string:function(G){return B(new Uint8Array(G))},array:function(G){return L(new Uint8Array(G),new Array(G.byteLength))},arraybuffer:C,uint8array:function(G){return new Uint8Array(G)},nodebuffer:function(G){return n.newBufferFrom(new Uint8Array(G))}},V.uint8array={string:B,array:function(G){return L(G,new Array(G.length))},arraybuffer:function(G){return G.buffer},uint8array:C,nodebuffer:function(G){return n.newBufferFrom(G)}},V.nodebuffer={string:B,array:function(G){return L(G,new Array(G.length))},arraybuffer:function(G){return V.nodebuffer.uint8array(G).buffer},uint8array:function(G){return L(G,new Uint8Array(G.length))},nodebuffer:C},l.transformTo=function(G,Q){if(Q=Q||"",!G)return Q;l.checkSupport(G);var Y=l.getTypeOf(Q);return V[Y][G](Q)},l.resolve=function(G){for(var Q=G.split("/"),Y=[],J=0;J<Q.length;J++){var re=Q[J];re==="."||re===""&&J!==0&&J!==Q.length-1||(re===".."?Y.pop():Y.push(re))}return Y.join("/")},l.getTypeOf=function(G){return typeof G=="string"?"string":Object.prototype.toString.call(G)==="[object Array]"?"array":c.nodebuffer&&n.isBuffer(G)?"nodebuffer":c.uint8array&&G instanceof Uint8Array?"uint8array":c.arraybuffer&&G instanceof ArrayBuffer?"arraybuffer":void 0},l.checkSupport=function(G){if(!c[G.toLowerCase()])throw new Error(G+" is not supported by this platform")},l.MAX_VALUE_16BITS=65535,l.MAX_VALUE_32BITS=-1,l.pretty=function(G){var Q,Y,J="";for(Y=0;Y<(G||"").length;Y++)J+="\\x"+((Q=G.charCodeAt(Y))<16?"0":"")+Q.toString(16).toUpperCase();return J},l.delay=function(G,Q,Y){setImmediate(function(){G.apply(Y||null,Q||[])})},l.inherits=function(G,Q){function Y(){}Y.prototype=Q.prototype,G.prototype=new Y},l.extend=function(){var G,Q,Y={};for(G=0;G<arguments.length;G++)for(Q in arguments[G])Object.prototype.hasOwnProperty.call(arguments[G],Q)&&Y[Q]===void 0&&(Y[Q]=arguments[G][Q]);return Y},l.prepareContent=function(G,Q,Y,J,re){return x.Promise.resolve(Q).then(function(ce){return c.blob&&(ce instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(ce))!==-1)&&typeof FileReader<"u"?new x.Promise(function(he,we){var pe=new FileReader;pe.onload=function(De){he(De.target.result)},pe.onerror=function(De){we(De.target.error)},pe.readAsArrayBuffer(ce)}):ce}).then(function(ce){var he=l.getTypeOf(ce);return he?(he==="arraybuffer"?ce=l.transformTo("uint8array",ce):he==="string"&&(re?ce=y.decode(ce):Y&&J!==!0&&(ce=function(we){return k(we,c.uint8array?new Uint8Array(we.length):new Array(we.length))}(ce))),ce):x.Promise.reject(new Error("Can't read the data of '"+G+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(i,a,l){var c=i("./reader/readerFor"),y=i("./utils"),n=i("./signature"),x=i("./zipEntry"),C=i("./support");function k(O){this.files=[],this.loadOptions=O}k.prototype={checkSignature:function(O){if(!this.reader.readAndCheckSignature(O)){this.reader.index-=4;var B=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+y.pretty(B)+", expected "+y.pretty(O)+")")}},isSignature:function(O,B){var L=this.reader.index;this.reader.setIndex(O);var V=this.reader.readString(4)===B;return this.reader.setIndex(L),V},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var O=this.reader.readData(this.zipCommentLength),B=C.uint8array?"uint8array":"array",L=y.transformTo(B,O);this.zipComment=this.loadOptions.decodeFileName(L)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var O,B,L,V=this.zip64EndOfCentralSize-44;0<V;)O=this.reader.readInt(2),B=this.reader.readInt(4),L=this.reader.readData(B),this.zip64ExtensibleData[O]={id:O,length:B,value:L}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var O,B;for(O=0;O<this.files.length;O++)B=this.files[O],this.reader.setIndex(B.localHeaderOffset),this.checkSignature(n.LOCAL_FILE_HEADER),B.readLocalPart(this.reader),B.handleUTF8(),B.processAttributes()},readCentralDir:function(){var O;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(n.CENTRAL_FILE_HEADER);)(O=new x({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(O);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var O=this.reader.lastIndexOfSignature(n.CENTRAL_DIRECTORY_END);if(O<0)throw this.isSignature(0,n.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(O);var B=O;if(this.checkSignature(n.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===y.MAX_VALUE_16BITS||this.diskWithCentralDirStart===y.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===y.MAX_VALUE_16BITS||this.centralDirRecords===y.MAX_VALUE_16BITS||this.centralDirSize===y.MAX_VALUE_32BITS||this.centralDirOffset===y.MAX_VALUE_32BITS){if(this.zip64=!0,(O=this.reader.lastIndexOfSignature(n.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(O),this.checkSignature(n.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,n.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(n.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(n.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var L=this.centralDirOffset+this.centralDirSize;this.zip64&&(L+=20,L+=12+this.zip64EndOfCentralSize);var V=B-L;if(0<V)this.isSignature(B,n.CENTRAL_FILE_HEADER)||(this.reader.zero=V);else if(V<0)throw new Error("Corrupted zip: missing "+Math.abs(V)+" bytes.")},prepareReader:function(O){this.reader=c(O)},load:function(O){this.prepareReader(O),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},a.exports=k},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(i,a,l){var c=i("./reader/readerFor"),y=i("./utils"),n=i("./compressedObject"),x=i("./crc32"),C=i("./utf8"),k=i("./compressions"),O=i("./support");function B(L,V){this.options=L,this.loadOptions=V}B.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(L){var V,G;if(L.skip(22),this.fileNameLength=L.readInt(2),G=L.readInt(2),this.fileName=L.readData(this.fileNameLength),L.skip(G),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((V=function(Q){for(var Y in k)if(Object.prototype.hasOwnProperty.call(k,Y)&&k[Y].magic===Q)return k[Y];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+y.pretty(this.compressionMethod)+" unknown (inner file : "+y.transformTo("string",this.fileName)+")");this.decompressed=new n(this.compressedSize,this.uncompressedSize,this.crc32,V,L.readData(this.compressedSize))},readCentralPart:function(L){this.versionMadeBy=L.readInt(2),L.skip(2),this.bitFlag=L.readInt(2),this.compressionMethod=L.readString(2),this.date=L.readDate(),this.crc32=L.readInt(4),this.compressedSize=L.readInt(4),this.uncompressedSize=L.readInt(4);var V=L.readInt(2);if(this.extraFieldsLength=L.readInt(2),this.fileCommentLength=L.readInt(2),this.diskNumberStart=L.readInt(2),this.internalFileAttributes=L.readInt(2),this.externalFileAttributes=L.readInt(4),this.localHeaderOffset=L.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");L.skip(V),this.readExtraFields(L),this.parseZIP64ExtraField(L),this.fileComment=L.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var L=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),L==0&&(this.dosPermissions=63&this.externalFileAttributes),L==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var L=c(this.extraFields[1].value);this.uncompressedSize===y.MAX_VALUE_32BITS&&(this.uncompressedSize=L.readInt(8)),this.compressedSize===y.MAX_VALUE_32BITS&&(this.compressedSize=L.readInt(8)),this.localHeaderOffset===y.MAX_VALUE_32BITS&&(this.localHeaderOffset=L.readInt(8)),this.diskNumberStart===y.MAX_VALUE_32BITS&&(this.diskNumberStart=L.readInt(4))}},readExtraFields:function(L){var V,G,Q,Y=L.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});L.index+4<Y;)V=L.readInt(2),G=L.readInt(2),Q=L.readData(G),this.extraFields[V]={id:V,length:G,value:Q};L.setIndex(Y)},handleUTF8:function(){var L=O.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=C.utf8decode(this.fileName),this.fileCommentStr=C.utf8decode(this.fileComment);else{var V=this.findExtraFieldUnicodePath();if(V!==null)this.fileNameStr=V;else{var G=y.transformTo(L,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(G)}var Q=this.findExtraFieldUnicodeComment();if(Q!==null)this.fileCommentStr=Q;else{var Y=y.transformTo(L,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(Y)}}},findExtraFieldUnicodePath:function(){var L=this.extraFields[28789];if(L){var V=c(L.value);return V.readInt(1)!==1||x(this.fileName)!==V.readInt(4)?null:C.utf8decode(V.readData(L.length-5))}return null},findExtraFieldUnicodeComment:function(){var L=this.extraFields[25461];if(L){var V=c(L.value);return V.readInt(1)!==1||x(this.fileComment)!==V.readInt(4)?null:C.utf8decode(V.readData(L.length-5))}return null}},a.exports=B},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(i,a,l){function c(V,G,Q){this.name=V,this.dir=Q.dir,this.date=Q.date,this.comment=Q.comment,this.unixPermissions=Q.unixPermissions,this.dosPermissions=Q.dosPermissions,this._data=G,this._dataBinary=Q.binary,this.options={compression:Q.compression,compressionOptions:Q.compressionOptions}}var y=i("./stream/StreamHelper"),n=i("./stream/DataWorker"),x=i("./utf8"),C=i("./compressedObject"),k=i("./stream/GenericWorker");c.prototype={internalStream:function(V){var G=null,Q="string";try{if(!V)throw new Error("No output type specified.");var Y=(Q=V.toLowerCase())==="string"||Q==="text";Q!=="binarystring"&&Q!=="text"||(Q="string"),G=this._decompressWorker();var J=!this._dataBinary;J&&!Y&&(G=G.pipe(new x.Utf8EncodeWorker)),!J&&Y&&(G=G.pipe(new x.Utf8DecodeWorker))}catch(re){(G=new k("error")).error(re)}return new y(G,Q,"")},async:function(V,G){return this.internalStream(V).accumulate(G)},nodeStream:function(V,G){return this.internalStream(V||"nodebuffer").toNodejsStream(G)},_compressWorker:function(V,G){if(this._data instanceof C&&this._data.compression.magic===V.magic)return this._data.getCompressedWorker();var Q=this._decompressWorker();return this._dataBinary||(Q=Q.pipe(new x.Utf8EncodeWorker)),C.createWorkerFrom(Q,V,G)},_decompressWorker:function(){return this._data instanceof C?this._data.getContentWorker():this._data instanceof k?this._data:new n(this._data)}};for(var O=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],B=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},L=0;L<O.length;L++)c.prototype[O[L]]=B;a.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(i,a,l){(function(c){var y,n,x=c.MutationObserver||c.WebKitMutationObserver;if(x){var C=0,k=new x(V),O=c.document.createTextNode("");k.observe(O,{characterData:!0}),y=function(){O.data=C=++C%2}}else if(c.setImmediate||c.MessageChannel===void 0)y="document"in c&&"onreadystatechange"in c.document.createElement("script")?function(){var G=c.document.createElement("script");G.onreadystatechange=function(){V(),G.onreadystatechange=null,G.parentNode.removeChild(G),G=null},c.document.documentElement.appendChild(G)}:function(){setTimeout(V,0)};else{var B=new c.MessageChannel;B.port1.onmessage=V,y=function(){B.port2.postMessage(0)}}var L=[];function V(){var G,Q;n=!0;for(var Y=L.length;Y;){for(Q=L,L=[],G=-1;++G<Y;)Q[G]();Y=L.length}n=!1}a.exports=function(G){L.push(G)!==1||n||y()}}).call(this,typeof Nn<"u"?Nn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(i,a,l){var c=i("immediate");function y(){}var n={},x=["REJECTED"],C=["FULFILLED"],k=["PENDING"];function O(Y){if(typeof Y!="function")throw new TypeError("resolver must be a function");this.state=k,this.queue=[],this.outcome=void 0,Y!==y&&G(this,Y)}function B(Y,J,re){this.promise=Y,typeof J=="function"&&(this.onFulfilled=J,this.callFulfilled=this.otherCallFulfilled),typeof re=="function"&&(this.onRejected=re,this.callRejected=this.otherCallRejected)}function L(Y,J,re){c(function(){var ce;try{ce=J(re)}catch(he){return n.reject(Y,he)}ce===Y?n.reject(Y,new TypeError("Cannot resolve promise with itself")):n.resolve(Y,ce)})}function V(Y){var J=Y&&Y.then;if(Y&&(typeof Y=="object"||typeof Y=="function")&&typeof J=="function")return function(){J.apply(Y,arguments)}}function G(Y,J){var re=!1;function ce(pe){re||(re=!0,n.reject(Y,pe))}function he(pe){re||(re=!0,n.resolve(Y,pe))}var we=Q(function(){J(he,ce)});we.status==="error"&&ce(we.value)}function Q(Y,J){var re={};try{re.value=Y(J),re.status="success"}catch(ce){re.status="error",re.value=ce}return re}(a.exports=O).prototype.finally=function(Y){if(typeof Y!="function")return this;var J=this.constructor;return this.then(function(re){return J.resolve(Y()).then(function(){return re})},function(re){return J.resolve(Y()).then(function(){throw re})})},O.prototype.catch=function(Y){return this.then(null,Y)},O.prototype.then=function(Y,J){if(typeof Y!="function"&&this.state===C||typeof J!="function"&&this.state===x)return this;var re=new this.constructor(y);return this.state!==k?L(re,this.state===C?Y:J,this.outcome):this.queue.push(new B(re,Y,J)),re},B.prototype.callFulfilled=function(Y){n.resolve(this.promise,Y)},B.prototype.otherCallFulfilled=function(Y){L(this.promise,this.onFulfilled,Y)},B.prototype.callRejected=function(Y){n.reject(this.promise,Y)},B.prototype.otherCallRejected=function(Y){L(this.promise,this.onRejected,Y)},n.resolve=function(Y,J){var re=Q(V,J);if(re.status==="error")return n.reject(Y,re.value);var ce=re.value;if(ce)G(Y,ce);else{Y.state=C,Y.outcome=J;for(var he=-1,we=Y.queue.length;++he<we;)Y.queue[he].callFulfilled(J)}return Y},n.reject=function(Y,J){Y.state=x,Y.outcome=J;for(var re=-1,ce=Y.queue.length;++re<ce;)Y.queue[re].callRejected(J);return Y},O.resolve=function(Y){return Y instanceof this?Y:n.resolve(new this(y),Y)},O.reject=function(Y){var J=new this(y);return n.reject(J,Y)},O.all=function(Y){var J=this;if(Object.prototype.toString.call(Y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var re=Y.length,ce=!1;if(!re)return this.resolve([]);for(var he=new Array(re),we=0,pe=-1,De=new this(y);++pe<re;)Ae(Y[pe],pe);return De;function Ae(Ne,it){J.resolve(Ne).then(function(ye){he[it]=ye,++we!==re||ce||(ce=!0,n.resolve(De,he))},function(ye){ce||(ce=!0,n.reject(De,ye))})}},O.race=function(Y){var J=this;if(Object.prototype.toString.call(Y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var re=Y.length,ce=!1;if(!re)return this.resolve([]);for(var he=-1,we=new this(y);++he<re;)pe=Y[he],J.resolve(pe).then(function(De){ce||(ce=!0,n.resolve(we,De))},function(De){ce||(ce=!0,n.reject(we,De))});var pe;return we}},{immediate:36}],38:[function(i,a,l){var c={};(0,i("./lib/utils/common").assign)(c,i("./lib/deflate"),i("./lib/inflate"),i("./lib/zlib/constants")),a.exports=c},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(i,a,l){var c=i("./zlib/deflate"),y=i("./utils/common"),n=i("./utils/strings"),x=i("./zlib/messages"),C=i("./zlib/zstream"),k=Object.prototype.toString,O=0,B=-1,L=0,V=8;function G(Y){if(!(this instanceof G))return new G(Y);this.options=y.assign({level:B,method:V,chunkSize:16384,windowBits:15,memLevel:8,strategy:L,to:""},Y||{});var J=this.options;J.raw&&0<J.windowBits?J.windowBits=-J.windowBits:J.gzip&&0<J.windowBits&&J.windowBits<16&&(J.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new C,this.strm.avail_out=0;var re=c.deflateInit2(this.strm,J.level,J.method,J.windowBits,J.memLevel,J.strategy);if(re!==O)throw new Error(x[re]);if(J.header&&c.deflateSetHeader(this.strm,J.header),J.dictionary){var ce;if(ce=typeof J.dictionary=="string"?n.string2buf(J.dictionary):k.call(J.dictionary)==="[object ArrayBuffer]"?new Uint8Array(J.dictionary):J.dictionary,(re=c.deflateSetDictionary(this.strm,ce))!==O)throw new Error(x[re]);this._dict_set=!0}}function Q(Y,J){var re=new G(J);if(re.push(Y,!0),re.err)throw re.msg||x[re.err];return re.result}G.prototype.push=function(Y,J){var re,ce,he=this.strm,we=this.options.chunkSize;if(this.ended)return!1;ce=J===~~J?J:J===!0?4:0,typeof Y=="string"?he.input=n.string2buf(Y):k.call(Y)==="[object ArrayBuffer]"?he.input=new Uint8Array(Y):he.input=Y,he.next_in=0,he.avail_in=he.input.length;do{if(he.avail_out===0&&(he.output=new y.Buf8(we),he.next_out=0,he.avail_out=we),(re=c.deflate(he,ce))!==1&&re!==O)return this.onEnd(re),!(this.ended=!0);he.avail_out!==0&&(he.avail_in!==0||ce!==4&&ce!==2)||(this.options.to==="string"?this.onData(n.buf2binstring(y.shrinkBuf(he.output,he.next_out))):this.onData(y.shrinkBuf(he.output,he.next_out)))}while((0<he.avail_in||he.avail_out===0)&&re!==1);return ce===4?(re=c.deflateEnd(this.strm),this.onEnd(re),this.ended=!0,re===O):ce!==2||(this.onEnd(O),!(he.avail_out=0))},G.prototype.onData=function(Y){this.chunks.push(Y)},G.prototype.onEnd=function(Y){Y===O&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=Y,this.msg=this.strm.msg},l.Deflate=G,l.deflate=Q,l.deflateRaw=function(Y,J){return(J=J||{}).raw=!0,Q(Y,J)},l.gzip=function(Y,J){return(J=J||{}).gzip=!0,Q(Y,J)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(i,a,l){var c=i("./zlib/inflate"),y=i("./utils/common"),n=i("./utils/strings"),x=i("./zlib/constants"),C=i("./zlib/messages"),k=i("./zlib/zstream"),O=i("./zlib/gzheader"),B=Object.prototype.toString;function L(G){if(!(this instanceof L))return new L(G);this.options=y.assign({chunkSize:16384,windowBits:0,to:""},G||{});var Q=this.options;Q.raw&&0<=Q.windowBits&&Q.windowBits<16&&(Q.windowBits=-Q.windowBits,Q.windowBits===0&&(Q.windowBits=-15)),!(0<=Q.windowBits&&Q.windowBits<16)||G&&G.windowBits||(Q.windowBits+=32),15<Q.windowBits&&Q.windowBits<48&&!(15&Q.windowBits)&&(Q.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k,this.strm.avail_out=0;var Y=c.inflateInit2(this.strm,Q.windowBits);if(Y!==x.Z_OK)throw new Error(C[Y]);this.header=new O,c.inflateGetHeader(this.strm,this.header)}function V(G,Q){var Y=new L(Q);if(Y.push(G,!0),Y.err)throw Y.msg||C[Y.err];return Y.result}L.prototype.push=function(G,Q){var Y,J,re,ce,he,we,pe=this.strm,De=this.options.chunkSize,Ae=this.options.dictionary,Ne=!1;if(this.ended)return!1;J=Q===~~Q?Q:Q===!0?x.Z_FINISH:x.Z_NO_FLUSH,typeof G=="string"?pe.input=n.binstring2buf(G):B.call(G)==="[object ArrayBuffer]"?pe.input=new Uint8Array(G):pe.input=G,pe.next_in=0,pe.avail_in=pe.input.length;do{if(pe.avail_out===0&&(pe.output=new y.Buf8(De),pe.next_out=0,pe.avail_out=De),(Y=c.inflate(pe,x.Z_NO_FLUSH))===x.Z_NEED_DICT&&Ae&&(we=typeof Ae=="string"?n.string2buf(Ae):B.call(Ae)==="[object ArrayBuffer]"?new Uint8Array(Ae):Ae,Y=c.inflateSetDictionary(this.strm,we)),Y===x.Z_BUF_ERROR&&Ne===!0&&(Y=x.Z_OK,Ne=!1),Y!==x.Z_STREAM_END&&Y!==x.Z_OK)return this.onEnd(Y),!(this.ended=!0);pe.next_out&&(pe.avail_out!==0&&Y!==x.Z_STREAM_END&&(pe.avail_in!==0||J!==x.Z_FINISH&&J!==x.Z_SYNC_FLUSH)||(this.options.to==="string"?(re=n.utf8border(pe.output,pe.next_out),ce=pe.next_out-re,he=n.buf2string(pe.output,re),pe.next_out=ce,pe.avail_out=De-ce,ce&&y.arraySet(pe.output,pe.output,re,ce,0),this.onData(he)):this.onData(y.shrinkBuf(pe.output,pe.next_out)))),pe.avail_in===0&&pe.avail_out===0&&(Ne=!0)}while((0<pe.avail_in||pe.avail_out===0)&&Y!==x.Z_STREAM_END);return Y===x.Z_STREAM_END&&(J=x.Z_FINISH),J===x.Z_FINISH?(Y=c.inflateEnd(this.strm),this.onEnd(Y),this.ended=!0,Y===x.Z_OK):J!==x.Z_SYNC_FLUSH||(this.onEnd(x.Z_OK),!(pe.avail_out=0))},L.prototype.onData=function(G){this.chunks.push(G)},L.prototype.onEnd=function(G){G===x.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=G,this.msg=this.strm.msg},l.Inflate=L,l.inflate=V,l.inflateRaw=function(G,Q){return(Q=Q||{}).raw=!0,V(G,Q)},l.ungzip=V},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(i,a,l){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";l.assign=function(x){for(var C=Array.prototype.slice.call(arguments,1);C.length;){var k=C.shift();if(k){if(typeof k!="object")throw new TypeError(k+"must be non-object");for(var O in k)k.hasOwnProperty(O)&&(x[O]=k[O])}}return x},l.shrinkBuf=function(x,C){return x.length===C?x:x.subarray?x.subarray(0,C):(x.length=C,x)};var y={arraySet:function(x,C,k,O,B){if(C.subarray&&x.subarray)x.set(C.subarray(k,k+O),B);else for(var L=0;L<O;L++)x[B+L]=C[k+L]},flattenChunks:function(x){var C,k,O,B,L,V;for(C=O=0,k=x.length;C<k;C++)O+=x[C].length;for(V=new Uint8Array(O),C=B=0,k=x.length;C<k;C++)L=x[C],V.set(L,B),B+=L.length;return V}},n={arraySet:function(x,C,k,O,B){for(var L=0;L<O;L++)x[B+L]=C[k+L]},flattenChunks:function(x){return[].concat.apply([],x)}};l.setTyped=function(x){x?(l.Buf8=Uint8Array,l.Buf16=Uint16Array,l.Buf32=Int32Array,l.assign(l,y)):(l.Buf8=Array,l.Buf16=Array,l.Buf32=Array,l.assign(l,n))},l.setTyped(c)},{}],42:[function(i,a,l){var c=i("./common"),y=!0,n=!0;try{String.fromCharCode.apply(null,[0])}catch{y=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{n=!1}for(var x=new c.Buf8(256),C=0;C<256;C++)x[C]=252<=C?6:248<=C?5:240<=C?4:224<=C?3:192<=C?2:1;function k(O,B){if(B<65537&&(O.subarray&&n||!O.subarray&&y))return String.fromCharCode.apply(null,c.shrinkBuf(O,B));for(var L="",V=0;V<B;V++)L+=String.fromCharCode(O[V]);return L}x[254]=x[254]=1,l.string2buf=function(O){var B,L,V,G,Q,Y=O.length,J=0;for(G=0;G<Y;G++)(64512&(L=O.charCodeAt(G)))==55296&&G+1<Y&&(64512&(V=O.charCodeAt(G+1)))==56320&&(L=65536+(L-55296<<10)+(V-56320),G++),J+=L<128?1:L<2048?2:L<65536?3:4;for(B=new c.Buf8(J),G=Q=0;Q<J;G++)(64512&(L=O.charCodeAt(G)))==55296&&G+1<Y&&(64512&(V=O.charCodeAt(G+1)))==56320&&(L=65536+(L-55296<<10)+(V-56320),G++),L<128?B[Q++]=L:(L<2048?B[Q++]=192|L>>>6:(L<65536?B[Q++]=224|L>>>12:(B[Q++]=240|L>>>18,B[Q++]=128|L>>>12&63),B[Q++]=128|L>>>6&63),B[Q++]=128|63&L);return B},l.buf2binstring=function(O){return k(O,O.length)},l.binstring2buf=function(O){for(var B=new c.Buf8(O.length),L=0,V=B.length;L<V;L++)B[L]=O.charCodeAt(L);return B},l.buf2string=function(O,B){var L,V,G,Q,Y=B||O.length,J=new Array(2*Y);for(L=V=0;L<Y;)if((G=O[L++])<128)J[V++]=G;else if(4<(Q=x[G]))J[V++]=65533,L+=Q-1;else{for(G&=Q===2?31:Q===3?15:7;1<Q&&L<Y;)G=G<<6|63&O[L++],Q--;1<Q?J[V++]=65533:G<65536?J[V++]=G:(G-=65536,J[V++]=55296|G>>10&1023,J[V++]=56320|1023&G)}return k(J,V)},l.utf8border=function(O,B){var L;for((B=B||O.length)>O.length&&(B=O.length),L=B-1;0<=L&&(192&O[L])==128;)L--;return L<0||L===0?B:L+x[O[L]]>B?L:B}},{"./common":41}],43:[function(i,a,l){a.exports=function(c,y,n,x){for(var C=65535&c|0,k=c>>>16&65535|0,O=0;n!==0;){for(n-=O=2e3<n?2e3:n;k=k+(C=C+y[x++]|0)|0,--O;);C%=65521,k%=65521}return C|k<<16|0}},{}],44:[function(i,a,l){a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(i,a,l){var c=function(){for(var y,n=[],x=0;x<256;x++){y=x;for(var C=0;C<8;C++)y=1&y?3988292384^y>>>1:y>>>1;n[x]=y}return n}();a.exports=function(y,n,x,C){var k=c,O=C+x;y^=-1;for(var B=C;B<O;B++)y=y>>>8^k[255&(y^n[B])];return-1^y}},{}],46:[function(i,a,l){var c,y=i("../utils/common"),n=i("./trees"),x=i("./adler32"),C=i("./crc32"),k=i("./messages"),O=0,B=4,L=0,V=-2,G=-1,Q=4,Y=2,J=8,re=9,ce=286,he=30,we=19,pe=2*ce+1,De=15,Ae=3,Ne=258,it=Ne+Ae+1,ye=42,Oe=113,ue=1,ct=2,Ct=3,pt=4;function Ut(K,et){return K.msg=k[et],et}function vt(K){return(K<<1)-(4<K?9:0)}function Bt(K){for(var et=K.length;0<=--et;)K[et]=0}function It(K){var et=K.state,ot=et.pending;ot>K.avail_out&&(ot=K.avail_out),ot!==0&&(y.arraySet(K.output,et.pending_buf,et.pending_out,ot,K.next_out),K.next_out+=ot,et.pending_out+=ot,K.total_out+=ot,K.avail_out-=ot,et.pending-=ot,et.pending===0&&(et.pending_out=0))}function St(K,et){n._tr_flush_block(K,0<=K.block_start?K.block_start:-1,K.strstart-K.block_start,et),K.block_start=K.strstart,It(K.strm)}function Wt(K,et){K.pending_buf[K.pending++]=et}function ui(K,et){K.pending_buf[K.pending++]=et>>>8&255,K.pending_buf[K.pending++]=255&et}function di(K,et){var ot,Te,_e=K.max_chain_length,Ye=K.strstart,qe=K.prev_length,rt=K.nice_match,Ge=K.strstart>K.w_size-it?K.strstart-(K.w_size-it):0,Mt=K.window,nt=K.w_mask,Et=K.prev,Xt=K.strstart+Ne,Ti=Mt[Ye+qe-1],wi=Mt[Ye+qe];K.prev_length>=K.good_match&&(_e>>=2),rt>K.lookahead&&(rt=K.lookahead);do if(Mt[(ot=et)+qe]===wi&&Mt[ot+qe-1]===Ti&&Mt[ot]===Mt[Ye]&&Mt[++ot]===Mt[Ye+1]){Ye+=2,ot++;do;while(Mt[++Ye]===Mt[++ot]&&Mt[++Ye]===Mt[++ot]&&Mt[++Ye]===Mt[++ot]&&Mt[++Ye]===Mt[++ot]&&Mt[++Ye]===Mt[++ot]&&Mt[++Ye]===Mt[++ot]&&Mt[++Ye]===Mt[++ot]&&Mt[++Ye]===Mt[++ot]&&Ye<Xt);if(Te=Ne-(Xt-Ye),Ye=Xt-Ne,qe<Te){if(K.match_start=et,rt<=(qe=Te))break;Ti=Mt[Ye+qe-1],wi=Mt[Ye+qe]}}while((et=Et[et&nt])>Ge&&--_e!=0);return qe<=K.lookahead?qe:K.lookahead}function Ji(K){var et,ot,Te,_e,Ye,qe,rt,Ge,Mt,nt,Et=K.w_size;do{if(_e=K.window_size-K.lookahead-K.strstart,K.strstart>=Et+(Et-it)){for(y.arraySet(K.window,K.window,Et,Et,0),K.match_start-=Et,K.strstart-=Et,K.block_start-=Et,et=ot=K.hash_size;Te=K.head[--et],K.head[et]=Et<=Te?Te-Et:0,--ot;);for(et=ot=Et;Te=K.prev[--et],K.prev[et]=Et<=Te?Te-Et:0,--ot;);_e+=Et}if(K.strm.avail_in===0)break;if(qe=K.strm,rt=K.window,Ge=K.strstart+K.lookahead,Mt=_e,nt=void 0,nt=qe.avail_in,Mt<nt&&(nt=Mt),ot=nt===0?0:(qe.avail_in-=nt,y.arraySet(rt,qe.input,qe.next_in,nt,Ge),qe.state.wrap===1?qe.adler=x(qe.adler,rt,nt,Ge):qe.state.wrap===2&&(qe.adler=C(qe.adler,rt,nt,Ge)),qe.next_in+=nt,qe.total_in+=nt,nt),K.lookahead+=ot,K.lookahead+K.insert>=Ae)for(Ye=K.strstart-K.insert,K.ins_h=K.window[Ye],K.ins_h=(K.ins_h<<K.hash_shift^K.window[Ye+1])&K.hash_mask;K.insert&&(K.ins_h=(K.ins_h<<K.hash_shift^K.window[Ye+Ae-1])&K.hash_mask,K.prev[Ye&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=Ye,Ye++,K.insert--,!(K.lookahead+K.insert<Ae)););}while(K.lookahead<it&&K.strm.avail_in!==0)}function $t(K,et){for(var ot,Te;;){if(K.lookahead<it){if(Ji(K),K.lookahead<it&&et===O)return ue;if(K.lookahead===0)break}if(ot=0,K.lookahead>=Ae&&(K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+Ae-1])&K.hash_mask,ot=K.prev[K.strstart&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=K.strstart),ot!==0&&K.strstart-ot<=K.w_size-it&&(K.match_length=di(K,ot)),K.match_length>=Ae)if(Te=n._tr_tally(K,K.strstart-K.match_start,K.match_length-Ae),K.lookahead-=K.match_length,K.match_length<=K.max_lazy_match&&K.lookahead>=Ae){for(K.match_length--;K.strstart++,K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+Ae-1])&K.hash_mask,ot=K.prev[K.strstart&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=K.strstart,--K.match_length!=0;);K.strstart++}else K.strstart+=K.match_length,K.match_length=0,K.ins_h=K.window[K.strstart],K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+1])&K.hash_mask;else Te=n._tr_tally(K,0,K.window[K.strstart]),K.lookahead--,K.strstart++;if(Te&&(St(K,!1),K.strm.avail_out===0))return ue}return K.insert=K.strstart<Ae-1?K.strstart:Ae-1,et===B?(St(K,!0),K.strm.avail_out===0?Ct:pt):K.last_lit&&(St(K,!1),K.strm.avail_out===0)?ue:ct}function ii(K,et){for(var ot,Te,_e;;){if(K.lookahead<it){if(Ji(K),K.lookahead<it&&et===O)return ue;if(K.lookahead===0)break}if(ot=0,K.lookahead>=Ae&&(K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+Ae-1])&K.hash_mask,ot=K.prev[K.strstart&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=K.strstart),K.prev_length=K.match_length,K.prev_match=K.match_start,K.match_length=Ae-1,ot!==0&&K.prev_length<K.max_lazy_match&&K.strstart-ot<=K.w_size-it&&(K.match_length=di(K,ot),K.match_length<=5&&(K.strategy===1||K.match_length===Ae&&4096<K.strstart-K.match_start)&&(K.match_length=Ae-1)),K.prev_length>=Ae&&K.match_length<=K.prev_length){for(_e=K.strstart+K.lookahead-Ae,Te=n._tr_tally(K,K.strstart-1-K.prev_match,K.prev_length-Ae),K.lookahead-=K.prev_length-1,K.prev_length-=2;++K.strstart<=_e&&(K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+Ae-1])&K.hash_mask,ot=K.prev[K.strstart&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=K.strstart),--K.prev_length!=0;);if(K.match_available=0,K.match_length=Ae-1,K.strstart++,Te&&(St(K,!1),K.strm.avail_out===0))return ue}else if(K.match_available){if((Te=n._tr_tally(K,0,K.window[K.strstart-1]))&&St(K,!1),K.strstart++,K.lookahead--,K.strm.avail_out===0)return ue}else K.match_available=1,K.strstart++,K.lookahead--}return K.match_available&&(Te=n._tr_tally(K,0,K.window[K.strstart-1]),K.match_available=0),K.insert=K.strstart<Ae-1?K.strstart:Ae-1,et===B?(St(K,!0),K.strm.avail_out===0?Ct:pt):K.last_lit&&(St(K,!1),K.strm.avail_out===0)?ue:ct}function ni(K,et,ot,Te,_e){this.good_length=K,this.max_lazy=et,this.nice_length=ot,this.max_chain=Te,this.func=_e}function Re(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=J,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new y.Buf16(2*pe),this.dyn_dtree=new y.Buf16(2*(2*he+1)),this.bl_tree=new y.Buf16(2*(2*we+1)),Bt(this.dyn_ltree),Bt(this.dyn_dtree),Bt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new y.Buf16(De+1),this.heap=new y.Buf16(2*ce+1),Bt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new y.Buf16(2*ce+1),Bt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function zi(K){var et;return K&&K.state?(K.total_in=K.total_out=0,K.data_type=Y,(et=K.state).pending=0,et.pending_out=0,et.wrap<0&&(et.wrap=-et.wrap),et.status=et.wrap?ye:Oe,K.adler=et.wrap===2?0:1,et.last_flush=O,n._tr_init(et),L):Ut(K,V)}function hn(K){var et=zi(K);return et===L&&function(ot){ot.window_size=2*ot.w_size,Bt(ot.head),ot.max_lazy_match=c[ot.level].max_lazy,ot.good_match=c[ot.level].good_length,ot.nice_match=c[ot.level].nice_length,ot.max_chain_length=c[ot.level].max_chain,ot.strstart=0,ot.block_start=0,ot.lookahead=0,ot.insert=0,ot.match_length=ot.prev_length=Ae-1,ot.match_available=0,ot.ins_h=0}(K.state),et}function ze(K,et,ot,Te,_e,Ye){if(!K)return V;var qe=1;if(et===G&&(et=6),Te<0?(qe=0,Te=-Te):15<Te&&(qe=2,Te-=16),_e<1||re<_e||ot!==J||Te<8||15<Te||et<0||9<et||Ye<0||Q<Ye)return Ut(K,V);Te===8&&(Te=9);var rt=new Re;return(K.state=rt).strm=K,rt.wrap=qe,rt.gzhead=null,rt.w_bits=Te,rt.w_size=1<<rt.w_bits,rt.w_mask=rt.w_size-1,rt.hash_bits=_e+7,rt.hash_size=1<<rt.hash_bits,rt.hash_mask=rt.hash_size-1,rt.hash_shift=~~((rt.hash_bits+Ae-1)/Ae),rt.window=new y.Buf8(2*rt.w_size),rt.head=new y.Buf16(rt.hash_size),rt.prev=new y.Buf16(rt.w_size),rt.lit_bufsize=1<<_e+6,rt.pending_buf_size=4*rt.lit_bufsize,rt.pending_buf=new y.Buf8(rt.pending_buf_size),rt.d_buf=1*rt.lit_bufsize,rt.l_buf=3*rt.lit_bufsize,rt.level=et,rt.strategy=Ye,rt.method=ot,hn(K)}c=[new ni(0,0,0,0,function(K,et){var ot=65535;for(ot>K.pending_buf_size-5&&(ot=K.pending_buf_size-5);;){if(K.lookahead<=1){if(Ji(K),K.lookahead===0&&et===O)return ue;if(K.lookahead===0)break}K.strstart+=K.lookahead,K.lookahead=0;var Te=K.block_start+ot;if((K.strstart===0||K.strstart>=Te)&&(K.lookahead=K.strstart-Te,K.strstart=Te,St(K,!1),K.strm.avail_out===0)||K.strstart-K.block_start>=K.w_size-it&&(St(K,!1),K.strm.avail_out===0))return ue}return K.insert=0,et===B?(St(K,!0),K.strm.avail_out===0?Ct:pt):(K.strstart>K.block_start&&(St(K,!1),K.strm.avail_out),ue)}),new ni(4,4,8,4,$t),new ni(4,5,16,8,$t),new ni(4,6,32,32,$t),new ni(4,4,16,16,ii),new ni(8,16,32,32,ii),new ni(8,16,128,128,ii),new ni(8,32,128,256,ii),new ni(32,128,258,1024,ii),new ni(32,258,258,4096,ii)],l.deflateInit=function(K,et){return ze(K,et,J,15,8,0)},l.deflateInit2=ze,l.deflateReset=hn,l.deflateResetKeep=zi,l.deflateSetHeader=function(K,et){return K&&K.state?K.state.wrap!==2?V:(K.state.gzhead=et,L):V},l.deflate=function(K,et){var ot,Te,_e,Ye;if(!K||!K.state||5<et||et<0)return K?Ut(K,V):V;if(Te=K.state,!K.output||!K.input&&K.avail_in!==0||Te.status===666&&et!==B)return Ut(K,K.avail_out===0?-5:V);if(Te.strm=K,ot=Te.last_flush,Te.last_flush=et,Te.status===ye)if(Te.wrap===2)K.adler=0,Wt(Te,31),Wt(Te,139),Wt(Te,8),Te.gzhead?(Wt(Te,(Te.gzhead.text?1:0)+(Te.gzhead.hcrc?2:0)+(Te.gzhead.extra?4:0)+(Te.gzhead.name?8:0)+(Te.gzhead.comment?16:0)),Wt(Te,255&Te.gzhead.time),Wt(Te,Te.gzhead.time>>8&255),Wt(Te,Te.gzhead.time>>16&255),Wt(Te,Te.gzhead.time>>24&255),Wt(Te,Te.level===9?2:2<=Te.strategy||Te.level<2?4:0),Wt(Te,255&Te.gzhead.os),Te.gzhead.extra&&Te.gzhead.extra.length&&(Wt(Te,255&Te.gzhead.extra.length),Wt(Te,Te.gzhead.extra.length>>8&255)),Te.gzhead.hcrc&&(K.adler=C(K.adler,Te.pending_buf,Te.pending,0)),Te.gzindex=0,Te.status=69):(Wt(Te,0),Wt(Te,0),Wt(Te,0),Wt(Te,0),Wt(Te,0),Wt(Te,Te.level===9?2:2<=Te.strategy||Te.level<2?4:0),Wt(Te,3),Te.status=Oe);else{var qe=J+(Te.w_bits-8<<4)<<8;qe|=(2<=Te.strategy||Te.level<2?0:Te.level<6?1:Te.level===6?2:3)<<6,Te.strstart!==0&&(qe|=32),qe+=31-qe%31,Te.status=Oe,ui(Te,qe),Te.strstart!==0&&(ui(Te,K.adler>>>16),ui(Te,65535&K.adler)),K.adler=1}if(Te.status===69)if(Te.gzhead.extra){for(_e=Te.pending;Te.gzindex<(65535&Te.gzhead.extra.length)&&(Te.pending!==Te.pending_buf_size||(Te.gzhead.hcrc&&Te.pending>_e&&(K.adler=C(K.adler,Te.pending_buf,Te.pending-_e,_e)),It(K),_e=Te.pending,Te.pending!==Te.pending_buf_size));)Wt(Te,255&Te.gzhead.extra[Te.gzindex]),Te.gzindex++;Te.gzhead.hcrc&&Te.pending>_e&&(K.adler=C(K.adler,Te.pending_buf,Te.pending-_e,_e)),Te.gzindex===Te.gzhead.extra.length&&(Te.gzindex=0,Te.status=73)}else Te.status=73;if(Te.status===73)if(Te.gzhead.name){_e=Te.pending;do{if(Te.pending===Te.pending_buf_size&&(Te.gzhead.hcrc&&Te.pending>_e&&(K.adler=C(K.adler,Te.pending_buf,Te.pending-_e,_e)),It(K),_e=Te.pending,Te.pending===Te.pending_buf_size)){Ye=1;break}Ye=Te.gzindex<Te.gzhead.name.length?255&Te.gzhead.name.charCodeAt(Te.gzindex++):0,Wt(Te,Ye)}while(Ye!==0);Te.gzhead.hcrc&&Te.pending>_e&&(K.adler=C(K.adler,Te.pending_buf,Te.pending-_e,_e)),Ye===0&&(Te.gzindex=0,Te.status=91)}else Te.status=91;if(Te.status===91)if(Te.gzhead.comment){_e=Te.pending;do{if(Te.pending===Te.pending_buf_size&&(Te.gzhead.hcrc&&Te.pending>_e&&(K.adler=C(K.adler,Te.pending_buf,Te.pending-_e,_e)),It(K),_e=Te.pending,Te.pending===Te.pending_buf_size)){Ye=1;break}Ye=Te.gzindex<Te.gzhead.comment.length?255&Te.gzhead.comment.charCodeAt(Te.gzindex++):0,Wt(Te,Ye)}while(Ye!==0);Te.gzhead.hcrc&&Te.pending>_e&&(K.adler=C(K.adler,Te.pending_buf,Te.pending-_e,_e)),Ye===0&&(Te.status=103)}else Te.status=103;if(Te.status===103&&(Te.gzhead.hcrc?(Te.pending+2>Te.pending_buf_size&&It(K),Te.pending+2<=Te.pending_buf_size&&(Wt(Te,255&K.adler),Wt(Te,K.adler>>8&255),K.adler=0,Te.status=Oe)):Te.status=Oe),Te.pending!==0){if(It(K),K.avail_out===0)return Te.last_flush=-1,L}else if(K.avail_in===0&&vt(et)<=vt(ot)&&et!==B)return Ut(K,-5);if(Te.status===666&&K.avail_in!==0)return Ut(K,-5);if(K.avail_in!==0||Te.lookahead!==0||et!==O&&Te.status!==666){var rt=Te.strategy===2?function(Ge,Mt){for(var nt;;){if(Ge.lookahead===0&&(Ji(Ge),Ge.lookahead===0)){if(Mt===O)return ue;break}if(Ge.match_length=0,nt=n._tr_tally(Ge,0,Ge.window[Ge.strstart]),Ge.lookahead--,Ge.strstart++,nt&&(St(Ge,!1),Ge.strm.avail_out===0))return ue}return Ge.insert=0,Mt===B?(St(Ge,!0),Ge.strm.avail_out===0?Ct:pt):Ge.last_lit&&(St(Ge,!1),Ge.strm.avail_out===0)?ue:ct}(Te,et):Te.strategy===3?function(Ge,Mt){for(var nt,Et,Xt,Ti,wi=Ge.window;;){if(Ge.lookahead<=Ne){if(Ji(Ge),Ge.lookahead<=Ne&&Mt===O)return ue;if(Ge.lookahead===0)break}if(Ge.match_length=0,Ge.lookahead>=Ae&&0<Ge.strstart&&(Et=wi[Xt=Ge.strstart-1])===wi[++Xt]&&Et===wi[++Xt]&&Et===wi[++Xt]){Ti=Ge.strstart+Ne;do;while(Et===wi[++Xt]&&Et===wi[++Xt]&&Et===wi[++Xt]&&Et===wi[++Xt]&&Et===wi[++Xt]&&Et===wi[++Xt]&&Et===wi[++Xt]&&Et===wi[++Xt]&&Xt<Ti);Ge.match_length=Ne-(Ti-Xt),Ge.match_length>Ge.lookahead&&(Ge.match_length=Ge.lookahead)}if(Ge.match_length>=Ae?(nt=n._tr_tally(Ge,1,Ge.match_length-Ae),Ge.lookahead-=Ge.match_length,Ge.strstart+=Ge.match_length,Ge.match_length=0):(nt=n._tr_tally(Ge,0,Ge.window[Ge.strstart]),Ge.lookahead--,Ge.strstart++),nt&&(St(Ge,!1),Ge.strm.avail_out===0))return ue}return Ge.insert=0,Mt===B?(St(Ge,!0),Ge.strm.avail_out===0?Ct:pt):Ge.last_lit&&(St(Ge,!1),Ge.strm.avail_out===0)?ue:ct}(Te,et):c[Te.level].func(Te,et);if(rt!==Ct&&rt!==pt||(Te.status=666),rt===ue||rt===Ct)return K.avail_out===0&&(Te.last_flush=-1),L;if(rt===ct&&(et===1?n._tr_align(Te):et!==5&&(n._tr_stored_block(Te,0,0,!1),et===3&&(Bt(Te.head),Te.lookahead===0&&(Te.strstart=0,Te.block_start=0,Te.insert=0))),It(K),K.avail_out===0))return Te.last_flush=-1,L}return et!==B?L:Te.wrap<=0?1:(Te.wrap===2?(Wt(Te,255&K.adler),Wt(Te,K.adler>>8&255),Wt(Te,K.adler>>16&255),Wt(Te,K.adler>>24&255),Wt(Te,255&K.total_in),Wt(Te,K.total_in>>8&255),Wt(Te,K.total_in>>16&255),Wt(Te,K.total_in>>24&255)):(ui(Te,K.adler>>>16),ui(Te,65535&K.adler)),It(K),0<Te.wrap&&(Te.wrap=-Te.wrap),Te.pending!==0?L:1)},l.deflateEnd=function(K){var et;return K&&K.state?(et=K.state.status)!==ye&&et!==69&&et!==73&&et!==91&&et!==103&&et!==Oe&&et!==666?Ut(K,V):(K.state=null,et===Oe?Ut(K,-3):L):V},l.deflateSetDictionary=function(K,et){var ot,Te,_e,Ye,qe,rt,Ge,Mt,nt=et.length;if(!K||!K.state||(Ye=(ot=K.state).wrap)===2||Ye===1&&ot.status!==ye||ot.lookahead)return V;for(Ye===1&&(K.adler=x(K.adler,et,nt,0)),ot.wrap=0,nt>=ot.w_size&&(Ye===0&&(Bt(ot.head),ot.strstart=0,ot.block_start=0,ot.insert=0),Mt=new y.Buf8(ot.w_size),y.arraySet(Mt,et,nt-ot.w_size,ot.w_size,0),et=Mt,nt=ot.w_size),qe=K.avail_in,rt=K.next_in,Ge=K.input,K.avail_in=nt,K.next_in=0,K.input=et,Ji(ot);ot.lookahead>=Ae;){for(Te=ot.strstart,_e=ot.lookahead-(Ae-1);ot.ins_h=(ot.ins_h<<ot.hash_shift^ot.window[Te+Ae-1])&ot.hash_mask,ot.prev[Te&ot.w_mask]=ot.head[ot.ins_h],ot.head[ot.ins_h]=Te,Te++,--_e;);ot.strstart=Te,ot.lookahead=Ae-1,Ji(ot)}return ot.strstart+=ot.lookahead,ot.block_start=ot.strstart,ot.insert=ot.lookahead,ot.lookahead=0,ot.match_length=ot.prev_length=Ae-1,ot.match_available=0,K.next_in=rt,K.input=Ge,K.avail_in=qe,ot.wrap=Ye,L},l.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(i,a,l){a.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(i,a,l){a.exports=function(c,y){var n,x,C,k,O,B,L,V,G,Q,Y,J,re,ce,he,we,pe,De,Ae,Ne,it,ye,Oe,ue,ct;n=c.state,x=c.next_in,ue=c.input,C=x+(c.avail_in-5),k=c.next_out,ct=c.output,O=k-(y-c.avail_out),B=k+(c.avail_out-257),L=n.dmax,V=n.wsize,G=n.whave,Q=n.wnext,Y=n.window,J=n.hold,re=n.bits,ce=n.lencode,he=n.distcode,we=(1<<n.lenbits)-1,pe=(1<<n.distbits)-1;e:do{re<15&&(J+=ue[x++]<<re,re+=8,J+=ue[x++]<<re,re+=8),De=ce[J&we];t:for(;;){if(J>>>=Ae=De>>>24,re-=Ae,(Ae=De>>>16&255)===0)ct[k++]=65535&De;else{if(!(16&Ae)){if(!(64&Ae)){De=ce[(65535&De)+(J&(1<<Ae)-1)];continue t}if(32&Ae){n.mode=12;break e}c.msg="invalid literal/length code",n.mode=30;break e}Ne=65535&De,(Ae&=15)&&(re<Ae&&(J+=ue[x++]<<re,re+=8),Ne+=J&(1<<Ae)-1,J>>>=Ae,re-=Ae),re<15&&(J+=ue[x++]<<re,re+=8,J+=ue[x++]<<re,re+=8),De=he[J&pe];i:for(;;){if(J>>>=Ae=De>>>24,re-=Ae,!(16&(Ae=De>>>16&255))){if(!(64&Ae)){De=he[(65535&De)+(J&(1<<Ae)-1)];continue i}c.msg="invalid distance code",n.mode=30;break e}if(it=65535&De,re<(Ae&=15)&&(J+=ue[x++]<<re,(re+=8)<Ae&&(J+=ue[x++]<<re,re+=8)),L<(it+=J&(1<<Ae)-1)){c.msg="invalid distance too far back",n.mode=30;break e}if(J>>>=Ae,re-=Ae,(Ae=k-O)<it){if(G<(Ae=it-Ae)&&n.sane){c.msg="invalid distance too far back",n.mode=30;break e}if(Oe=Y,(ye=0)===Q){if(ye+=V-Ae,Ae<Ne){for(Ne-=Ae;ct[k++]=Y[ye++],--Ae;);ye=k-it,Oe=ct}}else if(Q<Ae){if(ye+=V+Q-Ae,(Ae-=Q)<Ne){for(Ne-=Ae;ct[k++]=Y[ye++],--Ae;);if(ye=0,Q<Ne){for(Ne-=Ae=Q;ct[k++]=Y[ye++],--Ae;);ye=k-it,Oe=ct}}}else if(ye+=Q-Ae,Ae<Ne){for(Ne-=Ae;ct[k++]=Y[ye++],--Ae;);ye=k-it,Oe=ct}for(;2<Ne;)ct[k++]=Oe[ye++],ct[k++]=Oe[ye++],ct[k++]=Oe[ye++],Ne-=3;Ne&&(ct[k++]=Oe[ye++],1<Ne&&(ct[k++]=Oe[ye++]))}else{for(ye=k-it;ct[k++]=ct[ye++],ct[k++]=ct[ye++],ct[k++]=ct[ye++],2<(Ne-=3););Ne&&(ct[k++]=ct[ye++],1<Ne&&(ct[k++]=ct[ye++]))}break}}break}}while(x<C&&k<B);x-=Ne=re>>3,J&=(1<<(re-=Ne<<3))-1,c.next_in=x,c.next_out=k,c.avail_in=x<C?C-x+5:5-(x-C),c.avail_out=k<B?B-k+257:257-(k-B),n.hold=J,n.bits=re}},{}],49:[function(i,a,l){var c=i("../utils/common"),y=i("./adler32"),n=i("./crc32"),x=i("./inffast"),C=i("./inftrees"),k=1,O=2,B=0,L=-2,V=1,G=852,Q=592;function Y(ye){return(ye>>>24&255)+(ye>>>8&65280)+((65280&ye)<<8)+((255&ye)<<24)}function J(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function re(ye){var Oe;return ye&&ye.state?(Oe=ye.state,ye.total_in=ye.total_out=Oe.total=0,ye.msg="",Oe.wrap&&(ye.adler=1&Oe.wrap),Oe.mode=V,Oe.last=0,Oe.havedict=0,Oe.dmax=32768,Oe.head=null,Oe.hold=0,Oe.bits=0,Oe.lencode=Oe.lendyn=new c.Buf32(G),Oe.distcode=Oe.distdyn=new c.Buf32(Q),Oe.sane=1,Oe.back=-1,B):L}function ce(ye){var Oe;return ye&&ye.state?((Oe=ye.state).wsize=0,Oe.whave=0,Oe.wnext=0,re(ye)):L}function he(ye,Oe){var ue,ct;return ye&&ye.state?(ct=ye.state,Oe<0?(ue=0,Oe=-Oe):(ue=1+(Oe>>4),Oe<48&&(Oe&=15)),Oe&&(Oe<8||15<Oe)?L:(ct.window!==null&&ct.wbits!==Oe&&(ct.window=null),ct.wrap=ue,ct.wbits=Oe,ce(ye))):L}function we(ye,Oe){var ue,ct;return ye?(ct=new J,(ye.state=ct).window=null,(ue=he(ye,Oe))!==B&&(ye.state=null),ue):L}var pe,De,Ae=!0;function Ne(ye){if(Ae){var Oe;for(pe=new c.Buf32(512),De=new c.Buf32(32),Oe=0;Oe<144;)ye.lens[Oe++]=8;for(;Oe<256;)ye.lens[Oe++]=9;for(;Oe<280;)ye.lens[Oe++]=7;for(;Oe<288;)ye.lens[Oe++]=8;for(C(k,ye.lens,0,288,pe,0,ye.work,{bits:9}),Oe=0;Oe<32;)ye.lens[Oe++]=5;C(O,ye.lens,0,32,De,0,ye.work,{bits:5}),Ae=!1}ye.lencode=pe,ye.lenbits=9,ye.distcode=De,ye.distbits=5}function it(ye,Oe,ue,ct){var Ct,pt=ye.state;return pt.window===null&&(pt.wsize=1<<pt.wbits,pt.wnext=0,pt.whave=0,pt.window=new c.Buf8(pt.wsize)),ct>=pt.wsize?(c.arraySet(pt.window,Oe,ue-pt.wsize,pt.wsize,0),pt.wnext=0,pt.whave=pt.wsize):(ct<(Ct=pt.wsize-pt.wnext)&&(Ct=ct),c.arraySet(pt.window,Oe,ue-ct,Ct,pt.wnext),(ct-=Ct)?(c.arraySet(pt.window,Oe,ue-ct,ct,0),pt.wnext=ct,pt.whave=pt.wsize):(pt.wnext+=Ct,pt.wnext===pt.wsize&&(pt.wnext=0),pt.whave<pt.wsize&&(pt.whave+=Ct))),0}l.inflateReset=ce,l.inflateReset2=he,l.inflateResetKeep=re,l.inflateInit=function(ye){return we(ye,15)},l.inflateInit2=we,l.inflate=function(ye,Oe){var ue,ct,Ct,pt,Ut,vt,Bt,It,St,Wt,ui,di,Ji,$t,ii,ni,Re,zi,hn,ze,K,et,ot,Te,_e=0,Ye=new c.Buf8(4),qe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!ye||!ye.state||!ye.output||!ye.input&&ye.avail_in!==0)return L;(ue=ye.state).mode===12&&(ue.mode=13),Ut=ye.next_out,Ct=ye.output,Bt=ye.avail_out,pt=ye.next_in,ct=ye.input,vt=ye.avail_in,It=ue.hold,St=ue.bits,Wt=vt,ui=Bt,et=B;e:for(;;)switch(ue.mode){case V:if(ue.wrap===0){ue.mode=13;break}for(;St<16;){if(vt===0)break e;vt--,It+=ct[pt++]<<St,St+=8}if(2&ue.wrap&&It===35615){Ye[ue.check=0]=255&It,Ye[1]=It>>>8&255,ue.check=n(ue.check,Ye,2,0),St=It=0,ue.mode=2;break}if(ue.flags=0,ue.head&&(ue.head.done=!1),!(1&ue.wrap)||(((255&It)<<8)+(It>>8))%31){ye.msg="incorrect header check",ue.mode=30;break}if((15&It)!=8){ye.msg="unknown compression method",ue.mode=30;break}if(St-=4,K=8+(15&(It>>>=4)),ue.wbits===0)ue.wbits=K;else if(K>ue.wbits){ye.msg="invalid window size",ue.mode=30;break}ue.dmax=1<<K,ye.adler=ue.check=1,ue.mode=512&It?10:12,St=It=0;break;case 2:for(;St<16;){if(vt===0)break e;vt--,It+=ct[pt++]<<St,St+=8}if(ue.flags=It,(255&ue.flags)!=8){ye.msg="unknown compression method",ue.mode=30;break}if(57344&ue.flags){ye.msg="unknown header flags set",ue.mode=30;break}ue.head&&(ue.head.text=It>>8&1),512&ue.flags&&(Ye[0]=255&It,Ye[1]=It>>>8&255,ue.check=n(ue.check,Ye,2,0)),St=It=0,ue.mode=3;case 3:for(;St<32;){if(vt===0)break e;vt--,It+=ct[pt++]<<St,St+=8}ue.head&&(ue.head.time=It),512&ue.flags&&(Ye[0]=255&It,Ye[1]=It>>>8&255,Ye[2]=It>>>16&255,Ye[3]=It>>>24&255,ue.check=n(ue.check,Ye,4,0)),St=It=0,ue.mode=4;case 4:for(;St<16;){if(vt===0)break e;vt--,It+=ct[pt++]<<St,St+=8}ue.head&&(ue.head.xflags=255&It,ue.head.os=It>>8),512&ue.flags&&(Ye[0]=255&It,Ye[1]=It>>>8&255,ue.check=n(ue.check,Ye,2,0)),St=It=0,ue.mode=5;case 5:if(1024&ue.flags){for(;St<16;){if(vt===0)break e;vt--,It+=ct[pt++]<<St,St+=8}ue.length=It,ue.head&&(ue.head.extra_len=It),512&ue.flags&&(Ye[0]=255&It,Ye[1]=It>>>8&255,ue.check=n(ue.check,Ye,2,0)),St=It=0}else ue.head&&(ue.head.extra=null);ue.mode=6;case 6:if(1024&ue.flags&&(vt<(di=ue.length)&&(di=vt),di&&(ue.head&&(K=ue.head.extra_len-ue.length,ue.head.extra||(ue.head.extra=new Array(ue.head.extra_len)),c.arraySet(ue.head.extra,ct,pt,di,K)),512&ue.flags&&(ue.check=n(ue.check,ct,di,pt)),vt-=di,pt+=di,ue.length-=di),ue.length))break e;ue.length=0,ue.mode=7;case 7:if(2048&ue.flags){if(vt===0)break e;for(di=0;K=ct[pt+di++],ue.head&&K&&ue.length<65536&&(ue.head.name+=String.fromCharCode(K)),K&&di<vt;);if(512&ue.flags&&(ue.check=n(ue.check,ct,di,pt)),vt-=di,pt+=di,K)break e}else ue.head&&(ue.head.name=null);ue.length=0,ue.mode=8;case 8:if(4096&ue.flags){if(vt===0)break e;for(di=0;K=ct[pt+di++],ue.head&&K&&ue.length<65536&&(ue.head.comment+=String.fromCharCode(K)),K&&di<vt;);if(512&ue.flags&&(ue.check=n(ue.check,ct,di,pt)),vt-=di,pt+=di,K)break e}else ue.head&&(ue.head.comment=null);ue.mode=9;case 9:if(512&ue.flags){for(;St<16;){if(vt===0)break e;vt--,It+=ct[pt++]<<St,St+=8}if(It!==(65535&ue.check)){ye.msg="header crc mismatch",ue.mode=30;break}St=It=0}ue.head&&(ue.head.hcrc=ue.flags>>9&1,ue.head.done=!0),ye.adler=ue.check=0,ue.mode=12;break;case 10:for(;St<32;){if(vt===0)break e;vt--,It+=ct[pt++]<<St,St+=8}ye.adler=ue.check=Y(It),St=It=0,ue.mode=11;case 11:if(ue.havedict===0)return ye.next_out=Ut,ye.avail_out=Bt,ye.next_in=pt,ye.avail_in=vt,ue.hold=It,ue.bits=St,2;ye.adler=ue.check=1,ue.mode=12;case 12:if(Oe===5||Oe===6)break e;case 13:if(ue.last){It>>>=7&St,St-=7&St,ue.mode=27;break}for(;St<3;){if(vt===0)break e;vt--,It+=ct[pt++]<<St,St+=8}switch(ue.last=1&It,St-=1,3&(It>>>=1)){case 0:ue.mode=14;break;case 1:if(Ne(ue),ue.mode=20,Oe!==6)break;It>>>=2,St-=2;break e;case 2:ue.mode=17;break;case 3:ye.msg="invalid block type",ue.mode=30}It>>>=2,St-=2;break;case 14:for(It>>>=7&St,St-=7&St;St<32;){if(vt===0)break e;vt--,It+=ct[pt++]<<St,St+=8}if((65535&It)!=(It>>>16^65535)){ye.msg="invalid stored block lengths",ue.mode=30;break}if(ue.length=65535&It,St=It=0,ue.mode=15,Oe===6)break e;case 15:ue.mode=16;case 16:if(di=ue.length){if(vt<di&&(di=vt),Bt<di&&(di=Bt),di===0)break e;c.arraySet(Ct,ct,pt,di,Ut),vt-=di,pt+=di,Bt-=di,Ut+=di,ue.length-=di;break}ue.mode=12;break;case 17:for(;St<14;){if(vt===0)break e;vt--,It+=ct[pt++]<<St,St+=8}if(ue.nlen=257+(31&It),It>>>=5,St-=5,ue.ndist=1+(31&It),It>>>=5,St-=5,ue.ncode=4+(15&It),It>>>=4,St-=4,286<ue.nlen||30<ue.ndist){ye.msg="too many length or distance symbols",ue.mode=30;break}ue.have=0,ue.mode=18;case 18:for(;ue.have<ue.ncode;){for(;St<3;){if(vt===0)break e;vt--,It+=ct[pt++]<<St,St+=8}ue.lens[qe[ue.have++]]=7&It,It>>>=3,St-=3}for(;ue.have<19;)ue.lens[qe[ue.have++]]=0;if(ue.lencode=ue.lendyn,ue.lenbits=7,ot={bits:ue.lenbits},et=C(0,ue.lens,0,19,ue.lencode,0,ue.work,ot),ue.lenbits=ot.bits,et){ye.msg="invalid code lengths set",ue.mode=30;break}ue.have=0,ue.mode=19;case 19:for(;ue.have<ue.nlen+ue.ndist;){for(;ni=(_e=ue.lencode[It&(1<<ue.lenbits)-1])>>>16&255,Re=65535&_e,!((ii=_e>>>24)<=St);){if(vt===0)break e;vt--,It+=ct[pt++]<<St,St+=8}if(Re<16)It>>>=ii,St-=ii,ue.lens[ue.have++]=Re;else{if(Re===16){for(Te=ii+2;St<Te;){if(vt===0)break e;vt--,It+=ct[pt++]<<St,St+=8}if(It>>>=ii,St-=ii,ue.have===0){ye.msg="invalid bit length repeat",ue.mode=30;break}K=ue.lens[ue.have-1],di=3+(3&It),It>>>=2,St-=2}else if(Re===17){for(Te=ii+3;St<Te;){if(vt===0)break e;vt--,It+=ct[pt++]<<St,St+=8}St-=ii,K=0,di=3+(7&(It>>>=ii)),It>>>=3,St-=3}else{for(Te=ii+7;St<Te;){if(vt===0)break e;vt--,It+=ct[pt++]<<St,St+=8}St-=ii,K=0,di=11+(127&(It>>>=ii)),It>>>=7,St-=7}if(ue.have+di>ue.nlen+ue.ndist){ye.msg="invalid bit length repeat",ue.mode=30;break}for(;di--;)ue.lens[ue.have++]=K}}if(ue.mode===30)break;if(ue.lens[256]===0){ye.msg="invalid code -- missing end-of-block",ue.mode=30;break}if(ue.lenbits=9,ot={bits:ue.lenbits},et=C(k,ue.lens,0,ue.nlen,ue.lencode,0,ue.work,ot),ue.lenbits=ot.bits,et){ye.msg="invalid literal/lengths set",ue.mode=30;break}if(ue.distbits=6,ue.distcode=ue.distdyn,ot={bits:ue.distbits},et=C(O,ue.lens,ue.nlen,ue.ndist,ue.distcode,0,ue.work,ot),ue.distbits=ot.bits,et){ye.msg="invalid distances set",ue.mode=30;break}if(ue.mode=20,Oe===6)break e;case 20:ue.mode=21;case 21:if(6<=vt&&258<=Bt){ye.next_out=Ut,ye.avail_out=Bt,ye.next_in=pt,ye.avail_in=vt,ue.hold=It,ue.bits=St,x(ye,ui),Ut=ye.next_out,Ct=ye.output,Bt=ye.avail_out,pt=ye.next_in,ct=ye.input,vt=ye.avail_in,It=ue.hold,St=ue.bits,ue.mode===12&&(ue.back=-1);break}for(ue.back=0;ni=(_e=ue.lencode[It&(1<<ue.lenbits)-1])>>>16&255,Re=65535&_e,!((ii=_e>>>24)<=St);){if(vt===0)break e;vt--,It+=ct[pt++]<<St,St+=8}if(ni&&!(240&ni)){for(zi=ii,hn=ni,ze=Re;ni=(_e=ue.lencode[ze+((It&(1<<zi+hn)-1)>>zi)])>>>16&255,Re=65535&_e,!(zi+(ii=_e>>>24)<=St);){if(vt===0)break e;vt--,It+=ct[pt++]<<St,St+=8}It>>>=zi,St-=zi,ue.back+=zi}if(It>>>=ii,St-=ii,ue.back+=ii,ue.length=Re,ni===0){ue.mode=26;break}if(32&ni){ue.back=-1,ue.mode=12;break}if(64&ni){ye.msg="invalid literal/length code",ue.mode=30;break}ue.extra=15&ni,ue.mode=22;case 22:if(ue.extra){for(Te=ue.extra;St<Te;){if(vt===0)break e;vt--,It+=ct[pt++]<<St,St+=8}ue.length+=It&(1<<ue.extra)-1,It>>>=ue.extra,St-=ue.extra,ue.back+=ue.extra}ue.was=ue.length,ue.mode=23;case 23:for(;ni=(_e=ue.distcode[It&(1<<ue.distbits)-1])>>>16&255,Re=65535&_e,!((ii=_e>>>24)<=St);){if(vt===0)break e;vt--,It+=ct[pt++]<<St,St+=8}if(!(240&ni)){for(zi=ii,hn=ni,ze=Re;ni=(_e=ue.distcode[ze+((It&(1<<zi+hn)-1)>>zi)])>>>16&255,Re=65535&_e,!(zi+(ii=_e>>>24)<=St);){if(vt===0)break e;vt--,It+=ct[pt++]<<St,St+=8}It>>>=zi,St-=zi,ue.back+=zi}if(It>>>=ii,St-=ii,ue.back+=ii,64&ni){ye.msg="invalid distance code",ue.mode=30;break}ue.offset=Re,ue.extra=15&ni,ue.mode=24;case 24:if(ue.extra){for(Te=ue.extra;St<Te;){if(vt===0)break e;vt--,It+=ct[pt++]<<St,St+=8}ue.offset+=It&(1<<ue.extra)-1,It>>>=ue.extra,St-=ue.extra,ue.back+=ue.extra}if(ue.offset>ue.dmax){ye.msg="invalid distance too far back",ue.mode=30;break}ue.mode=25;case 25:if(Bt===0)break e;if(di=ui-Bt,ue.offset>di){if((di=ue.offset-di)>ue.whave&&ue.sane){ye.msg="invalid distance too far back",ue.mode=30;break}Ji=di>ue.wnext?(di-=ue.wnext,ue.wsize-di):ue.wnext-di,di>ue.length&&(di=ue.length),$t=ue.window}else $t=Ct,Ji=Ut-ue.offset,di=ue.length;for(Bt<di&&(di=Bt),Bt-=di,ue.length-=di;Ct[Ut++]=$t[Ji++],--di;);ue.length===0&&(ue.mode=21);break;case 26:if(Bt===0)break e;Ct[Ut++]=ue.length,Bt--,ue.mode=21;break;case 27:if(ue.wrap){for(;St<32;){if(vt===0)break e;vt--,It|=ct[pt++]<<St,St+=8}if(ui-=Bt,ye.total_out+=ui,ue.total+=ui,ui&&(ye.adler=ue.check=ue.flags?n(ue.check,Ct,ui,Ut-ui):y(ue.check,Ct,ui,Ut-ui)),ui=Bt,(ue.flags?It:Y(It))!==ue.check){ye.msg="incorrect data check",ue.mode=30;break}St=It=0}ue.mode=28;case 28:if(ue.wrap&&ue.flags){for(;St<32;){if(vt===0)break e;vt--,It+=ct[pt++]<<St,St+=8}if(It!==(4294967295&ue.total)){ye.msg="incorrect length check",ue.mode=30;break}St=It=0}ue.mode=29;case 29:et=1;break e;case 30:et=-3;break e;case 31:return-4;case 32:default:return L}return ye.next_out=Ut,ye.avail_out=Bt,ye.next_in=pt,ye.avail_in=vt,ue.hold=It,ue.bits=St,(ue.wsize||ui!==ye.avail_out&&ue.mode<30&&(ue.mode<27||Oe!==4))&&it(ye,ye.output,ye.next_out,ui-ye.avail_out)?(ue.mode=31,-4):(Wt-=ye.avail_in,ui-=ye.avail_out,ye.total_in+=Wt,ye.total_out+=ui,ue.total+=ui,ue.wrap&&ui&&(ye.adler=ue.check=ue.flags?n(ue.check,Ct,ui,ye.next_out-ui):y(ue.check,Ct,ui,ye.next_out-ui)),ye.data_type=ue.bits+(ue.last?64:0)+(ue.mode===12?128:0)+(ue.mode===20||ue.mode===15?256:0),(Wt==0&&ui===0||Oe===4)&&et===B&&(et=-5),et)},l.inflateEnd=function(ye){if(!ye||!ye.state)return L;var Oe=ye.state;return Oe.window&&(Oe.window=null),ye.state=null,B},l.inflateGetHeader=function(ye,Oe){var ue;return ye&&ye.state&&2&(ue=ye.state).wrap?((ue.head=Oe).done=!1,B):L},l.inflateSetDictionary=function(ye,Oe){var ue,ct=Oe.length;return ye&&ye.state?(ue=ye.state).wrap!==0&&ue.mode!==11?L:ue.mode===11&&y(1,Oe,ct,0)!==ue.check?-3:it(ye,Oe,ct,ct)?(ue.mode=31,-4):(ue.havedict=1,B):L},l.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(i,a,l){var c=i("../utils/common"),y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],n=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],x=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],C=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(k,O,B,L,V,G,Q,Y){var J,re,ce,he,we,pe,De,Ae,Ne,it=Y.bits,ye=0,Oe=0,ue=0,ct=0,Ct=0,pt=0,Ut=0,vt=0,Bt=0,It=0,St=null,Wt=0,ui=new c.Buf16(16),di=new c.Buf16(16),Ji=null,$t=0;for(ye=0;ye<=15;ye++)ui[ye]=0;for(Oe=0;Oe<L;Oe++)ui[O[B+Oe]]++;for(Ct=it,ct=15;1<=ct&&ui[ct]===0;ct--);if(ct<Ct&&(Ct=ct),ct===0)return V[G++]=20971520,V[G++]=20971520,Y.bits=1,0;for(ue=1;ue<ct&&ui[ue]===0;ue++);for(Ct<ue&&(Ct=ue),ye=vt=1;ye<=15;ye++)if(vt<<=1,(vt-=ui[ye])<0)return-1;if(0<vt&&(k===0||ct!==1))return-1;for(di[1]=0,ye=1;ye<15;ye++)di[ye+1]=di[ye]+ui[ye];for(Oe=0;Oe<L;Oe++)O[B+Oe]!==0&&(Q[di[O[B+Oe]]++]=Oe);if(pe=k===0?(St=Ji=Q,19):k===1?(St=y,Wt-=257,Ji=n,$t-=257,256):(St=x,Ji=C,-1),ye=ue,we=G,Ut=Oe=It=0,ce=-1,he=(Bt=1<<(pt=Ct))-1,k===1&&852<Bt||k===2&&592<Bt)return 1;for(;;){for(De=ye-Ut,Ne=Q[Oe]<pe?(Ae=0,Q[Oe]):Q[Oe]>pe?(Ae=Ji[$t+Q[Oe]],St[Wt+Q[Oe]]):(Ae=96,0),J=1<<ye-Ut,ue=re=1<<pt;V[we+(It>>Ut)+(re-=J)]=De<<24|Ae<<16|Ne|0,re!==0;);for(J=1<<ye-1;It&J;)J>>=1;if(J!==0?(It&=J-1,It+=J):It=0,Oe++,--ui[ye]==0){if(ye===ct)break;ye=O[B+Q[Oe]]}if(Ct<ye&&(It&he)!==ce){for(Ut===0&&(Ut=Ct),we+=ue,vt=1<<(pt=ye-Ut);pt+Ut<ct&&!((vt-=ui[pt+Ut])<=0);)pt++,vt<<=1;if(Bt+=1<<pt,k===1&&852<Bt||k===2&&592<Bt)return 1;V[ce=It&he]=Ct<<24|pt<<16|we-G|0}}return It!==0&&(V[we+It]=ye-Ut<<24|64<<16|0),Y.bits=Ct,0}},{"../utils/common":41}],51:[function(i,a,l){a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(i,a,l){var c=i("../utils/common"),y=0,n=1;function x(_e){for(var Ye=_e.length;0<=--Ye;)_e[Ye]=0}var C=0,k=29,O=256,B=O+1+k,L=30,V=19,G=2*B+1,Q=15,Y=16,J=7,re=256,ce=16,he=17,we=18,pe=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],De=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Ae=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],it=new Array(2*(B+2));x(it);var ye=new Array(2*L);x(ye);var Oe=new Array(512);x(Oe);var ue=new Array(256);x(ue);var ct=new Array(k);x(ct);var Ct,pt,Ut,vt=new Array(L);function Bt(_e,Ye,qe,rt,Ge){this.static_tree=_e,this.extra_bits=Ye,this.extra_base=qe,this.elems=rt,this.max_length=Ge,this.has_stree=_e&&_e.length}function It(_e,Ye){this.dyn_tree=_e,this.max_code=0,this.stat_desc=Ye}function St(_e){return _e<256?Oe[_e]:Oe[256+(_e>>>7)]}function Wt(_e,Ye){_e.pending_buf[_e.pending++]=255&Ye,_e.pending_buf[_e.pending++]=Ye>>>8&255}function ui(_e,Ye,qe){_e.bi_valid>Y-qe?(_e.bi_buf|=Ye<<_e.bi_valid&65535,Wt(_e,_e.bi_buf),_e.bi_buf=Ye>>Y-_e.bi_valid,_e.bi_valid+=qe-Y):(_e.bi_buf|=Ye<<_e.bi_valid&65535,_e.bi_valid+=qe)}function di(_e,Ye,qe){ui(_e,qe[2*Ye],qe[2*Ye+1])}function Ji(_e,Ye){for(var qe=0;qe|=1&_e,_e>>>=1,qe<<=1,0<--Ye;);return qe>>>1}function $t(_e,Ye,qe){var rt,Ge,Mt=new Array(Q+1),nt=0;for(rt=1;rt<=Q;rt++)Mt[rt]=nt=nt+qe[rt-1]<<1;for(Ge=0;Ge<=Ye;Ge++){var Et=_e[2*Ge+1];Et!==0&&(_e[2*Ge]=Ji(Mt[Et]++,Et))}}function ii(_e){var Ye;for(Ye=0;Ye<B;Ye++)_e.dyn_ltree[2*Ye]=0;for(Ye=0;Ye<L;Ye++)_e.dyn_dtree[2*Ye]=0;for(Ye=0;Ye<V;Ye++)_e.bl_tree[2*Ye]=0;_e.dyn_ltree[2*re]=1,_e.opt_len=_e.static_len=0,_e.last_lit=_e.matches=0}function ni(_e){8<_e.bi_valid?Wt(_e,_e.bi_buf):0<_e.bi_valid&&(_e.pending_buf[_e.pending++]=_e.bi_buf),_e.bi_buf=0,_e.bi_valid=0}function Re(_e,Ye,qe,rt){var Ge=2*Ye,Mt=2*qe;return _e[Ge]<_e[Mt]||_e[Ge]===_e[Mt]&&rt[Ye]<=rt[qe]}function zi(_e,Ye,qe){for(var rt=_e.heap[qe],Ge=qe<<1;Ge<=_e.heap_len&&(Ge<_e.heap_len&&Re(Ye,_e.heap[Ge+1],_e.heap[Ge],_e.depth)&&Ge++,!Re(Ye,rt,_e.heap[Ge],_e.depth));)_e.heap[qe]=_e.heap[Ge],qe=Ge,Ge<<=1;_e.heap[qe]=rt}function hn(_e,Ye,qe){var rt,Ge,Mt,nt,Et=0;if(_e.last_lit!==0)for(;rt=_e.pending_buf[_e.d_buf+2*Et]<<8|_e.pending_buf[_e.d_buf+2*Et+1],Ge=_e.pending_buf[_e.l_buf+Et],Et++,rt===0?di(_e,Ge,Ye):(di(_e,(Mt=ue[Ge])+O+1,Ye),(nt=pe[Mt])!==0&&ui(_e,Ge-=ct[Mt],nt),di(_e,Mt=St(--rt),qe),(nt=De[Mt])!==0&&ui(_e,rt-=vt[Mt],nt)),Et<_e.last_lit;);di(_e,re,Ye)}function ze(_e,Ye){var qe,rt,Ge,Mt=Ye.dyn_tree,nt=Ye.stat_desc.static_tree,Et=Ye.stat_desc.has_stree,Xt=Ye.stat_desc.elems,Ti=-1;for(_e.heap_len=0,_e.heap_max=G,qe=0;qe<Xt;qe++)Mt[2*qe]!==0?(_e.heap[++_e.heap_len]=Ti=qe,_e.depth[qe]=0):Mt[2*qe+1]=0;for(;_e.heap_len<2;)Mt[2*(Ge=_e.heap[++_e.heap_len]=Ti<2?++Ti:0)]=1,_e.depth[Ge]=0,_e.opt_len--,Et&&(_e.static_len-=nt[2*Ge+1]);for(Ye.max_code=Ti,qe=_e.heap_len>>1;1<=qe;qe--)zi(_e,Mt,qe);for(Ge=Xt;qe=_e.heap[1],_e.heap[1]=_e.heap[_e.heap_len--],zi(_e,Mt,1),rt=_e.heap[1],_e.heap[--_e.heap_max]=qe,_e.heap[--_e.heap_max]=rt,Mt[2*Ge]=Mt[2*qe]+Mt[2*rt],_e.depth[Ge]=(_e.depth[qe]>=_e.depth[rt]?_e.depth[qe]:_e.depth[rt])+1,Mt[2*qe+1]=Mt[2*rt+1]=Ge,_e.heap[1]=Ge++,zi(_e,Mt,1),2<=_e.heap_len;);_e.heap[--_e.heap_max]=_e.heap[1],function(wi,Ui){var uo,jn,go,sn,or,Or,Ln=Ui.dyn_tree,Mo=Ui.max_code,an=Ui.stat_desc.static_tree,Aa=Ui.stat_desc.has_stree,Ml=Ui.stat_desc.extra_bits,Lr=Ui.stat_desc.extra_base,fa=Ui.stat_desc.max_length,hs=0;for(sn=0;sn<=Q;sn++)wi.bl_count[sn]=0;for(Ln[2*wi.heap[wi.heap_max]+1]=0,uo=wi.heap_max+1;uo<G;uo++)fa<(sn=Ln[2*Ln[2*(jn=wi.heap[uo])+1]+1]+1)&&(sn=fa,hs++),Ln[2*jn+1]=sn,Mo<jn||(wi.bl_count[sn]++,or=0,Lr<=jn&&(or=Ml[jn-Lr]),Or=Ln[2*jn],wi.opt_len+=Or*(sn+or),Aa&&(wi.static_len+=Or*(an[2*jn+1]+or)));if(hs!==0){do{for(sn=fa-1;wi.bl_count[sn]===0;)sn--;wi.bl_count[sn]--,wi.bl_count[sn+1]+=2,wi.bl_count[fa]--,hs-=2}while(0<hs);for(sn=fa;sn!==0;sn--)for(jn=wi.bl_count[sn];jn!==0;)Mo<(go=wi.heap[--uo])||(Ln[2*go+1]!==sn&&(wi.opt_len+=(sn-Ln[2*go+1])*Ln[2*go],Ln[2*go+1]=sn),jn--)}}(_e,Ye),$t(Mt,Ti,_e.bl_count)}function K(_e,Ye,qe){var rt,Ge,Mt=-1,nt=Ye[1],Et=0,Xt=7,Ti=4;for(nt===0&&(Xt=138,Ti=3),Ye[2*(qe+1)+1]=65535,rt=0;rt<=qe;rt++)Ge=nt,nt=Ye[2*(rt+1)+1],++Et<Xt&&Ge===nt||(Et<Ti?_e.bl_tree[2*Ge]+=Et:Ge!==0?(Ge!==Mt&&_e.bl_tree[2*Ge]++,_e.bl_tree[2*ce]++):Et<=10?_e.bl_tree[2*he]++:_e.bl_tree[2*we]++,Mt=Ge,Ti=(Et=0)===nt?(Xt=138,3):Ge===nt?(Xt=6,3):(Xt=7,4))}function et(_e,Ye,qe){var rt,Ge,Mt=-1,nt=Ye[1],Et=0,Xt=7,Ti=4;for(nt===0&&(Xt=138,Ti=3),rt=0;rt<=qe;rt++)if(Ge=nt,nt=Ye[2*(rt+1)+1],!(++Et<Xt&&Ge===nt)){if(Et<Ti)for(;di(_e,Ge,_e.bl_tree),--Et!=0;);else Ge!==0?(Ge!==Mt&&(di(_e,Ge,_e.bl_tree),Et--),di(_e,ce,_e.bl_tree),ui(_e,Et-3,2)):Et<=10?(di(_e,he,_e.bl_tree),ui(_e,Et-3,3)):(di(_e,we,_e.bl_tree),ui(_e,Et-11,7));Mt=Ge,Ti=(Et=0)===nt?(Xt=138,3):Ge===nt?(Xt=6,3):(Xt=7,4)}}x(vt);var ot=!1;function Te(_e,Ye,qe,rt){ui(_e,(C<<1)+(rt?1:0),3),function(Ge,Mt,nt,Et){ni(Ge),Wt(Ge,nt),Wt(Ge,~nt),c.arraySet(Ge.pending_buf,Ge.window,Mt,nt,Ge.pending),Ge.pending+=nt}(_e,Ye,qe)}l._tr_init=function(_e){ot||(function(){var Ye,qe,rt,Ge,Mt,nt=new Array(Q+1);for(Ge=rt=0;Ge<k-1;Ge++)for(ct[Ge]=rt,Ye=0;Ye<1<<pe[Ge];Ye++)ue[rt++]=Ge;for(ue[rt-1]=Ge,Ge=Mt=0;Ge<16;Ge++)for(vt[Ge]=Mt,Ye=0;Ye<1<<De[Ge];Ye++)Oe[Mt++]=Ge;for(Mt>>=7;Ge<L;Ge++)for(vt[Ge]=Mt<<7,Ye=0;Ye<1<<De[Ge]-7;Ye++)Oe[256+Mt++]=Ge;for(qe=0;qe<=Q;qe++)nt[qe]=0;for(Ye=0;Ye<=143;)it[2*Ye+1]=8,Ye++,nt[8]++;for(;Ye<=255;)it[2*Ye+1]=9,Ye++,nt[9]++;for(;Ye<=279;)it[2*Ye+1]=7,Ye++,nt[7]++;for(;Ye<=287;)it[2*Ye+1]=8,Ye++,nt[8]++;for($t(it,B+1,nt),Ye=0;Ye<L;Ye++)ye[2*Ye+1]=5,ye[2*Ye]=Ji(Ye,5);Ct=new Bt(it,pe,O+1,B,Q),pt=new Bt(ye,De,0,L,Q),Ut=new Bt(new Array(0),Ae,0,V,J)}(),ot=!0),_e.l_desc=new It(_e.dyn_ltree,Ct),_e.d_desc=new It(_e.dyn_dtree,pt),_e.bl_desc=new It(_e.bl_tree,Ut),_e.bi_buf=0,_e.bi_valid=0,ii(_e)},l._tr_stored_block=Te,l._tr_flush_block=function(_e,Ye,qe,rt){var Ge,Mt,nt=0;0<_e.level?(_e.strm.data_type===2&&(_e.strm.data_type=function(Et){var Xt,Ti=4093624447;for(Xt=0;Xt<=31;Xt++,Ti>>>=1)if(1&Ti&&Et.dyn_ltree[2*Xt]!==0)return y;if(Et.dyn_ltree[18]!==0||Et.dyn_ltree[20]!==0||Et.dyn_ltree[26]!==0)return n;for(Xt=32;Xt<O;Xt++)if(Et.dyn_ltree[2*Xt]!==0)return n;return y}(_e)),ze(_e,_e.l_desc),ze(_e,_e.d_desc),nt=function(Et){var Xt;for(K(Et,Et.dyn_ltree,Et.l_desc.max_code),K(Et,Et.dyn_dtree,Et.d_desc.max_code),ze(Et,Et.bl_desc),Xt=V-1;3<=Xt&&Et.bl_tree[2*Ne[Xt]+1]===0;Xt--);return Et.opt_len+=3*(Xt+1)+5+5+4,Xt}(_e),Ge=_e.opt_len+3+7>>>3,(Mt=_e.static_len+3+7>>>3)<=Ge&&(Ge=Mt)):Ge=Mt=qe+5,qe+4<=Ge&&Ye!==-1?Te(_e,Ye,qe,rt):_e.strategy===4||Mt===Ge?(ui(_e,2+(rt?1:0),3),hn(_e,it,ye)):(ui(_e,4+(rt?1:0),3),function(Et,Xt,Ti,wi){var Ui;for(ui(Et,Xt-257,5),ui(Et,Ti-1,5),ui(Et,wi-4,4),Ui=0;Ui<wi;Ui++)ui(Et,Et.bl_tree[2*Ne[Ui]+1],3);et(Et,Et.dyn_ltree,Xt-1),et(Et,Et.dyn_dtree,Ti-1)}(_e,_e.l_desc.max_code+1,_e.d_desc.max_code+1,nt+1),hn(_e,_e.dyn_ltree,_e.dyn_dtree)),ii(_e),rt&&ni(_e)},l._tr_tally=function(_e,Ye,qe){return _e.pending_buf[_e.d_buf+2*_e.last_lit]=Ye>>>8&255,_e.pending_buf[_e.d_buf+2*_e.last_lit+1]=255&Ye,_e.pending_buf[_e.l_buf+_e.last_lit]=255&qe,_e.last_lit++,Ye===0?_e.dyn_ltree[2*qe]++:(_e.matches++,Ye--,_e.dyn_ltree[2*(ue[qe]+O+1)]++,_e.dyn_dtree[2*St(Ye)]++),_e.last_lit===_e.lit_bufsize-1},l._tr_align=function(_e){ui(_e,2,3),di(_e,re,it),function(Ye){Ye.bi_valid===16?(Wt(Ye,Ye.bi_buf),Ye.bi_buf=0,Ye.bi_valid=0):8<=Ye.bi_valid&&(Ye.pending_buf[Ye.pending++]=255&Ye.bi_buf,Ye.bi_buf>>=8,Ye.bi_valid-=8)}(_e)}},{"../utils/common":41}],53:[function(i,a,l){a.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(i,a,l){(function(c){(function(y,n){if(!y.setImmediate){var x,C,k,O,B=1,L={},V=!1,G=y.document,Q=Object.getPrototypeOf&&Object.getPrototypeOf(y);Q=Q&&Q.setTimeout?Q:y,x={}.toString.call(y.process)==="[object process]"?function(ce){process.nextTick(function(){J(ce)})}:function(){if(y.postMessage&&!y.importScripts){var ce=!0,he=y.onmessage;return y.onmessage=function(){ce=!1},y.postMessage("","*"),y.onmessage=he,ce}}()?(O="setImmediate$"+Math.random()+"$",y.addEventListener?y.addEventListener("message",re,!1):y.attachEvent("onmessage",re),function(ce){y.postMessage(O+ce,"*")}):y.MessageChannel?((k=new MessageChannel).port1.onmessage=function(ce){J(ce.data)},function(ce){k.port2.postMessage(ce)}):G&&"onreadystatechange"in G.createElement("script")?(C=G.documentElement,function(ce){var he=G.createElement("script");he.onreadystatechange=function(){J(ce),he.onreadystatechange=null,C.removeChild(he),he=null},C.appendChild(he)}):function(ce){setTimeout(J,0,ce)},Q.setImmediate=function(ce){typeof ce!="function"&&(ce=new Function(""+ce));for(var he=new Array(arguments.length-1),we=0;we<he.length;we++)he[we]=arguments[we+1];var pe={callback:ce,args:he};return L[B]=pe,x(B),B++},Q.clearImmediate=Y}function Y(ce){delete L[ce]}function J(ce){if(V)setTimeout(J,0,ce);else{var he=L[ce];if(he){V=!0;try{(function(we){var pe=we.callback,De=we.args;switch(De.length){case 0:pe();break;case 1:pe(De[0]);break;case 2:pe(De[0],De[1]);break;case 3:pe(De[0],De[1],De[2]);break;default:pe.apply(n,De)}})(he)}finally{Y(ce),V=!1}}}}function re(ce){ce.source===y&&typeof ce.data=="string"&&ce.data.indexOf(O)===0&&J(+ce.data.slice(O.length))}})(typeof self>"u"?c===void 0?this:c:self)}).call(this,typeof Nn<"u"?Nn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(KI);var Ose=KI.exports;const Lse=j2(Ose);var ZI={exports:{}};(function(e,t){(function(i,a){a()})(Nn,function(){function i(C,k){return typeof k>"u"?k={autoBom:!1}:typeof k!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),k={autoBom:!k}),k.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(C.type)?new Blob(["\uFEFF",C],{type:C.type}):C}function a(C,k,O){var B=new XMLHttpRequest;B.open("GET",C),B.responseType="blob",B.onload=function(){x(B.response,k,O)},B.onerror=function(){console.error("could not download file")},B.send()}function l(C){var k=new XMLHttpRequest;k.open("HEAD",C,!1);try{k.send()}catch{}return 200<=k.status&&299>=k.status}function c(C){try{C.dispatchEvent(new MouseEvent("click"))}catch{var k=document.createEvent("MouseEvents");k.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),C.dispatchEvent(k)}}var y=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Nn=="object"&&Nn.global===Nn?Nn:void 0,n=y.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),x=y.saveAs||(typeof window!="object"||window!==y?function(){}:"download"in HTMLAnchorElement.prototype&&!n?function(C,k,O){var B=y.URL||y.webkitURL,L=document.createElement("a");k=k||C.name||"download",L.download=k,L.rel="noopener",typeof C=="string"?(L.href=C,L.origin===location.origin?c(L):l(L.href)?a(C,k,O):c(L,L.target="_blank")):(L.href=B.createObjectURL(C),setTimeout(function(){B.revokeObjectURL(L.href)},4e4),setTimeout(function(){c(L)},0))}:"msSaveOrOpenBlob"in navigator?function(C,k,O){if(k=k||C.name||"download",typeof C!="string")navigator.msSaveOrOpenBlob(i(C,O),k);else if(l(C))a(C,k,O);else{var B=document.createElement("a");B.href=C,B.target="_blank",setTimeout(function(){c(B)})}}:function(C,k,O,B){if(B=B||open("","_blank"),B&&(B.document.title=B.document.body.innerText="downloading..."),typeof C=="string")return a(C,k,O);var L=C.type==="application/octet-stream",V=/constructor/i.test(y.HTMLElement)||y.safari,G=/CriOS\/[\d]+/.test(navigator.userAgent);if((G||L&&V||n)&&typeof FileReader<"u"){var Q=new FileReader;Q.onloadend=function(){var re=Q.result;re=G?re:re.replace(/^data:[^;]*;/,"data:attachment/file;"),B?B.location.href=re:location=re,B=null},Q.readAsDataURL(C)}else{var Y=y.URL||y.webkitURL,J=Y.createObjectURL(C);B?B.location=J:location.href=J,B=null,setTimeout(function(){Y.revokeObjectURL(J)},4e4)}});y.saveAs=x.saveAs=x,e.exports=x})})(ZI);var Dse=ZI.exports;const QI=pu("exportStore",()=>{let e=`This data is provided for informational purposes only. The data is not intended for use in legal, engineering, or surveying purposes. The data is provided "as is" without warranty of any kind, either expressed or implied, including, but not limited to, the implied warranties of merchantability and fitness for a particular purpose. The entire risk as to its quality and performance is assumed by the user. No guarantee of accuracy is granted or implied. No liability is assumed for damages resulting from the use of the data. The user acknowledges that the data is subject to change and that its use is at the user's risk. The user is responsible for verifying the limitations of the data and for all decisions made based on the data.`,t=[{field:"area_name",title:"Name"},{field:"area_ac",title:"Area (ac)"},{field:"unsecured_forest_ac",title:"Unsecured Forest (ac)"},{field:"unsecured_forest_percent",title:"Unsecured Forest (%)"},{field:"land_cost_mean",title:"Land Cost ($/ac)"},{field:"forest_legacy_percent",title:"Forest Legacy Area Overlap (%)"},{field:"unsecured_carbon_total",title:"Unsecured Forest Carbon Total (tCO2e)"},{field:"avoided_forest_conversion",title:"Anticipated Emissions from Forest Conversion (tCO2e)"},{field:"afc_roi_usd_per_ton_c_forests",title:"Anticipated Emissions from Forest Conversion ROI ($ per tCO2e)"},{field:"critical_habitat_species_number",title:"Number of T&E Species"},{field:"critical_habitat_species",title:"T&E Species"},{field:"rcn_percent",title:"Resilient & Connected Lands (%)"},{field:"water_provision",title:"Water Provision"},{field:"conversion_rate_mean",title:"Annual Forest Conversion Rate 1990-2017 (Mean)"},{field:"conversion_rate_min",title:"Annual Forest Conversion Rate 1990-2017 (Min)"},{field:"conversion_rate_max",title:"Annual Forest Conversion Rate 1990-2017 (Max)"},{field:"private_unprotected_percent",title:"Private Unprotected (%)"},{field:"megaregion_name",title:"Megaregion"},{field:"conversion_pressure_index",title:"Conversion Pressure Index"}];const i=()=>{const c=new Date,y=c.getFullYear(),n=c.getMonth()+1,x=c.getDate(),C=n<10?"0"+n:n,k=x<10?"0"+x:x;return`${y}_${C}_${k}`},a=c=>WI(c,{emptyFieldValue:"N/A",keys:t,parseValue:(n,x)=>isNaN(n)?n=="NaN"?(console.log("value is NaN",n),""):x(n):n.toString()});return{exportData:()=>{const y=vr().activeWorkspaceTableData,n=i(),x=a(y),C=new Lse;C.file("disclaimer.txt",e),C.file("data.csv",x),C.generateAsync({type:"blob"}).then(k=>{Dse.saveAs(k,`deforestation_explorer_data - ${n}.zip`)})}}});var Bse=In.extend({name:"columngroup"}),jse={name:"BaseColumnGroup",extends:Tn,props:{type:{type:String,default:null}},style:Bse,provide:function(){return{$pcColumnGroup:this,$parentInstance:this}}},zse={name:"ColumnGroup",extends:jse,inheritAttrs:!1,inject:["$columnGroups"],mounted:function(){var t;(t=this.$columnGroups)===null||t===void 0||t.add(this.$)},unmounted:function(){var t;(t=this.$columnGroups)===null||t===void 0||t.delete(this.$)},render:function(){return null}},O3={name:"Row",extends:Tn,inject:["$rows"],mounted:function(){var t;(t=this.$rows)===null||t===void 0||t.add(this.$)},unmounted:function(){var t;(t=this.$rows)===null||t===void 0||t.delete(this.$)},render:function(){return null}};const Vse={key:0,id:"results-table"},Nse={class:"table-header"},$se={class:"table-actions"},Use={class:"area"},Gse={class:"area-name"},Hse={class:"data-note"},qse=["onClick"],Wse={class:"ch-data"},Kse=["onClick"],Zse={key:0,class:"change-map-layer-button"},Qse={class:"data-note"},Xse={class:"ch-popover"},Jse={class:"species-list"},Yse=["href"],ece={class:"species-common"},tce={class:"species-latin"},ice={class:"ch-popover"},nce=to({__name:"TheAreaResultsTableExpanded",setup(e){const t=vr(),i=fc(),a=QI(),l=mo(),c=ai(0),y=Li(()=>t.activeWorkspaceTableData),n=ai(null),x=ai(null),C=ai(null),k=ai(null),O=Li(()=>{const G=t.activeWorkspaceId,Q=t.activeWorkspaceTableData.find(J=>J.area_id===k.value).afc_data;console.log("afcData",Q);const Y={activeWorkspaceId:G,...Q};return console.log("THE DATA",Y),Y}),B=(G,Q)=>{n.value.hide(G),x.value=null,x.value=Q,Fl(()=>{n.value.show(G)})},L=(G,Q,Y,J)=>{C.value.hide(G),k.value=Y,Fl(()=>{C.value.show(G)})},V=G=>{console.log("update conversion rate",G),O.value.conversion_rate.user=G,c.value+=1};return(G,Q)=>{const Y=Nr("tooltip");return y.value.length>0?(ge(),Je("div",Vse,[Se("div",Nse,[Q[2]||(Q[2]=Se("h3",null,null,-1)),Se("div",$se,[Se("button",{class:"table-action",onClick:Q[0]||(Q[0]=(...J)=>dt(a).exportData&&dt(a).exportData(...J))},Q[1]||(Q[1]=[Se("i",{class:"fa-solid fa-download table-action-icon"},null,-1),Ei(" Export ")]))])]),kt(dt(n_),{id:"areas-table",value:y.value,paginator:!0,rows:10,size:"medium",stripedRows:"",scrollable:"",showGridlines:""},{default:ti(()=>[kt(dt(zse),{type:"header"},{default:ti(()=>[kt(dt(O3),null,{default:ti(()=>[kt(dt(En),{header:"",rowspan:"2"})]),_:1}),kt(dt(O3),null,{default:ti(()=>[kt(dt(En),{header:"Opportunity",colspan:"5",class:"opportunity-header"}),kt(dt(En),{header:"Carbon",colspan:"3",class:"expanded-table-header carbon-header"}),kt(dt(En),{header:"Co-benefits",colspan:"3",class:"expanded-table-header cobenefits-header"}),kt(dt(En),{header:"Threats & Protection",colspan:"4",class:"expanded-table-header threats-header"})]),_:1}),kt(dt(O3),null,{default:ti(()=>[kt(dt(En),{header:"Name",sortable:"",sortField:"area_name",frozen:""}),kt(dt(En),{header:"Area (ac)",sortable:"",sortField:"area_ac"}),kt(dt(En),{header:"Unsecured Forest (ac)",sortable:"",sortField:"unsecured_forest_ac",class:"align-right"}),kt(dt(En),{header:"Unsecured Forest %",sortable:"",sortField:"unsecured_forest_percent",class:"align-right"}),kt(dt(En),{header:"Land Cost ($/ac)",sortable:"",sortField:"land_cost_mean",class:"align-right"}),kt(dt(En),{header:"Forest Legacy Overlap %",sortable:"",sortField:"forest_legacy_percent",class:"align-right"}),kt(dt(En),{header:"Unsecured Forest Carbon (tCO2e)",sortable:"",sortField:"unsecured_carbon_total",class:"align-right"}),kt(dt(En),{header:"Anticipated Emissions from Forest Conversion (tCO2e)",sortable:"",sortField:"avoided_forest_conversion",class:"align-right"}),kt(dt(En),{header:"Anticipated Emissions from Forest Conversion ROI ($ per tCO2e)",sortable:"",sortField:"afc_roi_usd_per_ton_c_forests",class:"align-right"}),kt(dt(En),{header:"Critical Habitat Species",sortable:"",sortField:"critical_habitat_species_number",class:"align-right"}),kt(dt(En),{header:"Resilient & Connected Lands %",sortable:"",sortField:"rcn_percent",class:"align-right"}),kt(dt(En),{header:"Water Provision",sortable:"",sortField:"water_provision",class:"align-right"}),kt(dt(En),{header:"Annual Forest Conversion Rate, 1990-2017",sortable:"",sortField:"afc_data.conversion_rate.mean",class:"align-right"}),kt(dt(En),{header:"Private Unprotected %",sortable:"",sortField:"private_unprotected_percent",class:"align-right"}),kt(dt(En),{header:"Conversion Pressure Index"}),kt(dt(En),{header:"Megaregion"})]),_:1})]),_:1}),kt(dt(En),{field:"name",header:"Name",sortable:"",sortField:"area_name",frozen:""},{body:ti(J=>[Se("div",Use,[Se("span",Gse,li(J.data.area_name),1)])]),_:1}),kt(dt(En),{field:"area_ac",header:"Area (ac)",sortable:""}),kt(dt(En),{field:"unsecured_forest_ac",header:"Unsecured Forest (ac)",sortable:"",bodyStyle:"text-align:right",class:"align-right"}),kt(dt(En),{field:"unsecured_forest_percent",header:"Unsecured Forest %",sortable:"",class:"align-right"}),kt(dt(En),{field:"land_cost_mean",header:"Land Cost ($/ac)",sortable:"",class:"align-right"}),kt(dt(En),{field:"forest_legacy_percent",header:"Forest Legacy Overlap %",sortable:"",class:"align-right"}),kt(dt(En),{field:"unsecured_carbon_total",header:"Total Unsecured Forest Carbon (tCO2e)",sortable:"",class:"align-right"},{body:ti(J=>[Se("span",null,[Ei(li(J.data.unsecured_carbon_total)+" ",1),Q[3]||(Q[3]=Se("br",null,null,-1)),Se("span",Hse,"("+li(J.data.unsecured_carbon_mean_ac)+" tCO2e/ac)",1)])]),_:1}),kt(dt(En),{field:"avoided_forest_conversion",header:"Avoided Conversion (tCO2e)",sortable:"",class:"align-right"},{body:ti(J=>[Se("span",null,li(dt(Yn)(J.data.avoided_forest_conversion).string),1),Qo((ge(),Je("span",{class:"afc-expand",onClick:re=>L(re,J.data.workspace_id,J.data.area_id,J.data.afc_data)},Q[4]||(Q[4]=[Se("button",{class:"change-map-layer-button"},[Se("i",{class:"fa-light fa-calculator"})],-1)]),8,qse)),[[Y,"Customize avoided conversion calculation"]])]),_:1}),kt(dt(En),{header:"AFC $ per tCO2e",sortable:"",sortField:"afc_data.conversion_rate.mean",class:"align-right"},{body:ti(J=>[Se("span",null," $"+li(J.data.afc_roi_usd_per_ton_c_forests),1)]),_:1}),kt(dt(En),{field:"critical_habitat_species_number",header:"Critical Habitat Species",sortable:"",class:"align-right"},{body:ti(J=>[Se("div",Wse,[Se("span",null,li(J.data.critical_habitat_species_number),1),Qo((ge(),Je("span",{class:"ch-expand",onClick:re=>B(re,J.data.critical_habitat_species_list)},[J.data.critical_habitat_species_number>0?(ge(),Je("button",Zse,Q[5]||(Q[5]=[Se("i",{class:"fa-light fa-list-dropdown"},null,-1)]))):Zt("",!0)],8,Kse)),[[Y,"View species"]])])]),_:1}),kt(dt(En),{field:"rcn_percent",header:"Resilient & Connected Lands %",sortable:"",class:"align-right"}),kt(dt(En),{field:"water_provision",header:"Water Provision",sortable:"",class:"align-right"}),kt(dt(En),{header:"Historic Forest Conversion Rate",sortable:"",sortField:"afc_data.conversion_rate.mean",class:"align-right"},{body:ti(J=>[Se("span",null,[Ei(li(J.data.afc_data.conversion_rate.mean)+"% ",1),Q[6]||(Q[6]=Se("br",null,null,-1)),Se("span",Qse,"("+li(J.data.afc_data.conversion_rate.min)+"% - "+li(J.data.afc_data.conversion_rate.max)+"%)",1)])]),_:1}),kt(dt(En),{field:"private_unprotected_percent",header:"Private Unprotected %",sortable:"",class:"align-right"},{body:ti(J=>[Ei(li(J.data.private_unprotected_percent)+"% ",1)]),_:1}),kt(dt(En),{field:"conversion_pressure_index",header:"Conversion Pressure Index"}),kt(dt(En),{field:"megaregion_name",header:"Megaregion",sortable:""})]),_:1},8,["value"]),kt(dt(Dh),{ref_key:"chPopover",ref:n},{default:ti(()=>[Se("div",Xse,[Q[7]||(Q[7]=Se("h4",null,"Critical Habitat Species",-1)),Se("ul",Jse,[(ge(!0),Je(Ri,null,wo(x.value,J=>(ge(),Je("li",{key:J},[Se("a",{href:`https://ecos.fws.gov/ecp/species/${J.spcode}`,target:"_blank"},[Se("span",ece,li(J.comname),1)],8,Yse),Se("span",tce,"("+li(J.sciname)+")",1),Ei(" "+li(dt(Yn)(J.area_ac).string)+" acres ",1)]))),128))])])]),_:1},512),(ge(),Vt(dt(Dh),{ref_key:"afcPopover",ref:C,key:c.value,style:{"max-width":"750px"}},{default:ti(()=>[Se("div",ice,[Q[8]||(Q[8]=Se("h4",null,"Avoided Forest Conversion",-1)),kt(oI,{workspaceId:O.value.workspace_id,areaId:O.value.area_id,commitmentPeriod:dt(i).commitmentPeriod,unprotectedForestAcres:O.value.unprotected_forest_acres,carbonMeanPerForestAcre:O.value.carbon_mean_per_forest_acre,albedo2DevMean:O.value.albedo_2_dev_mean.raw,albedo2CropMean:O.value.albedo_2_crop_mean.raw,conversionRate:O.value.conversion_rate,avoidedConversionAmount:O.value.avoided_conversion_amount,albedo2DevWeight:dt(l).albedo2DevWeight,albedo2CropWeight:dt(l).albedo2CropWeight,includeAlbedo:dt(l).includeAlbedo,onUpdateConversionRate:V},null,8,["workspaceId","areaId","commitmentPeriod","unprotectedForestAcres","carbonMeanPerForestAcre","albedo2DevMean","albedo2CropMean","conversionRate","avoidedConversionAmount","albedo2DevWeight","albedo2CropWeight","includeAlbedo"])])]),_:1}))])):Zt("",!0)}}}),oce=Vo(nce,[["__scopeId","data-v-bb0a9d77"]]),rce=to({__name:"TheAreaResultsModal",setup(e){const t=vr(),i=fc();return(a,l)=>(ge(),Je(Ri,null,[kt(YP,{metrics:dt(t).displayedAnalysisArea.data_opportunities},null,8,["metrics"]),kt(rI,{metrics:dt(t).displayedAnalysisArea.data_opportunities,conversionRate:dt(t).displayedAnalysisArea.data_opportunities.conversionRate,commitmentPeriod:dt(i).commitmentPeriod},null,8,["metrics","conversionRate","commitmentPeriod"]),kt(zI,{metrics:dt(t).displayedAnalysisArea.data_cobenefits},null,8,["metrics"]),kt(VI,{metrics:dt(t).displayedAnalysisArea.data_threats},null,8,["metrics"])],64))}}),ace={},sce={class:"custom-loader"};function cce(e,t){return ge(),Je("div",sce)}const lce=Vo(ace,[["render",cce],["__scopeId","data-v-be9fce5d"]]),dce={key:0,id:"results-table"},uce={class:"table-header"},hce={class:"table-actions"},fce={class:"area"},pce=["onClick"],mce=["onClick"],gce={class:"area-name"},_ce={class:"area-delete"},yce=["onClick"],bce={key:0},vce={key:1},xce={class:"tablist"},wce={class:"tabs"},Fce=to({__name:"TheAreasTable",setup(e){const t=vr(),i=wr(),a=QI();let l=ai(0);const c=Li(()=>t.activeWorkspaceAreas),y=ai([{group:"data_opportunities",field:"unprotectedForestAcres",field2:"data_opportunities.unprotectedForestAcres.string",fieldName:"unprotectedForestAcres",header:"Unsecured Forest (ac)"},{group:"data_opportunities",field:"carbonMeanPerForestAcre",field2:"data_opportunities.carbonMeanPerForestAcre.string",fieldName:"carbonMeanPerForestAcre",header:"Carbon/Forest Acre (tCO2e/ac)"}]),n=C=>{console.log("DELETE AREA",C),t.deleteUserArea(C)},x=C=>{console.log("DISPLAY AREA RESULTS",C),t.displayedAnalysisAreaId=null,t.displayedAnalysisAreaId=C,Fl(()=>{t.showAreaResults=!0})};return(C,k)=>{const O=Nr("tooltip");return c.value.length>0?(ge(),Je("div",dce,[Se("div",uce,[Se("div",hce,[Se("button",{class:"table-action",onClick:k[0]||(k[0]=B=>dt(t).zoomToActiveWorkspace())},k[6]||(k[6]=[Se("i",{class:"fa-light fa-globe table-action-icon"},null,-1),Ei(" Zoom to Extent ")])),Se("button",{class:"table-action",onClick:k[1]||(k[1]=B=>dt(t).showExpandedResults=!0)},k[7]||(k[7]=[Se("i",{class:"fa-solid fa-expand table-action-icon"},null,-1),Ei(" Expand Results ")])),Se("button",{class:"table-action",onClick:k[2]||(k[2]=(...B)=>dt(a).exportData&&dt(a).exportData(...B))},k[8]||(k[8]=[Se("i",{class:"fa-solid fa-download table-action-icon"},null,-1),Ei(" Export ")]))])]),kt(dt(n_),{id:"areas-table",dataKey:c.value.area_id,value:c.value,paginator:!1,rows:15,size:"small",stripedRows:""},{default:ti(()=>[kt(dt(En),{field:"name",header:"Name",sortable:"",sortField:"area_name"},{body:ti(B=>[Se("div",fce,[Qo((ge(),Je("span",{class:"area-action view-results",onClick:L=>x(B.data.area_id)},k[9]||(k[9]=[Se("i",{class:"fa-solid fa-square-poll-vertical"},null,-1)]),8,pce)),[[O,"View area results"]]),Qo((ge(),Je("span",{class:"area-action area-zoom",onClick:L=>dt(i).zoomToBbox(B.data.geojson)},k[10]||(k[10]=[Se("i",{class:"fa-regular fa-magnifying-glass-plus"},null,-1)]),8,mce)),[[O,"Zoom to area"]]),Se("span",gce,[Ei(li(B.data.area_name)+" ",1),Se("span",_ce,[Se("ul",null,[Se("li",{onClick:L=>n(B.data.area_id)},"Delete",8,yce)])])])])]),_:1}),kt(dt(En),{field:"area_ac",header:"Area (ac)",sortable:""},{body:ti(B=>[Se("span",null,li(dt(B2)(B.data.area_ac).string),1)]),_:1}),(ge(!0),Je(Ri,null,wo(y.value,B=>(ge(),Vt(dt(En),{key:`${B.group}-${B.field}`,header:B.header},{body:ti(L=>[L.data[B.group]&&L.data[B.group][B.field]?(ge(),Je("span",bce,li(L.data[B.group][B.field].string),1)):(ge(),Je("span",vce,[kt(lce)]))]),_:2},1032,["header"]))),128))]),_:1},8,["dataKey","value"]),kt(dt(Jp),{visible:dt(t).showExpandedResults,"onUpdate:visible":k[4]||(k[4]=B=>dt(t).showExpandedResults=B),modal:"",header:"Results",class:"results-dialog",style:{width:"98%",height:"98%"}},{default:ti(()=>[Se("div",xce,[Se("ul",wce,[Se("li",{onClick:k[3]||(k[3]=B=>xo(l)?l.value=0:l=0),class:Ii({active:dt(l)===0})}," Table ",2)])]),dt(l)===0?(ge(),Je("div",{key:0,class:Ii(["tabpanel",{active:dt(l)===0}])},[kt(oce)],2)):Zt("",!0),dt(l)===1?(ge(),Je("div",{key:1,class:Ii(["tabpanel",{active:dt(l)===1}])},k[11]||(k[11]=[Se("p",null,"Graph",-1)]),2)):Zt("",!0)]),_:1},8,["visible"]),(ge(),Vt(o6,null,[kt(dt(Jp),{visible:dt(t).showAreaResults,"onUpdate:visible":k[5]||(k[5]=B=>dt(t).showAreaResults=B),modal:"",class:"results-dialog",header:dt(t).displayedAnalysisArea.area_name,style:{width:"50%",height:"94%"}},{default:ti(()=>[kt(rce)]),_:1},8,["visible","header"])],1024))])):Zt("",!0)}}}),Cce=Vo(Fce,[["__scopeId","data-v-60a31d66"]]);var C5={name:"ChevronUpIcon",extends:Ro};function Ece(e,t,i,a,l,c){return ge(),Je("svg",Ze({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),t[0]||(t[0]=[Se("path",{d:"M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z",fill:"currentColor"},null,-1)]),16)}C5.render=Ece;var Sce={root:"p-accordioncontent",content:"p-accordioncontent-content"},Tce=In.extend({name:"accordioncontent",classes:Sce}),Rce={name:"BaseAccordionContent",extends:Tn,props:{as:{type:[String,Object],default:"DIV"},asChild:{type:Boolean,default:!1}},style:Tce,provide:function(){return{$pcAccordionContent:this,$parentInstance:this}}},m2={name:"AccordionContent",extends:Rce,inheritAttrs:!1,inject:["$pcAccordion","$pcAccordionPanel"],computed:{id:function(){return"".concat(this.$pcAccordion.id,"_accordioncontent_").concat(this.$pcAccordionPanel.value)},ariaLabelledby:function(){return"".concat(this.$pcAccordion.id,"_accordionheader_").concat(this.$pcAccordionPanel.value)},attrs:function(){return Ze(this.a11yAttrs,this.ptmi("root",this.ptParams))},a11yAttrs:function(){return{id:this.id,role:"region","aria-labelledby":this.ariaLabelledby,"data-pc-name":"accordioncontent","data-p-active":this.$pcAccordionPanel.active}},ptParams:function(){return{context:{active:this.$pcAccordionPanel.active}}}}};function Pce(e,t,i,a,l,c){return e.asChild?mi(e.$slots,"default",{key:1,class:Ii(e.cx("root")),active:c.$pcAccordionPanel.active,a11yAttrs:c.a11yAttrs}):(ge(),Vt(e0,Ze({key:0,name:"p-toggleable-content"},e.ptm("transition",c.ptParams)),{default:ti(function(){return[!c.$pcAccordion.lazy||c.$pcAccordionPanel.active?Qo((ge(),Vt(Wi(e.as),Ze({key:0,class:e.cx("root")},c.attrs),{default:ti(function(){return[Se("div",Ze({class:e.cx("content")},e.ptm("content",c.ptParams)),[mi(e.$slots,"default")],16)]}),_:3},16,["class"])),[[jL,c.$pcAccordion.lazy?!0:c.$pcAccordionPanel.active]]):Zt("",!0)]}),_:3},16))}m2.render=Pce;var Ice={root:"p-accordionheader",toggleicon:"p-accordionheader-toggle-icon"},kce=In.extend({name:"accordionheader",classes:Ice}),Mce={name:"BaseAccordionHeader",extends:Tn,props:{as:{type:[String,Object],default:"BUTTON"},asChild:{type:Boolean,default:!1}},style:kce,provide:function(){return{$pcAccordionHeader:this,$parentInstance:this}}},g2={name:"AccordionHeader",extends:Mce,inheritAttrs:!1,inject:["$pcAccordion","$pcAccordionPanel"],methods:{onFocus:function(){this.$pcAccordion.selectOnFocus&&this.changeActiveValue()},onClick:function(){this.changeActiveValue()},onKeydown:function(t){switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t);break;case"Home":this.onHomeKey(t);break;case"End":this.onEndKey(t);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(t);break}},onArrowDownKey:function(t){var i=this.findNextPanel(this.findPanel(t.currentTarget));i?this.changeFocusedPanel(t,i):this.onHomeKey(t),t.preventDefault()},onArrowUpKey:function(t){var i=this.findPrevPanel(this.findPanel(t.currentTarget));i?this.changeFocusedPanel(t,i):this.onEndKey(t),t.preventDefault()},onHomeKey:function(t){var i=this.findFirstPanel();this.changeFocusedPanel(t,i),t.preventDefault()},onEndKey:function(t){var i=this.findLastPanel();this.changeFocusedPanel(t,i),t.preventDefault()},onEnterKey:function(t){this.changeActiveValue(),t.preventDefault()},findPanel:function(t){return t==null?void 0:t.closest('[data-pc-name="accordionpanel"]')},findHeader:function(t){return ks(t,'[data-pc-name="accordionheader"]')},findNextPanel:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=i?t:t.nextElementSibling;return a?Uo(a,"data-p-disabled")?this.findNextPanel(a):this.findHeader(a):null},findPrevPanel:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=i?t:t.previousElementSibling;return a?Uo(a,"data-p-disabled")?this.findPrevPanel(a):this.findHeader(a):null},findFirstPanel:function(){return this.findNextPanel(this.$pcAccordion.$el.firstElementChild,!0)},findLastPanel:function(){return this.findPrevPanel(this.$pcAccordion.$el.lastElementChild,!0)},changeActiveValue:function(){this.$pcAccordion.updateValue(this.$pcAccordionPanel.value)},changeFocusedPanel:function(t,i){Zo(this.findHeader(i))}},computed:{id:function(){return"".concat(this.$pcAccordion.id,"_accordionheader_").concat(this.$pcAccordionPanel.value)},ariaControls:function(){return"".concat(this.$pcAccordion.id,"_accordioncontent_").concat(this.$pcAccordionPanel.value)},attrs:function(){return Ze(this.asAttrs,this.a11yAttrs,this.ptmi("root",this.ptParams))},asAttrs:function(){return this.as==="BUTTON"?{type:"button",disabled:this.$pcAccordionPanel.disabled}:void 0},a11yAttrs:function(){return{id:this.id,tabindex:this.$pcAccordion.tabindex,"aria-expanded":this.$pcAccordionPanel.active,"aria-controls":this.ariaControls,"data-pc-name":"accordionheader","data-p-disabled":this.$pcAccordionPanel.disabled,"data-p-active":this.$pcAccordionPanel.active,onFocus:this.onFocus,onKeydown:this.onKeydown}},ptParams:function(){return{context:{active:this.$pcAccordionPanel.active}}}},components:{ChevronUpIcon:C5,ChevronDownIcon:r0},directives:{ripple:Bs}};function Ace(e,t,i,a,l,c){var y=Nr("ripple");return e.asChild?mi(e.$slots,"default",{key:1,class:Ii(e.cx("root")),active:c.$pcAccordionPanel.active,a11yAttrs:c.a11yAttrs,onClick:c.onClick}):Qo((ge(),Vt(Wi(e.as),Ze({key:0,class:e.cx("root"),onClick:c.onClick},c.attrs),{default:ti(function(){return[mi(e.$slots,"default",{active:c.$pcAccordionPanel.active}),mi(e.$slots,"toggleicon",{active:c.$pcAccordionPanel.active,class:Ii(e.cx("toggleicon"))},function(){return[c.$pcAccordionPanel.active?(ge(),Vt(Wi(c.$pcAccordion.$slots.collapseicon?c.$pcAccordion.$slots.collapseicon:c.$pcAccordion.collapseIcon?"span":"ChevronDownIcon"),Ze({key:0,class:[c.$pcAccordion.collapseIcon,e.cx("toggleicon")],"aria-hidden":"true"},e.ptm("toggleicon",c.ptParams)),null,16,["class"])):(ge(),Vt(Wi(c.$pcAccordion.$slots.expandicon?c.$pcAccordion.$slots.expandicon:c.$pcAccordion.expandIcon?"span":"ChevronUpIcon"),Ze({key:1,class:[c.$pcAccordion.expandIcon,e.cx("toggleicon")],"aria-hidden":"true"},e.ptm("toggleicon",c.ptParams)),null,16,["class"]))]})]}),_:3},16,["class","onClick"])),[[y]])}g2.render=Ace;var Oce={root:function(t){var i=t.instance,a=t.props;return["p-accordionpanel",{"p-accordionpanel-active":i.active,"p-disabled":a.disabled}]}},Lce=In.extend({name:"accordionpanel",classes:Oce}),Dce={name:"BaseAccordionPanel",extends:Tn,props:{value:{type:[String,Number],default:void 0},disabled:{type:Boolean,default:!1},as:{type:[String,Object],default:"DIV"},asChild:{type:Boolean,default:!1}},style:Lce,provide:function(){return{$pcAccordionPanel:this,$parentInstance:this}}},_2={name:"AccordionPanel",extends:Dce,inheritAttrs:!1,inject:["$pcAccordion"],computed:{active:function(){return this.$pcAccordion.isItemActive(this.value)},attrs:function(){return Ze(this.a11yAttrs,this.ptmi("root",this.ptParams))},a11yAttrs:function(){return{"data-pc-name":"accordionpanel","data-p-disabled":this.disabled,"data-p-active":this.active}},ptParams:function(){return{context:{active:this.active}}}}};function Bce(e,t,i,a,l,c){return e.asChild?mi(e.$slots,"default",{key:1,class:Ii(e.cx("root")),active:c.active,a11yAttrs:c.a11yAttrs}):(ge(),Vt(Wi(e.as),Ze({key:0,class:e.cx("root")},c.attrs),{default:ti(function(){return[mi(e.$slots,"default")]}),_:3},16,["class"]))}_2.render=Bce;var jce=function(t){var i=t.dt;return`
.p-accordionpanel {
    display: flex;
    flex-direction: column;
    border-style: solid;
    border-width: `.concat(i("accordion.panel.border.width"),`;
    border-color: `).concat(i("accordion.panel.border.color"),`;
}

.p-accordionheader {
    all: unset;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: `).concat(i("accordion.header.padding"),`;
    color: `).concat(i("accordion.header.color"),`;
    background: `).concat(i("accordion.header.background"),`;
    border-style: solid;
    border-width: `).concat(i("accordion.header.border.width"),`;
    border-color: `).concat(i("accordion.header.border.color"),`;
    font-weight: `).concat(i("accordion.header.font.weight"),`;
    border-radius: `).concat(i("accordion.header.border.radius"),`;
    transition: background `).concat(i("accordion.transition.duration"),"; color ").concat(i("accordion.transition.duration"),"color ").concat(i("accordion.transition.duration"),", outline-color ").concat(i("accordion.transition.duration"),", box-shadow ").concat(i("accordion.transition.duration"),`;
    outline-color: transparent;
}

.p-accordionpanel:first-child > .p-accordionheader {
    border-width: `).concat(i("accordion.header.first.border.width"),`;
    border-top-left-radius: `).concat(i("accordion.header.first.top.border.radius"),`;
    border-top-right-radius: `).concat(i("accordion.header.first.top.border.radius"),`;
}

.p-accordionpanel:last-child > .p-accordionheader {
    border-bottom-left-radius: `).concat(i("accordion.header.last.bottom.border.radius"),`;
    border-bottom-right-radius: `).concat(i("accordion.header.last.bottom.border.radius"),`;
}

.p-accordionpanel:last-child.p-accordionpanel-active > .p-accordionheader {
    border-bottom-left-radius: `).concat(i("accordion.header.last.active.bottom.border.radius"),`;
    border-bottom-right-radius:`).concat(i("accordion.header.last.active.bottom.border.radius"),`;
}

.p-accordionheader-toggle-icon {
    color: `).concat(i("accordion.header.toggle.icon.color"),`;
}

.p-accordionpanel:not(.p-disabled) .p-accordionheader:focus-visible {
    box-shadow: `).concat(i("accordion.header.focus.ring.shadow"),`;
    outline: `).concat(i("accordion.header.focus.ring.width")," ").concat(i("accordion.header.focus.ring.style")," ").concat(i("accordion.header.focus.ring.color"),`;
    outline-offset: `).concat(i("accordion.header.focus.ring.offset"),`;
}

.p-accordionpanel:not(.p-accordionpanel-active):not(.p-disabled) > .p-accordionheader:hover {
    background: `).concat(i("accordion.header.hover.background"),`;
    color: `).concat(i("accordion.header.hover.color"),`
}

.p-accordionpanel:not(.p-accordionpanel-active):not(.p-disabled) .p-accordionheader:hover .p-accordionheader-toggle-icon {
    color: `).concat(i("accordion.header.toggle.icon.hover.color"),`;
}

.p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader {
    background: `).concat(i("accordion.header.active.background"),`;
    color: `).concat(i("accordion.header.active.color"),`
}

.p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader .p-accordionheader-toggle-icon {
    color: `).concat(i("accordion.header.toggle.icon.active.color"),`;
}

.p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader:hover  {
    background: `).concat(i("accordion.header.active.hover.background"),`;
    color: `).concat(i("accordion.header.active.hover.color"),`
}

.p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader:hover  .p-accordionheader-toggle-icon {
    color: `).concat(i("accordion.header.toggle.icon.active.hover.color"),`;
}

.p-accordioncontent-content {
    border-style: solid;
    border-width: `).concat(i("accordion.content.border.width"),`;
    border-color: `).concat(i("accordion.content.border.color"),`;
    background-color: `).concat(i("accordion.content.background"),`;
    color: `).concat(i("accordion.content.color"),`;
    padding: `).concat(i("accordion.content.padding"),`
}
`)},zce={root:"p-accordion p-component"},Vce=In.extend({name:"accordion",theme:jce,classes:zce}),Nce={name:"BaseAccordion",extends:Tn,props:{value:{type:[String,Number,Array],default:void 0},multiple:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1},expandIcon:{type:String,default:void 0},collapseIcon:{type:String,default:void 0},activeIndex:{type:[Number,Array],default:null}},style:Vce,provide:function(){return{$pcAccordion:this,$parentInstance:this}}},XI={name:"Accordion",extends:Nce,inheritAttrs:!1,emits:["update:value","update:activeIndex","tab-open","tab-close","tab-click"],data:function(){return{id:this.$attrs.id,d_value:this.value}},watch:{"$attrs.id":function(t){this.id=t||hr()},value:function(t){this.d_value=t},activeIndex:{immediate:!0,handler:function(t){this.hasAccordionTab&&(this.d_value=this.multiple?t==null?void 0:t.map(String):t==null?void 0:t.toString())}}},mounted:function(){this.id=this.id||hr()},methods:{isItemActive:function(t){var i;return this.multiple?(i=this.d_value)===null||i===void 0?void 0:i.includes(t):this.d_value===t},updateValue:function(t){var i,a=this.isItemActive(t);this.multiple?a?this.d_value=this.d_value.filter(function(l){return l!==t}):this.d_value?this.d_value.push(t):this.d_value=[t]:this.d_value=a?null:t,this.$emit("update:value",this.d_value),this.$emit("update:activeIndex",this.multiple?(i=this.d_value)===null||i===void 0?void 0:i.map(Number):Number(this.d_value)),this.$emit(a?"tab-close":"tab-open",{originalEvent:void 0,index:Number(t)})},isAccordionTab:function(t){return t.type.name==="AccordionTab"},getTabProp:function(t,i){return t.props?t.props[i]:void 0},getKey:function(t,i){return this.getTabProp(t,"header")||i},getHeaderPT:function(t,i){var a=this;return{root:Ze({onClick:function(c){return a.onTabClick(c,i)}},this.getTabProp(t,"headerProps"),this.getTabPT(t,"header",i)),toggleicon:Ze(this.getTabProp(t,"headeractionprops"),this.getTabPT(t,"headeraction",i))}},getContentPT:function(t,i){return{root:Ze(this.getTabProp(t,"contentProps"),this.getTabPT(t,"toggleablecontent",i)),transition:this.getTabPT(t,"transition",i),content:this.getTabPT(t,"content",i)}},getTabPT:function(t,i,a){var l=this.tabs.length,c={props:t.props||{},parent:{instance:this,props:this.$props,state:this.$data},context:{index:a,count:l,first:a===0,last:a===l-1,active:this.isItemActive("".concat(a))}};return Ze(this.ptm("accordiontab.".concat(i),c),this.ptmo(this.getTabProp(t,"pt"),i,c))},onTabClick:function(t,i){this.$emit("tab-click",{originalEvent:t,index:i})}},computed:{tabs:function(){var t=this;return this.$slots.default().reduce(function(i,a){return t.isAccordionTab(a)?i.push(a):a.children&&a.children instanceof Array&&a.children.forEach(function(l){t.isAccordionTab(l)&&i.push(l)}),i},[])},hasAccordionTab:function(){return this.tabs.length}},components:{AccordionPanel:_2,AccordionHeader:g2,AccordionContent:m2,ChevronUpIcon:C5,ChevronRightIcon:ev}};function $ce(e,t,i,a,l,c){var y=Mi("AccordionHeader"),n=Mi("AccordionContent"),x=Mi("AccordionPanel");return ge(),Je("div",Ze({class:e.cx("root")},e.ptmi("root")),[c.hasAccordionTab?(ge(!0),Je(Ri,{key:0},wo(c.tabs,function(C,k){return ge(),Vt(x,{key:c.getKey(C,k),value:"".concat(k),pt:{root:c.getTabPT(C,"root",k)},disabled:c.getTabProp(C,"disabled")},{default:ti(function(){return[kt(y,{class:Ii(c.getTabProp(C,"headerClass")),pt:c.getHeaderPT(C,k)},{toggleicon:ti(function(O){return[O.active?(ge(),Vt(Wi(e.$slots.collapseicon?e.$slots.collapseicon:e.collapseIcon?"span":"ChevronDownIcon"),Ze({key:0,class:[e.collapseIcon,O.class],"aria-hidden":"true",ref_for:!0},c.getTabPT(C,"headericon",k)),null,16,["class"])):(ge(),Vt(Wi(e.$slots.expandicon?e.$slots.expandicon:e.expandIcon?"span":"ChevronUpIcon"),Ze({key:1,class:[e.expandIcon,O.class],"aria-hidden":"true",ref_for:!0},c.getTabPT(C,"headericon",k)),null,16,["class"]))]}),default:ti(function(){return[C.children&&C.children.headericon?(ge(),Vt(Wi(C.children.headericon),{key:0,isTabActive:c.isItemActive("".concat(k)),active:c.isItemActive("".concat(k)),index:k},null,8,["isTabActive","active","index"])):Zt("",!0),C.props&&C.props.header?(ge(),Je("span",Ze({key:1,ref_for:!0},c.getTabPT(C,"headertitle",k)),li(C.props.header),17)):Zt("",!0),C.children&&C.children.header?(ge(),Vt(Wi(C.children.header),{key:2})):Zt("",!0)]}),_:2},1032,["class","pt"]),kt(n,{pt:c.getContentPT(C,k)},{default:ti(function(){return[(ge(),Vt(Wi(C)))]}),_:2},1032,["pt"])]}),_:2},1032,["value","pt","disabled"])}),128)):mi(e.$slots,"default",{key:1})],16)}XI.render=$ce;const Uce={class:"map-analyze-pane-container box-shadow-2"},Gce=to({__name:"TheMapViewAnalyzePane",setup(e){const t=vr();return(i,a)=>(ge(),Je("div",Uce,[a[3]||(a[3]=Se("h3",{class:"overview-background"},"Analyze Custom Areas",-1)),kt(dt(XI),{value:dt(t).activeAnalysisSection,"onUpdate:value":a[0]||(a[0]=l=>dt(t).activeAnalysisSection=l)},{default:ti(()=>[kt(dt(_2),{value:"add-areas"},{default:ti(()=>[kt(dt(g2),null,{default:ti(()=>a[1]||(a[1]=[Se("span",null,"Add Areas",-1)])),_:1}),kt(dt(m2),null,{default:ti(()=>[kt(Kae)]),_:1})]),_:1}),dt(t).activeWorkspaceAreas.length>0?(ge(),Vt(dt(_2),{key:0,value:"results"},{default:ti(()=>[kt(dt(g2),null,{default:ti(()=>a[2]||(a[2]=[Ei("Analysis Results")])),_:1}),kt(dt(m2),null,{default:ti(()=>[kt(Cce)]),_:1})]),_:1})):Zt("",!0)]),_:1},8,["value"])]))}}),Hce={class:"metadata-content"},qce=["innerHTML"],Wce=to({__name:"TheMetadataModal",setup(e){const t=mo(),i=Li(()=>t.activeMetadataContent);return(a,l)=>(ge(),Vt(dt(Jp),{visible:dt(t).showMetadataModal,"onUpdate:visible":l[0]||(l[0]=c=>dt(t).showMetadataModal=c),modal:"",header:i.value.title,class:"metadata-dialog",style:{"max-width":"700px"}},{default:ti(()=>[Se("div",Hce,[Se("div",{innerHTML:i.value.description,class:"metadata-description"},null,8,qce)])]),_:1},8,["visible","header"]))}}),Kce={id:"map-summary-nav",class:"map-summary-nav"},Zce={id:"summary-section",class:"summary-section"},Qce={key:0},Xce={key:1},Jce=to({__name:"TheMapViewInfoPane",setup(e){const t=mo(),i=a=>{t.activeMapSection=a};return(a,l)=>(ge(),Je(Ri,null,[Se("nav",Kce,[Se("button",{class:Ii({active:dt(t).activeMapSection=="explore"}),onClick:l[0]||(l[0]=c=>i("explore"))},l[2]||(l[2]=[Se("i",{class:"fa-solid fa-telescope nav-icon"},null,-1),Ei(" Explore ")]),2),Se("button",{class:Ii({active:dt(t).activeMapSection=="analyze"}),onClick:l[1]||(l[1]=c=>i("analyze"))},l[3]||(l[3]=[Se("i",{class:"fa-solid fa-chart-simple nav-icon"},null,-1),Ei(" Analyze ")]),2)]),Se("div",Zce,[dt(t).activeMapSection=="explore"?(ge(),Je("div",Qce,[kt(Tae)])):Zt("",!0),dt(t).activeMapSection=="analyze"?(ge(),Je("div",Xce,[kt(Gce)])):Zt("",!0)])],64))}}),Yce=Vo(Jce,[["__scopeId","data-v-5d823bdc"]]),ele={class:"grid-container max-width"},HE=to({name:"MapSummaryView",__name:"MapView",setup(e){wr();const t=mo();vr();const i=Li(()=>(t.activeMapSection==="explore","calc(100vh - 90px)")),a=Li(()=>(t.activeMapSection==="explore","calc(100vh - 80px)")),l=Li(()=>(t.activeMapSection==="explore","col-12 col-6-sm col-6-md col-6-lg col-7-xl")),c=Li(()=>(t.activeMapSection==="explore","col-12 col-6-sm col-6-md col-6-lg col-5-xl"));return(y,n)=>(ge(),Je("main",ele,[Se("div",{class:Ii(l.value)},[Se("div",{id:"map-wrapper",style:Mr({height:i.value})},[(ge(),Vt(o6,null,[kt(Ite)],1024))],4)],2),Se("div",{class:Ii([c.value,"info-pane-wrapper"])},[Se("div",{id:"info-pane",class:"info-pane",style:Mr({height:a.value})},[kt(Yce),kt(Wce)],4)],2)]))}}),F1=MV({history:dV("/"),routes:[{path:"/",name:"home",component:HE,beforeEnter:(e,t,i)=>{const a=wr(),l=mo(),c=fc();a.map&&(console.log("make null"),c.activeArea=null,l.activeMapSection="explore",a.map.setZoom(3.4),a.map.setCenter([-98.5795,39.8283])),i()}},{path:"/map",name:"map",component:HE},{path:"/about",name:"about",component:()=>hJ(()=>import("./AboutView-BqpaGI0e.js"),[])}]}),JI=cD(),o_=oD(lJ);o_.use(JI);o_.use(F1);o_.use(fB,{theme:{preset:Hj,options:{darkModeSelector:"none"}}});o_.directive("tooltip",Fz);JI.use(Az);o_.mount("#app");export{Vo as _,Se as a,Je as c,ge as o};
